{
  "version": 3,
  "sources": ["../../../node_modules/@popperjs/core/lib/enums.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getWindow.js", "../../../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js", "../../../node_modules/@popperjs/core/lib/modifiers/applyStyles.js", "../../../node_modules/@popperjs/core/lib/utils/getBasePlacement.js", "../../../node_modules/@popperjs/core/lib/utils/math.js", "../../../node_modules/@popperjs/core/lib/utils/userAgent.js", "../../../node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js", "../../../node_modules/@popperjs/core/lib/dom-utils/contains.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js", "../../../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js", "../../../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js", "../../../node_modules/@popperjs/core/lib/utils/within.js", "../../../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js", "../../../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js", "../../../node_modules/@popperjs/core/lib/utils/expandToHashMap.js", "../../../node_modules/@popperjs/core/lib/modifiers/arrow.js", "../../../node_modules/@popperjs/core/lib/utils/getVariation.js", "../../../node_modules/@popperjs/core/lib/modifiers/computeStyles.js", "../../../node_modules/@popperjs/core/lib/modifiers/eventListeners.js", "../../../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js", "../../../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js", "../../../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js", "../../../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js", "../../../node_modules/@popperjs/core/lib/utils/rectToClientRect.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js", "../../../node_modules/@popperjs/core/lib/utils/computeOffsets.js", "../../../node_modules/@popperjs/core/lib/utils/detectOverflow.js", "../../../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js", "../../../node_modules/@popperjs/core/lib/modifiers/flip.js", "../../../node_modules/@popperjs/core/lib/modifiers/hide.js", "../../../node_modules/@popperjs/core/lib/modifiers/offset.js", "../../../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js", "../../../node_modules/@popperjs/core/lib/utils/getAltAxis.js", "../../../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js", "../../../node_modules/@popperjs/core/lib/modifiers/index.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js", "../../../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js", "../../../node_modules/@popperjs/core/lib/utils/orderModifiers.js", "../../../node_modules/@popperjs/core/lib/utils/debounce.js", "../../../node_modules/@popperjs/core/lib/utils/mergeByName.js", "../../../node_modules/@popperjs/core/lib/createPopper.js", "../../../node_modules/@popperjs/core/lib/popper-lite.js", "../../../node_modules/@popperjs/core/lib/popper.js", "../../../node_modules/@popperjs/core/lib/index.js", "../../../node_modules/@eonasdan/tempus-dominus/dist/plugins/fa-five.js", "../../../node_modules/dayjs/dayjs.min.js", "../../../node_modules/dayjs/plugin/customParseFormat.js", "../../../node_modules/@eonasdan/tempus-dominus/dist/plugins/customDateFormat.js", "../../../node_modules/namespace-emitter/index.js", "../../../node_modules/lodash.throttle/index.js", "../../../node_modules/@transloadit/prettier-bytes/prettierBytes.js", "../../../node_modules/wildcard/index.js", "../../../node_modules/mime-match/index.js", "../../../node_modules/@uppy/compressor/node_modules/@transloadit/prettier-bytes/src/prettierBytes.ts", "../../../node_modules/compressorjs/dist/compressor.js", "../../../node_modules/jquery/dist/jquery.js", "../../../node_modules/select2/dist/js/select2.js", "../../../node_modules/pluralize/pluralize.js", "../../../node_modules/jstimezonedetect/dist/jstz.min.js", "../../../node_modules/@rails/actioncable/src/adapters.js", "../../../node_modules/@rails/actioncable/src/logger.js", "../../../node_modules/@rails/actioncable/src/connection_monitor.js", "../../../node_modules/@rails/actioncable/src/internal.js", "../../../node_modules/@rails/actioncable/src/connection.js", "../../../node_modules/@rails/actioncable/src/subscription.js", "../../../node_modules/@rails/actioncable/src/subscription_guarantor.js", "../../../node_modules/@rails/actioncable/src/subscriptions.js", "../../../node_modules/@rails/actioncable/src/consumer.js", "../../../node_modules/@rails/actioncable/src/index.js", "../../../node_modules/@hotwired/stimulus/dist/stimulus.js", "../../javascript/controllers/application.js", "../../javascript/controllers/copy_controller.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/enums.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getWindow.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/applyStyles.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getBasePlacement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/math.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/userAgent.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/contains.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/within.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/expandToHashMap.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/arrow.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getVariation.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/computeStyles.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/eventListeners.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/rectToClientRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/computeOffsets.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/detectOverflow.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/flip.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/hide.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/offset.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/getAltAxis.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/orderModifiers.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/debounce.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/format.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/validateModifiers.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/uniqueBy.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/utils/mergeByName.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/createPopper.js", "../../../node_modules/tippy.js/node_modules/@popperjs/core/lib/popper.js", "../../../node_modules/tippy.js/src/constants.ts", "../../../node_modules/tippy.js/src/utils.ts", "../../../node_modules/tippy.js/src/dom-utils.ts", "../../../node_modules/tippy.js/src/bindGlobalEventListeners.ts", "../../../node_modules/tippy.js/src/browser.ts", "../../../node_modules/tippy.js/src/validation.ts", "../../../node_modules/tippy.js/src/props.ts", "../../../node_modules/tippy.js/src/template.ts", "../../../node_modules/tippy.js/src/createTippy.ts", "../../../node_modules/tippy.js/src/index.ts", "../../../node_modules/tippy.js/src/addons/createSingleton.ts", "../../../node_modules/tippy.js/src/addons/delegate.ts", "../../../node_modules/tippy.js/src/plugins/animateFill.ts", "../../../node_modules/tippy.js/src/plugins/followCursor.ts", "../../../node_modules/tippy.js/src/plugins/inlinePositioning.ts", "../../../node_modules/tippy.js/src/plugins/sticky.ts", "../../../node_modules/tippy.js/build/base.js", "../../javascript/controllers/datepicker_controller.js", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/errors.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/namespace.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/default-format-localization.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/datetime.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/service-locator.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/calendar-modes.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/optionsStore.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/validation.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/event-emitter.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/default-options.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/typeChecker.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/optionProcessor.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/optionConverter.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/dates.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/utilities/action-types.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/calendar/date-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/calendar/month-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/calendar/year-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/calendar/decade-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/time/time-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/time/hour-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/time/minute-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/time/second-display.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/collapse.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/display/index.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/actions.ts", "../../../node_modules/@eonasdan/tempus-dominus/src/js/tempus-dominus.ts", "../../javascript/controllers/filter_controller.js", "../../javascript/controllers/form_controller.js", "../../javascript/controllers/menu_controller.js", "../../javascript/controllers/modal_controller.js", "../../javascript/controllers/multi_upload_controller.js", "../../../node_modules/@uppy/utils/lib/hasProperty.js", "../../../node_modules/@uppy/utils/lib/Translator.js", "../../../node_modules/@uppy/core/lib/Uppy.js", "../../../node_modules/nanoid/non-secure/index.js", "../../../node_modules/@uppy/store-default/lib/index.js", "../../../node_modules/@uppy/utils/lib/getFileNameAndExtension.js", "../../../node_modules/@uppy/utils/lib/mimeTypes.js", "../../../node_modules/@uppy/utils/lib/getFileType.js", "../../../node_modules/@uppy/utils/lib/generateFileID.js", "../../../node_modules/@uppy/core/lib/supportsUploadProgress.js", "../../../node_modules/@uppy/core/lib/getFileName.js", "../../../node_modules/@uppy/utils/lib/getTimeStamp.js", "../../../node_modules/@uppy/core/lib/loggers.js", "../../../node_modules/@uppy/core/lib/Restricter.js", "../../../node_modules/@uppy/core/lib/locale.js", "../../../node_modules/preact/src/util.js", "../../../node_modules/preact/src/options.js", "../../../node_modules/preact/src/create-element.js", "../../../node_modules/preact/src/diff/props.js", "../../../node_modules/preact/src/component.js", "../../../node_modules/preact/src/create-context.js", "../../../node_modules/preact/src/constants.js", "../../../node_modules/preact/src/diff/children.js", "../../../node_modules/preact/src/diff/index.js", "../../../node_modules/preact/src/render.js", "../../../node_modules/preact/src/clone-element.js", "../../../node_modules/preact/src/diff/catch-error.js", "../../../node_modules/@uppy/utils/lib/isDOMElement.js", "../../../node_modules/@uppy/utils/lib/findDOMElement.js", "../../../node_modules/@uppy/utils/lib/getTextDirection.js", "../../../node_modules/@uppy/core/lib/BasePlugin.js", "../../../node_modules/@uppy/core/lib/UIPlugin.js", "../../../node_modules/@uppy/drag-drop/node_modules/@uppy/utils/lib/toArray.js", "../../../node_modules/@uppy/drag-drop/node_modules/@uppy/utils/lib/isDragDropSupported.js", "../../../node_modules/@uppy/drag-drop/node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js", "../../../node_modules/@uppy/drag-drop/node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js", "../../../node_modules/@uppy/drag-drop/node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js", "../../../node_modules/@uppy/drag-drop/node_modules/@uppy/utils/lib/getDroppedFiles/index.js", "../../../node_modules/@uppy/drag-drop/lib/locale.js", "../../../node_modules/@uppy/drag-drop/lib/DragDrop.js", "../../../node_modules/@uppy/informer/lib/FadeIn.js", "../../../node_modules/@uppy/informer/lib/TransitionGroup.js", "../../../node_modules/@uppy/informer/lib/Informer.js", "../../../node_modules/@uppy/utils/lib/RateLimitedQueue.js", "../../../node_modules/@uppy/utils/lib/NetworkError.js", "../../../node_modules/@uppy/utils/lib/fetchWithNetworkError.js", "../../../node_modules/@uppy/utils/lib/ErrorWithCause.js", "../../../node_modules/@uppy/companion-client/lib/AuthError.js", "../../../node_modules/@uppy/companion-client/lib/RequestClient.js", "../../../node_modules/@uppy/companion-client/lib/tokenStorage.js", "../../../node_modules/@uppy/companion-client/lib/Provider.js", "../../../node_modules/@uppy/companion-client/lib/Socket.js", "../../../node_modules/@uppy/utils/lib/emitSocketProgress.js", "../../../node_modules/@uppy/utils/lib/getSocketHost.js", "../../../node_modules/@uppy/utils/lib/EventTracker.js", "../../../node_modules/@uppy/utils/lib/ProgressTimeout.js", "../../../node_modules/@uppy/utils/lib/isNetworkError.js", "../../../node_modules/@uppy/aws-s3/lib/MiniXHRUpload.js", "../../../node_modules/@uppy/aws-s3/lib/isXml.js", "../../../node_modules/@uppy/aws-s3/lib/locale.js", "../../../node_modules/@uppy/aws-s3/lib/index.js", "../../../node_modules/@uppy/compressor/node_modules/@uppy/utils/lib/RateLimitedQueue.js", "../../../node_modules/@uppy/compressor/node_modules/@uppy/utils/lib/getFileNameAndExtension.js", "../../../node_modules/@uppy/compressor/lib/index.js", "../../../node_modules/@uppy/compressor/lib/locale.js", "../../../node_modules/@uppy/utils/lib/dataURItoBlob.js", "../../../node_modules/@uppy/utils/lib/isObjectURL.js", "../../../node_modules/@uppy/utils/lib/isPreviewSupported.js", "../../../node_modules/exifr/dist/mini.esm.mjs", "../../../node_modules/@uppy/thumbnail-generator/lib/locale.js", "../../../node_modules/@uppy/thumbnail-generator/lib/index.js", "../../../node_modules/@sentry/core/src/utils-hoist/worldwide.ts", "../../../node_modules/@sentry/core/src/utils-hoist/debug-build.ts", "../../../node_modules/@sentry/core/src/utils-hoist/version.ts", "../../../node_modules/@sentry/core/src/carrier.ts", "../../../node_modules/@sentry/core/src/utils-hoist/logger.ts", "../../../node_modules/@sentry/core/src/utils-hoist/is.ts", "../../../node_modules/@sentry/core/src/utils-hoist/object.ts", "../../../node_modules/@sentry/core/src/utils-hoist/time.ts", "../../../node_modules/@sentry/core/src/utils-hoist/misc.ts", "../../../node_modules/@sentry/core/src/session.ts", "../../../node_modules/@sentry/core/src/utils-hoist/propagationContext.ts", "../../../node_modules/@sentry/core/src/utils/merge.ts", "../../../node_modules/@sentry/core/src/utils/spanOnScope.ts", "../../../node_modules/@sentry/core/src/scope.ts", "../../../node_modules/@sentry/core/src/defaultScopes.ts", "../../../node_modules/@sentry/core/src/asyncContext/stackStrategy.ts", "../../../node_modules/@sentry/core/src/asyncContext/index.ts", "../../../node_modules/@sentry/core/src/currentScopes.ts", "../../../node_modules/@sentry/core/src/exports.ts", "../../javascript/controllers/scroll_controller.js", "../../javascript/controllers/select2_controller.js", "../../javascript/controllers/show_hide_controller.js", "../../javascript/controllers/single_upload_controller.js", "../../javascript/controllers/slider_range_controller.js", "../../javascript/controllers/tabs_controller.js", "../../javascript/controllers/timezone_controller.js", "../../javascript/controllers/toast_controller.js", "../../javascript/controllers/tooltip_controller.js", "../../javascript/controllers/turbo_confirm_controller.js", "/Users/fabiosantos/dvl/aurelius-rails/app/javascript/controllers/**/*_controller.js", "../../javascript/controllers/index.js", "../../../node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js", "../../javascript/vendor/jquery.js", "../../javascript/vendor/cocoon.js", "../../../node_modules/trix/src/trix/config/attachments.js", "../../../node_modules/trix/src/trix/config/block_attributes.js", "../../../node_modules/trix/src/trix/config/browser.js", "../../../node_modules/trix/src/trix/config/dompurify.js", "../../../node_modules/trix/src/trix/config/lang.js", "../../../node_modules/trix/src/trix/config/file_size_formatting.js", "../../../node_modules/trix/src/trix/constants.js", "../../../node_modules/trix/src/trix/core/helpers/extend.js", "../../../node_modules/trix/src/trix/core/helpers/dom.js", "../../../node_modules/trix/src/trix/config/input.js", "../../../node_modules/trix/src/trix/config/key_names.js", "../../../node_modules/trix/src/trix/config/parser.js", "../../../node_modules/trix/src/trix/config/text_attributes.js", "../../../node_modules/trix/src/trix/config/toolbar.js", "../../../node_modules/trix/src/trix/config/undo.js", "../../../node_modules/trix/src/trix/config/css.js", "../../../node_modules/trix/src/trix/core/basic_object.js", "../../../node_modules/trix/src/trix/core/utilities/utf16_string.js", "../../../node_modules/trix/src/trix/core/object.js", "../../../node_modules/trix/src/trix/core/helpers/arrays.js", "../../../node_modules/trix/src/trix/core/helpers/bidi.js", "../../../node_modules/trix/src/trix/core/helpers/config.js", "../../../node_modules/trix/src/trix/core/helpers/custom_elements.js", "../../../node_modules/trix/src/trix/core/helpers/events.js", "../../../node_modules/trix/src/trix/core/helpers/functions.js", "../../../node_modules/trix/src/trix/core/helpers/objects.js", "../../../node_modules/trix/src/trix/core/helpers/ranges.js", "../../../node_modules/trix/src/trix/observers/selection_change_observer.js", "../../../node_modules/trix/src/trix/core/helpers/strings.js", "../../../node_modules/trix/src/trix/core/collections/hash.js", "../../../node_modules/trix/src/trix/core/collections/object_group.js", "../../../node_modules/trix/src/trix/core/collections/object_map.js", "../../../node_modules/trix/src/trix/core/collections/element_store.js", "../../../node_modules/trix/src/trix/core/utilities/operation.js", "../../../node_modules/trix/src/trix/views/object_view.js", "../../../node_modules/trix/node_modules/dompurify/dist/purify.es.mjs", "../../../node_modules/trix/src/trix/models/html_sanitizer.js", "../../../node_modules/trix/src/trix/views/attachment_view.js", "../../../node_modules/trix/src/trix/views/previewable_attachment_view.js", "../../../node_modules/trix/src/trix/views/piece_view.js", "../../../node_modules/trix/src/trix/views/text_view.js", "../../../node_modules/trix/src/trix/views/block_view.js", "../../../node_modules/trix/src/trix/views/document_view.js", "../../../node_modules/trix/src/trix/models/piece.js", "../../../node_modules/trix/src/trix/operations/image_preload_operation.js", "../../../node_modules/trix/src/trix/models/attachment.js", "../../../node_modules/trix/src/trix/models/attachment_piece.js", "../../../node_modules/trix/src/trix/models/string_piece.js", "../../../node_modules/trix/src/trix/models/splittable_list.js", "../../../node_modules/trix/src/trix/models/text.js", "../../../node_modules/trix/src/trix/models/block.js", "../../../node_modules/trix/src/trix/models/document.js", "../../../node_modules/trix/src/trix/models/html_parser.js", "../../../node_modules/trix/src/trix/core/serialization.js", "../../../node_modules/trix/src/trix/models/managed_attachment.js", "../../../node_modules/trix/src/trix/models/attachment_manager.js", "../../../node_modules/trix/src/trix/models/line_break_insertion.js", "../../../node_modules/trix/src/trix/models/composition.js", "../../../node_modules/trix/src/trix/models/undo_manager.js", "../../../node_modules/trix/src/trix/filters/filter.js", "../../../node_modules/trix/src/trix/filters/attachment_gallery_filter.js", "../../../node_modules/trix/src/trix/models/editor.js", "../../../node_modules/trix/src/trix/models/location_mapper.js", "../../../node_modules/trix/src/trix/models/point_mapper.js", "../../../node_modules/trix/src/trix/models/selection_manager.js", "../../../node_modules/trix/src/trix/controllers/attachment_editor_controller.js", "../../../node_modules/trix/src/trix/controllers/composition_controller.js", "../../../node_modules/trix/src/trix/controllers/controller.js", "../../../node_modules/trix/src/trix/observers/mutation_observer.js", "../../../node_modules/trix/src/trix/operations/file_verification_operation.js", "../../../node_modules/trix/src/trix/models/flaky_android_keyboard_detector.js", "../../../node_modules/trix/src/trix/controllers/input_controller.js", "../../../node_modules/trix/src/trix/controllers/level_0_input_controller.js", "../../../node_modules/trix/src/trix/controllers/level_2_input_controller.js", "../../../node_modules/trix/src/trix/controllers/toolbar_controller.js", "../../../node_modules/trix/src/trix/controllers/editor_controller.js", "../../../node_modules/trix/src/trix/elements/trix_toolbar_element.js", "../../../node_modules/trix/src/trix/elements/trix_editor_element.js", "../../../node_modules/trix/src/trix/trix.js"],
  "sourcesContent": ["export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];", "export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}", "export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}", "import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };", "import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};", "import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}", "export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;", "export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}", "import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}", "import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}", "import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}", "import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}", "import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}", "import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}", "import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}", "import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}", "export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}", "import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}", "export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}", "import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}", "export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}", "import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};", "export default function getVariation(placement) {\n  return placement.split('-')[1];\n}", "import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};", "import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};", "var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}", "var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}", "import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}", "import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}", "import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}", "import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}", "import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}", "import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}", "export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}", "import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}", "import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}", "import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}", "import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}", "import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases \u2013 research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};", "import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};", "import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};", "import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};", "export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}", "import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};", "export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";", "export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}", "import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}", "import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}", "export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}", "export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}", "import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update \u2013 it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update \u2013 it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";", "export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";", "/*!\n  * Tempus Dominus vv6.10.4 (https://getdatepicker.com/)\n  * Copyright 2013-2025 Jonathan Peterson\n  * Licensed under MIT (https://github.com/Eonasdan/tempus-dominus/blob/master/LICENSE)\n  */\n(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports):typeof define==='function'&&define.amd?define(['exports'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f((g.tempusDominus=g.tempusDominus||{},g.tempusDominus.plugins=g.tempusDominus.plugins||{},g.tempusDominus.plugins.fa_five={})));})(this,(function(exports){'use strict';// this obviously requires the FA 6 libraries to be loaded\nconst faFiveIcons = {\n    type: 'icons',\n    time: 'fas fa-clock',\n    date: 'fas fa-calendar',\n    up: 'fas fa-arrow-up',\n    down: 'fas fa-arrow-down',\n    previous: 'fas fa-chevron-left',\n    next: 'fas fa-chevron-right',\n    today: 'fas fa-calendar-check',\n    clear: 'fas fa-trash',\n    close: 'fas fa-times',\n};\n// noinspection JSUnusedGlobalSymbols\nconst load = (_, __, tdFactory) => {\n    tdFactory.DefaultOptions.display.icons = faFiveIcons;\n};exports.faFiveIcons=faFiveIcons;exports.load=load;Object.defineProperty(exports,'__esModule',{value:true});}));", "!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));", "!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_customParseFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},t=/(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\\d/,r=/\\d\\d/,i=/\\d\\d?/,o=/\\d*[^-_:/,()\\s\\d]+/,s={},a=function(e){return(e=+e)+(e>68?1900:2e3)};var f=function(e){return function(t){this[e]=+t}},h=[/[+-]\\d\\d:?(\\d\\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if(\"Z\"===e)return 0;var t=e.match(/([+-]|\\d\\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:\"+\"===t[0]?-n:n}(e)}],u=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=s.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?\"pm\":\"PM\");return n},c={A:[o,function(e){this.afternoon=d(e,!1)}],a:[o,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\\d{3}/,function(e){this.milliseconds=+e}],s:[i,f(\"seconds\")],ss:[i,f(\"seconds\")],m:[i,f(\"minutes\")],mm:[i,f(\"minutes\")],H:[i,f(\"hours\")],h:[i,f(\"hours\")],HH:[i,f(\"hours\")],hh:[i,f(\"hours\")],D:[i,f(\"day\")],DD:[r,f(\"day\")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\\[|\\]/g,\"\")===e&&(this.day=r)}],w:[i,f(\"week\")],ww:[r,f(\"week\")],M:[i,f(\"month\")],MM:[r,f(\"month\")],MMM:[o,function(e){var t=u(\"months\"),n=(u(\"monthsShort\")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u(\"months\").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\\d+/,f(\"year\")],YY:[r,function(e){this.year=a(e)}],YYYY:[/\\d{4}/,f(\"year\")],Z:h,ZZ:h};function l(n){var r,i;r=n,i=s&&s.formats;for(var o=(n=r.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=o.length,f=0;f<a;f+=1){var h=o[f],u=c[h],d=u&&u[0],l=u&&u[1];o[f]=l?{regex:d,parser:l}:h.replace(/^\\[|\\]$/g,\"\")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=o[n];if(\"string\"==typeof i)r+=i.length;else{var s=i.regex,f=i.parser,h=e.slice(r),u=s.exec(h)[0];f.call(t,u),e=e.replace(u,\"\")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,o=e.args;this.$u=r;var a=o[1];if(\"string\"==typeof a){var f=!0===o[2],h=!0===o[3],u=f||h,d=o[2];h&&(d=o[2]),s=this.$locale(),!f&&d&&(s=n.Ls[d]),this.$d=function(e,t,n,r){try{if([\"x\",\"X\"].indexOf(t)>-1)return new Date((\"X\"===t?1e3:1)*e);var i=l(t)(e),o=i.year,s=i.month,a=i.day,f=i.hours,h=i.minutes,u=i.seconds,d=i.milliseconds,c=i.zone,m=i.week,M=new Date,Y=a||(o||s?1:M.getDate()),p=o||M.getFullYear(),v=0;o&&!s||(v=s>0?s-1:M.getMonth());var D,w=f||0,g=h||0,y=u||0,L=d||0;return c?new Date(Date.UTC(p,v,Y,w,g,y,L+60*c.offset*1e3)):n?new Date(Date.UTC(p,v,Y,w,g,y,L)):(D=new Date(p,v,Y,w,g,y,L),m&&(D=r(D).week(m).toDate()),D)}catch(e){return new Date(\"\")}}(t,a,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date(\"\")),s={}}else if(a instanceof Array)for(var c=a.length,m=1;m<=c;m+=1){o[1]=a[m-1];var M=n.apply(this,o);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===c&&(this.$d=new Date(\"\"))}else i.call(this,e)}}}));", "/*!\n  * Tempus Dominus vv6.10.4 (https://getdatepicker.com/)\n  * Copyright 2013-2025 Jonathan Peterson\n  * Licensed under MIT (https://github.com/Eonasdan/tempus-dominus/blob/master/LICENSE)\n  */\n(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?module.exports=f():typeof define==='function'&&define.amd?define(f):(g=typeof globalThis!=='undefined'?globalThis:g||self,(g.tempusDominus=g.tempusDominus||{},g.tempusDominus.plugins=g.tempusDominus.plugins||{},g.tempusDominus.plugins.customDateFormat=f()));})(this,(function(){'use strict';var index = () => {\n    console.warn('This plugin has been merged with the main picker and is now longer required');\n};return index;}));", "/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event \u2013 the name of the event, with optional namespace\n  * @param {...*} data \u2013 up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn] \u2013 the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n", "// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError(`Expected a number, got ${typeof num}`)\n  }\n\n  const neg = num < 0\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`\n  }\n\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  const unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`\n  }\n  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`\n}\n", "/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n", "var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n", "// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nexport = function prettierBytes(num: number): string {\n  if (typeof num !== 'number' || Number.isNaN(num)) {\n    throw new TypeError(`Expected a number, got ${typeof num}`)\n  }\n\n  const neg = num < 0\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`\n  }\n\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / 1024 ** exponent)\n  const unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`\n  }\n\n  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`\n}\n", "/*!\n * Compressor.js v1.2.1\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-02-28T14:09:41.732Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Compressor = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n    return target;\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _extends() {\n    _extends = Object.assign ? Object.assign.bind() : function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return _extends.apply(this, arguments);\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  var canvasToBlob = {exports: {}};\n\n  /*\n   * JavaScript Canvas to Blob\n   * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n   *\n   * Copyright 2012, Sebastian Tschan\n   * https://blueimp.net\n   *\n   * Licensed under the MIT license:\n   * https://opensource.org/licenses/MIT\n   *\n   * Based on stackoverflow user Stoive's code snippet:\n   * http://stackoverflow.com/q/4998908\n   */\n  (function (module) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n    (function (window) {\n\n      var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n      var hasBlobConstructor = window.Blob && function () {\n        try {\n          return Boolean(new Blob());\n        } catch (e) {\n          return false;\n        }\n      }();\n      var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n        try {\n          return new Blob([new Uint8Array(100)]).size === 100;\n        } catch (e) {\n          return false;\n        }\n      }();\n      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n      var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n      var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n        var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;\n        // Parse the dataURI components as per RFC 2397\n        matches = dataURI.match(dataURIPattern);\n        if (!matches) {\n          throw new Error('invalid data URI');\n        }\n        // Default to text/plain;charset=US-ASCII\n        mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n        isBase64 = !!matches[4];\n        dataString = dataURI.slice(matches[0].length);\n        if (isBase64) {\n          // Convert base64 to raw binary data held in a string:\n          byteString = atob(dataString);\n        } else {\n          // Convert base64/URLEncoded data component to raw binary:\n          byteString = decodeURIComponent(dataString);\n        }\n        // Write the bytes of the string to an ArrayBuffer:\n        arrayBuffer = new ArrayBuffer(byteString.length);\n        intArray = new Uint8Array(arrayBuffer);\n        for (i = 0; i < byteString.length; i += 1) {\n          intArray[i] = byteString.charCodeAt(i);\n        }\n        // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n        if (hasBlobConstructor) {\n          return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n            type: mediaType\n          });\n        }\n        bb = new BlobBuilder();\n        bb.append(arrayBuffer);\n        return bb.getBlob(mediaType);\n      };\n      if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n        if (CanvasPrototype.mozGetAsFile) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.mozGetAsFile('blob', type));\n              }\n            });\n          };\n        } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n          if (CanvasPrototype.msToBlob) {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n              var self = this;\n              setTimeout(function () {\n                if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                  callback(dataURLtoBlob(self.toDataURL(type, quality)));\n                } else {\n                  callback(self.msToBlob(type));\n                }\n              });\n            };\n          } else {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n              var self = this;\n              setTimeout(function () {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              });\n            };\n          }\n        }\n      }\n      if (module.exports) {\n        module.exports = dataURLtoBlob;\n      } else {\n        window.dataURLtoBlob = dataURLtoBlob;\n      }\n    })(window);\n  })(canvasToBlob);\n  var toBlob = canvasToBlob.exports;\n\n  var isBlob = function isBlob(value) {\n    if (typeof Blob === 'undefined') {\n      return false;\n    }\n    return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n  };\n\n  var DEFAULTS = {\n    /**\n     * Indicates if output the original image instead of the compressed one\n     * when the size of the compressed image is greater than the original one's\n     * @type {boolean}\n     */\n    strict: true,\n    /**\n     * Indicates if read the image's Exif Orientation information,\n     * and then rotate or flip the image automatically.\n     * @type {boolean}\n     */\n    checkOrientation: true,\n    /**\n     * Indicates if retain the image's Exif information after compressed.\n     * @type {boolean}\n    */\n    retainExif: false,\n    /**\n     * The max width of the output image.\n     * @type {number}\n     */\n    maxWidth: Infinity,\n    /**\n     * The max height of the output image.\n     * @type {number}\n     */\n    maxHeight: Infinity,\n    /**\n     * The min width of the output image.\n     * @type {number}\n     */\n    minWidth: 0,\n    /**\n     * The min height of the output image.\n     * @type {number}\n     */\n    minHeight: 0,\n    /**\n     * The width of the output image.\n     * If not specified, the natural width of the source image will be used.\n     * @type {number}\n     */\n    width: undefined,\n    /**\n     * The height of the output image.\n     * If not specified, the natural height of the source image will be used.\n     * @type {number}\n     */\n    height: undefined,\n    /**\n     * Sets how the size of the image should be resized to the container\n     * specified by the `width` and `height` options.\n     * @type {string}\n     */\n    resize: 'none',\n    /**\n     * The quality of the output image.\n     * It must be a number between `0` and `1`,\n     * and only available for `image/jpeg` and `image/webp` images.\n     * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n     * @type {number}\n     */\n    quality: 0.8,\n    /**\n     * The mime type of the output image.\n     * By default, the original mime type of the source image file will be used.\n     * @type {string}\n     */\n    mimeType: 'auto',\n    /**\n     * Files whose file type is included in this list,\n     * and whose file size exceeds the `convertSize` value will be converted to JPEGs.\n     * @type {string\uFF5CArray}\n     */\n    convertTypes: ['image/png'],\n    /**\n     * PNG files over this size (5 MB by default) will be converted to JPEGs.\n     * To disable this, just set the value to `Infinity`.\n     * @type {number}\n     */\n    convertSize: 5000000,\n    /**\n     * The hook function to execute before draw the image into the canvas for compression.\n     * @type {Function}\n     * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n     * @param {HTMLCanvasElement} canvas - The canvas for compression.\n     * @example\n     * function (context, canvas) {\n     *   context.fillStyle = '#fff';\n     * }\n     */\n    beforeDraw: null,\n    /**\n     * The hook function to execute after drew the image into the canvas for compression.\n     * @type {Function}\n     * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n     * @param {HTMLCanvasElement} canvas - The canvas for compression.\n     * @example\n     * function (context, canvas) {\n     *   context.filter = 'grayscale(100%)';\n     * }\n     */\n    drew: null,\n    /**\n     * The hook function to execute when success to compress the image.\n     * @type {Function}\n     * @param {File} file - The compressed image File object.\n     * @example\n     * function (file) {\n     *   console.log(file);\n     * }\n     */\n    success: null,\n    /**\n     * The hook function to execute when fail to compress the image.\n     * @type {Function}\n     * @param {Error} err - An Error object.\n     * @example\n     * function (err) {\n     *   console.log(err.message);\n     * }\n     */\n    error: null\n  };\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  var slice = Array.prototype.slice;\n\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  var REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n\n  /**\n   * Check if the given value is a mime type of image.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n   */\n  function isImageType(value) {\n    return REGEXP_IMAGE_TYPE.test(value);\n  }\n\n  /**\n   * Convert image type to extension.\n   * @param {string} value - The image type to convert.\n   * @returns {boolean} Returns the image extension.\n   */\n  function imageTypeToExtension(value) {\n    var extension = isImageType(value) ? value.substr(6) : '';\n    if (extension === 'jpeg') {\n      extension = 'jpg';\n    }\n    return \".\".concat(extension);\n  }\n  var fromCharCode = String.fromCharCode;\n\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    var i;\n    length += start;\n    for (i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n    return str;\n  }\n  var btoa = WINDOW.btoa;\n\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = [];\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation;\n\n    // Ignores range error when the image does not have correct Exif information\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart;\n\n      // Only handle JPEG image (start by 0xFFD8)\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n          offset += 1;\n        }\n      }\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n          if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n            if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n              var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n              if (firstIFDOffset >= 0x00000008) {\n                ifdStart = tiffOffset + firstIFDOffset;\n              }\n            }\n          }\n        }\n      }\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n        var _offset;\n        var i;\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n            // 8 is the offset of the current tag's value\n            _offset += 8;\n\n            // Get the original orientation value\n            orientation = dataView.getUint16(_offset, littleEndian);\n\n            // Override the orientation with its default value\n            dataView.setUint16(_offset, 1, littleEndian);\n            break;\n          }\n        }\n      }\n    } catch (e) {\n      orientation = 1;\n    }\n    return orientation;\n  }\n\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n\n      // Rotate left 180\u00B0\n      case 3:\n        rotate = -180;\n        break;\n\n      // Flip vertical\n      case 4:\n        scaleY = -1;\n        break;\n\n      // Flip vertical and rotate right 90\u00B0\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n\n      // Rotate right 90\u00B0\n      case 6:\n        rotate = 90;\n        break;\n\n      // Flip horizontal and rotate right 90\u00B0\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n\n      // Rotate left 90\u00B0\n      case 8:\n        rotate = -90;\n        break;\n    }\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n  function getAdjustedSizes(_ref) {\n    var aspectRatio = _ref.aspectRatio,\n      height = _ref.height,\n      width = _ref.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n      if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n    return {\n      width: width,\n      height: height\n    };\n  }\n\n  /**\n   * Get Exif information from the given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {Array} The read Exif information.\n   */\n  function getExif(arrayBuffer) {\n    var array = toArray(new Uint8Array(arrayBuffer));\n    var length = array.length;\n    var segments = [];\n    var start = 0;\n    while (start + 3 < length) {\n      var value = array[start];\n      var next = array[start + 1];\n\n      // SOS (Start of Scan)\n      if (value === 0xFF && next === 0xDA) {\n        break;\n      }\n\n      // SOI (Start of Image)\n      if (value === 0xFF && next === 0xD8) {\n        start += 2;\n      } else {\n        var offset = array[start + 2] * 256 + array[start + 3];\n        var end = start + offset + 2;\n        var segment = array.slice(start, end);\n        segments.push(segment);\n        start = end;\n      }\n    }\n    return segments.reduce(function (exifArray, current) {\n      if (current[0] === 0xFF && current[1] === 0xE1) {\n        return exifArray.concat(current);\n      }\n      return exifArray;\n    }, []);\n  }\n\n  /**\n   * Insert Exif information into the given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {Array} exifArray - The Exif information to insert.\n   * @returns {ArrayBuffer} The transformed array buffer.\n   */\n  function insertExif(arrayBuffer, exifArray) {\n    var array = toArray(new Uint8Array(arrayBuffer));\n    if (array[2] !== 0xFF || array[3] !== 0xE0) {\n      return arrayBuffer;\n    }\n    var app0Length = array[4] * 256 + array[5];\n    var newArrayBuffer = [0xFF, 0xD8].concat(exifArray, array.slice(4 + app0Length));\n    return new Uint8Array(newArrayBuffer);\n  }\n\n  var ArrayBuffer$1 = WINDOW.ArrayBuffer,\n    FileReader = WINDOW.FileReader;\n  var URL = WINDOW.URL || WINDOW.webkitURL;\n  var REGEXP_EXTENSION = /\\.\\w+$/;\n  var AnotherCompressor = WINDOW.Compressor;\n\n  /**\n   * Creates a new image compressor.\n   * @class\n   */\n  var Compressor = /*#__PURE__*/function () {\n    /**\n     * The constructor of Compressor.\n     * @param {File|Blob} file - The target image file for compressing.\n     * @param {Object} [options] - The options for compressing.\n     */\n    function Compressor(file, options) {\n      _classCallCheck(this, Compressor);\n      this.file = file;\n      this.exif = [];\n      this.image = new Image();\n      this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n      this.aborted = false;\n      this.result = null;\n      this.init();\n    }\n    _createClass(Compressor, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var file = this.file,\n          options = this.options;\n        if (!isBlob(file)) {\n          this.fail(new Error('The first argument must be a File or Blob object.'));\n          return;\n        }\n        var mimeType = file.type;\n        if (!isImageType(mimeType)) {\n          this.fail(new Error('The first argument must be an image File or Blob object.'));\n          return;\n        }\n        if (!URL || !FileReader) {\n          this.fail(new Error('The current browser does not support image compression.'));\n          return;\n        }\n        if (!ArrayBuffer$1) {\n          options.checkOrientation = false;\n          options.retainExif = false;\n        }\n        var isJPEGImage = mimeType === 'image/jpeg';\n        var checkOrientation = isJPEGImage && options.checkOrientation;\n        var retainExif = isJPEGImage && options.retainExif;\n        if (URL && !checkOrientation && !retainExif) {\n          this.load({\n            url: URL.createObjectURL(file)\n          });\n        } else {\n          var reader = new FileReader();\n          this.reader = reader;\n          reader.onload = function (_ref) {\n            var target = _ref.target;\n            var result = target.result;\n            var data = {};\n            var orientation = 1;\n            if (checkOrientation) {\n              // Reset the orientation value to its default value 1\n              // as some iOS browsers will render image with its orientation\n              orientation = resetAndGetOrientation(result);\n              if (orientation > 1) {\n                _extends(data, parseOrientation(orientation));\n              }\n            }\n            if (retainExif) {\n              _this.exif = getExif(result);\n            }\n            if (checkOrientation || retainExif) {\n              if (!URL\n\n              // Generate a new URL with the default orientation value 1.\n              || orientation > 1) {\n                data.url = arrayBufferToDataURL(result, mimeType);\n              } else {\n                data.url = URL.createObjectURL(file);\n              }\n            } else {\n              data.url = result;\n            }\n            _this.load(data);\n          };\n          reader.onabort = function () {\n            _this.fail(new Error('Aborted to read the image with FileReader.'));\n          };\n          reader.onerror = function () {\n            _this.fail(new Error('Failed to read the image with FileReader.'));\n          };\n          reader.onloadend = function () {\n            _this.reader = null;\n          };\n          if (checkOrientation || retainExif) {\n            reader.readAsArrayBuffer(file);\n          } else {\n            reader.readAsDataURL(file);\n          }\n        }\n      }\n    }, {\n      key: \"load\",\n      value: function load(data) {\n        var _this2 = this;\n        var file = this.file,\n          image = this.image;\n        image.onload = function () {\n          _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n            naturalWidth: image.naturalWidth,\n            naturalHeight: image.naturalHeight\n          }));\n        };\n        image.onabort = function () {\n          _this2.fail(new Error('Aborted to load the image.'));\n        };\n        image.onerror = function () {\n          _this2.fail(new Error('Failed to load the image.'));\n        };\n\n        // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n        if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n          // Fix the `The operation is insecure` error (#57)\n          image.crossOrigin = 'anonymous';\n        }\n        image.alt = file.name;\n        image.src = data.url;\n      }\n    }, {\n      key: \"draw\",\n      value: function draw(_ref2) {\n        var _this3 = this;\n        var naturalWidth = _ref2.naturalWidth,\n          naturalHeight = _ref2.naturalHeight,\n          _ref2$rotate = _ref2.rotate,\n          rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n          _ref2$scaleX = _ref2.scaleX,\n          scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n          _ref2$scaleY = _ref2.scaleY,\n          scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n        var file = this.file,\n          image = this.image,\n          options = this.options;\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n        var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);\n        var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n        var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n        var minWidth = Math.max(options.minWidth, 0) || 0;\n        var minHeight = Math.max(options.minHeight, 0) || 0;\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = options.width,\n          height = options.height;\n        if (is90DegreesRotated) {\n          var _ref3 = [maxHeight, maxWidth];\n          maxWidth = _ref3[0];\n          maxHeight = _ref3[1];\n          var _ref4 = [minHeight, minWidth];\n          minWidth = _ref4[0];\n          minHeight = _ref4[1];\n          var _ref5 = [height, width];\n          width = _ref5[0];\n          height = _ref5[1];\n        }\n        if (resizable) {\n          aspectRatio = width / height;\n        }\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: maxWidth,\n          height: maxHeight\n        }, 'contain');\n        maxWidth = _getAdjustedSizes.width;\n        maxHeight = _getAdjustedSizes.height;\n        var _getAdjustedSizes2 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minWidth,\n          height: minHeight\n        }, 'cover');\n        minWidth = _getAdjustedSizes2.width;\n        minHeight = _getAdjustedSizes2.height;\n        if (resizable) {\n          var _getAdjustedSizes3 = getAdjustedSizes({\n            aspectRatio: aspectRatio,\n            width: width,\n            height: height\n          }, options.resize);\n          width = _getAdjustedSizes3.width;\n          height = _getAdjustedSizes3.height;\n        } else {\n          var _getAdjustedSizes4 = getAdjustedSizes({\n            aspectRatio: aspectRatio,\n            width: width,\n            height: height\n          });\n          var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;\n          width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;\n          var _getAdjustedSizes4$he = _getAdjustedSizes4.height;\n          height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;\n        }\n        width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n        height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n        var destX = -width / 2;\n        var destY = -height / 2;\n        var destWidth = width;\n        var destHeight = height;\n        var params = [];\n        if (resizable) {\n          var srcX = 0;\n          var srcY = 0;\n          var srcWidth = naturalWidth;\n          var srcHeight = naturalHeight;\n          var _getAdjustedSizes5 = getAdjustedSizes({\n            aspectRatio: aspectRatio,\n            width: naturalWidth,\n            height: naturalHeight\n          }, {\n            contain: 'cover',\n            cover: 'contain'\n          }[options.resize]);\n          srcWidth = _getAdjustedSizes5.width;\n          srcHeight = _getAdjustedSizes5.height;\n          srcX = (naturalWidth - srcWidth) / 2;\n          srcY = (naturalHeight - srcHeight) / 2;\n          params.push(srcX, srcY, srcWidth, srcHeight);\n        }\n        params.push(destX, destY, destWidth, destHeight);\n        if (is90DegreesRotated) {\n          var _ref6 = [height, width];\n          width = _ref6[0];\n          height = _ref6[1];\n        }\n        canvas.width = width;\n        canvas.height = height;\n        if (!isImageType(options.mimeType)) {\n          options.mimeType = file.type;\n        }\n        var fillStyle = 'transparent';\n\n        // Converts PNG files over the `convertSize` to JPEGs.\n        if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {\n          options.mimeType = 'image/jpeg';\n        }\n        var isJPEGImage = options.mimeType === 'image/jpeg';\n        if (isJPEGImage) {\n          fillStyle = '#fff';\n        }\n\n        // Override the default fill color (#000, black)\n        context.fillStyle = fillStyle;\n        context.fillRect(0, 0, width, height);\n        if (options.beforeDraw) {\n          options.beforeDraw.call(this, context, canvas);\n        }\n        if (this.aborted) {\n          return;\n        }\n        context.save();\n        context.translate(width / 2, height / 2);\n        context.rotate(rotate * Math.PI / 180);\n        context.scale(scaleX, scaleY);\n        context.drawImage.apply(context, [image].concat(params));\n        context.restore();\n        if (options.drew) {\n          options.drew.call(this, context, canvas);\n        }\n        if (this.aborted) {\n          return;\n        }\n        var callback = function callback(blob) {\n          if (!_this3.aborted) {\n            var done = function done(result) {\n              return _this3.done({\n                naturalWidth: naturalWidth,\n                naturalHeight: naturalHeight,\n                result: result\n              });\n            };\n            if (blob && isJPEGImage && options.retainExif && _this3.exif && _this3.exif.length > 0) {\n              var next = function next(arrayBuffer) {\n                return done(toBlob(arrayBufferToDataURL(insertExif(arrayBuffer, _this3.exif), options.mimeType)));\n              };\n              if (blob.arrayBuffer) {\n                blob.arrayBuffer().then(next).catch(function () {\n                  _this3.fail(new Error('Failed to read the compressed image with Blob.arrayBuffer().'));\n                });\n              } else {\n                var reader = new FileReader();\n                _this3.reader = reader;\n                reader.onload = function (_ref7) {\n                  var target = _ref7.target;\n                  next(target.result);\n                };\n                reader.onabort = function () {\n                  _this3.fail(new Error('Aborted to read the compressed image with FileReader.'));\n                };\n                reader.onerror = function () {\n                  _this3.fail(new Error('Failed to read the compressed image with FileReader.'));\n                };\n                reader.onloadend = function () {\n                  _this3.reader = null;\n                };\n                reader.readAsArrayBuffer(blob);\n              }\n            } else {\n              done(blob);\n            }\n          }\n        };\n        if (canvas.toBlob) {\n          canvas.toBlob(callback, options.mimeType, options.quality);\n        } else {\n          callback(toBlob(canvas.toDataURL(options.mimeType, options.quality)));\n        }\n      }\n    }, {\n      key: \"done\",\n      value: function done(_ref8) {\n        var naturalWidth = _ref8.naturalWidth,\n          naturalHeight = _ref8.naturalHeight,\n          result = _ref8.result;\n        var file = this.file,\n          image = this.image,\n          options = this.options;\n        if (URL && image.src.indexOf('blob:') === 0) {\n          URL.revokeObjectURL(image.src);\n        }\n        if (result) {\n          // Returns original file if the result is greater than it and without size related options\n          if (options.strict && !options.retainExif && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {\n            result = file;\n          } else {\n            var date = new Date();\n            result.lastModified = date.getTime();\n            result.lastModifiedDate = date;\n            result.name = file.name;\n\n            // Convert the extension to match its type\n            if (result.name && result.type !== file.type) {\n              result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n            }\n          }\n        } else {\n          // Returns original file if the result is null in some cases.\n          result = file;\n        }\n        this.result = result;\n        if (options.success) {\n          options.success.call(this, result);\n        }\n      }\n    }, {\n      key: \"fail\",\n      value: function fail(err) {\n        var options = this.options;\n        if (options.error) {\n          options.error.call(this, err);\n        } else {\n          throw err;\n        }\n      }\n    }, {\n      key: \"abort\",\n      value: function abort() {\n        if (!this.aborted) {\n          this.aborted = true;\n          if (this.reader) {\n            this.reader.abort();\n          } else if (!this.image.complete) {\n            this.image.onload = null;\n            this.image.onabort();\n          } else {\n            this.fail(new Error('The compression process has been aborted.'));\n          }\n        }\n      }\n\n      /**\n       * Get the no conflict compressor class.\n       * @returns {Compressor} The compressor class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Compressor = AnotherCompressor;\n        return Compressor;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        _extends(DEFAULTS, options);\n      }\n    }]);\n    return Compressor;\n  }();\n\n  return Compressor;\n\n}));\n", "/*!\n * jQuery JavaScript Library v3.7.1\n * https://jquery.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2023-08-28T13:37Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar version = \"3.7.1\",\n\n\trhtmlSuffix = /HTML$/i,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\n\t// Retrieve the text value of an array of DOM nodes\n\ttext: function( elem ) {\n\t\tvar node,\n\t\t\tret = \"\",\n\t\t\ti = 0,\n\t\t\tnodeType = elem.nodeType;\n\n\t\tif ( !nodeType ) {\n\n\t\t\t// If no nodeType, this is expected to be an array\n\t\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t\t// Do not traverse comment nodes\n\t\t\t\tret += jQuery.text( node );\n\t\t\t}\n\t\t}\n\t\tif ( nodeType === 1 || nodeType === 11 ) {\n\t\t\treturn elem.textContent;\n\t\t}\n\t\tif ( nodeType === 9 ) {\n\t\t\treturn elem.documentElement.textContent;\n\t\t}\n\t\tif ( nodeType === 3 || nodeType === 4 ) {\n\t\t\treturn elem.nodeValue;\n\t\t}\n\n\t\t// Do not include comment or processing instruction nodes\n\n\t\treturn ret;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tisXMLDoc: function( elem ) {\n\t\tvar namespace = elem && elem.namespaceURI,\n\t\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t\t// Assume HTML when documentElement doesn't yet exist, such as inside\n\t\t// document fragments.\n\t\treturn !rhtmlSuffix.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar pop = arr.pop;\n\n\nvar sort = arr.sort;\n\n\nvar splice = arr.splice;\n\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n// Note: an element does not contain itself\njQuery.contains = function( a, b ) {\n\tvar bup = b && b.parentNode;\n\n\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE doesn't have `contains` on SVG.\n\t\ta.contains ?\n\t\t\ta.contains( bup ) :\n\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t) );\n};\n\n\n\n\n// CSS string/identifier serialization\n// https://drafts.csswg.org/cssom/#common-serializing-idioms\nvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\nfunction fcssescape( ch, asCodePoint ) {\n\tif ( asCodePoint ) {\n\n\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\tif ( ch === \"\\0\" ) {\n\t\t\treturn \"\\uFFFD\";\n\t\t}\n\n\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t}\n\n\t// Other potentially-special ASCII characters get backslash-escaped\n\treturn \"\\\\\" + ch;\n}\n\njQuery.escapeSelector = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\n\n\n\nvar preferredDoc = document,\n\tpushNative = push;\n\n( function() {\n\nvar i,\n\tExpr,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\tpush = pushNative,\n\n\t// Local document vars\n\tdocument,\n\tdocumentElement,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\tmatches,\n\n\t// Instance-specific data\n\texpando = jQuery.expando,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|\" +\n\t\t\"loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trleadingCombinator = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" +\n\t\twhitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\tID: new RegExp( \"^#(\" + identifier + \")\" ),\n\t\tCLASS: new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\tTAG: new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\tATTR: new RegExp( \"^\" + attributes ),\n\t\tPSEUDO: new RegExp( \"^\" + pseudos ),\n\t\tCHILD: new RegExp(\n\t\t\t\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\tbool: new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\tneedsContext: new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// https://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\tif ( nonHex ) {\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\treturn nonHex;\n\t\t}\n\n\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t// Support: IE <=11+\n\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t// surrogate pair\n\t\treturn high < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes; see `setDocument`.\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE/Edge.\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && nodeName( elem, \"fieldset\" );\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android <=4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = {\n\t\tapply: function( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t},\n\t\tcall: function( target ) {\n\t\t\tpushNative.apply( target, slice.call( arguments, 1 ) );\n\t\t}\n\t};\n}\n\nfunction find( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tfind.contains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && context.getElementsByClassName ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( !nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rleadingCombinator.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when\n\t\t\t\t\t// strict-comparing two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( newContext != context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = jQuery.escapeSelector( nid );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrimCSS, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties\n\t\t// (see https://github.com/jquery/sizzle/issues/157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by jQuery selector module\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn nodeName( elem, \"input\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn ( nodeName( elem, \"input\" ) || nodeName( elem, \"button\" ) ) &&\n\t\t\telem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11+\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a jQuery selector context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [node] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nfunction setDocument( node ) {\n\tvar subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocumentElement = document.documentElement;\n\tdocumentIsHTML = !jQuery.isXMLDoc( document );\n\n\t// Support: iOS 7 only, IE 9 - 11+\n\t// Older browsers didn't support unprefixed `matches`.\n\tmatches = documentElement.matches ||\n\t\tdocumentElement.webkitMatchesSelector ||\n\t\tdocumentElement.msMatchesSelector;\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors\n\t// (see trac-13936).\n\t// Limit the fix to IE & Edge Legacy; despite Edge 15+ implementing `matches`,\n\t// all IE 9+ and Edge Legacy versions implement `msMatchesSelector` as well.\n\tif ( documentElement.msMatchesSelector &&\n\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tpreferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t\tsubWindow.addEventListener( \"unload\", unloadHandler );\n\t}\n\n\t// Support: IE <10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocumentElement.appendChild( el ).id = jQuery.expando;\n\t\treturn !document.getElementsByName ||\n\t\t\t!document.getElementsByName( jQuery.expando ).length;\n\t} );\n\n\t// Support: IE 9 only\n\t// Check to see if it's possible to do matchesSelector\n\t// on a disconnected node.\n\tsupport.disconnectedMatch = assert( function( el ) {\n\t\treturn matches.call( el, \"*\" );\n\t} );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// IE/Edge don't support the :scope pseudo-class.\n\tsupport.scope = assert( function() {\n\t\treturn document.querySelectorAll( \":scope\" );\n\t} );\n\n\t// Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only\n\t// Make sure the `:has()` argument is parsed unforgivingly.\n\t// We include `*` in the test to detect buggy implementations that are\n\t// _selectively_ forgiving (specifically when the list includes at least\n\t// one valid selector).\n\t// Note that we treat complete lack of support for `:has()` as if it were\n\t// spec-compliant support, which is fine because use of `:has()` in such\n\t// environments will fail in the qSA path and fall back to jQuery traversal\n\t// anyway.\n\tsupport.cssHas = assert( function() {\n\t\ttry {\n\t\t\tdocument.querySelector( \":has(*,:jqfake)\" );\n\t\t\treturn false;\n\t\t} catch ( e ) {\n\t\t\treturn true;\n\t\t}\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter.ID = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter.ID =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find.TAG = function( tag, context ) {\n\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t// DocumentFragment nodes don't have gEBTN\n\t\t} else {\n\t\t\treturn context.querySelectorAll( tag );\n\t\t}\n\t};\n\n\t// Class\n\tExpr.find.CLASS = function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\trbuggyQSA = [];\n\n\t// Build QSA regex\n\t// Regex strategy adopted from Diego Perini\n\tassert( function( el ) {\n\n\t\tvar input;\n\n\t\tdocumentElement.appendChild( el ).innerHTML =\n\t\t\t\"<a id='\" + expando + \"' href='' disabled='disabled'></a>\" +\n\t\t\t\"<select id='\" + expando + \"-\\r\\\\' disabled='disabled'>\" +\n\t\t\t\"<option selected=''></option></select>\";\n\n\t\t// Support: iOS <=7 - 8 only\n\t\t// Boolean attributes and \"value\" are not treated correctly in some XML documents\n\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t}\n\n\t\t// Support: iOS <=7 - 8 only\n\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\trbuggyQSA.push( \"~=\" );\n\t\t}\n\n\t\t// Support: iOS 8 only\n\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t}\n\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\trbuggyQSA.push( \":checked\" );\n\t\t}\n\n\t\t// Support: Windows 8 Native Apps\n\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tdocumentElement.appendChild( el ).disabled = true;\n\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t}\n\n\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t// Adding a temporary attribute to the document before the selection works\n\t\t// around the issue.\n\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"name\", \"\" );\n\t\tel.appendChild( input );\n\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t}\n\t} );\n\n\tif ( !support.cssHas ) {\n\n\t\t// Support: Chrome 105 - 110+, Safari 15.4 - 16.3+\n\t\t// Our regular `try-catch` mechanism fails to detect natively-unsupported\n\t\t// pseudo-classes inside `:has()` (such as `:has(:contains(\"Foo\"))`)\n\t\t// in browsers that parse the `:has()` argument as a forgiving selector list.\n\t\t// https://drafts.csswg.org/selectors/#relational now requires the argument\n\t\t// to be parsed unforgivingly, but browsers have not yet fully adjusted.\n\t\trbuggyQSA.push( \":has\" );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = function( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a === document || a.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b === document || b.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t};\n\n\treturn document;\n}\n\nfind.matches = function( expr, elements ) {\n\treturn find( expr, null, null, elements );\n};\n\nfind.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn find( expr, document, null, [ elem ] ).length > 0;\n};\n\nfind.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn jQuery.contains( context, elem );\n};\n\n\nfind.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (see trac-13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\tif ( val !== undefined ) {\n\t\treturn val;\n\t}\n\n\treturn elem.getAttribute( name );\n};\n\nfind.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\njQuery.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\t//\n\t// Support: Android <=4.0+\n\t// Testing for detecting duplicates is unpredictable so instead assume we can't\n\t// depend on duplicate detection in all browsers without a stable sort.\n\thasDuplicate = !support.sortStable;\n\tsortInput = !support.sortStable && slice.call( results, 0 );\n\tsort.call( results, sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tsplice.call( results, duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\njQuery.fn.uniqueSort = function() {\n\treturn this.pushStack( jQuery.uniqueSort( slice.apply( this ) ) );\n};\n\nExpr = jQuery.expr = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\tATTR: function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] || match[ 5 ] || \"\" )\n\t\t\t\t.replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\tCHILD: function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" )\n\t\t\t\t);\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\tPSEUDO: function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr.CHILD.test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\tTAG: function( nodeNameSelector ) {\n\t\t\tvar expectedNodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn nodeName( elem, expectedNodeName );\n\t\t\t\t};\n\t\t},\n\n\t\tCLASS: function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace + \")\" + className +\n\t\t\t\t\t\"(\" + whitespace + \"|$)\" ) ) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\tATTR: function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = find.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\tif ( operator === \"=\" ) {\n\t\t\t\t\treturn result === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"!=\" ) {\n\t\t\t\t\treturn result !== check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"^=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) === 0;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"*=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"$=\" ) {\n\t\t\t\t\treturn check && result.slice( -check.length ) === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"~=\" ) {\n\t\t\t\t\treturn ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" )\n\t\t\t\t\t\t.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"|=\" ) {\n\t\t\t\t\treturn result === check || result.slice( 0, check.length + 1 ) === check + \"-\";\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t},\n\n\t\tCHILD: function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || ( parent[ expando ] = {} );\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\t\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\t\t\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\tPSEUDO: function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// https://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tfind.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as jQuery does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\tnot: markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrimCSS, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element\n\t\t\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\thas: markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn find( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\tcontains: markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || jQuery.text( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// https://www.w3.org/TR/selectors/#lang-pseudo\n\t\tlang: markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tfind.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\ttarget: function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\troot: function( elem ) {\n\t\t\treturn elem === documentElement;\n\t\t},\n\n\t\tfocus: function( elem ) {\n\t\t\treturn elem === safeActiveElement() &&\n\t\t\t\tdocument.hasFocus() &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\tenabled: createDisabledPseudo( false ),\n\t\tdisabled: createDisabledPseudo( true ),\n\n\t\tchecked: function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\treturn ( nodeName( elem, \"input\" ) && !!elem.checked ) ||\n\t\t\t\t( nodeName( elem, \"option\" ) && !!elem.selected );\n\t\t},\n\n\t\tselected: function( elem ) {\n\n\t\t\t// Support: IE <=11+\n\t\t\t// Accessing the selectedIndex property\n\t\t\t// forces the browser to treat the default option as\n\t\t\t// selected when in an optgroup.\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\tempty: function( elem ) {\n\n\t\t\t// https://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tparent: function( elem ) {\n\t\t\treturn !Expr.pseudos.empty( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\theader: function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\tinput: function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\tbutton: function( elem ) {\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"button\" ||\n\t\t\t\tnodeName( elem, \"button\" );\n\t\t},\n\n\t\ttext: function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"text\" &&\n\n\t\t\t\t// Support: IE <10 only\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear\n\t\t\t\t// with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\tfirst: createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\tlast: createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\teq: createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\teven: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\todd: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tlt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i;\n\n\t\t\tif ( argument < 0 ) {\n\t\t\t\ti = argument + length;\n\t\t\t} else if ( argument > length ) {\n\t\t\t\ti = length;\n\t\t\t} else {\n\t\t\t\ti = argument;\n\t\t\t}\n\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tgt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos.nth = Expr.pseudos.eq;\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\nfunction tokenize( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rleadingCombinator.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrimCSS, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\tif ( parseOnly ) {\n\t\treturn soFar.length;\n\t}\n\n\treturn soFar ?\n\t\tfind.error( selector ) :\n\n\t\t// Cache the tokens\n\t\ttokenCache( selector, groups ).slice( 0 );\n}\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\tif ( skip && nodeName( elem, skip ) ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = outerCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tfind( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem, matcherOut,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed ||\n\t\t\t\tmultipleContexts( selector || \"*\",\n\t\t\t\t\tcontext.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems;\n\n\t\tif ( matcher ) {\n\n\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter\n\t\t\t// or preexisting results,\n\t\t\tmatcherOut = postFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t[] :\n\n\t\t\t\t// ...otherwise use results directly\n\t\t\t\tresults;\n\n\t\t\t// Find primary matches\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t} else {\n\t\t\tmatcherOut = matcherIn;\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf.call( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tvar ret = ( !leadingRelative && ( xml || context != outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element\n\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 )\n\t\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrimCSS, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find.TAG( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: iOS <=7 - 9 only\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching\n\t\t\t// elements by id. (see trac-14142)\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tjQuery.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\nfunction compile( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n}\n\n/**\n * A low-level selection function that works with jQuery's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with jQuery selector compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nfunction select( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find.ID(\n\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\tcontext\n\t\t\t) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr.needsContext.test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) &&\n\t\t\t\t\t\ttestContext( context.parentNode ) || context\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n}\n\n// One-time assignments\n\n// Support: Android <=4.0 - 4.1+\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Android <=4.0 - 4.1+\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\njQuery.find = find;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.unique = jQuery.uniqueSort;\n\n// These have always been private, but they used to be documented as part of\n// Sizzle so let's maintain them for now for backwards compatibility purposes.\nfind.compile = compile;\nfind.select = select;\nfind.setDocument = setDocument;\nfind.tokenize = tokenize;\n\nfind.escape = jQuery.escapeSelector;\nfind.getText = jQuery.text;\nfind.isXML = jQuery.isXMLDoc;\nfind.selectors = jQuery.expr;\nfind.support = jQuery.support;\nfind.uniqueSort = jQuery.uniqueSort;\n\n\t/* eslint-enable */\n\n} )();\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to jQuery#find\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.error );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the error, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getErrorHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getErrorHook();\n\n\t\t\t\t\t\t\t\t// The deprecated alias of the above. While the name suggests\n\t\t\t\t\t\t\t\t// returning the stack, not an error instance, jQuery just passes\n\t\t\t\t\t\t\t\t// it directly to `console.warn` so both will work; an instance\n\t\t\t\t\t\t\t\t// just better cooperates with source maps.\n\t\t\t\t\t\t\t\t} else if ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\n// If `jQuery.Deferred.getErrorHook` is defined, `asyncError` is an error\n// captured before the async barrier to get the original error cause\n// which may otherwise be hidden.\njQuery.Deferred.exceptionHook = function( error, asyncError ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message,\n\t\t\terror.stack, asyncError );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", true );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, isSetup ) {\n\n\t// Missing `isSetup` indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !isSetup ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\tif ( !saved ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tdataPriv.set( this, type, false );\n\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering\n\t\t\t\t// the native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, jQuery.event.trigger(\n\t\t\t\t\tsaved[ 0 ],\n\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\tthis\n\t\t\t\t) );\n\n\t\t\t\t// Abort handling of the native event by all jQuery handlers while allowing\n\t\t\t\t// native handlers on the same element to run. On target, this is achieved\n\t\t\t\t// by stopping immediate propagation just on the jQuery event. However,\n\t\t\t\t// the native event is re-wrapped by a jQuery one on each level of the\n\t\t\t\t// propagation so the only way to stop it for jQuery is to stop it for\n\t\t\t\t// everyone via native `stopPropagation()`. This is not a problem for\n\t\t\t\t// focus/blur which don't bubble, but it does also stop click on checkboxes\n\t\t\t\t// and radios. We accept this limitation.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.isImmediatePropagationStopped = returnTrue;\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\n\tfunction focusMappedHandler( nativeEvent ) {\n\t\tif ( document.documentMode ) {\n\n\t\t\t// Support: IE 11+\n\t\t\t// Attach a single focusin/focusout handler on the document while someone wants\n\t\t\t// focus/blur. This is because the former are synchronous in IE while the latter\n\t\t\t// are async. In other browsers, all those handlers are invoked synchronously.\n\n\t\t\t// `handle` from private data would already wrap the event, but we need\n\t\t\t// to change the `type` here.\n\t\t\tvar handle = dataPriv.get( this, \"handle\" ),\n\t\t\t\tevent = jQuery.event.fix( nativeEvent );\n\t\t\tevent.type = nativeEvent.type === \"focusin\" ? \"focus\" : \"blur\";\n\t\t\tevent.isSimulated = true;\n\n\t\t\t// First, handle focusin/focusout\n\t\t\thandle( nativeEvent );\n\n\t\t\t// ...then, handle focus/blur\n\t\t\t//\n\t\t\t// focus/blur don't bubble while focusin/focusout do; simulate the former by only\n\t\t\t// invoking the handler at the lower level.\n\t\t\tif ( event.target === event.currentTarget ) {\n\n\t\t\t\t// The setup part calls `leverageNative`, which, in turn, calls\n\t\t\t\t// `jQuery.event.add`, so event handle will already have been set\n\t\t\t\t// by this point.\n\t\t\t\thandle( event );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// For non-IE browsers, attach a single capturing handler on the document\n\t\t\t// while someone wants focusin/focusout.\n\t\t\tjQuery.event.simulate( delegateType, nativeEvent.target,\n\t\t\t\tjQuery.event.fix( nativeEvent ) );\n\t\t}\n\t}\n\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\tvar attaches;\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, true );\n\n\t\t\tif ( document.documentMode ) {\n\n\t\t\t\t// Support: IE 9 - 11+\n\t\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\t\tattaches = dataPriv.get( this, delegateType );\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t}\n\t\t\t\tdataPriv.set( this, delegateType, ( attaches || 0 ) + 1 );\n\t\t\t} else {\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar attaches;\n\n\t\t\tif ( document.documentMode ) {\n\t\t\t\tattaches = dataPriv.get( this, delegateType ) - 1;\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t\tdataPriv.remove( this, delegateType );\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.set( this, delegateType, attaches );\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Return false to indicate standard teardown should be applied\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n\n\t// Support: Firefox <=44\n\t// Firefox doesn't have focus(in | out) events\n\t// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n\t//\n\t// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n\t// focus(in | out) events fire after focus & blur events,\n\t// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n\t// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\n\t//\n\t// Support: IE 9 - 11+\n\t// To preserve relative focusin/focus & focusout/blur event order guaranteed on the 3.x branch,\n\t// attach a single handler for both events in IE.\n\tjQuery.event.special[ delegateType ] = {\n\t\tsetup: function() {\n\n\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType );\n\n\t\t\t// Support: IE 9 - 11+\n\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.addEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\tdataPriv.set( dataHolder, delegateType, ( attaches || 0 ) + 1 );\n\t\t},\n\t\tteardown: function() {\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType ) - 1;\n\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.removeEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( dataHolder, delegateType );\n\t\t\t} else {\n\t\t\t\tdataPriv.set( dataHolder, delegateType, attaches );\n\t\t\t}\n\t\t}\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Re-enable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew jQuery#find here for performance reasons:\n\t\t\t// https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"box-sizing:content-box;border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is `display: block`\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\n\t\t// Support: IE <=9 - 11+\n\t\t// IE only supports `\"float\"` in `getPropertyValue`; in computed styles\n\t\t// it's only available as `\"cssFloat\"`. We no longer modify properties\n\t\t// sent to `.css()` apart from camelCasing, so we need to check both.\n\t\t// Normally, this would create difference in behavior: if\n\t\t// `getPropertyValue` returns an empty string, the value returned\n\t\t// by `.css()` would be `undefined`. This is usually the case for\n\t\t// disconnected elements. However, in IE even disconnected elements\n\t\t// with no styles return `\"none\"` for `getPropertyValue( \"float\" )`\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( isCustomProp && ret ) {\n\n\t\t\t// Support: Firefox 105+, Chrome <=105+\n\t\t\t// Spec requires trimming whitespace for custom properties (gh-4926).\n\t\t\t// Firefox only trims leading whitespace. Chrome just collapses\n\t\t\t// both leading & trailing whitespace to a single space.\n\t\t\t//\n\t\t\t// Fall back to `undefined` if empty string returned.\n\t\t\t// This collapses a missing definition with property defined\n\t\t\t// and set to an empty string but there's no standard API\n\t\t\t// allowing us to differentiate them without a performance penalty\n\t\t\t// and returning `undefined` aligns with older jQuery.\n\t\t\t//\n\t\t\t// rtrimCSS treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" ) || undefined;\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0,\n\t\tmarginDelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\t// Count margin delta separately to only add it after scroll gutter adjustment.\n\t\t// This is needed to make negative margins work with `outerHeight( true )` (gh-3982).\n\t\tif ( box === \"margin\" ) {\n\t\t\tmarginDelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta + marginDelta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\tanimationIterationCount: true,\n\t\taspectRatio: true,\n\t\tborderImageSlice: true,\n\t\tcolumnCount: true,\n\t\tflexGrow: true,\n\t\tflexShrink: true,\n\t\tfontWeight: true,\n\t\tgridArea: true,\n\t\tgridColumn: true,\n\t\tgridColumnEnd: true,\n\t\tgridColumnStart: true,\n\t\tgridRow: true,\n\t\tgridRowEnd: true,\n\t\tgridRowStart: true,\n\t\tlineHeight: true,\n\t\topacity: true,\n\t\torder: true,\n\t\torphans: true,\n\t\tscale: true,\n\t\twidows: true,\n\t\tzIndex: true,\n\t\tzoom: true,\n\n\t\t// SVG-related\n\t\tfillOpacity: true,\n\t\tfloodOpacity: true,\n\t\tstopOpacity: true,\n\t\tstrokeMiterlimit: true,\n\t\tstrokeOpacity: true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this\n\t\t\t.on( \"mouseenter\", fnOver )\n\t\t\t.on( \"mouseleave\", fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n", "/*!\n * Select2 4.1.0-rc.0\n * https://select2.github.io\n *\n * Released under the MIT license\n * https://github.com/select2/select2/blob/master/LICENSE.md\n */\n;(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = function (root, jQuery) {\n      if (jQuery === undefined) {\n        // require('jQuery') returns a factory that requires window to\n        // build a jQuery instance, we normalize how we use modules\n        // that require this pattern but the window provided is a noop\n        // if it's defined (how jquery works)\n        if (typeof window !== 'undefined') {\n          jQuery = require('jquery');\n        }\n        else {\n          jQuery = require('jquery')(root);\n        }\n      }\n      factory(jQuery);\n      return jQuery;\n    };\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n} (function (jQuery) {\n  // This is needed so we can catch the AMD loader configuration and use it\n  // The inner file should be wrapped (by `banner.start.js`) in a function that\n  // returns the AMD loader references.\n  var S2 =(function () {\n  // Restore the Select2 AMD loader so it can be used\n  // Needed mostly in the language files, where the loader is not inserted\n  if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) {\n    var S2 = jQuery.fn.select2.amd;\n  }\nvar S2;(function () { if (!S2 || !S2.requirejs) {\nif (!S2) { S2 = {}; } else { require = S2; }\n/**\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name) {\n            name = name.split('/');\n            lastIndex = name.length - 1;\n\n            // If wanting node ID compatibility, strip .js from end\n            // of IDs. Have to do this here, and not in nameToUrl\n            // because node allows either .js or non .js to map\n            // to same file.\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n            }\n\n            // Starts with a '.' so need the baseName\n            if (name[0].charAt(0) === '.' && baseParts) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that 'directory' and not name of the baseName's\n                //module. For instance, baseName of 'one/two/three', maps to\n                //'one/two/three.js', but we want the directory, 'one/two' for\n                //this normalization.\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                name = normalizedBaseParts.concat(name);\n            }\n\n            //start trimDots\n            for (i = 0; i < name.length; i++) {\n                part = name[i];\n                if (part === '.') {\n                    name.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        name.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n            //end trimDots\n\n            name = name.join('/');\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    //Creates a parts array for a relName where first part is plugin ID,\n    //second part is resource ID. Assumes relName has already been normalized.\n    function makeRelParts(relName) {\n        return relName ? splitPrefix(relName) : [];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relParts) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0],\n            relResourceName = relParts[1];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relResourceName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relResourceName));\n            } else {\n                name = normalize(name, relResourceName);\n            }\n        } else {\n            name = normalize(name, relResourceName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i, relParts,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n        relParts = makeRelParts(relName);\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relParts);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\nS2.requirejs = requirejs;S2.require = require;S2.define = define;\n}\n}());\nS2.define(\"almond\", function(){});\n\n/* global jQuery:false, $:false */\nS2.define('jquery',[],function () {\n  var _$ = jQuery || $;\n\n  if (_$ == null && console && console.error) {\n    console.error(\n      'Select2: An instance of jQuery or a jQuery-compatible library was not ' +\n      'found. Make sure that you are including jQuery before Select2 on your ' +\n      'web page.'\n    );\n  }\n\n  return _$;\n});\n\nS2.define('select2/utils',[\n  'jquery'\n], function ($) {\n  var Utils = {};\n\n  Utils.Extend = function (ChildClass, SuperClass) {\n    var __hasProp = {}.hasOwnProperty;\n\n    function BaseConstructor () {\n      this.constructor = ChildClass;\n    }\n\n    for (var key in SuperClass) {\n      if (__hasProp.call(SuperClass, key)) {\n        ChildClass[key] = SuperClass[key];\n      }\n    }\n\n    BaseConstructor.prototype = SuperClass.prototype;\n    ChildClass.prototype = new BaseConstructor();\n    ChildClass.__super__ = SuperClass.prototype;\n\n    return ChildClass;\n  };\n\n  function getMethods (theClass) {\n    var proto = theClass.prototype;\n\n    var methods = [];\n\n    for (var methodName in proto) {\n      var m = proto[methodName];\n\n      if (typeof m !== 'function') {\n        continue;\n      }\n\n      if (methodName === 'constructor') {\n        continue;\n      }\n\n      methods.push(methodName);\n    }\n\n    return methods;\n  }\n\n  Utils.Decorate = function (SuperClass, DecoratorClass) {\n    var decoratedMethods = getMethods(DecoratorClass);\n    var superMethods = getMethods(SuperClass);\n\n    function DecoratedClass () {\n      var unshift = Array.prototype.unshift;\n\n      var argCount = DecoratorClass.prototype.constructor.length;\n\n      var calledConstructor = SuperClass.prototype.constructor;\n\n      if (argCount > 0) {\n        unshift.call(arguments, SuperClass.prototype.constructor);\n\n        calledConstructor = DecoratorClass.prototype.constructor;\n      }\n\n      calledConstructor.apply(this, arguments);\n    }\n\n    DecoratorClass.displayName = SuperClass.displayName;\n\n    function ctr () {\n      this.constructor = DecoratedClass;\n    }\n\n    DecoratedClass.prototype = new ctr();\n\n    for (var m = 0; m < superMethods.length; m++) {\n      var superMethod = superMethods[m];\n\n      DecoratedClass.prototype[superMethod] =\n        SuperClass.prototype[superMethod];\n    }\n\n    var calledMethod = function (methodName) {\n      // Stub out the original method if it's not decorating an actual method\n      var originalMethod = function () {};\n\n      if (methodName in DecoratedClass.prototype) {\n        originalMethod = DecoratedClass.prototype[methodName];\n      }\n\n      var decoratedMethod = DecoratorClass.prototype[methodName];\n\n      return function () {\n        var unshift = Array.prototype.unshift;\n\n        unshift.call(arguments, originalMethod);\n\n        return decoratedMethod.apply(this, arguments);\n      };\n    };\n\n    for (var d = 0; d < decoratedMethods.length; d++) {\n      var decoratedMethod = decoratedMethods[d];\n\n      DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);\n    }\n\n    return DecoratedClass;\n  };\n\n  var Observable = function () {\n    this.listeners = {};\n  };\n\n  Observable.prototype.on = function (event, callback) {\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  };\n\n  Observable.prototype.trigger = function (event) {\n    var slice = Array.prototype.slice;\n    var params = slice.call(arguments, 1);\n\n    this.listeners = this.listeners || {};\n\n    // Params should always come in as an array\n    if (params == null) {\n      params = [];\n    }\n\n    // If there are no arguments to the event, use a temporary object\n    if (params.length === 0) {\n      params.push({});\n    }\n\n    // Set the `_type` of the first object to the event\n    params[0]._type = event;\n\n    if (event in this.listeners) {\n      this.invoke(this.listeners[event], slice.call(arguments, 1));\n    }\n\n    if ('*' in this.listeners) {\n      this.invoke(this.listeners['*'], arguments);\n    }\n  };\n\n  Observable.prototype.invoke = function (listeners, params) {\n    for (var i = 0, len = listeners.length; i < len; i++) {\n      listeners[i].apply(this, params);\n    }\n  };\n\n  Utils.Observable = Observable;\n\n  Utils.generateChars = function (length) {\n    var chars = '';\n\n    for (var i = 0; i < length; i++) {\n      var randomChar = Math.floor(Math.random() * 36);\n      chars += randomChar.toString(36);\n    }\n\n    return chars;\n  };\n\n  Utils.bind = function (func, context) {\n    return function () {\n      func.apply(context, arguments);\n    };\n  };\n\n  Utils._convertData = function (data) {\n    for (var originalKey in data) {\n      var keys = originalKey.split('-');\n\n      var dataLevel = data;\n\n      if (keys.length === 1) {\n        continue;\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k];\n\n        // Lowercase the first letter\n        // By default, dash-separated becomes camelCase\n        key = key.substring(0, 1).toLowerCase() + key.substring(1);\n\n        if (!(key in dataLevel)) {\n          dataLevel[key] = {};\n        }\n\n        if (k == keys.length - 1) {\n          dataLevel[key] = data[originalKey];\n        }\n\n        dataLevel = dataLevel[key];\n      }\n\n      delete data[originalKey];\n    }\n\n    return data;\n  };\n\n  Utils.hasScroll = function (index, el) {\n    // Adapted from the function created by @ShadowScripter\n    // and adapted by @BillBarry on the Stack Exchange Code Review website.\n    // The original code can be found at\n    // http://codereview.stackexchange.com/q/13338\n    // and was designed to be used with the Sizzle selector engine.\n\n    var $el = $(el);\n    var overflowX = el.style.overflowX;\n    var overflowY = el.style.overflowY;\n\n    //Check both x and y declarations\n    if (overflowX === overflowY &&\n        (overflowY === 'hidden' || overflowY === 'visible')) {\n      return false;\n    }\n\n    if (overflowX === 'scroll' || overflowY === 'scroll') {\n      return true;\n    }\n\n    return ($el.innerHeight() < el.scrollHeight ||\n      $el.innerWidth() < el.scrollWidth);\n  };\n\n  Utils.escapeMarkup = function (markup) {\n    var replaceMap = {\n      '\\\\': '&#92;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#47;'\n    };\n\n    // Do not try to escape the markup if it's not a string\n    if (typeof markup !== 'string') {\n      return markup;\n    }\n\n    return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n      return replaceMap[match];\n    });\n  };\n\n  // Cache objects in Utils.__cache instead of $.data (see #4346)\n  Utils.__cache = {};\n\n  var id = 0;\n  Utils.GetUniqueElementId = function (element) {\n    // Get a unique element Id. If element has no id,\n    // creates a new unique number, stores it in the id\n    // attribute and returns the new id with a prefix.\n    // If an id already exists, it simply returns it with a prefix.\n\n    var select2Id = element.getAttribute('data-select2-id');\n\n    if (select2Id != null) {\n      return select2Id;\n    }\n\n    // If element has id, use it.\n    if (element.id) {\n      select2Id = 'select2-data-' + element.id;\n    } else {\n      select2Id = 'select2-data-' + (++id).toString() +\n        '-' + Utils.generateChars(4);\n    }\n\n    element.setAttribute('data-select2-id', select2Id);\n\n    return select2Id;\n  };\n\n  Utils.StoreData = function (element, name, value) {\n    // Stores an item in the cache for a specified element.\n    // name is the cache key.\n    var id = Utils.GetUniqueElementId(element);\n    if (!Utils.__cache[id]) {\n      Utils.__cache[id] = {};\n    }\n\n    Utils.__cache[id][name] = value;\n  };\n\n  Utils.GetData = function (element, name) {\n    // Retrieves a value from the cache by its key (name)\n    // name is optional. If no name specified, return\n    // all cache items for the specified element.\n    // and for a specified element.\n    var id = Utils.GetUniqueElementId(element);\n    if (name) {\n      if (Utils.__cache[id]) {\n        if (Utils.__cache[id][name] != null) {\n          return Utils.__cache[id][name];\n        }\n        return $(element).data(name); // Fallback to HTML5 data attribs.\n      }\n      return $(element).data(name); // Fallback to HTML5 data attribs.\n    } else {\n      return Utils.__cache[id];\n    }\n  };\n\n  Utils.RemoveData = function (element) {\n    // Removes all cached items for a specified element.\n    var id = Utils.GetUniqueElementId(element);\n    if (Utils.__cache[id] != null) {\n      delete Utils.__cache[id];\n    }\n\n    element.removeAttribute('data-select2-id');\n  };\n\n  Utils.copyNonInternalCssClasses = function (dest, src) {\n    var classes;\n\n    var destinationClasses = dest.getAttribute('class').trim().split(/\\s+/);\n\n    destinationClasses = destinationClasses.filter(function (clazz) {\n      // Save all Select2 classes\n      return clazz.indexOf('select2-') === 0;\n    });\n\n    var sourceClasses = src.getAttribute('class').trim().split(/\\s+/);\n\n    sourceClasses = sourceClasses.filter(function (clazz) {\n      // Only copy non-Select2 classes\n      return clazz.indexOf('select2-') !== 0;\n    });\n\n    var replacements = destinationClasses.concat(sourceClasses);\n\n    dest.setAttribute('class', replacements.join(' '));\n  };\n\n  return Utils;\n});\n\nS2.define('select2/results',[\n  'jquery',\n  './utils'\n], function ($, Utils) {\n  function Results ($element, options, dataAdapter) {\n    this.$element = $element;\n    this.data = dataAdapter;\n    this.options = options;\n\n    Results.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(Results, Utils.Observable);\n\n  Results.prototype.render = function () {\n    var $results = $(\n      '<ul class=\"select2-results__options\" role=\"listbox\"></ul>'\n    );\n\n    if (this.options.get('multiple')) {\n      $results.attr('aria-multiselectable', 'true');\n    }\n\n    this.$results = $results;\n\n    return $results;\n  };\n\n  Results.prototype.clear = function () {\n    this.$results.empty();\n  };\n\n  Results.prototype.displayMessage = function (params) {\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    this.clear();\n    this.hideLoading();\n\n    var $message = $(\n      '<li role=\"alert\" aria-live=\"assertive\"' +\n      ' class=\"select2-results__option\"></li>'\n    );\n\n    var message = this.options.get('translations').get(params.message);\n\n    $message.append(\n      escapeMarkup(\n        message(params.args)\n      )\n    );\n\n    $message[0].className += ' select2-results__message';\n\n    this.$results.append($message);\n  };\n\n  Results.prototype.hideMessages = function () {\n    this.$results.find('.select2-results__message').remove();\n  };\n\n  Results.prototype.append = function (data) {\n    this.hideLoading();\n\n    var $options = [];\n\n    if (data.results == null || data.results.length === 0) {\n      if (this.$results.children().length === 0) {\n        this.trigger('results:message', {\n          message: 'noResults'\n        });\n      }\n\n      return;\n    }\n\n    data.results = this.sort(data.results);\n\n    for (var d = 0; d < data.results.length; d++) {\n      var item = data.results[d];\n\n      var $option = this.option(item);\n\n      $options.push($option);\n    }\n\n    this.$results.append($options);\n  };\n\n  Results.prototype.position = function ($results, $dropdown) {\n    var $resultsContainer = $dropdown.find('.select2-results');\n    $resultsContainer.append($results);\n  };\n\n  Results.prototype.sort = function (data) {\n    var sorter = this.options.get('sorter');\n\n    return sorter(data);\n  };\n\n  Results.prototype.highlightFirstItem = function () {\n    var $options = this.$results\n      .find('.select2-results__option--selectable');\n\n    var $selected = $options.filter('.select2-results__option--selected');\n\n    // Check if there are any selected options\n    if ($selected.length > 0) {\n      // If there are selected options, highlight the first\n      $selected.first().trigger('mouseenter');\n    } else {\n      // If there are no selected options, highlight the first option\n      // in the dropdown\n      $options.first().trigger('mouseenter');\n    }\n\n    this.ensureHighlightVisible();\n  };\n\n  Results.prototype.setClasses = function () {\n    var self = this;\n\n    this.data.current(function (selected) {\n      var selectedIds = selected.map(function (s) {\n        return s.id.toString();\n      });\n\n      var $options = self.$results\n        .find('.select2-results__option--selectable');\n\n      $options.each(function () {\n        var $option = $(this);\n\n        var item = Utils.GetData(this, 'data');\n\n        // id needs to be converted to a string when comparing\n        var id = '' + item.id;\n\n        if ((item.element != null && item.element.selected) ||\n            (item.element == null && selectedIds.indexOf(id) > -1)) {\n          this.classList.add('select2-results__option--selected');\n          $option.attr('aria-selected', 'true');\n        } else {\n          this.classList.remove('select2-results__option--selected');\n          $option.attr('aria-selected', 'false');\n        }\n      });\n\n    });\n  };\n\n  Results.prototype.showLoading = function (params) {\n    this.hideLoading();\n\n    var loadingMore = this.options.get('translations').get('searching');\n\n    var loading = {\n      disabled: true,\n      loading: true,\n      text: loadingMore(params)\n    };\n    var $loading = this.option(loading);\n    $loading.className += ' loading-results';\n\n    this.$results.prepend($loading);\n  };\n\n  Results.prototype.hideLoading = function () {\n    this.$results.find('.loading-results').remove();\n  };\n\n  Results.prototype.option = function (data) {\n    var option = document.createElement('li');\n    option.classList.add('select2-results__option');\n    option.classList.add('select2-results__option--selectable');\n\n    var attrs = {\n      'role': 'option'\n    };\n\n    var matches = window.Element.prototype.matches ||\n      window.Element.prototype.msMatchesSelector ||\n      window.Element.prototype.webkitMatchesSelector;\n\n    if ((data.element != null && matches.call(data.element, ':disabled')) ||\n        (data.element == null && data.disabled)) {\n      attrs['aria-disabled'] = 'true';\n\n      option.classList.remove('select2-results__option--selectable');\n      option.classList.add('select2-results__option--disabled');\n    }\n\n    if (data.id == null) {\n      option.classList.remove('select2-results__option--selectable');\n    }\n\n    if (data._resultId != null) {\n      option.id = data._resultId;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    if (data.children) {\n      attrs.role = 'group';\n      attrs['aria-label'] = data.text;\n\n      option.classList.remove('select2-results__option--selectable');\n      option.classList.add('select2-results__option--group');\n    }\n\n    for (var attr in attrs) {\n      var val = attrs[attr];\n\n      option.setAttribute(attr, val);\n    }\n\n    if (data.children) {\n      var $option = $(option);\n\n      var label = document.createElement('strong');\n      label.className = 'select2-results__group';\n\n      this.template(data, label);\n\n      var $children = [];\n\n      for (var c = 0; c < data.children.length; c++) {\n        var child = data.children[c];\n\n        var $child = this.option(child);\n\n        $children.push($child);\n      }\n\n      var $childrenContainer = $('<ul></ul>', {\n        'class': 'select2-results__options select2-results__options--nested',\n        'role': 'none'\n      });\n\n      $childrenContainer.append($children);\n\n      $option.append(label);\n      $option.append($childrenContainer);\n    } else {\n      this.template(data, option);\n    }\n\n    Utils.StoreData(option, 'data', data);\n\n    return option;\n  };\n\n  Results.prototype.bind = function (container, $container) {\n    var self = this;\n\n    var id = container.id + '-results';\n\n    this.$results.attr('id', id);\n\n    container.on('results:all', function (params) {\n      self.clear();\n      self.append(params.data);\n\n      if (container.isOpen()) {\n        self.setClasses();\n        self.highlightFirstItem();\n      }\n    });\n\n    container.on('results:append', function (params) {\n      self.append(params.data);\n\n      if (container.isOpen()) {\n        self.setClasses();\n      }\n    });\n\n    container.on('query', function (params) {\n      self.hideMessages();\n      self.showLoading(params);\n    });\n\n    container.on('select', function () {\n      if (!container.isOpen()) {\n        return;\n      }\n\n      self.setClasses();\n\n      if (self.options.get('scrollAfterSelect')) {\n        self.highlightFirstItem();\n      }\n    });\n\n    container.on('unselect', function () {\n      if (!container.isOpen()) {\n        return;\n      }\n\n      self.setClasses();\n\n      if (self.options.get('scrollAfterSelect')) {\n        self.highlightFirstItem();\n      }\n    });\n\n    container.on('open', function () {\n      // When the dropdown is open, aria-expended=\"true\"\n      self.$results.attr('aria-expanded', 'true');\n      self.$results.attr('aria-hidden', 'false');\n\n      self.setClasses();\n      self.ensureHighlightVisible();\n    });\n\n    container.on('close', function () {\n      // When the dropdown is closed, aria-expended=\"false\"\n      self.$results.attr('aria-expanded', 'false');\n      self.$results.attr('aria-hidden', 'true');\n      self.$results.removeAttr('aria-activedescendant');\n    });\n\n    container.on('results:toggle', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      if ($highlighted.length === 0) {\n        return;\n      }\n\n      $highlighted.trigger('mouseup');\n    });\n\n    container.on('results:select', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      if ($highlighted.length === 0) {\n        return;\n      }\n\n      var data = Utils.GetData($highlighted[0], 'data');\n\n      if ($highlighted.hasClass('select2-results__option--selected')) {\n        self.trigger('close', {});\n      } else {\n        self.trigger('select', {\n          data: data\n        });\n      }\n    });\n\n    container.on('results:previous', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      var $options = self.$results.find('.select2-results__option--selectable');\n\n      var currentIndex = $options.index($highlighted);\n\n      // If we are already at the top, don't move further\n      // If no options, currentIndex will be -1\n      if (currentIndex <= 0) {\n        return;\n      }\n\n      var nextIndex = currentIndex - 1;\n\n      // If none are highlighted, highlight the first\n      if ($highlighted.length === 0) {\n        nextIndex = 0;\n      }\n\n      var $next = $options.eq(nextIndex);\n\n      $next.trigger('mouseenter');\n\n      var currentOffset = self.$results.offset().top;\n      var nextTop = $next.offset().top;\n      var nextOffset = self.$results.scrollTop() + (nextTop - currentOffset);\n\n      if (nextIndex === 0) {\n        self.$results.scrollTop(0);\n      } else if (nextTop - currentOffset < 0) {\n        self.$results.scrollTop(nextOffset);\n      }\n    });\n\n    container.on('results:next', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      var $options = self.$results.find('.select2-results__option--selectable');\n\n      var currentIndex = $options.index($highlighted);\n\n      var nextIndex = currentIndex + 1;\n\n      // If we are at the last option, stay there\n      if (nextIndex >= $options.length) {\n        return;\n      }\n\n      var $next = $options.eq(nextIndex);\n\n      $next.trigger('mouseenter');\n\n      var currentOffset = self.$results.offset().top +\n        self.$results.outerHeight(false);\n      var nextBottom = $next.offset().top + $next.outerHeight(false);\n      var nextOffset = self.$results.scrollTop() + nextBottom - currentOffset;\n\n      if (nextIndex === 0) {\n        self.$results.scrollTop(0);\n      } else if (nextBottom > currentOffset) {\n        self.$results.scrollTop(nextOffset);\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      params.element[0].classList.add('select2-results__option--highlighted');\n      params.element[0].setAttribute('aria-selected', 'true');\n    });\n\n    container.on('results:message', function (params) {\n      self.displayMessage(params);\n    });\n\n    if ($.fn.mousewheel) {\n      this.$results.on('mousewheel', function (e) {\n        var top = self.$results.scrollTop();\n\n        var bottom = self.$results.get(0).scrollHeight - top + e.deltaY;\n\n        var isAtTop = e.deltaY > 0 && top - e.deltaY <= 0;\n        var isAtBottom = e.deltaY < 0 && bottom <= self.$results.height();\n\n        if (isAtTop) {\n          self.$results.scrollTop(0);\n\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (isAtBottom) {\n          self.$results.scrollTop(\n            self.$results.get(0).scrollHeight - self.$results.height()\n          );\n\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n    }\n\n    this.$results.on('mouseup', '.select2-results__option--selectable',\n      function (evt) {\n      var $this = $(this);\n\n      var data = Utils.GetData(this, 'data');\n\n      if ($this.hasClass('select2-results__option--selected')) {\n        if (self.options.get('multiple')) {\n          self.trigger('unselect', {\n            originalEvent: evt,\n            data: data\n          });\n        } else {\n          self.trigger('close', {});\n        }\n\n        return;\n      }\n\n      self.trigger('select', {\n        originalEvent: evt,\n        data: data\n      });\n    });\n\n    this.$results.on('mouseenter', '.select2-results__option--selectable',\n      function (evt) {\n      var data = Utils.GetData(this, 'data');\n\n      self.getHighlightedResults()\n          .removeClass('select2-results__option--highlighted')\n          .attr('aria-selected', 'false');\n\n      self.trigger('results:focus', {\n        data: data,\n        element: $(this)\n      });\n    });\n  };\n\n  Results.prototype.getHighlightedResults = function () {\n    var $highlighted = this.$results\n    .find('.select2-results__option--highlighted');\n\n    return $highlighted;\n  };\n\n  Results.prototype.destroy = function () {\n    this.$results.remove();\n  };\n\n  Results.prototype.ensureHighlightVisible = function () {\n    var $highlighted = this.getHighlightedResults();\n\n    if ($highlighted.length === 0) {\n      return;\n    }\n\n    var $options = this.$results.find('.select2-results__option--selectable');\n\n    var currentIndex = $options.index($highlighted);\n\n    var currentOffset = this.$results.offset().top;\n    var nextTop = $highlighted.offset().top;\n    var nextOffset = this.$results.scrollTop() + (nextTop - currentOffset);\n\n    var offsetDelta = nextTop - currentOffset;\n    nextOffset -= $highlighted.outerHeight(false) * 2;\n\n    if (currentIndex <= 2) {\n      this.$results.scrollTop(0);\n    } else if (offsetDelta > this.$results.outerHeight() || offsetDelta < 0) {\n      this.$results.scrollTop(nextOffset);\n    }\n  };\n\n  Results.prototype.template = function (result, container) {\n    var template = this.options.get('templateResult');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    var content = template(result, container);\n\n    if (content == null) {\n      container.style.display = 'none';\n    } else if (typeof content === 'string') {\n      container.innerHTML = escapeMarkup(content);\n    } else {\n      $(container).append(content);\n    }\n  };\n\n  return Results;\n});\n\nS2.define('select2/keys',[\n\n], function () {\n  var KEYS = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    ESC: 27,\n    SPACE: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    DELETE: 46\n  };\n\n  return KEYS;\n});\n\nS2.define('select2/selection/base',[\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function BaseSelection ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    BaseSelection.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(BaseSelection, Utils.Observable);\n\n  BaseSelection.prototype.render = function () {\n    var $selection = $(\n      '<span class=\"select2-selection\" role=\"combobox\" ' +\n      ' aria-haspopup=\"true\" aria-expanded=\"false\">' +\n      '</span>'\n    );\n\n    this._tabindex = 0;\n\n    if (Utils.GetData(this.$element[0], 'old-tabindex') != null) {\n      this._tabindex = Utils.GetData(this.$element[0], 'old-tabindex');\n    } else if (this.$element.attr('tabindex') != null) {\n      this._tabindex = this.$element.attr('tabindex');\n    }\n\n    $selection.attr('title', this.$element.attr('title'));\n    $selection.attr('tabindex', this._tabindex);\n    $selection.attr('aria-disabled', 'false');\n\n    this.$selection = $selection;\n\n    return $selection;\n  };\n\n  BaseSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    var resultsId = container.id + '-results';\n\n    this.container = container;\n\n    this.$selection.on('focus', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('blur', function (evt) {\n      self._handleBlur(evt);\n    });\n\n    this.$selection.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      if (evt.which === KEYS.SPACE) {\n        evt.preventDefault();\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      self.$selection.attr('aria-activedescendant', params.data._resultId);\n    });\n\n    container.on('selection:update', function (params) {\n      self.update(params.data);\n    });\n\n    container.on('open', function () {\n      // When the dropdown is open, aria-expanded=\"true\"\n      self.$selection.attr('aria-expanded', 'true');\n      self.$selection.attr('aria-owns', resultsId);\n\n      self._attachCloseHandler(container);\n    });\n\n    container.on('close', function () {\n      // When the dropdown is closed, aria-expanded=\"false\"\n      self.$selection.attr('aria-expanded', 'false');\n      self.$selection.removeAttr('aria-activedescendant');\n      self.$selection.removeAttr('aria-owns');\n\n      self.$selection.trigger('focus');\n\n      self._detachCloseHandler(container);\n    });\n\n    container.on('enable', function () {\n      self.$selection.attr('tabindex', self._tabindex);\n      self.$selection.attr('aria-disabled', 'false');\n    });\n\n    container.on('disable', function () {\n      self.$selection.attr('tabindex', '-1');\n      self.$selection.attr('aria-disabled', 'true');\n    });\n  };\n\n  BaseSelection.prototype._handleBlur = function (evt) {\n    var self = this;\n\n    // This needs to be delayed as the active element is the body when the tab\n    // key is pressed, possibly along with others.\n    window.setTimeout(function () {\n      // Don't trigger `blur` if the focus is still in the selection\n      if (\n        (document.activeElement == self.$selection[0]) ||\n        ($.contains(self.$selection[0], document.activeElement))\n      ) {\n        return;\n      }\n\n      self.trigger('blur', evt);\n    }, 1);\n  };\n\n  BaseSelection.prototype._attachCloseHandler = function (container) {\n\n    $(document.body).on('mousedown.select2.' + container.id, function (e) {\n      var $target = $(e.target);\n\n      var $select = $target.closest('.select2');\n\n      var $all = $('.select2.select2-container--open');\n\n      $all.each(function () {\n        if (this == $select[0]) {\n          return;\n        }\n\n        var $element = Utils.GetData(this, 'element');\n\n        $element.select2('close');\n      });\n    });\n  };\n\n  BaseSelection.prototype._detachCloseHandler = function (container) {\n    $(document.body).off('mousedown.select2.' + container.id);\n  };\n\n  BaseSelection.prototype.position = function ($selection, $container) {\n    var $selectionContainer = $container.find('.selection');\n    $selectionContainer.append($selection);\n  };\n\n  BaseSelection.prototype.destroy = function () {\n    this._detachCloseHandler(this.container);\n  };\n\n  BaseSelection.prototype.update = function (data) {\n    throw new Error('The `update` method must be defined in child classes.');\n  };\n\n  /**\n   * Helper method to abstract the \"enabled\" (not \"disabled\") state of this\n   * object.\n   *\n   * @return {true} if the instance is not disabled.\n   * @return {false} if the instance is disabled.\n   */\n  BaseSelection.prototype.isEnabled = function () {\n    return !this.isDisabled();\n  };\n\n  /**\n   * Helper method to abstract the \"disabled\" state of this object.\n   *\n   * @return {true} if the disabled option is true.\n   * @return {false} if the disabled option is false.\n   */\n  BaseSelection.prototype.isDisabled = function () {\n    return this.options.get('disabled');\n  };\n\n  return BaseSelection;\n});\n\nS2.define('select2/selection/single',[\n  'jquery',\n  './base',\n  '../utils',\n  '../keys'\n], function ($, BaseSelection, Utils, KEYS) {\n  function SingleSelection () {\n    SingleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(SingleSelection, BaseSelection);\n\n  SingleSelection.prototype.render = function () {\n    var $selection = SingleSelection.__super__.render.call(this);\n\n    $selection[0].classList.add('select2-selection--single');\n\n    $selection.html(\n      '<span class=\"select2-selection__rendered\"></span>' +\n      '<span class=\"select2-selection__arrow\" role=\"presentation\">' +\n        '<b role=\"presentation\"></b>' +\n      '</span>'\n    );\n\n    return $selection;\n  };\n\n  SingleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    SingleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n\n    this.$selection.find('.select2-selection__rendered')\n      .attr('id', id)\n      .attr('role', 'textbox')\n      .attr('aria-readonly', 'true');\n    this.$selection.attr('aria-labelledby', id);\n    this.$selection.attr('aria-controls', id);\n\n    this.$selection.on('mousedown', function (evt) {\n      // Only respond to left clicks\n      if (evt.which !== 1) {\n        return;\n      }\n\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('focus', function (evt) {\n      // User focuses on the container\n    });\n\n    this.$selection.on('blur', function (evt) {\n      // User exits the container\n    });\n\n    container.on('focus', function (evt) {\n      if (!container.isOpen()) {\n        self.$selection.trigger('focus');\n      }\n    });\n  };\n\n  SingleSelection.prototype.clear = function () {\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty();\n    $rendered.removeAttr('title'); // clear tooltip on empty\n  };\n\n  SingleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data, container));\n  };\n\n  SingleSelection.prototype.selectionContainer = function () {\n    return $('<span></span>');\n  };\n\n  SingleSelection.prototype.update = function (data) {\n    if (data.length === 0) {\n      this.clear();\n      return;\n    }\n\n    var selection = data[0];\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    var formatted = this.display(selection, $rendered);\n\n    $rendered.empty().append(formatted);\n\n    var title = selection.title || selection.text;\n\n    if (title) {\n      $rendered.attr('title', title);\n    } else {\n      $rendered.removeAttr('title');\n    }\n  };\n\n  return SingleSelection;\n});\n\nS2.define('select2/selection/multiple',[\n  'jquery',\n  './base',\n  '../utils'\n], function ($, BaseSelection, Utils) {\n  function MultipleSelection ($element, options) {\n    MultipleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(MultipleSelection, BaseSelection);\n\n  MultipleSelection.prototype.render = function () {\n    var $selection = MultipleSelection.__super__.render.call(this);\n\n    $selection[0].classList.add('select2-selection--multiple');\n\n    $selection.html(\n      '<ul class=\"select2-selection__rendered\"></ul>'\n    );\n\n    return $selection;\n  };\n\n  MultipleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    MultipleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n    this.$selection.find('.select2-selection__rendered').attr('id', id);\n\n    this.$selection.on('click', function (evt) {\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on(\n      'click',\n      '.select2-selection__choice__remove',\n      function (evt) {\n        // Ignore the event if it is disabled\n        if (self.isDisabled()) {\n          return;\n        }\n\n        var $remove = $(this);\n        var $selection = $remove.parent();\n\n        var data = Utils.GetData($selection[0], 'data');\n\n        self.trigger('unselect', {\n          originalEvent: evt,\n          data: data\n        });\n      }\n    );\n\n    this.$selection.on(\n      'keydown',\n      '.select2-selection__choice__remove',\n      function (evt) {\n        // Ignore the event if it is disabled\n        if (self.isDisabled()) {\n          return;\n        }\n\n        evt.stopPropagation();\n      }\n    );\n  };\n\n  MultipleSelection.prototype.clear = function () {\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty();\n    $rendered.removeAttr('title');\n  };\n\n  MultipleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data, container));\n  };\n\n  MultipleSelection.prototype.selectionContainer = function () {\n    var $container = $(\n      '<li class=\"select2-selection__choice\">' +\n        '<button type=\"button\" class=\"select2-selection__choice__remove\" ' +\n        'tabindex=\"-1\">' +\n          '<span aria-hidden=\"true\">&times;</span>' +\n        '</button>' +\n        '<span class=\"select2-selection__choice__display\"></span>' +\n      '</li>'\n    );\n\n    return $container;\n  };\n\n  MultipleSelection.prototype.update = function (data) {\n    this.clear();\n\n    if (data.length === 0) {\n      return;\n    }\n\n    var $selections = [];\n\n    var selectionIdPrefix = this.$selection.find('.select2-selection__rendered')\n      .attr('id') + '-choice-';\n\n    for (var d = 0; d < data.length; d++) {\n      var selection = data[d];\n\n      var $selection = this.selectionContainer();\n      var formatted = this.display(selection, $selection);\n\n      var selectionId = selectionIdPrefix + Utils.generateChars(4) + '-';\n\n      if (selection.id) {\n        selectionId += selection.id;\n      } else {\n        selectionId += Utils.generateChars(4);\n      }\n\n      $selection.find('.select2-selection__choice__display')\n        .append(formatted)\n        .attr('id', selectionId);\n\n      var title = selection.title || selection.text;\n\n      if (title) {\n        $selection.attr('title', title);\n      }\n\n      var removeItem = this.options.get('translations').get('removeItem');\n\n      var $remove = $selection.find('.select2-selection__choice__remove');\n\n      $remove.attr('title', removeItem());\n      $remove.attr('aria-label', removeItem());\n      $remove.attr('aria-describedby', selectionId);\n\n      Utils.StoreData($selection[0], 'data', selection);\n\n      $selections.push($selection);\n    }\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n\n    $rendered.append($selections);\n  };\n\n  return MultipleSelection;\n});\n\nS2.define('select2/selection/placeholder',[\n\n], function () {\n  function Placeholder (decorated, $element, options) {\n    this.placeholder = this.normalizePlaceholder(options.get('placeholder'));\n\n    decorated.call(this, $element, options);\n  }\n\n  Placeholder.prototype.normalizePlaceholder = function (_, placeholder) {\n    if (typeof placeholder === 'string') {\n      placeholder = {\n        id: '',\n        text: placeholder\n      };\n    }\n\n    return placeholder;\n  };\n\n  Placeholder.prototype.createPlaceholder = function (decorated, placeholder) {\n    var $placeholder = this.selectionContainer();\n\n    $placeholder.html(this.display(placeholder));\n    $placeholder[0].classList.add('select2-selection__placeholder');\n    $placeholder[0].classList.remove('select2-selection__choice');\n\n    var placeholderTitle = placeholder.title ||\n      placeholder.text ||\n      $placeholder.text();\n\n    this.$selection.find('.select2-selection__rendered').attr(\n      'title',\n      placeholderTitle\n    );\n\n    return $placeholder;\n  };\n\n  Placeholder.prototype.update = function (decorated, data) {\n    var singlePlaceholder = (\n      data.length == 1 && data[0].id != this.placeholder.id\n    );\n    var multipleSelections = data.length > 1;\n\n    if (multipleSelections || singlePlaceholder) {\n      return decorated.call(this, data);\n    }\n\n    this.clear();\n\n    var $placeholder = this.createPlaceholder(this.placeholder);\n\n    this.$selection.find('.select2-selection__rendered').append($placeholder);\n  };\n\n  return Placeholder;\n});\n\nS2.define('select2/selection/allowClear',[\n  'jquery',\n  '../keys',\n  '../utils'\n], function ($, KEYS, Utils) {\n  function AllowClear () { }\n\n  AllowClear.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    if (this.placeholder == null) {\n      if (this.options.get('debug') && window.console && console.error) {\n        console.error(\n          'Select2: The `allowClear` option should be used in combination ' +\n          'with the `placeholder` option.'\n        );\n      }\n    }\n\n    this.$selection.on('mousedown', '.select2-selection__clear',\n      function (evt) {\n        self._handleClear(evt);\n    });\n\n    container.on('keypress', function (evt) {\n      self._handleKeyboardClear(evt, container);\n    });\n  };\n\n  AllowClear.prototype._handleClear = function (_, evt) {\n    // Ignore the event if it is disabled\n    if (this.isDisabled()) {\n      return;\n    }\n\n    var $clear = this.$selection.find('.select2-selection__clear');\n\n    // Ignore the event if nothing has been selected\n    if ($clear.length === 0) {\n      return;\n    }\n\n    evt.stopPropagation();\n\n    var data = Utils.GetData($clear[0], 'data');\n\n    var previousVal = this.$element.val();\n    this.$element.val(this.placeholder.id);\n\n    var unselectData = {\n      data: data\n    };\n    this.trigger('clear', unselectData);\n    if (unselectData.prevented) {\n      this.$element.val(previousVal);\n      return;\n    }\n\n    for (var d = 0; d < data.length; d++) {\n      unselectData = {\n        data: data[d]\n      };\n\n      // Trigger the `unselect` event, so people can prevent it from being\n      // cleared.\n      this.trigger('unselect', unselectData);\n\n      // If the event was prevented, don't clear it out.\n      if (unselectData.prevented) {\n        this.$element.val(previousVal);\n        return;\n      }\n    }\n\n    this.$element.trigger('input').trigger('change');\n\n    this.trigger('toggle', {});\n  };\n\n  AllowClear.prototype._handleKeyboardClear = function (_, evt, container) {\n    if (container.isOpen()) {\n      return;\n    }\n\n    if (evt.which == KEYS.DELETE || evt.which == KEYS.BACKSPACE) {\n      this._handleClear(evt);\n    }\n  };\n\n  AllowClear.prototype.update = function (decorated, data) {\n    decorated.call(this, data);\n\n    this.$selection.find('.select2-selection__clear').remove();\n    this.$selection[0].classList.remove('select2-selection--clearable');\n\n    if (this.$selection.find('.select2-selection__placeholder').length > 0 ||\n        data.length === 0) {\n      return;\n    }\n\n    var selectionId = this.$selection.find('.select2-selection__rendered')\n      .attr('id');\n\n    var removeAll = this.options.get('translations').get('removeAllItems');\n\n    var $remove = $(\n      '<button type=\"button\" class=\"select2-selection__clear\" tabindex=\"-1\">' +\n        '<span aria-hidden=\"true\">&times;</span>' +\n      '</button>'\n    );\n    $remove.attr('title', removeAll());\n    $remove.attr('aria-label', removeAll());\n    $remove.attr('aria-describedby', selectionId);\n    Utils.StoreData($remove[0], 'data', data);\n\n    this.$selection.prepend($remove);\n    this.$selection[0].classList.add('select2-selection--clearable');\n  };\n\n  return AllowClear;\n});\n\nS2.define('select2/selection/search',[\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function Search (decorated, $element, options) {\n    decorated.call(this, $element, options);\n  }\n\n  Search.prototype.render = function (decorated) {\n    var searchLabel = this.options.get('translations').get('search');\n    var $search = $(\n      '<span class=\"select2-search select2-search--inline\">' +\n        '<textarea class=\"select2-search__field\"'+\n        ' type=\"search\" tabindex=\"-1\"' +\n        ' autocorrect=\"off\" autocapitalize=\"none\"' +\n        ' spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" >' +\n        '</textarea>' +\n      '</span>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('textarea');\n\n    this.$search.prop('autocomplete', this.options.get('autocomplete'));\n    this.$search.attr('aria-label', searchLabel());\n\n    var $rendered = decorated.call(this);\n\n    this._transferTabIndex();\n    $rendered.append(this.$searchContainer);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    var resultsId = container.id + '-results';\n    var selectionId = container.id + '-container';\n\n    decorated.call(this, container, $container);\n\n    self.$search.attr('aria-describedby', selectionId);\n\n    container.on('open', function () {\n      self.$search.attr('aria-controls', resultsId);\n      self.$search.trigger('focus');\n    });\n\n    container.on('close', function () {\n      self.$search.val('');\n      self.resizeSearch();\n      self.$search.removeAttr('aria-controls');\n      self.$search.removeAttr('aria-activedescendant');\n      self.$search.trigger('focus');\n    });\n\n    container.on('enable', function () {\n      self.$search.prop('disabled', false);\n\n      self._transferTabIndex();\n    });\n\n    container.on('disable', function () {\n      self.$search.prop('disabled', true);\n    });\n\n    container.on('focus', function (evt) {\n      self.$search.trigger('focus');\n    });\n\n    container.on('results:focus', function (params) {\n      if (params.data._resultId) {\n        self.$search.attr('aria-activedescendant', params.data._resultId);\n      } else {\n        self.$search.removeAttr('aria-activedescendant');\n      }\n    });\n\n    this.$selection.on('focusin', '.select2-search--inline', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('focusout', '.select2-search--inline', function (evt) {\n      self._handleBlur(evt);\n    });\n\n    this.$selection.on('keydown', '.select2-search--inline', function (evt) {\n      evt.stopPropagation();\n\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n\n      var key = evt.which;\n\n      if (key === KEYS.BACKSPACE && self.$search.val() === '') {\n        var $previousChoice = self.$selection\n          .find('.select2-selection__choice').last();\n\n        if ($previousChoice.length > 0) {\n          var item = Utils.GetData($previousChoice[0], 'data');\n\n          self.searchRemoveChoice(item);\n\n          evt.preventDefault();\n        }\n      }\n    });\n\n    this.$selection.on('click', '.select2-search--inline', function (evt) {\n      if (self.$search.val()) {\n        evt.stopPropagation();\n      }\n    });\n\n    // Try to detect the IE version should the `documentMode` property that\n    // is stored on the document. This is only implemented in IE and is\n    // slightly cleaner than doing a user agent check.\n    // This property is not available in Edge, but Edge also doesn't have\n    // this bug.\n    var msie = document.documentMode;\n    var disableInputEvents = msie && msie <= 11;\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$selection.on(\n      'input.searchcheck',\n      '.select2-search--inline',\n      function (evt) {\n        // IE will trigger the `input` event when a placeholder is used on a\n        // search box. To get around this issue, we are forced to ignore all\n        // `input` events in IE and keep using `keyup`.\n        if (disableInputEvents) {\n          self.$selection.off('input.search input.searchcheck');\n          return;\n        }\n\n        // Unbind the duplicated `keyup` event\n        self.$selection.off('keyup.search');\n      }\n    );\n\n    this.$selection.on(\n      'keyup.search input.search',\n      '.select2-search--inline',\n      function (evt) {\n        // IE will trigger the `input` event when a placeholder is used on a\n        // search box. To get around this issue, we are forced to ignore all\n        // `input` events in IE and keep using `keyup`.\n        if (disableInputEvents && evt.type === 'input') {\n          self.$selection.off('input.search input.searchcheck');\n          return;\n        }\n\n        var key = evt.which;\n\n        // We can freely ignore events from modifier keys\n        if (key == KEYS.SHIFT || key == KEYS.CTRL || key == KEYS.ALT) {\n          return;\n        }\n\n        // Tabbing will be handled during the `keydown` phase\n        if (key == KEYS.TAB) {\n          return;\n        }\n\n        self.handleSearch(evt);\n      }\n    );\n  };\n\n  /**\n   * This method will transfer the tabindex attribute from the rendered\n   * selection to the search box. This allows for the search box to be used as\n   * the primary focus instead of the selection container.\n   *\n   * @private\n   */\n  Search.prototype._transferTabIndex = function (decorated) {\n    this.$search.attr('tabindex', this.$selection.attr('tabindex'));\n    this.$selection.attr('tabindex', '-1');\n  };\n\n  Search.prototype.createPlaceholder = function (decorated, placeholder) {\n    this.$search.attr('placeholder', placeholder.text);\n  };\n\n  Search.prototype.update = function (decorated, data) {\n    var searchHadFocus = this.$search[0] == document.activeElement;\n\n    this.$search.attr('placeholder', '');\n\n    decorated.call(this, data);\n\n    this.resizeSearch();\n    if (searchHadFocus) {\n      this.$search.trigger('focus');\n    }\n  };\n\n  Search.prototype.handleSearch = function () {\n    this.resizeSearch();\n\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.searchRemoveChoice = function (decorated, item) {\n    this.trigger('unselect', {\n      data: item\n    });\n\n    this.$search.val(item.text);\n    this.handleSearch();\n  };\n\n  Search.prototype.resizeSearch = function () {\n    this.$search.css('width', '25px');\n\n    var width = '100%';\n\n    if (this.$search.attr('placeholder') === '') {\n      var minimumWidth = this.$search.val().length + 1;\n\n      width = (minimumWidth * 0.75) + 'em';\n    }\n\n    this.$search.css('width', width);\n  };\n\n  return Search;\n});\n\nS2.define('select2/selection/selectionCss',[\n  '../utils'\n], function (Utils) {\n  function SelectionCSS () { }\n\n  SelectionCSS.prototype.render = function (decorated) {\n    var $selection = decorated.call(this);\n\n    var selectionCssClass = this.options.get('selectionCssClass') || '';\n\n    if (selectionCssClass.indexOf(':all:') !== -1) {\n      selectionCssClass = selectionCssClass.replace(':all:', '');\n\n      Utils.copyNonInternalCssClasses($selection[0], this.$element[0]);\n    }\n\n    $selection.addClass(selectionCssClass);\n\n    return $selection;\n  };\n\n  return SelectionCSS;\n});\n\nS2.define('select2/selection/eventRelay',[\n  'jquery'\n], function ($) {\n  function EventRelay () { }\n\n  EventRelay.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n    var relayEvents = [\n      'open', 'opening',\n      'close', 'closing',\n      'select', 'selecting',\n      'unselect', 'unselecting',\n      'clear', 'clearing'\n    ];\n\n    var preventableEvents = [\n      'opening', 'closing', 'selecting', 'unselecting', 'clearing'\n    ];\n\n    decorated.call(this, container, $container);\n\n    container.on('*', function (name, params) {\n      // Ignore events that should not be relayed\n      if (relayEvents.indexOf(name) === -1) {\n        return;\n      }\n\n      // The parameters should always be an object\n      params = params || {};\n\n      // Generate the jQuery event for the Select2 event\n      var evt = $.Event('select2:' + name, {\n        params: params\n      });\n\n      self.$element.trigger(evt);\n\n      // Only handle preventable events if it was one\n      if (preventableEvents.indexOf(name) === -1) {\n        return;\n      }\n\n      params.prevented = evt.isDefaultPrevented();\n    });\n  };\n\n  return EventRelay;\n});\n\nS2.define('select2/translation',[\n  'jquery',\n  'require'\n], function ($, require) {\n  function Translation (dict) {\n    this.dict = dict || {};\n  }\n\n  Translation.prototype.all = function () {\n    return this.dict;\n  };\n\n  Translation.prototype.get = function (key) {\n    return this.dict[key];\n  };\n\n  Translation.prototype.extend = function (translation) {\n    this.dict = $.extend({}, translation.all(), this.dict);\n  };\n\n  // Static functions\n\n  Translation._cache = {};\n\n  Translation.loadPath = function (path) {\n    if (!(path in Translation._cache)) {\n      var translations = require(path);\n\n      Translation._cache[path] = translations;\n    }\n\n    return new Translation(Translation._cache[path]);\n  };\n\n  return Translation;\n});\n\nS2.define('select2/diacritics',[\n\n], function () {\n  var diacritics = {\n    '\\u24B6': 'A',\n    '\\uFF21': 'A',\n    '\\u00C0': 'A',\n    '\\u00C1': 'A',\n    '\\u00C2': 'A',\n    '\\u1EA6': 'A',\n    '\\u1EA4': 'A',\n    '\\u1EAA': 'A',\n    '\\u1EA8': 'A',\n    '\\u00C3': 'A',\n    '\\u0100': 'A',\n    '\\u0102': 'A',\n    '\\u1EB0': 'A',\n    '\\u1EAE': 'A',\n    '\\u1EB4': 'A',\n    '\\u1EB2': 'A',\n    '\\u0226': 'A',\n    '\\u01E0': 'A',\n    '\\u00C4': 'A',\n    '\\u01DE': 'A',\n    '\\u1EA2': 'A',\n    '\\u00C5': 'A',\n    '\\u01FA': 'A',\n    '\\u01CD': 'A',\n    '\\u0200': 'A',\n    '\\u0202': 'A',\n    '\\u1EA0': 'A',\n    '\\u1EAC': 'A',\n    '\\u1EB6': 'A',\n    '\\u1E00': 'A',\n    '\\u0104': 'A',\n    '\\u023A': 'A',\n    '\\u2C6F': 'A',\n    '\\uA732': 'AA',\n    '\\u00C6': 'AE',\n    '\\u01FC': 'AE',\n    '\\u01E2': 'AE',\n    '\\uA734': 'AO',\n    '\\uA736': 'AU',\n    '\\uA738': 'AV',\n    '\\uA73A': 'AV',\n    '\\uA73C': 'AY',\n    '\\u24B7': 'B',\n    '\\uFF22': 'B',\n    '\\u1E02': 'B',\n    '\\u1E04': 'B',\n    '\\u1E06': 'B',\n    '\\u0243': 'B',\n    '\\u0182': 'B',\n    '\\u0181': 'B',\n    '\\u24B8': 'C',\n    '\\uFF23': 'C',\n    '\\u0106': 'C',\n    '\\u0108': 'C',\n    '\\u010A': 'C',\n    '\\u010C': 'C',\n    '\\u00C7': 'C',\n    '\\u1E08': 'C',\n    '\\u0187': 'C',\n    '\\u023B': 'C',\n    '\\uA73E': 'C',\n    '\\u24B9': 'D',\n    '\\uFF24': 'D',\n    '\\u1E0A': 'D',\n    '\\u010E': 'D',\n    '\\u1E0C': 'D',\n    '\\u1E10': 'D',\n    '\\u1E12': 'D',\n    '\\u1E0E': 'D',\n    '\\u0110': 'D',\n    '\\u018B': 'D',\n    '\\u018A': 'D',\n    '\\u0189': 'D',\n    '\\uA779': 'D',\n    '\\u01F1': 'DZ',\n    '\\u01C4': 'DZ',\n    '\\u01F2': 'Dz',\n    '\\u01C5': 'Dz',\n    '\\u24BA': 'E',\n    '\\uFF25': 'E',\n    '\\u00C8': 'E',\n    '\\u00C9': 'E',\n    '\\u00CA': 'E',\n    '\\u1EC0': 'E',\n    '\\u1EBE': 'E',\n    '\\u1EC4': 'E',\n    '\\u1EC2': 'E',\n    '\\u1EBC': 'E',\n    '\\u0112': 'E',\n    '\\u1E14': 'E',\n    '\\u1E16': 'E',\n    '\\u0114': 'E',\n    '\\u0116': 'E',\n    '\\u00CB': 'E',\n    '\\u1EBA': 'E',\n    '\\u011A': 'E',\n    '\\u0204': 'E',\n    '\\u0206': 'E',\n    '\\u1EB8': 'E',\n    '\\u1EC6': 'E',\n    '\\u0228': 'E',\n    '\\u1E1C': 'E',\n    '\\u0118': 'E',\n    '\\u1E18': 'E',\n    '\\u1E1A': 'E',\n    '\\u0190': 'E',\n    '\\u018E': 'E',\n    '\\u24BB': 'F',\n    '\\uFF26': 'F',\n    '\\u1E1E': 'F',\n    '\\u0191': 'F',\n    '\\uA77B': 'F',\n    '\\u24BC': 'G',\n    '\\uFF27': 'G',\n    '\\u01F4': 'G',\n    '\\u011C': 'G',\n    '\\u1E20': 'G',\n    '\\u011E': 'G',\n    '\\u0120': 'G',\n    '\\u01E6': 'G',\n    '\\u0122': 'G',\n    '\\u01E4': 'G',\n    '\\u0193': 'G',\n    '\\uA7A0': 'G',\n    '\\uA77D': 'G',\n    '\\uA77E': 'G',\n    '\\u24BD': 'H',\n    '\\uFF28': 'H',\n    '\\u0124': 'H',\n    '\\u1E22': 'H',\n    '\\u1E26': 'H',\n    '\\u021E': 'H',\n    '\\u1E24': 'H',\n    '\\u1E28': 'H',\n    '\\u1E2A': 'H',\n    '\\u0126': 'H',\n    '\\u2C67': 'H',\n    '\\u2C75': 'H',\n    '\\uA78D': 'H',\n    '\\u24BE': 'I',\n    '\\uFF29': 'I',\n    '\\u00CC': 'I',\n    '\\u00CD': 'I',\n    '\\u00CE': 'I',\n    '\\u0128': 'I',\n    '\\u012A': 'I',\n    '\\u012C': 'I',\n    '\\u0130': 'I',\n    '\\u00CF': 'I',\n    '\\u1E2E': 'I',\n    '\\u1EC8': 'I',\n    '\\u01CF': 'I',\n    '\\u0208': 'I',\n    '\\u020A': 'I',\n    '\\u1ECA': 'I',\n    '\\u012E': 'I',\n    '\\u1E2C': 'I',\n    '\\u0197': 'I',\n    '\\u24BF': 'J',\n    '\\uFF2A': 'J',\n    '\\u0134': 'J',\n    '\\u0248': 'J',\n    '\\u24C0': 'K',\n    '\\uFF2B': 'K',\n    '\\u1E30': 'K',\n    '\\u01E8': 'K',\n    '\\u1E32': 'K',\n    '\\u0136': 'K',\n    '\\u1E34': 'K',\n    '\\u0198': 'K',\n    '\\u2C69': 'K',\n    '\\uA740': 'K',\n    '\\uA742': 'K',\n    '\\uA744': 'K',\n    '\\uA7A2': 'K',\n    '\\u24C1': 'L',\n    '\\uFF2C': 'L',\n    '\\u013F': 'L',\n    '\\u0139': 'L',\n    '\\u013D': 'L',\n    '\\u1E36': 'L',\n    '\\u1E38': 'L',\n    '\\u013B': 'L',\n    '\\u1E3C': 'L',\n    '\\u1E3A': 'L',\n    '\\u0141': 'L',\n    '\\u023D': 'L',\n    '\\u2C62': 'L',\n    '\\u2C60': 'L',\n    '\\uA748': 'L',\n    '\\uA746': 'L',\n    '\\uA780': 'L',\n    '\\u01C7': 'LJ',\n    '\\u01C8': 'Lj',\n    '\\u24C2': 'M',\n    '\\uFF2D': 'M',\n    '\\u1E3E': 'M',\n    '\\u1E40': 'M',\n    '\\u1E42': 'M',\n    '\\u2C6E': 'M',\n    '\\u019C': 'M',\n    '\\u24C3': 'N',\n    '\\uFF2E': 'N',\n    '\\u01F8': 'N',\n    '\\u0143': 'N',\n    '\\u00D1': 'N',\n    '\\u1E44': 'N',\n    '\\u0147': 'N',\n    '\\u1E46': 'N',\n    '\\u0145': 'N',\n    '\\u1E4A': 'N',\n    '\\u1E48': 'N',\n    '\\u0220': 'N',\n    '\\u019D': 'N',\n    '\\uA790': 'N',\n    '\\uA7A4': 'N',\n    '\\u01CA': 'NJ',\n    '\\u01CB': 'Nj',\n    '\\u24C4': 'O',\n    '\\uFF2F': 'O',\n    '\\u00D2': 'O',\n    '\\u00D3': 'O',\n    '\\u00D4': 'O',\n    '\\u1ED2': 'O',\n    '\\u1ED0': 'O',\n    '\\u1ED6': 'O',\n    '\\u1ED4': 'O',\n    '\\u00D5': 'O',\n    '\\u1E4C': 'O',\n    '\\u022C': 'O',\n    '\\u1E4E': 'O',\n    '\\u014C': 'O',\n    '\\u1E50': 'O',\n    '\\u1E52': 'O',\n    '\\u014E': 'O',\n    '\\u022E': 'O',\n    '\\u0230': 'O',\n    '\\u00D6': 'O',\n    '\\u022A': 'O',\n    '\\u1ECE': 'O',\n    '\\u0150': 'O',\n    '\\u01D1': 'O',\n    '\\u020C': 'O',\n    '\\u020E': 'O',\n    '\\u01A0': 'O',\n    '\\u1EDC': 'O',\n    '\\u1EDA': 'O',\n    '\\u1EE0': 'O',\n    '\\u1EDE': 'O',\n    '\\u1EE2': 'O',\n    '\\u1ECC': 'O',\n    '\\u1ED8': 'O',\n    '\\u01EA': 'O',\n    '\\u01EC': 'O',\n    '\\u00D8': 'O',\n    '\\u01FE': 'O',\n    '\\u0186': 'O',\n    '\\u019F': 'O',\n    '\\uA74A': 'O',\n    '\\uA74C': 'O',\n    '\\u0152': 'OE',\n    '\\u01A2': 'OI',\n    '\\uA74E': 'OO',\n    '\\u0222': 'OU',\n    '\\u24C5': 'P',\n    '\\uFF30': 'P',\n    '\\u1E54': 'P',\n    '\\u1E56': 'P',\n    '\\u01A4': 'P',\n    '\\u2C63': 'P',\n    '\\uA750': 'P',\n    '\\uA752': 'P',\n    '\\uA754': 'P',\n    '\\u24C6': 'Q',\n    '\\uFF31': 'Q',\n    '\\uA756': 'Q',\n    '\\uA758': 'Q',\n    '\\u024A': 'Q',\n    '\\u24C7': 'R',\n    '\\uFF32': 'R',\n    '\\u0154': 'R',\n    '\\u1E58': 'R',\n    '\\u0158': 'R',\n    '\\u0210': 'R',\n    '\\u0212': 'R',\n    '\\u1E5A': 'R',\n    '\\u1E5C': 'R',\n    '\\u0156': 'R',\n    '\\u1E5E': 'R',\n    '\\u024C': 'R',\n    '\\u2C64': 'R',\n    '\\uA75A': 'R',\n    '\\uA7A6': 'R',\n    '\\uA782': 'R',\n    '\\u24C8': 'S',\n    '\\uFF33': 'S',\n    '\\u1E9E': 'S',\n    '\\u015A': 'S',\n    '\\u1E64': 'S',\n    '\\u015C': 'S',\n    '\\u1E60': 'S',\n    '\\u0160': 'S',\n    '\\u1E66': 'S',\n    '\\u1E62': 'S',\n    '\\u1E68': 'S',\n    '\\u0218': 'S',\n    '\\u015E': 'S',\n    '\\u2C7E': 'S',\n    '\\uA7A8': 'S',\n    '\\uA784': 'S',\n    '\\u24C9': 'T',\n    '\\uFF34': 'T',\n    '\\u1E6A': 'T',\n    '\\u0164': 'T',\n    '\\u1E6C': 'T',\n    '\\u021A': 'T',\n    '\\u0162': 'T',\n    '\\u1E70': 'T',\n    '\\u1E6E': 'T',\n    '\\u0166': 'T',\n    '\\u01AC': 'T',\n    '\\u01AE': 'T',\n    '\\u023E': 'T',\n    '\\uA786': 'T',\n    '\\uA728': 'TZ',\n    '\\u24CA': 'U',\n    '\\uFF35': 'U',\n    '\\u00D9': 'U',\n    '\\u00DA': 'U',\n    '\\u00DB': 'U',\n    '\\u0168': 'U',\n    '\\u1E78': 'U',\n    '\\u016A': 'U',\n    '\\u1E7A': 'U',\n    '\\u016C': 'U',\n    '\\u00DC': 'U',\n    '\\u01DB': 'U',\n    '\\u01D7': 'U',\n    '\\u01D5': 'U',\n    '\\u01D9': 'U',\n    '\\u1EE6': 'U',\n    '\\u016E': 'U',\n    '\\u0170': 'U',\n    '\\u01D3': 'U',\n    '\\u0214': 'U',\n    '\\u0216': 'U',\n    '\\u01AF': 'U',\n    '\\u1EEA': 'U',\n    '\\u1EE8': 'U',\n    '\\u1EEE': 'U',\n    '\\u1EEC': 'U',\n    '\\u1EF0': 'U',\n    '\\u1EE4': 'U',\n    '\\u1E72': 'U',\n    '\\u0172': 'U',\n    '\\u1E76': 'U',\n    '\\u1E74': 'U',\n    '\\u0244': 'U',\n    '\\u24CB': 'V',\n    '\\uFF36': 'V',\n    '\\u1E7C': 'V',\n    '\\u1E7E': 'V',\n    '\\u01B2': 'V',\n    '\\uA75E': 'V',\n    '\\u0245': 'V',\n    '\\uA760': 'VY',\n    '\\u24CC': 'W',\n    '\\uFF37': 'W',\n    '\\u1E80': 'W',\n    '\\u1E82': 'W',\n    '\\u0174': 'W',\n    '\\u1E86': 'W',\n    '\\u1E84': 'W',\n    '\\u1E88': 'W',\n    '\\u2C72': 'W',\n    '\\u24CD': 'X',\n    '\\uFF38': 'X',\n    '\\u1E8A': 'X',\n    '\\u1E8C': 'X',\n    '\\u24CE': 'Y',\n    '\\uFF39': 'Y',\n    '\\u1EF2': 'Y',\n    '\\u00DD': 'Y',\n    '\\u0176': 'Y',\n    '\\u1EF8': 'Y',\n    '\\u0232': 'Y',\n    '\\u1E8E': 'Y',\n    '\\u0178': 'Y',\n    '\\u1EF6': 'Y',\n    '\\u1EF4': 'Y',\n    '\\u01B3': 'Y',\n    '\\u024E': 'Y',\n    '\\u1EFE': 'Y',\n    '\\u24CF': 'Z',\n    '\\uFF3A': 'Z',\n    '\\u0179': 'Z',\n    '\\u1E90': 'Z',\n    '\\u017B': 'Z',\n    '\\u017D': 'Z',\n    '\\u1E92': 'Z',\n    '\\u1E94': 'Z',\n    '\\u01B5': 'Z',\n    '\\u0224': 'Z',\n    '\\u2C7F': 'Z',\n    '\\u2C6B': 'Z',\n    '\\uA762': 'Z',\n    '\\u24D0': 'a',\n    '\\uFF41': 'a',\n    '\\u1E9A': 'a',\n    '\\u00E0': 'a',\n    '\\u00E1': 'a',\n    '\\u00E2': 'a',\n    '\\u1EA7': 'a',\n    '\\u1EA5': 'a',\n    '\\u1EAB': 'a',\n    '\\u1EA9': 'a',\n    '\\u00E3': 'a',\n    '\\u0101': 'a',\n    '\\u0103': 'a',\n    '\\u1EB1': 'a',\n    '\\u1EAF': 'a',\n    '\\u1EB5': 'a',\n    '\\u1EB3': 'a',\n    '\\u0227': 'a',\n    '\\u01E1': 'a',\n    '\\u00E4': 'a',\n    '\\u01DF': 'a',\n    '\\u1EA3': 'a',\n    '\\u00E5': 'a',\n    '\\u01FB': 'a',\n    '\\u01CE': 'a',\n    '\\u0201': 'a',\n    '\\u0203': 'a',\n    '\\u1EA1': 'a',\n    '\\u1EAD': 'a',\n    '\\u1EB7': 'a',\n    '\\u1E01': 'a',\n    '\\u0105': 'a',\n    '\\u2C65': 'a',\n    '\\u0250': 'a',\n    '\\uA733': 'aa',\n    '\\u00E6': 'ae',\n    '\\u01FD': 'ae',\n    '\\u01E3': 'ae',\n    '\\uA735': 'ao',\n    '\\uA737': 'au',\n    '\\uA739': 'av',\n    '\\uA73B': 'av',\n    '\\uA73D': 'ay',\n    '\\u24D1': 'b',\n    '\\uFF42': 'b',\n    '\\u1E03': 'b',\n    '\\u1E05': 'b',\n    '\\u1E07': 'b',\n    '\\u0180': 'b',\n    '\\u0183': 'b',\n    '\\u0253': 'b',\n    '\\u24D2': 'c',\n    '\\uFF43': 'c',\n    '\\u0107': 'c',\n    '\\u0109': 'c',\n    '\\u010B': 'c',\n    '\\u010D': 'c',\n    '\\u00E7': 'c',\n    '\\u1E09': 'c',\n    '\\u0188': 'c',\n    '\\u023C': 'c',\n    '\\uA73F': 'c',\n    '\\u2184': 'c',\n    '\\u24D3': 'd',\n    '\\uFF44': 'd',\n    '\\u1E0B': 'd',\n    '\\u010F': 'd',\n    '\\u1E0D': 'd',\n    '\\u1E11': 'd',\n    '\\u1E13': 'd',\n    '\\u1E0F': 'd',\n    '\\u0111': 'd',\n    '\\u018C': 'd',\n    '\\u0256': 'd',\n    '\\u0257': 'd',\n    '\\uA77A': 'd',\n    '\\u01F3': 'dz',\n    '\\u01C6': 'dz',\n    '\\u24D4': 'e',\n    '\\uFF45': 'e',\n    '\\u00E8': 'e',\n    '\\u00E9': 'e',\n    '\\u00EA': 'e',\n    '\\u1EC1': 'e',\n    '\\u1EBF': 'e',\n    '\\u1EC5': 'e',\n    '\\u1EC3': 'e',\n    '\\u1EBD': 'e',\n    '\\u0113': 'e',\n    '\\u1E15': 'e',\n    '\\u1E17': 'e',\n    '\\u0115': 'e',\n    '\\u0117': 'e',\n    '\\u00EB': 'e',\n    '\\u1EBB': 'e',\n    '\\u011B': 'e',\n    '\\u0205': 'e',\n    '\\u0207': 'e',\n    '\\u1EB9': 'e',\n    '\\u1EC7': 'e',\n    '\\u0229': 'e',\n    '\\u1E1D': 'e',\n    '\\u0119': 'e',\n    '\\u1E19': 'e',\n    '\\u1E1B': 'e',\n    '\\u0247': 'e',\n    '\\u025B': 'e',\n    '\\u01DD': 'e',\n    '\\u24D5': 'f',\n    '\\uFF46': 'f',\n    '\\u1E1F': 'f',\n    '\\u0192': 'f',\n    '\\uA77C': 'f',\n    '\\u24D6': 'g',\n    '\\uFF47': 'g',\n    '\\u01F5': 'g',\n    '\\u011D': 'g',\n    '\\u1E21': 'g',\n    '\\u011F': 'g',\n    '\\u0121': 'g',\n    '\\u01E7': 'g',\n    '\\u0123': 'g',\n    '\\u01E5': 'g',\n    '\\u0260': 'g',\n    '\\uA7A1': 'g',\n    '\\u1D79': 'g',\n    '\\uA77F': 'g',\n    '\\u24D7': 'h',\n    '\\uFF48': 'h',\n    '\\u0125': 'h',\n    '\\u1E23': 'h',\n    '\\u1E27': 'h',\n    '\\u021F': 'h',\n    '\\u1E25': 'h',\n    '\\u1E29': 'h',\n    '\\u1E2B': 'h',\n    '\\u1E96': 'h',\n    '\\u0127': 'h',\n    '\\u2C68': 'h',\n    '\\u2C76': 'h',\n    '\\u0265': 'h',\n    '\\u0195': 'hv',\n    '\\u24D8': 'i',\n    '\\uFF49': 'i',\n    '\\u00EC': 'i',\n    '\\u00ED': 'i',\n    '\\u00EE': 'i',\n    '\\u0129': 'i',\n    '\\u012B': 'i',\n    '\\u012D': 'i',\n    '\\u00EF': 'i',\n    '\\u1E2F': 'i',\n    '\\u1EC9': 'i',\n    '\\u01D0': 'i',\n    '\\u0209': 'i',\n    '\\u020B': 'i',\n    '\\u1ECB': 'i',\n    '\\u012F': 'i',\n    '\\u1E2D': 'i',\n    '\\u0268': 'i',\n    '\\u0131': 'i',\n    '\\u24D9': 'j',\n    '\\uFF4A': 'j',\n    '\\u0135': 'j',\n    '\\u01F0': 'j',\n    '\\u0249': 'j',\n    '\\u24DA': 'k',\n    '\\uFF4B': 'k',\n    '\\u1E31': 'k',\n    '\\u01E9': 'k',\n    '\\u1E33': 'k',\n    '\\u0137': 'k',\n    '\\u1E35': 'k',\n    '\\u0199': 'k',\n    '\\u2C6A': 'k',\n    '\\uA741': 'k',\n    '\\uA743': 'k',\n    '\\uA745': 'k',\n    '\\uA7A3': 'k',\n    '\\u24DB': 'l',\n    '\\uFF4C': 'l',\n    '\\u0140': 'l',\n    '\\u013A': 'l',\n    '\\u013E': 'l',\n    '\\u1E37': 'l',\n    '\\u1E39': 'l',\n    '\\u013C': 'l',\n    '\\u1E3D': 'l',\n    '\\u1E3B': 'l',\n    '\\u017F': 'l',\n    '\\u0142': 'l',\n    '\\u019A': 'l',\n    '\\u026B': 'l',\n    '\\u2C61': 'l',\n    '\\uA749': 'l',\n    '\\uA781': 'l',\n    '\\uA747': 'l',\n    '\\u01C9': 'lj',\n    '\\u24DC': 'm',\n    '\\uFF4D': 'm',\n    '\\u1E3F': 'm',\n    '\\u1E41': 'm',\n    '\\u1E43': 'm',\n    '\\u0271': 'm',\n    '\\u026F': 'm',\n    '\\u24DD': 'n',\n    '\\uFF4E': 'n',\n    '\\u01F9': 'n',\n    '\\u0144': 'n',\n    '\\u00F1': 'n',\n    '\\u1E45': 'n',\n    '\\u0148': 'n',\n    '\\u1E47': 'n',\n    '\\u0146': 'n',\n    '\\u1E4B': 'n',\n    '\\u1E49': 'n',\n    '\\u019E': 'n',\n    '\\u0272': 'n',\n    '\\u0149': 'n',\n    '\\uA791': 'n',\n    '\\uA7A5': 'n',\n    '\\u01CC': 'nj',\n    '\\u24DE': 'o',\n    '\\uFF4F': 'o',\n    '\\u00F2': 'o',\n    '\\u00F3': 'o',\n    '\\u00F4': 'o',\n    '\\u1ED3': 'o',\n    '\\u1ED1': 'o',\n    '\\u1ED7': 'o',\n    '\\u1ED5': 'o',\n    '\\u00F5': 'o',\n    '\\u1E4D': 'o',\n    '\\u022D': 'o',\n    '\\u1E4F': 'o',\n    '\\u014D': 'o',\n    '\\u1E51': 'o',\n    '\\u1E53': 'o',\n    '\\u014F': 'o',\n    '\\u022F': 'o',\n    '\\u0231': 'o',\n    '\\u00F6': 'o',\n    '\\u022B': 'o',\n    '\\u1ECF': 'o',\n    '\\u0151': 'o',\n    '\\u01D2': 'o',\n    '\\u020D': 'o',\n    '\\u020F': 'o',\n    '\\u01A1': 'o',\n    '\\u1EDD': 'o',\n    '\\u1EDB': 'o',\n    '\\u1EE1': 'o',\n    '\\u1EDF': 'o',\n    '\\u1EE3': 'o',\n    '\\u1ECD': 'o',\n    '\\u1ED9': 'o',\n    '\\u01EB': 'o',\n    '\\u01ED': 'o',\n    '\\u00F8': 'o',\n    '\\u01FF': 'o',\n    '\\u0254': 'o',\n    '\\uA74B': 'o',\n    '\\uA74D': 'o',\n    '\\u0275': 'o',\n    '\\u0153': 'oe',\n    '\\u01A3': 'oi',\n    '\\u0223': 'ou',\n    '\\uA74F': 'oo',\n    '\\u24DF': 'p',\n    '\\uFF50': 'p',\n    '\\u1E55': 'p',\n    '\\u1E57': 'p',\n    '\\u01A5': 'p',\n    '\\u1D7D': 'p',\n    '\\uA751': 'p',\n    '\\uA753': 'p',\n    '\\uA755': 'p',\n    '\\u24E0': 'q',\n    '\\uFF51': 'q',\n    '\\u024B': 'q',\n    '\\uA757': 'q',\n    '\\uA759': 'q',\n    '\\u24E1': 'r',\n    '\\uFF52': 'r',\n    '\\u0155': 'r',\n    '\\u1E59': 'r',\n    '\\u0159': 'r',\n    '\\u0211': 'r',\n    '\\u0213': 'r',\n    '\\u1E5B': 'r',\n    '\\u1E5D': 'r',\n    '\\u0157': 'r',\n    '\\u1E5F': 'r',\n    '\\u024D': 'r',\n    '\\u027D': 'r',\n    '\\uA75B': 'r',\n    '\\uA7A7': 'r',\n    '\\uA783': 'r',\n    '\\u24E2': 's',\n    '\\uFF53': 's',\n    '\\u00DF': 's',\n    '\\u015B': 's',\n    '\\u1E65': 's',\n    '\\u015D': 's',\n    '\\u1E61': 's',\n    '\\u0161': 's',\n    '\\u1E67': 's',\n    '\\u1E63': 's',\n    '\\u1E69': 's',\n    '\\u0219': 's',\n    '\\u015F': 's',\n    '\\u023F': 's',\n    '\\uA7A9': 's',\n    '\\uA785': 's',\n    '\\u1E9B': 's',\n    '\\u24E3': 't',\n    '\\uFF54': 't',\n    '\\u1E6B': 't',\n    '\\u1E97': 't',\n    '\\u0165': 't',\n    '\\u1E6D': 't',\n    '\\u021B': 't',\n    '\\u0163': 't',\n    '\\u1E71': 't',\n    '\\u1E6F': 't',\n    '\\u0167': 't',\n    '\\u01AD': 't',\n    '\\u0288': 't',\n    '\\u2C66': 't',\n    '\\uA787': 't',\n    '\\uA729': 'tz',\n    '\\u24E4': 'u',\n    '\\uFF55': 'u',\n    '\\u00F9': 'u',\n    '\\u00FA': 'u',\n    '\\u00FB': 'u',\n    '\\u0169': 'u',\n    '\\u1E79': 'u',\n    '\\u016B': 'u',\n    '\\u1E7B': 'u',\n    '\\u016D': 'u',\n    '\\u00FC': 'u',\n    '\\u01DC': 'u',\n    '\\u01D8': 'u',\n    '\\u01D6': 'u',\n    '\\u01DA': 'u',\n    '\\u1EE7': 'u',\n    '\\u016F': 'u',\n    '\\u0171': 'u',\n    '\\u01D4': 'u',\n    '\\u0215': 'u',\n    '\\u0217': 'u',\n    '\\u01B0': 'u',\n    '\\u1EEB': 'u',\n    '\\u1EE9': 'u',\n    '\\u1EEF': 'u',\n    '\\u1EED': 'u',\n    '\\u1EF1': 'u',\n    '\\u1EE5': 'u',\n    '\\u1E73': 'u',\n    '\\u0173': 'u',\n    '\\u1E77': 'u',\n    '\\u1E75': 'u',\n    '\\u0289': 'u',\n    '\\u24E5': 'v',\n    '\\uFF56': 'v',\n    '\\u1E7D': 'v',\n    '\\u1E7F': 'v',\n    '\\u028B': 'v',\n    '\\uA75F': 'v',\n    '\\u028C': 'v',\n    '\\uA761': 'vy',\n    '\\u24E6': 'w',\n    '\\uFF57': 'w',\n    '\\u1E81': 'w',\n    '\\u1E83': 'w',\n    '\\u0175': 'w',\n    '\\u1E87': 'w',\n    '\\u1E85': 'w',\n    '\\u1E98': 'w',\n    '\\u1E89': 'w',\n    '\\u2C73': 'w',\n    '\\u24E7': 'x',\n    '\\uFF58': 'x',\n    '\\u1E8B': 'x',\n    '\\u1E8D': 'x',\n    '\\u24E8': 'y',\n    '\\uFF59': 'y',\n    '\\u1EF3': 'y',\n    '\\u00FD': 'y',\n    '\\u0177': 'y',\n    '\\u1EF9': 'y',\n    '\\u0233': 'y',\n    '\\u1E8F': 'y',\n    '\\u00FF': 'y',\n    '\\u1EF7': 'y',\n    '\\u1E99': 'y',\n    '\\u1EF5': 'y',\n    '\\u01B4': 'y',\n    '\\u024F': 'y',\n    '\\u1EFF': 'y',\n    '\\u24E9': 'z',\n    '\\uFF5A': 'z',\n    '\\u017A': 'z',\n    '\\u1E91': 'z',\n    '\\u017C': 'z',\n    '\\u017E': 'z',\n    '\\u1E93': 'z',\n    '\\u1E95': 'z',\n    '\\u01B6': 'z',\n    '\\u0225': 'z',\n    '\\u0240': 'z',\n    '\\u2C6C': 'z',\n    '\\uA763': 'z',\n    '\\u0386': '\\u0391',\n    '\\u0388': '\\u0395',\n    '\\u0389': '\\u0397',\n    '\\u038A': '\\u0399',\n    '\\u03AA': '\\u0399',\n    '\\u038C': '\\u039F',\n    '\\u038E': '\\u03A5',\n    '\\u03AB': '\\u03A5',\n    '\\u038F': '\\u03A9',\n    '\\u03AC': '\\u03B1',\n    '\\u03AD': '\\u03B5',\n    '\\u03AE': '\\u03B7',\n    '\\u03AF': '\\u03B9',\n    '\\u03CA': '\\u03B9',\n    '\\u0390': '\\u03B9',\n    '\\u03CC': '\\u03BF',\n    '\\u03CD': '\\u03C5',\n    '\\u03CB': '\\u03C5',\n    '\\u03B0': '\\u03C5',\n    '\\u03CE': '\\u03C9',\n    '\\u03C2': '\\u03C3',\n    '\\u2019': '\\''\n  };\n\n  return diacritics;\n});\n\nS2.define('select2/data/base',[\n  '../utils'\n], function (Utils) {\n  function BaseAdapter ($element, options) {\n    BaseAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(BaseAdapter, Utils.Observable);\n\n  BaseAdapter.prototype.current = function (callback) {\n    throw new Error('The `current` method must be defined in child classes.');\n  };\n\n  BaseAdapter.prototype.query = function (params, callback) {\n    throw new Error('The `query` method must be defined in child classes.');\n  };\n\n  BaseAdapter.prototype.bind = function (container, $container) {\n    // Can be implemented in subclasses\n  };\n\n  BaseAdapter.prototype.destroy = function () {\n    // Can be implemented in subclasses\n  };\n\n  BaseAdapter.prototype.generateResultId = function (container, data) {\n    var id = container.id + '-result-';\n\n    id += Utils.generateChars(4);\n\n    if (data.id != null) {\n      id += '-' + data.id.toString();\n    } else {\n      id += '-' + Utils.generateChars(4);\n    }\n    return id;\n  };\n\n  return BaseAdapter;\n});\n\nS2.define('select2/data/select',[\n  './base',\n  '../utils',\n  'jquery'\n], function (BaseAdapter, Utils, $) {\n  function SelectAdapter ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    SelectAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(SelectAdapter, BaseAdapter);\n\n  SelectAdapter.prototype.current = function (callback) {\n    var self = this;\n\n    var data = Array.prototype.map.call(\n      this.$element[0].querySelectorAll(':checked'),\n      function (selectedElement) {\n        return self.item($(selectedElement));\n      }\n    );\n\n    callback(data);\n  };\n\n  SelectAdapter.prototype.select = function (data) {\n    var self = this;\n\n    data.selected = true;\n\n    // If data.element is a DOM node, use it instead\n    if (\n      data.element != null && data.element.tagName.toLowerCase() === 'option'\n    ) {\n      data.element.selected = true;\n\n      this.$element.trigger('input').trigger('change');\n\n      return;\n    }\n\n    if (this.$element.prop('multiple')) {\n      this.current(function (currentData) {\n        var val = [];\n\n        data = [data];\n        data.push.apply(data, currentData);\n\n        for (var d = 0; d < data.length; d++) {\n          var id = data[d].id;\n\n          if (val.indexOf(id) === -1) {\n            val.push(id);\n          }\n        }\n\n        self.$element.val(val);\n        self.$element.trigger('input').trigger('change');\n      });\n    } else {\n      var val = data.id;\n\n      this.$element.val(val);\n      this.$element.trigger('input').trigger('change');\n    }\n  };\n\n  SelectAdapter.prototype.unselect = function (data) {\n    var self = this;\n\n    if (!this.$element.prop('multiple')) {\n      return;\n    }\n\n    data.selected = false;\n\n    if (\n      data.element != null &&\n      data.element.tagName.toLowerCase() === 'option'\n    ) {\n      data.element.selected = false;\n\n      this.$element.trigger('input').trigger('change');\n\n      return;\n    }\n\n    this.current(function (currentData) {\n      var val = [];\n\n      for (var d = 0; d < currentData.length; d++) {\n        var id = currentData[d].id;\n\n        if (id !== data.id && val.indexOf(id) === -1) {\n          val.push(id);\n        }\n      }\n\n      self.$element.val(val);\n\n      self.$element.trigger('input').trigger('change');\n    });\n  };\n\n  SelectAdapter.prototype.bind = function (container, $container) {\n    var self = this;\n\n    this.container = container;\n\n    container.on('select', function (params) {\n      self.select(params.data);\n    });\n\n    container.on('unselect', function (params) {\n      self.unselect(params.data);\n    });\n  };\n\n  SelectAdapter.prototype.destroy = function () {\n    // Remove anything added to child elements\n    this.$element.find('*').each(function () {\n      // Remove any custom data set by Select2\n      Utils.RemoveData(this);\n    });\n  };\n\n  SelectAdapter.prototype.query = function (params, callback) {\n    var data = [];\n    var self = this;\n\n    var $options = this.$element.children();\n\n    $options.each(function () {\n      if (\n        this.tagName.toLowerCase() !== 'option' &&\n        this.tagName.toLowerCase() !== 'optgroup'\n      ) {\n        return;\n      }\n\n      var $option = $(this);\n\n      var option = self.item($option);\n\n      var matches = self.matches(params, option);\n\n      if (matches !== null) {\n        data.push(matches);\n      }\n    });\n\n    callback({\n      results: data\n    });\n  };\n\n  SelectAdapter.prototype.addOptions = function ($options) {\n    this.$element.append($options);\n  };\n\n  SelectAdapter.prototype.option = function (data) {\n    var option;\n\n    if (data.children) {\n      option = document.createElement('optgroup');\n      option.label = data.text;\n    } else {\n      option = document.createElement('option');\n\n      if (option.textContent !== undefined) {\n        option.textContent = data.text;\n      } else {\n        option.innerText = data.text;\n      }\n    }\n\n    if (data.id !== undefined) {\n      option.value = data.id;\n    }\n\n    if (data.disabled) {\n      option.disabled = true;\n    }\n\n    if (data.selected) {\n      option.selected = true;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    var normalizedData = this._normalizeItem(data);\n    normalizedData.element = option;\n\n    // Override the option's data with the combined data\n    Utils.StoreData(option, 'data', normalizedData);\n\n    return $(option);\n  };\n\n  SelectAdapter.prototype.item = function ($option) {\n    var data = {};\n\n    data = Utils.GetData($option[0], 'data');\n\n    if (data != null) {\n      return data;\n    }\n\n    var option = $option[0];\n\n    if (option.tagName.toLowerCase() === 'option') {\n      data = {\n        id: $option.val(),\n        text: $option.text(),\n        disabled: $option.prop('disabled'),\n        selected: $option.prop('selected'),\n        title: $option.prop('title')\n      };\n    } else if (option.tagName.toLowerCase() === 'optgroup') {\n      data = {\n        text: $option.prop('label'),\n        children: [],\n        title: $option.prop('title')\n      };\n\n      var $children = $option.children('option');\n      var children = [];\n\n      for (var c = 0; c < $children.length; c++) {\n        var $child = $($children[c]);\n\n        var child = this.item($child);\n\n        children.push(child);\n      }\n\n      data.children = children;\n    }\n\n    data = this._normalizeItem(data);\n    data.element = $option[0];\n\n    Utils.StoreData($option[0], 'data', data);\n\n    return data;\n  };\n\n  SelectAdapter.prototype._normalizeItem = function (item) {\n    if (item !== Object(item)) {\n      item = {\n        id: item,\n        text: item\n      };\n    }\n\n    item = $.extend({}, {\n      text: ''\n    }, item);\n\n    var defaults = {\n      selected: false,\n      disabled: false\n    };\n\n    if (item.id != null) {\n      item.id = item.id.toString();\n    }\n\n    if (item.text != null) {\n      item.text = item.text.toString();\n    }\n\n    if (item._resultId == null && item.id && this.container != null) {\n      item._resultId = this.generateResultId(this.container, item);\n    }\n\n    return $.extend({}, defaults, item);\n  };\n\n  SelectAdapter.prototype.matches = function (params, data) {\n    var matcher = this.options.get('matcher');\n\n    return matcher(params, data);\n  };\n\n  return SelectAdapter;\n});\n\nS2.define('select2/data/array',[\n  './select',\n  '../utils',\n  'jquery'\n], function (SelectAdapter, Utils, $) {\n  function ArrayAdapter ($element, options) {\n    this._dataToConvert = options.get('data') || [];\n\n    ArrayAdapter.__super__.constructor.call(this, $element, options);\n  }\n\n  Utils.Extend(ArrayAdapter, SelectAdapter);\n\n  ArrayAdapter.prototype.bind = function (container, $container) {\n    ArrayAdapter.__super__.bind.call(this, container, $container);\n\n    this.addOptions(this.convertToOptions(this._dataToConvert));\n  };\n\n  ArrayAdapter.prototype.select = function (data) {\n    var $option = this.$element.find('option').filter(function (i, elm) {\n      return elm.value == data.id.toString();\n    });\n\n    if ($option.length === 0) {\n      $option = this.option(data);\n\n      this.addOptions($option);\n    }\n\n    ArrayAdapter.__super__.select.call(this, data);\n  };\n\n  ArrayAdapter.prototype.convertToOptions = function (data) {\n    var self = this;\n\n    var $existing = this.$element.find('option');\n    var existingIds = $existing.map(function () {\n      return self.item($(this)).id;\n    }).get();\n\n    var $options = [];\n\n    // Filter out all items except for the one passed in the argument\n    function onlyItem (item) {\n      return function () {\n        return $(this).val() == item.id;\n      };\n    }\n\n    for (var d = 0; d < data.length; d++) {\n      var item = this._normalizeItem(data[d]);\n\n      // Skip items which were pre-loaded, only merge the data\n      if (existingIds.indexOf(item.id) >= 0) {\n        var $existingOption = $existing.filter(onlyItem(item));\n\n        var existingData = this.item($existingOption);\n        var newData = $.extend(true, {}, item, existingData);\n\n        var $newOption = this.option(newData);\n\n        $existingOption.replaceWith($newOption);\n\n        continue;\n      }\n\n      var $option = this.option(item);\n\n      if (item.children) {\n        var $children = this.convertToOptions(item.children);\n\n        $option.append($children);\n      }\n\n      $options.push($option);\n    }\n\n    return $options;\n  };\n\n  return ArrayAdapter;\n});\n\nS2.define('select2/data/ajax',[\n  './array',\n  '../utils',\n  'jquery'\n], function (ArrayAdapter, Utils, $) {\n  function AjaxAdapter ($element, options) {\n    this.ajaxOptions = this._applyDefaults(options.get('ajax'));\n\n    if (this.ajaxOptions.processResults != null) {\n      this.processResults = this.ajaxOptions.processResults;\n    }\n\n    AjaxAdapter.__super__.constructor.call(this, $element, options);\n  }\n\n  Utils.Extend(AjaxAdapter, ArrayAdapter);\n\n  AjaxAdapter.prototype._applyDefaults = function (options) {\n    var defaults = {\n      data: function (params) {\n        return $.extend({}, params, {\n          q: params.term\n        });\n      },\n      transport: function (params, success, failure) {\n        var $request = $.ajax(params);\n\n        $request.then(success);\n        $request.fail(failure);\n\n        return $request;\n      }\n    };\n\n    return $.extend({}, defaults, options, true);\n  };\n\n  AjaxAdapter.prototype.processResults = function (results) {\n    return results;\n  };\n\n  AjaxAdapter.prototype.query = function (params, callback) {\n    var matches = [];\n    var self = this;\n\n    if (this._request != null) {\n      // JSONP requests cannot always be aborted\n      if (typeof this._request.abort === 'function') {\n        this._request.abort();\n      }\n\n      this._request = null;\n    }\n\n    var options = $.extend({\n      type: 'GET'\n    }, this.ajaxOptions);\n\n    if (typeof options.url === 'function') {\n      options.url = options.url.call(this.$element, params);\n    }\n\n    if (typeof options.data === 'function') {\n      options.data = options.data.call(this.$element, params);\n    }\n\n    function request () {\n      var $request = options.transport(options, function (data) {\n        var results = self.processResults(data, params);\n\n        if (self.options.get('debug') && window.console && console.error) {\n          // Check to make sure that the response included a `results` key.\n          if (!results || !results.results || !Array.isArray(results.results)) {\n            console.error(\n              'Select2: The AJAX results did not return an array in the ' +\n              '`results` key of the response.'\n            );\n          }\n        }\n\n        callback(results);\n      }, function () {\n        // Attempt to detect if a request was aborted\n        // Only works if the transport exposes a status property\n        if ('status' in $request &&\n            ($request.status === 0 || $request.status === '0')) {\n          return;\n        }\n\n        self.trigger('results:message', {\n          message: 'errorLoading'\n        });\n      });\n\n      self._request = $request;\n    }\n\n    if (this.ajaxOptions.delay && params.term != null) {\n      if (this._queryTimeout) {\n        window.clearTimeout(this._queryTimeout);\n      }\n\n      this._queryTimeout = window.setTimeout(request, this.ajaxOptions.delay);\n    } else {\n      request();\n    }\n  };\n\n  return AjaxAdapter;\n});\n\nS2.define('select2/data/tags',[\n  'jquery'\n], function ($) {\n  function Tags (decorated, $element, options) {\n    var tags = options.get('tags');\n\n    var createTag = options.get('createTag');\n\n    if (createTag !== undefined) {\n      this.createTag = createTag;\n    }\n\n    var insertTag = options.get('insertTag');\n\n    if (insertTag !== undefined) {\n        this.insertTag = insertTag;\n    }\n\n    decorated.call(this, $element, options);\n\n    if (Array.isArray(tags)) {\n      for (var t = 0; t < tags.length; t++) {\n        var tag = tags[t];\n        var item = this._normalizeItem(tag);\n\n        var $option = this.option(item);\n\n        this.$element.append($option);\n      }\n    }\n  }\n\n  Tags.prototype.query = function (decorated, params, callback) {\n    var self = this;\n\n    this._removeOldTags();\n\n    if (params.term == null || params.page != null) {\n      decorated.call(this, params, callback);\n      return;\n    }\n\n    function wrapper (obj, child) {\n      var data = obj.results;\n\n      for (var i = 0; i < data.length; i++) {\n        var option = data[i];\n\n        var checkChildren = (\n          option.children != null &&\n          !wrapper({\n            results: option.children\n          }, true)\n        );\n\n        var optionText = (option.text || '').toUpperCase();\n        var paramsTerm = (params.term || '').toUpperCase();\n\n        var checkText = optionText === paramsTerm;\n\n        if (checkText || checkChildren) {\n          if (child) {\n            return false;\n          }\n\n          obj.data = data;\n          callback(obj);\n\n          return;\n        }\n      }\n\n      if (child) {\n        return true;\n      }\n\n      var tag = self.createTag(params);\n\n      if (tag != null) {\n        var $option = self.option(tag);\n        $option.attr('data-select2-tag', 'true');\n\n        self.addOptions([$option]);\n\n        self.insertTag(data, tag);\n      }\n\n      obj.results = data;\n\n      callback(obj);\n    }\n\n    decorated.call(this, params, wrapper);\n  };\n\n  Tags.prototype.createTag = function (decorated, params) {\n    if (params.term == null) {\n      return null;\n    }\n\n    var term = params.term.trim();\n\n    if (term === '') {\n      return null;\n    }\n\n    return {\n      id: term,\n      text: term\n    };\n  };\n\n  Tags.prototype.insertTag = function (_, data, tag) {\n    data.unshift(tag);\n  };\n\n  Tags.prototype._removeOldTags = function (_) {\n    var $options = this.$element.find('option[data-select2-tag]');\n\n    $options.each(function () {\n      if (this.selected) {\n        return;\n      }\n\n      $(this).remove();\n    });\n  };\n\n  return Tags;\n});\n\nS2.define('select2/data/tokenizer',[\n  'jquery'\n], function ($) {\n  function Tokenizer (decorated, $element, options) {\n    var tokenizer = options.get('tokenizer');\n\n    if (tokenizer !== undefined) {\n      this.tokenizer = tokenizer;\n    }\n\n    decorated.call(this, $element, options);\n  }\n\n  Tokenizer.prototype.bind = function (decorated, container, $container) {\n    decorated.call(this, container, $container);\n\n    this.$search =  container.dropdown.$search || container.selection.$search ||\n      $container.find('.select2-search__field');\n  };\n\n  Tokenizer.prototype.query = function (decorated, params, callback) {\n    var self = this;\n\n    function createAndSelect (data) {\n      // Normalize the data object so we can use it for checks\n      var item = self._normalizeItem(data);\n\n      // Check if the data object already exists as a tag\n      // Select it if it doesn't\n      var $existingOptions = self.$element.find('option').filter(function () {\n        return $(this).val() === item.id;\n      });\n\n      // If an existing option wasn't found for it, create the option\n      if (!$existingOptions.length) {\n        var $option = self.option(item);\n        $option.attr('data-select2-tag', true);\n\n        self._removeOldTags();\n        self.addOptions([$option]);\n      }\n\n      // Select the item, now that we know there is an option for it\n      select(item);\n    }\n\n    function select (data) {\n      self.trigger('select', {\n        data: data\n      });\n    }\n\n    params.term = params.term || '';\n\n    var tokenData = this.tokenizer(params, this.options, createAndSelect);\n\n    if (tokenData.term !== params.term) {\n      // Replace the search term if we have the search box\n      if (this.$search.length) {\n        this.$search.val(tokenData.term);\n        this.$search.trigger('focus');\n      }\n\n      params.term = tokenData.term;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  Tokenizer.prototype.tokenizer = function (_, params, options, callback) {\n    var separators = options.get('tokenSeparators') || [];\n    var term = params.term;\n    var i = 0;\n\n    var createTag = this.createTag || function (params) {\n      return {\n        id: params.term,\n        text: params.term\n      };\n    };\n\n    while (i < term.length) {\n      var termChar = term[i];\n\n      if (separators.indexOf(termChar) === -1) {\n        i++;\n\n        continue;\n      }\n\n      var part = term.substr(0, i);\n      var partParams = $.extend({}, params, {\n        term: part\n      });\n\n      var data = createTag(partParams);\n\n      if (data == null) {\n        i++;\n        continue;\n      }\n\n      callback(data);\n\n      // Reset the term to not include the tokenized portion\n      term = term.substr(i + 1) || '';\n      i = 0;\n    }\n\n    return {\n      term: term\n    };\n  };\n\n  return Tokenizer;\n});\n\nS2.define('select2/data/minimumInputLength',[\n\n], function () {\n  function MinimumInputLength (decorated, $e, options) {\n    this.minimumInputLength = options.get('minimumInputLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MinimumInputLength.prototype.query = function (decorated, params, callback) {\n    params.term = params.term || '';\n\n    if (params.term.length < this.minimumInputLength) {\n      this.trigger('results:message', {\n        message: 'inputTooShort',\n        args: {\n          minimum: this.minimumInputLength,\n          input: params.term,\n          params: params\n        }\n      });\n\n      return;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  return MinimumInputLength;\n});\n\nS2.define('select2/data/maximumInputLength',[\n\n], function () {\n  function MaximumInputLength (decorated, $e, options) {\n    this.maximumInputLength = options.get('maximumInputLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MaximumInputLength.prototype.query = function (decorated, params, callback) {\n    params.term = params.term || '';\n\n    if (this.maximumInputLength > 0 &&\n        params.term.length > this.maximumInputLength) {\n      this.trigger('results:message', {\n        message: 'inputTooLong',\n        args: {\n          maximum: this.maximumInputLength,\n          input: params.term,\n          params: params\n        }\n      });\n\n      return;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  return MaximumInputLength;\n});\n\nS2.define('select2/data/maximumSelectionLength',[\n\n], function (){\n  function MaximumSelectionLength (decorated, $e, options) {\n    this.maximumSelectionLength = options.get('maximumSelectionLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MaximumSelectionLength.prototype.bind =\n    function (decorated, container, $container) {\n      var self = this;\n\n      decorated.call(this, container, $container);\n\n      container.on('select', function () {\n        self._checkIfMaximumSelected();\n      });\n  };\n\n  MaximumSelectionLength.prototype.query =\n    function (decorated, params, callback) {\n      var self = this;\n\n      this._checkIfMaximumSelected(function () {\n        decorated.call(self, params, callback);\n      });\n  };\n\n  MaximumSelectionLength.prototype._checkIfMaximumSelected =\n    function (_, successCallback) {\n      var self = this;\n\n      this.current(function (currentData) {\n        var count = currentData != null ? currentData.length : 0;\n        if (self.maximumSelectionLength > 0 &&\n          count >= self.maximumSelectionLength) {\n          self.trigger('results:message', {\n            message: 'maximumSelected',\n            args: {\n              maximum: self.maximumSelectionLength\n            }\n          });\n          return;\n        }\n\n        if (successCallback) {\n          successCallback();\n        }\n      });\n  };\n\n  return MaximumSelectionLength;\n});\n\nS2.define('select2/dropdown',[\n  'jquery',\n  './utils'\n], function ($, Utils) {\n  function Dropdown ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    Dropdown.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(Dropdown, Utils.Observable);\n\n  Dropdown.prototype.render = function () {\n    var $dropdown = $(\n      '<span class=\"select2-dropdown\">' +\n        '<span class=\"select2-results\"></span>' +\n      '</span>'\n    );\n\n    $dropdown.attr('dir', this.options.get('dir'));\n\n    this.$dropdown = $dropdown;\n\n    return $dropdown;\n  };\n\n  Dropdown.prototype.bind = function () {\n    // Should be implemented in subclasses\n  };\n\n  Dropdown.prototype.position = function ($dropdown, $container) {\n    // Should be implemented in subclasses\n  };\n\n  Dropdown.prototype.destroy = function () {\n    // Remove the dropdown from the DOM\n    this.$dropdown.remove();\n  };\n\n  return Dropdown;\n});\n\nS2.define('select2/dropdown/search',[\n  'jquery'\n], function ($) {\n  function Search () { }\n\n  Search.prototype.render = function (decorated) {\n    var $rendered = decorated.call(this);\n    var searchLabel = this.options.get('translations').get('search');\n\n    var $search = $(\n      '<span class=\"select2-search select2-search--dropdown\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocorrect=\"off\" autocapitalize=\"none\"' +\n        ' spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" />' +\n      '</span>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    this.$search.prop('autocomplete', this.options.get('autocomplete'));\n    this.$search.attr('aria-label', searchLabel());\n\n    $rendered.prepend($search);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    var resultsId = container.id + '-results';\n\n    decorated.call(this, container, $container);\n\n    this.$search.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n    });\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$search.on('input', function (evt) {\n      // Unbind the duplicated `keyup` event\n      $(this).off('keyup');\n    });\n\n    this.$search.on('keyup input', function (evt) {\n      self.handleSearch(evt);\n    });\n\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n      self.$search.attr('aria-controls', resultsId);\n\n      self.$search.trigger('focus');\n\n      window.setTimeout(function () {\n        self.$search.trigger('focus');\n      }, 0);\n    });\n\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n      self.$search.removeAttr('aria-controls');\n      self.$search.removeAttr('aria-activedescendant');\n\n      self.$search.val('');\n      self.$search.trigger('blur');\n    });\n\n    container.on('focus', function () {\n      if (!container.isOpen()) {\n        self.$search.trigger('focus');\n      }\n    });\n\n    container.on('results:all', function (params) {\n      if (params.query.term == null || params.query.term === '') {\n        var showSearch = self.showSearch(params);\n\n        if (showSearch) {\n          self.$searchContainer[0].classList.remove('select2-search--hide');\n        } else {\n          self.$searchContainer[0].classList.add('select2-search--hide');\n        }\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      if (params.data._resultId) {\n        self.$search.attr('aria-activedescendant', params.data._resultId);\n      } else {\n        self.$search.removeAttr('aria-activedescendant');\n      }\n    });\n  };\n\n  Search.prototype.handleSearch = function (evt) {\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.showSearch = function (_, params) {\n    return true;\n  };\n\n  return Search;\n});\n\nS2.define('select2/dropdown/hidePlaceholder',[\n\n], function () {\n  function HidePlaceholder (decorated, $element, options, dataAdapter) {\n    this.placeholder = this.normalizePlaceholder(options.get('placeholder'));\n\n    decorated.call(this, $element, options, dataAdapter);\n  }\n\n  HidePlaceholder.prototype.append = function (decorated, data) {\n    data.results = this.removePlaceholder(data.results);\n\n    decorated.call(this, data);\n  };\n\n  HidePlaceholder.prototype.normalizePlaceholder = function (_, placeholder) {\n    if (typeof placeholder === 'string') {\n      placeholder = {\n        id: '',\n        text: placeholder\n      };\n    }\n\n    return placeholder;\n  };\n\n  HidePlaceholder.prototype.removePlaceholder = function (_, data) {\n    var modifiedData = data.slice(0);\n\n    for (var d = data.length - 1; d >= 0; d--) {\n      var item = data[d];\n\n      if (this.placeholder.id === item.id) {\n        modifiedData.splice(d, 1);\n      }\n    }\n\n    return modifiedData;\n  };\n\n  return HidePlaceholder;\n});\n\nS2.define('select2/dropdown/infiniteScroll',[\n  'jquery'\n], function ($) {\n  function InfiniteScroll (decorated, $element, options, dataAdapter) {\n    this.lastParams = {};\n\n    decorated.call(this, $element, options, dataAdapter);\n\n    this.$loadingMore = this.createLoadingMore();\n    this.loading = false;\n  }\n\n  InfiniteScroll.prototype.append = function (decorated, data) {\n    this.$loadingMore.remove();\n    this.loading = false;\n\n    decorated.call(this, data);\n\n    if (this.showLoadingMore(data)) {\n      this.$results.append(this.$loadingMore);\n      this.loadMoreIfNeeded();\n    }\n  };\n\n  InfiniteScroll.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('query', function (params) {\n      self.lastParams = params;\n      self.loading = true;\n    });\n\n    container.on('query:append', function (params) {\n      self.lastParams = params;\n      self.loading = true;\n    });\n\n    this.$results.on('scroll', this.loadMoreIfNeeded.bind(this));\n  };\n\n  InfiniteScroll.prototype.loadMoreIfNeeded = function () {\n    var isLoadMoreVisible = $.contains(\n      document.documentElement,\n      this.$loadingMore[0]\n    );\n\n    if (this.loading || !isLoadMoreVisible) {\n      return;\n    }\n\n    var currentOffset = this.$results.offset().top +\n      this.$results.outerHeight(false);\n    var loadingMoreOffset = this.$loadingMore.offset().top +\n      this.$loadingMore.outerHeight(false);\n\n    if (currentOffset + 50 >= loadingMoreOffset) {\n      this.loadMore();\n    }\n  };\n\n  InfiniteScroll.prototype.loadMore = function () {\n    this.loading = true;\n\n    var params = $.extend({}, {page: 1}, this.lastParams);\n\n    params.page++;\n\n    this.trigger('query:append', params);\n  };\n\n  InfiniteScroll.prototype.showLoadingMore = function (_, data) {\n    return data.pagination && data.pagination.more;\n  };\n\n  InfiniteScroll.prototype.createLoadingMore = function () {\n    var $option = $(\n      '<li ' +\n      'class=\"select2-results__option select2-results__option--load-more\"' +\n      'role=\"option\" aria-disabled=\"true\"></li>'\n    );\n\n    var message = this.options.get('translations').get('loadingMore');\n\n    $option.html(message(this.lastParams));\n\n    return $option;\n  };\n\n  return InfiniteScroll;\n});\n\nS2.define('select2/dropdown/attachBody',[\n  'jquery',\n  '../utils'\n], function ($, Utils) {\n  function AttachBody (decorated, $element, options) {\n    this.$dropdownParent = $(options.get('dropdownParent') || document.body);\n\n    decorated.call(this, $element, options);\n  }\n\n  AttachBody.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('open', function () {\n      self._showDropdown();\n      self._attachPositioningHandler(container);\n\n      // Must bind after the results handlers to ensure correct sizing\n      self._bindContainerResultHandlers(container);\n    });\n\n    container.on('close', function () {\n      self._hideDropdown();\n      self._detachPositioningHandler(container);\n    });\n\n    this.$dropdownContainer.on('mousedown', function (evt) {\n      evt.stopPropagation();\n    });\n  };\n\n  AttachBody.prototype.destroy = function (decorated) {\n    decorated.call(this);\n\n    this.$dropdownContainer.remove();\n  };\n\n  AttachBody.prototype.position = function (decorated, $dropdown, $container) {\n    // Clone all of the container classes\n    $dropdown.attr('class', $container.attr('class'));\n\n    $dropdown[0].classList.remove('select2');\n    $dropdown[0].classList.add('select2-container--open');\n\n    $dropdown.css({\n      position: 'absolute',\n      top: -999999\n    });\n\n    this.$container = $container;\n  };\n\n  AttachBody.prototype.render = function (decorated) {\n    var $container = $('<span></span>');\n\n    var $dropdown = decorated.call(this);\n    $container.append($dropdown);\n\n    this.$dropdownContainer = $container;\n\n    return $container;\n  };\n\n  AttachBody.prototype._hideDropdown = function (decorated) {\n    this.$dropdownContainer.detach();\n  };\n\n  AttachBody.prototype._bindContainerResultHandlers =\n      function (decorated, container) {\n\n    // These should only be bound once\n    if (this._containerResultsHandlersBound) {\n      return;\n    }\n\n    var self = this;\n\n    container.on('results:all', function () {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n\n    container.on('results:append', function () {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n\n    container.on('results:message', function () {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n\n    container.on('select', function () {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n\n    container.on('unselect', function () {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n\n    this._containerResultsHandlersBound = true;\n  };\n\n  AttachBody.prototype._attachPositioningHandler =\n      function (decorated, container) {\n    var self = this;\n\n    var scrollEvent = 'scroll.select2.' + container.id;\n    var resizeEvent = 'resize.select2.' + container.id;\n    var orientationEvent = 'orientationchange.select2.' + container.id;\n\n    var $watchers = this.$container.parents().filter(Utils.hasScroll);\n    $watchers.each(function () {\n      Utils.StoreData(this, 'select2-scroll-position', {\n        x: $(this).scrollLeft(),\n        y: $(this).scrollTop()\n      });\n    });\n\n    $watchers.on(scrollEvent, function (ev) {\n      var position = Utils.GetData(this, 'select2-scroll-position');\n      $(this).scrollTop(position.y);\n    });\n\n    $(window).on(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent,\n      function (e) {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n  };\n\n  AttachBody.prototype._detachPositioningHandler =\n      function (decorated, container) {\n    var scrollEvent = 'scroll.select2.' + container.id;\n    var resizeEvent = 'resize.select2.' + container.id;\n    var orientationEvent = 'orientationchange.select2.' + container.id;\n\n    var $watchers = this.$container.parents().filter(Utils.hasScroll);\n    $watchers.off(scrollEvent);\n\n    $(window).off(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent);\n  };\n\n  AttachBody.prototype._positionDropdown = function () {\n    var $window = $(window);\n\n    var isCurrentlyAbove = this.$dropdown[0].classList\n      .contains('select2-dropdown--above');\n    var isCurrentlyBelow = this.$dropdown[0].classList\n      .contains('select2-dropdown--below');\n\n    var newDirection = null;\n\n    var offset = this.$container.offset();\n\n    offset.bottom = offset.top + this.$container.outerHeight(false);\n\n    var container = {\n      height: this.$container.outerHeight(false)\n    };\n\n    container.top = offset.top;\n    container.bottom = offset.top + container.height;\n\n    var dropdown = {\n      height: this.$dropdown.outerHeight(false)\n    };\n\n    var viewport = {\n      top: $window.scrollTop(),\n      bottom: $window.scrollTop() + $window.height()\n    };\n\n    var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);\n    var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);\n\n    var css = {\n      left: offset.left,\n      top: container.bottom\n    };\n\n    // Determine what the parent element is to use for calculating the offset\n    var $offsetParent = this.$dropdownParent;\n\n    // For statically positioned elements, we need to get the element\n    // that is determining the offset\n    if ($offsetParent.css('position') === 'static') {\n      $offsetParent = $offsetParent.offsetParent();\n    }\n\n    var parentOffset = {\n      top: 0,\n      left: 0\n    };\n\n    if (\n      $.contains(document.body, $offsetParent[0]) ||\n      $offsetParent[0].isConnected\n      ) {\n      parentOffset = $offsetParent.offset();\n    }\n\n    css.top -= parentOffset.top;\n    css.left -= parentOffset.left;\n\n    if (!isCurrentlyAbove && !isCurrentlyBelow) {\n      newDirection = 'below';\n    }\n\n    if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {\n      newDirection = 'above';\n    } else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {\n      newDirection = 'below';\n    }\n\n    if (newDirection == 'above' ||\n      (isCurrentlyAbove && newDirection !== 'below')) {\n      css.top = container.top - parentOffset.top - dropdown.height;\n    }\n\n    if (newDirection != null) {\n      this.$dropdown[0].classList.remove('select2-dropdown--below');\n      this.$dropdown[0].classList.remove('select2-dropdown--above');\n      this.$dropdown[0].classList.add('select2-dropdown--' + newDirection);\n\n      this.$container[0].classList.remove('select2-container--below');\n      this.$container[0].classList.remove('select2-container--above');\n      this.$container[0].classList.add('select2-container--' + newDirection);\n    }\n\n    this.$dropdownContainer.css(css);\n  };\n\n  AttachBody.prototype._resizeDropdown = function () {\n    var css = {\n      width: this.$container.outerWidth(false) + 'px'\n    };\n\n    if (this.options.get('dropdownAutoWidth')) {\n      css.minWidth = css.width;\n      css.position = 'relative';\n      css.width = 'auto';\n    }\n\n    this.$dropdown.css(css);\n  };\n\n  AttachBody.prototype._showDropdown = function (decorated) {\n    this.$dropdownContainer.appendTo(this.$dropdownParent);\n\n    this._positionDropdown();\n    this._resizeDropdown();\n  };\n\n  return AttachBody;\n});\n\nS2.define('select2/dropdown/minimumResultsForSearch',[\n\n], function () {\n  function countResults (data) {\n    var count = 0;\n\n    for (var d = 0; d < data.length; d++) {\n      var item = data[d];\n\n      if (item.children) {\n        count += countResults(item.children);\n      } else {\n        count++;\n      }\n    }\n\n    return count;\n  }\n\n  function MinimumResultsForSearch (decorated, $element, options, dataAdapter) {\n    this.minimumResultsForSearch = options.get('minimumResultsForSearch');\n\n    if (this.minimumResultsForSearch < 0) {\n      this.minimumResultsForSearch = Infinity;\n    }\n\n    decorated.call(this, $element, options, dataAdapter);\n  }\n\n  MinimumResultsForSearch.prototype.showSearch = function (decorated, params) {\n    if (countResults(params.data.results) < this.minimumResultsForSearch) {\n      return false;\n    }\n\n    return decorated.call(this, params);\n  };\n\n  return MinimumResultsForSearch;\n});\n\nS2.define('select2/dropdown/selectOnClose',[\n  '../utils'\n], function (Utils) {\n  function SelectOnClose () { }\n\n  SelectOnClose.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('close', function (params) {\n      self._handleSelectOnClose(params);\n    });\n  };\n\n  SelectOnClose.prototype._handleSelectOnClose = function (_, params) {\n    if (params && params.originalSelect2Event != null) {\n      var event = params.originalSelect2Event;\n\n      // Don't select an item if the close event was triggered from a select or\n      // unselect event\n      if (event._type === 'select' || event._type === 'unselect') {\n        return;\n      }\n    }\n\n    var $highlightedResults = this.getHighlightedResults();\n\n    // Only select highlighted results\n    if ($highlightedResults.length < 1) {\n      return;\n    }\n\n    var data = Utils.GetData($highlightedResults[0], 'data');\n\n    // Don't re-select already selected resulte\n    if (\n      (data.element != null && data.element.selected) ||\n      (data.element == null && data.selected)\n    ) {\n      return;\n    }\n\n    this.trigger('select', {\n        data: data\n    });\n  };\n\n  return SelectOnClose;\n});\n\nS2.define('select2/dropdown/closeOnSelect',[\n\n], function () {\n  function CloseOnSelect () { }\n\n  CloseOnSelect.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('select', function (evt) {\n      self._selectTriggered(evt);\n    });\n\n    container.on('unselect', function (evt) {\n      self._selectTriggered(evt);\n    });\n  };\n\n  CloseOnSelect.prototype._selectTriggered = function (_, evt) {\n    var originalEvent = evt.originalEvent;\n\n    // Don't close if the control key is being held\n    if (originalEvent && (originalEvent.ctrlKey || originalEvent.metaKey)) {\n      return;\n    }\n\n    this.trigger('close', {\n      originalEvent: originalEvent,\n      originalSelect2Event: evt\n    });\n  };\n\n  return CloseOnSelect;\n});\n\nS2.define('select2/dropdown/dropdownCss',[\n  '../utils'\n], function (Utils) {\n  function DropdownCSS () { }\n\n  DropdownCSS.prototype.render = function (decorated) {\n    var $dropdown = decorated.call(this);\n\n    var dropdownCssClass = this.options.get('dropdownCssClass') || '';\n\n    if (dropdownCssClass.indexOf(':all:') !== -1) {\n      dropdownCssClass = dropdownCssClass.replace(':all:', '');\n\n      Utils.copyNonInternalCssClasses($dropdown[0], this.$element[0]);\n    }\n\n    $dropdown.addClass(dropdownCssClass);\n\n    return $dropdown;\n  };\n\n  return DropdownCSS;\n});\n\nS2.define('select2/dropdown/tagsSearchHighlight',[\n  '../utils'\n], function (Utils) {\n  function TagsSearchHighlight () { }\n\n  TagsSearchHighlight.prototype.highlightFirstItem = function (decorated) {\n    var $options = this.$results\n    .find(\n      '.select2-results__option--selectable' +\n      ':not(.select2-results__option--selected)'\n    );\n\n    if ($options.length > 0) {\n      var $firstOption = $options.first();\n      var data = Utils.GetData($firstOption[0], 'data');\n      var firstElement = data.element;\n\n      if (firstElement && firstElement.getAttribute) {\n        if (firstElement.getAttribute('data-select2-tag') === 'true') {\n          $firstOption.trigger('mouseenter');\n\n          return;\n        }\n      }\n    }\n\n    decorated.call(this);\n  };\n\n  return TagsSearchHighlight;\n});\n\nS2.define('select2/i18n/en',[],function () {\n  // English\n  return {\n    errorLoading: function () {\n      return 'The results could not be loaded.';\n    },\n    inputTooLong: function (args) {\n      var overChars = args.input.length - args.maximum;\n\n      var message = 'Please delete ' + overChars + ' character';\n\n      if (overChars != 1) {\n        message += 's';\n      }\n\n      return message;\n    },\n    inputTooShort: function (args) {\n      var remainingChars = args.minimum - args.input.length;\n\n      var message = 'Please enter ' + remainingChars + ' or more characters';\n\n      return message;\n    },\n    loadingMore: function () {\n      return 'Loading more results\u2026';\n    },\n    maximumSelected: function (args) {\n      var message = 'You can only select ' + args.maximum + ' item';\n\n      if (args.maximum != 1) {\n        message += 's';\n      }\n\n      return message;\n    },\n    noResults: function () {\n      return 'No results found';\n    },\n    searching: function () {\n      return 'Searching\u2026';\n    },\n    removeAllItems: function () {\n      return 'Remove all items';\n    },\n    removeItem: function () {\n      return 'Remove item';\n    },\n    search: function() {\n      return 'Search';\n    }\n  };\n});\n\nS2.define('select2/defaults',[\n  'jquery',\n\n  './results',\n\n  './selection/single',\n  './selection/multiple',\n  './selection/placeholder',\n  './selection/allowClear',\n  './selection/search',\n  './selection/selectionCss',\n  './selection/eventRelay',\n\n  './utils',\n  './translation',\n  './diacritics',\n\n  './data/select',\n  './data/array',\n  './data/ajax',\n  './data/tags',\n  './data/tokenizer',\n  './data/minimumInputLength',\n  './data/maximumInputLength',\n  './data/maximumSelectionLength',\n\n  './dropdown',\n  './dropdown/search',\n  './dropdown/hidePlaceholder',\n  './dropdown/infiniteScroll',\n  './dropdown/attachBody',\n  './dropdown/minimumResultsForSearch',\n  './dropdown/selectOnClose',\n  './dropdown/closeOnSelect',\n  './dropdown/dropdownCss',\n  './dropdown/tagsSearchHighlight',\n\n  './i18n/en'\n], function ($,\n\n             ResultsList,\n\n             SingleSelection, MultipleSelection, Placeholder, AllowClear,\n             SelectionSearch, SelectionCSS, EventRelay,\n\n             Utils, Translation, DIACRITICS,\n\n             SelectData, ArrayData, AjaxData, Tags, Tokenizer,\n             MinimumInputLength, MaximumInputLength, MaximumSelectionLength,\n\n             Dropdown, DropdownSearch, HidePlaceholder, InfiniteScroll,\n             AttachBody, MinimumResultsForSearch, SelectOnClose, CloseOnSelect,\n             DropdownCSS, TagsSearchHighlight,\n\n             EnglishTranslation) {\n  function Defaults () {\n    this.reset();\n  }\n\n  Defaults.prototype.apply = function (options) {\n    options = $.extend(true, {}, this.defaults, options);\n\n    if (options.dataAdapter == null) {\n      if (options.ajax != null) {\n        options.dataAdapter = AjaxData;\n      } else if (options.data != null) {\n        options.dataAdapter = ArrayData;\n      } else {\n        options.dataAdapter = SelectData;\n      }\n\n      if (options.minimumInputLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MinimumInputLength\n        );\n      }\n\n      if (options.maximumInputLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MaximumInputLength\n        );\n      }\n\n      if (options.maximumSelectionLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MaximumSelectionLength\n        );\n      }\n\n      if (options.tags) {\n        options.dataAdapter = Utils.Decorate(options.dataAdapter, Tags);\n      }\n\n      if (options.tokenSeparators != null || options.tokenizer != null) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          Tokenizer\n        );\n      }\n    }\n\n    if (options.resultsAdapter == null) {\n      options.resultsAdapter = ResultsList;\n\n      if (options.ajax != null) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          InfiniteScroll\n        );\n      }\n\n      if (options.placeholder != null) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          HidePlaceholder\n        );\n      }\n\n      if (options.selectOnClose) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          SelectOnClose\n        );\n      }\n\n      if (options.tags) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          TagsSearchHighlight\n        );\n      }\n    }\n\n    if (options.dropdownAdapter == null) {\n      if (options.multiple) {\n        options.dropdownAdapter = Dropdown;\n      } else {\n        var SearchableDropdown = Utils.Decorate(Dropdown, DropdownSearch);\n\n        options.dropdownAdapter = SearchableDropdown;\n      }\n\n      if (options.minimumResultsForSearch !== 0) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          MinimumResultsForSearch\n        );\n      }\n\n      if (options.closeOnSelect) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          CloseOnSelect\n        );\n      }\n\n      if (options.dropdownCssClass != null) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          DropdownCSS\n        );\n      }\n\n      options.dropdownAdapter = Utils.Decorate(\n        options.dropdownAdapter,\n        AttachBody\n      );\n    }\n\n    if (options.selectionAdapter == null) {\n      if (options.multiple) {\n        options.selectionAdapter = MultipleSelection;\n      } else {\n        options.selectionAdapter = SingleSelection;\n      }\n\n      // Add the placeholder mixin if a placeholder was specified\n      if (options.placeholder != null) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          Placeholder\n        );\n      }\n\n      if (options.allowClear) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          AllowClear\n        );\n      }\n\n      if (options.multiple) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          SelectionSearch\n        );\n      }\n\n      if (options.selectionCssClass != null) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          SelectionCSS\n        );\n      }\n\n      options.selectionAdapter = Utils.Decorate(\n        options.selectionAdapter,\n        EventRelay\n      );\n    }\n\n    // If the defaults were not previously applied from an element, it is\n    // possible for the language option to have not been resolved\n    options.language = this._resolveLanguage(options.language);\n\n    // Always fall back to English since it will always be complete\n    options.language.push('en');\n\n    var uniqueLanguages = [];\n\n    for (var l = 0; l < options.language.length; l++) {\n      var language = options.language[l];\n\n      if (uniqueLanguages.indexOf(language) === -1) {\n        uniqueLanguages.push(language);\n      }\n    }\n\n    options.language = uniqueLanguages;\n\n    options.translations = this._processTranslations(\n      options.language,\n      options.debug\n    );\n\n    return options;\n  };\n\n  Defaults.prototype.reset = function () {\n    function stripDiacritics (text) {\n      // Used 'uni range + named function' from http://jsperf.com/diacritics/18\n      function match(a) {\n        return DIACRITICS[a] || a;\n      }\n\n      return text.replace(/[^\\u0000-\\u007E]/g, match);\n    }\n\n    function matcher (params, data) {\n      // Always return the object if there is nothing to compare\n      if (params.term == null || params.term.trim() === '') {\n        return data;\n      }\n\n      // Do a recursive check for options with children\n      if (data.children && data.children.length > 0) {\n        // Clone the data object if there are children\n        // This is required as we modify the object to remove any non-matches\n        var match = $.extend(true, {}, data);\n\n        // Check each child of the option\n        for (var c = data.children.length - 1; c >= 0; c--) {\n          var child = data.children[c];\n\n          var matches = matcher(params, child);\n\n          // If there wasn't a match, remove the object in the array\n          if (matches == null) {\n            match.children.splice(c, 1);\n          }\n        }\n\n        // If any children matched, return the new object\n        if (match.children.length > 0) {\n          return match;\n        }\n\n        // If there were no matching children, check just the plain object\n        return matcher(params, match);\n      }\n\n      var original = stripDiacritics(data.text).toUpperCase();\n      var term = stripDiacritics(params.term).toUpperCase();\n\n      // Check if the text contains the term\n      if (original.indexOf(term) > -1) {\n        return data;\n      }\n\n      // If it doesn't contain the term, don't return anything\n      return null;\n    }\n\n    this.defaults = {\n      amdLanguageBase: './i18n/',\n      autocomplete: 'off',\n      closeOnSelect: true,\n      debug: false,\n      dropdownAutoWidth: false,\n      escapeMarkup: Utils.escapeMarkup,\n      language: {},\n      matcher: matcher,\n      minimumInputLength: 0,\n      maximumInputLength: 0,\n      maximumSelectionLength: 0,\n      minimumResultsForSearch: 0,\n      selectOnClose: false,\n      scrollAfterSelect: false,\n      sorter: function (data) {\n        return data;\n      },\n      templateResult: function (result) {\n        return result.text;\n      },\n      templateSelection: function (selection) {\n        return selection.text;\n      },\n      theme: 'default',\n      width: 'resolve'\n    };\n  };\n\n  Defaults.prototype.applyFromElement = function (options, $element) {\n    var optionLanguage = options.language;\n    var defaultLanguage = this.defaults.language;\n    var elementLanguage = $element.prop('lang');\n    var parentLanguage = $element.closest('[lang]').prop('lang');\n\n    var languages = Array.prototype.concat.call(\n      this._resolveLanguage(elementLanguage),\n      this._resolveLanguage(optionLanguage),\n      this._resolveLanguage(defaultLanguage),\n      this._resolveLanguage(parentLanguage)\n    );\n\n    options.language = languages;\n\n    return options;\n  };\n\n  Defaults.prototype._resolveLanguage = function (language) {\n    if (!language) {\n      return [];\n    }\n\n    if ($.isEmptyObject(language)) {\n      return [];\n    }\n\n    if ($.isPlainObject(language)) {\n      return [language];\n    }\n\n    var languages;\n\n    if (!Array.isArray(language)) {\n      languages = [language];\n    } else {\n      languages = language;\n    }\n\n    var resolvedLanguages = [];\n\n    for (var l = 0; l < languages.length; l++) {\n      resolvedLanguages.push(languages[l]);\n\n      if (typeof languages[l] === 'string' && languages[l].indexOf('-') > 0) {\n        // Extract the region information if it is included\n        var languageParts = languages[l].split('-');\n        var baseLanguage = languageParts[0];\n\n        resolvedLanguages.push(baseLanguage);\n      }\n    }\n\n    return resolvedLanguages;\n  };\n\n  Defaults.prototype._processTranslations = function (languages, debug) {\n    var translations = new Translation();\n\n    for (var l = 0; l < languages.length; l++) {\n      var languageData = new Translation();\n\n      var language = languages[l];\n\n      if (typeof language === 'string') {\n        try {\n          // Try to load it with the original name\n          languageData = Translation.loadPath(language);\n        } catch (e) {\n          try {\n            // If we couldn't load it, check if it wasn't the full path\n            language = this.defaults.amdLanguageBase + language;\n            languageData = Translation.loadPath(language);\n          } catch (ex) {\n            // The translation could not be loaded at all. Sometimes this is\n            // because of a configuration problem, other times this can be\n            // because of how Select2 helps load all possible translation files\n            if (debug && window.console && console.warn) {\n              console.warn(\n                'Select2: The language file for \"' + language + '\" could ' +\n                'not be automatically loaded. A fallback will be used instead.'\n              );\n            }\n          }\n        }\n      } else if ($.isPlainObject(language)) {\n        languageData = new Translation(language);\n      } else {\n        languageData = language;\n      }\n\n      translations.extend(languageData);\n    }\n\n    return translations;\n  };\n\n  Defaults.prototype.set = function (key, value) {\n    var camelKey = $.camelCase(key);\n\n    var data = {};\n    data[camelKey] = value;\n\n    var convertedData = Utils._convertData(data);\n\n    $.extend(true, this.defaults, convertedData);\n  };\n\n  var defaults = new Defaults();\n\n  return defaults;\n});\n\nS2.define('select2/options',[\n  'jquery',\n  './defaults',\n  './utils'\n], function ($, Defaults, Utils) {\n  function Options (options, $element) {\n    this.options = options;\n\n    if ($element != null) {\n      this.fromElement($element);\n    }\n\n    if ($element != null) {\n      this.options = Defaults.applyFromElement(this.options, $element);\n    }\n\n    this.options = Defaults.apply(this.options);\n  }\n\n  Options.prototype.fromElement = function ($e) {\n    var excludedData = ['select2'];\n\n    if (this.options.multiple == null) {\n      this.options.multiple = $e.prop('multiple');\n    }\n\n    if (this.options.disabled == null) {\n      this.options.disabled = $e.prop('disabled');\n    }\n\n    if (this.options.autocomplete == null && $e.prop('autocomplete')) {\n      this.options.autocomplete = $e.prop('autocomplete');\n    }\n\n    if (this.options.dir == null) {\n      if ($e.prop('dir')) {\n        this.options.dir = $e.prop('dir');\n      } else if ($e.closest('[dir]').prop('dir')) {\n        this.options.dir = $e.closest('[dir]').prop('dir');\n      } else {\n        this.options.dir = 'ltr';\n      }\n    }\n\n    $e.prop('disabled', this.options.disabled);\n    $e.prop('multiple', this.options.multiple);\n\n    if (Utils.GetData($e[0], 'select2Tags')) {\n      if (this.options.debug && window.console && console.warn) {\n        console.warn(\n          'Select2: The `data-select2-tags` attribute has been changed to ' +\n          'use the `data-data` and `data-tags=\"true\"` attributes and will be ' +\n          'removed in future versions of Select2.'\n        );\n      }\n\n      Utils.StoreData($e[0], 'data', Utils.GetData($e[0], 'select2Tags'));\n      Utils.StoreData($e[0], 'tags', true);\n    }\n\n    if (Utils.GetData($e[0], 'ajaxUrl')) {\n      if (this.options.debug && window.console && console.warn) {\n        console.warn(\n          'Select2: The `data-ajax-url` attribute has been changed to ' +\n          '`data-ajax--url` and support for the old attribute will be removed' +\n          ' in future versions of Select2.'\n        );\n      }\n\n      $e.attr('ajax--url', Utils.GetData($e[0], 'ajaxUrl'));\n      Utils.StoreData($e[0], 'ajax-Url', Utils.GetData($e[0], 'ajaxUrl'));\n    }\n\n    var dataset = {};\n\n    function upperCaseLetter(_, letter) {\n      return letter.toUpperCase();\n    }\n\n    // Pre-load all of the attributes which are prefixed with `data-`\n    for (var attr = 0; attr < $e[0].attributes.length; attr++) {\n      var attributeName = $e[0].attributes[attr].name;\n      var prefix = 'data-';\n\n      if (attributeName.substr(0, prefix.length) == prefix) {\n        // Get the contents of the attribute after `data-`\n        var dataName = attributeName.substring(prefix.length);\n\n        // Get the data contents from the consistent source\n        // This is more than likely the jQuery data helper\n        var dataValue = Utils.GetData($e[0], dataName);\n\n        // camelCase the attribute name to match the spec\n        var camelDataName = dataName.replace(/-([a-z])/g, upperCaseLetter);\n\n        // Store the data attribute contents into the dataset since\n        dataset[camelDataName] = dataValue;\n      }\n    }\n\n    // Prefer the element's `dataset` attribute if it exists\n    // jQuery 1.x does not correctly handle data attributes with multiple dashes\n    if ($.fn.jquery && $.fn.jquery.substr(0, 2) == '1.' && $e[0].dataset) {\n      dataset = $.extend(true, {}, $e[0].dataset, dataset);\n    }\n\n    // Prefer our internal data cache if it exists\n    var data = $.extend(true, {}, Utils.GetData($e[0]), dataset);\n\n    data = Utils._convertData(data);\n\n    for (var key in data) {\n      if (excludedData.indexOf(key) > -1) {\n        continue;\n      }\n\n      if ($.isPlainObject(this.options[key])) {\n        $.extend(this.options[key], data[key]);\n      } else {\n        this.options[key] = data[key];\n      }\n    }\n\n    return this;\n  };\n\n  Options.prototype.get = function (key) {\n    return this.options[key];\n  };\n\n  Options.prototype.set = function (key, val) {\n    this.options[key] = val;\n  };\n\n  return Options;\n});\n\nS2.define('select2/core',[\n  'jquery',\n  './options',\n  './utils',\n  './keys'\n], function ($, Options, Utils, KEYS) {\n  var Select2 = function ($element, options) {\n    if (Utils.GetData($element[0], 'select2') != null) {\n      Utils.GetData($element[0], 'select2').destroy();\n    }\n\n    this.$element = $element;\n\n    this.id = this._generateId($element);\n\n    options = options || {};\n\n    this.options = new Options(options, $element);\n\n    Select2.__super__.constructor.call(this);\n\n    // Set up the tabindex\n\n    var tabindex = $element.attr('tabindex') || 0;\n    Utils.StoreData($element[0], 'old-tabindex', tabindex);\n    $element.attr('tabindex', '-1');\n\n    // Set up containers and adapters\n\n    var DataAdapter = this.options.get('dataAdapter');\n    this.dataAdapter = new DataAdapter($element, this.options);\n\n    var $container = this.render();\n\n    this._placeContainer($container);\n\n    var SelectionAdapter = this.options.get('selectionAdapter');\n    this.selection = new SelectionAdapter($element, this.options);\n    this.$selection = this.selection.render();\n\n    this.selection.position(this.$selection, $container);\n\n    var DropdownAdapter = this.options.get('dropdownAdapter');\n    this.dropdown = new DropdownAdapter($element, this.options);\n    this.$dropdown = this.dropdown.render();\n\n    this.dropdown.position(this.$dropdown, $container);\n\n    var ResultsAdapter = this.options.get('resultsAdapter');\n    this.results = new ResultsAdapter($element, this.options, this.dataAdapter);\n    this.$results = this.results.render();\n\n    this.results.position(this.$results, this.$dropdown);\n\n    // Bind events\n\n    var self = this;\n\n    // Bind the container to all of the adapters\n    this._bindAdapters();\n\n    // Register any DOM event handlers\n    this._registerDomEvents();\n\n    // Register any internal event handlers\n    this._registerDataEvents();\n    this._registerSelectionEvents();\n    this._registerDropdownEvents();\n    this._registerResultsEvents();\n    this._registerEvents();\n\n    // Set the initial state\n    this.dataAdapter.current(function (initialData) {\n      self.trigger('selection:update', {\n        data: initialData\n      });\n    });\n\n    // Hide the original select\n    $element[0].classList.add('select2-hidden-accessible');\n    $element.attr('aria-hidden', 'true');\n\n    // Synchronize any monitored attributes\n    this._syncAttributes();\n\n    Utils.StoreData($element[0], 'select2', this);\n\n    // Ensure backwards compatibility with $element.data('select2').\n    $element.data('select2', this);\n  };\n\n  Utils.Extend(Select2, Utils.Observable);\n\n  Select2.prototype._generateId = function ($element) {\n    var id = '';\n\n    if ($element.attr('id') != null) {\n      id = $element.attr('id');\n    } else if ($element.attr('name') != null) {\n      id = $element.attr('name') + '-' + Utils.generateChars(2);\n    } else {\n      id = Utils.generateChars(4);\n    }\n\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = 'select2-' + id;\n\n    return id;\n  };\n\n  Select2.prototype._placeContainer = function ($container) {\n    $container.insertAfter(this.$element);\n\n    var width = this._resolveWidth(this.$element, this.options.get('width'));\n\n    if (width != null) {\n      $container.css('width', width);\n    }\n  };\n\n  Select2.prototype._resolveWidth = function ($element, method) {\n    var WIDTH = /^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;\n\n    if (method == 'resolve') {\n      var styleWidth = this._resolveWidth($element, 'style');\n\n      if (styleWidth != null) {\n        return styleWidth;\n      }\n\n      return this._resolveWidth($element, 'element');\n    }\n\n    if (method == 'element') {\n      var elementWidth = $element.outerWidth(false);\n\n      if (elementWidth <= 0) {\n        return 'auto';\n      }\n\n      return elementWidth + 'px';\n    }\n\n    if (method == 'style') {\n      var style = $element.attr('style');\n\n      if (typeof(style) !== 'string') {\n        return null;\n      }\n\n      var attrs = style.split(';');\n\n      for (var i = 0, l = attrs.length; i < l; i = i + 1) {\n        var attr = attrs[i].replace(/\\s/g, '');\n        var matches = attr.match(WIDTH);\n\n        if (matches !== null && matches.length >= 1) {\n          return matches[1];\n        }\n      }\n\n      return null;\n    }\n\n    if (method == 'computedstyle') {\n      var computedStyle = window.getComputedStyle($element[0]);\n\n      return computedStyle.width;\n    }\n\n    return method;\n  };\n\n  Select2.prototype._bindAdapters = function () {\n    this.dataAdapter.bind(this, this.$container);\n    this.selection.bind(this, this.$container);\n\n    this.dropdown.bind(this, this.$container);\n    this.results.bind(this, this.$container);\n  };\n\n  Select2.prototype._registerDomEvents = function () {\n    var self = this;\n\n    this.$element.on('change.select2', function () {\n      self.dataAdapter.current(function (data) {\n        self.trigger('selection:update', {\n          data: data\n        });\n      });\n    });\n\n    this.$element.on('focus.select2', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this._syncA = Utils.bind(this._syncAttributes, this);\n    this._syncS = Utils.bind(this._syncSubtree, this);\n\n    this._observer = new window.MutationObserver(function (mutations) {\n      self._syncA();\n      self._syncS(mutations);\n    });\n    this._observer.observe(this.$element[0], {\n      attributes: true,\n      childList: true,\n      subtree: false\n    });\n  };\n\n  Select2.prototype._registerDataEvents = function () {\n    var self = this;\n\n    this.dataAdapter.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerSelectionEvents = function () {\n    var self = this;\n    var nonRelayEvents = ['toggle', 'focus'];\n\n    this.selection.on('toggle', function () {\n      self.toggleDropdown();\n    });\n\n    this.selection.on('focus', function (params) {\n      self.focus(params);\n    });\n\n    this.selection.on('*', function (name, params) {\n      if (nonRelayEvents.indexOf(name) !== -1) {\n        return;\n      }\n\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerDropdownEvents = function () {\n    var self = this;\n\n    this.dropdown.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerResultsEvents = function () {\n    var self = this;\n\n    this.results.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerEvents = function () {\n    var self = this;\n\n    this.on('open', function () {\n      self.$container[0].classList.add('select2-container--open');\n    });\n\n    this.on('close', function () {\n      self.$container[0].classList.remove('select2-container--open');\n    });\n\n    this.on('enable', function () {\n      self.$container[0].classList.remove('select2-container--disabled');\n    });\n\n    this.on('disable', function () {\n      self.$container[0].classList.add('select2-container--disabled');\n    });\n\n    this.on('blur', function () {\n      self.$container[0].classList.remove('select2-container--focus');\n    });\n\n    this.on('query', function (params) {\n      if (!self.isOpen()) {\n        self.trigger('open', {});\n      }\n\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:all', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('query:append', function (params) {\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:append', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('keypress', function (evt) {\n      var key = evt.which;\n\n      if (self.isOpen()) {\n        if (key === KEYS.ESC || (key === KEYS.UP && evt.altKey)) {\n          self.close(evt);\n\n          evt.preventDefault();\n        } else if (key === KEYS.ENTER || key === KEYS.TAB) {\n          self.trigger('results:select', {});\n\n          evt.preventDefault();\n        } else if ((key === KEYS.SPACE && evt.ctrlKey)) {\n          self.trigger('results:toggle', {});\n\n          evt.preventDefault();\n        } else if (key === KEYS.UP) {\n          self.trigger('results:previous', {});\n\n          evt.preventDefault();\n        } else if (key === KEYS.DOWN) {\n          self.trigger('results:next', {});\n\n          evt.preventDefault();\n        }\n      } else {\n        if (key === KEYS.ENTER || key === KEYS.SPACE ||\n            (key === KEYS.DOWN && evt.altKey)) {\n          self.open();\n\n          evt.preventDefault();\n        }\n      }\n    });\n  };\n\n  Select2.prototype._syncAttributes = function () {\n    this.options.set('disabled', this.$element.prop('disabled'));\n\n    if (this.isDisabled()) {\n      if (this.isOpen()) {\n        this.close();\n      }\n\n      this.trigger('disable', {});\n    } else {\n      this.trigger('enable', {});\n    }\n  };\n\n  Select2.prototype._isChangeMutation = function (mutations) {\n    var self = this;\n\n    if (mutations.addedNodes && mutations.addedNodes.length > 0) {\n      for (var n = 0; n < mutations.addedNodes.length; n++) {\n        var node = mutations.addedNodes[n];\n\n        if (node.selected) {\n          return true;\n        }\n      }\n    } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {\n      return true;\n    } else if (Array.isArray(mutations)) {\n      return mutations.some(function (mutation) {\n        return self._isChangeMutation(mutation);\n      });\n    }\n\n    return false;\n  };\n\n  Select2.prototype._syncSubtree = function (mutations) {\n    var changed = this._isChangeMutation(mutations);\n    var self = this;\n\n    // Only re-pull the data if we think there is a change\n    if (changed) {\n      this.dataAdapter.current(function (currentData) {\n        self.trigger('selection:update', {\n          data: currentData\n        });\n      });\n    }\n  };\n\n  /**\n   * Override the trigger method to automatically trigger pre-events when\n   * there are events that can be prevented.\n   */\n  Select2.prototype.trigger = function (name, args) {\n    var actualTrigger = Select2.__super__.trigger;\n    var preTriggerMap = {\n      'open': 'opening',\n      'close': 'closing',\n      'select': 'selecting',\n      'unselect': 'unselecting',\n      'clear': 'clearing'\n    };\n\n    if (args === undefined) {\n      args = {};\n    }\n\n    if (name in preTriggerMap) {\n      var preTriggerName = preTriggerMap[name];\n      var preTriggerArgs = {\n        prevented: false,\n        name: name,\n        args: args\n      };\n\n      actualTrigger.call(this, preTriggerName, preTriggerArgs);\n\n      if (preTriggerArgs.prevented) {\n        args.prevented = true;\n\n        return;\n      }\n    }\n\n    actualTrigger.call(this, name, args);\n  };\n\n  Select2.prototype.toggleDropdown = function () {\n    if (this.isDisabled()) {\n      return;\n    }\n\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  Select2.prototype.open = function () {\n    if (this.isOpen()) {\n      return;\n    }\n\n    if (this.isDisabled()) {\n      return;\n    }\n\n    this.trigger('query', {});\n  };\n\n  Select2.prototype.close = function (evt) {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.trigger('close', { originalEvent : evt });\n  };\n\n  /**\n   * Helper method to abstract the \"enabled\" (not \"disabled\") state of this\n   * object.\n   *\n   * @return {true} if the instance is not disabled.\n   * @return {false} if the instance is disabled.\n   */\n  Select2.prototype.isEnabled = function () {\n    return !this.isDisabled();\n  };\n\n  /**\n   * Helper method to abstract the \"disabled\" state of this object.\n   *\n   * @return {true} if the disabled option is true.\n   * @return {false} if the disabled option is false.\n   */\n  Select2.prototype.isDisabled = function () {\n    return this.options.get('disabled');\n  };\n\n  Select2.prototype.isOpen = function () {\n    return this.$container[0].classList.contains('select2-container--open');\n  };\n\n  Select2.prototype.hasFocus = function () {\n    return this.$container[0].classList.contains('select2-container--focus');\n  };\n\n  Select2.prototype.focus = function (data) {\n    // No need to re-trigger focus events if we are already focused\n    if (this.hasFocus()) {\n      return;\n    }\n\n    this.$container[0].classList.add('select2-container--focus');\n    this.trigger('focus', {});\n  };\n\n  Select2.prototype.enable = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"enable\")` method has been deprecated and will' +\n        ' be removed in later Select2 versions. Use $element.prop(\"disabled\")' +\n        ' instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      args = [true];\n    }\n\n    var disabled = !args[0];\n\n    this.$element.prop('disabled', disabled);\n  };\n\n  Select2.prototype.data = function () {\n    if (this.options.get('debug') &&\n        arguments.length > 0 && window.console && console.warn) {\n      console.warn(\n        'Select2: Data can no longer be set using `select2(\"data\")`. You ' +\n        'should consider setting the value instead using `$element.val()`.'\n      );\n    }\n\n    var data = [];\n\n    this.dataAdapter.current(function (currentData) {\n      data = currentData;\n    });\n\n    return data;\n  };\n\n  Select2.prototype.val = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"val\")` method has been deprecated and will be' +\n        ' removed in later Select2 versions. Use $element.val() instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      return this.$element.val();\n    }\n\n    var newVal = args[0];\n\n    if (Array.isArray(newVal)) {\n      newVal = newVal.map(function (obj) {\n        return obj.toString();\n      });\n    }\n\n    this.$element.val(newVal).trigger('input').trigger('change');\n  };\n\n  Select2.prototype.destroy = function () {\n    Utils.RemoveData(this.$container[0]);\n    this.$container.remove();\n\n    this._observer.disconnect();\n    this._observer = null;\n\n    this._syncA = null;\n    this._syncS = null;\n\n    this.$element.off('.select2');\n    this.$element.attr('tabindex',\n    Utils.GetData(this.$element[0], 'old-tabindex'));\n\n    this.$element[0].classList.remove('select2-hidden-accessible');\n    this.$element.attr('aria-hidden', 'false');\n    Utils.RemoveData(this.$element[0]);\n    this.$element.removeData('select2');\n\n    this.dataAdapter.destroy();\n    this.selection.destroy();\n    this.dropdown.destroy();\n    this.results.destroy();\n\n    this.dataAdapter = null;\n    this.selection = null;\n    this.dropdown = null;\n    this.results = null;\n  };\n\n  Select2.prototype.render = function () {\n    var $container = $(\n      '<span class=\"select2 select2-container\">' +\n        '<span class=\"selection\"></span>' +\n        '<span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span>' +\n      '</span>'\n    );\n\n    $container.attr('dir', this.options.get('dir'));\n\n    this.$container = $container;\n\n    this.$container[0].classList\n      .add('select2-container--' + this.options.get('theme'));\n\n    Utils.StoreData($container[0], 'element', this.$element);\n\n    return $container;\n  };\n\n  return Select2;\n});\n\nS2.define('jquery-mousewheel',[\n  'jquery'\n], function ($) {\n  // Used to shim jQuery.mousewheel for non-full builds.\n  return $;\n});\n\nS2.define('jquery.select2',[\n  'jquery',\n  'jquery-mousewheel',\n\n  './select2/core',\n  './select2/defaults',\n  './select2/utils'\n], function ($, _, Select2, Defaults, Utils) {\n  if ($.fn.select2 == null) {\n    // All methods that should return the element\n    var thisMethods = ['open', 'close', 'destroy'];\n\n    $.fn.select2 = function (options) {\n      options = options || {};\n\n      if (typeof options === 'object') {\n        this.each(function () {\n          var instanceOptions = $.extend(true, {}, options);\n\n          var instance = new Select2($(this), instanceOptions);\n        });\n\n        return this;\n      } else if (typeof options === 'string') {\n        var ret;\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        this.each(function () {\n          var instance = Utils.GetData(this, 'select2');\n\n          if (instance == null && window.console && console.error) {\n            console.error(\n              'The select2(\\'' + options + '\\') method was called on an ' +\n              'element that is not using Select2.'\n            );\n          }\n\n          ret = instance[options].apply(instance, args);\n        });\n\n        // Check if we should be returning `this`\n        if (thisMethods.indexOf(options) > -1) {\n          return this;\n        }\n\n        return ret;\n      } else {\n        throw new Error('Invalid arguments for Select2: ' + options);\n      }\n    };\n  }\n\n  if ($.fn.select2.defaults == null) {\n    $.fn.select2.defaults = Defaults;\n  }\n\n  return Select2;\n});\n\n  // Return the AMD loader configuration so it can be used outside of this file\n  return {\n    define: S2.define,\n    require: S2.require\n  };\n}());\n\n  // Autoload the jQuery bindings\n  // We know that all of the modules exist above this, so we're safe\n  var select2 = S2.require('jquery.select2');\n\n  // Hold the AMD module references on the jQuery function that was just loaded\n  // This allows Select2 to use the internal loader outside of this file, such\n  // as in the language files.\n  jQuery.fn.select2.amd = S2;\n\n  // Return the Select2 instance for anyone who is importing it.\n  return select2;\n}));\n", "/* global define */\n\n(function (root, pluralize) {\n  /* istanbul ignore else */\n  if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {\n    // Node.\n    module.exports = pluralize();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD, registers as an anonymous module.\n    define(function () {\n      return pluralize();\n    });\n  } else {\n    // Browser global.\n    root.pluralize = pluralize();\n  }\n})(this, function () {\n  // Rule storage - pluralize and singularize need to be run sequentially,\n  // while other rules can be optimized using an object for instant lookups.\n  var pluralRules = [];\n  var singularRules = [];\n  var uncountables = {};\n  var irregularPlurals = {};\n  var irregularSingles = {};\n\n  /**\n   * Sanitize a pluralization rule to a usable regular expression.\n   *\n   * @param  {(RegExp|string)} rule\n   * @return {RegExp}\n   */\n  function sanitizeRule (rule) {\n    if (typeof rule === 'string') {\n      return new RegExp('^' + rule + '$', 'i');\n    }\n\n    return rule;\n  }\n\n  /**\n   * Pass in a word token to produce a function that can replicate the case on\n   * another word.\n   *\n   * @param  {string}   word\n   * @param  {string}   token\n   * @return {Function}\n   */\n  function restoreCase (word, token) {\n    // Tokens are an exact match.\n    if (word === token) return token;\n\n    // Lower cased words. E.g. \"hello\".\n    if (word === word.toLowerCase()) return token.toLowerCase();\n\n    // Upper cased words. E.g. \"WHISKY\".\n    if (word === word.toUpperCase()) return token.toUpperCase();\n\n    // Title cased words. E.g. \"Title\".\n    if (word[0] === word[0].toUpperCase()) {\n      return token.charAt(0).toUpperCase() + token.substr(1).toLowerCase();\n    }\n\n    // Lower cased words. E.g. \"test\".\n    return token.toLowerCase();\n  }\n\n  /**\n   * Interpolate a regexp string.\n   *\n   * @param  {string} str\n   * @param  {Array}  args\n   * @return {string}\n   */\n  function interpolate (str, args) {\n    return str.replace(/\\$(\\d{1,2})/g, function (match, index) {\n      return args[index] || '';\n    });\n  }\n\n  /**\n   * Replace a word using a rule.\n   *\n   * @param  {string} word\n   * @param  {Array}  rule\n   * @return {string}\n   */\n  function replace (word, rule) {\n    return word.replace(rule[0], function (match, index) {\n      var result = interpolate(rule[1], arguments);\n\n      if (match === '') {\n        return restoreCase(word[index - 1], result);\n      }\n\n      return restoreCase(match, result);\n    });\n  }\n\n  /**\n   * Sanitize a word by passing in the word and sanitization rules.\n   *\n   * @param  {string}   token\n   * @param  {string}   word\n   * @param  {Array}    rules\n   * @return {string}\n   */\n  function sanitizeWord (token, word, rules) {\n    // Empty string or doesn't need fixing.\n    if (!token.length || uncountables.hasOwnProperty(token)) {\n      return word;\n    }\n\n    var len = rules.length;\n\n    // Iterate over the sanitization rules and use the first one to match.\n    while (len--) {\n      var rule = rules[len];\n\n      if (rule[0].test(word)) return replace(word, rule);\n    }\n\n    return word;\n  }\n\n  /**\n   * Replace a word with the updated word.\n   *\n   * @param  {Object}   replaceMap\n   * @param  {Object}   keepMap\n   * @param  {Array}    rules\n   * @return {Function}\n   */\n  function replaceWord (replaceMap, keepMap, rules) {\n    return function (word) {\n      // Get the correct token and case restoration functions.\n      var token = word.toLowerCase();\n\n      // Check against the keep object map.\n      if (keepMap.hasOwnProperty(token)) {\n        return restoreCase(word, token);\n      }\n\n      // Check against the replacement map for a direct word replacement.\n      if (replaceMap.hasOwnProperty(token)) {\n        return restoreCase(word, replaceMap[token]);\n      }\n\n      // Run all the rules against the word.\n      return sanitizeWord(token, word, rules);\n    };\n  }\n\n  /**\n   * Check if a word is part of the map.\n   */\n  function checkWord (replaceMap, keepMap, rules, bool) {\n    return function (word) {\n      var token = word.toLowerCase();\n\n      if (keepMap.hasOwnProperty(token)) return true;\n      if (replaceMap.hasOwnProperty(token)) return false;\n\n      return sanitizeWord(token, token, rules) === token;\n    };\n  }\n\n  /**\n   * Pluralize or singularize a word based on the passed in count.\n   *\n   * @param  {string}  word      The word to pluralize\n   * @param  {number}  count     How many of the word exist\n   * @param  {boolean} inclusive Whether to prefix with the number (e.g. 3 ducks)\n   * @return {string}\n   */\n  function pluralize (word, count, inclusive) {\n    var pluralized = count === 1\n      ? pluralize.singular(word) : pluralize.plural(word);\n\n    return (inclusive ? count + ' ' : '') + pluralized;\n  }\n\n  /**\n   * Pluralize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.plural = replaceWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Check if a word is plural.\n   *\n   * @type {Function}\n   */\n  pluralize.isPlural = checkWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Singularize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.singular = replaceWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Check if a word is singular.\n   *\n   * @type {Function}\n   */\n  pluralize.isSingular = checkWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Add a pluralization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addPluralRule = function (rule, replacement) {\n    pluralRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add a singularization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addSingularRule = function (rule, replacement) {\n    singularRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add an uncountable word rule.\n   *\n   * @param {(string|RegExp)} word\n   */\n  pluralize.addUncountableRule = function (word) {\n    if (typeof word === 'string') {\n      uncountables[word.toLowerCase()] = true;\n      return;\n    }\n\n    // Set singular and plural references for the word.\n    pluralize.addPluralRule(word, '$0');\n    pluralize.addSingularRule(word, '$0');\n  };\n\n  /**\n   * Add an irregular word definition.\n   *\n   * @param {string} single\n   * @param {string} plural\n   */\n  pluralize.addIrregularRule = function (single, plural) {\n    plural = plural.toLowerCase();\n    single = single.toLowerCase();\n\n    irregularSingles[single] = plural;\n    irregularPlurals[plural] = single;\n  };\n\n  /**\n   * Irregular rules.\n   */\n  [\n    // Pronouns.\n    ['I', 'we'],\n    ['me', 'us'],\n    ['he', 'they'],\n    ['she', 'they'],\n    ['them', 'them'],\n    ['myself', 'ourselves'],\n    ['yourself', 'yourselves'],\n    ['itself', 'themselves'],\n    ['herself', 'themselves'],\n    ['himself', 'themselves'],\n    ['themself', 'themselves'],\n    ['is', 'are'],\n    ['was', 'were'],\n    ['has', 'have'],\n    ['this', 'these'],\n    ['that', 'those'],\n    // Words ending in with a consonant and `o`.\n    ['echo', 'echoes'],\n    ['dingo', 'dingoes'],\n    ['volcano', 'volcanoes'],\n    ['tornado', 'tornadoes'],\n    ['torpedo', 'torpedoes'],\n    // Ends with `us`.\n    ['genus', 'genera'],\n    ['viscus', 'viscera'],\n    // Ends with `ma`.\n    ['stigma', 'stigmata'],\n    ['stoma', 'stomata'],\n    ['dogma', 'dogmata'],\n    ['lemma', 'lemmata'],\n    ['schema', 'schemata'],\n    ['anathema', 'anathemata'],\n    // Other irregular rules.\n    ['ox', 'oxen'],\n    ['axe', 'axes'],\n    ['die', 'dice'],\n    ['yes', 'yeses'],\n    ['foot', 'feet'],\n    ['eave', 'eaves'],\n    ['goose', 'geese'],\n    ['tooth', 'teeth'],\n    ['quiz', 'quizzes'],\n    ['human', 'humans'],\n    ['proof', 'proofs'],\n    ['carve', 'carves'],\n    ['valve', 'valves'],\n    ['looey', 'looies'],\n    ['thief', 'thieves'],\n    ['groove', 'grooves'],\n    ['pickaxe', 'pickaxes'],\n    ['passerby', 'passersby']\n  ].forEach(function (rule) {\n    return pluralize.addIrregularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Pluralization rules.\n   */\n  [\n    [/s?$/i, 's'],\n    [/[^\\u0000-\\u007F]$/i, '$0'],\n    [/([^aeiou]ese)$/i, '$1'],\n    [/(ax|test)is$/i, '$1es'],\n    [/(alias|[^aou]us|t[lm]as|gas|ris)$/i, '$1es'],\n    [/(e[mn]u)s?$/i, '$1s'],\n    [/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i, '$1'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1i'],\n    [/(alumn|alg|vertebr)(?:a|ae)$/i, '$1ae'],\n    [/(seraph|cherub)(?:im)?$/i, '$1im'],\n    [/(her|at|gr)o$/i, '$1oes'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i, '$1a'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i, '$1a'],\n    [/sis$/i, 'ses'],\n    [/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i, '$1$2ves'],\n    [/([^aeiouy]|qu)y$/i, '$1ies'],\n    [/([^ch][ieo][ln])ey$/i, '$1ies'],\n    [/(x|ch|ss|sh|zz)$/i, '$1es'],\n    [/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i, '$1ices'],\n    [/\\b((?:tit)?m|l)(?:ice|ouse)$/i, '$1ice'],\n    [/(pe)(?:rson|ople)$/i, '$1ople'],\n    [/(child)(?:ren)?$/i, '$1ren'],\n    [/eaux$/i, '$0'],\n    [/m[ae]n$/i, 'men'],\n    ['thou', 'you']\n  ].forEach(function (rule) {\n    return pluralize.addPluralRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Singularization rules.\n   */\n  [\n    [/s$/i, ''],\n    [/(ss)$/i, '$1'],\n    [/(wi|kni|(?:after|half|high|low|mid|non|night|[^\\w]|^)li)ves$/i, '$1fe'],\n    [/(ar|(?:wo|[ae])l|[eo][ao])ves$/i, '$1f'],\n    [/ies$/i, 'y'],\n    [/\\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i, '$1ie'],\n    [/\\b(mon|smil)ies$/i, '$1ey'],\n    [/\\b((?:tit)?m|l)ice$/i, '$1ouse'],\n    [/(seraph|cherub)im$/i, '$1'],\n    [/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i, '$1'],\n    [/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i, '$1sis'],\n    [/(movie|twelve|abuse|e[mn]u)s$/i, '$1'],\n    [/(test)(?:is|es)$/i, '$1is'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1us'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i, '$1um'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i, '$1on'],\n    [/(alumn|alg|vertebr)ae$/i, '$1a'],\n    [/(cod|mur|sil|vert|ind)ices$/i, '$1ex'],\n    [/(matr|append)ices$/i, '$1ix'],\n    [/(pe)(rson|ople)$/i, '$1rson'],\n    [/(child)ren$/i, '$1'],\n    [/(eau)x?$/i, '$1'],\n    [/men$/i, 'man']\n  ].forEach(function (rule) {\n    return pluralize.addSingularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Uncountable rules.\n   */\n  [\n    // Singular words with no plurals.\n    'adulthood',\n    'advice',\n    'agenda',\n    'aid',\n    'aircraft',\n    'alcohol',\n    'ammo',\n    'analytics',\n    'anime',\n    'athletics',\n    'audio',\n    'bison',\n    'blood',\n    'bream',\n    'buffalo',\n    'butter',\n    'carp',\n    'cash',\n    'chassis',\n    'chess',\n    'clothing',\n    'cod',\n    'commerce',\n    'cooperation',\n    'corps',\n    'debris',\n    'diabetes',\n    'digestion',\n    'elk',\n    'energy',\n    'equipment',\n    'excretion',\n    'expertise',\n    'firmware',\n    'flounder',\n    'fun',\n    'gallows',\n    'garbage',\n    'graffiti',\n    'hardware',\n    'headquarters',\n    'health',\n    'herpes',\n    'highjinks',\n    'homework',\n    'housework',\n    'information',\n    'jeans',\n    'justice',\n    'kudos',\n    'labour',\n    'literature',\n    'machinery',\n    'mackerel',\n    'mail',\n    'media',\n    'mews',\n    'moose',\n    'music',\n    'mud',\n    'manga',\n    'news',\n    'only',\n    'personnel',\n    'pike',\n    'plankton',\n    'pliers',\n    'police',\n    'pollution',\n    'premises',\n    'rain',\n    'research',\n    'rice',\n    'salmon',\n    'scissors',\n    'series',\n    'sewage',\n    'shambles',\n    'shrimp',\n    'software',\n    'species',\n    'staff',\n    'swine',\n    'tennis',\n    'traffic',\n    'transportation',\n    'trout',\n    'tuna',\n    'wealth',\n    'welfare',\n    'whiting',\n    'wildebeest',\n    'wildlife',\n    'you',\n    /pok[e\u00E9]mon$/i,\n    // Regexes.\n    /[^aeiou]ese$/i, // \"chinese\", \"japanese\"\n    /deer$/i, // \"deer\", \"reindeer\"\n    /fish$/i, // \"fish\", \"blowfish\", \"angelfish\"\n    /measles$/i,\n    /o[iu]s$/i, // \"carnivorous\"\n    /pox$/i, // \"chickpox\", \"smallpox\"\n    /sheep$/i\n  ].forEach(pluralize.addUncountableRule);\n\n  return pluralize;\n});\n", "/* jstz.min.js Version: 1.0.6 Build date: 2019-09-09 */\n!function(e){var a=function(){\"use strict\";var e=\"s\",s={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{\"America/Denver\":[\"America/Mazatlan\"],\"America/Chicago\":[\"America/Mexico_City\"],\"America/Asuncion\":[\"America/Campo_Grande\",\"America/Santiago\"],\"America/Montevideo\":[\"America/Sao_Paulo\",\"America/Santiago\"],\"Asia/Beirut\":[\"Asia/Amman\",\"Asia/Jerusalem\",\"Europe/Helsinki\",\"Asia/Damascus\",\"Africa/Cairo\",\"Asia/Gaza\",\"Europe/Minsk\",\"Africa/Windhoek\"],\"Pacific/Auckland\":[\"Pacific/Fiji\"],\"America/Los_Angeles\":[\"America/Santa_Isabel\"],\"America/New_York\":[\"America/Havana\"],\"America/Halifax\":[\"America/Goose_Bay\"],\"America/Godthab\":[\"America/Miquelon\"],\"Asia/Dubai\":[\"Asia/Yerevan\"],\"Asia/Jakarta\":[\"Asia/Krasnoyarsk\"],\"Asia/Shanghai\":[\"Asia/Irkutsk\",\"Australia/Perth\"],\"Australia/Sydney\":[\"Australia/Lord_Howe\"],\"Asia/Tokyo\":[\"Asia/Yakutsk\"],\"Asia/Dhaka\":[\"Asia/Omsk\"],\"Asia/Baku\":[\"Asia/Yerevan\"],\"Australia/Brisbane\":[\"Asia/Vladivostok\"],\"Pacific/Noumea\":[\"Asia/Vladivostok\"],\"Pacific/Majuro\":[\"Asia/Kamchatka\",\"Pacific/Fiji\"],\"Pacific/Tongatapu\":[\"Pacific/Apia\"],\"Asia/Baghdad\":[\"Europe/Minsk\",\"Europe/Moscow\"],\"Asia/Karachi\":[\"Asia/Yekaterinburg\"],\"Africa/Johannesburg\":[\"Asia/Gaza\",\"Africa/Cairo\"]}},i=function(e){var a=-e.getTimezoneOffset();return null!==a?a:0},r=function(){for(var e=[],a=0;a<=11;a++)for(var r=1;r<=28;r++){var n=i(new Date(s.BASELINE_YEAR,a,r));e?e&&e[e.length-1]!==n&&e.push(n):e.push()}return e},n=function(){var a=0,s=r();return s.length>1&&(a=s[0]-s[1]),s.length>3?s[0]+\",1,weird\":a<0?s[0]+\",1\":a>0?s[1]+\",1,\"+e:s[0]+\",0\"},o=function(){var e,a;if(Intl&&\"undefined\"!=typeof Intl&&\"undefined\"!=typeof Intl.DateTimeFormat&&(e=Intl.DateTimeFormat(),\"undefined\"!=typeof e&&\"undefined\"!=typeof e.resolvedOptions))return a=e.resolvedOptions().timeZone,a&&(a.indexOf(\"/\")>-1||\"UTC\"===a)?a:void 0},t=function(e){for(var a=new Date(e,0,1,0,0,1,0).getTime(),s=new Date(e,12,31,23,59,59).getTime(),i=a,r=new Date(i).getTimezoneOffset(),n=null,o=null;i<s-864e5;){var t=new Date(i),A=t.getTimezoneOffset();A!==r&&(A<r&&(n=t),A>r&&(o=t),r=A),i+=864e5}return!(!n||!o)&&{s:u(n).getTime(),e:u(o).getTime()}},u=function f(e,a,i){\"undefined\"==typeof a&&(a=s.DAY,i=s.HOUR);for(var r=new Date(e.getTime()-a).getTime(),n=e.getTime()+a,o=new Date(r).getTimezoneOffset(),t=r,u=null;t<n-i;){var A=new Date(t),c=A.getTimezoneOffset();if(c!==o){u=A;break}t+=i}return a===s.DAY?f(u,s.HOUR,s.MINUTE):a===s.HOUR?f(u,s.MINUTE,s.SECOND):u},A=function(e,a,s,i){if(\"N/A\"!==s)return s;if(\"Asia/Beirut\"===a){if(\"Africa/Cairo\"===i.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if(\"Asia/Jerusalem\"===i.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if(\"America/Santiago\"===a){if(\"America/Asuncion\"===i.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if(\"America/Campo_Grande\"===i.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if(\"America/Montevideo\"===a){if(\"America/Sao_Paulo\"===i.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if(\"Pacific/Auckland\"===a&&\"Pacific/Fiji\"===i.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return s},c=function(e,i){for(var r=function(a){for(var r=0,n=0;n<e.length;n++)if(a.rules[n]&&e[n]){if(!(e[n].s>=a.rules[n].s&&e[n].e<=a.rules[n].e)){r=\"N/A\";break}if(r=0,r+=Math.abs(e[n].s-a.rules[n].s),r+=Math.abs(a.rules[n].e-e[n].e),r>s.MAX_SCORE){r=\"N/A\";break}}return r=A(e,i,r,a)},n={},o=a.olson.dst_rules.zones,t=o.length,u=s.AMBIGUITIES[i],c=0;c<t;c++){var m=o[c],l=r(o[c]);\"N/A\"!==l&&(n[m.name]=l)}for(var f in n)if(n.hasOwnProperty(f))for(var d=0;d<u.length;d++)if(u[d]===f)return f;return i},m=function(e){var s=function(){for(var e=[],s=0;s<a.olson.dst_rules.years.length;s++){var i=t(a.olson.dst_rules.years[s]);e.push(i)}return e},i=function(e){for(var a=0;a<e.length;a++)if(e[a]!==!1)return!0;return!1},r=s(),n=i(r);return n?c(r,e):e},l=function(e){var i=!1,t=n();return(e||\"undefined\"==typeof e)&&(i=o()),i||(i=a.olson.timezones[t],\"undefined\"!=typeof s.AMBIGUITIES[i]&&(i=m(i))),{name:function(){return i},using_intl:e||\"undefined\"==typeof e,needle:t,offsets:r()}};return{determine:l}}();a.olson=a.olson||{},a.olson.timezones={\"-720,0\":\"Etc/GMT+12\",\"-660,0\":\"Pacific/Pago_Pago\",\"-660,1,s\":\"Pacific/Apia\",\"-600,1\":\"America/Adak\",\"-600,0\":\"Pacific/Honolulu\",\"-570,0\":\"Pacific/Marquesas\",\"-540,0\":\"Pacific/Gambier\",\"-540,1\":\"America/Anchorage\",\"-480,1\":\"America/Los_Angeles\",\"-480,0\":\"Pacific/Pitcairn\",\"-420,0\":\"America/Phoenix\",\"-420,1\":\"America/Denver\",\"-360,0\":\"America/Guatemala\",\"-360,1\":\"America/Chicago\",\"-360,1,s\":\"Pacific/Easter\",\"-300,0\":\"America/Bogota\",\"-300,1\":\"America/New_York\",\"-270,0\":\"America/Caracas\",\"-240,1\":\"America/Halifax\",\"-240,0\":\"America/Santo_Domingo\",\"-240,1,s\":\"America/Asuncion\",\"-210,1\":\"America/St_Johns\",\"-180,1\":\"America/Godthab\",\"-180,0\":\"America/Buenos_Aires\",\"-180,1,s\":\"America/Montevideo\",\"-120,0\":\"America/Noronha\",\"-120,1\":\"America/Noronha\",\"-60,1\":\"Atlantic/Azores\",\"-60,0\":\"Atlantic/Cape_Verde\",\"0,0\":\"UTC\",\"0,1\":\"Europe/London\",\"0,1,weird\":\"Africa/Casablanca\",\"60,1\":\"Europe/Berlin\",\"60,0\":\"Africa/Lagos\",\"60,1,weird\":\"Africa/Casablanca\",\"120,1\":\"Asia/Beirut\",\"120,1,weird\":\"Africa/Cairo\",\"120,0\":\"Africa/Johannesburg\",\"180,0\":\"Asia/Baghdad\",\"180,1\":\"Europe/Moscow\",\"210,1\":\"Asia/Tehran\",\"240,0\":\"Asia/Dubai\",\"240,1\":\"Asia/Baku\",\"270,0\":\"Asia/Kabul\",\"300,1\":\"Asia/Yekaterinburg\",\"300,0\":\"Asia/Karachi\",\"330,0\":\"Asia/Calcutta\",\"345,0\":\"Asia/Katmandu\",\"360,0\":\"Asia/Dhaka\",\"360,1\":\"Asia/Omsk\",\"390,0\":\"Asia/Rangoon\",\"420,1\":\"Asia/Krasnoyarsk\",\"420,0\":\"Asia/Jakarta\",\"480,0\":\"Asia/Shanghai\",\"480,1\":\"Asia/Irkutsk\",\"525,0\":\"Australia/Eucla\",\"525,1,s\":\"Australia/Eucla\",\"540,1\":\"Asia/Yakutsk\",\"540,0\":\"Asia/Tokyo\",\"570,0\":\"Australia/Darwin\",\"570,1,s\":\"Australia/Adelaide\",\"600,0\":\"Australia/Brisbane\",\"600,1\":\"Asia/Vladivostok\",\"600,1,s\":\"Australia/Sydney\",\"630,1,s\":\"Australia/Lord_Howe\",\"660,1\":\"Asia/Kamchatka\",\"660,0\":\"Pacific/Noumea\",\"690,0\":\"Pacific/Norfolk\",\"720,1,s\":\"Pacific/Auckland\",\"720,0\":\"Pacific/Majuro\",\"765,1,s\":\"Pacific/Chatham\",\"780,0\":\"Pacific/Tongatapu\",\"780,1,s\":\"Pacific/Apia\",\"840,0\":\"Pacific/Kiritimati\"},a.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:\"Africa/Cairo\",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:\"America/Asuncion\",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:\"America/Campo_Grande\",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:\"America/Goose_Bay\",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:\"America/Havana\",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:\"America/Mazatlan\",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:\"America/Mexico_City\",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:\"America/Miquelon\",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:\"America/Santa_Isabel\",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12891204e5,s:12685608e5},{e:132057e7,s:13000104e5},{e:13520196e5,s:133146e7},{e:13834692e5,s:13629096e5},{e:14149188e5,s:13943592e5}]},{name:\"America/Santiago\",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:\"America/Sao_Paulo\",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:\"Asia/Amman\",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:\"Asia/Damascus\",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:\"Asia/Dubai\",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:\"Asia/Gaza\",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:\"Asia/Irkutsk\",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:\"Asia/Jerusalem\",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:\"Asia/Kamchatka\",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:\"Asia/Krasnoyarsk\",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:\"Asia/Omsk\",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:\"Asia/Vladivostok\",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:\"Asia/Yakutsk\",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:\"Asia/Yekaterinburg\",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:\"Asia/Yerevan\",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:\"Australia/Lord_Howe\",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:\"Australia/Perth\",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:\"Europe/Helsinki\",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:\"Europe/Minsk\",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:\"Europe/Moscow\",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:\"Pacific/Apia\",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:\"Pacific/Fiji\",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:\"Europe/London\",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:\"Africa/Windhoek\",rules:[{e:12207492e5,s:120744e7},{e:12521988e5,s:12388896e5},{e:12836484e5,s:12703392e5},{e:1315098e6,s:13017888e5},{e:13465476e5,s:13332384e5},{e:13779972e5,s:13652928e5},{e:14100516e5,s:13967424e5}]}]},\"undefined\"!=typeof module&&\"undefined\"!=typeof module.exports?module.exports=a:\"undefined\"!=typeof define&&null!==define&&null!=define.amd?define([],function(){return a}):\"undefined\"==typeof e?window.jstz=a:e.jstz=a}();", "export default {\n  logger: typeof console !== \"undefined\" ? console : undefined,\n  WebSocket: typeof WebSocket !== \"undefined\" ? WebSocket : undefined,\n}\n", "import adapters from \"./adapters\"\n\n// The logger is disabled by default. You can enable it with:\n//\n//   ActionCable.logger.enabled = true\n//\n//   Example:\n//\n//   import * as ActionCable from '@rails/actioncable'\n//\n//   ActionCable.logger.enabled = true\n//   ActionCable.logger.log('Connection Established.')\n//\n\nexport default {\n  log(...messages) {\n    if (this.enabled) {\n      messages.push(Date.now())\n      adapters.logger.log(\"[ActionCable]\", ...messages)\n    }\n  },\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring the cable connection is in good health by validating the heartbeat pings sent from the server, and attempting\n// revival reconnections if things go astray. Internal class, not intended for direct user manipulation.\n\nconst now = () => new Date().getTime()\n\nconst secondsSince = time => (now() - time) / 1000\n\nclass ConnectionMonitor {\n  constructor(connection) {\n    this.visibilityDidChange = this.visibilityDidChange.bind(this)\n    this.connection = connection\n    this.reconnectAttempts = 0\n  }\n\n  start() {\n    if (!this.isRunning()) {\n      this.startedAt = now()\n      delete this.stoppedAt\n      this.startPolling()\n      addEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`)\n    }\n  }\n\n  stop() {\n    if (this.isRunning()) {\n      this.stoppedAt = now()\n      this.stopPolling()\n      removeEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(\"ConnectionMonitor stopped\")\n    }\n  }\n\n  isRunning() {\n    return this.startedAt && !this.stoppedAt\n  }\n\n  recordMessage() {\n    this.pingedAt = now()\n  }\n\n  recordConnect() {\n    this.reconnectAttempts = 0\n    delete this.disconnectedAt\n    logger.log(\"ConnectionMonitor recorded connect\")\n  }\n\n  recordDisconnect() {\n    this.disconnectedAt = now()\n    logger.log(\"ConnectionMonitor recorded disconnect\")\n  }\n\n  // Private\n\n  startPolling() {\n    this.stopPolling()\n    this.poll()\n  }\n\n  stopPolling() {\n    clearTimeout(this.pollTimeout)\n  }\n\n  poll() {\n    this.pollTimeout = setTimeout(() => {\n      this.reconnectIfStale()\n      this.poll()\n    }\n    , this.getPollInterval())\n  }\n\n  getPollInterval() {\n    const { staleThreshold, reconnectionBackoffRate } = this.constructor\n    const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10))\n    const jitterMax = this.reconnectAttempts === 0 ? 1.0 : reconnectionBackoffRate\n    const jitter = jitterMax * Math.random()\n    return staleThreshold * 1000 * backoff * (1 + jitter)\n  }\n\n  reconnectIfStale() {\n    if (this.connectionIsStale()) {\n      logger.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`)\n      this.reconnectAttempts++\n      if (this.disconnectedRecently()) {\n        logger.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`)\n      } else {\n        logger.log(\"ConnectionMonitor reopening\")\n        this.connection.reopen()\n      }\n    }\n  }\n\n  get refreshedAt() {\n    return this.pingedAt ? this.pingedAt : this.startedAt\n  }\n\n  connectionIsStale() {\n    return secondsSince(this.refreshedAt) > this.constructor.staleThreshold\n  }\n\n  disconnectedRecently() {\n    return this.disconnectedAt && (secondsSince(this.disconnectedAt) < this.constructor.staleThreshold)\n  }\n\n  visibilityDidChange() {\n    if (document.visibilityState === \"visible\") {\n      setTimeout(() => {\n        if (this.connectionIsStale() || !this.connection.isOpen()) {\n          logger.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`)\n          this.connection.reopen()\n        }\n      }\n      , 200)\n    }\n  }\n\n}\n\nConnectionMonitor.staleThreshold = 6 // Server::Connections::BEAT_INTERVAL * 2 (missed two pings)\nConnectionMonitor.reconnectionBackoffRate = 0.15\n\nexport default ConnectionMonitor\n", "export default {\n  \"message_types\": {\n    \"welcome\": \"welcome\",\n    \"disconnect\": \"disconnect\",\n    \"ping\": \"ping\",\n    \"confirmation\": \"confirm_subscription\",\n    \"rejection\": \"reject_subscription\"\n  },\n  \"disconnect_reasons\": {\n    \"unauthorized\": \"unauthorized\",\n    \"invalid_request\": \"invalid_request\",\n    \"server_restart\": \"server_restart\",\n    \"remote\": \"remote\"\n  },\n  \"default_mount_path\": \"/cable\",\n  \"protocols\": [\n    \"actioncable-v1-json\",\n    \"actioncable-unsupported\"\n  ]\n}\n", "import adapters from \"./adapters\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport INTERNAL from \"./internal\"\nimport logger from \"./logger\"\n\n// Encapsulate the cable connection held by the consumer. This is an internal class not intended for direct user manipulation.\n\nconst {message_types, protocols} = INTERNAL\nconst supportedProtocols = protocols.slice(0, protocols.length - 1)\n\nconst indexOf = [].indexOf\n\nclass Connection {\n  constructor(consumer) {\n    this.open = this.open.bind(this)\n    this.consumer = consumer\n    this.subscriptions = this.consumer.subscriptions\n    this.monitor = new ConnectionMonitor(this)\n    this.disconnected = true\n  }\n\n  send(data) {\n    if (this.isOpen()) {\n      this.webSocket.send(JSON.stringify(data))\n      return true\n    } else {\n      return false\n    }\n  }\n\n  open() {\n    if (this.isActive()) {\n      logger.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`)\n      return false\n    } else {\n      const socketProtocols = [...protocols, ...this.consumer.subprotocols || []]\n      logger.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${socketProtocols}`)\n      if (this.webSocket) { this.uninstallEventHandlers() }\n      this.webSocket = new adapters.WebSocket(this.consumer.url, socketProtocols)\n      this.installEventHandlers()\n      this.monitor.start()\n      return true\n    }\n  }\n\n  close({allowReconnect} = {allowReconnect: true}) {\n    if (!allowReconnect) { this.monitor.stop() }\n    // Avoid closing websockets in a \"connecting\" state due to Safari 15.1+ bug. See: https://github.com/rails/rails/issues/43835#issuecomment-1002288478\n    if (this.isOpen()) {\n      return this.webSocket.close()\n    }\n  }\n\n  reopen() {\n    logger.log(`Reopening WebSocket, current state is ${this.getState()}`)\n    if (this.isActive()) {\n      try {\n        return this.close()\n      } catch (error) {\n        logger.log(\"Failed to reopen WebSocket\", error)\n      }\n      finally {\n        logger.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`)\n        setTimeout(this.open, this.constructor.reopenDelay)\n      }\n    } else {\n      return this.open()\n    }\n  }\n\n  getProtocol() {\n    if (this.webSocket) {\n      return this.webSocket.protocol\n    }\n  }\n\n  isOpen() {\n    return this.isState(\"open\")\n  }\n\n  isActive() {\n    return this.isState(\"open\", \"connecting\")\n  }\n\n  triedToReconnect() {\n    return this.monitor.reconnectAttempts > 0\n  }\n\n  // Private\n\n  isProtocolSupported() {\n    return indexOf.call(supportedProtocols, this.getProtocol()) >= 0\n  }\n\n  isState(...states) {\n    return indexOf.call(states, this.getState()) >= 0\n  }\n\n  getState() {\n    if (this.webSocket) {\n      for (let state in adapters.WebSocket) {\n        if (adapters.WebSocket[state] === this.webSocket.readyState) {\n          return state.toLowerCase()\n        }\n      }\n    }\n    return null\n  }\n\n  installEventHandlers() {\n    for (let eventName in this.events) {\n      const handler = this.events[eventName].bind(this)\n      this.webSocket[`on${eventName}`] = handler\n    }\n  }\n\n  uninstallEventHandlers() {\n    for (let eventName in this.events) {\n      this.webSocket[`on${eventName}`] = function() {}\n    }\n  }\n\n}\n\nConnection.reopenDelay = 500\n\nConnection.prototype.events = {\n  message(event) {\n    if (!this.isProtocolSupported()) { return }\n    const {identifier, message, reason, reconnect, type} = JSON.parse(event.data)\n    this.monitor.recordMessage()\n    switch (type) {\n      case message_types.welcome:\n        if (this.triedToReconnect()) {\n          this.reconnectAttempted = true\n        }\n        this.monitor.recordConnect()\n        return this.subscriptions.reload()\n      case message_types.disconnect:\n        logger.log(`Disconnecting. Reason: ${reason}`)\n        return this.close({allowReconnect: reconnect})\n      case message_types.ping:\n        return null\n      case message_types.confirmation:\n        this.subscriptions.confirmSubscription(identifier)\n        if (this.reconnectAttempted) {\n          this.reconnectAttempted = false\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: true})\n        } else {\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: false})\n        }\n      case message_types.rejection:\n        return this.subscriptions.reject(identifier)\n      default:\n        return this.subscriptions.notify(identifier, \"received\", message)\n    }\n  },\n\n  open() {\n    logger.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`)\n    this.disconnected = false\n    if (!this.isProtocolSupported()) {\n      logger.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\")\n      return this.close({allowReconnect: false})\n    }\n  },\n\n  close(event) {\n    logger.log(\"WebSocket onclose event\")\n    if (this.disconnected) { return }\n    this.disconnected = true\n    this.monitor.recordDisconnect()\n    return this.subscriptions.notifyAll(\"disconnected\", {willAttemptReconnect: this.monitor.isRunning()})\n  },\n\n  error() {\n    logger.log(\"WebSocket onerror event\")\n  }\n}\n\nexport default Connection\n", "// A new subscription is created through the ActionCable.Subscriptions instance available on the consumer.\n// It provides a number of callbacks and a method for calling remote procedure calls on the corresponding\n// Channel instance on the server side.\n//\n// An example demonstrates the basic functionality:\n//\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\", {\n//     connected() {\n//       // Called once the subscription has been successfully completed\n//     },\n//\n//     disconnected({ willAttemptReconnect: boolean }) {\n//       // Called when the client has disconnected with the server.\n//       // The object will have an `willAttemptReconnect` property which\n//       // says whether the client has the intention of attempting\n//       // to reconnect.\n//     },\n//\n//     appear() {\n//       this.perform('appear', {appearing_on: this.appearingOn()})\n//     },\n//\n//     away() {\n//       this.perform('away')\n//     },\n//\n//     appearingOn() {\n//       $('main').data('appearing-on')\n//     }\n//   })\n//\n// The methods #appear and #away forward their intent to the remote AppearanceChannel instance on the server\n// by calling the `perform` method with the first parameter being the action (which maps to AppearanceChannel#appear/away).\n// The second parameter is a hash that'll get JSON encoded and made available on the server in the data parameter.\n//\n// This is how the server component would look:\n//\n//   class AppearanceChannel < ApplicationActionCable::Channel\n//     def subscribed\n//       current_user.appear\n//     end\n//\n//     def unsubscribed\n//       current_user.disappear\n//     end\n//\n//     def appear(data)\n//       current_user.appear on: data['appearing_on']\n//     end\n//\n//     def away\n//       current_user.away\n//     end\n//   end\n//\n// The \"AppearanceChannel\" name is automatically mapped between the client-side subscription creation and the server-side Ruby class name.\n// The AppearanceChannel#appear/away public methods are exposed automatically to client-side invocation through the perform method.\n\nconst extend = function(object, properties) {\n  if (properties != null) {\n    for (let key in properties) {\n      const value = properties[key]\n      object[key] = value\n    }\n  }\n  return object\n}\n\nexport default class Subscription {\n  constructor(consumer, params = {}, mixin) {\n    this.consumer = consumer\n    this.identifier = JSON.stringify(params)\n    extend(this, mixin)\n  }\n\n  // Perform a channel action with the optional data passed as an attribute\n  perform(action, data = {}) {\n    data.action = action\n    return this.send(data)\n  }\n\n  send(data) {\n    return this.consumer.send({command: \"message\", identifier: this.identifier, data: JSON.stringify(data)})\n  }\n\n  unsubscribe() {\n    return this.consumer.subscriptions.remove(this)\n  }\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring channel subscribe command is confirmed, retrying until confirmation is received.\n// Internal class, not intended for direct user manipulation.\n\nclass SubscriptionGuarantor {\n  constructor(subscriptions) {\n    this.subscriptions = subscriptions\n    this.pendingSubscriptions = []\n  }\n\n  guarantee(subscription) {\n    if(this.pendingSubscriptions.indexOf(subscription) == -1){ \n      logger.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`)\n      this.pendingSubscriptions.push(subscription) \n    }\n    else {\n      logger.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`)\n    }\n    this.startGuaranteeing()\n  }\n\n  forget(subscription) {\n    logger.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`)\n    this.pendingSubscriptions = (this.pendingSubscriptions.filter((s) => s !== subscription))\n  }\n\n  startGuaranteeing() {\n    this.stopGuaranteeing()\n    this.retrySubscribing()\n  }\n  \n  stopGuaranteeing() {\n    clearTimeout(this.retryTimeout)\n  }\n\n  retrySubscribing() {\n    this.retryTimeout = setTimeout(() => {\n      if (this.subscriptions && typeof(this.subscriptions.subscribe) === \"function\") {\n        this.pendingSubscriptions.map((subscription) => {\n          logger.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`)\n          this.subscriptions.subscribe(subscription)\n        })\n      }\n    }\n    , 500)\n  }\n}\n\nexport default SubscriptionGuarantor", "import Subscription from \"./subscription\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport logger from \"./logger\"\n\n// Collection class for creating (and internally managing) channel subscriptions.\n// The only method intended to be triggered by the user is ActionCable.Subscriptions#create,\n// and it should be called through the consumer like so:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n\nexport default class Subscriptions {\n  constructor(consumer) {\n    this.consumer = consumer\n    this.guarantor = new SubscriptionGuarantor(this)\n    this.subscriptions = []\n  }\n\n  create(channelName, mixin) {\n    const channel = channelName\n    const params = typeof channel === \"object\" ? channel : {channel}\n    const subscription = new Subscription(this.consumer, params, mixin)\n    return this.add(subscription)\n  }\n\n  // Private\n\n  add(subscription) {\n    this.subscriptions.push(subscription)\n    this.consumer.ensureActiveConnection()\n    this.notify(subscription, \"initialized\")\n    this.subscribe(subscription)\n    return subscription\n  }\n\n  remove(subscription) {\n    this.forget(subscription)\n    if (!this.findAll(subscription.identifier).length) {\n      this.sendCommand(subscription, \"unsubscribe\")\n    }\n    return subscription\n  }\n\n  reject(identifier) {\n    return this.findAll(identifier).map((subscription) => {\n      this.forget(subscription)\n      this.notify(subscription, \"rejected\")\n      return subscription\n    })\n  }\n\n  forget(subscription) {\n    this.guarantor.forget(subscription)\n    this.subscriptions = (this.subscriptions.filter((s) => s !== subscription))\n    return subscription\n  }\n\n  findAll(identifier) {\n    return this.subscriptions.filter((s) => s.identifier === identifier)\n  }\n\n  reload() {\n    return this.subscriptions.map((subscription) =>\n      this.subscribe(subscription))\n  }\n\n  notifyAll(callbackName, ...args) {\n    return this.subscriptions.map((subscription) =>\n      this.notify(subscription, callbackName, ...args))\n  }\n\n  notify(subscription, callbackName, ...args) {\n    let subscriptions\n    if (typeof subscription === \"string\") {\n      subscriptions = this.findAll(subscription)\n    } else {\n      subscriptions = [subscription]\n    }\n\n    return subscriptions.map((subscription) =>\n      (typeof subscription[callbackName] === \"function\" ? subscription[callbackName](...args) : undefined))\n  }\n\n  subscribe(subscription) {\n    if (this.sendCommand(subscription, \"subscribe\")) {\n      this.guarantor.guarantee(subscription)\n    }\n  }\n\n  confirmSubscription(identifier) {\n    logger.log(`Subscription confirmed ${identifier}`)\n    this.findAll(identifier).map((subscription) =>\n      this.guarantor.forget(subscription))\n  }\n\n  sendCommand(subscription, command) {\n    const {identifier} = subscription\n    return this.consumer.send({command, identifier})\n  }\n}\n", "import Connection from \"./connection\"\nimport Subscriptions from \"./subscriptions\"\n\n// The ActionCable.Consumer establishes the connection to a server-side Ruby Connection object. Once established,\n// the ActionCable.ConnectionMonitor will ensure that its properly maintained through heartbeats and checking for stale updates.\n// The Consumer instance is also the gateway to establishing subscriptions to desired channels through the #createSubscription\n// method.\n//\n// The following example shows how this can be set up:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n//\n// When a consumer is created, it automatically connects with the server.\n//\n// To disconnect from the server, call\n//\n//   App.cable.disconnect()\n//\n// and to restart the connection:\n//\n//   App.cable.connect()\n//\n// Any channel subscriptions which existed prior to disconnecting will\n// automatically resubscribe.\n\nexport default class Consumer {\n  constructor(url) {\n    this._url = url\n    this.subscriptions = new Subscriptions(this)\n    this.connection = new Connection(this)\n    this.subprotocols = []\n  }\n\n  get url() {\n    return createWebSocketURL(this._url)\n  }\n\n  send(data) {\n    return this.connection.send(data)\n  }\n\n  connect() {\n    return this.connection.open()\n  }\n\n  disconnect() {\n    return this.connection.close({allowReconnect: false})\n  }\n\n  ensureActiveConnection() {\n    if (!this.connection.isActive()) {\n      return this.connection.open()\n    }\n  }\n\n  addSubProtocol(subprotocol) {\n    this.subprotocols = [...this.subprotocols, subprotocol]\n  }\n}\n\nexport function createWebSocketURL(url) {\n  if (typeof url === \"function\") {\n    url = url()\n  }\n\n  if (url && !/^wss?:/i.test(url)) {\n    const a = document.createElement(\"a\")\n    a.href = url\n    // Fix populating Location properties in IE. Otherwise, protocol will be blank.\n    a.href = a.href\n    a.protocol = a.protocol.replace(\"http\", \"ws\")\n    return a.href\n  } else {\n    return url\n  }\n}\n", "import Connection from \"./connection\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport Consumer, { createWebSocketURL } from \"./consumer\"\nimport INTERNAL from \"./internal\"\nimport Subscription from \"./subscription\"\nimport Subscriptions from \"./subscriptions\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport adapters from \"./adapters\"\nimport logger from \"./logger\"\n\nexport {\n  Connection,\n  ConnectionMonitor,\n  Consumer,\n  INTERNAL,\n  Subscription,\n  Subscriptions,\n  SubscriptionGuarantor,\n  adapters,\n  createWebSocketURL,\n  logger,\n}\n\nexport function createConsumer(url = getConfig(\"url\") || INTERNAL.default_mount_path) {\n  return new Consumer(url)\n}\n\nexport function getConfig(name) {\n  const element = document.head.querySelector(`meta[name='action-cable-${name}']`)\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n", "/*\nStimulus 3.2.1\nCopyright \u00A9 2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n", "import { Application } from '@hotwired/stimulus'\n\nconst application = Application.start()\n\n// Configure Stimulus development experience\napplication.debug = false\nwindow.Stimulus = application\n\nexport { application }\n", "import { Controller } from '@hotwired/stimulus'\nimport tippy from 'tippy.js'\n\n// Example usage:\n// <div data-controller=\"copy\" data-copy-success-message-value=\"Success\" data-copy-error-message-value=\"Error\" data-copy-copyable-value=\"#\"></div>\n\nexport default class extends Controller {\n  static values = {\n    successMessage: { type: String, default: 'Copied!' },\n    errorMessage: { type: String, default: 'Failed!' },\n    copyable: String,\n    tippyOffset: { type: Array, default: [0, 10] },\n  }\n\n  tooltip(message) {\n    tippy(this.element, {\n      content: message,\n      showOnCreate: true,\n      offset: this.tippyOffsetValue,\n      onHidden(instance) {\n        instance.destroy()\n      },\n    })\n  }\n\n  toClipboard(event) {\n    let controller = this\n    if (this.copyableValue) {\n      navigator.clipboard.writeText(this.copyableValue).then(\n        function () {\n          controller.tooltip(controller.successMessageValue)\n        },\n        function () {\n          controller.tooltip(controller.errorMessageValue)\n        },\n      )\n    } else {\n      navigator.clipboard.writeText(event.currentTarget.innerText).then(\n        function () {\n          controller.tooltip(controller.successMessageValue)\n        },\n        function () {\n          controller.tooltip(controller.errorMessageValue)\n        },\n      )\n    }\n  }\n}\n", "export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];", "export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}", "export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}", "import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };", "import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};", "import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}", "export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;", "export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}", "import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}", "import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}", "import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}", "import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}", "import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}", "import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}", "import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}", "import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}", "export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}", "import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}", "export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}", "import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}", "export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}", "import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};", "export default function getVariation(placement) {\n  return placement.split('-')[1];\n}", "import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};", "import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};", "var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}", "var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}", "import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}", "import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}", "import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}", "import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}", "import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}", "import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}", "export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}", "import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}", "import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}", "import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}", "import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}", "import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases \u2013 research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};", "import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};", "import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};", "import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};", "export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}", "import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};", "export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}", "import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}", "import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}", "export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}", "export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}", "import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)`\n    .filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    }).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (modifier.effect != null && typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (modifier.requires != null && !Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}", "export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}", "export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}", "import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update \u2013 it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update \u2013 it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";", "export const ROUND_ARROW =\n  '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\n\nexport const BOX_CLASS = `__NAMESPACE_PREFIX__-box`;\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`;\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`;\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`;\nexport const SVG_ARROW_CLASS = `__NAMESPACE_PREFIX__-svg-arrow`;\n\nexport const TOUCH_OPTIONS = {passive: true, capture: true};\n\nexport const TIPPY_DEFAULT_APPEND_TO = () => document.body;\n", "import {BasePlacement, Placement} from './types';\n\nexport function hasOwnProperty(\n  obj: Record<string, unknown>,\n  key: string\n): boolean {\n  return {}.hasOwnProperty.call(obj, key);\n}\n\nexport function getValueAtIndexOrReturn<T>(\n  value: T | [T | null, T | null],\n  index: number,\n  defaultValue: T | [T, T]\n): T {\n  if (Array.isArray(value)) {\n    const v = value[index];\n    return v == null\n      ? Array.isArray(defaultValue)\n        ? defaultValue[index]\n        : defaultValue\n      : v;\n  }\n\n  return value;\n}\n\nexport function isType(value: any, type: string): boolean {\n  const str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(`${type}]`) > -1;\n}\n\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value(...args) : value;\n}\n\nexport function debounce<T>(\n  fn: (arg: T) => void,\n  ms: number\n): (arg: T) => void {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  let timeout: any;\n\n  return (arg): void => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      fn(arg);\n    }, ms);\n  };\n}\n\nexport function removeProperties<T>(obj: T, keys: string[]): Partial<T> {\n  const clone = {...obj};\n  keys.forEach((key) => {\n    delete (clone as any)[key];\n  });\n  return clone;\n}\n\nexport function splitBySpaces(value: string): string[] {\n  return value.split(/\\s+/).filter(Boolean);\n}\n\nexport function normalizeToArray<T>(value: T | T[]): T[] {\n  return ([] as T[]).concat(value);\n}\n\nexport function pushIfUnique<T>(arr: T[], value: T): void {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\n\nexport function appendPxIfNumber(value: string | number): string {\n  return typeof value === 'number' ? `${value}px` : value;\n}\n\nexport function unique<T>(arr: T[]): T[] {\n  return arr.filter((item, index) => arr.indexOf(item) === index);\n}\n\nexport function getNumber(value: string | number): number {\n  return typeof value === 'number' ? value : parseFloat(value);\n}\n\nexport function getBasePlacement(placement: Placement): BasePlacement {\n  return placement.split('-')[0] as BasePlacement;\n}\n\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value);\n}\n\nexport function removeUndefinedProps(\n  obj: Record<string, unknown>\n): Partial<Record<string, unknown>> {\n  return Object.keys(obj).reduce((acc, key) => {\n    if (obj[key] !== undefined) {\n      (acc as any)[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n", "import {ReferenceElement, Targets} from './types';\nimport {PopperTreeData} from './types-internal';\nimport {arrayFrom, isType, normalizeToArray, getBasePlacement} from './utils';\n\nexport function div(): HTMLDivElement {\n  return document.createElement('div');\n}\n\nexport function isElement(value: unknown): value is Element | DocumentFragment {\n  return ['Element', 'Fragment'].some((type) => isType(value, type));\n}\n\nexport function isNodeList(value: unknown): value is NodeList {\n  return isType(value, 'NodeList');\n}\n\nexport function isMouseEvent(value: unknown): value is MouseEvent {\n  return isType(value, 'MouseEvent');\n}\n\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\n\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\n\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number\n): void {\n  els.forEach((el) => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`;\n    }\n  });\n}\n\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden'\n): void {\n  els.forEach((el) => {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\n\nexport function getOwnerDocument(\n  elementOrElements: Element | Element[]\n): Document {\n  const [element] = normalizeToArray(elementOrElements);\n\n  // Elements created via a <template> have an ownerDocument with no reference to the body\n  return element?.ownerDocument?.body ? element.ownerDocument : document;\n}\n\nexport function isCursorOutsideInteractiveBorder(\n  popperTreeData: PopperTreeData[],\n  event: MouseEvent\n): boolean {\n  const {clientX, clientY} = event;\n\n  return popperTreeData.every(({popperRect, popperState, props}) => {\n    const {interactiveBorder} = props;\n    const basePlacement = getBasePlacement(popperState.placement);\n    const offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    const topDistance = basePlacement === 'bottom' ? offsetData.top!.y : 0;\n    const bottomDistance = basePlacement === 'top' ? offsetData.bottom!.y : 0;\n    const leftDistance = basePlacement === 'right' ? offsetData.left!.x : 0;\n    const rightDistance = basePlacement === 'left' ? offsetData.right!.x : 0;\n\n    const exceedsTop =\n      popperRect.top - clientY + topDistance > interactiveBorder;\n    const exceedsBottom =\n      clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    const exceedsLeft =\n      popperRect.left - clientX + leftDistance > interactiveBorder;\n    const exceedsRight =\n      clientX - popperRect.right - rightDistance > interactiveBorder;\n\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\n\nexport function updateTransitionEndListener(\n  box: HTMLDivElement,\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void\n): void {\n  const method = `${action}EventListener` as\n    | 'addEventListener'\n    | 'removeEventListener';\n\n  // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n  ['transitionend', 'webkitTransitionEnd'].forEach((event) => {\n    box[method](event, listener as EventListener);\n  });\n}\n\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\nexport function actualContains(parent: Element, child: Element): boolean {\n  let target = child;\n  while (target) {\n    if (parent.contains(target)) {\n      return true;\n    }\n    target = (target.getRootNode?.() as any)?.host;\n  }\n  return false;\n}\n", "import {TOUCH_OPTIONS} from './constants';\nimport {isReferenceElement} from './dom-utils';\n\nexport const currentInput = {isTouch: false};\nlet lastMouseMoveTime = 0;\n\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\nexport function onDocumentTouchStart(): void {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nexport function onDocumentMouseMove(): void {\n  const now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nexport function onWindowBlur(): void {\n  const activeElement = document.activeElement as HTMLElement | null;\n\n  if (isReferenceElement(activeElement)) {\n    const instance = activeElement._tippy!;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\n\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n", "export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined';\n\nexport const isIE11 = isBrowser\n  ? // @ts-ignore\n    !!window.msCrypto\n  : false;\n", "import {Targets} from './types';\n\nexport function createMemoryLeakWarning(method: string): string {\n  const txt = method === 'destroy' ? 'n already-' : ' ';\n\n  return [\n    `${method}() was called on a${txt}destroyed instance. This is a no-op but`,\n    'indicates a potential memory leak.',\n  ].join(' ');\n}\n\nexport function clean(value: string): string {\n  const spacesAndTabs = /[ \\t]{2,}/g;\n  const lineStartWithSpaces = /^[ \\t]*/gm;\n\n  return value\n    .replace(spacesAndTabs, ' ')\n    .replace(lineStartWithSpaces, '')\n    .trim();\n}\n\nfunction getDevMessage(message: string): string {\n  return clean(`\n  %ctippy.js\n\n  %c${clean(message)}\n\n  %c This is a development-only message. It will be removed in production.\n  `);\n}\n\nexport function getFormattedMessage(message: string): string[] {\n  return [\n    getDevMessage(message),\n    // title\n    'color: #00C584; font-size: 1.3em; font-weight: bold;',\n    // message\n    'line-height: 1.5',\n    // footer\n    'color: #a6a095;',\n  ];\n}\n\n// Assume warnings and errors never have the same message\nlet visitedMessages: Set<string>;\nif (__DEV__) {\n  resetVisitedMessages();\n}\n\nexport function resetVisitedMessages(): void {\n  visitedMessages = new Set();\n}\n\nexport function warnWhen(condition: boolean, message: string): void {\n  if (condition && !visitedMessages.has(message)) {\n    visitedMessages.add(message);\n    console.warn(...getFormattedMessage(message));\n  }\n}\n\nexport function errorWhen(condition: boolean, message: string): void {\n  if (condition && !visitedMessages.has(message)) {\n    visitedMessages.add(message);\n    console.error(...getFormattedMessage(message));\n  }\n}\n\nexport function validateTargets(targets: Targets): void {\n  const didPassFalsyValue = !targets;\n  const didPassPlainObject =\n    Object.prototype.toString.call(targets) === '[object Object]' &&\n    !(targets as any).addEventListener;\n\n  errorWhen(\n    didPassFalsyValue,\n    [\n      'tippy() was passed',\n      '`' + String(targets) + '`',\n      'as its targets (first) argument. Valid types are: String, Element,',\n      'Element[], or NodeList.',\n    ].join(' ')\n  );\n\n  errorWhen(\n    didPassPlainObject,\n    [\n      'tippy() was passed a plain object which is not supported as an argument',\n      'for virtual positioning. Use props.getReferenceClientRect instead.',\n    ].join(' ')\n  );\n}\n", "import {DefaultProps, Plugin, Props, ReferenceElement, Tippy} from './types';\nimport {\n  hasOwnProperty,\n  removeProperties,\n  invokeWithArgsOrReturn,\n} from './utils';\nimport {warnWhen} from './validation';\nimport {TIPPY_DEFAULT_APPEND_TO} from './constants';\n\nconst pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false,\n};\n\nconst renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999,\n};\n\nexport const defaultProps: DefaultProps = {\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto',\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate() {},\n  onBeforeUpdate() {},\n  onCreate() {},\n  onDestroy() {},\n  onHidden() {},\n  onHide() {},\n  onMount() {},\n  onShow() {},\n  onShown() {},\n  onTrigger() {},\n  onUntrigger() {},\n  onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  ...pluginProps,\n  ...renderProps,\n};\n\nconst defaultKeys = Object.keys(defaultProps);\n\nexport const setDefaultProps: Tippy['setDefaultProps'] = (partialProps) => {\n  /* istanbul ignore else */\n  if (__DEV__) {\n    validateProps(partialProps, []);\n  }\n\n  const keys = Object.keys(partialProps) as Array<keyof DefaultProps>;\n  keys.forEach((key) => {\n    (defaultProps as any)[key] = partialProps[key];\n  });\n};\n\nexport function getExtendedPassedProps(\n  passedProps: Partial<Props> & Record<string, unknown>\n): Partial<Props> {\n  const plugins = passedProps.plugins || [];\n  const pluginProps = plugins.reduce<Record<string, unknown>>((acc, plugin) => {\n    const {name, defaultValue} = plugin;\n\n    if (name) {\n      acc[name] =\n        passedProps[name] !== undefined\n          ? passedProps[name]\n          : (defaultProps as any)[name] ?? defaultValue;\n    }\n\n    return acc;\n  }, {});\n\n  return {\n    ...passedProps,\n    ...pluginProps,\n  };\n}\n\nexport function getDataAttributeProps(\n  reference: ReferenceElement,\n  plugins: Plugin[]\n): Record<string, unknown> {\n  const propKeys = plugins\n    ? Object.keys(getExtendedPassedProps({...defaultProps, plugins}))\n    : defaultKeys;\n\n  const props = propKeys.reduce(\n    (acc: Partial<Props> & Record<string, unknown>, key) => {\n      const valueAsString = (\n        reference.getAttribute(`data-tippy-${key}`) || ''\n      ).trim();\n\n      if (!valueAsString) {\n        return acc;\n      }\n\n      if (key === 'content') {\n        acc[key] = valueAsString;\n      } else {\n        try {\n          acc[key] = JSON.parse(valueAsString);\n        } catch (e) {\n          acc[key] = valueAsString;\n        }\n      }\n\n      return acc;\n    },\n    {}\n  );\n\n  return props;\n}\n\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes\n      ? {}\n      : getDataAttributeProps(reference, props.plugins)),\n  };\n\n  out.aria = {\n    ...defaultProps.aria,\n    ...out.aria,\n  };\n\n  out.aria = {\n    expanded:\n      out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content:\n      out.aria.content === 'auto'\n        ? props.interactive\n          ? null\n          : 'describedby'\n        : out.aria.content,\n  };\n\n  return out;\n}\n\nexport function validateProps(\n  partialProps: Partial<Props> = {},\n  plugins: Plugin[] = []\n): void {\n  const keys = Object.keys(partialProps) as Array<keyof Props>;\n  keys.forEach((prop) => {\n    const nonPluginProps = removeProperties(\n      defaultProps,\n      Object.keys(pluginProps)\n    );\n\n    let didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop);\n\n    // Check if the prop exists in `plugins`\n    if (didPassUnknownProp) {\n      didPassUnknownProp =\n        plugins.filter((plugin) => plugin.name === prop).length === 0;\n    }\n\n    warnWhen(\n      didPassUnknownProp,\n      [\n        `\\`${prop}\\``,\n        \"is not a valid prop. You may have spelled it incorrectly, or if it's\",\n        'a plugin, forgot to pass it in an array as props.plugins.',\n        '\\n\\n',\n        'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n',\n        'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/',\n      ].join(' ')\n    );\n  });\n}\n", "import {\n  ARROW_CLASS,\n  BACKDROP_CLASS,\n  BOX_CLASS,\n  CONTENT_CLASS,\n  SVG_ARROW_CLASS,\n} from './constants';\nimport {div, isElement} from './dom-utils';\nimport {Instance, PopperElement, Props} from './types';\nimport {PopperChildren} from './types-internal';\nimport {arrayFrom} from './utils';\n\n// Firefox extensions don't allow .innerHTML = \"...\" property. This tricks it.\nconst innerHTML = (): 'innerHTML' => 'innerHTML';\n\nfunction dangerouslySetInnerHTML(element: Element, html: string): void {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value: Props['arrow']): HTMLDivElement {\n  const arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value as string);\n    }\n  }\n\n  return arrow;\n}\n\nexport function setContent(content: HTMLDivElement, props: Props): void {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\n\nexport function getChildren(popper: PopperElement): PopperChildren {\n  const box = popper.firstElementChild as HTMLDivElement;\n  const boxChildren = arrayFrom(box.children);\n\n  return {\n    box,\n    content: boxChildren.find((node) => node.classList.contains(CONTENT_CLASS)),\n    arrow: boxChildren.find(\n      (node) =>\n        node.classList.contains(ARROW_CLASS) ||\n        node.classList.contains(SVG_ARROW_CLASS)\n    ),\n    backdrop: boxChildren.find((node) =>\n      node.classList.contains(BACKDROP_CLASS)\n    ),\n  };\n}\n\nexport function render(\n  instance: Instance\n): {\n  popper: PopperElement;\n  onUpdate?: (prevProps: Props, nextProps: Props) => void;\n} {\n  const popper = div();\n\n  const box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n\n  const content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n\n  setContent(content, instance.props);\n\n  popper.appendChild(box);\n  box.appendChild(content);\n\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps: Props, nextProps: Props): void {\n    const {box, content, arrow} = getChildren(popper);\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth =\n      typeof nextProps.maxWidth === 'number'\n        ? `${nextProps.maxWidth}px`\n        : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (\n      prevProps.content !== nextProps.content ||\n      prevProps.allowHTML !== nextProps.allowHTML\n    ) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow!);\n    }\n  }\n\n  return {\n    popper,\n    onUpdate,\n  };\n}\n\n// Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\nrender.$$tippy = true;\n", "import {createPopper, StrictModifiers, Modifier} from '@popperjs/core';\nimport {currentInput} from './bindGlobalEventListeners';\nimport {isIE11} from './browser';\nimport {TIPPY_DEFAULT_APPEND_TO, TOUCH_OPTIONS} from './constants';\nimport {\n  actualContains,\n  div,\n  getOwnerDocument,\n  isCursorOutsideInteractiveBorder,\n  isMouseEvent,\n  setTransitionDuration,\n  setVisibilityState,\n  updateTransitionEndListener,\n} from './dom-utils';\nimport {defaultProps, evaluateProps, getExtendedPassedProps} from './props';\nimport {getChildren} from './template';\nimport {\n  Content,\n  Instance,\n  LifecycleHooks,\n  PopperElement,\n  Props,\n  ReferenceElement,\n} from './types';\nimport {ListenerObject, PopperTreeData, PopperChildren} from './types-internal';\nimport {\n  arrayFrom,\n  debounce,\n  getValueAtIndexOrReturn,\n  invokeWithArgsOrReturn,\n  normalizeToArray,\n  pushIfUnique,\n  splitBySpaces,\n  unique,\n  removeUndefinedProps,\n} from './utils';\nimport {createMemoryLeakWarning, errorWhen, warnWhen} from './validation';\n\nlet idCounter = 1;\nlet mouseMoveListeners: ((event: MouseEvent) => void)[] = [];\n\n// Used by `hideAll()`\nexport let mountedInstances: Instance[] = [];\n\nexport default function createTippy(\n  reference: ReferenceElement,\n  passedProps: Partial<Props>\n): Instance {\n  const props = evaluateProps(reference, {\n    ...defaultProps,\n    ...getExtendedPassedProps(removeUndefinedProps(passedProps)),\n  });\n\n  // ===========================================================================\n  //  Private members\n  // ===========================================================================\n  let showTimeout: any;\n  let hideTimeout: any;\n  let scheduleHideAnimationFrame: number;\n  let isVisibleFromClick = false;\n  let didHideDueToDocumentMouseDown = false;\n  let didTouchMove = false;\n  let ignoreOnFirstUpdate = false;\n  let lastTriggerEvent: Event | undefined;\n  let currentTransitionEndListener: (event: TransitionEvent) => void;\n  let onFirstUpdate: () => void;\n  let listeners: ListenerObject[] = [];\n  let debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  let currentTarget: Element;\n\n  // ===========================================================================\n  //  Public members\n  // ===========================================================================\n  const id = idCounter++;\n  const popperInstance = null;\n  const plugins = unique(props.plugins);\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  };\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper: div(),\n    popperInstance,\n    props,\n    state,\n    plugins,\n    // methods\n    clearDelayTimeouts,\n    setProps,\n    setContent,\n    show,\n    hide,\n    hideWithInteractivity,\n    enable,\n    disable,\n    unmount,\n    destroy,\n  };\n\n  // TODO: Investigate why this early return causes a TDZ error in the tests \n  // it doesn't seem to happen in the browser\n  /* istanbul ignore if */\n  if (!props.render) {\n    if (__DEV__) {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  }\n\n  // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n  const {popper, onUpdate} = props.render(instance);\n\n  popper.setAttribute('data-__NAMESPACE_PREFIX__-root', '');\n  popper.id = `__NAMESPACE_PREFIX__-${instance.id}`;\n\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n\n  const pluginsHooks = plugins.map((plugin) => plugin.fn(instance));\n  const hasAriaExpanded = reference.hasAttribute('aria-expanded');\n\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', () => {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n\n  popper.addEventListener('mouseleave', () => {\n    if (\n      instance.props.interactive &&\n      instance.props.trigger.indexOf('mouseenter') >= 0\n    ) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n\n  return instance;\n\n  // ===========================================================================\n  //  Private methods\n  // ===========================================================================\n  function getNormalizedTouchSettings(): [string | boolean, number] {\n    const {touch} = instance.props;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior(): boolean {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn(): boolean {\n    // @ts-ignore\n    return !!instance.props.render?.$$tippy;\n  }\n\n  function getCurrentTarget(): Element {\n    return currentTarget || reference;\n  }\n\n  function getDocument(): Document {\n    const parent = getCurrentTarget().parentNode as Element;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren(): PopperChildren {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow: boolean): number {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (\n      (instance.state.isMounted && !instance.state.isVisible) ||\n      currentInput.isTouch ||\n      (lastTriggerEvent && lastTriggerEvent.type === 'focus')\n    ) {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(\n      instance.props.delay,\n      isShow ? 0 : 1,\n      defaultProps.delay\n    );\n  }\n\n  function handleStyles(fromHide = false): void {\n    popper.style.pointerEvents =\n      instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = `${instance.props.zIndex}`;\n  }\n\n  function invokeHook(\n    hook: keyof LifecycleHooks,\n    args: [Instance, any?],\n    shouldInvokePropsHook = true\n  ): void {\n    pluginsHooks.forEach((pluginHooks) => {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook]!(...args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      instance.props[hook](...args);\n    }\n  }\n\n  function handleAriaContentAttribute(): void {\n    const {aria} = instance.props;\n\n    if (!aria.content) {\n      return;\n    }\n\n    const attr = `aria-${aria.content}`;\n    const id = popper.id;\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n\n    nodes.forEach((node) => {\n      const currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? `${currentValue} ${id}` : id);\n      } else {\n        const nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute(): void {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n\n    nodes.forEach((node) => {\n      if (instance.props.interactive) {\n        node.setAttribute(\n          'aria-expanded',\n          instance.state.isVisible && node === getCurrentTarget()\n            ? 'true'\n            : 'false'\n        );\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners(): void {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(\n      (listener) => listener !== debouncedOnMouseMove\n    );\n  }\n\n  function onDocumentPress(event: MouseEvent | TouchEvent): void {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    const actualTarget =\n      (event.composedPath && event.composedPath()[0]) || event.target;\n\n    // Clicked on interactive popper\n    if (\n      instance.props.interactive &&\n      actualContains(popper, actualTarget as Element)\n    ) {\n      return;\n    }\n\n    // Clicked on the event listeners target\n    if (\n      normalizeToArray(instance.props.triggerTarget || reference).some((el) =>\n        actualContains(el, actualTarget as Element)\n      )\n    ) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (\n        instance.state.isVisible &&\n        instance.props.trigger.indexOf('click') >= 0\n      ) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide();\n\n      // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(() => {\n        didHideDueToDocumentMouseDown = false;\n      });\n\n      // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove(): void {\n    didTouchMove = true;\n  }\n\n  function onTouchStart(): void {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress(): void {\n    const doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress(): void {\n    const doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, () => {\n      if (\n        !instance.state.isVisible &&\n        popper.parentNode &&\n        popper.parentNode.contains(popper)\n      ) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    const box = getDefaultTemplateChildren().box;\n\n    function listener(event: TransitionEvent): void {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n\n    currentTransitionEndListener = listener;\n  }\n\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | Record<string, unknown> = false\n  ): void {\n    const nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach((node) => {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({node, eventType, handler, options});\n    });\n  }\n\n  function addListeners(): void {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {passive: true});\n      on('touchend', onMouseLeave as EventListener, {passive: true});\n    }\n\n    splitBySpaces(instance.props.trigger).forEach((eventType) => {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave as EventListener);\n          break;\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut as EventListener);\n          break;\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut as EventListener);\n          break;\n      }\n    });\n  }\n\n  function removeListeners(): void {\n    listeners.forEach(({node, eventType, handler, options}: ListenerObject) => {\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event: Event): void {\n    let shouldScheduleClickHide = false;\n\n    if (\n      !instance.state.isEnabled ||\n      isEventListenerStopped(event) ||\n      didHideDueToDocumentMouseDown\n    ) {\n      return;\n    }\n\n    const wasFocused = lastTriggerEvent?.type === 'focus';\n\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget as Element;\n\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach((listener) => listener(event));\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      (instance.props.trigger.indexOf('mouseenter') < 0 ||\n        isVisibleFromClick) &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event: MouseEvent): void {\n    const target = event.target as Node;\n    const isCursorOverReferenceOrPopper =\n      getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    const popperTreeData = getNestedPopperTree()\n      .concat(popper)\n      .map((popper) => {\n        const instance = popper._tippy!;\n        const state = instance.popperInstance?.state;\n\n        if (state) {\n          return {\n            popperRect: popper.getBoundingClientRect(),\n            popperState: state,\n            props,\n          };\n        }\n\n        return null;\n      })\n      .filter(Boolean) as PopperTreeData[];\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event: MouseEvent): void {\n    const shouldBail =\n      isEventListenerStopped(event) ||\n      (instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick);\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event: FocusEvent): void {\n    if (\n      instance.props.trigger.indexOf('focusin') < 0 &&\n      event.target !== getCurrentTarget()\n    ) {\n      return;\n    }\n\n    // If focus was moved to within the popper\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event: Event): boolean {\n    return currentInput.isTouch\n      ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0\n      : false;\n  }\n\n  function createPopperInstance(): void {\n    destroyPopperInstance();\n\n    const {\n      popperOptions,\n      placement,\n      offset,\n      getReferenceClientRect,\n      moveTransition,\n    } = instance.props;\n\n    const arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n\n    const computedReference = getReferenceClientRect\n      ? {\n          getBoundingClientRect: getReferenceClientRect,\n          contextElement:\n            getReferenceClientRect.contextElement || getCurrentTarget(),\n        }\n      : reference;\n\n    const tippyModifier: Modifier<'$$tippy', Record<string, unknown>> = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn({state}) {\n        if (getIsDefaultRenderFn()) {\n          const {box} = getDefaultTemplateChildren();\n\n          ['placement', 'reference-hidden', 'escaped'].forEach((attr) => {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[`data-popper-${attr}`]) {\n                box.setAttribute(`data-${attr}`, '');\n              } else {\n                box.removeAttribute(`data-${attr}`);\n              }\n            }\n          });\n\n          state.attributes.popper = {};\n        }\n      },\n    };\n\n    type TippyModifier = Modifier<'$$tippy', Record<string, unknown>>;\n    type ExtendedModifiers = StrictModifiers | Partial<TippyModifier>;\n\n    const modifiers: Array<ExtendedModifiers> = [\n      {\n        name: 'offset',\n        options: {\n          offset,\n        },\n      },\n      {\n        name: 'preventOverflow',\n        options: {\n          padding: {\n            top: 2,\n            bottom: 2,\n            left: 5,\n            right: 5,\n          },\n        },\n      },\n      {\n        name: 'flip',\n        options: {\n          padding: 5,\n        },\n      },\n      {\n        name: 'computeStyles',\n        options: {\n          adaptive: !moveTransition,\n        },\n      },\n      tippyModifier,\n    ];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3,\n        },\n      });\n    }\n\n    modifiers.push(...(popperOptions?.modifiers || []));\n\n    instance.popperInstance = createPopper<ExtendedModifiers>(\n      computedReference,\n      popper,\n      {\n        ...popperOptions,\n        placement,\n        onFirstUpdate,\n        modifiers,\n      }\n    );\n  }\n\n  function destroyPopperInstance(): void {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount(): void {\n    const {appendTo} = instance.props;\n\n    let parentNode: any;\n\n    // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n    const node = getCurrentTarget();\n\n    if (\n      (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO) ||\n      appendTo === 'parent'\n    ) {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    }\n\n    // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n\n    createPopperInstance();\n\n    /* istanbul ignore else */\n    if (__DEV__) {\n      // Accessibility check\n      warnWhen(\n        instance.props.interactive &&\n          appendTo === defaultProps.appendTo &&\n          node.nextElementSibling !== popper,\n        [\n          'Interactive tippy element may not be accessible via keyboard',\n          'navigation because it is not directly after the reference element',\n          'in the DOM source order.',\n          '\\n\\n',\n          'Using a wrapper <div> or <span> tag around the reference element',\n          'solves this by creating a new parentNode context.',\n          '\\n\\n',\n          'Specifying `appendTo: document.body` silences this warning, but it',\n          'assumes you are using a focus management solution to handle',\n          'keyboard navigation.',\n          '\\n\\n',\n          'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity',\n        ].join(' ')\n      );\n    }\n  }\n\n  function getNestedPopperTree(): PopperElement[] {\n    return arrayFrom(\n      popper.querySelectorAll('[data-__NAMESPACE_PREFIX__-root]')\n    );\n  }\n\n  function scheduleShow(event?: Event): void {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n\n    let delay = getDelay(true);\n    const [touchValue, touchDelay] = getNormalizedTouchSettings();\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(() => {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event: Event): void {\n    instance.clearDelayTimeouts();\n\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n\n      return;\n    }\n\n    // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n    if (\n      instance.props.trigger.indexOf('mouseenter') >= 0 &&\n      instance.props.trigger.indexOf('click') >= 0 &&\n      ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 &&\n      isVisibleFromClick\n    ) {\n      return;\n    }\n\n    const delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(() => {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(() => {\n        instance.hide();\n      });\n    }\n  }\n\n  // ===========================================================================\n  //  Public methods\n  // ===========================================================================\n  function enable(): void {\n    instance.state.isEnabled = true;\n  }\n\n  function disable(): void {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps: Partial<Props>): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n\n    removeListeners();\n\n    const prevProps = instance.props;\n    const nextProps = evaluateProps(reference, {\n      ...prevProps,\n      ...removeUndefinedProps(partialProps),\n      ignoreAttributes: true,\n    });\n\n    instance.props = nextProps;\n\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(\n        onMouseMove,\n        nextProps.interactiveDebounce\n      );\n    }\n\n    // Ensure stale aria-expanded attributes are removed\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach((node) => {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance();\n\n      // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n      getNestedPopperTree().forEach((nestedPopper) => {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy!.popperInstance!.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content: Content): void {\n    instance.setProps({content});\n  }\n\n  function show(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    }\n\n    // Early bail-out\n    const isAlreadyVisible = instance.state.isVisible;\n    const isDestroyed = instance.state.isDestroyed;\n    const isDisabled = !instance.state.isEnabled;\n    const isTouchAndTouchDisabled =\n      currentInput.isTouch && !instance.props.touch;\n    const duration = getValueAtIndexOrReturn(\n      instance.props.duration,\n      0,\n      defaultProps.duration\n    );\n\n    if (\n      isAlreadyVisible ||\n      isDestroyed ||\n      isDisabled ||\n      isTouchAndTouchDisabled\n    ) {\n      return;\n    }\n\n    // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    }\n\n    // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n    if (getIsDefaultRenderFn()) {\n      const {box, content} = getDefaultTemplateChildren();\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = (): void => {\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true;\n\n      // reflow\n      void popper.offsetHeight;\n\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        const {box, content} = getDefaultTemplateChildren();\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n\n      pushIfUnique(mountedInstances, instance);\n\n      // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n      instance.popperInstance?.forceUpdate();\n\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, () => {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    }\n\n    // Early bail-out\n    const isAlreadyHidden = !instance.state.isVisible;\n    const isDestroyed = instance.state.isDestroyed;\n    const isDisabled = !instance.state.isEnabled;\n    const duration = getValueAtIndexOrReturn(\n      instance.props.duration,\n      1,\n      defaultProps.duration\n    );\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      const {box, content} = getDefaultTemplateChildren();\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event: MouseEvent): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        createMemoryLeakWarning('hideWithInteractivity')\n      );\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance();\n\n    // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n    getNestedPopperTree().forEach((nestedPopper) => {\n      nestedPopper._tippy!.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter((i) => i !== instance);\n\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy(): void {\n    /* istanbul ignore else */\n    if (__DEV__) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n\n    removeListeners();\n\n    delete reference._tippy;\n\n    instance.state.isDestroyed = true;\n\n    invokeHook('onDestroy', [instance]);\n  }\n}\n", "import bindGlobalEventListeners, {\n  currentInput,\n} from './bindGlobalEventListeners';\nimport createTippy, {mountedInstances} from './createTippy';\nimport {getArrayOfElements, isElement, isReferenceElement} from './dom-utils';\nimport {defaultProps, setDefaultProps, validateProps} from './props';\nimport {HideAll, HideAllOptions, Instance, Props, Targets} from './types';\nimport {validateTargets, warnWhen} from './validation';\n\nfunction tippy(\n  targets: Targets,\n  optionalProps: Partial<Props> = {}\n): Instance | Instance[] {\n  const plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n\n  /* istanbul ignore else */\n  if (__DEV__) {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n\n  const passedProps: Partial<Props> = {...optionalProps, plugins};\n\n  const elements = getArrayOfElements(targets);\n\n  /* istanbul ignore else */\n  if (__DEV__) {\n    const isSingleContentElement = isElement(passedProps.content);\n    const isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(\n      isSingleContentElement && isMoreThanOneReferenceElement,\n      [\n        'tippy() was passed an Element as the `content` prop, but more than',\n        'one tippy instance was created by this invocation. This means the',\n        'content element will only be appended to the last tippy instance.',\n        '\\n\\n',\n        'Instead, pass the .innerHTML of the element, or use a function that',\n        'returns a cloned version of the element instead.',\n        '\\n\\n',\n        '1) content: element.innerHTML\\n',\n        '2) content: () => element.cloneNode(true)',\n      ].join(' ')\n    );\n  }\n\n  const instances = elements.reduce<Instance[]>(\n    (acc, reference): Instance[] => {\n      const instance = reference && createTippy(reference, passedProps);\n\n      if (instance) {\n        acc.push(instance);\n      }\n\n      return acc;\n    },\n    []\n  );\n\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\n\nexport default tippy;\n\nexport const hideAll: HideAll = ({\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}) => {\n  mountedInstances.forEach((instance) => {\n    let isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance)\n        ? instance.reference === excludedReferenceOrInstance\n        : instance.popper === (excludedReferenceOrInstance as Instance).popper;\n    }\n\n    if (!isExcluded) {\n      const originalDuration = instance.props.duration;\n\n      instance.setProps({duration});\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({duration: originalDuration});\n      }\n    }\n  });\n};\n", "import tippy from '..';\nimport {div} from '../dom-utils';\nimport {\n  CreateSingleton,\n  Plugin,\n  CreateSingletonProps,\n  ReferenceElement,\n  CreateSingletonInstance,\n  Instance,\n  Props,\n} from '../types';\nimport {normalizeToArray, removeProperties} from '../utils';\nimport {errorWhen} from '../validation';\nimport {applyStyles, Modifier} from '@popperjs/core';\n\n// The default `applyStyles` modifier has a cleanup function that gets called\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\nconst applyStylesModifier: Modifier<'applyStyles', Record<string, unknown>> = {\n  ...applyStyles,\n  effect({state}) {\n    const initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0',\n      },\n      arrow: {\n        position: 'absolute',\n      },\n      reference: {},\n    };\n\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    }\n\n    // intentionally return no cleanup function\n    // return () => { ... }\n  },\n};\n\nconst createSingleton: CreateSingleton = (\n  tippyInstances,\n  optionalProps = {}\n) => {\n  /* istanbul ignore else */\n  if (__DEV__) {\n    errorWhen(\n      !Array.isArray(tippyInstances),\n      [\n        'The first argument passed to createSingleton() must be an array of',\n        'tippy instances. The passed value was',\n        String(tippyInstances),\n      ].join(' ')\n    );\n  }\n\n  let individualInstances = tippyInstances;\n  let references: Array<ReferenceElement> = [];\n  let triggerTargets: Array<Element> = [];\n  let currentTarget: Element | null;\n  let overrides = optionalProps.overrides;\n  let interceptSetPropsCleanups: Array<() => void> = [];\n  let shownOnCreate = false;\n\n  function setTriggerTargets(): void {\n    triggerTargets = individualInstances\n      .map((instance) =>\n        normalizeToArray(instance.props.triggerTarget || instance.reference)\n      )\n      .reduce((acc, item) => acc.concat(item), []);\n  }\n\n  function setReferences(): void {\n    references = individualInstances.map((instance) => instance.reference);\n  }\n\n  function enableInstances(isEnabled: boolean): void {\n    individualInstances.forEach((instance) => {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton: Instance): Array<() => void> {\n    return individualInstances.map((instance) => {\n      const originalSetProps = instance.setProps;\n\n      instance.setProps = (props): void => {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return (): void => {\n        instance.setProps = originalSetProps;\n      };\n    });\n  }\n\n  // have to pass singleton, as it maybe undefined on first call\n  function prepareInstance(\n    singleton: Instance,\n    target: ReferenceElement\n  ): void {\n    const index = triggerTargets.indexOf(target);\n\n    // bail-out\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n\n    const overrideProps: Partial<Props> = (overrides || [])\n      .concat('content')\n      .reduce((acc, prop) => {\n        (acc as any)[prop] = individualInstances[index].props[prop];\n        return acc;\n      }, {});\n\n    singleton.setProps({\n      ...overrideProps,\n      getReferenceClientRect:\n        typeof overrideProps.getReferenceClientRect === 'function'\n          ? overrideProps.getReferenceClientRect\n          : (): ClientRect => references[index]?.getBoundingClientRect(),\n    });\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n\n  const plugin: Plugin = {\n    fn() {\n      return {\n        onDestroy(): void {\n          enableInstances(true);\n        },\n        onHidden(): void {\n          currentTarget = null;\n        },\n        onClickOutside(instance): void {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow(instance): void {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger(instance, event): void {\n          prepareInstance(instance, event.currentTarget as Element);\n        },\n      };\n    },\n  };\n\n  const singleton = tippy(div(), {\n    ...removeProperties(optionalProps, ['overrides']),\n    plugins: [plugin, ...(optionalProps.plugins || [])],\n    triggerTarget: triggerTargets,\n    popperOptions: {\n      ...optionalProps.popperOptions,\n      modifiers: [\n        ...(optionalProps.popperOptions?.modifiers || []),\n        applyStylesModifier,\n      ],\n    },\n  }) as CreateSingletonInstance<CreateSingletonProps>;\n\n  const originalShow = singleton.show;\n\n  singleton.show = (target?: ReferenceElement | Instance | number): void => {\n    originalShow();\n\n    // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    }\n\n    // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n    if (currentTarget && target == null) {\n      return;\n    }\n\n    // target is index of instance\n    if (typeof target === 'number') {\n      return (\n        references[target] && prepareInstance(singleton, references[target])\n      );\n    }\n\n    // target is a child tippy instance\n    if (individualInstances.indexOf(target as Instance) >= 0) {\n      const ref = (target as Instance).reference;\n      return prepareInstance(singleton, ref);\n    }\n\n    // target is a ReferenceElement\n    if (references.indexOf(target as ReferenceElement) >= 0) {\n      return prepareInstance(singleton, target as ReferenceElement);\n    }\n  };\n\n  singleton.showNext = (): void => {\n    const first = references[0];\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n    const index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = (): void => {\n    const last = references[references.length - 1];\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n    const index = references.indexOf(currentTarget);\n    const target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  const originalSetProps = singleton.setProps;\n\n  singleton.setProps = (props): void => {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = (nextInstances): void => {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach((fn) => fn());\n\n    individualInstances = nextInstances;\n\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n\n    singleton.setProps({triggerTarget: triggerTargets});\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n\n  return singleton;\n};\n\nexport default createSingleton;\n", "import tippy from '..';\nimport {TOUCH_OPTIONS} from '../constants';\nimport {defaultProps} from '../props';\nimport {Instance, Props, Targets} from '../types';\nimport {ListenerObject} from '../types-internal';\nimport {normalizeToArray, removeProperties} from '../utils';\nimport {errorWhen} from '../validation';\n\nconst BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click',\n};\n\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\nfunction delegate(\n  targets: Targets,\n  props: Partial<Props> & {target: string}\n): Instance | Instance[] {\n  /* istanbul ignore else */\n  if (__DEV__) {\n    errorWhen(\n      !(props && props.target),\n      [\n        'You must specity a `target` prop indicating a CSS selector string matching',\n        'the target elements that should receive a tippy.',\n      ].join(' ')\n    );\n  }\n\n  let listeners: ListenerObject[] = [];\n  let childTippyInstances: Instance[] = [];\n  let disabled = false;\n\n  const {target} = props;\n\n  const nativeProps = removeProperties(props, ['target']);\n  const parentProps = {...nativeProps, trigger: 'manual', touch: false};\n  const childProps = {\n    touch: defaultProps.touch,\n    ...nativeProps,\n    showOnCreate: true,\n  };\n\n  const returnValue = tippy(targets, parentProps);\n  const normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event: Event): void {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    const targetNode = (event.target as Element).closest(target);\n\n    if (!targetNode) {\n      return;\n    }\n\n    // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n    const trigger =\n      targetNode.getAttribute('data-tippy-trigger') ||\n      props.trigger ||\n      defaultProps.trigger;\n\n    // @ts-ignore\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (\n      event.type !== 'touchstart' &&\n      trigger.indexOf((BUBBLING_EVENTS_MAP as any)[event.type]) < 0\n    ) {\n      return;\n    }\n\n    const instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(\n    node: Element,\n    eventType: string,\n    handler: EventListener,\n    options: boolean | Record<string, unknown> = false\n  ): void {\n    node.addEventListener(eventType, handler, options);\n    listeners.push({node, eventType, handler, options});\n  }\n\n  function addEventListeners(instance: Instance): void {\n    const {reference} = instance;\n\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners(): void {\n    listeners.forEach(({node, eventType, handler, options}: ListenerObject) => {\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance: Instance): void {\n    const originalDestroy = instance.destroy;\n    const originalEnable = instance.enable;\n    const originalDisable = instance.disable;\n\n    instance.destroy = (shouldDestroyChildInstances = true): void => {\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach((instance) => {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = (): void => {\n      originalEnable();\n      childTippyInstances.forEach((instance) => instance.enable());\n      disabled = false;\n    };\n\n    instance.disable = (): void => {\n      originalDisable();\n      childTippyInstances.forEach((instance) => instance.disable());\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n\n  return returnValue;\n}\n\nexport default delegate;\n", "import {BACKDROP_CLASS} from '../constants';\nimport {div, setVisibilityState} from '../dom-utils';\nimport {getChildren} from '../template';\nimport {AnimateFill} from '../types';\nimport {errorWhen} from '../validation';\n\nconst animateFill: AnimateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn(instance) {\n    // @ts-ignore\n    if (!instance.props.render?.$$tippy) {\n      if (__DEV__) {\n        errorWhen(\n          instance.props.animateFill,\n          'The `animateFill` plugin requires the default render function.'\n        );\n      }\n\n      return {};\n    }\n\n    const {box, content} = getChildren(instance.popper);\n\n    const backdrop = instance.props.animateFill\n      ? createBackdropElement()\n      : null;\n\n    return {\n      onCreate(): void {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild!);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n\n          instance.setProps({arrow: false, animation: 'shift-away'});\n        }\n      },\n      onMount(): void {\n        if (backdrop) {\n          const {transitionDuration} = box.style;\n          const duration = Number(transitionDuration.replace('ms', ''));\n\n          // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n          content.style.transitionDelay = `${Math.round(duration / 10)}ms`;\n\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow(): void {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide(): void {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      },\n    };\n  },\n};\n\nexport default animateFill;\n\nfunction createBackdropElement(): HTMLDivElement {\n  const backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n", "import {getOwnerDocument, isMouseEvent} from '../dom-utils';\nimport {FollowCursor, Instance} from '../types';\n\nlet mouseCoords = {clientX: 0, clientY: 0};\nlet activeInstances: Array<{instance: Instance; doc: Document}> = [];\n\nfunction storeMouseCoords({clientX, clientY}: MouseEvent): void {\n  mouseCoords = {clientX, clientY};\n}\n\nfunction addMouseCoordsListener(doc: Document): void {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc: Document): void {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nconst followCursor: FollowCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn(instance) {\n    const reference = instance.reference;\n    const doc = getOwnerDocument(instance.props.triggerTarget || reference);\n\n    let isInternalUpdate = false;\n    let wasFocusEvent = false;\n    let isUnmounted = true;\n    let prevProps = instance.props;\n\n    function getIsInitialBehavior(): boolean {\n      return (\n        instance.props.followCursor === 'initial' && instance.state.isVisible\n      );\n    }\n\n    function addListener(): void {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener(): void {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect(): void {\n      isInternalUpdate = true;\n      instance.setProps({getReferenceClientRect: null});\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event: MouseEvent): void {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      const isCursorOverReference = event.target\n        ? reference.contains(event.target as Node)\n        : true;\n      const {followCursor} = instance.props;\n      const {clientX, clientY} = event;\n\n      const rect = reference.getBoundingClientRect();\n      const relativeX = clientX - rect.left;\n      const relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect() {\n            const rect = reference.getBoundingClientRect();\n\n            let x = clientX;\n            let y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            const top = followCursor === 'horizontal' ? rect.top : y;\n            const right = followCursor === 'vertical' ? rect.right : x;\n            const bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            const left = followCursor === 'vertical' ? rect.left : x;\n\n            return {\n              width: right - left,\n              height: bottom - top,\n              top,\n              right,\n              bottom,\n              left,\n            };\n          },\n        });\n      }\n    }\n\n    function create(): void {\n      if (instance.props.followCursor) {\n        activeInstances.push({instance, doc});\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy(): void {\n      activeInstances = activeInstances.filter(\n        (data) => data.instance !== instance\n      );\n\n      if (activeInstances.filter((data) => data.doc === doc).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate(): void {\n        prevProps = instance.props;\n      },\n      onAfterUpdate(_, {followCursor}): void {\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (\n          followCursor !== undefined &&\n          prevProps.followCursor !== followCursor\n        ) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (\n              instance.state.isMounted &&\n              !wasFocusEvent &&\n              !getIsInitialBehavior()\n            ) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount(): void {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords as MouseEvent);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger(_, event): void {\n        if (isMouseEvent(event)) {\n          mouseCoords = {clientX: event.clientX, clientY: event.clientY};\n        }\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden(): void {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      },\n    };\n  },\n};\n\nexport default followCursor;\n", "import {Modifier, Placement} from '@popperjs/core';\nimport {isMouseEvent} from '../dom-utils';\nimport {BasePlacement, InlinePositioning, Props} from '../types';\nimport {arrayFrom, getBasePlacement} from '../utils';\n\nfunction getProps(props: Props, modifier: Modifier<any, any>): Partial<Props> {\n  return {\n    popperOptions: {\n      ...props.popperOptions,\n      modifiers: [\n        ...(props.popperOptions?.modifiers || []).filter(\n          ({name}) => name !== modifier.name\n        ),\n        modifier,\n      ],\n    },\n  };\n}\n\nconst inlinePositioning: InlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn(instance) {\n    const {reference} = instance;\n\n    function isEnabled(): boolean {\n      return !!instance.props.inlinePositioning;\n    }\n\n    let placement: Placement;\n    let cursorRectIndex = -1;\n    let isInternalUpdate = false;\n    let triedPlacements: Array<string> = [];\n\n    const modifier: Modifier<\n      'tippyInlinePositioning',\n      Record<string, unknown>\n    > = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn({state}) {\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (\n            placement !== state.placement &&\n            triedPlacements.indexOf(state.placement) === -1\n          ) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: () =>\n                getReferenceClientRect(state.placement),\n            });\n          }\n\n          placement = state.placement;\n        }\n      },\n    };\n\n    function getReferenceClientRect(placement: Placement): Partial<DOMRect> {\n      return getInlineBoundingClientRect(\n        getBasePlacement(placement),\n        reference.getBoundingClientRect(),\n        arrayFrom(reference.getClientRects()),\n        cursorRectIndex\n      );\n    }\n\n    function setInternalProps(partialProps: Partial<Props>): void {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier(): void {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger(_, event): void {\n        if (isMouseEvent(event)) {\n          const rects = arrayFrom(instance.reference.getClientRects());\n          const cursorRect = rects.find(\n            (rect) =>\n              rect.left - 2 <= event.clientX &&\n              rect.right + 2 >= event.clientX &&\n              rect.top - 2 <= event.clientY &&\n              rect.bottom + 2 >= event.clientY\n          );\n          const index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden(): void {\n        cursorRectIndex = -1;\n      },\n    };\n  },\n};\n\nexport default inlinePositioning;\n\nexport function getInlineBoundingClientRect(\n  currentBasePlacement: BasePlacement | null,\n  boundingRect: DOMRect,\n  clientRects: DOMRect[],\n  cursorRectIndex: number\n): {\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  width: number;\n  height: number;\n} {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  }\n\n  // There are two rects and they are disjoined\n  if (\n    clientRects.length === 2 &&\n    cursorRectIndex >= 0 &&\n    clientRects[0].left > clientRects[1].right\n  ) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom': {\n      const firstRect = clientRects[0];\n      const lastRect = clientRects[clientRects.length - 1];\n      const isTop = currentBasePlacement === 'top';\n\n      const top = firstRect.top;\n      const bottom = lastRect.bottom;\n      const left = isTop ? firstRect.left : lastRect.left;\n      const right = isTop ? firstRect.right : lastRect.right;\n      const width = right - left;\n      const height = bottom - top;\n\n      return {top, bottom, left, right, width, height};\n    }\n    case 'left':\n    case 'right': {\n      const minLeft = Math.min(...clientRects.map((rects) => rects.left));\n      const maxRight = Math.max(...clientRects.map((rects) => rects.right));\n      const measureRects = clientRects.filter((rect) =>\n        currentBasePlacement === 'left'\n          ? rect.left === minLeft\n          : rect.right === maxRight\n      );\n\n      const top = measureRects[0].top;\n      const bottom = measureRects[measureRects.length - 1].bottom;\n      const left = minLeft;\n      const right = maxRight;\n      const width = right - left;\n      const height = bottom - top;\n\n      return {top, bottom, left, right, width, height};\n    }\n    default: {\n      return boundingRect;\n    }\n  }\n}\n", "import {VirtualElement} from '@popperjs/core';\nimport {ReferenceElement, Sticky} from '../types';\n\nconst sticky: Sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn(instance) {\n    const {reference, popper} = instance;\n\n    function getReference(): ReferenceElement | VirtualElement {\n      return instance.popperInstance\n        ? instance.popperInstance.state.elements.reference\n        : reference;\n    }\n\n    function shouldCheck(value: 'reference' | 'popper'): boolean {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    let prevRefRect: ClientRect | null = null;\n    let prevPopRect: ClientRect | null = null;\n\n    function updatePosition(): void {\n      const currentRefRect = shouldCheck('reference')\n        ? getReference().getBoundingClientRect()\n        : null;\n      const currentPopRect = shouldCheck('popper')\n        ? popper.getBoundingClientRect()\n        : null;\n\n      if (\n        (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect)) ||\n        (currentPopRect && areRectsDifferent(prevPopRect, currentPopRect))\n      ) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount(): void {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      },\n    };\n  },\n};\n\nexport default sticky;\n\nfunction areRectsDifferent(\n  rectA: ClientRect | null,\n  rectB: ClientRect | null\n): boolean {\n  if (rectA && rectB) {\n    return (\n      rectA.top !== rectB.top ||\n      rectA.right !== rectB.right ||\n      rectA.bottom !== rectB.bottom ||\n      rectA.left !== rectB.left\n    );\n  }\n\n  return true;\n}\n", "import tippy from '../src';\nimport {render} from '../src/template';\n\ntippy.setDefaultProps({render});\n\nexport {default, hideAll} from '../src';\nexport {default as createSingleton} from '../src/addons/createSingleton';\nexport {default as delegate} from '../src/addons/delegate';\nexport {default as animateFill} from '../src/plugins/animateFill';\nexport {default as followCursor} from '../src/plugins/followCursor';\nexport {default as inlinePositioning} from '../src/plugins/inlinePositioning';\nexport {default as sticky} from '../src/plugins/sticky';\nexport {ROUND_ARROW as roundArrow} from '../src/constants';\n", "import { Controller } from '@hotwired/stimulus'\nimport { TempusDominus, DateTime, extend } from '@eonasdan/tempus-dominus'\nimport { load } from '@eonasdan/tempus-dominus/dist/plugins/fa-five'\nimport dayjs from 'dayjs'\nimport customParseFormat from 'dayjs/plugin/customParseFormat'\nimport customDateFormat from '@eonasdan/tempus-dominus/dist/plugins/customDateFormat'\nextend(customDateFormat)\nextend(load)\n\n/** Example usage:\n * Example 1 - datetime\n<div data-controller=\"datepicker\">\n  <input id=\"date_1\" type=\"text\" data-datepicker-target=\"datetime\" autocomplete=\"off\">\n</div>\n *\n * Example 2 - date\n<div data-controller=\"datepicker\">\n  <input id=\"date_2\" type=\"text\" data-datepicker-target=\"date\" autocomplete=\"off\">\n</div>\n *\n * Example 3 - linked datetime\n<div data-controller=\"datepicker\">\n  <input type=\"text\" data-datepicker-target=\"datetimeLinked1\" data-pair=\"1\" data-duration=\"24\" data-second-duration=\"36\" autocomplete=\"off\">\n  <input type=\"text\" data-datepicker-target=\"datetimeLinked2\" data-pair=\"1\" autocomplete=\"off\">\n  <input type=\"text\" data-datepicker-target=\"datetimeLinked2\" data-pair=\"1\" data-duration-field=\"second-duration\" autocomplete=\"off\">\n</div>\n */\n\nexport default class extends Controller {\n  static targets = ['date', 'dateLinked1', 'dateLinked2', 'datetime', 'datetimeLinked1', 'datetimeLinked2', 'linkedListener']\n\n  // Date Pickers\n  dateTargetConnected(target) {\n    let unsetDefaultDate = target.hasAttribute('data-default') && target.dataset.default == 'false'\n    this.setDateInput(target, unsetDefaultDate)\n  }\n\n  dateLinked1TargetConnected(target) {\n    let unsetDefaultDate = target.hasAttribute('data-default') && target.dataset.default == 'false'\n    this.setDateInput(target, unsetDefaultDate)\n  }\n\n  dateLinked2TargetConnected(target) {\n    dayjs.extend(customParseFormat)\n\n    let unsetDefaultDate = target.hasAttribute('data-default') && target.dataset.default == 'false'\n    let linked2 = this.setDateInput(target, unsetDefaultDate)\n\n    this.dateLinked1Targets.forEach((linked1) => {\n      this.linkDatepickers(linked2, target, linked1)\n    })\n  }\n\n  // Date & Time Pickers\n  datetimeTargetConnected(target) {\n    let unsetDefaultDate = target.hasAttribute('data-default') && target.dataset.default == 'false'\n    this.setDatetimeInput(target, unsetDefaultDate)\n  }\n\n  datetimeLinked1TargetConnected(target) {\n    let unsetDefaultDate = target.hasAttribute('data-default') && target.dataset.default == 'false'\n    this.setDatetimeInput(target, unsetDefaultDate)\n  }\n\n  datetimeLinked2TargetConnected(target) {\n    dayjs.extend(customParseFormat)\n\n    let unsetDefaultDate = target.hasAttribute('data-default') && target.dataset.default == 'false'\n    let linked2 = this.setDatetimeInput(target, unsetDefaultDate)\n\n    this.datetimeLinked1Targets.forEach((linked1) => {\n      this.linkDatepickers(linked2, target, linked1)\n    })\n  }\n\n  setDateInput(target, unsetDefaultDate) {\n    const hour = parseInt(target.dataset.hour ?? '0', 10)\n\n    let options = {\n      display: {\n        components: {\n          clock: false,\n          hours: false,\n          minutes: false,\n          seconds: false,\n        },\n      },\n      localization: {\n        locale: 'en-GB',\n        format: 'dd/MM/yyyy',\n        startOfTheWeek: 1,\n      },\n      defaultDate: DateTime.convert(dayjs().startOf('day').add(hour, 'hours').toDate(), 'en-GB'),\n    }\n\n    if (unsetDefaultDate) {\n      delete options.defaultDate\n    }\n\n    return new TempusDominus(target, options)\n  }\n\n  setDatetimeInput(target, unsetDefaultDate) {\n    const hour = parseInt(target.dataset.hour ?? '0', 10)\n    const minute = parseInt(target.dataset.minute ?? '0', 10)\n\n    let options = {\n      display: {\n        viewMode: this.defaultViewValue,\n      },\n      localization: {\n        locale: 'en-GB',\n        hourCycle: 'h23',\n        format: 'dd/MM/yyyy HH:mm',\n        startOfTheWeek: 1,\n      },\n      defaultDate: DateTime.convert(dayjs().startOf('day').add(hour, 'hours').add(minute, 'minutes').toDate(), 'en-GB'),\n    }\n\n    if (target.hasAttribute('data-default-view')) {\n      options.display = {\n        viewMode: target.dataset.defaultView,\n      }\n    }\n\n    if (unsetDefaultDate) {\n      delete options.defaultDate\n    }\n\n    return new TempusDominus(target, options)\n  }\n\n  linkDatepickers(linked2, target, linked1) {\n    if (linked1.dataset.pair === target.dataset.pair) {\n      if (linked1.value != '') {\n        linked2.updateOptions({\n          restrictions: {\n            minDate: linked1.value,\n          },\n        })\n      }\n\n      linked1.addEventListener('change.td', (e) => {\n        this.setDurationEndInputs(linked2, target, linked1, e.detail.date)\n      })\n    }\n  }\n\n  setDurationEndInputs(linked2, target, datetime1, date) {\n    linked2.updateOptions({\n      restrictions: {\n        minDate: date,\n      },\n    })\n\n    // by default we use the data-duration field to set the end time of a linked datepicker\n    // but we sometimes want to use another field i.e. 'facilitator-duration'\n    // if no duration is provided, we don't set the second input\n    let duration_field = 'duration'\n\n    if (target.hasAttribute('data-duration-field')) {\n      duration_field = target.dataset.durationField\n    }\n\n    if (datetime1.hasAttribute(`data-${duration_field}`)) {\n      date = dayjs(date)\n        .add(datetime1.getAttribute(`data-${duration_field}`), 'hours')\n        .toDate()\n\n      linked2.dates.setValue(DateTime.convert(date, 'en-GB'))\n    }\n  }\n}\n", "export class TdError extends Error {\n  code: number;\n}\n\nexport class ErrorMessages {\n  private base = 'TD:';\n\n  //#region out to console\n\n  /**\n   * Throws an error indicating that a key in the options object is invalid.\n   * @param optionName\n   */\n  unexpectedOption(optionName: string) {\n    const error = new TdError(\n      `${this.base} Unexpected option: ${optionName} does not match a known option.`\n    );\n    error.code = 1;\n    throw error;\n  }\n\n  /**\n   * Throws an error indicating that one more keys in the options object is invalid.\n   * @param optionName\n   */\n  unexpectedOptions(optionName: string[]) {\n    const error = new TdError(`${this.base}: ${optionName.join(', ')}`);\n    error.code = 1;\n    throw error;\n  }\n\n  /**\n   * Throws an error when an option is provide an unsupported value.\n   * For example a value of 'cheese' for toolbarPlacement which only supports\n   * 'top', 'bottom', 'default'.\n   * @param optionName\n   * @param badValue\n   * @param validOptions\n   */\n  unexpectedOptionValue(\n    optionName: string,\n    badValue: string,\n    validOptions: string[]\n  ) {\n    const error = new TdError(\n      `${\n        this.base\n      } Unexpected option value: ${optionName} does not accept a value of \"${badValue}\". Valid values are: ${validOptions.join(\n        ', '\n      )}`\n    );\n    error.code = 2;\n    throw error;\n  }\n\n  /**\n   * Throws an error when an option value is the wrong type.\n   * For example a string value was provided to multipleDates which only\n   * supports true or false.\n   * @param optionName\n   * @param badType\n   * @param expectedType\n   */\n  typeMismatch(optionName: string, badType: string, expectedType: string) {\n    const error = new TdError(\n      `${this.base} Mismatch types: ${optionName} has a type of ${badType} instead of the required ${expectedType}`\n    );\n    error.code = 3;\n    throw error;\n  }\n\n  /**\n   * Throws an error when an option value is  outside of the expected range.\n   * For example restrictions.daysOfWeekDisabled excepts a value between 0 and 6.\n   * @param optionName\n   * @param lower\n   * @param upper\n   */\n  numbersOutOfRange(optionName: string, lower: number, upper: number) {\n    const error = new TdError(\n      `${this.base} ${optionName} expected an array of number between ${lower} and ${upper}.`\n    );\n    error.code = 4;\n    throw error;\n  }\n\n  /**\n   * Throws an error when a value for a date options couldn't be parsed. Either\n   * the option was an invalid string or an invalid Date object.\n   * @param optionName\n   * @param date\n   * @param soft If true, logs a warning instead of an error.\n   */\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  failedToParseDate(optionName: string, date: any, soft = false) {\n    const error = new TdError(\n      `${this.base} Could not correctly parse \"${date}\" to a date for ${optionName}.`\n    );\n    error.code = 5;\n    if (!soft) throw error;\n    console.warn(error);\n  }\n\n  /**\n   * Throws when an element to attach to was not provided in the constructor.\n   */\n  mustProvideElement() {\n    const error = new TdError(`${this.base} No element was provided.`);\n    error.code = 6;\n    throw error;\n  }\n\n  /**\n   * Throws if providing an array for the events to subscribe method doesn't have\n   * the same number of callbacks. E.g., subscribe([1,2], [1])\n   */\n  subscribeMismatch() {\n    const error = new TdError(\n      `${this.base} The subscribed events does not match the number of callbacks`\n    );\n    error.code = 7;\n    throw error;\n  }\n\n  /**\n   * Throws if the configuration has conflicting rules e.g. minDate is after maxDate\n   */\n  conflictingConfiguration(message?: string) {\n    const error = new TdError(\n      `${this.base} A configuration value conflicts with another rule. ${message}`\n    );\n    error.code = 8;\n    throw error;\n  }\n\n  /**\n   * customDateFormat errors\n   */\n  customDateFormatError(message?: string) {\n    const error = new TdError(`${this.base} Custom Date Format: ${message}`);\n    error.code = 9;\n    throw error;\n  }\n\n  /**\n   * Logs a warning if a date option value is provided as a string, instead of\n   * a date/datetime object.\n   */\n  dateString() {\n    console.warn(\n      `${this.base} Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.`\n    );\n  }\n\n  deprecatedWarning(message: string, remediation?: string) {\n    console.warn(\n      `${this.base} Warning ${message} is deprecated and will be removed in a future version. ${remediation}`\n    );\n  }\n\n  throwError(message) {\n    const error = new TdError(`${this.base} ${message}`);\n    error.code = 9;\n    throw error;\n  }\n\n  //#endregion\n\n  //#region used with notify.error\n\n  /**\n   * Used with an Error Event type if the user selects a date that\n   * fails restriction validation.\n   */\n  failedToSetInvalidDate = 'Failed to set invalid date';\n\n  /**\n   * Used with an Error Event type when a user changes the value of the\n   * input field directly, and does not provide a valid date.\n   */\n  failedToParseInput = 'Failed parse input field';\n\n  //#endregion\n}\n", "import { ErrorMessages } from './errors';\n// this is not the way I want this to stay but nested classes seemed to blown up once its compiled.\nconst NAME = 'tempus-dominus',\n  dataKey = 'td';\n\n/**\n * Events\n */\nclass Events {\n  key = `.${dataKey}`;\n\n  /**\n   * Change event. Fired when the user selects a date.\n   * See also EventTypes.ChangeEvent\n   */\n  change = `change${this.key}`;\n\n  /**\n   * Emit when the view changes for example from month view to the year view.\n   * See also EventTypes.ViewUpdateEvent\n   */\n  update = `update${this.key}`;\n\n  /**\n   * Emits when a selected date or value from the input field fails to meet the provided validation rules.\n   * See also EventTypes.FailEvent\n   */\n  error = `error${this.key}`;\n\n  /**\n   * Show event\n   * @event Events#show\n   */\n  show = `show${this.key}`;\n\n  /**\n   * Hide event\n   * @event Events#hide\n   */\n  hide = `hide${this.key}`;\n\n  // blur and focus are used in the jQuery provider but are otherwise unused.\n  // keyup/down will be used later for keybinding options\n\n  blur = `blur${this.key}`;\n  focus = `focus${this.key}`;\n  keyup = `keyup${this.key}`;\n  keydown = `keydown${this.key}`;\n}\n\nclass Css {\n  /**\n   * The outer element for the widget.\n   */\n  widget = `${NAME}-widget`;\n\n  /**\n   * Hold the previous, next and switcher divs\n   */\n  calendarHeader = 'calendar-header';\n\n  /**\n   * The element for the action to change the calendar view. E.g. month -> year.\n   */\n  switch = 'picker-switch';\n\n  /**\n   * The elements for all the toolbar options\n   */\n  toolbar = 'toolbar';\n\n  /**\n   * Disables the hover and rounding affect.\n   */\n  noHighlight = 'no-highlight';\n\n  /**\n   * Applied to the widget element when the side by side option is in use.\n   */\n  sideBySide = 'timepicker-sbs';\n\n  /**\n   * The element for the action to change the calendar view, e.g. August -> July\n   */\n  previous = 'previous';\n\n  /**\n   * The element for the action to change the calendar view, e.g. August -> September\n   */\n  next = 'next';\n\n  /**\n   * Applied to any action that would violate any restriction options. ALso applied\n   * to an input field if the disabled function is called.\n   */\n  disabled = 'disabled';\n\n  /**\n   * Applied to any date that is less than requested view,\n   * e.g. the last day of the previous month.\n   */\n  old = 'old';\n\n  /**\n   * Applied to any date that is greater than of requested view,\n   * e.g. the last day of the previous month.\n   */\n  new = 'new';\n\n  /**\n   * Applied to any date that is currently selected.\n   */\n  active = 'active';\n\n  //#region date element\n\n  /**\n   * The outer element for the calendar view.\n   */\n  dateContainer = 'date-container';\n\n  /**\n   * The outer element for the decades view.\n   */\n  decadesContainer = `${this.dateContainer}-decades`;\n\n  /**\n   * Applied to elements within the decade container, e.g. 2020, 2030\n   */\n  decade = 'decade';\n\n  /**\n   * The outer element for the years view.\n   */\n  yearsContainer = `${this.dateContainer}-years`;\n\n  /**\n   * Applied to elements within the years container, e.g. 2021, 2021\n   */\n  year = 'year';\n\n  /**\n   * The outer element for the month view.\n   */\n  monthsContainer = `${this.dateContainer}-months`;\n\n  /**\n   * Applied to elements within the month container, e.g. January, February\n   */\n  month = 'month';\n\n  /**\n   * The outer element for the calendar view.\n   */\n  daysContainer = `${this.dateContainer}-days`;\n\n  /**\n   * Applied to elements within the day container, e.g. 1, 2..31\n   */\n  day = 'day';\n\n  /**\n   * If display.calendarWeeks is enabled, a column displaying the week of year\n   * is shown. This class is applied to each cell in that column.\n   */\n  calendarWeeks = 'cw';\n\n  /**\n   * Applied to the first row of the calendar view, e.g. Sunday, Monday\n   */\n  dayOfTheWeek = 'dow';\n\n  /**\n   * Applied to the current date on the calendar view.\n   */\n  today = 'today';\n\n  /**\n   * Applied to the locale's weekend dates on the calendar view, e.g. Sunday, Saturday\n   */\n  weekend = 'weekend';\n\n  rangeIn = 'range-in';\n  rangeStart = 'range-start';\n  rangeEnd = 'range-end';\n\n  //#endregion\n\n  //#region time element\n\n  /**\n   * The outer element for all time related elements.\n   */\n  timeContainer = 'time-container';\n\n  /**\n   * Applied the separator columns between time elements, e.g. hour *:* minute *:* second\n   */\n  separator = 'separator';\n\n  /**\n   * The outer element for the clock view.\n   */\n  clockContainer = `${this.timeContainer}-clock`;\n\n  /**\n   * The outer element for the hours selection view.\n   */\n  hourContainer = `${this.timeContainer}-hour`;\n\n  /**\n   * The outer element for the minutes selection view.\n   */\n  minuteContainer = `${this.timeContainer}-minute`;\n\n  /**\n   * The outer element for the seconds selection view.\n   */\n  secondContainer = `${this.timeContainer}-second`;\n\n  /**\n   * Applied to each element in the hours selection view.\n   */\n  hour = 'hour';\n\n  /**\n   * Applied to each element in the minutes selection view.\n   */\n  minute = 'minute';\n\n  /**\n   * Applied to each element in the seconds selection view.\n   */\n  second = 'second';\n\n  /**\n   * Applied AM/PM toggle button.\n   */\n  toggleMeridiem = 'toggleMeridiem';\n\n  //#endregion\n\n  //#region collapse\n\n  /**\n   * Applied the element of the current view mode, e.g. calendar or clock.\n   */\n  show = 'show';\n\n  /**\n   * Applied to the currently showing view mode during a transition\n   * between calendar and clock views\n   */\n  collapsing = 'td-collapsing';\n\n  /**\n   * Applied to the currently hidden view mode.\n   */\n  collapse = 'td-collapse';\n\n  //#endregion\n\n  /**\n   * Applied to the widget when the option display.inline is enabled.\n   */\n  inline = 'inline';\n\n  /**\n   * Applied to the widget when the option display.theme is light.\n   */\n  lightTheme = 'light';\n\n  /**\n   * Applied to the widget when the option display.theme is dark.\n   */\n  darkTheme = 'dark';\n\n  /**\n   * Used for detecting if the system color preference is dark mode\n   */\n  isDarkPreferredQuery = '(prefers-color-scheme: dark)';\n}\n\nexport default class Namespace {\n  static NAME = NAME;\n  // noinspection JSUnusedGlobalSymbols\n  static dataKey = dataKey;\n\n  static events = new Events();\n\n  static css = new Css();\n\n  static errorMessages = new ErrorMessages();\n}\n", "import { FormatLocalization } from './options';\n\nconst DefaultFormatLocalization: FormatLocalization = {\n  dateFormats: {\n    LTS: 'h:mm:ss T',\n    LT: 'h:mm T',\n    L: 'MM/dd/yyyy',\n    LL: 'MMMM d, yyyy',\n    LLL: 'MMMM d, yyyy h:mm T',\n    LLLL: 'dddd, MMMM d, yyyy h:mm T',\n  },\n  format: 'L LT',\n  locale: 'default',\n  hourCycle: undefined,\n  ordinal: (n) => {\n    const s = ['th', 'st', 'nd', 'rd'];\n    const v = n % 100;\n    return `[${n}${s[(v - 20) % 10] || s[v] || s[0]}]`;\n  },\n};\n\nexport default { ...DefaultFormatLocalization };\n", "import { FormatLocalization } from './utilities/options';\nimport Namespace from './utilities/namespace';\nimport DefaultFormatLocalization from './utilities/default-format-localization';\n\ntype parsedTime = {\n  afternoon?: boolean;\n  year?: number;\n  month?: number;\n  day?: number;\n  hours?: number;\n  minutes?: number;\n  seconds?: number;\n  milliseconds?: number;\n  zone?: {\n    offset: number;\n  };\n};\n\nexport enum Unit {\n  seconds = 'seconds',\n  minutes = 'minutes',\n  hours = 'hours',\n  date = 'date',\n  month = 'month',\n  year = 'year',\n}\n\nconst twoDigitTemplate = {\n  month: '2-digit',\n  day: '2-digit',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit',\n};\n\nexport interface DateTimeFormatOptions extends Intl.DateTimeFormatOptions {\n  timeStyle?: 'short' | 'medium' | 'long';\n  dateStyle?: 'short' | 'medium' | 'long' | 'full';\n  numberingSystem?: string;\n}\n\n/**\n * Returns an Intl format object based on the provided object\n * @param unit\n */\nexport const getFormatByUnit = (unit: Unit): object => {\n  switch (unit) {\n    case 'date':\n      return { dateStyle: 'short' };\n    case 'month':\n      return {\n        month: 'numeric',\n        year: 'numeric',\n      };\n    case 'year':\n      return { year: 'numeric' };\n  }\n};\n\n/**\n * Attempts to guess the hour cycle of the given local\n * @param locale\n */\nexport const guessHourCycle = (locale: string): Intl.LocaleHourCycleKey => {\n  if (!locale) return 'h12';\n\n  // noinspection SpellCheckingInspection\n  const template = {\n    hour: '2-digit',\n    minute: '2-digit',\n    numberingSystem: 'latn',\n  };\n\n  const dt = new DateTime().setLocalization({ locale });\n  dt.hours = 0;\n\n  const start = dt.parts(undefined, template).hour;\n\n  //midnight is 12 so en-US style 12 AM\n  if (start === '12') return 'h12';\n  //midnight is 24 is from 00-24\n  if (start === '24') return 'h24';\n\n  dt.hours = 23;\n  const end = dt.parts(undefined, template).hour;\n\n  //if midnight is 00 and hour 23 is 11 then\n  if (start === '00' && end === '11') return 'h11';\n\n  if (start === '00' && end === '23') return 'h23';\n\n  console.warn(\n    `couldn't determine hour cycle for ${locale}. start: ${start}. end: ${end}`\n  );\n\n  return undefined;\n};\n\ninterface FormatMatch {\n  parser: (obj: parsedTime, input: number) => void;\n  pattern?: RegExp;\n}\n\ninterface FormatMatchString {\n  parser: (obj: parsedTime, input: string) => void;\n  pattern?: RegExp;\n}\n\ninterface FormatExpression {\n  t: FormatMatchString;\n  T: FormatMatchString;\n  fff: FormatMatch;\n  s: FormatMatch;\n  ss: FormatMatch;\n  m: FormatMatch;\n  mm: FormatMatch;\n  H: FormatMatch;\n  h: FormatMatch;\n  HH: FormatMatch;\n  hh: FormatMatch;\n  d: FormatMatch;\n  dd: FormatMatch;\n  Do: FormatMatchString;\n  M: FormatMatch;\n  MM: FormatMatch;\n  MMM: FormatMatchString;\n  MMMM: FormatMatchString;\n  y: FormatMatch;\n  yy: FormatMatch;\n  yyyy: FormatMatch;\n}\n\n/**\n * For the most part this object behaves exactly the same way\n * as the native Date object with a little extra spice.\n */\nexport class DateTime extends Date {\n  localization: FormatLocalization = DefaultFormatLocalization;\n\n  /**\n   * Chainable way to set the {@link locale}\n   * @param value\n   * @deprecated use setLocalization with a FormatLocalization object instead\n   */\n  setLocale(value: string): this {\n    if (!this.localization) {\n      this.localization = DefaultFormatLocalization;\n      this.localization.locale = value;\n    }\n    return this;\n  }\n\n  /**\n   * Chainable way to set the {@link localization}\n   * @param value\n   */\n  setLocalization(value: FormatLocalization): this {\n    this.localization = value;\n    return this;\n  }\n\n  /**\n   * Converts a plain JS date object to a DateTime object.\n   * Doing this allows access to format, etc.\n   * @param  date\n   * @param locale this parameter is deprecated. Use formatLocalization instead.\n   * @param formatLocalization\n   */\n  static convert(\n    date: Date,\n    locale = 'default',\n    formatLocalization: FormatLocalization = undefined\n  ): DateTime {\n    if (!date) throw new Error(`A date is required`);\n\n    if (!formatLocalization) {\n      formatLocalization = DefaultFormatLocalization;\n      formatLocalization.locale = locale;\n    }\n\n    return new DateTime(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      date.getHours(),\n      date.getMinutes(),\n      date.getSeconds(),\n      date.getMilliseconds()\n    ).setLocalization(formatLocalization);\n  }\n\n  /**\n   * Native date manipulations are not pure functions. This function creates a duplicate of the DateTime object.\n   */\n  get clone() {\n    return new DateTime(\n      this.year,\n      this.month,\n      this.date,\n      this.hours,\n      this.minutes,\n      this.seconds,\n      this.getMilliseconds()\n    ).setLocalization(this.localization);\n  }\n\n  static isValid(d): boolean {\n    if (d === undefined || JSON.stringify(d) === 'null') return false;\n    if (d.constructor.name === DateTime.name) return true;\n    return false;\n  }\n\n  /**\n   * Sets the current date to the start of the {@link unit} provided\n   * Example: Consider a date of \"April 30, 2021, 11:45:32.984 AM\" => new DateTime(2021, 3, 30, 11, 45, 32, 984).startOf('month')\n   * would return April 1, 2021, 12:00:00.000 AM (midnight)\n   * @param unit\n   * @param startOfTheWeek Allows for the changing the start of the week.\n   */\n  startOf(unit: Unit | 'weekDay', startOfTheWeek = 0): this {\n    if (this[unit] === undefined)\n      throw new Error(`Unit '${unit}' is not valid`);\n    switch (unit) {\n      case 'seconds':\n        this.setMilliseconds(0);\n        break;\n      case 'minutes':\n        this.setSeconds(0, 0);\n        break;\n      case 'hours':\n        this.setMinutes(0, 0, 0);\n        break;\n      case 'date':\n        this.setHours(0, 0, 0, 0);\n        break;\n      case 'weekDay': {\n        this.startOf(Unit.date);\n        if (this.weekDay === startOfTheWeek) break;\n        const goBack = (this.weekDay - startOfTheWeek + 7) % 7;\n        this.manipulate(goBack * -1, Unit.date);\n        break;\n      }\n      case 'month':\n        this.startOf(Unit.date);\n        this.setDate(1);\n        break;\n      case 'year':\n        this.startOf(Unit.date);\n        this.setMonth(0, 1);\n        break;\n    }\n    return this;\n  }\n\n  /**\n   * Sets the current date to the end of the {@link unit} provided\n   * Example: Consider a date of \"April 30, 2021, 11:45:32.984 AM\" => new DateTime(2021, 3, 30, 11, 45, 32, 984).endOf('month')\n   * would return April 30, 2021, 11:59:59.999 PM\n   * @param unit\n   * @param startOfTheWeek\n   */\n  endOf(unit: Unit | 'weekDay', startOfTheWeek = 0): this {\n    if (this[unit] === undefined)\n      throw new Error(`Unit '${unit}' is not valid`);\n    switch (unit) {\n      case 'seconds':\n        this.setMilliseconds(999);\n        break;\n      case 'minutes':\n        this.setSeconds(59, 999);\n        break;\n      case 'hours':\n        this.setMinutes(59, 59, 999);\n        break;\n      case 'date':\n        this.setHours(23, 59, 59, 999);\n        break;\n      case 'weekDay': {\n        this.endOf(Unit.date);\n        const endOfWeek = 6 + startOfTheWeek;\n        if (this.weekDay === endOfWeek) break;\n        this.manipulate(endOfWeek - this.weekDay, Unit.date);\n        break;\n      }\n      case 'month':\n        this.endOf(Unit.date);\n        this.manipulate(1, Unit.month);\n        this.setDate(0);\n        break;\n      case 'year':\n        this.endOf(Unit.date);\n        this.setMonth(11, 31);\n        break;\n    }\n    return this;\n  }\n\n  /**\n   * Change a {@link unit} value. Value can be positive or negative\n   * Example: Consider a date of \"April 30, 2021, 11:45:32.984 AM\" => new DateTime(2021, 3, 30, 11, 45, 32, 984).manipulate(1, 'month')\n   * would return May 30, 2021, 11:45:32.984 AM\n   * @param value A positive or negative number\n   * @param unit\n   */\n  manipulate(value: number, unit: Unit): this {\n    if (this[unit] === undefined)\n      throw new Error(`Unit '${unit}' is not valid`);\n    this[unit] += value;\n    return this;\n  }\n\n  /**\n   * Return true if {@link compare} is before this date\n   * @param compare The Date/DateTime to compare\n   * @param unit If provided, uses {@link startOf} for\n   * comparison.\n   */\n  isBefore(compare: DateTime, unit?: Unit): boolean {\n    // If the comparisons is undefined, return false\n    if (!DateTime.isValid(compare)) return false;\n\n    if (!unit) return this.valueOf() < compare.valueOf();\n    if (this[unit] === undefined)\n      throw new Error(`Unit '${unit}' is not valid`);\n    return (\n      this.clone.startOf(unit).valueOf() < compare.clone.startOf(unit).valueOf()\n    );\n  }\n\n  /**\n   * Return true if {@link compare} is after this date\n   * @param compare The Date/DateTime to compare\n   * @param unit If provided, uses {@link startOf} for\n   * comparison.\n   */\n  isAfter(compare: DateTime, unit?: Unit): boolean {\n    // If the comparisons is undefined, return false\n    if (!DateTime.isValid(compare)) return false;\n\n    if (!unit) return this.valueOf() > compare.valueOf();\n    if (this[unit] === undefined)\n      throw new Error(`Unit '${unit}' is not valid`);\n    return (\n      this.clone.startOf(unit).valueOf() > compare.clone.startOf(unit).valueOf()\n    );\n  }\n\n  /**\n   * Return true if {@link compare} is same this date\n   * @param compare The Date/DateTime to compare\n   * @param unit If provided, uses {@link startOf} for\n   * comparison.\n   */\n  isSame(compare: DateTime, unit?: Unit): boolean {\n    // If the comparisons is undefined, return false\n    if (!DateTime.isValid(compare)) return false;\n\n    if (!unit) return this.valueOf() === compare.valueOf();\n    if (this[unit] === undefined)\n      throw new Error(`Unit '${unit}' is not valid`);\n    compare = DateTime.convert(compare);\n    return (\n      this.clone.startOf(unit).valueOf() === compare.startOf(unit).valueOf()\n    );\n  }\n\n  /**\n   * Check if this is between two other DateTimes, optionally looking at unit scale. The match is exclusive.\n   * @param left\n   * @param right\n   * @param unit.\n   * @param inclusivity. A [ indicates inclusion of a value. A ( indicates exclusion.\n   * If the inclusivity parameter is used, both indicators must be passed.\n   */\n  isBetween(\n    left: DateTime,\n    right: DateTime,\n    unit?: Unit,\n    inclusivity: '()' | '[]' | '(]' | '[)' = '()'\n  ): boolean {\n    // If one of the comparisons is undefined, return false\n    if (!DateTime.isValid(left) || !DateTime.isValid(right)) return false;\n    // If a unit is provided and is not a valid property of the DateTime object, throw an error\n    if (unit && this[unit] === undefined) {\n      throw new Error(`Unit '${unit}' is not valid`);\n    }\n\n    const leftInclusivity = inclusivity[0] === '(';\n    const rightInclusivity = inclusivity[1] === ')';\n\n    const isLeftInRange = leftInclusivity\n      ? this.isAfter(left, unit)\n      : !this.isBefore(left, unit);\n    const isRightInRange = rightInclusivity\n      ? this.isBefore(right, unit)\n      : !this.isAfter(right, unit);\n\n    return isLeftInRange && isRightInRange;\n  }\n\n  /**\n   * Returns flattened object of the date. Does not include literals\n   * @param locale\n   * @param template\n   */\n  parts(\n    locale = this.localization.locale,\n    template: Record<string, unknown> = { dateStyle: 'full', timeStyle: 'long' }\n  ): Record<string, string> {\n    const parts = {};\n    new Intl.DateTimeFormat(locale, template)\n      .formatToParts(this)\n      .filter((x) => x.type !== 'literal')\n      .forEach((x) => (parts[x.type] = x.value));\n    return parts;\n  }\n\n  /**\n   * Shortcut to Date.getSeconds()\n   */\n  get seconds(): number {\n    return this.getSeconds();\n  }\n\n  /**\n   * Shortcut to Date.setSeconds()\n   */\n  set seconds(value: number) {\n    this.setSeconds(value);\n  }\n\n  /**\n   * Returns two digit hours\n   */\n  get secondsFormatted(): string {\n    return this.parts(undefined, twoDigitTemplate).second;\n  }\n\n  /**\n   * Shortcut to Date.getMinutes()\n   */\n  get minutes(): number {\n    return this.getMinutes();\n  }\n\n  /**\n   * Shortcut to Date.setMinutes()\n   */\n  set minutes(value: number) {\n    this.setMinutes(value);\n  }\n\n  /**\n   * Returns two digit minutes\n   */\n  get minutesFormatted(): string {\n    return this.parts(undefined, twoDigitTemplate).minute;\n  }\n\n  /**\n   * Shortcut to Date.getHours()\n   */\n  get hours(): number {\n    return this.getHours();\n  }\n\n  /**\n   * Shortcut to Date.setHours()\n   */\n  set hours(value: number) {\n    this.setHours(value);\n  }\n\n  /**\n   * Returns two digit hour, e.g. 01...10\n   * @param hourCycle Providing an hour cycle will change 00 to 24 depending on the given value.\n   */\n  getHoursFormatted(hourCycle: Intl.LocaleHourCycleKey = 'h12') {\n    return this.parts(undefined, { ...twoDigitTemplate, hourCycle: hourCycle })\n      .hour;\n  }\n\n  /**\n   * Get the meridiem of the date. E.g. AM or PM.\n   * If the {@link locale} provides a \"dayPeriod\" then this will be returned,\n   * otherwise it will return AM or PM.\n   * @param locale\n   */\n  meridiem(locale: string = this.localization.locale): string {\n    return new Intl.DateTimeFormat(locale, {\n      hour: 'numeric',\n      hour12: true,\n    })\n      .formatToParts(this)\n      .find((p) => p.type === 'dayPeriod')?.value;\n  }\n\n  /**\n   * Shortcut to Date.getDate()\n   */\n  get date(): number {\n    return this.getDate();\n  }\n\n  /**\n   * Shortcut to Date.setDate()\n   */\n  set date(value: number) {\n    this.setDate(value);\n  }\n\n  /**\n   * Return two digit date\n   */\n  get dateFormatted(): string {\n    return this.parts(undefined, twoDigitTemplate).day;\n  }\n\n  /**\n   * Shortcut to Date.getDay()\n   */\n  get weekDay(): number {\n    return this.getDay();\n  }\n\n  /**\n   * Shortcut to Date.getMonth()\n   */\n  get month(): number {\n    return this.getMonth();\n  }\n\n  /**\n   * Shortcut to Date.setMonth()\n   */\n  set month(value: number) {\n    const targetMonth = new Date(this.year, value + 1);\n    targetMonth.setDate(0);\n    const endOfMonth = targetMonth.getDate();\n    if (this.date > endOfMonth) {\n      this.date = endOfMonth;\n    }\n    this.setMonth(value);\n  }\n\n  /**\n   * Return two digit, human expected month. E.g. January = 1, December = 12\n   */\n  get monthFormatted(): string {\n    return this.parts(undefined, twoDigitTemplate).month;\n  }\n\n  /**\n   * Shortcut to Date.getFullYear()\n   */\n  get year(): number {\n    return this.getFullYear();\n  }\n\n  /**\n   * Shortcut to Date.setFullYear()\n   */\n  set year(value: number) {\n    this.setFullYear(value);\n  }\n\n  // borrowed a bunch of stuff from Luxon\n  /**\n   * Gets the week of the year\n   */\n  get week(): number {\n    const ordinal = this.computeOrdinal(),\n      weekday = this.getUTCDay();\n\n    let weekNumber = Math.floor((ordinal - weekday + 10) / 7);\n\n    if (weekNumber < 1) {\n      weekNumber = this.weeksInWeekYear();\n    } else if (weekNumber > this.weeksInWeekYear()) {\n      weekNumber = 1;\n    }\n\n    return weekNumber;\n  }\n\n  /**\n   * Returns the number of weeks in the year\n   */\n  weeksInWeekYear() {\n    const p1 =\n        (this.year +\n          Math.floor(this.year / 4) -\n          Math.floor(this.year / 100) +\n          Math.floor(this.year / 400)) %\n        7,\n      last = this.year - 1,\n      p2 =\n        (last +\n          Math.floor(last / 4) -\n          Math.floor(last / 100) +\n          Math.floor(last / 400)) %\n        7;\n    return p1 === 4 || p2 === 3 ? 53 : 52;\n  }\n\n  dateToDataValue(): string {\n    if (!DateTime.isValid(this)) return '';\n\n    return `${this.year}-${this.month.toString().padStart(2, '0')}-${this.date\n      .toString()\n      .padStart(2, '0')}`;\n  }\n\n  /**\n   * Returns true or false depending on if the year is a leap year or not.\n   */\n  get isLeapYear() {\n    return (\n      this.year % 4 === 0 && (this.year % 100 !== 0 || this.year % 400 === 0)\n    );\n  }\n\n  private computeOrdinal() {\n    return (\n      this.date +\n      (this.isLeapYear ? this.leapLadder : this.nonLeapLadder)[this.month]\n    );\n  }\n\n  private nonLeapLadder = [\n    0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334,\n  ];\n  private leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n\n  //#region CDF stuff\n\n  private dateTimeRegex =\n    //is regex cannot be simplified beyond what it already is\n    /(\\[[^[\\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g; //NOSONAR\n\n  private formattingTokens =\n    /(\\[[^[\\]]*])|([-_:/.,()\\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?d?d?|hh?|HH?|mm?|ss?)/g; //NOSONAR is regex cannot be simplified beyond what it already is\n\n  /**\n   * Returns a list of month values based on the current locale\n   */\n  private getAllMonths(\n    format: '2-digit' | 'numeric' | 'long' | 'short' | 'narrow' = 'long'\n  ) {\n    const applyFormat = new Intl.DateTimeFormat(this.localization.locale, {\n      month: format,\n    }).format;\n    return [...Array(12).keys()].map((m) => applyFormat(new Date(2021, m)));\n  }\n\n  /**\n   * Replaces an expanded token set (e.g. LT/LTS)\n   */\n  private replaceTokens(formatStr, formats) {\n    /***\n     * _ => match\n     * a => first capture group. Anything between [ and ]\n     * b => second capture group\n     */\n    return formatStr.replace(\n      /(\\[[^[\\]]*])|(LTS?|l{1,4}|L{1,4})/g,\n      (_, a, b) => {\n        const B = b && b.toUpperCase();\n        return a || formats[B] || DefaultFormatLocalization.dateFormats[B];\n      }\n    );\n  }\n\n  private match2 = /\\d\\d/; // 00 - 99\n  private match3 = /\\d{3}/; // 000 - 999\n  private match4 = /\\d{4}/; // 0000 - 9999\n  private match1to2 = /\\d\\d?/; // 0 - 99\n  private matchSigned = /[+-]?\\d+/; // -inf - inf\n  private matchOffset = /[+-]\\d\\d:?(\\d\\d)?|Z/; // +00:00 -00:00 +0000 or -0000 +00 or Z\n  private matchWord = /[^\\d_:/,\\-()\\s]+/; // Word\n\n  private parseTwoDigitYear(input: number) {\n    return input + (input > 68 ? 1900 : 2000);\n  }\n\n  private offsetFromString(input: string) {\n    if (!input) return 0;\n    if (input === 'Z') return 0;\n    const [first, second, third] = input.match(/([+-]|\\d\\d)/g);\n    const minutes = +second * 60 + (+third || 0);\n    const signed = first === '+' ? -minutes : minutes;\n    return minutes === 0 ? 0 : signed; // eslint-disable-line no-nested-ternary\n  }\n\n  /**\n   * z = -4, zz = -04, zzz = -0400\n   * @param date\n   * @param style\n   * @private\n   */\n  private zoneInformation(date: DateTime, style: 'z' | 'zz' | 'zzz') {\n    let name = date\n      .parts(this.localization.locale, { timeZoneName: 'longOffset' })\n      .timeZoneName.replace('GMT', '')\n      .replace(':', '');\n\n    const negative = name.includes('-');\n\n    name = name.replace('-', '');\n\n    if (style === 'z') name = name.substring(1, 2);\n    else if (style === 'zz') name = name.substring(0, 2);\n\n    return `${negative ? '-' : ''}${name}`;\n  }\n\n  private zoneExpressions = [\n    this.matchOffset,\n    (obj, input) => {\n      obj.offset = this.offsetFromString(input);\n    },\n  ];\n\n  private addInput(property) {\n    return (obj, input) => {\n      obj[property] = +input;\n    };\n  }\n\n  private getLocaleAfternoon(): string {\n    return new Intl.DateTimeFormat(this.localization.locale, {\n      hour: 'numeric',\n      hour12: true,\n    })\n      .formatToParts(new Date(2022, 3, 4, 13))\n      .find((p) => p.type === 'dayPeriod')\n      ?.value?.replace(/\\s+/g, ' ');\n  }\n\n  private meridiemMatch(input: string) {\n    return input.toLowerCase() === this.getLocaleAfternoon().toLowerCase();\n  }\n\n  private expressions: FormatExpression = {\n    t: {\n      pattern: undefined, //this.matchWord,\n      parser: (obj, input) => {\n        obj.afternoon = this.meridiemMatch(input);\n      },\n    },\n    T: {\n      pattern: undefined, //this.matchWord,\n      parser: (obj, input) => {\n        obj.afternoon = this.meridiemMatch(input);\n      },\n    },\n    fff: {\n      pattern: this.match3,\n      parser: (obj, input) => {\n        obj.milliseconds = +input;\n      },\n    },\n    s: {\n      pattern: this.match1to2,\n      parser: this.addInput('seconds'),\n    },\n    ss: {\n      pattern: this.match1to2,\n      parser: this.addInput('seconds'),\n    },\n    m: {\n      pattern: this.match1to2,\n      parser: this.addInput('minutes'),\n    },\n    mm: {\n      pattern: this.match1to2,\n      parser: this.addInput('minutes'),\n    },\n    H: {\n      pattern: this.match1to2,\n      parser: this.addInput('hours'),\n    },\n    h: {\n      pattern: this.match1to2,\n      parser: this.addInput('hours'),\n    },\n    HH: {\n      pattern: this.match1to2,\n      parser: this.addInput('hours'),\n    },\n    hh: {\n      pattern: this.match1to2,\n      parser: this.addInput('hours'),\n    },\n    d: {\n      pattern: this.match1to2,\n      parser: this.addInput('day'),\n    },\n    dd: {\n      pattern: this.match2,\n      parser: this.addInput('day'),\n    },\n    Do: {\n      pattern: this.matchWord,\n      parser: (obj, input) => {\n        obj.day = +(input.match(/\\d+/)[0] || 1);\n        if (!this.localization.ordinal) return;\n        for (let i = 1; i <= 31; i += 1) {\n          if (this.localization.ordinal(i).replace(/[[\\]]/g, '') === input) {\n            obj.day = i;\n          }\n        }\n      },\n    },\n    M: {\n      pattern: this.match1to2,\n      parser: this.addInput('month'),\n    },\n    MM: {\n      pattern: this.match2,\n      parser: this.addInput('month'),\n    },\n    MMM: {\n      pattern: this.matchWord,\n      parser: (obj, input) => {\n        const months = this.getAllMonths();\n        const monthsShort = this.getAllMonths('short');\n        const matchIndex =\n          (monthsShort || months.map((_) => _.slice(0, 3))).indexOf(input) + 1;\n        if (matchIndex < 1) {\n          throw new Error();\n        }\n        obj.month = matchIndex % 12 || matchIndex;\n      },\n    },\n    MMMM: {\n      pattern: this.matchWord,\n      parser: (obj, input) => {\n        const months = this.getAllMonths();\n        const matchIndex = months.indexOf(input) + 1;\n        if (matchIndex < 1) {\n          throw new Error();\n        }\n        obj.month = matchIndex % 12 || matchIndex;\n      },\n    },\n    y: {\n      pattern: this.matchSigned,\n      parser: this.addInput('year'),\n    },\n    yy: {\n      pattern: this.match2,\n      parser: (obj, input) => {\n        obj.year = this.parseTwoDigitYear(+input);\n      },\n    },\n    yyyy: {\n      pattern: this.match4,\n      parser: this.addInput('year'),\n    },\n    // z: this.zoneExpressions,\n    // zz: this.zoneExpressions,\n    // zzz: this.zoneExpressions\n  };\n\n  private correctHours(time) {\n    const { afternoon } = time;\n    if (afternoon !== undefined) {\n      const { hours } = time;\n      if (afternoon) {\n        if (hours < 12) {\n          time.hours += 12;\n        }\n      } else if (hours === 12) {\n        time.hours = 0;\n      }\n      delete time.afternoon;\n    }\n  }\n\n  private makeParser(format: string) {\n    format = this.replaceTokens(format, this.localization.dateFormats);\n    const matchArray = format.match(this.formattingTokens);\n    const { length } = matchArray;\n    const expressionArray: (FormatMatch | string)[] = [];\n    for (let i = 0; i < length; i += 1) {\n      const token = matchArray[i];\n      const expression = this.expressions[token] as FormatMatch;\n      if (expression?.parser) {\n        expressionArray[i] = expression;\n      } else {\n        expressionArray[i] = (token as string).replace(/^\\[[^[\\]]*]$/g, '');\n      }\n    }\n\n    return (input: string): parsedTime => {\n      const time = {\n        hours: 0,\n        minutes: 0,\n        seconds: 0,\n        milliseconds: 0,\n      };\n      for (let i = 0, start = 0; i < length; i += 1) {\n        const token = expressionArray[i];\n        if (typeof token === 'string') {\n          start += token.length;\n        } else {\n          const part = input.slice(start);\n          let value = part;\n\n          if (token.pattern) {\n            const match = token.pattern.exec(part);\n            value = match[0];\n          }\n          token.parser.call(this, time, value);\n          input = input.replace(value, '');\n        }\n      }\n      this.correctHours(time);\n      return time;\n    };\n  }\n\n  /**\n   * Attempts to create a DateTime from a string.\n   * @param input date as string\n   * @param localization provides the date template the string is in via the format property\n   */\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  static fromString(input: string, localization: FormatLocalization): DateTime {\n    if (!localization?.format) {\n      Namespace.errorMessages.customDateFormatError('No format was provided');\n    }\n    try {\n      const dt = new DateTime();\n      dt.setLocalization(localization);\n      if (['x', 'X'].indexOf(localization.format) > -1)\n        return new DateTime((localization.format === 'X' ? 1000 : 1) * +input);\n\n      input = input.replace(/\\s+/g, ' ');\n      const parser = dt.makeParser(localization.format);\n      const { year, month, day, hours, minutes, seconds, milliseconds, zone } =\n        parser(input);\n      const d = day || (!year && !month ? dt.getDate() : 1);\n      const y = year || dt.getFullYear();\n      let M = 0;\n      if (!(year && !month)) {\n        M = month > 0 ? month - 1 : dt.getMonth();\n      }\n      if (zone) {\n        return new DateTime(\n          Date.UTC(\n            y,\n            M,\n            d,\n            hours,\n            minutes,\n            seconds,\n            milliseconds + zone.offset * 60 * 1000\n          )\n        );\n      }\n      return new DateTime(y, M, d, hours, minutes, seconds, milliseconds);\n    } catch (e) {\n      Namespace.errorMessages.customDateFormatError(\n        `Unable to parse provided input: ${input}, format: ${localization.format}`\n      );\n    }\n  }\n\n  /**\n   * Returns a string format.\n   * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat\n   * for valid templates and locale objects\n   * @param template An optional object. If provided, method will use Intl., otherwise the localizations format properties\n   * @param locale Can be a string or an array of strings. Uses browser defaults otherwise.\n   */\n  format(\n    template?: DateTimeFormatOptions | string,\n    locale = this.localization.locale\n  ): string {\n    if (template && typeof template === 'object')\n      return new Intl.DateTimeFormat(locale, template).format(this);\n\n    const formatString = this.replaceTokens(\n      //try template first\n      template ||\n        //otherwise try localization format\n        this.localization.format ||\n        //otherwise try date + time\n        `${DefaultFormatLocalization.dateFormats.L}, ${DefaultFormatLocalization.dateFormats.LT}`,\n      this.localization.dateFormats\n    );\n\n    const formatter = (template) =>\n      new Intl.DateTimeFormat(this.localization.locale, template).format(this);\n\n    if (!this.localization.hourCycle)\n      this.localization.hourCycle = guessHourCycle(this.localization.locale);\n\n    //if the format asks for a twenty-four-hour string but the hour cycle is not, then make a base guess\n    const HHCycle = this.localization.hourCycle.startsWith('h1')\n      ? 'h24'\n      : this.localization.hourCycle;\n    const hhCycle = this.localization.hourCycle.startsWith('h2')\n      ? 'h12'\n      : this.localization.hourCycle;\n\n    const matches = {\n      y: this.year,\n      yy: formatter({ year: '2-digit' }),\n      yyyy: this.year,\n      M: formatter({ month: 'numeric' }),\n      MM: this.monthFormatted,\n      MMM: this.getAllMonths('short')[this.getMonth()],\n      MMMM: this.getAllMonths()[this.getMonth()],\n      d: this.date,\n      dd: this.dateFormatted,\n      ddd: formatter({ weekday: 'short' }),\n      dddd: formatter({ weekday: 'long' }),\n      H: this.getHours(),\n      HH: this.getHoursFormatted(HHCycle),\n      h: this.hours > 12 ? this.hours - 12 : this.hours,\n      hh: this.getHoursFormatted(hhCycle),\n      t: this.meridiem(),\n      T: this.meridiem().toUpperCase(),\n      m: this.minutes,\n      mm: this.minutesFormatted,\n      s: this.seconds,\n      ss: this.secondsFormatted,\n      fff: this.getMilliseconds(),\n      // z: this.zoneInformation(dateTime, 'z'), //-4\n      // zz: this.zoneInformation(dateTime, 'zz'), //-04\n      // zzz: this.zoneInformation(dateTime, 'zzz') //-0400\n    };\n\n    return formatString\n      .replace(this.dateTimeRegex, (match, $1) => {\n        return $1 || matches[match];\n      })\n      .replace(/\\[/g, '')\n      .replace(/]/g, '');\n  }\n\n  //#endregion CDF stuff\n}\n", "//eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport declare type Constructable<T> = new (...args: any[]) => T;\n\nclass ServiceLocator {\n  private cache: Map<Constructable<unknown>, unknown | symbol> = new Map();\n\n  locate<T>(identifier: Constructable<T>): T {\n    const service = this.cache.get(identifier);\n    if (service) return service as T;\n    const value = new identifier();\n    this.cache.set(identifier, value);\n    return value;\n  }\n}\nexport const setupServiceLocator = () => {\n  serviceLocator = new ServiceLocator();\n};\n\nexport let serviceLocator: ServiceLocator;\n", "import { Unit } from '../datetime';\nimport Namespace from './namespace';\nimport ViewMode from './view-mode';\n\nconst CalendarModes: {\n  name: keyof ViewMode;\n  className: string;\n  unit: Unit;\n  step: number;\n}[] = [\n  {\n    name: 'calendar',\n    className: Namespace.css.daysContainer,\n    unit: Unit.month,\n    step: 1,\n  },\n  {\n    name: 'months',\n    className: Namespace.css.monthsContainer,\n    unit: Unit.year,\n    step: 1,\n  },\n  {\n    name: 'years',\n    className: Namespace.css.yearsContainer,\n    unit: Unit.year,\n    step: 10,\n  },\n  {\n    name: 'decades',\n    className: Namespace.css.decadesContainer,\n    unit: Unit.year,\n    step: 100,\n  },\n];\n\nexport default CalendarModes;\n", "import { DateTime } from '../datetime';\nimport CalendarModes from './calendar-modes';\nimport ViewMode from './view-mode';\nimport Options from './options';\n\nexport class OptionsStore {\n  options: Options;\n  element: HTMLElement;\n  toggle: HTMLElement;\n  input: HTMLInputElement;\n  unset: boolean;\n  private _currentCalendarViewMode = 0;\n\n  get currentCalendarViewMode() {\n    return this._currentCalendarViewMode;\n  }\n\n  set currentCalendarViewMode(value) {\n    this._currentCalendarViewMode = value;\n    this.currentView = CalendarModes[value].name;\n  }\n\n  _viewDate = new DateTime();\n\n  get viewDate() {\n    return this._viewDate;\n  }\n\n  set viewDate(v) {\n    this._viewDate = v;\n    if (this.options) this.options.viewDate = v;\n  }\n\n  /**\n   * When switching back to the calendar from the clock,\n   * this sets currentView to the correct calendar view.\n   */\n  refreshCurrentView() {\n    this.currentView = CalendarModes[this.currentCalendarViewMode].name;\n  }\n\n  minimumCalendarViewMode = 0;\n  currentView: keyof ViewMode = 'calendar';\n\n  get isTwelveHour() {\n    return ['h12', 'h11'].includes(this.options.localization.hourCycle);\n  }\n}\n", "import { DateTime, Unit } from './datetime';\nimport { serviceLocator } from './utilities/service-locator';\nimport { OptionsStore } from './utilities/optionsStore';\n\n/**\n * Main class for date validation rules based on the options provided.\n */\nexport default class Validation {\n  private optionsStore: OptionsStore;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n  }\n\n  /**\n   * Checks to see if the target date is valid based on the rules provided in the options.\n   * Granularity can be provided to check portions of the date instead of the whole.\n   * @param targetDate\n   * @param granularity\n   */\n  isValid(targetDate: DateTime, granularity?: Unit): boolean {\n    if (!this._enabledDisabledDatesIsValid(granularity, targetDate))\n      return false;\n\n    if (\n      granularity !== Unit.month &&\n      granularity !== Unit.year &&\n      this.optionsStore.options.restrictions.daysOfWeekDisabled?.length > 0 &&\n      this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(\n        targetDate.weekDay\n      ) !== -1\n    )\n      return false;\n\n    if (!this._minMaxIsValid(granularity, targetDate)) return false;\n\n    if (\n      granularity === Unit.hours ||\n      granularity === Unit.minutes ||\n      granularity === Unit.seconds\n    ) {\n      if (!this._enabledDisabledHoursIsValid(targetDate)) return false;\n\n      if (\n        this.optionsStore.options.restrictions.disabledTimeIntervals?.filter(\n          (internal) => targetDate.isBetween(internal.from, internal.to)\n        ).length !== 0\n      )\n        return false;\n    }\n\n    return true;\n  }\n\n  private _enabledDisabledDatesIsValid(\n    granularity: Unit,\n    targetDate: DateTime\n  ): boolean {\n    if (granularity !== Unit.date) return true;\n\n    if (\n      this.optionsStore.options.restrictions.disabledDates.length > 0 &&\n      this._isInDisabledDates(targetDate)\n    ) {\n      return false;\n    }\n\n    // noinspection RedundantIfStatementJS\n    if (\n      this.optionsStore.options.restrictions.enabledDates.length > 0 &&\n      !this._isInEnabledDates(targetDate)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Checks to see if the disabledDates option is in use and returns true (meaning invalid)\n   * if the `testDate` is with in the array. Granularity is by date.\n   * @param testDate\n   * @private\n   */\n  private _isInDisabledDates(testDate: DateTime) {\n    if (\n      !this.optionsStore.options.restrictions.disabledDates ||\n      this.optionsStore.options.restrictions.disabledDates.length === 0\n    )\n      return false;\n\n    return !!this.optionsStore.options.restrictions.disabledDates.find((x) =>\n      x.isSame(testDate, Unit.date)\n    );\n  }\n\n  /**\n   * Checks to see if the enabledDates option is in use and returns true (meaning valid)\n   * if the `testDate` is with in the array. Granularity is by date.\n   * @param testDate\n   * @private\n   */\n  private _isInEnabledDates(testDate: DateTime) {\n    if (\n      !this.optionsStore.options.restrictions.enabledDates ||\n      this.optionsStore.options.restrictions.enabledDates.length === 0\n    )\n      return true;\n\n    return !!this.optionsStore.options.restrictions.enabledDates.find((x) =>\n      x.isSame(testDate, Unit.date)\n    );\n  }\n\n  private _minMaxIsValid(granularity: Unit, targetDate: DateTime) {\n    if (\n      this.optionsStore.options.restrictions.minDate &&\n      targetDate.isBefore(\n        this.optionsStore.options.restrictions.minDate,\n        granularity\n      )\n    ) {\n      return false;\n    }\n\n    // noinspection RedundantIfStatementJS\n    if (\n      this.optionsStore.options.restrictions.maxDate &&\n      targetDate.isAfter(\n        this.optionsStore.options.restrictions.maxDate,\n        granularity\n      )\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  private _enabledDisabledHoursIsValid(targetDate: DateTime) {\n    if (\n      this.optionsStore.options.restrictions.disabledHours.length > 0 &&\n      this._isInDisabledHours(targetDate)\n    ) {\n      return false;\n    }\n\n    // noinspection RedundantIfStatementJS\n    if (\n      this.optionsStore.options.restrictions.enabledHours.length > 0 &&\n      !this._isInEnabledHours(targetDate)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Checks to see if the disabledHours option is in use and returns true (meaning invalid)\n   * if the `testDate` is with in the array. Granularity is by hours.\n   * @param testDate\n   * @private\n   */\n  private _isInDisabledHours(testDate: DateTime) {\n    if (\n      !this.optionsStore.options.restrictions.disabledHours ||\n      this.optionsStore.options.restrictions.disabledHours.length === 0\n    )\n      return false;\n\n    const formattedDate = testDate.hours;\n    return this.optionsStore.options.restrictions.disabledHours.includes(\n      formattedDate\n    );\n  }\n\n  /**\n   * Checks to see if the enabledHours option is in use and returns true (meaning valid)\n   * if the `testDate` is with in the array. Granularity is by hours.\n   * @param testDate\n   * @private\n   */\n  private _isInEnabledHours(testDate: DateTime) {\n    if (\n      !this.optionsStore.options.restrictions.enabledHours ||\n      this.optionsStore.options.restrictions.enabledHours.length === 0\n    )\n      return true;\n\n    const formattedDate = testDate.hours;\n    return this.optionsStore.options.restrictions.enabledHours.includes(\n      formattedDate\n    );\n  }\n\n  dateRangeIsValid(dates: DateTime[], index: number, target: DateTime) {\n    // if we're not using the option, then return valid\n    if (!this.optionsStore.options.dateRange) return true;\n\n    // if we've only selected 0..1 dates, and we're not setting the end date\n    // then return valid. We only want to validate the range if both are selected,\n    // because the other validation on the target has already occurred.\n    if (dates.length !== 2 && index !== 1) return true;\n\n    // initialize start date\n    const start = dates[0].clone;\n    // check if start date is not the same as target date\n    if (start.isSame(target, Unit.date)) return true;\n\n    // add one day to start; start has already been validated\n    start.manipulate(1, Unit.date);\n\n    // check each date in the range to make sure it's valid\n    while (!start.isSame(target, Unit.date)) {\n      const valid = this.isValid(start, Unit.date);\n      if (!valid) return false;\n      start.manipulate(1, Unit.date);\n    }\n\n    return true;\n  }\n}\n", "import { DateTime, Unit } from '../datetime';\nimport ActionTypes from './action-types';\nimport { BaseEvent } from './event-types';\n\nexport type ViewUpdateValues = Unit | 'decade' | 'clock' | 'calendar' | 'all';\n\nclass EventEmitter<T> {\n  private subscribers: ((value?: T) => void)[] = [];\n\n  subscribe(callback: (value: T) => void) {\n    this.subscribers.push(callback);\n    return this.unsubscribe.bind(this, this.subscribers.length - 1);\n  }\n\n  unsubscribe(index: number) {\n    this.subscribers.splice(index, 1);\n  }\n\n  emit(value?: T) {\n    this.subscribers.forEach((callback) => {\n      callback(value);\n    });\n  }\n\n  destroy() {\n    this.subscribers = null;\n    this.subscribers = [];\n  }\n}\n\nexport class EventEmitters {\n  triggerEvent = new EventEmitter<BaseEvent>();\n  viewUpdate = new EventEmitter();\n  updateDisplay = new EventEmitter<ViewUpdateValues>();\n  action = new EventEmitter<{ e: any; action?: ActionTypes }>(); //eslint-disable-line @typescript-eslint/no-explicit-any\n  updateViewDate = new EventEmitter<DateTime>();\n\n  destroy() {\n    this.triggerEvent.destroy();\n    this.viewUpdate.destroy();\n    this.updateDisplay.destroy();\n    this.action.destroy();\n    this.updateViewDate.destroy();\n  }\n}\n", "import Options, { Localization } from './options';\nimport { DateTime } from '../datetime';\nimport DefaultFormatLocalization from './default-format-localization';\n\nconst defaultEnLocalization: Localization = {\n  clear: 'Clear selection',\n  close: 'Close the picker',\n  dateFormats: DefaultFormatLocalization.dateFormats,\n  dayViewHeaderFormat: { month: 'long', year: '2-digit' },\n  decrementHour: 'Decrement Hour',\n  decrementMinute: 'Decrement Minute',\n  decrementSecond: 'Decrement Second',\n  format: DefaultFormatLocalization.format,\n  hourCycle: DefaultFormatLocalization.hourCycle,\n  incrementHour: 'Increment Hour',\n  incrementMinute: 'Increment Minute',\n  incrementSecond: 'Increment Second',\n  locale: DefaultFormatLocalization.locale,\n  maxWeekdayLength: 0,\n  nextCentury: 'Next Century',\n  nextDecade: 'Next Decade',\n  nextMonth: 'Next Month',\n  nextYear: 'Next Year',\n  ordinal: DefaultFormatLocalization.ordinal,\n  pickHour: 'Pick Hour',\n  pickMinute: 'Pick Minute',\n  pickSecond: 'Pick Second',\n  previousCentury: 'Previous Century',\n  previousDecade: 'Previous Decade',\n  previousMonth: 'Previous Month',\n  previousYear: 'Previous Year',\n  selectDate: 'Select Date',\n  selectDecade: 'Select Decade',\n  selectMonth: 'Select Month',\n  selectTime: 'Select Time',\n  selectYear: 'Select Year',\n  startOfTheWeek: 0,\n  today: 'Go to today',\n  toggleMeridiem: 'Toggle Meridiem',\n  toggleAriaLabel: 'Change date',\n};\n\nconst DefaultOptions: Options = {\n  allowInputToggle: false,\n  container: undefined,\n  dateRange: false,\n  debug: false,\n  defaultDate: undefined,\n  display: {\n    icons: {\n      type: 'icons',\n      time: 'fa-solid fa-clock',\n      date: 'fa-solid fa-calendar',\n      up: 'fa-solid fa-arrow-up',\n      down: 'fa-solid fa-arrow-down',\n      previous: 'fa-solid fa-chevron-left',\n      next: 'fa-solid fa-chevron-right',\n      today: 'fa-solid fa-calendar-check',\n      clear: 'fa-solid fa-trash',\n      close: 'fa-solid fa-xmark',\n    },\n    sideBySide: false,\n    calendarWeeks: false,\n    viewMode: 'calendar',\n    toolbarPlacement: 'bottom',\n    keepOpen: false,\n    buttons: {\n      today: false,\n      clear: false,\n      close: false,\n    },\n    components: {\n      calendar: true,\n      date: true,\n      month: true,\n      year: true,\n      decades: true,\n      clock: true,\n      hours: true,\n      minutes: true,\n      seconds: false,\n      useTwentyfourHour: undefined,\n    },\n    inline: false,\n    theme: 'auto',\n    placement: 'bottom',\n    keyboardNavigation: true,\n  },\n  keepInvalid: false,\n  localization: defaultEnLocalization,\n  meta: {},\n  multipleDates: false,\n  multipleDatesSeparator: '; ',\n  promptTimeOnDateChange: false,\n  promptTimeOnDateChangeTransitionDelay: 200,\n  restrictions: {\n    minDate: undefined,\n    maxDate: undefined,\n    disabledDates: [],\n    enabledDates: [],\n    daysOfWeekDisabled: [],\n    disabledTimeIntervals: [],\n    disabledHours: [],\n    enabledHours: [],\n  },\n  stepping: 1,\n  useCurrent: true,\n  viewDate: new DateTime(),\n};\n\nexport default DefaultOptions;\nexport const DefaultEnLocalization = { ...defaultEnLocalization };\n", "import Namespace from './namespace';\nimport { DateTime } from '../datetime';\nimport { FormatLocalization } from './options';\nimport DefaultFormatLocalization from './default-format-localization';\n\n/**\n * Attempts to prove `d` is a DateTime or Date or can be converted into one.\n * @param d If a string will attempt creating a date from it.\n * @param localization object containing locale and format settings. Only used with the custom formats\n * @private\n */\nexport function tryConvertToDateTime(\n  this: void,\n  d: DateTime | Date | string,\n  localization: FormatLocalization\n): DateTime | null {\n  if (!d) return null;\n  if (d.constructor.name === DateTime.name) return d as DateTime;\n  if (d.constructor.name === Date.name) {\n    return DateTime.convert(d as Date);\n  }\n  if (typeof d === typeof '') {\n    const dateTime = DateTime.fromString(d as unknown as string, localization);\n    if (JSON.stringify(dateTime) === 'null') {\n      return null;\n    }\n    return dateTime;\n  }\n  return null;\n}\n\n/**\n * Attempts to convert `d` to a DateTime object\n * @param d value to convert\n * @param optionName Provides text to error messages e.g. disabledDates\n * @param localization object containing locale and format settings. Only used with the custom formats\n */\nexport function convertToDateTime(\n  this: void,\n  d: DateTime | Date | string,\n  optionName: string,\n  localization: FormatLocalization\n): DateTime {\n  if (typeof d === typeof '' && optionName !== 'input') {\n    Namespace.errorMessages.dateString();\n  }\n\n  const converted = tryConvertToDateTime(d, localization);\n\n  if (!converted) {\n    Namespace.errorMessages.failedToParseDate(\n      optionName,\n      d,\n      optionName === 'input'\n    );\n  }\n  return converted;\n}\n\n/**\n * Type checks that `value` is an array of Date or DateTime\n * @param optionName Provides text to error messages e.g. disabledDates\n * @param value Option value\n * @param providedType Used to provide text to error messages\n * @param localization\n */\nexport function typeCheckDateArray(\n  this: void,\n  optionName: string,\n  value: any, //eslint-disable-line @typescript-eslint/no-explicit-any\n  providedType: string,\n  localization: FormatLocalization = DefaultFormatLocalization\n) {\n  if (!Array.isArray(value)) {\n    Namespace.errorMessages.typeMismatch(\n      optionName,\n      providedType,\n      'array of DateTime or Date'\n    );\n  }\n  for (let i = 0; i < value.length; i++) {\n    const d = value[i];\n    const dateTime = convertToDateTime(d, optionName, localization);\n    dateTime.setLocalization(localization);\n    value[i] = dateTime;\n  }\n}\n\n/**\n * Type checks that `value` is an array of numbers\n * @param optionName Provides text to error messages e.g. disabledDates\n * @param value Option value\n * @param providedType Used to provide text to error messages\n */\nexport function typeCheckNumberArray(\n  this: void,\n  optionName: string,\n  value: any, //eslint-disable-line @typescript-eslint/no-explicit-any\n  providedType: string\n) {\n  if (!Array.isArray(value) || value.some((x) => typeof x !== typeof 0)) {\n    Namespace.errorMessages.typeMismatch(\n      optionName,\n      providedType,\n      'array of numbers'\n    );\n  }\n}\n", "import Namespace from './namespace';\nimport type { FormatLocalization } from './options';\nimport {\n  convertToDateTime,\n  typeCheckNumberArray,\n  typeCheckDateArray,\n} from './typeChecker';\n\ninterface OptionProcessorFunctionArguments {\n  key: string;\n  value: any; //eslint-disable-line @typescript-eslint/no-explicit-any\n  providedType: string;\n  defaultType: string;\n  path: string;\n  localization: FormatLocalization;\n}\n\ntype OptionProcessorFunction = (\n  this: void,\n  args: OptionProcessorFunctionArguments\n) => any; //eslint-disable-line @typescript-eslint/no-explicit-any\n\nfunction mandatoryDate(key: string): OptionProcessorFunction {\n  return ({ value, localization }) => {\n    const dateTime = convertToDateTime(value, key, localization);\n    if (dateTime !== undefined) {\n      dateTime.setLocalization(localization);\n      return dateTime;\n    }\n  };\n}\n\nfunction optionalDate(key: string): OptionProcessorFunction {\n  const mandatory = mandatoryDate(key);\n  return (args) => {\n    if (args.value === undefined) {\n      return args.value;\n    }\n    return mandatory(args);\n  };\n}\n\nfunction numbersInRange(\n  key: string,\n  lower: number,\n  upper: number\n): OptionProcessorFunction {\n  return ({ value, providedType }) => {\n    if (value === undefined) {\n      return [];\n    }\n    typeCheckNumberArray(key, value, providedType);\n    if ((value as number[]).some((x) => x < lower || x > upper))\n      Namespace.errorMessages.numbersOutOfRange(key, lower, upper);\n    return value;\n  };\n}\n\nfunction validHourRange(key: string): OptionProcessorFunction {\n  return numbersInRange(key, 0, 23);\n}\n\nfunction validDateArray(key: string): OptionProcessorFunction {\n  return ({ value, providedType, localization }) => {\n    if (value === undefined) {\n      return [];\n    }\n    typeCheckDateArray(key, value, providedType, localization);\n    return value;\n  };\n}\n\nfunction validKeyOption(keyOptions: string[]): OptionProcessorFunction {\n  return ({ value, path }) => {\n    if (!keyOptions.includes(value))\n      Namespace.errorMessages.unexpectedOptionValue(\n        path.substring(1),\n        value,\n        keyOptions\n      );\n    return value;\n  };\n}\n\nconst optionProcessors: { [key: string]: OptionProcessorFunction } =\n  Object.freeze({\n    defaultDate: mandatoryDate('defaultDate'),\n    viewDate: mandatoryDate('viewDate'),\n    minDate: optionalDate('restrictions.minDate'),\n    maxDate: optionalDate('restrictions.maxDate'),\n    disabledHours: validHourRange('restrictions.disabledHours'),\n    enabledHours: validHourRange('restrictions.enabledHours'),\n    disabledDates: validDateArray('restrictions.disabledDates'),\n    enabledDates: validDateArray('restrictions.enabledDates'),\n    daysOfWeekDisabled: numbersInRange('restrictions.daysOfWeekDisabled', 0, 6),\n    disabledTimeIntervals: ({ key, value, providedType, localization }) => {\n      if (value === undefined) {\n        return [];\n      }\n      if (!Array.isArray(value)) {\n        Namespace.errorMessages.typeMismatch(\n          key,\n          providedType,\n          'array of { from: DateTime|Date, to: DateTime|Date }'\n        );\n      }\n      const valueObject = value as { from: any; to: any }[]; //eslint-disable-line @typescript-eslint/no-explicit-any\n      for (let i = 0; i < valueObject.length; i++) {\n        Object.keys(valueObject[i]).forEach((vk) => {\n          const subOptionName = `${key}[${i}].${vk}`;\n          const d = valueObject[i][vk];\n          const dateTime = convertToDateTime(d, subOptionName, localization);\n          dateTime.setLocalization(localization);\n          valueObject[i][vk] = dateTime;\n        });\n      }\n      return valueObject;\n    },\n    toolbarPlacement: validKeyOption(['top', 'bottom', 'default']),\n    type: validKeyOption(['icons', 'sprites']),\n    viewMode: validKeyOption([\n      'clock',\n      'calendar',\n      'months',\n      'years',\n      'decades',\n    ]),\n    theme: validKeyOption(['light', 'dark', 'auto']),\n    placement: validKeyOption(['top', 'bottom']),\n    meta: ({ value }) => value,\n    dayViewHeaderFormat: ({ value }) => value,\n    container: ({ value, path }) => {\n      if (\n        value &&\n        !(\n          value instanceof HTMLElement ||\n          value instanceof Element ||\n          value?.appendChild\n        )\n      ) {\n        Namespace.errorMessages.typeMismatch(\n          path.substring(1),\n          typeof value,\n          'HTMLElement'\n        );\n      }\n      return value;\n    },\n    useTwentyfourHour: ({ value, path, providedType, defaultType }) => {\n      Namespace.errorMessages.deprecatedWarning(\n        'useTwentyfourHour',\n        'Please use \"options.localization.hourCycle\" instead'\n      );\n      if (value === undefined || providedType === 'boolean') return value;\n      Namespace.errorMessages.typeMismatch(path, providedType, defaultType);\n    },\n    hourCycle: validKeyOption(['h11', 'h12', 'h23', 'h24']),\n  });\n\nconst defaultProcessor: OptionProcessorFunction = ({\n  value,\n  defaultType,\n  providedType,\n  path,\n}) => {\n  switch (defaultType) {\n    case 'boolean':\n      return value === 'true' || value === true;\n    case 'number':\n      return +value;\n    case 'string':\n      return value.toString();\n    case 'object':\n      return {};\n    case 'function':\n      return value;\n    default:\n      Namespace.errorMessages.typeMismatch(path, providedType, defaultType);\n  }\n};\n\nexport function processKey(this: void, args: OptionProcessorFunctionArguments) {\n  return (optionProcessors[args.key] || defaultProcessor)(args);\n}\n", "import Namespace from './namespace';\nimport { DateTime } from '../datetime';\nimport DefaultOptions from './default-options';\nimport Options, { FormatLocalization } from './options';\nimport { processKey } from './optionProcessor';\nimport {\n  convertToDateTime,\n  tryConvertToDateTime,\n  typeCheckDateArray,\n  typeCheckNumberArray,\n} from './typeChecker';\n\nexport class OptionConverter {\n  private static ignoreProperties = [\n    'meta',\n    'dayViewHeaderFormat',\n    'container',\n    'dateForms',\n    'ordinal',\n  ];\n\n  static deepCopy(input): Options {\n    const o = {};\n\n    Object.keys(input).forEach((key) => {\n      const inputElement = input[key];\n\n      if (inputElement instanceof DateTime) {\n        o[key] = inputElement.clone;\n        return;\n      } else if (inputElement instanceof Date) {\n        o[key] = new Date(inputElement.valueOf());\n        return;\n      }\n\n      o[key] = inputElement;\n      if (\n        typeof inputElement !== 'object' ||\n        inputElement instanceof HTMLElement ||\n        inputElement instanceof Element\n      )\n        return;\n      if (!Array.isArray(inputElement)) {\n        o[key] = OptionConverter.deepCopy(inputElement);\n      }\n    });\n\n    return o;\n  }\n\n  private static isValue = (a) => a != null; // everything except undefined + null\n\n  /**\n   * Finds value out of an object based on a string, period delimited, path\n   * @param paths\n   * @param obj\n   */\n  static objectPath(paths: string, obj) {\n    if (paths.charAt(0) === '.') paths = paths.slice(1);\n    if (!paths) return obj;\n    return paths\n      .split('.')\n      .reduce(\n        (value, key) =>\n          OptionConverter.isValue(value) || OptionConverter.isValue(value[key])\n            ? value[key]\n            : undefined,\n        obj\n      );\n  }\n\n  /**\n   * The spread operator caused sub keys to be missing after merging.\n   * This is to fix that issue by using spread on the child objects first.\n   * Also handles complex options like disabledDates\n   * @param provided An option from new providedOptions\n   * @param copyTo Destination object. This was added to prevent reference copies\n   * @param localization\n   * @param path\n   */\n  static spread(provided, copyTo, localization: FormatLocalization, path = '') {\n    const defaultOptions = OptionConverter.objectPath(path, DefaultOptions);\n\n    const unsupportedOptions = Object.keys(provided).filter(\n      (x) => !Object.keys(defaultOptions).includes(x)\n    );\n\n    if (unsupportedOptions.length > 0) {\n      const flattenedOptions = OptionConverter.getFlattenDefaultOptions();\n\n      const errors = unsupportedOptions.map((x) => {\n        const d = path ? '.' : '';\n        let error = `\"${path}${d}${x}\" is not a known option.`;\n        const didYouMean = flattenedOptions.find((y) => y.includes(x));\n        if (didYouMean) error += ` Did you mean \"${didYouMean}\"?`;\n        return error;\n      });\n      Namespace.errorMessages.unexpectedOptions(errors);\n    }\n\n    Object.keys(provided)\n      .filter((key) => key !== '__proto__' && key !== 'constructor')\n      .forEach((key) => {\n        path += `.${key}`;\n        if (path.charAt(0) === '.') path = path.slice(1);\n\n        const defaultOptionValue = defaultOptions[key];\n        const providedType = typeof provided[key];\n        const defaultType = typeof defaultOptionValue;\n        const value = provided[key];\n\n        if (value === undefined || value === null) {\n          copyTo[key] = value;\n          path = path.substring(0, path.lastIndexOf(`.${key}`));\n          return;\n        }\n\n        if (\n          typeof defaultOptionValue === 'object' &&\n          !Array.isArray(provided[key]) &&\n          !(\n            defaultOptionValue instanceof Date ||\n            OptionConverter.ignoreProperties.includes(key)\n          )\n        ) {\n          OptionConverter.spread(\n            provided[key],\n            copyTo[key],\n            localization,\n            path\n          );\n        } else {\n          copyTo[key] = OptionConverter.processKey(\n            key,\n            value,\n            providedType,\n            defaultType,\n            path,\n            localization\n          );\n        }\n\n        path = path.substring(0, path.lastIndexOf(`.${key}`));\n      });\n  }\n\n  static processKey(\n    key: string,\n    value: any, //eslint-disable-line @typescript-eslint/no-explicit-any\n    providedType: string,\n    defaultType: string,\n    path: string,\n    localization: FormatLocalization\n  ) {\n    return processKey({\n      key,\n      value,\n      providedType,\n      defaultType,\n      path,\n      localization,\n    });\n  }\n\n  static _mergeOptions(providedOptions: Options, mergeTo: Options): Options {\n    const newConfig = OptionConverter.deepCopy(mergeTo);\n    //see if the options specify a locale\n    const localization =\n      mergeTo.localization?.locale !== 'default'\n        ? mergeTo.localization\n        : providedOptions?.localization || DefaultOptions.localization;\n\n    OptionConverter.spread(providedOptions, newConfig, localization, '');\n\n    return newConfig;\n  }\n\n  static _dataToOptions(element, options: Options): Options {\n    const eData = JSON.parse(JSON.stringify(element.dataset));\n\n    if (eData?.tdTargetInput) delete eData.tdTargetInput;\n    if (eData?.tdTargetToggle) delete eData.tdTargetToggle;\n\n    if (!eData || Object.keys(eData).length === 0) return options;\n    const dataOptions = {} as Options;\n\n    // because dataset returns camelCase including the 'td' key the option\n    // key won't align\n    const objectToNormalized = (object) => {\n      const lowered = {};\n      Object.keys(object).forEach((x) => {\n        lowered[x.toLowerCase()] = x;\n      });\n\n      return lowered;\n    };\n\n    const normalizeObject = this.normalizeObject(objectToNormalized);\n    const optionsLower = objectToNormalized(options);\n\n    Object.keys(eData)\n      .filter((x) => x.startsWith(Namespace.dataKey))\n      .map((x) => x.substring(2))\n      .forEach((key) => {\n        let keyOption = optionsLower[key.toLowerCase()];\n\n        // dataset merges dashes to camelCase... yay\n        // i.e. key = display_components_seconds\n        if (key.includes('_')) {\n          // [display, components, seconds]\n          const split = key.split('_');\n          // display\n          keyOption = optionsLower[split[0].toLowerCase()];\n          if (\n            keyOption !== undefined &&\n            options[keyOption].constructor === Object\n          ) {\n            dataOptions[keyOption] = normalizeObject(\n              split,\n              1,\n              options[keyOption],\n              eData[`td${key}`]\n            );\n          }\n        }\n        // or key = multipleDate\n        else if (keyOption !== undefined) {\n          dataOptions[keyOption] = eData[`td${key}`];\n        }\n      });\n\n    return this._mergeOptions(dataOptions, options);\n  }\n\n  //todo clean this up\n  private static normalizeObject(objectToNormalized: (object) => object) {\n    const normalizeObject = (\n      split: string[],\n      index: number,\n      optionSubgroup: unknown,\n      value: unknown\n    ) => {\n      // first round = display { ... }\n      const normalizedOptions = objectToNormalized(optionSubgroup);\n\n      const keyOption = normalizedOptions[split[index].toLowerCase()];\n      const internalObject = {};\n\n      if (keyOption === undefined) return internalObject;\n\n      // if this is another object, continue down the rabbit hole\n      if (optionSubgroup[keyOption]?.constructor === Object) {\n        index++;\n        internalObject[keyOption] = normalizeObject(\n          split,\n          index,\n          optionSubgroup[keyOption],\n          value\n        );\n      } else {\n        internalObject[keyOption] = value;\n      }\n      return internalObject;\n    };\n    return normalizeObject;\n  }\n\n  /**\n   * Attempts to prove `d` is a DateTime or Date or can be converted into one.\n   * @param d If a string will attempt creating a date from it.\n   * @param localization object containing locale and format settings. Only used with the custom formats\n   * @private\n   */\n  static _dateTypeCheck(\n    d: any, //eslint-disable-line @typescript-eslint/no-explicit-any\n    localization: FormatLocalization\n  ): DateTime | null {\n    return tryConvertToDateTime(d, localization);\n  }\n\n  /**\n   * Type checks that `value` is an array of Date or DateTime\n   * @param optionName Provides text to error messages e.g. disabledDates\n   * @param value Option value\n   * @param providedType Used to provide text to error messages\n   * @param localization\n   */\n  static _typeCheckDateArray(\n    optionName: string,\n    value,\n    providedType: string,\n    localization: FormatLocalization\n  ) {\n    return typeCheckDateArray(optionName, value, providedType, localization);\n  }\n\n  /**\n   * Type checks that `value` is an array of numbers\n   * @param optionName Provides text to error messages e.g. disabledDates\n   * @param value Option value\n   * @param providedType Used to provide text to error messages\n   */\n  static _typeCheckNumberArray(\n    optionName: string,\n    value,\n    providedType: string\n  ) {\n    return typeCheckNumberArray(optionName, value, providedType);\n  }\n\n  /**\n   * Attempts to convert `d` to a DateTime object\n   * @param d value to convert\n   * @param optionName Provides text to error messages e.g. disabledDates\n   * @param localization object containing locale and format settings. Only used with the custom formats\n   */\n  static dateConversion(\n    d: any, //eslint-disable-line @typescript-eslint/no-explicit-any\n    optionName: string,\n    localization: FormatLocalization\n  ): DateTime {\n    return convertToDateTime(d, optionName, localization);\n  }\n\n  private static _flattenDefaults: string[];\n\n  private static getFlattenDefaultOptions(): string[] {\n    if (this._flattenDefaults) return this._flattenDefaults;\n    const deepKeys = (t, pre = []) => {\n      if (Array.isArray(t)) return [];\n      if (Object(t) === t) {\n        return Object.entries(t).flatMap(([k, v]) => deepKeys(v, [...pre, k]));\n      } else {\n        return pre.join('.');\n      }\n    };\n\n    this._flattenDefaults = deepKeys(DefaultOptions);\n\n    return this._flattenDefaults;\n  }\n\n  /**\n   * Some options conflict like min/max date. Verify that these kinds of options\n   * are set correctly.\n   * @param config\n   */\n  static _validateConflicts(config: Options) {\n    if (\n      config.display.sideBySide &&\n      (!config.display.components.clock ||\n        !(\n          config.display.components.hours ||\n          config.display.components.minutes ||\n          config.display.components.seconds\n        ))\n    ) {\n      Namespace.errorMessages.conflictingConfiguration(\n        'Cannot use side by side mode without the clock components'\n      );\n    }\n\n    if (config.restrictions.minDate && config.restrictions.maxDate) {\n      if (config.restrictions.minDate.isAfter(config.restrictions.maxDate)) {\n        Namespace.errorMessages.conflictingConfiguration(\n          'minDate is after maxDate'\n        );\n      }\n\n      if (config.restrictions.maxDate.isBefore(config.restrictions.minDate)) {\n        Namespace.errorMessages.conflictingConfiguration(\n          'maxDate is before minDate'\n        );\n      }\n    }\n\n    if (config.multipleDates && config.dateRange) {\n      Namespace.errorMessages.conflictingConfiguration(\n        'Cannot uss option \"multipleDates\" with \"dateRange\"'\n      );\n    }\n  }\n}\n", "import { DateTime, getFormatByUnit, Unit } from './datetime';\nimport Namespace from './utilities/namespace';\nimport {\n  ChangeEvent,\n  FailEvent,\n  ParseErrorEvent,\n} from './utilities/event-types';\nimport Validation from './validation';\nimport { serviceLocator } from './utilities/service-locator';\nimport { EventEmitters } from './utilities/event-emitter';\nimport { OptionsStore } from './utilities/optionsStore';\nimport { OptionConverter } from './utilities/optionConverter';\n\nexport default class Dates {\n  private _dates: DateTime[] = [];\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n  private _eventEmitters: EventEmitters;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.validation = serviceLocator.locate(Validation);\n    this._eventEmitters = serviceLocator.locate(EventEmitters);\n  }\n\n  /**\n   * Returns the array of selected dates\n   */\n  get picked(): DateTime[] {\n    return [...this._dates];\n  }\n\n  /**\n   * Returns the last picked value.\n   */\n  get lastPicked(): DateTime {\n    return this._dates[this.lastPickedIndex]?.clone;\n  }\n\n  /**\n   * Returns the length of picked dates -1 or 0 if none are selected.\n   */\n  get lastPickedIndex(): number {\n    if (this._dates.length === 0) return 0;\n    return this._dates.length - 1;\n  }\n\n  /**\n   * Formats a DateTime object to a string. Used when setting the input value.\n   * @param date\n   */\n  formatInput(date: DateTime): string {\n    if (!date) return '';\n    date.localization = this.optionsStore.options.localization;\n    return date.format();\n  }\n\n  /**\n   * parse the value into a DateTime object.\n   * this can be overwritten to supply your own parsing.\n   */\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseInput(value: any): DateTime {\n    try {\n      return OptionConverter.dateConversion(\n        value,\n        'input',\n        this.optionsStore.options.localization\n      );\n    } catch (e) {\n      this._eventEmitters.triggerEvent.emit({\n        type: Namespace.events.error,\n        reason: Namespace.errorMessages.failedToParseInput,\n        format: this.optionsStore.options.localization.format,\n        value: value,\n      } as ParseErrorEvent);\n      return undefined;\n    }\n  }\n\n  /**\n   * Tries to convert the provided value to a DateTime object.\n   * If value is null|undefined then clear the value of the provided index (or 0).\n   * @param value Value to convert or null|undefined\n   * @param index When using multidates this is the index in the array\n   */\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setFromInput(value: any, index?: number) {\n    if (!value) {\n      this.setValue(undefined, index);\n      return;\n    }\n    const converted = this.parseInput(value);\n    if (converted) {\n      converted.setLocalization(this.optionsStore.options.localization);\n      this.setValue(converted, index);\n    }\n  }\n\n  /**\n   * Adds a new DateTime to selected dates array\n   * @param date\n   */\n  add(date: DateTime): void {\n    this._dates.push(date);\n  }\n\n  /**\n   * Returns true if the `targetDate` is part of the selected dates array.\n   * If `unit` is provided then a granularity to that unit will be used.\n   * @param targetDate\n   * @param unit\n   */\n  isPicked(targetDate: DateTime, unit?: Unit): boolean {\n    if (!DateTime.isValid(targetDate)) return false;\n    if (!unit)\n      return this._dates.find((x) => x.isSame(targetDate)) !== undefined;\n\n    const format = getFormatByUnit(unit);\n\n    const innerDateFormatted = targetDate.format(format);\n\n    return (\n      this._dates\n        .map((x) => x.format(format))\n        .find((x) => x === innerDateFormatted) !== undefined\n    );\n  }\n\n  /**\n   * Returns the index at which `targetDate` is in the array.\n   * This is used for updating or removing a date when multi-date is used\n   * If `unit` is provided then a granularity to that unit will be used.\n   * @param targetDate\n   * @param unit\n   */\n  pickedIndex(targetDate: DateTime, unit?: Unit): number {\n    if (!DateTime.isValid(targetDate)) return -1;\n    if (!unit)\n      return this._dates.map((x) => x.valueOf()).indexOf(targetDate.valueOf());\n\n    const format = getFormatByUnit(unit);\n\n    const innerDateFormatted = targetDate.format(format);\n\n    return this._dates.map((x) => x.format(format)).indexOf(innerDateFormatted);\n  }\n\n  /**\n   * Clears all selected dates.\n   */\n  clear() {\n    this.optionsStore.unset = true;\n    this._eventEmitters.triggerEvent.emit({\n      type: Namespace.events.change,\n      date: undefined,\n      oldDate: this.lastPicked,\n      isClear: true,\n      isValid: true,\n    } as ChangeEvent);\n    this._dates = [];\n    if (this.optionsStore.input) this.optionsStore.input.value = '';\n    this._eventEmitters.updateDisplay.emit('all');\n  }\n\n  /**\n   * Find the \"book end\" years given a `year` and a `factor`\n   * @param factor e.g. 100 for decades\n   * @param year e.g. 2021\n   */\n  static getStartEndYear(\n    factor: number,\n    year: number\n  ): [number, number, number] {\n    const step = factor / 10,\n      startYear = Math.floor(year / factor) * factor,\n      endYear = startYear + step * 9,\n      focusValue = Math.floor(year / step) * step;\n    return [startYear, endYear, focusValue];\n  }\n\n  updateInput(target?: DateTime) {\n    if (!this.optionsStore.input) return;\n\n    let newValue = this.formatInput(target);\n    if (\n      this.optionsStore.options.multipleDates ||\n      this.optionsStore.options.dateRange\n    ) {\n      newValue = this._dates\n        .map((d) => this.formatInput(d))\n        .join(this.optionsStore.options.multipleDatesSeparator);\n    }\n    if (this.optionsStore.input.value != newValue)\n      this.optionsStore.input.value = newValue;\n  }\n\n  /**\n   * Attempts to either clear or set the `target` date at `index`.\n   * If the `target` is null then the date will be cleared.\n   * If multi-date is being used then it will be removed from the array.\n   * If `target` is valid and multi-date is used then if `index` is\n   * provided the date at that index will be replaced, otherwise it is appended.\n   * @param target\n   * @param index\n   */\n  setValue(target?: DateTime, index?: number): void {\n    const noIndex = typeof index === 'undefined',\n      isClear = !target && noIndex;\n    let oldDate = this.optionsStore.unset ? null : this._dates[index]?.clone;\n    if (!oldDate && !this.optionsStore.unset && noIndex && isClear) {\n      oldDate = this.lastPicked;\n    }\n\n    if (target && oldDate?.isSame(target)) {\n      this.updateInput(target);\n      return;\n    }\n\n    // case of calling setValue(null)\n    if (!target) {\n      this._setValueNull(isClear, index, oldDate);\n      return;\n    }\n\n    index = index || 0;\n    target = target.clone;\n\n    // minute stepping is being used, force the minute to the closest value\n    if (this.optionsStore.options.stepping !== 1) {\n      target.minutes =\n        Math.round(target.minutes / this.optionsStore.options.stepping) *\n        this.optionsStore.options.stepping;\n      target.startOf(Unit.minutes);\n    }\n\n    const onUpdate = (isValid: boolean) => {\n      this._dates[index] = target;\n      this._eventEmitters.updateViewDate.emit(target.clone);\n\n      this.updateInput(target);\n\n      this.optionsStore.unset = false;\n      this._eventEmitters.updateDisplay.emit('all');\n      this._eventEmitters.triggerEvent.emit({\n        type: Namespace.events.change,\n        date: target,\n        oldDate,\n        isClear,\n        isValid: isValid,\n      } as ChangeEvent);\n    };\n\n    if (\n      this.validation.isValid(target) &&\n      this.validation.dateRangeIsValid(this.picked, index, target)\n    ) {\n      onUpdate(true);\n      return;\n    }\n\n    if (this.optionsStore.options.keepInvalid) {\n      onUpdate(false);\n    }\n\n    this._eventEmitters.triggerEvent.emit({\n      type: Namespace.events.error,\n      reason: Namespace.errorMessages.failedToSetInvalidDate,\n      date: target,\n      oldDate,\n    } as FailEvent);\n  }\n\n  private _setValueNull(isClear: boolean, index: number, oldDate: DateTime) {\n    if (\n      !this.optionsStore.options.multipleDates ||\n      this._dates.length === 1 ||\n      isClear\n    ) {\n      this.optionsStore.unset = true;\n      this._dates = [];\n    } else {\n      this._dates.splice(index, 1);\n    }\n\n    this.updateInput();\n\n    this._eventEmitters.triggerEvent.emit({\n      type: Namespace.events.change,\n      date: undefined,\n      oldDate,\n      isClear,\n      isValid: true,\n    } as ChangeEvent);\n\n    this._eventEmitters.updateDisplay.emit('all');\n  }\n}\n", "enum ActionTypes {\n  next = 'next',\n  previous = 'previous',\n  changeCalendarView = 'changeCalendarView',\n  selectMonth = 'selectMonth',\n  selectYear = 'selectYear',\n  selectDecade = 'selectDecade',\n  selectDay = 'selectDay',\n  selectHour = 'selectHour',\n  selectMinute = 'selectMinute',\n  selectSecond = 'selectSecond',\n  incrementHours = 'incrementHours',\n  incrementMinutes = 'incrementMinutes',\n  incrementSeconds = 'incrementSeconds',\n  decrementHours = 'decrementHours',\n  decrementMinutes = 'decrementMinutes',\n  decrementSeconds = 'decrementSeconds',\n  toggleMeridiem = 'toggleMeridiem',\n  togglePicker = 'togglePicker',\n  showClock = 'showClock',\n  showHours = 'showHours',\n  showMinutes = 'showMinutes',\n  showSeconds = 'showSeconds',\n  clear = 'clear',\n  close = 'close',\n  today = 'today',\n}\n\nexport default ActionTypes;\n", "import { DateTime, Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport Dates from '../../dates';\nimport { Paint } from '../index';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates and updates the grid for `date`\n */\nexport default class DateDisplay {\n  private optionsStore: OptionsStore;\n  private dates: Dates;\n  private validation: Validation;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.dates = serviceLocator.locate(Dates);\n    this.validation = serviceLocator.locate(Validation);\n  }\n\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker(): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.daysContainer);\n    container.role = 'grid';\n\n    container.append(...this._daysOfTheWeek());\n\n    if (this.optionsStore.options.display.calendarWeeks) {\n      const div = document.createElement('div');\n      div.classList.add(Namespace.css.calendarWeeks, Namespace.css.noHighlight);\n      container.appendChild(div);\n    }\n\n    const { rangeHoverEvent, rangeHoverOutEvent } =\n      this.handleMouseEvents(container);\n\n    for (let i = 0; i < 42; i++) {\n      if (i !== 0 && i % 7 === 0) {\n        if (this.optionsStore.options.display.calendarWeeks) {\n          const div = document.createElement('div');\n          div.classList.add(\n            Namespace.css.calendarWeeks,\n            Namespace.css.noHighlight\n          );\n          div.tabIndex = -1;\n          container.appendChild(div);\n        }\n      }\n\n      const div = document.createElement('div');\n      div.setAttribute('data-action', ActionTypes.selectDay);\n      div.role = 'gridcell';\n      div.tabIndex = -1;\n      container.appendChild(div);\n\n      // if hover is supported then add the events\n      if (\n        matchMedia('(hover: hover)').matches &&\n        this.optionsStore.options.dateRange\n      ) {\n        div.addEventListener('mouseover', rangeHoverEvent);\n        div.addEventListener('mouseout', rangeHoverOutEvent);\n      }\n    }\n\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint): void {\n    const container = widget.getElementsByClassName(\n      Namespace.css.daysContainer\n    )[0] as HTMLElement;\n\n    this._updateCalendarView(container);\n\n    const innerDate = this.optionsStore.viewDate.clone\n      .startOf(Unit.month)\n      .startOf('weekDay', this.optionsStore.options.localization.startOfTheWeek)\n      .manipulate(12, Unit.hours);\n\n    this._handleCalendarWeeks(container, innerDate.clone);\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectDay}\"]`)\n      .forEach((element: HTMLElement) => {\n        const classes: string[] = [];\n        classes.push(Namespace.css.day);\n\n        if (innerDate.isBefore(this.optionsStore.viewDate, Unit.month)) {\n          classes.push(Namespace.css.old);\n        }\n        if (innerDate.isAfter(this.optionsStore.viewDate, Unit.month)) {\n          classes.push(Namespace.css.new);\n        }\n\n        if (\n          !this.optionsStore.unset &&\n          !this.optionsStore.options.dateRange &&\n          this.dates.isPicked(innerDate, Unit.date)\n        ) {\n          classes.push(Namespace.css.active);\n        }\n        if (!this.validation.isValid(innerDate, Unit.date)) {\n          classes.push(Namespace.css.disabled);\n        }\n        if (innerDate.isSame(new DateTime(), Unit.date)) {\n          classes.push(Namespace.css.today);\n        }\n        if (innerDate.weekDay === 0 || innerDate.weekDay === 6) {\n          classes.push(Namespace.css.weekend);\n        }\n\n        this._handleDateRange(innerDate, classes);\n\n        paint(Unit.date, innerDate, classes, element);\n\n        element.classList.remove(...element.classList);\n        element.classList.add(...classes);\n        element.setAttribute('data-value', innerDate.dateToDataValue());\n        element.setAttribute('data-day', `${innerDate.date}`);\n        element.innerText = innerDate.parts(undefined, {\n          day: 'numeric',\n        }).day;\n        element.ariaLabel = innerDate.format('MMMM dd, yyyy');\n\n        innerDate.manipulate(1, Unit.date);\n      });\n  }\n\n  private _handleDateRange(innerDate: DateTime, classes: string[]) {\n    const rangeStart = this.dates.picked[0];\n    const rangeEnd = this.dates.picked[1];\n\n    if (this.optionsStore.options.dateRange) {\n      if (innerDate.isBetween(rangeStart, rangeEnd, Unit.date)) {\n        classes.push(Namespace.css.rangeIn);\n      }\n\n      if (innerDate.isSame(rangeStart, Unit.date)) {\n        classes.push(Namespace.css.rangeStart);\n      }\n\n      if (innerDate.isSame(rangeEnd, Unit.date)) {\n        classes.push(Namespace.css.rangeEnd);\n      }\n    }\n  }\n\n  private handleMouseEvents(container: HTMLElement) {\n    const rangeHoverEvent = (e: MouseEvent) => {\n      const currentTarget = e?.currentTarget as HTMLElement;\n\n      // if we have 0 or 2 selected or if the target is disabled then ignore\n      if (\n        this.dates.picked.length !== 1 ||\n        currentTarget.classList.contains(Namespace.css.disabled)\n      )\n        return;\n\n      // select all the date divs\n      const allDays = [...container.querySelectorAll('.day')] as HTMLElement[];\n\n      // get the date value from the element being hovered over\n      const attributeValue = currentTarget.getAttribute('data-value');\n\n      // format the string to a date\n      const innerDate = DateTime.fromString(attributeValue, {\n        format: 'yyyy-MM-dd',\n      });\n\n      // find the position of the target in the date container\n      const dayIndex = allDays.findIndex(\n        (e) => e.getAttribute('data-value') === attributeValue\n      );\n\n      // find the first and second selected dates\n      const rangeStart = this.dates.picked[0];\n      const rangeEnd = this.dates.picked[1];\n\n      //format the start date so that it can be found by the attribute\n      const rangeStartFormatted = rangeStart.dateToDataValue();\n      const rangeStartIndex = allDays.findIndex(\n        (e) => e.getAttribute('data-value') === rangeStartFormatted\n      );\n      const rangeStartElement = allDays[rangeStartIndex];\n\n      //make sure we don't leave start/end classes if we don't need them\n      if (!innerDate.isSame(rangeStart, Unit.date)) {\n        currentTarget.classList.remove(Namespace.css.rangeStart);\n      }\n\n      if (!innerDate.isSame(rangeEnd, Unit.date)) {\n        currentTarget.classList.remove(Namespace.css.rangeEnd);\n      }\n\n      // the following figures out which direct from start date is selected\n      // the selection \"cap\" classes are applied if needed\n      // otherwise all the dates between will get the `rangeIn` class.\n      // We make this selection based on the element's index and the rangeStart index\n\n      let lambda: (_, index: number) => boolean;\n\n      if (innerDate.isBefore(rangeStart)) {\n        currentTarget.classList.add(Namespace.css.rangeStart);\n        rangeStartElement?.classList.remove(Namespace.css.rangeStart);\n        rangeStartElement?.classList.add(Namespace.css.rangeEnd);\n        lambda = (_, index) => index > dayIndex && index < rangeStartIndex;\n      } else {\n        currentTarget.classList.add(Namespace.css.rangeEnd);\n        rangeStartElement?.classList.remove(Namespace.css.rangeEnd);\n        rangeStartElement?.classList.add(Namespace.css.rangeStart);\n        lambda = (_, index) => index < dayIndex && index > rangeStartIndex;\n      }\n\n      allDays.filter(lambda).forEach((e) => {\n        e.classList.add(Namespace.css.rangeIn);\n      });\n    };\n\n    const rangeHoverOutEvent = (e: MouseEvent) => {\n      // find all the dates in the container\n      const allDays = [...container.querySelectorAll('.day')] as HTMLElement[];\n\n      // if only the start is selected, remove all the rangeIn classes\n      // we do this because once the user hovers over a new date the range will be recalculated.\n      if (this.dates.picked.length === 1)\n        allDays.forEach((e) => e.classList.remove(Namespace.css.rangeIn));\n\n      // if we have 0 or 2 dates selected then ignore\n      if (this.dates.picked.length !== 1) return;\n\n      const currentTarget = e?.currentTarget as HTMLElement;\n\n      // get the elements date from the attribute value\n      const innerDate = new DateTime(currentTarget.getAttribute('data-value'));\n\n      // verify selections and remove invalid classes\n      if (!innerDate.isSame(this.dates.picked[0], Unit.date)) {\n        currentTarget.classList.remove(Namespace.css.rangeStart);\n      }\n\n      if (!innerDate.isSame(this.dates.picked[1], Unit.date)) {\n        currentTarget.classList.remove(Namespace.css.rangeEnd);\n      }\n    };\n\n    return { rangeHoverEvent, rangeHoverOutEvent };\n  }\n\n  private _updateCalendarView(container: Element) {\n    if (this.optionsStore.currentView !== 'calendar') return;\n    const [previous, switcher, next] = container.parentElement\n      .getElementsByClassName(Namespace.css.calendarHeader)[0]\n      .getElementsByTagName('div');\n    switcher.setAttribute(\n      Namespace.css.daysContainer,\n      this.optionsStore.viewDate.format(\n        this.optionsStore.options.localization.dayViewHeaderFormat\n      )\n    );\n    this.optionsStore.options.display.components.month\n      ? switcher.classList.remove(Namespace.css.disabled)\n      : switcher.classList.add(Namespace.css.disabled);\n\n    this.validation.isValid(\n      this.optionsStore.viewDate.clone.manipulate(-1, Unit.month),\n      Unit.month\n    )\n      ? previous.classList.remove(Namespace.css.disabled)\n      : previous.classList.add(Namespace.css.disabled);\n    this.validation.isValid(\n      this.optionsStore.viewDate.clone.manipulate(1, Unit.month),\n      Unit.month\n    )\n      ? next.classList.remove(Namespace.css.disabled)\n      : next.classList.add(Namespace.css.disabled);\n  }\n\n  /***\n   * Generates a html row that contains the days of the week.\n   * @private\n   */\n  private _daysOfTheWeek(): HTMLElement[] {\n    const innerDate = this.optionsStore.viewDate.clone\n      .startOf('weekDay', this.optionsStore.options.localization.startOfTheWeek)\n      .startOf(Unit.date);\n    const row = [];\n    document.createElement('div');\n\n    if (this.optionsStore.options.display.calendarWeeks) {\n      const htmlDivElement = document.createElement('div');\n      htmlDivElement.classList.add(\n        Namespace.css.calendarWeeks,\n        Namespace.css.noHighlight\n      );\n      htmlDivElement.innerText = '#';\n      row.push(htmlDivElement);\n    }\n\n    for (let i = 0; i < 7; i++) {\n      const htmlDivElement = document.createElement('div');\n      htmlDivElement.classList.add(\n        Namespace.css.dayOfTheWeek,\n        Namespace.css.noHighlight\n      );\n      let weekDay = innerDate.format({ weekday: 'short' });\n      if (this.optionsStore.options.localization.maxWeekdayLength > 0)\n        weekDay = weekDay.substring(\n          0,\n          this.optionsStore.options.localization.maxWeekdayLength\n        );\n      htmlDivElement.innerText = weekDay;\n      htmlDivElement.ariaLabel = innerDate.format({ weekday: 'long' });\n      innerDate.manipulate(1, Unit.date);\n      row.push(htmlDivElement);\n    }\n\n    return row;\n  }\n\n  private _handleCalendarWeeks(container: HTMLElement, innerDate: DateTime) {\n    [...container.querySelectorAll(`.${Namespace.css.calendarWeeks}`)]\n      .filter((e: HTMLElement) => e.innerText !== '#')\n      .forEach((element: HTMLElement) => {\n        element.innerText = `${innerDate.week}`;\n        innerDate.manipulate(7, Unit.date);\n      });\n  }\n}\n", "import { Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport Dates from '../../dates';\nimport { Paint } from '../index';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates and updates the grid for `month`\n */\nexport default class MonthDisplay {\n  private optionsStore: OptionsStore;\n  private dates: Dates;\n  private validation: Validation;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.dates = serviceLocator.locate(Dates);\n    this.validation = serviceLocator.locate(Validation);\n  }\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker(): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.monthsContainer);\n\n    for (let i = 0; i < 12; i++) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.selectMonth);\n      container.appendChild(div);\n    }\n\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint): void {\n    const container = widget.getElementsByClassName(\n      Namespace.css.monthsContainer\n    )[0] as HTMLElement;\n\n    if (this.optionsStore.currentView === 'months') {\n      const [previous, switcher, next] = container.parentElement\n        .getElementsByClassName(Namespace.css.calendarHeader)[0]\n        .getElementsByTagName('div');\n\n      switcher.setAttribute(\n        Namespace.css.monthsContainer,\n        this.optionsStore.viewDate.format({ year: 'numeric' })\n      );\n\n      this.optionsStore.options.display.components.year\n        ? switcher.classList.remove(Namespace.css.disabled)\n        : switcher.classList.add(Namespace.css.disabled);\n\n      this.validation.isValid(\n        this.optionsStore.viewDate.clone.manipulate(-1, Unit.year),\n        Unit.year\n      )\n        ? previous.classList.remove(Namespace.css.disabled)\n        : previous.classList.add(Namespace.css.disabled);\n\n      this.validation.isValid(\n        this.optionsStore.viewDate.clone.manipulate(1, Unit.year),\n        Unit.year\n      )\n        ? next.classList.remove(Namespace.css.disabled)\n        : next.classList.add(Namespace.css.disabled);\n    }\n\n    const innerDate = this.optionsStore.viewDate.clone.startOf(Unit.year);\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectMonth}\"]`)\n      .forEach((containerClone: HTMLElement, index) => {\n        const classes = [];\n        classes.push(Namespace.css.month);\n\n        if (\n          !this.optionsStore.unset &&\n          this.dates.isPicked(innerDate, Unit.month)\n        ) {\n          classes.push(Namespace.css.active);\n        }\n        if (!this.validation.isValid(innerDate, Unit.month)) {\n          classes.push(Namespace.css.disabled);\n        }\n\n        paint(Unit.month, innerDate, classes, containerClone);\n\n        containerClone.classList.remove(...containerClone.classList);\n        containerClone.classList.add(...classes);\n        containerClone.setAttribute('data-value', `${index}`);\n        containerClone.innerText = `${innerDate.format({ month: 'short' })}`;\n        innerDate.manipulate(1, Unit.month);\n      });\n  }\n}\n", "import { DateTime, Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Dates from '../../dates';\nimport Validation from '../../validation';\nimport { Paint } from '../index';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates and updates the grid for `year`\n */\nexport default class YearDisplay {\n  private _startYear: DateTime;\n  private _endYear: DateTime;\n  private optionsStore: OptionsStore;\n  private dates: Dates;\n  private validation: Validation;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.dates = serviceLocator.locate(Dates);\n    this.validation = serviceLocator.locate(Validation);\n  }\n\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker(): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.yearsContainer);\n\n    for (let i = 0; i < 12; i++) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.selectYear);\n      container.appendChild(div);\n    }\n\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint) {\n    this._startYear = this.optionsStore.viewDate.clone.manipulate(\n      -1,\n      Unit.year\n    );\n    this._endYear = this.optionsStore.viewDate.clone.manipulate(10, Unit.year);\n\n    const container = widget.getElementsByClassName(\n      Namespace.css.yearsContainer\n    )[0] as HTMLElement;\n\n    if (this.optionsStore.currentView === 'years') {\n      const [previous, switcher, next] = container.parentElement\n        .getElementsByClassName(Namespace.css.calendarHeader)[0]\n        .getElementsByTagName('div');\n\n      switcher.setAttribute(\n        Namespace.css.yearsContainer,\n        `${this._startYear.format({ year: 'numeric' })}-${this._endYear.format({\n          year: 'numeric',\n        })}`\n      );\n\n      this.optionsStore.options.display.components.decades\n        ? switcher.classList.remove(Namespace.css.disabled)\n        : switcher.classList.add(Namespace.css.disabled);\n\n      this.validation.isValid(this._startYear, Unit.year)\n        ? previous.classList.remove(Namespace.css.disabled)\n        : previous.classList.add(Namespace.css.disabled);\n      this.validation.isValid(this._endYear, Unit.year)\n        ? next.classList.remove(Namespace.css.disabled)\n        : next.classList.add(Namespace.css.disabled);\n    }\n\n    const innerDate = this.optionsStore.viewDate.clone\n      .startOf(Unit.year)\n      .manipulate(-1, Unit.year);\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectYear}\"]`)\n      .forEach((containerClone: HTMLElement) => {\n        const classes = [];\n        classes.push(Namespace.css.year);\n\n        if (\n          !this.optionsStore.unset &&\n          this.dates.isPicked(innerDate, Unit.year)\n        ) {\n          classes.push(Namespace.css.active);\n        }\n        if (!this.validation.isValid(innerDate, Unit.year)) {\n          classes.push(Namespace.css.disabled);\n        }\n\n        paint(Unit.year, innerDate, classes, containerClone);\n\n        containerClone.classList.remove(...containerClone.classList);\n        containerClone.classList.add(...classes);\n        containerClone.setAttribute('data-value', `${innerDate.year}`);\n        containerClone.innerText = innerDate.format({ year: 'numeric' });\n\n        innerDate.manipulate(1, Unit.year);\n      });\n  }\n}\n", "import Dates from '../../dates';\nimport { DateTime, Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport { Paint } from '../index';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates and updates the grid for `seconds`\n */\nexport default class DecadeDisplay {\n  private _startDecade: DateTime;\n  private _endDecade: DateTime;\n  private optionsStore: OptionsStore;\n  private dates: Dates;\n  private validation: Validation;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.dates = serviceLocator.locate(Dates);\n    this.validation = serviceLocator.locate(Validation);\n  }\n\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker() {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.decadesContainer);\n\n    for (let i = 0; i < 12; i++) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.selectDecade);\n      container.appendChild(div);\n    }\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint) {\n    const [start, end] = Dates.getStartEndYear(\n      100,\n      this.optionsStore.viewDate.year\n    );\n    this._startDecade = this.optionsStore.viewDate.clone.startOf(Unit.year);\n    this._startDecade.year = start;\n    this._endDecade = this.optionsStore.viewDate.clone.startOf(Unit.year);\n    this._endDecade.year = end;\n\n    const container = widget.getElementsByClassName(\n      Namespace.css.decadesContainer\n    )[0] as HTMLElement;\n\n    const [previous, switcher, next] = container.parentElement\n      .getElementsByClassName(Namespace.css.calendarHeader)[0]\n      .getElementsByTagName('div');\n\n    const isPreviousEnabled = this.validation.isValid(\n      this._startDecade,\n      Unit.year\n    );\n    if (this.optionsStore.currentView === 'decades') {\n      switcher.setAttribute(\n        Namespace.css.decadesContainer,\n        `${this._startDecade.format({\n          year: 'numeric',\n        })}-${this._endDecade.format({ year: 'numeric' })}`\n      );\n\n      isPreviousEnabled\n        ? previous.classList.remove(Namespace.css.disabled)\n        : previous.classList.add(Namespace.css.disabled);\n      this.validation.isValid(this._endDecade, Unit.year)\n        ? next.classList.remove(Namespace.css.disabled)\n        : next.classList.add(Namespace.css.disabled);\n    }\n\n    const pickedYears = this.dates.picked.map((x) => x.year);\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectDecade}\"]`)\n      .forEach((containerClone: HTMLElement, index) => {\n        if (index === 0) {\n          containerClone.classList.add(Namespace.css.old);\n          if (this._startDecade.year - 10 < 0) {\n            containerClone.textContent = ' ';\n            previous.classList.add(Namespace.css.disabled);\n            containerClone.classList.add(Namespace.css.disabled);\n            containerClone.setAttribute('data-value', '');\n          }\n          return;\n        }\n\n        const classes = [];\n        classes.push(Namespace.css.decade);\n        const startDecadeYear = this._startDecade.year;\n        const endDecadeYear = this._startDecade.year + 9;\n\n        if (\n          !this.optionsStore.unset &&\n          pickedYears.filter((x) => x >= startDecadeYear && x <= endDecadeYear)\n            .length > 0\n        ) {\n          classes.push(Namespace.css.active);\n        }\n        if (\n          !isPreviousEnabled &&\n          !this.validation.isValid(\n            this._startDecade.clone.manipulate(10, Unit.year),\n            Unit.year\n          )\n        ) {\n          classes.push(Namespace.css.disabled);\n        }\n\n        paint('decade', this._startDecade, classes, containerClone);\n\n        containerClone.classList.remove(...containerClone.classList);\n        containerClone.classList.add(...classes);\n        containerClone.setAttribute('data-value', `${this._startDecade.year}`);\n        containerClone.innerText = `${this._startDecade.format({\n          year: 'numeric',\n        })}`;\n\n        this._startDecade.manipulate(10, Unit.year);\n      });\n  }\n}\n", "import { Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport Dates from '../../dates';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates the clock display\n */\nexport default class TimeDisplay {\n  private _gridColumns = '';\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n  private dates: Dates;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.dates = serviceLocator.locate(Dates);\n    this.validation = serviceLocator.locate(Validation);\n  }\n\n  /**\n   * Build the container html for the clock display\n   * @private\n   */\n  getPicker(iconTag: (iconClass: string) => HTMLElement): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.clockContainer);\n\n    container.append(...this._grid(iconTag));\n\n    return container;\n  }\n\n  /**\n   * Populates the various elements with in the clock display\n   * like the current hour and if the manipulation icons are enabled.\n   * @private\n   */\n  _update(widget: HTMLElement): void {\n    const timesDiv = <HTMLElement>(\n      widget.getElementsByClassName(Namespace.css.clockContainer)[0]\n    );\n\n    let lastPicked = this.dates.lastPicked?.clone;\n    if (!lastPicked && this.optionsStore.options.useCurrent)\n      lastPicked = this.optionsStore.viewDate.clone;\n\n    timesDiv\n      .querySelectorAll('.disabled')\n      .forEach((element) => element.classList.remove(Namespace.css.disabled));\n\n    if (this.optionsStore.options.display.components.hours) {\n      if (\n        !this.validation.isValid(\n          this.optionsStore.viewDate.clone.manipulate(1, Unit.hours),\n          Unit.hours\n        )\n      ) {\n        timesDiv\n          .querySelector(`[data-action=${ActionTypes.incrementHours}]`)\n          .classList.add(Namespace.css.disabled);\n      }\n\n      if (\n        !this.validation.isValid(\n          this.optionsStore.viewDate.clone.manipulate(-1, Unit.hours),\n          Unit.hours\n        )\n      ) {\n        timesDiv\n          .querySelector(`[data-action=${ActionTypes.decrementHours}]`)\n          .classList.add(Namespace.css.disabled);\n      }\n\n      timesDiv.querySelector<HTMLElement>(\n        `[data-time-component=${Unit.hours}]`\n      ).innerText = lastPicked\n        ? lastPicked.getHoursFormatted(\n            this.optionsStore.options.localization.hourCycle\n          )\n        : '--';\n    }\n\n    if (this.optionsStore.options.display.components.minutes) {\n      if (\n        !this.validation.isValid(\n          this.optionsStore.viewDate.clone.manipulate(1, Unit.minutes),\n          Unit.minutes\n        )\n      ) {\n        timesDiv\n          .querySelector(`[data-action=${ActionTypes.incrementMinutes}]`)\n          .classList.add(Namespace.css.disabled);\n      }\n\n      if (\n        !this.validation.isValid(\n          this.optionsStore.viewDate.clone.manipulate(-1, Unit.minutes),\n          Unit.minutes\n        )\n      ) {\n        timesDiv\n          .querySelector(`[data-action=${ActionTypes.decrementMinutes}]`)\n          .classList.add(Namespace.css.disabled);\n      }\n      timesDiv.querySelector<HTMLElement>(\n        `[data-time-component=${Unit.minutes}]`\n      ).innerText = lastPicked ? lastPicked.minutesFormatted : '--';\n    }\n\n    if (this.optionsStore.options.display.components.seconds) {\n      if (\n        !this.validation.isValid(\n          this.optionsStore.viewDate.clone.manipulate(1, Unit.seconds),\n          Unit.seconds\n        )\n      ) {\n        timesDiv\n          .querySelector(`[data-action=${ActionTypes.incrementSeconds}]`)\n          .classList.add(Namespace.css.disabled);\n      }\n\n      if (\n        !this.validation.isValid(\n          this.optionsStore.viewDate.clone.manipulate(-1, Unit.seconds),\n          Unit.seconds\n        )\n      ) {\n        timesDiv\n          .querySelector(`[data-action=${ActionTypes.decrementSeconds}]`)\n          .classList.add(Namespace.css.disabled);\n      }\n      timesDiv.querySelector<HTMLElement>(\n        `[data-time-component=${Unit.seconds}]`\n      ).innerText = lastPicked ? lastPicked.secondsFormatted : '--';\n    }\n\n    if (this.optionsStore.isTwelveHour) {\n      const toggle = timesDiv.querySelector<HTMLElement>(\n        `[data-action=${ActionTypes.toggleMeridiem}]`\n      );\n\n      const meridiemDate = (lastPicked || this.optionsStore.viewDate).clone;\n\n      toggle.innerText = meridiemDate.meridiem();\n\n      if (\n        !this.validation.isValid(\n          meridiemDate.manipulate(\n            meridiemDate.hours >= 12 ? -12 : 12,\n            Unit.hours\n          )\n        )\n      ) {\n        toggle.classList.add(Namespace.css.disabled);\n      } else {\n        toggle.classList.remove(Namespace.css.disabled);\n      }\n    }\n\n    timesDiv.style.gridTemplateAreas = `\"${this._gridColumns}\"`;\n  }\n\n  /**\n   * Creates the table for the clock display depending on what options are selected.\n   * @private\n   */\n  private _grid(iconTag: (iconClass: string) => HTMLElement): HTMLElement[] {\n    this._gridColumns = '';\n    const top = [],\n      middle = [],\n      bottom = [],\n      separator = document.createElement('div'),\n      upIcon = iconTag(this.optionsStore.options.display.icons.up),\n      downIcon = iconTag(this.optionsStore.options.display.icons.down);\n\n    separator.classList.add(Namespace.css.separator, Namespace.css.noHighlight);\n    const separatorColon = <HTMLElement>separator.cloneNode(true);\n    separatorColon.innerHTML = ':';\n\n    const getSeparator = (colon = false): HTMLElement => {\n      return colon\n        ? <HTMLElement>separatorColon.cloneNode(true)\n        : <HTMLElement>separator.cloneNode(true);\n    };\n\n    if (this.optionsStore.options.display.components.hours) {\n      let divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.incrementHour\n      );\n      divElement.setAttribute('data-action', ActionTypes.incrementHours);\n      divElement.appendChild(upIcon.cloneNode(true));\n      top.push(divElement);\n\n      divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.pickHour\n      );\n      divElement.setAttribute('data-action', ActionTypes.showHours);\n      divElement.setAttribute('data-time-component', Unit.hours);\n      middle.push(divElement);\n\n      divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.decrementHour\n      );\n      divElement.setAttribute('data-action', ActionTypes.decrementHours);\n      divElement.appendChild(downIcon.cloneNode(true));\n      bottom.push(divElement);\n      this._gridColumns += 'a';\n    }\n\n    if (this.optionsStore.options.display.components.minutes) {\n      this._gridColumns += ' a';\n      if (this.optionsStore.options.display.components.hours) {\n        top.push(getSeparator());\n        middle.push(getSeparator(true));\n        bottom.push(getSeparator());\n        this._gridColumns += ' a';\n      }\n      let divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.incrementMinute\n      );\n      divElement.setAttribute('data-action', ActionTypes.incrementMinutes);\n      divElement.appendChild(upIcon.cloneNode(true));\n      top.push(divElement);\n\n      divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.pickMinute\n      );\n      divElement.setAttribute('data-action', ActionTypes.showMinutes);\n      divElement.setAttribute('data-time-component', Unit.minutes);\n      middle.push(divElement);\n\n      divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.decrementMinute\n      );\n      divElement.setAttribute('data-action', ActionTypes.decrementMinutes);\n      divElement.appendChild(downIcon.cloneNode(true));\n      bottom.push(divElement);\n    }\n\n    if (this.optionsStore.options.display.components.seconds) {\n      this._gridColumns += ' a';\n      if (this.optionsStore.options.display.components.minutes) {\n        top.push(getSeparator());\n        middle.push(getSeparator(true));\n        bottom.push(getSeparator());\n        this._gridColumns += ' a';\n      }\n      let divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.incrementSecond\n      );\n      divElement.setAttribute('data-action', ActionTypes.incrementSeconds);\n      divElement.appendChild(upIcon.cloneNode(true));\n      top.push(divElement);\n\n      divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.pickSecond\n      );\n      divElement.setAttribute('data-action', ActionTypes.showSeconds);\n      divElement.setAttribute('data-time-component', Unit.seconds);\n      middle.push(divElement);\n\n      divElement = document.createElement('div');\n      divElement.tabIndex = -1;\n      divElement.setAttribute(\n        'title',\n        this.optionsStore.options.localization.decrementSecond\n      );\n      divElement.setAttribute('data-action', ActionTypes.decrementSeconds);\n      divElement.appendChild(downIcon.cloneNode(true));\n      bottom.push(divElement);\n    }\n\n    if (this.optionsStore.isTwelveHour) {\n      this._gridColumns += ' a';\n      let divElement = getSeparator();\n      top.push(divElement);\n\n      const button = document.createElement('button');\n      button.tabIndex = -1;\n      button.setAttribute('type', 'button');\n      button.setAttribute(\n        'title',\n        this.optionsStore.options.localization.toggleMeridiem\n      );\n      button.setAttribute('data-action', ActionTypes.toggleMeridiem);\n      button.setAttribute('tabindex', '-1');\n      if (Namespace.css.toggleMeridiem.includes(',')) {\n        //todo move this to paint function?\n        button.classList.add(...Namespace.css.toggleMeridiem.split(','));\n      } else button.classList.add(Namespace.css.toggleMeridiem);\n\n      divElement = document.createElement('div');\n      divElement.classList.add(Namespace.css.noHighlight);\n      divElement.appendChild(button);\n      middle.push(divElement);\n\n      divElement = getSeparator();\n      bottom.push(divElement);\n    }\n\n    this._gridColumns = this._gridColumns.trim();\n\n    return [...top, ...middle, ...bottom];\n  }\n}\n", "import { Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport { Paint } from '../index';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\nimport Dates from '../../dates';\n\n/**\n * Creates and updates the grid for `hours`\n */\nexport default class HourDisplay {\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n  private dates: Dates;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.validation = serviceLocator.locate(Validation);\n    this.dates = serviceLocator.locate(Dates);\n  }\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker(): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.hourContainer);\n\n    for (let i = 0; i < (this.optionsStore.isTwelveHour ? 12 : 24); i++) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.selectHour);\n      container.appendChild(div);\n    }\n\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint): void {\n    const container = widget.getElementsByClassName(\n      Namespace.css.hourContainer\n    )[0] as HTMLElement;\n\n    const innerDate = this.optionsStore.viewDate.clone.startOf(Unit.date);\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectHour}\"]`)\n      .forEach((containerClone: HTMLElement) => {\n        const classes = [];\n        classes.push(Namespace.css.hour);\n\n        if (!this.validation.isValid(innerDate, Unit.hours)) {\n          classes.push(Namespace.css.disabled);\n        }\n\n        paint(Unit.hours, innerDate, classes, containerClone);\n\n        containerClone.classList.remove(...containerClone.classList);\n        containerClone.classList.add(...classes);\n        containerClone.setAttribute('data-value', `${innerDate.hours}`);\n        containerClone.innerText = innerDate.getHoursFormatted(\n          this.optionsStore.options.localization.hourCycle\n        );\n        innerDate.manipulate(1, Unit.hours);\n      });\n  }\n}\n", "import { Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport { Paint } from '../index';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates and updates the grid for `minutes`\n */\nexport default class MinuteDisplay {\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.validation = serviceLocator.locate(Validation);\n  }\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker(): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.minuteContainer);\n\n    const step =\n      this.optionsStore.options.stepping === 1\n        ? 5\n        : this.optionsStore.options.stepping;\n    for (let i = 0; i < 60 / step; i++) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.selectMinute);\n      container.appendChild(div);\n    }\n\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint): void {\n    const container = widget.getElementsByClassName(\n      Namespace.css.minuteContainer\n    )[0] as HTMLElement;\n\n    const innerDate = this.optionsStore.viewDate.clone.startOf(Unit.hours);\n    const step =\n      this.optionsStore.options.stepping === 1\n        ? 5\n        : this.optionsStore.options.stepping;\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectMinute}\"]`)\n      .forEach((containerClone: HTMLElement) => {\n        const classes = [];\n        classes.push(Namespace.css.minute);\n\n        if (!this.validation.isValid(innerDate, Unit.minutes)) {\n          classes.push(Namespace.css.disabled);\n        }\n\n        paint(Unit.minutes, innerDate, classes, containerClone);\n\n        containerClone.classList.remove(...containerClone.classList);\n        containerClone.classList.add(...classes);\n        containerClone.setAttribute('data-value', `${innerDate.minutes}`);\n        containerClone.innerText = innerDate.minutesFormatted;\n        innerDate.manipulate(step, Unit.minutes);\n      });\n  }\n}\n", "import { Unit } from '../../datetime';\nimport Namespace from '../../utilities/namespace';\nimport Validation from '../../validation';\nimport { serviceLocator } from '../../utilities/service-locator';\nimport { Paint } from '../index';\nimport ActionTypes from '../../utilities/action-types';\nimport { OptionsStore } from '../../utilities/optionsStore';\n\n/**\n * Creates and updates the grid for `seconds`\n */\nexport default class secondDisplay {\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.validation = serviceLocator.locate(Validation);\n  }\n  /**\n   * Build the container html for the display\n   * @private\n   */\n  getPicker(): HTMLElement {\n    const container = document.createElement('div');\n    container.classList.add(Namespace.css.secondContainer);\n\n    for (let i = 0; i < 12; i++) {\n      const div = document.createElement('div');\n      div.setAttribute('data-action', ActionTypes.selectSecond);\n      div.tabIndex = -1;\n      container.appendChild(div);\n    }\n\n    return container;\n  }\n\n  /**\n   * Populates the grid and updates enabled states\n   * @private\n   */\n  _update(widget: HTMLElement, paint: Paint): void {\n    const container = widget.getElementsByClassName(\n      Namespace.css.secondContainer\n    )[0] as HTMLElement;\n\n    const innerDate = this.optionsStore.viewDate.clone.startOf(Unit.minutes);\n\n    container\n      .querySelectorAll(`[data-action=\"${ActionTypes.selectSecond}\"]`)\n      .forEach((containerClone: HTMLElement) => {\n        const classes = [];\n        classes.push(Namespace.css.second);\n\n        if (!this.validation.isValid(innerDate, Unit.seconds)) {\n          classes.push(Namespace.css.disabled);\n        }\n\n        paint(Unit.seconds, innerDate, classes, containerClone);\n\n        containerClone.classList.remove(...containerClone.classList);\n        containerClone.classList.add(...classes);\n        containerClone.setAttribute('data-value', `${innerDate.seconds}`);\n        containerClone.innerText = innerDate.secondsFormatted;\n        innerDate.manipulate(5, Unit.seconds);\n      });\n  }\n}\n", "import Namespace from '../utilities/namespace';\n\n/**\n * Provides a collapse functionality to the view changes\n */\nexport default class Collapse {\n  /**\n   * Flips the show/hide state of `target`\n   * @param target html element to affect.\n   */\n  static toggle(target: HTMLElement) {\n    if (target.classList.contains(Namespace.css.show)) {\n      this.hide(target);\n    } else {\n      this.show(target);\n    }\n  }\n\n  /**\n   * Skips any animation or timeouts and immediately set the element to show.\n   * @param target\n   */\n  static showImmediately(target: HTMLElement) {\n    target.classList.remove(Namespace.css.collapsing);\n    target.classList.add(Namespace.css.collapse, Namespace.css.show);\n    target.style.height = '';\n  }\n\n  /**\n   * If `target` is not already showing, then show after the animation.\n   * @param target\n   */\n  static show(target: HTMLElement) {\n    if (\n      target.classList.contains(Namespace.css.collapsing) ||\n      target.classList.contains(Namespace.css.show)\n    )\n      return;\n\n    let timeOut = null;\n    const complete = () => {\n      Collapse.showImmediately(target);\n      timeOut = null;\n    };\n\n    target.style.height = '0';\n    target.classList.remove(Namespace.css.collapse);\n    target.classList.add(Namespace.css.collapsing);\n\n    //eslint-disable-next-line @typescript-eslint/no-unused-vars\n    timeOut = setTimeout(\n      complete,\n      this.getTransitionDurationFromElement(target)\n    );\n    target.style.height = `${target.scrollHeight}px`;\n  }\n\n  /**\n   * Skips any animation or timeouts and immediately set the element to hide.\n   * @param target\n   */\n  static hideImmediately(target: HTMLElement) {\n    if (!target) return;\n    target.classList.remove(Namespace.css.collapsing, Namespace.css.show);\n    target.classList.add(Namespace.css.collapse);\n  }\n\n  /**\n   * If `target` is not already hidden, then hide after the animation.\n   * @param target HTML Element\n   */\n  static hide(target: HTMLElement) {\n    if (\n      target.classList.contains(Namespace.css.collapsing) ||\n      !target.classList.contains(Namespace.css.show)\n    )\n      return;\n\n    let timeOut = null;\n    const complete = () => {\n      Collapse.hideImmediately(target);\n      timeOut = null;\n    };\n\n    target.style.height = `${target.getBoundingClientRect()['height']}px`;\n\n    const reflow = (element) => element.offsetHeight;\n\n    reflow(target);\n\n    target.classList.remove(Namespace.css.collapse, Namespace.css.show);\n    target.classList.add(Namespace.css.collapsing);\n    target.style.height = '';\n\n    //eslint-disable-next-line @typescript-eslint/no-unused-vars\n    timeOut = setTimeout(\n      complete,\n      this.getTransitionDurationFromElement(target)\n    );\n  }\n\n  /**\n   * Gets the transition duration from the `element` by getting css properties\n   * `transition-duration` and `transition-delay`\n   * @param element HTML Element\n   */\n  private static getTransitionDurationFromElement = (element: HTMLElement) => {\n    if (!element) {\n      return 0;\n    }\n\n    // Get transition-duration of the element\n    let { transitionDuration, transitionDelay } =\n      window.getComputedStyle(element);\n\n    const floatTransitionDuration = Number.parseFloat(transitionDuration);\n    const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0;\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0];\n    transitionDelay = transitionDelay.split(',')[0];\n\n    return (\n      (Number.parseFloat(transitionDuration) +\n        Number.parseFloat(transitionDelay)) *\n      1000\n    );\n  };\n}\n", "import DateDisplay from './calendar/date-display';\nimport MonthDisplay from './calendar/month-display';\nimport YearDisplay from './calendar/year-display';\nimport DecadeDisplay from './calendar/decade-display';\nimport TimeDisplay from './time/time-display';\nimport HourDisplay from './time/hour-display';\nimport MinuteDisplay from './time/minute-display';\nimport SecondDisplay from './time/second-display';\nimport { DateTime, Unit } from '../datetime';\nimport Namespace from '../utilities/namespace';\nimport { HideEvent } from '../utilities/event-types';\nimport Collapse from './collapse';\nimport Validation from '../validation';\nimport Dates from '../dates';\nimport { EventEmitters, ViewUpdateValues } from '../utilities/event-emitter';\nimport { serviceLocator } from '../utilities/service-locator';\nimport ActionTypes from '../utilities/action-types';\nimport CalendarModes from '../utilities/calendar-modes';\nimport { OptionsStore } from '../utilities/optionsStore';\n\n/**\n * Main class for all things display related.\n */\nexport default class Display {\n  private _widget: HTMLElement;\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _popperInstance: any;\n  private _isVisible = false;\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n  private dates: Dates;\n  private _eventEmitters: EventEmitters;\n  private _keyboardEventBound = this._keyboardEvent.bind(this);\n\n  dateDisplay: DateDisplay;\n  monthDisplay: MonthDisplay;\n  yearDisplay: YearDisplay;\n  decadeDisplay: DecadeDisplay;\n  timeDisplay: TimeDisplay;\n  hourDisplay: HourDisplay;\n  minuteDisplay: MinuteDisplay;\n  secondDisplay: SecondDisplay;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.validation = serviceLocator.locate(Validation);\n    this.dates = serviceLocator.locate(Dates);\n\n    this.dateDisplay = serviceLocator.locate(DateDisplay);\n    this.monthDisplay = serviceLocator.locate(MonthDisplay);\n    this.yearDisplay = serviceLocator.locate(YearDisplay);\n    this.decadeDisplay = serviceLocator.locate(DecadeDisplay);\n    this.timeDisplay = serviceLocator.locate(TimeDisplay);\n    this.hourDisplay = serviceLocator.locate(HourDisplay);\n    this.minuteDisplay = serviceLocator.locate(MinuteDisplay);\n    this.secondDisplay = serviceLocator.locate(SecondDisplay);\n    this._eventEmitters = serviceLocator.locate(EventEmitters);\n    this._widget = undefined;\n\n    this._eventEmitters.updateDisplay.subscribe((result: ViewUpdateValues) => {\n      this._update(result);\n    });\n  }\n\n  /**\n   * Returns the widget body or undefined\n   * @private\n   */\n  get widget(): HTMLElement | undefined {\n    return this._widget;\n  }\n\n  get dateContainer(): HTMLElement | undefined {\n    return this.widget?.querySelector(`div.${Namespace.css.dateContainer}`);\n  }\n\n  get timeContainer(): HTMLElement | undefined {\n    return this.widget?.querySelector(`div.${Namespace.css.timeContainer}`);\n  }\n\n  /**\n   * Returns this visible state of the picker (shown)\n   */\n  get isVisible() {\n    return this._isVisible;\n  }\n\n  /**\n   * Updates the table for a particular unit. Used when an option as changed or\n   * whenever the class list might need to be refreshed.\n   * @param unit\n   * @private\n   */\n  _update(unit: ViewUpdateValues): void {\n    if (!this.widget) return;\n    switch (unit) {\n      case Unit.seconds:\n        this.secondDisplay._update(this.widget, this.paint);\n        break;\n      case Unit.minutes:\n        this.minuteDisplay._update(this.widget, this.paint);\n        break;\n      case Unit.hours:\n        this.hourDisplay._update(this.widget, this.paint);\n        break;\n      case Unit.date:\n        this.dateDisplay._update(this.widget, this.paint);\n        break;\n      case Unit.month:\n        this.monthDisplay._update(this.widget, this.paint);\n        break;\n      case Unit.year:\n        this.yearDisplay._update(this.widget, this.paint);\n        break;\n      case 'decade':\n        this.decadeDisplay._update(this.widget, this.paint);\n        break;\n      case 'clock':\n        if (!this._hasTime) break;\n        this.timeDisplay._update(this.widget);\n        this._update(Unit.hours);\n        this._update(Unit.minutes);\n        this._update(Unit.seconds);\n        break;\n      case 'calendar':\n        this._update(Unit.date);\n        this._update(Unit.year);\n        this._update(Unit.month);\n        this.decadeDisplay._update(this.widget, this.paint);\n        this._updateCalendarHeader();\n        break;\n      case 'all':\n        if (this._hasTime) {\n          this._update('clock');\n        }\n        if (this._hasDate) {\n          this._update('calendar');\n        }\n    }\n  }\n\n  // noinspection JSUnusedLocalSymbols\n  /**\n   * Allows developers to add/remove classes from an element.\n   * @param _unit\n   * @param _date\n   * @param _classes\n   * @param _element\n   */\n\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  paint(\n    _unit: Unit | 'decade',\n    _date: DateTime,\n    _classes: string[],\n    _element: HTMLElement\n  ) {\n    // implemented in plugin\n  }\n\n  /**\n   * Shows the picker and creates a Popper instance if needed.\n   * Add document click event to hide when clicking outside the picker.\n   * fires Events#show\n   */\n  show(): void {\n    if (this.widget == undefined) {\n      this._showSetDefaultIfNeeded();\n\n      this._buildWidget();\n      this._updateTheme();\n\n      this._showSetupViewMode();\n\n      if (!this.optionsStore.options.display.inline) {\n        // If needed to change the parent container\n        const container = this.optionsStore.options?.container || document.body;\n        const placement =\n          this.optionsStore.options?.display?.placement || 'bottom';\n\n        container.appendChild(this.widget);\n        const handleFocus = this._handleFocus.bind(this);\n        this.createPopup(this.optionsStore.element, this.widget, {\n          modifiers: [\n            { name: 'eventListeners', enabled: true },\n            {\n              name: 'focusDate',\n              enabled: true,\n              phase: 'afterWrite',\n              fn() {\n                handleFocus();\n              },\n            },\n          ],\n          //#2400\n          placement:\n            document.documentElement.dir === 'rtl'\n              ? `${placement}-end`\n              : `${placement}-start`,\n        }).then(() => {\n          this._handleFocus();\n        });\n      } else {\n        this.optionsStore.element.appendChild(this.widget);\n      }\n\n      if (this.optionsStore.options.display.viewMode == 'clock') {\n        this._eventEmitters.action.emit({\n          e: null,\n          action: ActionTypes.showClock,\n        });\n      }\n\n      this.widget\n        .querySelectorAll('[data-action]')\n        .forEach((element) =>\n          element.addEventListener('click', this._actionsClickEvent)\n        );\n\n      // show the clock when using sideBySide\n      if (this._hasTime && this.optionsStore.options.display.sideBySide) {\n        this.timeDisplay._update(this.widget);\n        (\n          this.widget.getElementsByClassName(\n            Namespace.css.clockContainer\n          )[0] as HTMLElement\n        ).style.display = 'grid';\n      }\n    }\n\n    this.widget.classList.add(Namespace.css.show);\n    if (!this.optionsStore.options.display.inline) {\n      this.updatePopup();\n      document.addEventListener('click', this._documentClickEvent);\n    }\n    this._eventEmitters.triggerEvent.emit({ type: Namespace.events.show });\n    this._isVisible = true;\n\n    if (this.optionsStore.options.display.keyboardNavigation) {\n      this.widget.addEventListener('keydown', this._keyboardEventBound);\n    }\n  }\n\n  private _showSetupViewMode() {\n    // If modeView is only clock\n    const onlyClock = this._hasTime && !this._hasDate;\n\n    // reset the view to the clock if there's no date components\n    if (onlyClock) {\n      this.optionsStore.currentView = 'clock';\n      this._eventEmitters.action.emit({\n        e: null,\n        action: ActionTypes.showClock,\n      });\n    }\n    // otherwise return to the calendar view\n    else if (!this.optionsStore.currentCalendarViewMode) {\n      this.optionsStore.currentCalendarViewMode =\n        this.optionsStore.minimumCalendarViewMode;\n    }\n\n    if (!onlyClock && this.optionsStore.options.display.viewMode !== 'clock') {\n      if (this._hasTime) {\n        if (!this.optionsStore.options.display.sideBySide) {\n          Collapse.hideImmediately(this.timeContainer);\n        } else {\n          Collapse.show(this.timeContainer);\n        }\n      }\n      Collapse.show(this.dateContainer);\n    }\n\n    if (this._hasDate) {\n      this._showMode();\n    }\n  }\n\n  private _showSetDefaultIfNeeded() {\n    if (this.dates.picked.length != 0) return;\n\n    if (\n      this.optionsStore.options.useCurrent &&\n      !this.optionsStore.options.defaultDate\n    ) {\n      const date = new DateTime().setLocalization(\n        this.optionsStore.options.localization\n      );\n      if (!this.optionsStore.options.keepInvalid) {\n        let tries = 0;\n        let direction = 1;\n        if (this.optionsStore.options.restrictions.maxDate?.isBefore(date)) {\n          direction = -1;\n        }\n        while (!this.validation.isValid(date) && tries > 31) {\n          date.manipulate(direction, Unit.date);\n          tries++;\n        }\n      }\n      this.dates.setValue(date);\n    }\n\n    if (this.optionsStore.options.defaultDate) {\n      this.dates.setValue(this.optionsStore.options.defaultDate);\n    }\n  }\n\n  async createPopup(\n    element: HTMLElement,\n    widget: HTMLElement,\n    //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options: any\n  ): Promise<void> {\n    let createPopperFunction;\n    //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if ((window as any)?.Popper) {\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      createPopperFunction = (window as any)?.Popper?.createPopper;\n    } else {\n      const { createPopper } = await import('@popperjs/core');\n      createPopperFunction = createPopper;\n    }\n    if (createPopperFunction) {\n      this._popperInstance = createPopperFunction(element, widget, options);\n    }\n  }\n\n  updatePopup(): void {\n    if (!this._popperInstance) return;\n    this._popperInstance.update();\n    //this._handleFocus();\n  }\n\n  /**\n   * Changes the calendar view mode. E.g. month <-> year\n   * @param direction -/+ number to move currentViewMode\n   * @private\n   */\n  _showMode(direction?: number): void {\n    if (!this.widget) {\n      return;\n    }\n    if (direction) {\n      const max = Math.max(\n        this.optionsStore.minimumCalendarViewMode,\n        Math.min(3, this.optionsStore.currentCalendarViewMode + direction)\n      );\n      if (this.optionsStore.currentCalendarViewMode == max) return;\n      this.optionsStore.currentCalendarViewMode = max;\n    }\n\n    this.widget\n      .querySelectorAll(\n        `.${Namespace.css.dateContainer} > div:not(.${Namespace.css.calendarHeader}), .${Namespace.css.timeContainer} > div:not(.${Namespace.css.clockContainer})`\n      )\n      .forEach((e: HTMLElement) => (e.style.display = 'none'));\n\n    const datePickerMode =\n      CalendarModes[this.optionsStore.currentCalendarViewMode];\n    const picker: HTMLElement = this.widget.querySelector(\n      `.${datePickerMode.className}`\n    );\n\n    switch (datePickerMode.className) {\n      case Namespace.css.decadesContainer:\n        this.decadeDisplay._update(this.widget, this.paint);\n        break;\n      case Namespace.css.yearsContainer:\n        this.yearDisplay._update(this.widget, this.paint);\n        break;\n      case Namespace.css.monthsContainer:\n        this.monthDisplay._update(this.widget, this.paint);\n        break;\n      case Namespace.css.daysContainer:\n        this.dateDisplay._update(this.widget, this.paint);\n        break;\n    }\n\n    picker.style.display = 'grid';\n\n    if (this.optionsStore.options.display.sideBySide)\n      (<HTMLElement>(\n        this.widget.querySelectorAll(`.${Namespace.css.clockContainer}`)[0]\n      )).style.display = 'grid';\n\n    this._updateCalendarHeader();\n    this._eventEmitters.viewUpdate.emit();\n    this.findViewDateElement()?.focus();\n  }\n\n  /**\n   * Changes the theme. E.g. light, dark or auto\n   * @param theme the theme name\n   * @private\n   */\n  _updateTheme(theme?: 'light' | 'dark' | 'auto'): void {\n    if (!this.widget) {\n      return;\n    }\n    if (theme) {\n      if (this.optionsStore.options.display.theme === theme) return;\n      this.optionsStore.options.display.theme = theme;\n    }\n\n    this.widget.classList.remove('light', 'dark');\n    this.widget.classList.add(this._getThemeClass());\n\n    if (this.optionsStore.options.display.theme === 'auto') {\n      window\n        .matchMedia(Namespace.css.isDarkPreferredQuery)\n        .addEventListener('change', () => this._updateTheme());\n    } else {\n      window\n        .matchMedia(Namespace.css.isDarkPreferredQuery)\n        .removeEventListener('change', () => this._updateTheme());\n    }\n  }\n\n  _getThemeClass(): string {\n    const currentTheme = this.optionsStore.options.display.theme || 'auto';\n\n    const isDarkMode =\n      window.matchMedia &&\n      window.matchMedia(Namespace.css.isDarkPreferredQuery).matches;\n\n    switch (currentTheme) {\n      case 'light':\n        return Namespace.css.lightTheme;\n      case 'dark':\n        return Namespace.css.darkTheme;\n      case 'auto':\n        return isDarkMode ? Namespace.css.darkTheme : Namespace.css.lightTheme;\n    }\n  }\n\n  _updateCalendarHeader() {\n    if (!this._hasDate) return;\n    const showing = [\n      ...this.widget.querySelector(\n        `.${Namespace.css.dateContainer} div[style*=\"display: grid\"]`\n      ).classList,\n    ].find((x) => x.startsWith(Namespace.css.dateContainer));\n\n    const [previous, switcher, next] = this.widget\n      .getElementsByClassName(Namespace.css.calendarHeader)[0]\n      .getElementsByTagName('div');\n\n    switch (showing) {\n      case Namespace.css.decadesContainer:\n        previous.setAttribute(\n          'title',\n          this.optionsStore.options.localization.previousCentury\n        );\n        switcher.setAttribute('title', '');\n        next.setAttribute(\n          'title',\n          this.optionsStore.options.localization.nextCentury\n        );\n        break;\n      case Namespace.css.yearsContainer:\n        previous.setAttribute(\n          'title',\n          this.optionsStore.options.localization.previousDecade\n        );\n        switcher.setAttribute(\n          'title',\n          this.optionsStore.options.localization.selectDecade\n        );\n        next.setAttribute(\n          'title',\n          this.optionsStore.options.localization.nextDecade\n        );\n        break;\n      case Namespace.css.monthsContainer:\n        previous.setAttribute(\n          'title',\n          this.optionsStore.options.localization.previousYear\n        );\n        switcher.setAttribute(\n          'title',\n          this.optionsStore.options.localization.selectYear\n        );\n        next.setAttribute(\n          'title',\n          this.optionsStore.options.localization.nextYear\n        );\n        break;\n      case Namespace.css.daysContainer:\n        previous.setAttribute(\n          'title',\n          this.optionsStore.options.localization.previousMonth\n        );\n        switcher.setAttribute(\n          'title',\n          this.optionsStore.options.localization.selectMonth\n        );\n        next.setAttribute(\n          'title',\n          this.optionsStore.options.localization.nextMonth\n        );\n        switcher.setAttribute(\n          showing,\n          this.optionsStore.viewDate.format(\n            this.optionsStore.options.localization.dayViewHeaderFormat\n          )\n        );\n        break;\n    }\n    switcher.innerText = switcher.getAttribute(showing);\n  }\n\n  /**\n   * Hides the picker if needed.\n   * Remove document click event to hide when clicking outside the picker.\n   * fires Events#hide\n   */\n  hide(): void {\n    if (!this.widget || !this._isVisible) return;\n\n    this.widget.classList.remove(Namespace.css.show);\n\n    if (this._isVisible) {\n      this._eventEmitters.triggerEvent.emit({\n        type: Namespace.events.hide,\n        date: this.optionsStore.unset ? null : this.dates.lastPicked?.clone,\n      } as HideEvent);\n      this._isVisible = false;\n    }\n\n    document.removeEventListener('click', this._documentClickEvent);\n    if (this.optionsStore.options.display.keyboardNavigation) {\n      this.widget.removeEventListener('keydown', this._keyboardEventBound);\n    }\n    if (this.optionsStore.toggle) this.optionsStore.toggle.focus();\n    else if (this.optionsStore.input) this.optionsStore.input.focus();\n  }\n\n  /**\n   * Toggles the picker's open state. Fires a show/hide event depending.\n   */\n  toggle() {\n    return this._isVisible ? this.hide() : this.show();\n  }\n\n  /**\n   * Removes document and data-action click listener and reset the widget\n   * @private\n   */\n  _dispose() {\n    document.removeEventListener('click', this._documentClickEvent);\n    if (this._popperInstance) this._popperInstance.destroy();\n    if (!this.widget) return;\n    this.widget\n      .querySelectorAll('[data-action]')\n      .forEach((element) =>\n        element.removeEventListener('click', this._actionsClickEvent)\n      );\n    this.widget.parentNode.removeChild(this.widget);\n    this._widget = undefined;\n  }\n\n  /**\n   * Builds the widgets html template.\n   * @private\n   */\n  private _buildWidget(): HTMLElement {\n    const template = document.createElement('div');\n    template.tabIndex = -1;\n    template.classList.add(Namespace.css.widget);\n    template.setAttribute('role', 'widget');\n\n    const dateView = document.createElement('div');\n    dateView.tabIndex = -1;\n    dateView.classList.add(Namespace.css.dateContainer);\n    dateView.append(\n      this.getHeadTemplate(),\n      this.decadeDisplay.getPicker(),\n      this.yearDisplay.getPicker(),\n      this.monthDisplay.getPicker(),\n      this.dateDisplay.getPicker()\n    );\n\n    const timeView = document.createElement('div');\n    timeView.tabIndex = -1;\n    timeView.classList.add(Namespace.css.timeContainer);\n    timeView.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this)));\n    timeView.appendChild(this.hourDisplay.getPicker());\n    timeView.appendChild(this.minuteDisplay.getPicker());\n    timeView.appendChild(this.secondDisplay.getPicker());\n\n    const toolbar = document.createElement('div');\n    toolbar.tabIndex = -1;\n    toolbar.classList.add(Namespace.css.toolbar);\n    toolbar.append(...this.getToolbarElements());\n\n    if (this.optionsStore.options.display.inline) {\n      template.classList.add(Namespace.css.inline);\n    }\n\n    if (this.optionsStore.options.display.calendarWeeks) {\n      template.classList.add('calendarWeeks');\n    }\n\n    if (this.optionsStore.options.display.sideBySide && this._hasDateAndTime) {\n      this._buildWidgetSideBySide(template, dateView, timeView, toolbar);\n      return;\n    }\n\n    if (this.optionsStore.options.display.toolbarPlacement === 'top') {\n      template.appendChild(toolbar);\n    }\n\n    const setupComponentView = (\n      hasFirst: boolean,\n      hasSecond: boolean,\n      element: HTMLElement,\n      shouldShow: boolean\n    ) => {\n      if (!hasFirst) return;\n      if (hasSecond) {\n        element.classList.add(Namespace.css.collapse);\n        if (shouldShow) element.classList.add(Namespace.css.show);\n      }\n      template.appendChild(element);\n    };\n\n    setupComponentView(\n      this._hasDate,\n      this._hasTime,\n      dateView,\n      this.optionsStore.options.display.viewMode !== 'clock'\n    );\n\n    setupComponentView(\n      this._hasTime,\n      this._hasDate,\n      timeView,\n      this.optionsStore.options.display.viewMode === 'clock'\n    );\n\n    if (this.optionsStore.options.display.toolbarPlacement === 'bottom') {\n      template.appendChild(toolbar);\n    }\n\n    const arrow = document.createElement('div');\n    arrow.classList.add('arrow');\n    arrow.setAttribute('data-popper-arrow', '');\n    template.appendChild(arrow);\n\n    this._widget = template;\n  }\n\n  private _buildWidgetSideBySide(\n    template: HTMLDivElement,\n    dateView: HTMLDivElement,\n    timeView: HTMLDivElement,\n    toolbar: HTMLDivElement\n  ) {\n    template.classList.add(Namespace.css.sideBySide);\n    if (this.optionsStore.options.display.toolbarPlacement === 'top') {\n      template.appendChild(toolbar);\n    }\n    const row = document.createElement('div');\n    row.classList.add('td-row');\n    dateView.classList.add('td-half');\n    timeView.classList.add('td-half');\n\n    row.appendChild(dateView);\n    row.appendChild(timeView);\n    template.appendChild(row);\n    if (this.optionsStore.options.display.toolbarPlacement === 'bottom') {\n      template.appendChild(toolbar);\n    }\n    this._widget = template;\n  }\n\n  /**\n   * Returns true if the hours, minutes, or seconds component is turned on\n   */\n  get _hasTime(): boolean {\n    return (\n      this.optionsStore.options.display.components.clock &&\n      (this.optionsStore.options.display.components.hours ||\n        this.optionsStore.options.display.components.minutes ||\n        this.optionsStore.options.display.components.seconds)\n    );\n  }\n\n  /**\n   * Returns true if the year, month, or date component is turned on\n   */\n  get _hasDate(): boolean {\n    return (\n      this.optionsStore.options.display.components.calendar &&\n      (this.optionsStore.options.display.components.year ||\n        this.optionsStore.options.display.components.month ||\n        this.optionsStore.options.display.components.date)\n    );\n  }\n\n  get _hasDateAndTime(): boolean {\n    return this._hasDate && this._hasTime;\n  }\n\n  /**\n   * Get the toolbar html based on options like buttons => today\n   * @private\n   */\n  getToolbarElements(): HTMLElement[] {\n    const toolbar = [];\n\n    if (this.optionsStore.options.display.buttons.today) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.today);\n      div.setAttribute('title', this.optionsStore.options.localization.today);\n\n      div.appendChild(\n        this._iconTag(this.optionsStore.options.display.icons.today)\n      );\n      toolbar.push(div);\n    }\n    if (\n      !this.optionsStore.options.display.sideBySide &&\n      this._hasDate &&\n      this._hasTime\n    ) {\n      let title, icon;\n      if (this.optionsStore.options.display.viewMode === 'clock') {\n        title = this.optionsStore.options.localization.selectDate;\n        icon = this.optionsStore.options.display.icons.date;\n      } else {\n        title = this.optionsStore.options.localization.selectTime;\n        icon = this.optionsStore.options.display.icons.time;\n      }\n\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.togglePicker);\n      div.setAttribute('title', title);\n\n      div.appendChild(this._iconTag(icon));\n      toolbar.push(div);\n    }\n    if (this.optionsStore.options.display.buttons.clear) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.clear);\n      div.setAttribute('title', this.optionsStore.options.localization.clear);\n\n      div.appendChild(\n        this._iconTag(this.optionsStore.options.display.icons.clear)\n      );\n      toolbar.push(div);\n    }\n    if (this.optionsStore.options.display.buttons.close) {\n      const div = document.createElement('div');\n      div.tabIndex = -1;\n      div.setAttribute('data-action', ActionTypes.close);\n      div.setAttribute('title', this.optionsStore.options.localization.close);\n\n      div.appendChild(\n        this._iconTag(this.optionsStore.options.display.icons.close)\n      );\n      toolbar.push(div);\n    }\n\n    return toolbar;\n  }\n\n  /***\n   * Builds the base header template with next and previous icons\n   * @private\n   */\n  getHeadTemplate(): HTMLElement {\n    const calendarHeader = document.createElement('div');\n    calendarHeader.classList.add(Namespace.css.calendarHeader);\n\n    const previous = document.createElement('div');\n    previous.classList.add(Namespace.css.previous);\n    previous.setAttribute('data-action', ActionTypes.previous);\n    previous.appendChild(\n      this._iconTag(this.optionsStore.options.display.icons.previous)\n    );\n    previous.tabIndex = -1;\n\n    const switcher = document.createElement('div');\n    switcher.classList.add(Namespace.css.switch);\n    switcher.setAttribute('data-action', ActionTypes.changeCalendarView);\n    switcher.tabIndex = -1;\n\n    const next = document.createElement('div');\n    next.classList.add(Namespace.css.next);\n    next.setAttribute('data-action', ActionTypes.next);\n    next.appendChild(\n      this._iconTag(this.optionsStore.options.display.icons.next)\n    );\n    next.tabIndex = -1;\n\n    calendarHeader.append(previous, switcher, next);\n    return calendarHeader;\n  }\n\n  /**\n   * Builds an icon tag as either an `<i>`\n   * or with icons => type is `sprites` then a svg tag instead\n   * @param iconClass\n   * @private\n   */\n  _iconTag(iconClass: string): HTMLElement | SVGElement {\n    if (this.optionsStore.options.display.icons.type === 'sprites') {\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n      const icon = document.createElementNS(\n        'http://www.w3.org/2000/svg',\n        'use'\n      );\n      icon.setAttribute('xlink:href', iconClass); // Deprecated. Included for backward compatibility\n      icon.setAttribute('href', iconClass);\n      svg.appendChild(icon);\n\n      return svg;\n    }\n    const icon = document.createElement('i');\n    icon.classList.add(...iconClass.split(' '));\n    return icon;\n  }\n\n  /**\n   * A document click event to hide the widget if click is outside\n   * @private\n   * @param e MouseEvent\n   */\n  private _documentClickEvent = (e: MouseEvent) => {\n    if (this.optionsStore.options.debug || (window as any).debug) return; //eslint-disable-line @typescript-eslint/no-explicit-any\n\n    if (\n      this._isVisible &&\n      !e.composedPath().includes(this.widget) && // click inside the widget\n      !e.composedPath()?.includes(this.optionsStore.element) // click on the element\n    ) {\n      this.hide();\n    }\n  };\n\n  /**\n   * Click event for any action like selecting a date\n   * @param e MouseEvent\n   * @private\n   */\n  private _actionsClickEvent = (e: MouseEvent) => {\n    this._eventEmitters.action.emit({ e: e });\n  };\n\n  /**\n   * Causes the widget to get rebuilt on next show. If the picker is already open\n   * then hide and reshow it.\n   * @private\n   */\n  _rebuild() {\n    const wasVisible = this._isVisible;\n    this._dispose();\n    if (wasVisible) this.show();\n  }\n\n  refreshCurrentView() {\n    //if the widget is not showing, just destroy it\n    if (!this._isVisible) this._dispose();\n\n    switch (this.optionsStore.currentView) {\n      case 'clock':\n        this._update('clock');\n        break;\n      case 'calendar':\n        this._update(Unit.date);\n        break;\n      case 'months':\n        this._update(Unit.month);\n        break;\n      case 'years':\n        this._update(Unit.year);\n        break;\n      case 'decades':\n        this._update('decade');\n        break;\n    }\n  }\n\n  private _keyboardEvent(event: KeyboardEvent) {\n    if (this.optionsStore.currentView === 'clock') {\n      this._handleKeyDownClock(event);\n      return;\n    }\n    this._handleKeyDownDate(event);\n    return false;\n  }\n\n  public findViewDateElement(): HTMLElement {\n    let selector = '';\n    let dataValue = '';\n\n    switch (this.optionsStore.currentView) {\n      case 'clock':\n        break;\n      case 'calendar':\n        selector = Namespace.css.daysContainer;\n        dataValue = this.optionsStore.viewDate.dateToDataValue();\n        break;\n      case 'months':\n        selector = Namespace.css.monthsContainer;\n        dataValue = this.optionsStore.viewDate.month.toString();\n        break;\n      case 'years':\n        selector = Namespace.css.yearsContainer;\n        dataValue = this.optionsStore.viewDate.year.toString();\n        break;\n      case 'decades':\n        selector = Namespace.css.decadesContainer;\n        dataValue = (\n          Math.floor(this.optionsStore.viewDate.year / 10) * 10\n        ).toString();\n        break;\n    }\n\n    return this.widget.querySelector(\n      `.${selector} > div[data-value=\"${dataValue}\"]`\n    );\n  }\n\n  private _handleKeyDownDate(event: KeyboardEvent) {\n    let flag = false;\n    const activeElement = document.activeElement as HTMLElement;\n\n    let unit = null;\n    let verticalChange = 7;\n    let horizontalChange = 1;\n    let change = 1;\n    const currentView = this.optionsStore.currentView;\n    switch (currentView) {\n      case 'calendar':\n        unit = Unit.date;\n        break;\n      case 'months':\n        unit = Unit.month;\n        verticalChange = 3;\n        horizontalChange = 1;\n        break;\n      case 'years':\n        unit = Unit.year;\n        verticalChange = 3;\n        horizontalChange = 1;\n        break;\n      case 'decades':\n        unit = Unit.year;\n        verticalChange = 30;\n        horizontalChange = 10;\n        break;\n    }\n\n    switch (event.key) {\n      case 'Esc':\n      case 'Escape':\n        this._eventEmitters.action.emit({ e: null, action: ActionTypes.close });\n        break;\n\n      case ' ':\n      case 'Enter':\n        activeElement.click();\n\n        event.stopPropagation();\n        event.preventDefault();\n        return;\n\n      case 'Tab':\n        this._handleTab(activeElement, event);\n        return;\n\n      case 'Right':\n      case 'ArrowRight':\n        change = horizontalChange;\n        flag = true;\n        break;\n\n      case 'Left':\n      case 'ArrowLeft':\n        flag = true;\n        change = -horizontalChange;\n        break;\n\n      case 'Down':\n      case 'ArrowDown':\n        flag = true;\n        change = verticalChange;\n        break;\n\n      case 'Up':\n      case 'ArrowUp':\n        flag = true;\n        change = -verticalChange;\n        break;\n\n      case 'PageDown':\n        switch (currentView) {\n          case 'calendar':\n            unit = event.shiftKey ? Unit.year : Unit.month;\n            change = 1;\n            break;\n          case 'months':\n            unit = Unit.year;\n            change = event.shiftKey ? 10 : 1;\n            break;\n          case 'years':\n          case 'decades':\n            unit = Unit.year;\n            change = event.shiftKey ? 100 : 10;\n            break;\n        }\n        flag = true;\n        break;\n\n      case 'PageUp':\n        switch (currentView) {\n          case 'calendar':\n            unit = event.shiftKey ? Unit.year : Unit.month;\n            change = -1;\n            break;\n          case 'months':\n            unit = Unit.year;\n            change = -(event.shiftKey ? 10 : 1);\n            break;\n          case 'years':\n          case 'decades':\n            unit = Unit.year;\n            change = -(event.shiftKey ? 100 : 10);\n            break;\n        }\n        flag = true;\n        break;\n\n      case 'Home':\n        this.optionsStore.viewDate = this.optionsStore.viewDate.clone.startOf(\n          'weekDay',\n          this.optionsStore.options.localization.startOfTheWeek\n        );\n        flag = true;\n        unit = null;\n        break;\n\n      case 'End':\n        this.optionsStore.viewDate = this.optionsStore.viewDate.clone.endOf(\n          'weekDay',\n          this.optionsStore.options.localization.startOfTheWeek\n        );\n        flag = true;\n        unit = null;\n        break;\n    }\n\n    if (!flag) return;\n\n    let newViewDate = this.optionsStore.viewDate;\n\n    if (unit) {\n      newViewDate = newViewDate.clone.manipulate(change, unit);\n    }\n\n    this._eventEmitters.updateViewDate.emit(newViewDate);\n\n    const divWithValue = this.findViewDateElement();\n    if (divWithValue) {\n      divWithValue.focus();\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  private _handleKeyDownClock(event: KeyboardEvent) {\n    let flag = false;\n    const activeElement = document.activeElement as HTMLElement;\n\n    // Should find which of hour, minute, or seconds sub-windows is open\n    const visibleElement = this.widget.querySelector(\n      `.${Namespace.css.timeContainer} > div[style*=\"display: grid\"]`\n    );\n\n    let subView = Namespace.css.clockContainer;\n\n    if (visibleElement.classList.contains(Namespace.css.hourContainer)) {\n      subView = Namespace.css.hourContainer;\n    }\n    if (visibleElement.classList.contains(Namespace.css.minuteContainer)) {\n      subView = Namespace.css.minuteContainer;\n    }\n    if (visibleElement.classList.contains(Namespace.css.secondContainer)) {\n      subView = Namespace.css.secondContainer;\n    }\n\n    switch (event.key) {\n      case 'Esc':\n      case 'Escape':\n        this._eventEmitters.action.emit({ e: null, action: ActionTypes.close });\n        break;\n\n      case ' ':\n      case 'Enter':\n        activeElement.click();\n\n        event.stopPropagation();\n        event.preventDefault();\n        return;\n\n      case 'Tab':\n        this._handleTab(activeElement, event);\n        return;\n    }\n\n    if (subView === Namespace.css.clockContainer) return;\n\n    const cells = [...visibleElement.querySelectorAll('div')];\n    const currentIndex = cells.indexOf(\n      document.activeElement as HTMLDivElement\n    );\n    const columnCount = 4;\n\n    let targetIndex: number;\n    switch (event.key) {\n      case 'Right':\n      case 'ArrowRight':\n        targetIndex = currentIndex < cells.length - 1 ? currentIndex + 1 : null;\n        flag = true;\n        break;\n\n      case 'Left':\n      case 'ArrowLeft':\n        flag = true;\n        targetIndex = currentIndex > 0 ? currentIndex - 1 : null;\n        break;\n\n      case 'Down':\n      case 'ArrowDown':\n        targetIndex =\n          currentIndex + columnCount < cells.length\n            ? currentIndex + columnCount\n            : null;\n        flag = true;\n        break;\n\n      case 'Up':\n      case 'ArrowUp':\n        targetIndex =\n          currentIndex - columnCount >= 0 ? currentIndex - columnCount : null;\n        flag = true;\n        break;\n    }\n\n    if (!flag) return;\n\n    if (targetIndex !== undefined && targetIndex !== null) {\n      cells[targetIndex].focus();\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  private _handleTab(activeElement: HTMLElement, event: KeyboardEvent) {\n    const shiftKey = event.shiftKey;\n    // gather tab targets\n    const addCalendarHeaderTargets = () => {\n      const calendarHeaderItems = this.widget.querySelectorAll(\n        `.${Namespace.css.calendarHeader} > div`\n      ) as NodeListOf<HTMLElement>;\n      tabTargets.push(...calendarHeaderItems);\n    };\n\n    const tabTargets: HTMLElement[] = [];\n    console.log(this.optionsStore.currentView);\n    switch (this.optionsStore.currentView) {\n      case 'clock':\n        {\n          tabTargets.push(\n            ...(this.widget.querySelectorAll(\n              `.${Namespace.css.timeContainer} > div[style*=\"display: grid\"] > div[data-action]`\n            ) as NodeListOf<HTMLElement>)\n          );\n\n          const clock = this.widget.querySelectorAll(\n            `.${Namespace.css.clockContainer}`\n          )[0] as HTMLElement;\n\n          // add meridiem if it's in view\n          if (clock?.style.display === 'grid') {\n            tabTargets.push(\n              ...(this.widget.querySelectorAll(\n                `.${Namespace.css.toggleMeridiem}`\n              ) as NodeListOf<HTMLElement>)\n            );\n          }\n        }\n        break;\n      case 'calendar':\n      case 'months':\n      case 'years':\n      case 'decades':\n        addCalendarHeaderTargets();\n        tabTargets.push(this.findViewDateElement());\n        break;\n    }\n\n    const toolbarItems = this.widget.querySelectorAll(\n      `.${Namespace.css.toolbar} > div`\n    ) as NodeListOf<HTMLElement>;\n    tabTargets.push(...toolbarItems);\n\n    const index = tabTargets.indexOf(activeElement);\n    if (index === -1) return;\n\n    if (shiftKey) {\n      if (index === 0) {\n        tabTargets[tabTargets.length - 1].focus();\n      } else {\n        tabTargets[index - 1].focus();\n      }\n    } else {\n      if (index === tabTargets.length - 1) {\n        tabTargets[0].focus();\n      } else {\n        tabTargets[index + 1].focus();\n      }\n    }\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  private _handleFocus() {\n    if (this.optionsStore.currentView === 'clock') this._handleFocusClock();\n    else this.findViewDateElement().focus();\n  }\n\n  private _handleFocusClock() {\n    (\n      this.widget.querySelector(\n        `.${Namespace.css.timeContainer} > div[style*=\"display: grid\"]`\n      ).children[0] as HTMLElement\n    ).focus();\n  }\n}\n\nexport type Paint = (\n  unit: Unit | 'decade',\n  innerDate: DateTime,\n  classes: string[],\n  element: HTMLElement\n) => void;\n", "import { DateTime, Unit } from './datetime';\nimport Collapse from './display/collapse';\nimport Namespace from './utilities/namespace';\nimport Dates from './dates';\nimport Validation from './validation';\nimport Display from './display';\nimport { EventEmitters } from './utilities/event-emitter';\nimport { serviceLocator } from './utilities/service-locator.js';\nimport ActionTypes from './utilities/action-types';\nimport CalendarModes from './utilities/calendar-modes';\nimport { OptionsStore } from './utilities/optionsStore';\n\n/**\n * Logic for various click actions\n */\nexport default class Actions {\n  private optionsStore: OptionsStore;\n  private validation: Validation;\n  private dates: Dates;\n  private display: Display;\n  private _eventEmitters: EventEmitters;\n\n  constructor() {\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.dates = serviceLocator.locate(Dates);\n    this.validation = serviceLocator.locate(Validation);\n    this.display = serviceLocator.locate(Display);\n    this._eventEmitters = serviceLocator.locate(EventEmitters);\n\n    this._eventEmitters.action.subscribe((result) => {\n      this.do(result.e, result.action);\n    });\n  }\n\n  /**\n   * Performs the selected `action`. See ActionTypes\n   * @param e This is normally a click event\n   * @param action If not provided, then look for a [data-action]\n   */\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  do(e: any, action?: ActionTypes) {\n    const currentTarget = e?.currentTarget as HTMLElement;\n    if (currentTarget?.classList?.contains(Namespace.css.disabled)) return;\n    action = action || (currentTarget?.dataset?.action as ActionTypes);\n    const lastPicked = (this.dates.lastPicked || this.optionsStore.viewDate)\n      .clone;\n\n    switch (action) {\n      case ActionTypes.next:\n      case ActionTypes.previous:\n        this.handleNextPrevious(action);\n        break;\n      case ActionTypes.changeCalendarView:\n        this.display._showMode(1);\n        this.display._updateCalendarHeader();\n        break;\n      case ActionTypes.selectMonth:\n      case ActionTypes.selectYear:\n      case ActionTypes.selectDecade:\n        this.handleSelectCalendarMode(action, currentTarget);\n        break;\n      case ActionTypes.selectDay:\n        this.handleSelectDay(currentTarget);\n        break;\n      case ActionTypes.selectHour: {\n        let hour = +currentTarget.dataset.value;\n        if (lastPicked.hours >= 12 && this.optionsStore.isTwelveHour)\n          hour += 12;\n        lastPicked.hours = hour;\n        this.dates.setValue(lastPicked, this.dates.lastPickedIndex);\n        this.hideOrClock(e);\n        break;\n      }\n      case ActionTypes.selectMinute: {\n        lastPicked.minutes = +currentTarget.dataset.value;\n        this.dates.setValue(lastPicked, this.dates.lastPickedIndex);\n        this.hideOrClock(e);\n        break;\n      }\n      case ActionTypes.selectSecond: {\n        lastPicked.seconds = +currentTarget.dataset.value;\n        this.dates.setValue(lastPicked, this.dates.lastPickedIndex);\n        this.hideOrClock(e);\n        break;\n      }\n      case ActionTypes.incrementHours:\n        this.manipulateAndSet(lastPicked, Unit.hours);\n        break;\n      case ActionTypes.incrementMinutes:\n        this.manipulateAndSet(\n          lastPicked,\n          Unit.minutes,\n          this.optionsStore.options.stepping\n        );\n        break;\n      case ActionTypes.incrementSeconds:\n        this.manipulateAndSet(lastPicked, Unit.seconds);\n        break;\n      case ActionTypes.decrementHours:\n        this.manipulateAndSet(lastPicked, Unit.hours, -1);\n        break;\n      case ActionTypes.decrementMinutes:\n        this.manipulateAndSet(\n          lastPicked,\n          Unit.minutes,\n          this.optionsStore.options.stepping * -1\n        );\n        break;\n      case ActionTypes.decrementSeconds:\n        this.manipulateAndSet(lastPicked, Unit.seconds, -1);\n        break;\n      case ActionTypes.toggleMeridiem:\n        this.manipulateAndSet(\n          lastPicked,\n          Unit.hours,\n          this.dates.lastPicked.hours >= 12 ? -12 : 12\n        );\n        break;\n      case ActionTypes.togglePicker:\n        this.handleToggle(currentTarget);\n        break;\n      case ActionTypes.showClock:\n      case ActionTypes.showHours:\n      case ActionTypes.showMinutes:\n      case ActionTypes.showSeconds:\n        //make sure the clock is actually displaying\n        if (\n          !this.optionsStore.options.display.sideBySide &&\n          this.optionsStore.currentView !== 'clock'\n        ) {\n          //hide calendar\n          Collapse.hideImmediately(this.display.dateContainer);\n          //show clock\n          Collapse.showImmediately(this.display.timeContainer);\n        }\n        this.handleShowClockContainers(action);\n        break;\n      case ActionTypes.clear:\n        this.dates.setValue(null);\n        this.display._updateCalendarHeader();\n        break;\n      case ActionTypes.close:\n        this.display.hide();\n        break;\n      case ActionTypes.today: {\n        const day = new DateTime().setLocalization(\n          this.optionsStore.options.localization\n        );\n        this._eventEmitters.updateViewDate.emit(day);\n\n        if (!this.validation.isValid(day, Unit.date)) break;\n\n        if (this.optionsStore.options.dateRange) this.handleDateRange(day);\n        else if (this.optionsStore.options.multipleDates) {\n          this.handleMultiDate(day);\n        } else {\n          this.dates.setValue(day, this.dates.lastPickedIndex);\n        }\n        break;\n      }\n    }\n  }\n\n  private handleShowClockContainers(action: ActionTypes) {\n    if (!this.display._hasTime) {\n      Namespace.errorMessages.throwError(\n        'Cannot show clock containers when time is disabled.'\n      );\n      /* ignore coverage: should never happen */\n      return;\n    }\n\n    this.optionsStore.currentView = 'clock';\n    this.display.widget\n      .querySelectorAll(`.${Namespace.css.timeContainer} > div`)\n      .forEach(\n        (htmlElement: HTMLElement) => (htmlElement.style.display = 'none')\n      );\n\n    let classToUse = '';\n    switch (action) {\n      case ActionTypes.showClock:\n        classToUse = Namespace.css.clockContainer;\n        this.display._update('clock');\n        break;\n      case ActionTypes.showHours:\n        classToUse = Namespace.css.hourContainer;\n        this.display._update(Unit.hours);\n        break;\n      case ActionTypes.showMinutes:\n        classToUse = Namespace.css.minuteContainer;\n        this.display._update(Unit.minutes);\n        break;\n      case ActionTypes.showSeconds:\n        classToUse = Namespace.css.secondContainer;\n        this.display._update(Unit.seconds);\n        break;\n    }\n\n    const element = this.display.widget.getElementsByClassName(\n      classToUse\n    )[0] as HTMLElement;\n    element.style.display = 'grid';\n    (<HTMLElement>element.children[0])?.focus();\n  }\n\n  private handleNextPrevious(action: ActionTypes) {\n    const { unit, step } =\n      CalendarModes[this.optionsStore.currentCalendarViewMode];\n    if (action === ActionTypes.next)\n      this.optionsStore.viewDate.manipulate(step, unit);\n    else this.optionsStore.viewDate.manipulate(step * -1, unit);\n    this._eventEmitters.viewUpdate.emit();\n\n    this.display._showMode();\n  }\n\n  /**\n   * After setting the value it will either show the clock or hide the widget.\n   * @param e\n   */\n  private hideOrClock(e) {\n    if (\n      !this.optionsStore.isTwelveHour &&\n      !this.optionsStore.options.display.components.minutes &&\n      !this.optionsStore.options.display.keepOpen &&\n      !this.optionsStore.options.display.inline\n    ) {\n      this.display.hide();\n    } else {\n      this.do(e, ActionTypes.showClock);\n    }\n  }\n\n  /**\n   * Common function to manipulate {@link lastPicked} by `unit`.\n   * @param lastPicked\n   * @param unit\n   * @param value Value to change by\n   */\n  private manipulateAndSet(lastPicked: DateTime, unit: Unit, value = 1) {\n    const newDate = lastPicked.manipulate(value, unit);\n    if (this.validation.isValid(newDate, unit)) {\n      this.dates.setValue(newDate, this.dates.lastPickedIndex);\n    }\n  }\n\n  private handleSelectCalendarMode(\n    action:\n      | ActionTypes.selectMonth\n      | ActionTypes.selectYear\n      | ActionTypes.selectDecade,\n    currentTarget: HTMLElement\n  ) {\n    const value = +currentTarget.dataset.value;\n    switch (action) {\n      case ActionTypes.selectMonth:\n        this.optionsStore.viewDate.month = value;\n        break;\n      case ActionTypes.selectYear:\n      case ActionTypes.selectDecade:\n        this.optionsStore.viewDate.year = value;\n        break;\n    }\n\n    if (\n      this.optionsStore.currentCalendarViewMode ===\n      this.optionsStore.minimumCalendarViewMode\n    ) {\n      this.dates.setValue(\n        this.optionsStore.viewDate,\n        this.dates.lastPickedIndex\n      );\n\n      if (!this.optionsStore.options.display.inline) {\n        this.display.hide();\n      }\n    } else {\n      this.display._showMode(-1);\n    }\n  }\n\n  private handleToggle(currentTarget: HTMLElement) {\n    if (\n      currentTarget.getAttribute('title') ===\n      this.optionsStore.options.localization.selectDate\n    ) {\n      currentTarget.setAttribute(\n        'title',\n        this.optionsStore.options.localization.selectTime\n      );\n      currentTarget.innerHTML = this.display._iconTag(\n        this.optionsStore.options.display.icons.time\n      ).outerHTML;\n\n      this.display._updateCalendarHeader();\n      this.optionsStore.refreshCurrentView();\n    } else {\n      currentTarget.setAttribute(\n        'title',\n        this.optionsStore.options.localization.selectDate\n      );\n      currentTarget.innerHTML = this.display._iconTag(\n        this.optionsStore.options.display.icons.date\n      ).outerHTML;\n      if (this.display._hasTime) {\n        this.handleShowClockContainers(ActionTypes.showClock);\n        this.display._update('clock');\n      }\n    }\n\n    this.display.widget\n      .querySelectorAll(\n        `.${Namespace.css.dateContainer}, .${Namespace.css.timeContainer}`\n      )\n      .forEach((htmlElement: HTMLElement) => Collapse.toggle(htmlElement));\n    this._eventEmitters.viewUpdate.emit();\n    const visible = this.display.widget.querySelector(\n      `.${Namespace.css.collapsing} > div[style*=\"display: grid\"]`\n    ) as HTMLElement;\n    visible?.focus();\n  }\n\n  private handleSelectDay(currentTarget: HTMLElement) {\n    const day = this.optionsStore.viewDate.clone;\n    if (currentTarget.classList.contains(Namespace.css.old)) {\n      day.manipulate(-1, Unit.month);\n    }\n    if (currentTarget.classList.contains(Namespace.css.new)) {\n      day.manipulate(1, Unit.month);\n    }\n\n    day.date = +currentTarget.dataset.day;\n    if (this.optionsStore.options.dateRange) this.handleDateRange(day);\n    else if (this.optionsStore.options.multipleDates) {\n      this.handleMultiDate(day);\n    } else {\n      this.dates.setValue(day, this.dates.lastPickedIndex);\n    }\n\n    if (\n      !this.display._hasTime &&\n      !this.optionsStore.options.display.keepOpen &&\n      !this.optionsStore.options.display.inline &&\n      !this.optionsStore.options.multipleDates &&\n      !this.optionsStore.options.dateRange\n    ) {\n      this.display.hide();\n    }\n  }\n\n  private handleMultiDate(day: DateTime) {\n    let index = this.dates.pickedIndex(day, Unit.date);\n    if (index !== -1) {\n      this.dates.setValue(null, index); //deselect multi-date\n    } else {\n      index = this.dates.lastPickedIndex + 1;\n      if (this.dates.picked.length === 0) index = 0;\n\n      this.dates.setValue(day, index);\n    }\n  }\n\n  private handleDateRange(day: DateTime) {\n    switch (this.dates.picked.length) {\n      case 2: {\n        this.dates.clear();\n        break;\n      }\n      case 1: {\n        const other = this.dates.picked[0];\n        if (day.getTime() === other.getTime()) {\n          this.dates.clear();\n          break;\n        }\n        if (day.isBefore(other)) {\n          this.dates.setValue(day, 0);\n          this.dates.setValue(other, 1);\n          return;\n        } else {\n          this.dates.setValue(day, 1);\n          return;\n        }\n      }\n    }\n\n    this.dates.setValue(day, 0);\n  }\n}\n", "import Display from './display/index';\nimport Dates from './dates';\nimport Actions from './actions';\nimport {\n  DateTime,\n  DateTimeFormatOptions,\n  guessHourCycle,\n  Unit,\n} from './datetime';\nimport Namespace from './utilities/namespace';\nimport Options from './utilities/options';\nimport {\n  BaseEvent,\n  ChangeEvent,\n  ViewUpdateEvent,\n} from './utilities/event-types';\nimport { EventEmitters } from './utilities/event-emitter';\nimport {\n  serviceLocator,\n  setupServiceLocator,\n} from './utilities/service-locator';\nimport CalendarModes from './utilities/calendar-modes';\nimport DefaultOptions, {\n  DefaultEnLocalization,\n} from './utilities/default-options';\nimport ActionTypes from './utilities/action-types';\nimport { OptionsStore } from './utilities/optionsStore';\nimport { OptionConverter } from './utilities/optionConverter';\n\n/**\n * A robust and powerful date/time picker component.\n */\nclass TempusDominus {\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _subscribers: { [key: string]: ((event: any) => Record<string, unknown>)[] } =\n    {};\n  private _isDisabled = false;\n  private _currentPromptTimeTimeout: NodeJS.Timeout;\n  private actions: Actions;\n  private optionsStore: OptionsStore;\n  private _eventEmitters: EventEmitters;\n  display: Display;\n  dates: Dates;\n\n  constructor(element: HTMLElement, options: Options = {} as Options) {\n    setupServiceLocator();\n    this._eventEmitters = serviceLocator.locate(EventEmitters);\n    this.optionsStore = serviceLocator.locate(OptionsStore);\n    this.display = serviceLocator.locate(Display);\n    this.dates = serviceLocator.locate(Dates);\n    this.actions = serviceLocator.locate(Actions);\n\n    if (!element) {\n      Namespace.errorMessages.mustProvideElement();\n    }\n\n    this.optionsStore.element = element;\n    this._initializeOptions(options, DefaultOptions, true);\n    this.optionsStore.viewDate.setLocalization(\n      this.optionsStore.options.localization\n    );\n    this.optionsStore.unset = true;\n\n    this._initializeInput();\n    this._initializeToggle();\n\n    if (this.optionsStore.options.display.inline) this.display.show();\n\n    this._eventEmitters.triggerEvent.subscribe((e) => {\n      this._triggerEvent(e);\n    });\n\n    this._eventEmitters.viewUpdate.subscribe(() => {\n      this._viewUpdate();\n    });\n\n    this._eventEmitters.updateViewDate.subscribe((dateTime) => {\n      this.viewDate = dateTime;\n    });\n  }\n\n  get viewDate() {\n    return this.optionsStore.viewDate;\n  }\n\n  set viewDate(value) {\n    this.optionsStore.viewDate = value;\n    this.optionsStore.viewDate.setLocalization(\n      this.optionsStore.options.localization\n    );\n    this.display._update(\n      this.optionsStore.currentView === 'clock' ? 'clock' : 'calendar'\n    );\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Update the picker options. If `reset` is provide `options` will be merged with DefaultOptions instead.\n   * @param options\n   * @param reset\n   * @public\n   */\n  updateOptions(options, reset = false): void {\n    if (reset) this._initializeOptions(options, DefaultOptions);\n    else this._initializeOptions(options, this.optionsStore.options);\n\n    this.optionsStore.viewDate.setLocalization(\n      this.optionsStore.options.localization\n    );\n    this.display.refreshCurrentView();\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Toggles the picker open or closed. If the picker is disabled, nothing will happen.\n   * @public\n   */\n  toggle(): void {\n    if (this._isDisabled) return;\n    this.display.toggle();\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Shows the picker unless the picker is disabled.\n   * @public\n   */\n  show(): void {\n    if (this._isDisabled) return;\n    this.display.show();\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Hides the picker unless the picker is disabled.\n   * @public\n   */\n  hide(): void {\n    this.display.hide();\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Disables the picker and the target input field.\n   * @public\n   */\n  disable(): void {\n    this._isDisabled = true;\n    // todo this might be undesired. If a dev disables the input field to\n    // only allow using the picker, this will break that.\n    this.optionsStore.input?.setAttribute('disabled', 'disabled');\n    this.display.hide();\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Enables the picker and the target input field.\n   * @public\n   */\n  enable(): void {\n    this._isDisabled = false;\n    this.optionsStore.input?.removeAttribute('disabled');\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Clears all the selected dates\n   * @public\n   */\n  clear(): void {\n    this.optionsStore.input.value = '';\n    this.dates.clear();\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Allows for a direct subscription to picker events, without having to use addEventListener on the element.\n   * @param eventTypes See Namespace.Events\n   * @param callbacks Function to call when event is triggered\n   * @public\n   */\n  subscribe(\n    eventTypes: string | string[],\n    callbacks: (event: any) => void | ((event: any) => void)[] //eslint-disable-line @typescript-eslint/no-explicit-any\n  ): { unsubscribe: () => void } | { unsubscribe: () => void }[] {\n    if (typeof eventTypes === 'string') {\n      eventTypes = [eventTypes];\n    }\n    let callBackArray: any[]; //eslint-disable-line @typescript-eslint/no-explicit-any\n    if (!Array.isArray(callbacks)) {\n      callBackArray = [callbacks];\n    } else {\n      callBackArray = callbacks;\n    }\n\n    if (eventTypes.length !== callBackArray.length) {\n      Namespace.errorMessages.subscribeMismatch();\n    }\n\n    const returnArray = [];\n\n    for (let i = 0; i < eventTypes.length; i++) {\n      const eventType = eventTypes[i];\n      if (!Array.isArray(this._subscribers[eventType])) {\n        this._subscribers[eventType] = [];\n      }\n\n      this._subscribers[eventType].push(callBackArray[i]);\n\n      returnArray.push({\n        unsubscribe: this._unsubscribe.bind(\n          this,\n          eventType,\n          this._subscribers[eventType].length - 1\n        ),\n      });\n\n      if (eventTypes.length === 1) {\n        return returnArray[0];\n      }\n    }\n\n    return returnArray;\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  /**\n   * Hides the picker and removes event listeners\n   */\n  dispose() {\n    this.display.hide();\n    // this will clear the document click event listener\n    this.display._dispose();\n    this._eventEmitters.destroy();\n    this.optionsStore.input?.removeEventListener(\n      'change',\n      this._inputChangeEvent\n    );\n    if (this.optionsStore.options.allowInputToggle) {\n      this.optionsStore.input?.removeEventListener(\n        'click',\n        this._openClickEvent\n      );\n      this.optionsStore.input?.removeEventListener(\n        'focus',\n        this._openClickEvent\n      );\n    }\n    this.optionsStore.toggle?.removeEventListener(\n      'click',\n      this._toggleClickEvent\n    );\n    this.optionsStore.toggle?.removeEventListener(\n      'keydown',\n      this._handleToggleKeydown\n    );\n    this._subscribers = {};\n  }\n\n  /**\n   * Updates the options to use the provided language.\n   * THe language file must be loaded first.\n   * @param language\n   */\n  locale(language: string) {\n    const asked = loadedLocales[language];\n    if (!asked) return;\n    this.updateOptions({\n      localization: asked,\n    });\n  }\n\n  /**\n   * Triggers an event like ChangeEvent when the picker has updated the value\n   * of a selected date.\n   * @param event Accepts a BaseEvent object.\n   * @private\n   */\n  private _triggerEvent(event: BaseEvent) {\n    event.viewMode = this.optionsStore.currentView;\n\n    const isChangeEvent = event.type === Namespace.events.change;\n    if (isChangeEvent) {\n      const { date, oldDate, isClear } = event as ChangeEvent;\n      if (\n        (date && oldDate && date.isSame(oldDate)) ||\n        (!isClear && !date && !oldDate)\n      ) {\n        return;\n      }\n      this._handleAfterChangeEvent(event as ChangeEvent);\n\n      this.optionsStore.input?.dispatchEvent(\n        //eslint-disable-next-line @typescript-eslint/no-explicit-any\n        new CustomEvent('change', { detail: event as any })\n      );\n\n      if (this.optionsStore.toggle) {\n        let label = this.optionsStore.options.localization.toggleAriaLabel;\n        if (this.dates.picked.length > 0) {\n          const picked = this.dates.picked.map((x) => x.format()).join(', ');\n          label = `${label}, ${picked}`;\n        }\n\n        this.optionsStore.toggle.ariaLabel = label;\n      }\n    }\n\n    this.optionsStore.element.dispatchEvent(\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      new CustomEvent(event.type, { detail: event as any })\n    );\n\n    //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if ((window as any).jQuery) {\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const $ = (window as any).jQuery;\n\n      if (isChangeEvent && this.optionsStore.input) {\n        $(this.optionsStore.input).trigger(event);\n      } else {\n        $(this.optionsStore.element).trigger(event);\n      }\n    }\n\n    this._publish(event);\n  }\n\n  private _publish(event: BaseEvent) {\n    // return if event is not subscribed\n    if (!Array.isArray(this._subscribers[event.type])) {\n      return;\n    }\n\n    // Trigger callback for each subscriber\n    this._subscribers[event.type].forEach((callback) => {\n      callback(event);\n    });\n  }\n\n  /**\n   * Fires a ViewUpdate event when, for example, the month view is changed.\n   * @private\n   */\n  private _viewUpdate() {\n    this._triggerEvent({\n      type: Namespace.events.update,\n      viewDate: this.optionsStore.viewDate.clone,\n    } as ViewUpdateEvent);\n  }\n\n  private _unsubscribe(eventName, index) {\n    this._subscribers[eventName].splice(index, 1);\n  }\n\n  /**\n   * Merges two Option objects together and validates options type\n   * @param config new Options\n   * @param mergeTo Options to merge into\n   * @param includeDataset When true, the elements data-td attributes will be included in the\n   * @private\n   */\n  private _initializeOptions(\n    config: Options,\n    mergeTo: Options,\n    includeDataset = false\n  ): void {\n    let newConfig = OptionConverter.deepCopy(config);\n    newConfig = OptionConverter._mergeOptions(newConfig, mergeTo);\n    if (includeDataset)\n      newConfig = OptionConverter._dataToOptions(\n        this.optionsStore.element,\n        newConfig\n      );\n\n    OptionConverter._validateConflicts(newConfig);\n\n    newConfig.viewDate = newConfig.viewDate.setLocalization(\n      newConfig.localization\n    );\n\n    if (!this.optionsStore.viewDate.isSame(newConfig.viewDate)) {\n      this.optionsStore.viewDate = newConfig.viewDate;\n    }\n\n    /**\n     * Sets the minimum view allowed by the picker. For example the case of only\n     * allowing year and month to be selected but not date.\n     */\n    if (newConfig.display.components.year) {\n      this.optionsStore.minimumCalendarViewMode = 2;\n    }\n    if (newConfig.display.components.month) {\n      this.optionsStore.minimumCalendarViewMode = 1;\n    }\n    if (newConfig.display.components.date) {\n      this.optionsStore.minimumCalendarViewMode = 0;\n    }\n\n    this.optionsStore.currentCalendarViewMode = Math.max(\n      this.optionsStore.minimumCalendarViewMode,\n      this.optionsStore.currentCalendarViewMode\n    );\n\n    // Update view mode if needed\n    if (\n      CalendarModes[this.optionsStore.currentCalendarViewMode].name !==\n      newConfig.display.viewMode\n    ) {\n      this.optionsStore.currentCalendarViewMode = Math.max(\n        CalendarModes.findIndex((x) => x.name === newConfig.display.viewMode),\n        this.optionsStore.minimumCalendarViewMode\n      );\n    }\n\n    if (this.display?.isVisible) {\n      this.display._update('all');\n    }\n\n    if (\n      newConfig.display.components.useTwentyfourHour &&\n      newConfig.localization.hourCycle === undefined\n    )\n      newConfig.localization.hourCycle = 'h24';\n    else if (newConfig.localization.hourCycle === undefined) {\n      newConfig.localization.hourCycle = guessHourCycle(\n        newConfig.localization.locale\n      );\n    }\n\n    this.optionsStore.options = newConfig;\n\n    if (\n      newConfig.restrictions.maxDate &&\n      this.viewDate.isAfter(newConfig.restrictions.maxDate)\n    )\n      this.viewDate = newConfig.restrictions.maxDate.clone;\n\n    if (\n      newConfig.restrictions.minDate &&\n      this.viewDate.isBefore(newConfig.restrictions.minDate)\n    )\n      this.viewDate = newConfig.restrictions.minDate.clone;\n  }\n\n  /**\n   * Checks if an input field is being used, attempts to locate one and sets an\n   * event listener if found.\n   * @private\n   */\n  private _initializeInput() {\n    if (this.optionsStore.element.tagName == 'INPUT') {\n      this.optionsStore.input = this.optionsStore.element as HTMLInputElement;\n    } else {\n      const query = this.optionsStore.element.dataset.tdTargetInput;\n      if (query == undefined || query == 'nearest') {\n        this.optionsStore.input =\n          this.optionsStore.element.querySelector('input');\n      } else {\n        this.optionsStore.input =\n          this.optionsStore.element.querySelector(query);\n      }\n    }\n\n    if (!this.optionsStore.input) return;\n\n    if (!this.optionsStore.input.value && this.optionsStore.options.defaultDate)\n      this.optionsStore.input.value = this.dates.formatInput(\n        this.optionsStore.options.defaultDate\n      );\n\n    this.optionsStore.input.addEventListener('change', this._inputChangeEvent);\n    if (this.optionsStore.options.allowInputToggle) {\n      this.optionsStore.input.addEventListener('click', this._openClickEvent);\n      this.optionsStore.input.addEventListener('focus', this._openClickEvent);\n    }\n\n    if (this.optionsStore.input.value) {\n      this._inputChangeEvent();\n    }\n  }\n\n  /**\n   * Attempts to locate a toggle for the picker and sets an event listener\n   * @private\n   */\n  private _initializeToggle() {\n    if (this.optionsStore.options.display.inline) return;\n    let query = this.optionsStore.element.dataset.tdTargetToggle;\n    if (query == 'nearest') {\n      query = '[data-td-toggle=\"datetimepicker\"]';\n    }\n    this.optionsStore.toggle =\n      query == undefined\n        ? this.optionsStore.element\n        : this.optionsStore.element.querySelector(query);\n\n    if (this.optionsStore.toggle == undefined) return;\n\n    this.optionsStore.toggle.addEventListener('click', this._toggleClickEvent);\n\n    if (this.optionsStore.toggle !== this.optionsStore.element) {\n      this.optionsStore.toggle.addEventListener(\n        'keydown',\n        this._handleToggleKeydown.bind(this)\n      );\n    }\n  }\n\n  /**\n   * If the option is enabled this will render the clock view after a date pick.\n   * @param e change event\n   * @private\n   */\n  private _handleAfterChangeEvent(e: ChangeEvent) {\n    if (\n      // options is disabled\n      !this.optionsStore.options.promptTimeOnDateChange ||\n      this.optionsStore.options.multipleDates ||\n      this.optionsStore.options.display.inline ||\n      this.optionsStore.options.display.sideBySide ||\n      // time is disabled\n      !this.display._hasTime ||\n      // clock component is already showing\n      this.display.widget\n        ?.getElementsByClassName(Namespace.css.show)[0]\n        .classList.contains(Namespace.css.timeContainer)\n    )\n      return;\n\n    // First time ever. If useCurrent option is set to true (default), do nothing\n    // because the first date is selected automatically.\n    // or date didn't change (time did) or date changed because time did.\n    if (\n      (!e.oldDate && this.optionsStore.options.useCurrent) ||\n      (e.oldDate && e.date?.isSame(e.oldDate))\n    ) {\n      return;\n    }\n\n    clearTimeout(this._currentPromptTimeTimeout);\n    this._currentPromptTimeTimeout = setTimeout(() => {\n      if (this.display.widget) {\n        this._eventEmitters.action.emit({\n          e: {\n            currentTarget: this.display.widget.querySelector(\n              '[data-action=\"togglePicker\"]'\n            ),\n          },\n          action: ActionTypes.togglePicker,\n        });\n      }\n    }, this.optionsStore.options.promptTimeOnDateChangeTransitionDelay);\n  }\n\n  /**\n   * Event for when the input field changes. This is a class level method so there's\n   * something for the remove listener function.\n   * @private\n   */\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _inputChangeEvent = (event?: any) => {\n    const internallyTriggered = event?.detail;\n    if (internallyTriggered) return;\n\n    const setViewDate = () => {\n      if (this.dates.lastPicked)\n        this.optionsStore.viewDate = this.dates.lastPicked.clone;\n    };\n\n    const value = this.optionsStore.input.value;\n    if (\n      this.optionsStore.options.multipleDates ||\n      this.optionsStore.options.dateRange\n    ) {\n      try {\n        const valueSplit = value.split(\n          this.optionsStore.options.multipleDatesSeparator\n        );\n        for (let i = 0; i < valueSplit.length; i++) {\n          this.dates.setFromInput(valueSplit[i], i);\n        }\n        setViewDate();\n      } catch {\n        console.warn(\n          'TD: Something went wrong trying to set the multipleDates values from the input field.'\n        );\n      }\n    } else {\n      this.dates.setFromInput(value, 0);\n      setViewDate();\n    }\n  };\n\n  /**\n   * Event for when the toggle is clicked. This is a class level method so there's\n   * something for the remove listener function.\n   * @private\n   */\n  private _toggleClickEvent = () => {\n    if (\n      (this.optionsStore.element as HTMLInputElement)?.disabled ||\n      this.optionsStore.input?.disabled ||\n      //if we just have the input and allow input toggle is enabled, then don't cause a toggle\n      (this.optionsStore.toggle.nodeName === 'INPUT' &&\n        (this.optionsStore.toggle as HTMLInputElement)?.type === 'text' &&\n        this.optionsStore.options.allowInputToggle)\n    )\n      return;\n    this.toggle();\n  };\n\n  private _handleToggleKeydown(event: KeyboardEvent) {\n    if (event.key !== ' ' && event.key !== 'Enter') return;\n\n    this.optionsStore.toggle.click();\n\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  /**\n   * Event for when the toggle is clicked. This is a class level method so there's\n   * something for the remove listener function.\n   * @private\n   */\n  private _openClickEvent = () => {\n    if (\n      (this.optionsStore.element as HTMLInputElement)?.disabled ||\n      this.optionsStore.input?.disabled\n    )\n      return;\n    if (!this.display.isVisible) this.show();\n  };\n}\n\n/**\n * Whenever a locale is loaded via a plugin then store it here based on the\n * locale name. E.g. loadedLocales['ru']\n */\nconst loadedLocales = {};\n\n// noinspection JSUnusedGlobalSymbols\n/**\n * Called from a locale plugin.\n * @param l locale object for localization options\n */\nconst loadLocale = (l) => {\n  if (loadedLocales[l.name]) return;\n  loadedLocales[l.name] = l.localization;\n};\n\n/**\n * A sets the global localization options to the provided locale name.\n * `loadLocale` MUST be called first.\n * @param l\n */\nconst locale = (l: string) => {\n  const asked = loadedLocales[l];\n  if (!asked) return;\n  DefaultOptions.localization = asked;\n};\n\n// noinspection JSUnusedGlobalSymbols\n/**\n * Called from a plugin to extend or override picker defaults.\n * @param plugin\n * @param option\n */\nconst extend = function (plugin, option = undefined) {\n  if (!plugin) return tempusDominus;\n  if (!plugin.installed) {\n    // install plugin only once\n    plugin(\n      option,\n      { TempusDominus, Dates, Display, DateTime, Namespace },\n      tempusDominus\n    );\n    plugin.installed = true;\n  }\n  return tempusDominus;\n};\n\nconst version = 'v6.10.4';\n\nconst tempusDominus = {\n  TempusDominus,\n  extend,\n  loadLocale,\n  locale,\n  Namespace,\n  DefaultOptions,\n  DateTime,\n  Unit,\n  version,\n  DefaultEnLocalization,\n};\n\nexport {\n  TempusDominus,\n  extend,\n  loadLocale,\n  locale,\n  Namespace,\n  DefaultOptions,\n  DateTime,\n  Unit,\n  version,\n  DateTimeFormatOptions,\n  Options,\n  DefaultEnLocalization,\n};\n", "import { Controller } from '@hotwired/stimulus'\n\nexport default class extends Controller {\n  connect() {\n    // loops over filters and checks if any are active\n    let controller = this\n    document.querySelectorAll('.filter').forEach(function (filter) {\n      controller.checkFilterState(filter)\n    })\n  }\n\n  toggleFilterMenu(event) {\n    // prevents the click triggering the outside click function\n    event.stopPropagation()\n\n    // closes datepicker if open\n    document.querySelectorAll('.tempus-dominus-widget').forEach(function (datepicker) {\n      datepicker.classList.remove('show')\n    })\n\n    // find the open filter\n    let openFilter = this.element.querySelector('.filter__form.display--block')\n\n    // closes all other filters\n    document.querySelectorAll('.filter__form').forEach(function (filter) {\n      filter.classList.remove('display--block')\n    })\n\n    // from the event target we find the current filter form\n    let clickedFilter = event.target.closest('.filter').querySelector('.filter__form')\n\n    // if open filter is not the current filter it doesn't toggle the class again\n    if (openFilter != clickedFilter) {\n      // toggles the filters filter form to show or hide\n      clickedFilter.classList.toggle('display--block')\n    }\n  }\n\n  closeOutside(event) {\n    // finds the open menu\n    let openFilter = this.element.querySelector('.filter__form.display--block')\n    let openDatepicker = document.getElementsByClassName('tempus-dominus-widget')\n\n    // returns if no open menu or click was on menu or inside it\n    if (openFilter != null && (openFilter === event.target || openFilter.contains(event.target))) return\n\n    // returns if either dropdown datepicker is clicked\n    if (openDatepicker != null) {\n      for (const datepicker of openDatepicker) {\n        if (datepicker === event.target || datepicker.contains(event.target)) {\n          if (event.target.classList.contains('day')) {\n            datepicker.classList.remove('show')\n          }\n          return\n        }\n      }\n    }\n\n    // closes all menus\n    document.querySelectorAll('.filter__form').forEach(function (filter) {\n      filter.classList.remove('display--block')\n    })\n  }\n\n  updateFilterState(event) {\n    // takes the event and finds its filter to update the filter state\n    let filter = event.target.closest('.filter')\n    this.checkFilterState(filter)\n  }\n\n  checkFilterState(filter) {\n    // loops over the filters inputs and sets state to true if any are selected\n    let state = false\n\n    filter.querySelectorAll('input', 'select', 'textarea').forEach(function (input) {\n      if (input.type == 'checkbox') {\n        if (input.checked) {\n          state = true\n        }\n      } else if (input.type == 'select-multiple' || input.type == 'number' || input.type == 'text') {\n        if (input.value.length > 0) {\n          state = true\n        }\n      }\n    })\n\n    // updates filter name state if any active filters\n    if (state) {\n      filter.querySelector('.filter__name').classList.add('filter__name--active')\n    } else {\n      filter.querySelector('.filter__name').classList.remove('filter__name--active')\n    }\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\n/** Example usage (FILTER SELECT OPTIONS):\n * <div data-controller=\"form\">\n *   <select data-form-target=\"parentSelect\" data-parent-id=\"client_project\" data-action=\"change->form#updateChildOptions\">\n *     <option value=\"1\">Parent 1</option>\n *     <option value=\"2\">Parent 2</option>\n *   </select>\n *\n *   <select data-form-target=\"childSelect parentSelect\" data-child-id=\"client_project\">\n *     <option value=\"1\" data-selected-option-id=\"1\">Child 1</option>\n *     <option value=\"2\" data-selected-option-id=\"1\">Child 2</option>\n *   </select>\n *\n * </div>\n * Show/hide childSelect options based on the parentSelect selected option\n **/\n\n/** Example usage (TRANSFER DATA TO INPUT):\n * <div data-controller=\"form\">\n *   <select id=\"client\" class=\"select\" data-show-hide-target=\"option\" data-action=\"change->form#transferInfoToInput\">\n *     <option value=\"netomnia\" data-info=\"netomnia_admin@example.com, netomnia_commercial@example.com\">Netomnia</option>\n *     <option value=\"fibrus\" data-info=\"fibrus_admin@example.com, fibrus_commercial@example.com\">Fibrus</option>\n *   </select>\n *\n *   <input class=\"string\" type=\"text\" value=\"\" data-form-target=\"input\"></input>\n * </div>\n **/\n\nexport default class extends Controller {\n  static targets = ['parentSelect', 'childSelect', 'input']\n\n  initialize() {\n    this.parentInitialValues = {}\n    this.childrenOptions = {}\n  }\n\n  // FILTER SELECT OPTIONS LOGIC\n  parentSelectTargetConnected(target) {\n    // build the initial selected options for the parents eg. { client_project: '1', project_layer: '3' }\n    this.parentInitialValues[target.dataset.parentId] = target.selectedOptions[0].value\n  }\n\n  childSelectTargetConnected(target) {\n    // build the initial options for the children eg. { client_project: [option_html_1, option_html_2], project_layer: [option_html_1, option_html_2] }\n    this.childrenOptions[target.dataset.childId] = Array.from(target.options)\n    const parent = this.element.querySelector(`[data-parent-id=\"${target.dataset.childId}\"]`)\n    this.filterOptions(target.dataset.childId, parent.selectedOptions[0].value)\n  }\n\n  updateChildOptions(event) {\n    this.filterOptions(event.currentTarget.dataset.parentId, event.currentTarget.value)\n  }\n\n  filterOptions(parentId, selectedOptionId) {\n    const children = this.element.querySelectorAll(`[data-child-id=\"${parentId}\"]`)\n    const parent = this.element.querySelector(`[data-parent-id=\"${parentId}\"]`)\n\n    children.forEach((child) => {\n      this.childrenOptions[parentId].forEach((option) => {\n        if (option.dataset.selectedOptionId === selectedOptionId || option.dataset.selectedOptionId === undefined) {\n          child.insertAdjacentElement('beforeend', option)\n        } else {\n          if (parent.selectedOptions[0].value !== this.parentInitialValues[parentId]) {\n            // Unset the selected option when we change parent. So any request are not automatically fired. [https://github.com/mmtmio/novonet-rails/pull/539]\n            child.value = ''\n          }\n\n          // removes the option element from the DOM. Does not affect the initial array itself\n          option.remove()\n        }\n      })\n    })\n  }\n\n  // TRANSFER DATA TO INPUT LOGIC\n  transferInfoToInput(event) {\n    this.inputTarget.value = event.currentTarget.selectedOptions[0].dataset.info\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\n/* Example:\n\n<nav id=\"site-navigation\" class=\"main-navigation\" role=\"navigation\" data-controller=\"menu\" data-action=\"click@window->menu#closeOutside\">\n  <button class=\"menu-toggle hamburger hamburger--mobile-only hamburger--spin\" type=\"button\" data-action=\"click->menu#toggleHamburger\">\n    <span class=\"hamburger-box\">\n      <span class=\"hamburger-inner\"></span>\n    </span>\n  </button>\n\n  <ul id=\"primary-menu\" class=\"menu\">\n    <li class=\"menu-item\">\n      <%= link_to 'Text', _path %>\n    </li>\n\n    <li class=\"menu-item menu-item--sub\">\n      <div class=\"primary-menu__link\" data-action=\"click->menu#toggleSubMenu\">\n        Text 2<i class=\"ml--2 fa-solid fa-sm fa-chevron-down\"></i>\n      </div>\n\n      <ul class=\"menu menu--sub\">\n        <li class=\"menu-item\">\n          <%= link_to 'Text 3', _path, class: 'primary-menu__link' %>\n        </li>\n\n        <li class=\"menu-item \">\n          <%= link_to 'Text 4', _path, class: 'primary-menu__link' %>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n*/\n\nexport default class extends Controller {\n  toggleHamburger(event) {\n    // from the event target the js traverses up to .hamburger (it's fine if they click directly on then class)\n    // it toggles .is-active on the hamburger and primary menu\n    event.target.closest('.hamburger').classList.toggle('is-active')\n    document.querySelector('#primary-menu').classList.toggle('is-active')\n  }\n\n  toggleSubMenu(event) {\n    // prevents the click triggering the outside click function\n    event.stopPropagation()\n\n    // find the open menu\n    let openMenu = this.element.querySelector('.menu--sub.display--block')\n\n    // closes all sub menus and chevrons\n    this.closeAllMenus()\n\n    // from the event target we find the current sub menu\n    let clickedMenu = event.target.closest('.menu-item--sub').querySelector('.menu--sub')\n    // from the event target we find the current sub menu\n    let clickedChevron = event.target.closest('.menu-item--sub').querySelector('.menu-item__chevron')\n\n    // if open menu is not the current menu it doesn't toggle the class again\n    if (openMenu != clickedMenu) {\n      // toggles the sub menu to show or hide\n      clickedMenu.classList.toggle('display--block')\n      // toggles the chevron to open or close\n      clickedChevron.classList.toggle('menu-item__chevron--open')\n    }\n  }\n\n  toggleActionMenu(event) {\n    // from the event target the js traverses up to .action-menu\n    // it toggles .action-menu--show on the action menu\n    let actionMenu = event.target.closest('.action-menu')\n\n    // close all non-action menus\n    this.closeAllMenus(actionMenu)\n\n    // toggle the current menu\n    actionMenu.classList.toggle('action-menu--show')\n  }\n\n  closeOutside(event) {\n    // find the open menu within the element\n    let openMenu = this.element.querySelector('.menu--sub.display--block, .menu-item__chevron.menu-item__chevron--open, .action-menu.action-menu--show')\n\n    // break if 1. no open menu, or 2. click is on stimulus element (the container), or 3. click is in the dropdown menu\n    // and if the click is not on a link or a button\n    if ((openMenu == null || openMenu === event.target || openMenu.contains(event.target)) && !this.isElementALinkOrButton(event.target)) {\n      return\n    }\n\n    // close current open menu\n    this.closeAllMenus()\n  }\n\n  closeAllMenus(exceptFor) {\n    document.querySelectorAll('.menu--sub, .menu-item__chevron, .action-menu').forEach((menu) => {\n      if (menu !== exceptFor) {\n        menu.classList.remove('display--block', 'menu-item__chevron--open', 'action-menu--show')\n      }\n    })\n  }\n\n  // checks if the element is a link or a form button or a child of a link or a form button\n  isElementALinkOrButton(element) {\n    return ['A', 'BUTTON'].includes(element.tagName) || element.closest('A') || element.closest('BUTTON')\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\n/* Example:\n\n<div class=\"modal-screen\" data-controller=\"modal\">\n  <div class=\"modal-bg\" data-action=\"click->modal#remove\"></div>\n\n  <div class=\"modal\">\n    <div class=\"modal__top\">\n      <div class=\"modal__title\"></div>\n\n      <a class=\"ml--4 font-size--3 link--brand cursor--pointer\" data-action=\"click->modal#remove\">\n        <i class=\"fa-solid fa-sm fa-times\"></i>\n      </a>\n    </div>\n\n    <div class=\"modal__middle\">\n      Modal Content\n    </div>\n\n    <div class=\"modal__bottom\">\n      Buttons\n    </div>\n  </div>\n</div>\n*/\n\nexport default class extends Controller {\n  connect() {\n    if (this.element.classList.contains('modal-screen') && !this.element.classList.contains('display--none')) {\n      // prevents background scrolling\n      document.body.style.overflow = 'hidden'\n    }\n  }\n\n  disconnect() {\n    document.body.style.overflow = 'auto'\n  }\n\n  openModal(event) {\n    document.getElementById(event.currentTarget.dataset.modalId).classList.remove('display--none')\n  }\n\n  toggleModal(event) {\n    document.getElementById(event.currentTarget.dataset.modalId).classList.toggle('display--none')\n  }\n\n  remove() {\n    this.element.remove()\n  }\n\n  removeFrame() {\n    this.element.parentNode.remove()\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nimport Uppy from '@uppy/core'\nimport DragDrop from '@uppy/drag-drop'\nimport Informer from '@uppy/informer'\nimport AwsS3 from '@uppy/aws-s3'\nimport Compressor from '@uppy/compressor'\nimport ThumbnailGenerator from '@uppy/thumbnail-generator'\nimport * as Sentry from '@sentry/browser'\n\n/** Example usage:\n * app/views/templates/base/partials/inputs/_multi_uploader.html.erb\n * Use on Table-style uploaders\n * Use on Cocoon-style Autosaving uploaders\n **/\n\nexport default class extends Controller {\n  static targets = ['cocoonAddFields', 'uppyInput', 'progressContainer', 'progressBar']\n\n  static values = {\n    inputName: String,\n    presignEndpoint: String,\n    permittedFileTypes: Array,\n    buttonHint: { type: String, default: 'Upload a File' },\n    buttonIcon: { type: String, default: '' },\n    maxFilesCount: { type: Number, default: 0 },\n    maxFileSize: { type: Number, default: 50000000 },\n    autosave: { type: Boolean, default: false },\n    uploading: { type: Boolean, default: false },\n  }\n\n  connect() {\n    let form = this.element.closest('form')\n    let presignEndpoint = this.presignEndpointValue\n    let cocoon_count = 0\n    let upload_count = 0 // for checking for concurrent uploads\n\n    this.uppyInputTarget.innerHTML = ''\n\n    this.uppy = new Uppy({\n      autoProceed: true,\n      infoTimeout: 604800, // length of time to show the informer error for (1 week)\n      restrictions: {\n        maxFileSize: this.maxFileSizeValue,\n        allowedFileTypes: this.permittedFileTypesValue.length == 0 ? null : this.permittedFileTypesValue,\n        maxNumberOfFiles: this.maxFilesCountValue,\n      },\n    })\n      .use(DragDrop, {\n        inputName: this.inputNameValue,\n        target: this.uppyInputTarget,\n        note: this.buttonHintValue,\n        onDragOver: (event) => {\n          this.uppyInputTarget.classList.add('uppy-input--onDragOver')\n        },\n        onDragLeave: (event) => {\n          this.uppyInputTarget.classList.remove('uppy-input--onDragOver')\n        },\n        onDrop: (event) => {\n          this.uppyInputTarget.classList.remove('uppy-input--onDragOver')\n        },\n        locale: {\n          strings: {\n            dropHereOr: 'Multi-upload files by clicking, or drag & drop',\n          },\n        },\n      })\n      .use(Informer, {\n        target: '.uppy-Informer-errors',\n      })\n      .use(AwsS3, {\n        companionUrl: '/',\n        limit: 5, // default: 5\n        timeout: 45 * 1000, // default: 30000\n        getUploadParameters(file) {\n          return fetch(`${presignEndpoint}?filename=${file.name}&type=${file.type}`, {\n            method: 'get',\n            headers: {\n              accept: 'application/json',\n              'content-type': 'application/json',\n            },\n          })\n            .then((response) => {\n              return response.json()\n            })\n            .then((data) => {\n              return {\n                method: data.method,\n                url: data.url,\n                fields: data.fields,\n              }\n            })\n            .catch((err) => {\n              Sentry.captureMessage('Multi-Upload JS Controller Failed to Complete AWS Request', { extra: { err: err, params: file } })\n            })\n        },\n      })\n      .use(Compressor, {\n        quality: 0.6, // default: 0.6\n        limit: 10, // default: 10\n      })\n      .use(ThumbnailGenerator, {\n        thumbnailWidth: 300,\n        thumbnailHeight: 300,\n      })\n      .on('file-added', (file) => {\n        // these are only triggered after the cocoonAddFieldsTarget is clicked\n        $(document).on('cocoon:before-insert', (event, added_fields) => {\n          // remove the event listener after it's been triggered\n          $(document).off('cocoon:before-insert')\n\n          file.currentTarget = added_fields[0]\n          file.currentTarget.querySelector('.nested-field__name').innerText = file.name\n\n          if (file.currentTarget.classList.contains('cocoon-watch')) {\n            // increment cocoon count each time a cocoon field is inserted so we have a unique id\n            cocoon_count++\n\n            // set container id and cocoon_id field for turbo streams replace action\n            let cocoonIdField = file.currentTarget.querySelector('#cocoon_id')\n            if (cocoonIdField != null) {\n              file.currentTarget.id = file.currentTarget.id + '_' + cocoon_count\n              cocoonIdField.value = file.currentTarget.id\n            }\n          }\n        })\n\n        // remove the event listener after it's been triggered\n        $(document).on('cocoon:after-insert', (event, added_fields) => {\n          $(document).off('cocoon:after-insert')\n        })\n\n        // trigger the cocoon insert click event\n        this.cocoonAddFieldsTarget.click()\n      })\n      .on('upload-progress', (file, progress) => {\n        let current_progress = Math.round((progress.bytesUploaded / progress.bytesTotal) * 100)\n        let progress_text = file.currentTarget.querySelector('.progress-text')\n\n        if (progress_text != null) {\n          progress_text.innerText = current_progress.toString() + '%'\n        }\n      })\n      .on('upload', (data) => {\n        this.progressContainerTarget.classList.remove('display--none')\n        upload_count++\n        // add uploading value attribute of 'true' on the uploader\n        this.uploadingValue = true\n\n        // disable the form submit buttons while file uploading (if it is an ordinary form)\n        if (this.autosaveValue != true) {\n          form.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]').forEach((submit) => {\n            submit.disabled = true\n          })\n        }\n      })\n      .on('progress', (progress) => {\n        this.progressBarTarget.style.width = progress.toString() + '%'\n      })\n      .on('upload-success', (file) => {\n        // construct uploaded file data in the format that Shrine expects\n        let uploadedFileData = JSON.stringify({\n          id: file.meta['key'].match(/^cache\\/(.+)/)[1], // object key without prefix\n          storage: 'cache',\n          metadata: {\n            size: file.size,\n            filename: file.name,\n            mime_type: file.type,\n          },\n        })\n\n        let file_input = file.currentTarget.querySelector('input[data-name=\"file\"]')\n\n        // set the uploaded file data on the file input\n        if (file_input) file_input.value = uploadedFileData\n\n        // hide progress after successful upload\n        let progressTracker = file.currentTarget.querySelector('.existing-file__progress')\n        if (progressTracker) progressTracker.classList.add('display--none')\n\n        // autosave\n        if (this.autosaveValue == true) file.currentTarget.querySelector('.nested-field__autosave').click()\n      })\n      .on('thumbnail:generated', (file, preview) => {\n        let blobField = file.currentTarget.querySelector('.blob')\n\n        if (blobField) {\n          file.currentTarget.querySelector('.existing-file__preview').style.backgroundImage = `url(\"${preview}\")`\n          blobField.value = preview\n        }\n      })\n      .on('complete', () => {\n        this.progressContainerTarget.classList.add('display--none')\n        upload_count--\n        // set uploading value attribute to 'false' on the uploader\n        this.uploadingValue = false\n\n        // re-enable submit buttons if there are no other uploaders uploading\n        if (form && form.querySelectorAll('div[data-controller=\"upload\"][data-upload-uploading-value=\"true\"]').length === 0 && upload_count == 0) {\n          form.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]').forEach((submit) => {\n            submit.disabled = false\n          })\n        }\n      })\n      .on('error', (error) => {\n        Sentry.captureMessage('Multi-Upload JS Controller Error', { extra: { error: error } })\n      })\n      .on('upload-error', (file, error, response) => {\n        Sentry.captureMessage('Multi-Upload JS Controller Upload Error', { extra: { file: file, error: error, response: response } })\n      })\n\n    if (this.buttonIconValue.length > 0) {\n      this.uppyInputTarget.querySelector('.uppy-DragDrop-label').insertAdjacentHTML('beforebegin', `${this.buttonIconValue}`)\n    }\n\n    // remove cocoon removed files from uppy store so user can reupload the same file\n    $(document).on('cocoon:before-remove', (event, removed_field) => {\n      // if cocoon element is removed for current uppy instance\n      if (this.element.contains(removed_field[0])) {\n        let removed_filename = removed_field[0].querySelector('.nested-field__name').innerText\n\n        // remove the correct file by comparing the file names\n        Object.values(this.uppy.store.state.files).forEach((file) => {\n          if (file.name == removed_filename) {\n            this.uppy.removeFile(file.id)\n          }\n        })\n      }\n    })\n  }\n\n  disconnect() {\n    this.uppy.close()\n  }\n}\n", "export default function has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport has from './hasProperty.js';\n\nfunction insertReplacement(source, rx, replacement) {\n  const newParts = [];\n  source.forEach(chunk => {\n    // When the source contains multiple placeholders for interpolation,\n    // we should ignore chunks that are not strings, because those\n    // can be JSX objects and will be otherwise incorrectly turned into strings.\n    // Without this condition we\u2019d get this: [object Object] hello [object Object] my <button>\n    if (typeof chunk !== 'string') {\n      return newParts.push(chunk);\n    }\n\n    return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n      if (raw !== '') {\n        newParts.push(raw);\n      } // Interlace with the `replacement` value\n\n\n      if (i < list.length - 1) {\n        newParts.push(replacement);\n      }\n    });\n  });\n  return newParts;\n}\n/**\n * Takes a string with placeholder variables like `%{smart_count} file selected`\n * and replaces it with values from options `{smart_count: 5}`\n *\n * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n *\n * @param {string} phrase that needs interpolation, with placeholders\n * @param {object} options with values that will be used to replace placeholders\n * @returns {any[]} interpolated\n */\n\n\nfunction interpolate(phrase, options) {\n  const dollarRegex = /\\$/g;\n  const dollarBillsYall = '$$$$';\n  let interpolated = [phrase];\n  if (options == null) return interpolated;\n\n  for (const arg of Object.keys(options)) {\n    if (arg !== '_') {\n      // Ensure replacement value is escaped to prevent special $-prefixed\n      // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n      // be escaped with \"$\" itself, and we need two in the resulting output.\n      let replacement = options[arg];\n\n      if (typeof replacement === 'string') {\n        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n      } // We create a new `RegExp` each time instead of using a more-efficient\n      // string replace so that the same argument can be replaced multiple times\n      // in the same phrase.\n\n\n      interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n    }\n  }\n\n  return interpolated;\n}\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nvar _apply = /*#__PURE__*/_classPrivateFieldLooseKey(\"apply\");\n\nexport default class Translator {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  constructor(locales) {\n    Object.defineProperty(this, _apply, {\n      value: _apply2\n    });\n    this.locale = {\n      strings: {},\n\n      pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);\n    } else {\n      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);\n    }\n  }\n\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n\n\n  translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(`missing string: ${key}`);\n    }\n\n    const string = this.locale.strings[key];\n    const hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        const plural = this.locale.pluralize(options.smart_count);\n        return interpolate(string[plural], options);\n      }\n\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n\n    return interpolate(string, options);\n  }\n\n}\n\nfunction _apply2(locale) {\n  if (!(locale != null && locale.strings)) {\n    return;\n  }\n\n  const prevLocale = this.locale;\n  this.locale = { ...prevLocale,\n    strings: { ...prevLocale.strings,\n      ...locale.strings\n    }\n  };\n  this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n}", "let _Symbol$for, _Symbol$for2;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\n/* eslint-disable max-classes-per-file */\n\n/* global AggregateError */\nimport Translator from '@uppy/utils/lib/Translator';\nimport ee from 'namespace-emitter';\nimport { nanoid } from 'nanoid/non-secure';\nimport throttle from 'lodash.throttle';\nimport DefaultStore from '@uppy/store-default';\nimport getFileType from '@uppy/utils/lib/getFileType';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport generateFileID from '@uppy/utils/lib/generateFileID';\nimport supportsUploadProgress from './supportsUploadProgress.js';\nimport getFileName from './getFileName.js';\nimport { justErrorsLogger, debugLogger } from './loggers.js';\nimport { Restricter, defaultOptions as defaultRestrictionOptions, RestrictionError } from './Restricter.js';\nconst packageJson = {\n  \"version\": \"3.0.6\"\n};\nimport locale from './locale.js';\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\n\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\n\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\n\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\n\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\n\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\n\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\n\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\n\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\n\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\n\nvar _checkAndCreateFileStateObject = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndCreateFileStateObject\");\n\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\n\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\n\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\n\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\n\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\n\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\n\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\n\n_Symbol$for = Symbol.for('uppy test: getPlugins');\n_Symbol$for2 = Symbol.for('uppy test: createUpload');\n\nclass Uppy {\n  /** @type {Record<string, BasePlugin[]>} */\n\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts \u2014 Uppy options\n   */\n  constructor(_opts) {\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    Object.defineProperty(this, _checkAndCreateFileStateObject, {\n      value: _checkAndCreateFileStateObject2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: defaultRestrictionOptions,\n      meta: {},\n      onBeforeFileAdded: currentFile => currentFile,\n      onBeforeUpload: files => files,\n      store: new DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    }; // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n\n    this.opts = { ...defaultOptions,\n      ..._opts,\n      restrictions: { ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    }; // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects \u2014 we set logger: justErrorsLogger in defaultOptions\n\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n\n    this.log(`Using Core v${this.constructor.VERSION}`);\n    this.i18nInit(); // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n    this.calculateProgress = throttle(this.calculateProgress.bind(this), 500, {\n      leading: true,\n      trailing: true\n    });\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: { ...this.opts.meta\n      },\n      info: [],\n      recoveredState: null\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new Restricter(() => this.opts, this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    }); // Exposing uppy object on window for debugging and testing\n\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n\n    return this;\n  }\n\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n\n    return this;\n  }\n\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n\n    return this;\n  }\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n\n\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n\n\n  setState(patch) {\n    this.store.setState(patch);\n  }\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n\n\n  getState() {\n    return this.store.getState();\n  }\n  /**\n   * Shorthand to set state for a specific file.\n   */\n\n\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Can\u2019t set state for ${fileID} (the file could have been removed)`);\n    }\n\n    this.setState({\n      files: { ...this.getState().files,\n        [fileID]: { ...this.getState().files[fileID],\n          ...state\n        }\n      }\n    });\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts,\n      restrictions: { ...this.opts.restrictions,\n        ...(newOpts && newOpts.restrictions)\n      }\n    };\n\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n\n    this.i18nInit();\n\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions();\n      });\n    } // Note: this is not the preact `setState`, it's an internal function that has the same name.\n\n\n    this.setState(); // so that UI re-renders with new options\n  }\n\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = { ...this.getState().files\n    };\n    const updatedFiles = {};\n    Object.keys(files).forEach(fileID => {\n      const updatedFile = { ...files[fileID]\n      };\n      updatedFile.progress = { ...updatedFile.progress,\n        ...defaultProgress\n      };\n      updatedFiles[fileID] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0\n    });\n    this.emit('reset-progress');\n  }\n\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n\n  setMeta(data) {\n    const updatedMeta = { ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = { ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = { ...updatedFiles[fileID],\n        meta: { ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n\n  setFileMeta(fileID, data) {\n    const updatedFiles = { ...this.getState().files\n    };\n\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n\n    const newMeta = { ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = { ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n\n\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n  /**\n   * Get all files in an array.\n   */\n\n\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = files.filter(_ref => {\n      let {\n        progress\n      } = _ref;\n      return !progress.uploadComplete && progress.uploadStarted;\n    });\n    const newFiles = files.filter(file => !file.progress.uploadStarted);\n    const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);\n    const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);\n    const pausedFiles = files.filter(file => file.isPaused);\n    const completeFiles = files.filter(file => file.progress.uploadComplete);\n    const erroredFiles = files.filter(file => file.error);\n    const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);\n    const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  /*\n  * @constructs\n  * @param { Error } error\n  * @param { undefined } file\n  */\n\n  /*\n  * @constructs\n  * @param { RestrictionError } error\n  * @param { UppyFile | undefined } file\n  */\n\n\n  validateRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(file, files);\n    } catch (err) {\n      return err;\n    }\n\n    return null;\n  }\n\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Create a file state object based on user-provided `addFile()` options.\n   *\n   * Note this is extremely side-effectful and should only be done when a file state object\n   * will be added to state immediately afterward!\n   *\n   * The `files` value is passed in because it may be updated by the caller without updating the store.\n   */\n\n\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n\n    const {\n      files\n    } = this.getState();\n\n    let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, file); // Users are asked to re-select recovered files without data,\n    // and to keep the progress, meta and everthing else, we only replace said data\n\n\n    if (files[newFile.id] && files[newFile.id].isGhost) {\n      newFile = { ...files[newFile.id],\n        data: file.data,\n        isGhost: false\n      };\n      this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n    }\n\n    this.setState({\n      files: { ...files,\n        [newFile.id]: newFile\n      }\n    });\n    this.emit('file-added', newFile);\n    this.emit('files-added', [newFile]);\n    this.log(`Added file: ${newFile.name}, ${newFile.id}, mime type: ${newFile.type}`);\n\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n\n    return newFile.id;\n  }\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n\n\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](); // create a copy of the files object only once\n\n\n    const files = { ...this.getState().files\n    };\n    const newFiles = [];\n    const errors = [];\n\n    for (let i = 0; i < fileDescriptors.length; i++) {\n      try {\n        let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,\n        // and to keep the progress, meta and everthing else, we only replace said data\n\n\n        if (files[newFile.id] && files[newFile.id].isGhost) {\n          newFile = { ...files[newFile.id],\n            data: fileDescriptors[i].data,\n            isGhost: false\n          };\n          this.log(`Replaced blob in a ghost file: ${newFile.name}, ${newFile.id}`);\n        }\n\n        files[newFile.id] = newFile;\n        newFiles.push(newFile);\n      } catch (err) {\n        if (!err.isRestriction) {\n          errors.push(err);\n        }\n      }\n    }\n\n    this.setState({\n      files\n    });\n    newFiles.forEach(newFile => {\n      this.emit('file-added', newFile);\n    });\n    this.emit('files-added', newFiles);\n\n    if (newFiles.length > 5) {\n      this.log(`Added batch of ${newFiles.length} files`);\n    } else {\n      Object.keys(newFiles).forEach(fileID => {\n        this.log(`Added file: ${newFiles[fileID].name}\\n id: ${newFiles[fileID].id}\\n type: ${newFiles[fileID].type}`);\n      });\n    }\n\n    if (newFiles.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n\n    if (errors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      errors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: errors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(errors, message);\n      } else {\n        const err = new Error(message);\n        err.errors = errors;\n        throw err;\n      }\n    }\n  }\n\n  removeFiles(fileIDs, reason) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = { ...files\n    };\n    const updatedUploads = { ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    }); // Remove files from the `fileIDs` list in each upload.\n\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n\n      const {\n        capabilities\n      } = this.getState();\n\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('individualCancellation is disabled');\n      }\n\n      updatedUploads[uploadID] = { ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    }; // If all files were removed - allow new uploads,\n    // and clear recoveredState\n\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID], reason);\n    });\n\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n\n  removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n\n    this.removeFiles([fileID], reason);\n  }\n\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return undefined;\n    }\n\n    const wasPaused = this.getFile(fileID).isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  }\n\n  pauseAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n\n  resumeAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n\n  retryAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const filesToRetry = Object.keys(updatedFiles).filter(file => {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  cancelAll(_temp) {\n    let {\n      reason = 'user'\n    } = _temp === void 0 ? {} : _temp;\n    this.emit('cancel-all', {\n      reason\n    }); // Only remove existing uploads if user is canceling\n\n    if (reason === 'user') {\n      const {\n        files\n      } = this.getState();\n      const fileIDs = Object.keys(files);\n\n      if (fileIDs.length) {\n        this.removeFiles(fileIDs, 'cancel-all');\n      }\n\n      this.setState({\n        totalProgress: 0,\n        error: null,\n        recoveredState: null\n      });\n    }\n  }\n\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  logout() {\n    this.iteratePlugins(plugin => {\n      if (plugin.provider && plugin.provider.logout) {\n        plugin.provider.logout();\n      }\n    });\n  }\n\n  calculateProgress(file, data) {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n    const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        bytesUploaded: data.bytesUploaded,\n        bytesTotal: data.bytesTotal,\n        percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n      }\n    });\n    this.calculateTotalProgress();\n  }\n\n  calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    const files = this.getFiles();\n    const inProgress = files.filter(file => {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n\n    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n\n    if (sizedFiles.length === 0) {\n      const progressMax = inProgress.length * 100;\n      const currentProgress = unsizedFiles.reduce((acc, file) => {\n        return acc + file.progress.percentage;\n      }, 0);\n      const totalProgress = Math.round(currentProgress / progressMax * 100);\n      this.setState({\n        totalProgress\n      });\n      return;\n    }\n\n    let totalSize = sizedFiles.reduce((acc, file) => {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    const averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    let uploadedSize = 0;\n    sizedFiles.forEach(file => {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(file => {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n\n    this.setState({\n      totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  /**\n   * Registers listeners for all global actions, like:\n   * `error`, `file-removed`, `upload-progress`\n   */\n\n\n  updateOnlineStatus() {\n    const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n\n  getID() {\n    return this.opts.id;\n  }\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  // eslint-disable-next-line no-shadow\n\n\n  use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    } // Instantiate\n\n\n    const plugin = new Plugin(this, opts);\n    const pluginId = plugin.id;\n\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n\n    const existsPluginAlready = this.getPlugin(pluginId);\n\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n      throw new Error(msg);\n    }\n\n    if (Plugin.VERSION) {\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n\n    plugin.install();\n    return this;\n  }\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {BasePlugin|undefined}\n   */\n\n\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n\n    return undefined;\n  }\n\n  [_Symbol$for](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n\n\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n\n\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type]; // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n\n\n    const index = list.findIndex(item => item.id === instance.id);\n\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n\n    const state = this.getState();\n    const updatedState = {\n      plugins: { ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n\n\n  close(_temp2) {\n    let {\n      reason\n    } = _temp2 === void 0 ? {} : _temp2;\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll({\n      reason\n    });\n\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n\n\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (duration === void 0) {\n      duration = 3000;\n    }\n\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n\n\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n\n      case 'warning':\n        logger.warn(message);\n        break;\n\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  /**\n   * Restore an upload by its ID.\n   */\n\n\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  /**\n   * Create an upload for a bunch of files.\n   *\n   * @param {Array<string>} fileIDs File IDs to include in this upload.\n   * @returns {string} ID of this upload.\n   */\n\n\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = { ...currentUploads[uploadID],\n      result: { ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: { ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Remove an upload, eg. if it has been canceled or completed.\n   *\n   * @param {string} uploadID The ID of the upload.\n   */\n\n\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  upload() {\n    var _classPrivateFieldLoo;\n\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n\n    let {\n      files\n    } = this.getState();\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n\n      this.setState({\n        files\n      });\n    }\n\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err);\n\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(() => {\n      const {\n        currentUploads\n      } = this.getState(); // get a list of files that are currently assigned to uploads\n\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n\n      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n\n}\n\nfunction _informAndEmit2(error, file) {\n  const {\n    message,\n    details = ''\n  } = error;\n\n  if (error.isRestriction) {\n    this.emit('restriction-failed', file, error);\n  } else {\n    this.emit('error', error);\n  }\n\n  this.info({\n    message,\n    details\n  }, 'error', this.opts.infoTimeout);\n  this.log(error, 'warning');\n}\n\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n\n  return true;\n}\n\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n\n  return success;\n}\n\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n\n  if (allowNewUpload === false) {\n    const error = new RestrictionError(this.i18n('noMoreFilesAllowed'));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, file);\n\n    throw error;\n  }\n}\n\nfunction _checkAndCreateFileStateObject2(files, fileDescriptor) {\n  // Uppy expects files in { name, type, size, data } format.\n  // If the actual File object is passed from input[type=file] or drag-drop,\n  // we normalize it to match Uppy file object\n  if (fileDescriptor instanceof File) {\n    // eslint-disable-next-line no-param-reassign\n    fileDescriptor = {\n      name: fileDescriptor.name,\n      type: fileDescriptor.type,\n      size: fileDescriptor.size,\n      data: fileDescriptor\n    };\n  }\n\n  const fileType = getFileType(fileDescriptor);\n  const fileName = getFileName(fileType, fileDescriptor);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const isRemote = Boolean(fileDescriptor.isRemote);\n  const fileID = generateFileID({ ...fileDescriptor,\n    type: fileType\n  });\n\n  if (this.checkIfFileAlreadyExists(fileID)) {\n    const error = new RestrictionError(this.i18n('noDuplicates', {\n      fileName\n    }));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, fileDescriptor);\n\n    throw error;\n  }\n\n  const meta = fileDescriptor.meta || {};\n  meta.name = fileName;\n  meta.type = fileType; // `null` means the size is unknown.\n\n  const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;\n  let newFile = {\n    source: fileDescriptor.source || '',\n    id: fileID,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: { ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: fileDescriptor.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: 0,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isRemote,\n    remote: fileDescriptor.remote || '',\n    preview: fileDescriptor.preview\n  };\n  const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, files);\n\n  if (onBeforeFileAddedResult === false) {\n    // Don\u2019t show UI info for this error, as it should be done by the developer\n    const error = new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.');\n    this.emit('restriction-failed', fileDescriptor, error);\n    throw error;\n  } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n    newFile = onBeforeFileAddedResult;\n  }\n\n  try {\n    const filesArray = Object.keys(files).map(i => files[i]);\n\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(newFile, filesArray);\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err, newFile);\n\n    throw err;\n  }\n\n  return newFile;\n}\n\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\n\nfunction _addListeners2() {\n  /**\n   * @param {Error} error\n   * @param {object} [file]\n   * @param {object} [response]\n   */\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n\n    this.setState({\n      error: errorMsg\n    });\n\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n\n    if (typeof error === 'object' && error.message) {\n      const newError = new Error(error.message);\n      newError.details = error.message;\n\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n\n      newError.message = this.i18n('failedToUpload', {\n        file: file == null ? void 0 : file.name\n      });\n\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](newError);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error);\n    }\n  });\n  let uploadStalledWarningRecentlyEmitted;\n  this.on('upload-stalled', (error, files) => {\n    const {\n      message\n    } = error;\n    const details = files.map(file => file.meta.name).join(', ');\n\n    if (!uploadStalledWarningRecentlyEmitted) {\n      this.info({\n        message,\n        details\n      }, 'warning', this.opts.infoTimeout);\n      uploadStalledWarningRecentlyEmitted = setTimeout(() => {\n        uploadStalledWarningRecentlyEmitted = null;\n      }, this.opts.infoTimeout);\n    }\n\n    this.log(`${message} ${details}`.trim(), 'warning');\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  this.on('upload-started', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    });\n  });\n  this.on('upload-progress', this.calculateProgress);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: { ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : null,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    }); // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n\n    this.calculateTotalProgress();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    this.calculateTotalProgress();\n  });\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  }); // show informer if offline\n\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\n\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // uppy.retryAll sets this to true \u2014 when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n\n  const uploadID = nanoid();\n  this.emit('upload', {\n    id: uploadID,\n    fileIDs\n  });\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: { ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\n\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\n\nfunction _removeUpload2(uploadID) {\n  const currentUploads = { ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\n\nasync function _runUpload2(uploadID) {\n  let {\n    currentUploads\n  } = this.getState();\n  let currentUpload = currentUploads[uploadID];\n  const restoreStep = currentUpload.step || 0;\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n\n  try {\n    for (let step = restoreStep; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n\n      const fn = steps[step];\n      const updatedUpload = { ...currentUpload,\n        step\n      };\n      this.setState({\n        currentUploads: { ...currentUploads,\n          [uploadID]: updatedUpload\n        }\n      }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n\n      await fn(updatedUpload.fileIDs, uploadID); // Update currentUpload value in case it was modified asynchronously.\n\n      currentUploads = this.getState().currentUploads;\n      currentUpload = currentUploads[uploadID];\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n    throw err;\n  } // Set result data.\n\n\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    await this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    }); // Update currentUpload value in case it was modified asynchronously.\n\n    currentUploads = this.getState().currentUploads;\n    currentUpload = currentUploads[uploadID];\n  } // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n\n\n  let result;\n\n  if (currentUpload) {\n    result = currentUpload.result;\n    this.emit('complete', result);\n\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n  }\n\n  return result;\n}\n\nUppy.VERSION = packageJson.version;\nexport default Uppy;", "let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst packageJson = {\n  \"version\": \"3.0.2\"\n};\n/**\n * Default store that keeps state in a simple object.\n */\n\nvar _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey(\"callbacks\");\n\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    Object.defineProperty(this, _callbacks, {\n      writable: true,\n      value: new Set()\n    });\n    this.state = {};\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  setState(patch) {\n    const prevState = { ...this.state\n    };\n    const nextState = { ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n\n  subscribe(listener) {\n    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);\n\n    return () => {\n      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);\n    };\n  }\n\n}\n\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {\n    listener(...args);\n  });\n}\n\nDefaultStore.VERSION = packageJson.version;\nexport default DefaultStore;", "/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}", "// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\nexport default {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  webp: 'image/webp',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};", "import getFileNameAndExtension from './getFileNameAndExtension.js';\nimport mimeTypes from './mimeTypes.js';\nexport default function getFileType(file) {\n  var _getFileNameAndExtens;\n\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  } // if all fails, fall back to a generic byte stream type\n\n\n  return 'application/octet-stream';\n}", "function encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\n\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\n\n\nexport default function generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n  let id = 'uppy';\n\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n\n  return id;\n}", "// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nexport default function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  } // Assume it works because basically everything supports progress events.\n\n\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  let [major, minor] = edgeVersion.split('.');\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10); // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  } // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n\n\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  } // other versions don't work.\n\n\n  return false;\n}", "export default function getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n\n  return 'noname';\n}", "/**\n * Adds zero to strings shorter than two characters.\n *\n * @param {number} number\n * @returns {string}\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\n\n\nexport default function getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}", "/* eslint-disable no-console */\nimport getTimeStamp from '@uppy/utils/lib/getTimeStamp'; // Swallow all logs, except errors.\n// default if logger is not set or debug: false\n\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n}; // Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\n\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexport { justErrorsLogger, debugLogger };", "/* eslint-disable max-classes-per-file, class-methods-use-this */\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport match from 'mime-match';\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\n\nclass RestrictionError extends Error {\n  constructor() {\n    super(...arguments);\n    this.isRestriction = true;\n  }\n\n}\n\nclass Restricter {\n  constructor(getOpts, i18n) {\n    this.i18n = i18n;\n\n    this.getOpts = () => {\n      const opts = getOpts();\n\n      if (opts.restrictions.allowedFileTypes != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n\n      return opts;\n    };\n  }\n\n  validate(file, files) {\n    const {\n      maxFileSize,\n      minFileSize,\n      maxTotalFileSize,\n      maxNumberOfFiles,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = files.filter(f => !f.isGhost);\n\n      if (nonGhostFiles.length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxTotalFileSize if the size is unknown.\n\n\n    if (maxTotalFileSize && file.size != null) {\n      const totalFilesSize = files.reduce((total, f) => total + f.size, file.size);\n\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize', {\n          size: prettierBytes(maxTotalFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      throw new RestrictionError(this.i18n('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: file.name\n      }));\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.i18n('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }));\n    }\n  }\n\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n\n  getMissingRequiredMetaFields(file) {\n    const error = new RestrictionError(this.i18n('missingRequiredMetaFieldOnFile', {\n      fileName: file.name\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions;\n    const missingFields = [];\n\n    for (const field of requiredMetaFields) {\n      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n\n    return {\n      missingFields,\n      error\n    };\n  }\n\n}\n\nexport { Restricter, defaultOptions, RestrictionError };", "export default {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    }\n  }\n};", "import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\nexport let inEvent = false;\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tinEvent = true;\n\ttry {\n\t\treturn this._listeners[e.type + false](\n\t\t\toptions.event ? options.event(e) : e\n\t\t);\n\t} finally {\n\t\tinEvent = false;\n\t}\n}\n\nfunction eventProxyCapture(e) {\n\tinEvent = true;\n\ttry {\n\t\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n\t} finally {\n\t\tinEvent = false;\n\t}\n}\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { inEvent } from './diff/props';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst microTick =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\nfunction defer(cb) {\n\tif (inEvent) {\n\t\tsetTimeout(cb);\n\t} else {\n\t\tmicroTick(cb);\n\t}\n}\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getLastDom(oldParentVNode).nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {import('../internal').VNode} vnode\n */\nfunction getLastDom(vnode) {\n\tif (vnode.type == null || typeof vnode.type === 'string') {\n\t\treturn vnode._dom;\n\t}\n\n\tif (vnode._children) {\n\t\tfor (let i = vnode._children.length - 1; i >= 0; i--) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child) {\n\t\t\t\tlet lastDom = getLastDom(child);\n\t\t\t\tif (lastDom) {\n\t\t\t\t\treturn lastDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nexport default function isDOMElement(obj) {\n  return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;\n}", "import isDOMElement from './isDOMElement.js';\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\n\nexport default function findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n\n  if (isDOMElement(element)) {\n    return element;\n  }\n\n  return null;\n}", "/**\n * Get the declared text direction for an element.\n *\n * @param {Node} element\n * @returns {string|undefined}\n */\nfunction getTextDirection(element) {\n  var _element;\n\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n\n  return (_element = element) == null ? void 0 : _element.dir;\n}\n\nexport default getTextDirection;", "/**\n * Core plugin logic that all plugins share.\n *\n * BasePlugin does not contain DOM rendering so it can be used for plugins\n * without a user interface.\n *\n * See `Plugin` for the extended version with Preact rendering for interfaces.\n */\nimport Translator from '@uppy/utils/lib/Translator';\nexport default class BasePlugin {\n  constructor(uppy, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.uppy = uppy;\n    this.opts = opts;\n  }\n\n  getPluginState() {\n    const {\n      plugins\n    } = this.uppy.getState();\n    return plugins[this.id] || {};\n  }\n\n  setPluginState(update) {\n    const {\n      plugins\n    } = this.uppy.getState();\n    this.uppy.setState({\n      plugins: { ...plugins,\n        [this.id]: { ...plugins[this.id],\n          ...update\n        }\n      }\n    });\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts\n    };\n    this.setPluginState(); // so that UI re-renders with new options\n\n    this.i18nInit();\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  }\n  /**\n   * Extendable methods\n   * ==================\n   * These methods are here to serve as an overview of the extendable methods as well as\n   * making them not conditional in use, such as `if (this.afterUpdate)`.\n   */\n  // eslint-disable-next-line class-methods-use-this\n\n\n  addTarget() {\n    throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  install() {} // eslint-disable-next-line class-methods-use-this\n\n\n  uninstall() {}\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n\n\n  render() {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  update() {} // Called after every state update, after everything's mounted. Debounced.\n  // eslint-disable-next-line class-methods-use-this\n\n\n  afterUpdate() {}\n\n}", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { render } from 'preact';\nimport findDOMElement from '@uppy/utils/lib/findDOMElement';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport BasePlugin from './BasePlugin.js';\n/**\n * Defer a frequent call to the microtask queue.\n *\n * @param {() => T} fn\n * @returns {Promise<T>}\n */\n\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    latestArgs = args;\n\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null; // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n\n        return fn(...latestArgs);\n      });\n    }\n\n    return calling;\n  };\n}\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\n\n\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\n\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n\n  getTargetPlugin(target) {\n    let targetPlugin;\n\n    if (typeof target === 'object' && target instanceof UIPlugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target; // Find the target plugin instance.\n\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n\n    return targetPlugin;\n  }\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If it\u2019s an object \u2014 target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n\n\n  mount(target, plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n\n    if (targetElement) {\n      this.isTargetDOMEl = true; // When target is <body> with a single <div> element,\n      // Preact thinks it\u2019s the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root'); // API for plugins that require a synchronous rerender.\n\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        render(this.render(state), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working \u2014 Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n\n      render(this.render(this.uppy.getState()), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement); // Set the text direction if the page has not defined one.\n\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n\n    const targetPlugin = this.getTargetPlugin(target);\n\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n\n    throw new Error(message);\n  }\n\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n\n      (_this$el = this.el) == null ? void 0 : _this$el.remove();\n    }\n\n    this.onUnmount();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  onMount() {} // eslint-disable-next-line class-methods-use-this\n\n\n  onUnmount() {}\n\n}\n\nexport default UIPlugin;", "/**\n * Converts list into array\n */\nexport default Array.from;", "/**\n * Checks if the browser supports Drag & Drop (not supported on mobile devices, for example).\n */\nexport default function isDragDropSupported() {\n  const div = document.body;\n  if (!('draggable' in div) || !('ondragstart' in div && 'ondrop' in div)) {\n    return false;\n  }\n  if (!('FormData' in window)) {\n    return false;\n  }\n  if (!('FileReader' in window)) {\n    return false;\n  }\n  return true;\n}", "/**\n * Recursive function, calls the original callback() when the directory is entirely parsed.\n */\nexport default function getFilesAndDirectoriesFromDirectory(directoryReader, oldEntries, logDropError, _ref) {\n  let {\n    onSuccess\n  } = _ref;\n  directoryReader.readEntries(entries => {\n    const newEntries = [...oldEntries, ...entries];\n    // According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory()\n    // must be called until it calls the onSuccess with an empty array.\n    if (entries.length) {\n      queueMicrotask(() => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, newEntries, logDropError, {\n          onSuccess\n        });\n      });\n      // Done iterating this particular directory\n    } else {\n      onSuccess(newEntries);\n    }\n  },\n  // Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!\n  error => {\n    logDropError(error);\n    onSuccess(oldEntries);\n  });\n}", "import getFilesAndDirectoriesFromDirectory from \"./getFilesAndDirectoriesFromDirectory.js\";\n/**\n * Polyfill for the new (experimental) getAsFileSystemHandle API (using the popular webkitGetAsEntry behind the scenes)\n * so that we can switch to the getAsFileSystemHandle API once it (hopefully) becomes standard\n */\nfunction getAsFileSystemHandleFromEntry(entry, logDropError) {\n  if (entry == null) return entry;\n  return {\n    kind:\n    // eslint-disable-next-line no-nested-ternary\n    entry.isFile ? 'file' : entry.isDirectory ? 'directory' : undefined,\n    name: entry.name,\n    getFile() {\n      return new Promise((resolve, reject) => entry.file(resolve, reject));\n    },\n    async *values() {\n      // If the file is a directory.\n      const directoryReader = entry.createReader();\n      const entries = await new Promise(resolve => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, [], logDropError, {\n          onSuccess: dirEntries => resolve(dirEntries.map(file => getAsFileSystemHandleFromEntry(file, logDropError)))\n        });\n      });\n      yield* entries;\n    },\n    isSameEntry: undefined\n  };\n}\nfunction createPromiseToAddFileOrParseDirectory(entry, relativePath, lastResortFile) {\n  try {\n    if (lastResortFile === void 0) {\n      lastResortFile = undefined;\n    }\n    return async function* () {\n      const getNextRelativePath = () => `${relativePath}/${entry.name}`;\n\n      // For each dropped item, - make sure it's a file/directory, and start deepening in!\n      if (entry.kind === 'file') {\n        const file = await entry.getFile();\n        if (file != null) {\n          ;\n          file.relativePath = relativePath ? getNextRelativePath() : null;\n          yield file;\n        } else if (lastResortFile != null) yield lastResortFile;\n      } else if (entry.kind === 'directory') {\n        for await (const handle of entry.values()) {\n          // Recurse on the directory, appending the dir name to the relative path\n          yield* createPromiseToAddFileOrParseDirectory(handle, relativePath ? getNextRelativePath() : entry.name);\n        }\n      } else if (lastResortFile != null) yield lastResortFile;\n    }();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\n/**\n * Load all files from data transfer, and recursively read any directories.\n * Note that IE is not supported for drag-drop, because IE doesn't support Data Transfers\n *\n * @param {DataTransfer} dataTransfer\n * @param {*} logDropError on error\n */\nexport default async function* getFilesFromDataTransfer(dataTransfer, logDropError) {\n  // Retrieving the dropped items must happen synchronously\n  // otherwise only the first item gets treated and the other ones are garbage collected.\n  // https://github.com/transloadit/uppy/pull/3998\n  const fileSystemHandles = await Promise.all(Array.from(dataTransfer.items, async item => {\n    var _fileSystemHandle;\n    let fileSystemHandle;\n\n    // TODO enable getAsFileSystemHandle API once we can get it working with subdirectories\n    // IMPORTANT: Need to check isSecureContext *before* calling getAsFileSystemHandle\n    // or else Chrome will crash when running in HTTP: https://github.com/transloadit/uppy/issues/4133\n    // if (window.isSecureContext && item.getAsFileSystemHandle != null)\n    // fileSystemHandle = await item.getAsFileSystemHandle()\n\n    // `webkitGetAsEntry` exists in all popular browsers (including non-WebKit browsers),\n    // however it may be renamed to getAsEntry() in the future, so you should code defensively, looking for both.\n    // from https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry\n    const getAsEntry = () => typeof item.getAsEntry === 'function' ? item.getAsEntry() : item.webkitGetAsEntry();\n    // eslint-disable-next-line prefer-const\n    (_fileSystemHandle = fileSystemHandle) != null ? _fileSystemHandle : fileSystemHandle = getAsFileSystemHandleFromEntry(getAsEntry(), logDropError);\n    return {\n      fileSystemHandle,\n      lastResortFile: item.getAsFile() // can be used as a fallback in case other methods fail\n    };\n  }));\n  for (const {\n    lastResortFile,\n    fileSystemHandle\n  } of fileSystemHandles) {\n    // fileSystemHandle and lastResortFile can be null when we drop an url.\n    if (fileSystemHandle != null) {\n      try {\n        yield* createPromiseToAddFileOrParseDirectory(fileSystemHandle, '', lastResortFile);\n      } catch (err) {\n        // Example: If dropping a symbolic link, Chromium will throw:\n        // \"DOMException: A requested file or directory could not be found at the time an operation was processed.\",\n        // So we will use lastResortFile instead. See https://github.com/transloadit/uppy/issues/3505.\n        if (lastResortFile != null) {\n          yield lastResortFile;\n        } else {\n          logDropError(err);\n        }\n      }\n    } else if (lastResortFile != null) yield lastResortFile;\n  }\n}", "import toArray from \"../../toArray.js\";\n\n// .files fallback, should be implemented in any browser\nexport default function fallbackApi(dataTransfer) {\n  const files = toArray(dataTransfer.files);\n  return Promise.resolve(files);\n}", "import webkitGetAsEntryApi from \"./utils/webkitGetAsEntryApi/index.js\";\nimport fallbackApi from \"./utils/fallbackApi.js\";\n\n/**\n * Returns a promise that resolves to the array of dropped files (if a folder is\n * dropped, and browser supports folder parsing - promise resolves to the flat\n * array of all files in all directories).\n * Each file has .relativePath prop appended to it (e.g. \"/docs/Prague/ticket_from_prague_to_ufa.pdf\")\n * if browser supports it. Otherwise it's undefined.\n *\n * @param dataTransfer\n * @param options\n * @param options.logDropError - a function that's called every time some\n * folder or some file error out (e.g. because of the folder name being too long\n * on Windows). Notice that resulting promise will always be resolved anyway.\n *\n * @returns {Promise} - Array<File>\n */\nexport default async function getDroppedFiles(dataTransfer, options) {\n  var _options$logDropError;\n  // Get all files from all subdirs. Works (at least) in Chrome, Mozilla, and Safari\n  const logDropError = (_options$logDropError = options == null ? void 0 : options.logDropError) != null ? _options$logDropError : Function.prototype;\n  try {\n    const accumulator = [];\n    for await (const file of webkitGetAsEntryApi(dataTransfer, logDropError)) {\n      accumulator.push(file);\n    }\n    return accumulator;\n    // Otherwise just return all first-order files\n  } catch {\n    return fallbackApi(dataTransfer);\n  }\n}", "export default {\n  strings: {\n    // Text to show on the droppable area.\n    // `%{browse}` is replaced with a link that opens the system file selection dialog.\n    dropHereOr: 'Drop here or %{browse}',\n    // Used as the label for the link that opens the system file selection dialog.\n    browse: 'browse'\n  }\n};", "import { UIPlugin } from '@uppy/core';\nimport toArray from '@uppy/utils/lib/toArray';\nimport isDragDropSupported from '@uppy/utils/lib/isDragDropSupported';\nimport getDroppedFiles from '@uppy/utils/lib/getDroppedFiles';\nimport { h } from 'preact';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"3.1.0\"\n};\nimport locale from \"./locale.js\";\n// Default options, must be kept in sync with @uppy/react/src/DragDrop.js.\nconst defaultOptions = {\n  inputName: 'files[]',\n  width: '100%',\n  height: '100%'\n};\n\n/**\n * Drag & Drop plugin\n *\n */\nexport default class DragDrop extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    // Check for browser dragDrop support\n    this.isDragDropSupported = isDragDropSupported();\n    this.addFiles = files => {\n      const descriptors = files.map(file => ({\n        source: this.id,\n        name: file.name,\n        type: file.type,\n        data: file,\n        meta: {\n          // path of the file relative to the ancestor directory the user selected.\n          // e.g. 'docs/Old Prague/airbnb.pdf'\n          relativePath: file.relativePath || null\n        }\n      }));\n      try {\n        this.uppy.addFiles(descriptors);\n      } catch (err) {\n        this.uppy.log(err);\n      }\n    };\n    this.onInputChange = event => {\n      const files = toArray(event.target.files);\n      if (files.length > 0) {\n        this.uppy.log('[DragDrop] Files selected through input');\n        this.addFiles(files);\n      }\n\n      // We clear the input after a file is selected, because otherwise\n      // change event is not fired in Chrome and Safari when a file\n      // with the same name is selected.\n      // ___Why not use value=\"\" on <input/> instead?\n      //    Because if we use that method of clearing the input,\n      //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n      // @ts-expect-error TS freaks out, but this is fine\n      // eslint-disable-next-line no-param-reassign\n      event.target.value = null;\n    };\n    this.handleDragOver = event => {\n      var _this$opts$onDragOver, _this$opts;\n      event.preventDefault();\n      event.stopPropagation();\n\n      // Check if the \"type\" of the datatransfer object includes files. If not, deny drop.\n      const {\n        types\n      } = event.dataTransfer;\n      const hasFiles = types.some(type => type === 'Files');\n      const {\n        allowNewUpload\n      } = this.uppy.getState();\n      if (!hasFiles || !allowNewUpload) {\n        // eslint-disable-next-line no-param-reassign\n        event.dataTransfer.dropEffect = 'none';\n        clearTimeout(this.removeDragOverClassTimeout);\n        return;\n      }\n\n      // Add a small (+) icon on drop\n      // (and prevent browsers from interpreting this as files being _moved_ into the browser\n      // https://github.com/transloadit/uppy/issues/1978)\n      //\n      // eslint-disable-next-line no-param-reassign\n      event.dataTransfer.dropEffect = 'copy';\n      clearTimeout(this.removeDragOverClassTimeout);\n      this.setPluginState({\n        isDraggingOver: true\n      });\n      (_this$opts$onDragOver = (_this$opts = this.opts).onDragOver) == null || _this$opts$onDragOver.call(_this$opts, event);\n    };\n    this.handleDragLeave = event => {\n      var _this$opts$onDragLeav, _this$opts2;\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout);\n      // Timeout against flickering, this solution is taken from drag-drop library.\n      // Solution with 'pointer-events: none' didn't work across browsers.\n      this.removeDragOverClassTimeout = setTimeout(() => {\n        this.setPluginState({\n          isDraggingOver: false\n        });\n      }, 50);\n      (_this$opts$onDragLeav = (_this$opts2 = this.opts).onDragLeave) == null || _this$opts$onDragLeav.call(_this$opts2, event);\n    };\n    this.handleDrop = async event => {\n      var _this$opts$onDrop, _this$opts3;\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout);\n\n      // Remove dragover class\n      this.setPluginState({\n        isDraggingOver: false\n      });\n      const logDropError = error => {\n        this.uppy.log(error, 'error');\n      };\n\n      // Add all dropped files\n      const files = await getDroppedFiles(event.dataTransfer, {\n        logDropError\n      });\n      if (files.length > 0) {\n        this.uppy.log('[DragDrop] Files dropped');\n        this.addFiles(files);\n      }\n      (_this$opts$onDrop = (_this$opts3 = this.opts).onDrop) == null || _this$opts$onDrop.call(_this$opts3, event);\n    };\n    this.type = 'acquirer';\n    this.id = this.opts.id || 'DragDrop';\n    this.title = 'Drag & Drop';\n    this.defaultLocale = locale;\n    this.i18nInit();\n  }\n  renderHiddenFileInput() {\n    const {\n      restrictions\n    } = this.uppy.opts;\n    return h(\"input\", {\n      className: \"uppy-DragDrop-input\",\n      type: \"file\",\n      hidden: true,\n      ref: ref => {\n        this.fileInputRef = ref;\n      },\n      name: this.opts.inputName,\n      multiple: restrictions.maxNumberOfFiles !== 1\n      // @ts-expect-error We actually want to coerce the array to a string (or keep it as null/undefined)\n      ,\n      accept: restrictions.allowedFileTypes,\n      onChange: this.onInputChange\n    });\n  }\n  static renderArrowSvg() {\n    return h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-DragDrop-arrow\",\n      width: \"16\",\n      height: \"16\",\n      viewBox: \"0 0 16 16\"\n    }, h(\"path\", {\n      d: \"M11 10V0H5v10H2l6 6 6-6h-3zm0 0\",\n      fillRule: \"evenodd\"\n    }));\n  }\n  renderLabel() {\n    return h(\"div\", {\n      className: \"uppy-DragDrop-label\"\n    }, this.i18nArray('dropHereOr', {\n      browse: h(\"span\", {\n        className: \"uppy-DragDrop-browse\"\n      }, this.i18n('browse'))\n    }));\n  }\n  renderNote() {\n    return h(\"span\", {\n      className: \"uppy-DragDrop-note\"\n    }, this.opts.note);\n  }\n  render() {\n    const dragDropClass = `uppy-u-reset\n      uppy-DragDrop-container\n      ${this.isDragDropSupported ? 'uppy-DragDrop--isDragDropSupported' : ''}\n      ${this.getPluginState().isDraggingOver ? 'uppy-DragDrop--isDraggingOver' : ''}\n    `;\n    const dragDropStyle = {\n      width: this.opts.width,\n      height: this.opts.height\n    };\n    return h(\"button\", {\n      type: \"button\",\n      className: dragDropClass,\n      style: dragDropStyle,\n      onClick: () => this.fileInputRef.click(),\n      onDragOver: this.handleDragOver,\n      onDragLeave: this.handleDragLeave,\n      onDrop: this.handleDrop\n    }, this.renderHiddenFileInput(), h(\"div\", {\n      className: \"uppy-DragDrop-inner\"\n    }, DragDrop.renderArrowSvg(), this.renderLabel(), this.renderNote()));\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    this.setPluginState({\n      isDraggingOver: false\n    });\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n  uninstall() {\n    this.unmount();\n  }\n}\nDragDrop.VERSION = packageJson.version;", "import { h, Component, createRef } from 'preact';\nconst TRANSITION_MS = 300;\nexport default class FadeIn extends Component {\n  constructor() {\n    super(...arguments);\n    this.ref = createRef();\n  }\n  componentWillEnter(callback) {\n    this.ref.current.style.opacity = '1';\n    this.ref.current.style.transform = 'none';\n    setTimeout(callback, TRANSITION_MS);\n  }\n  componentWillLeave(callback) {\n    this.ref.current.style.opacity = '0';\n    this.ref.current.style.transform = 'translateY(350%)';\n    setTimeout(callback, TRANSITION_MS);\n  }\n  render() {\n    const {\n      children\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Informer-animated\",\n      ref: this.ref\n    }, children);\n  }\n}", "// INFO: not typing copy pasted libarary code\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n/* eslint-disable */\n/**\n * @source https://github.com/developit/preact-transition-group\n */\n\nimport { Component, cloneElement, h, toChildArray } from 'preact';\nfunction assign(obj, props) {\n  return Object.assign(obj, props);\n}\nfunction getKey(vnode, fallback) {\n  var _vnode$key;\n  return (_vnode$key = vnode == null ? void 0 : vnode.key) != null ? _vnode$key : fallback;\n}\nfunction linkRef(component, name) {\n  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {});\n  return cache[name] || (cache[name] = c => {\n    component.refs[name] = c;\n  });\n}\nfunction getChildMapping(children) {\n  const out = {};\n  for (let i = 0; i < children.length; i++) {\n    if (children[i] != null) {\n      const key = getKey(children[i], i.toString(36));\n      out[key] = children[i];\n    }\n  }\n  return out;\n}\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n  const getValueForKey = key => next.hasOwnProperty(key) ? next[key] : prev[key];\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  const nextKeysPending = {};\n  let pendingKeys = [];\n  for (const prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n  const childMapping = {};\n  for (const nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {\n        const pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey);\n  }\n\n  // Finally, add the keys which didn't appear before any key in `next`\n  for (let i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n  return childMapping;\n}\nconst identity = i => i;\nclass TransitionGroup extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.refs = {};\n    this.state = {\n      children: getChildMapping(toChildArray(toChildArray(this.props.children)) || [])\n    };\n    this.performAppear = this.performAppear.bind(this);\n    this.performEnter = this.performEnter.bind(this);\n    this.performLeave = this.performLeave.bind(this);\n  }\n  componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToAbortLeave = [];\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  }\n  componentDidMount() {\n    const initialChildMapping = this.state.children;\n    for (const key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        // this.performAppear(getKey(initialChildMapping[key], key));\n        this.performAppear(key);\n      }\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    const nextChildMapping = getChildMapping(toChildArray(nextProps.children) || []);\n    const prevChildMapping = this.state.children;\n    this.setState(prevState => ({\n      children: mergeChildMappings(prevState.children, nextChildMapping)\n    }));\n    let key;\n    for (key in nextChildMapping) {\n      if (nextChildMapping.hasOwnProperty(key)) {\n        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key);\n        // We should re-enter the component and abort its leave function\n        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n          this.keysToAbortLeave.push(key);\n        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n        }\n      }\n    }\n    for (key in prevChildMapping) {\n      if (prevChildMapping.hasOwnProperty(key)) {\n        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);\n        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n          this.keysToLeave.push(key);\n        }\n      }\n    }\n  }\n  componentDidUpdate() {\n    const {\n      keysToEnter\n    } = this;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    const {\n      keysToLeave\n    } = this;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  }\n  _finishAbort(key) {\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      this.keysToAbortLeave.splice(idx, 1);\n    }\n  }\n  performAppear(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillAppear) {\n      component.componentWillAppear(this._handleDoneAppearing.bind(this, key));\n    } else {\n      this._handleDoneAppearing(key);\n    }\n  }\n  _handleDoneAppearing(key) {\n    const component = this.refs[key];\n    if (component != null && component.componentDidAppear) {\n      component.componentDidAppear();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    this._finishAbort(key);\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully appeared. Remove it.\n      this.performLeave(key);\n    }\n  }\n  performEnter(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillEnter) {\n      component.componentWillEnter(this._handleDoneEntering.bind(this, key));\n    } else {\n      this._handleDoneEntering(key);\n    }\n  }\n  _handleDoneEntering(key) {\n    const component = this.refs[key];\n    if (component != null && component.componentDidEnter) {\n      component.componentDidEnter();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    this._finishAbort(key);\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully entered. Remove it.\n      this.performLeave(key);\n    }\n  }\n  performLeave(key) {\n    // If we should immediately abort this leave function,\n    // don't run the leave transition at all.\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      return;\n    }\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillLeave) {\n      component.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n    } else {\n      // Note that this is somewhat dangerous b/c it calls setState()\n      // again, effectively mutating the component before all the work\n      // is done.\n      this._handleDoneLeaving(key);\n    }\n  }\n  _handleDoneLeaving(key) {\n    // If we should immediately abort the leave,\n    // then skip this altogether\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      return;\n    }\n    const component = this.refs[key];\n    if (component != null && component.componentDidLeave) {\n      component.componentDidLeave();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n      // This entered again before it fully left. Add it again.\n      this.performEnter(key);\n    } else {\n      const children = assign({}, this.state.children);\n      delete children[key];\n      this.setState({\n        children\n      });\n    }\n  }\n  render(_ref, _ref2) {\n    let {\n      childFactory,\n      transitionLeave,\n      transitionName,\n      transitionAppear,\n      transitionEnter,\n      transitionLeaveTimeout,\n      transitionEnterTimeout,\n      transitionAppearTimeout,\n      component,\n      ...props\n    } = _ref;\n    let {\n      children\n    } = _ref2;\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    const childrenToRender = Object.entries(children).map(_ref3 => {\n      let [key, child] = _ref3;\n      if (!child) return undefined;\n      const ref = linkRef(this, key);\n      return cloneElement(childFactory(child), {\n        ref,\n        key\n      });\n    }).filter(Boolean);\n    return h(component, props, childrenToRender);\n  }\n}\nTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: identity\n};\nexport default TransitionGroup;", "/* eslint-disable jsx-a11y/no-noninteractive-element-interactions  */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport FadeIn from \"./FadeIn.js\";\nimport TransitionGroup from \"./TransitionGroup.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"3.1.0\"\n};\n/**\n * Informer\n * Shows rad message bubbles\n * used like this: `uppy.info('hello world', 'info', 5000)`\n * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`\n *\n */\nexport default class Informer extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.render = state => {\n      return h(\"div\", {\n        className: \"uppy uppy-Informer\"\n      }, h(TransitionGroup, null, state.info.map(info => h(FadeIn, {\n        key: info.message\n      }, h(\"p\", {\n        role: \"alert\"\n      }, info.message, ' ', info.details && h(\"span\", {\n        \"aria-label\": info.details,\n        \"data-microtip-position\": \"top-left\",\n        \"data-microtip-size\": \"medium\",\n        role: \"tooltip\",\n        onClick: () =>\n        // eslint-disable-next-line no-alert\n        alert(`${info.message} \\n\\n ${info.details}`)\n      }, \"?\"))))));\n    };\n    this.type = 'progressindicator';\n    this.id = this.opts.id || 'Informer';\n    this.title = 'Informer';\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n}\nInformer.VERSION = packageJson.version;", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nfunction createCancelError(cause) {\n  return new Error('Cancelled', {\n    cause\n  });\n}\n\nfunction abortOn(signal) {\n  if (signal != null) {\n    const abortPromise = () => this.abort(signal.reason);\n\n    signal.addEventListener('abort', abortPromise, {\n      once: true\n    });\n\n    const removeAbortListener = () => {\n      signal.removeEventListener('abort', abortPromise);\n    };\n\n    this.then(removeAbortListener, removeAbortListener);\n  }\n\n  return this;\n}\n\nvar _activeRequests = /*#__PURE__*/_classPrivateFieldLooseKey(\"activeRequests\");\n\nvar _queuedHandlers = /*#__PURE__*/_classPrivateFieldLooseKey(\"queuedHandlers\");\n\nvar _paused = /*#__PURE__*/_classPrivateFieldLooseKey(\"paused\");\n\nvar _pauseTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"pauseTimer\");\n\nvar _downLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"downLimit\");\n\nvar _upperLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"upperLimit\");\n\nvar _rateLimitingTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"rateLimitingTimer\");\n\nvar _call = /*#__PURE__*/_classPrivateFieldLooseKey(\"call\");\n\nvar _queueNext = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueNext\");\n\nvar _next = /*#__PURE__*/_classPrivateFieldLooseKey(\"next\");\n\nvar _queue = /*#__PURE__*/_classPrivateFieldLooseKey(\"queue\");\n\nvar _dequeue = /*#__PURE__*/_classPrivateFieldLooseKey(\"dequeue\");\n\nvar _resume = /*#__PURE__*/_classPrivateFieldLooseKey(\"resume\");\n\nvar _increaseLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"increaseLimit\");\n\nexport class RateLimitedQueue {\n  constructor(limit) {\n    Object.defineProperty(this, _dequeue, {\n      value: _dequeue2\n    });\n    Object.defineProperty(this, _queue, {\n      value: _queue2\n    });\n    Object.defineProperty(this, _next, {\n      value: _next2\n    });\n    Object.defineProperty(this, _queueNext, {\n      value: _queueNext2\n    });\n    Object.defineProperty(this, _call, {\n      value: _call2\n    });\n    Object.defineProperty(this, _activeRequests, {\n      writable: true,\n      value: 0\n    });\n    Object.defineProperty(this, _queuedHandlers, {\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, _paused, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _pauseTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _downLimit, {\n      writable: true,\n      value: 1\n    });\n    Object.defineProperty(this, _upperLimit, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _rateLimitingTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _resume, {\n      writable: true,\n      value: () => this.resume()\n    });\n    Object.defineProperty(this, _increaseLimit, {\n      writable: true,\n      value: () => {\n        if (_classPrivateFieldLooseBase(this, _paused)[_paused]) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 0);\n          return;\n        }\n\n        _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = this.limit;\n        this.limit = Math.ceil((_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] + _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]) / 2);\n\n        for (let i = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]; i <= this.limit; i++) {\n          _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n        }\n\n        if (_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] - _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] > 3) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 2000);\n        } else {\n          _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = Math.floor(_classPrivateFieldLooseBase(this, _downLimit)[_downLimit] / 2);\n        }\n      }\n    });\n\n    if (typeof limit !== 'number' || limit === 0) {\n      this.limit = Infinity;\n    } else {\n      this.limit = limit;\n    }\n  }\n\n  run(fn, queueOptions) {\n    if (!_classPrivateFieldLooseBase(this, _paused)[_paused] && _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] < this.limit) {\n      return _classPrivateFieldLooseBase(this, _call)[_call](fn);\n    }\n\n    return _classPrivateFieldLooseBase(this, _queue)[_queue](fn, queueOptions);\n  }\n\n  wrapPromiseFunction(fn, queueOptions) {\n    var _this = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      let queuedRequest;\n      const outerPromise = new Promise((resolve, reject) => {\n        queuedRequest = _this.run(() => {\n          let cancelError;\n          let innerPromise;\n\n          try {\n            innerPromise = Promise.resolve(fn(...args));\n          } catch (err) {\n            innerPromise = Promise.reject(err);\n          }\n\n          innerPromise.then(result => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              resolve(result);\n            }\n          }, err => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              reject(err);\n            }\n          });\n          return cause => {\n            cancelError = createCancelError(cause);\n          };\n        }, queueOptions);\n      });\n\n      outerPromise.abort = cause => {\n        queuedRequest.abort(cause);\n      };\n\n      outerPromise.abortOn = abortOn;\n      return outerPromise;\n    };\n  }\n\n  resume() {\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = false;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n\n    for (let i = 0; i < this.limit; i++) {\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  }\n\n  /**\n   * Freezes the queue for a while or indefinitely.\n   *\n   * @param {number | null } [duration] Duration for the pause to happen, in milliseconds.\n   *                                    If omitted, the queue won't resume automatically.\n   */\n  pause(duration) {\n    if (duration === void 0) {\n      duration = null;\n    }\n\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = true;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n\n    if (duration != null) {\n      _classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer] = setTimeout(_classPrivateFieldLooseBase(this, _resume)[_resume], duration);\n    }\n  }\n  /**\n   * Pauses the queue for a duration, and lower the limit of concurrent requests\n   * when the queue resumes. When the queue resumes, it tries to progressively\n   * increase the limit in `this.#increaseLimit` until another call is made to\n   * `this.rateLimit`.\n   * Call this function when using the RateLimitedQueue for network requests and\n   * the remote server responds with 429 HTTP code.\n   *\n   * @param {number} duration in milliseconds.\n   */\n\n\n  rateLimit(duration) {\n    clearTimeout(_classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer]);\n    this.pause(duration);\n\n    if (this.limit > 1 && Number.isFinite(this.limit)) {\n      _classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] = this.limit - 1;\n      this.limit = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit];\n      _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], duration);\n    }\n  }\n\n  get isPaused() {\n    return _classPrivateFieldLooseBase(this, _paused)[_paused];\n  }\n\n}\n\nfunction _call2(fn) {\n  _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] += 1;\n  let done = false;\n  let cancelActive;\n\n  try {\n    cancelActive = fn();\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n    throw err;\n  }\n\n  return {\n    abort: cause => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      cancelActive(cause);\n\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    },\n    done: () => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  };\n}\n\nfunction _queueNext2() {\n  // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n  // one by one without continuously _advancing_ it (and starting new tasks before immediately\n  // aborting them)\n  queueMicrotask(() => _classPrivateFieldLooseBase(this, _next)[_next]());\n}\n\nfunction _next2() {\n  if (_classPrivateFieldLooseBase(this, _paused)[_paused] || _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] >= this.limit) {\n    return;\n  }\n\n  if (_classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].length === 0) {\n    return;\n  } // Dispatch the next request, and update the abort/done handlers\n  // so that cancelling it does the Right Thing (and doesn't just try\n  // to dequeue an already-running request).\n\n\n  const next = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].shift();\n\n  const handler = _classPrivateFieldLooseBase(this, _call)[_call](next.fn);\n\n  next.abort = handler.abort;\n  next.done = handler.done;\n}\n\nfunction _queue2(fn, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const handler = {\n    fn,\n    priority: options.priority || 0,\n    abort: () => {\n      _classPrivateFieldLooseBase(this, _dequeue)[_dequeue](handler);\n    },\n    done: () => {\n      throw new Error('Cannot mark a queued request as done: this indicates a bug');\n    }\n  };\n\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].findIndex(other => {\n    return handler.priority > other.priority;\n  });\n\n  if (index === -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].push(handler);\n  } else {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 0, handler);\n  }\n\n  return handler;\n}\n\nfunction _dequeue2(handler) {\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].indexOf(handler);\n\n  if (index !== -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 1);\n  }\n}\n\nexport const internalRateLimitedQueue = Symbol('__queue');", "class NetworkError extends Error {\n  constructor(error, xhr) {\n    if (xhr === void 0) {\n      xhr = null;\n    }\n\n    super(`This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.`);\n    this.cause = error;\n    this.isNetworkError = true;\n    this.request = xhr;\n  }\n\n}\n\nexport default NetworkError;", "import NetworkError from './NetworkError.js';\n/**\n * Wrapper around window.fetch that throws a NetworkError when appropriate\n */\n\nexport default function fetchWithNetworkError() {\n  return fetch(...arguments).catch(err => {\n    if (err.name === 'AbortError') {\n      throw err;\n    } else {\n      throw new NetworkError(err);\n    }\n  });\n}", "import hasProperty from './hasProperty.js';\n\nclass ErrorWithCause extends Error {\n  constructor(message, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    super(message);\n    this.cause = options.cause;\n\n    if (this.cause && hasProperty(this.cause, 'isNetworkError')) {\n      this.isNetworkError = this.cause.isNetworkError;\n    }\n  }\n\n}\n\nexport default ErrorWithCause;", "'use strict';\n\nclass AuthError extends Error {\n  constructor() {\n    super('Authorization required');\n    this.name = 'AuthError';\n    this.isAuthError = true;\n  }\n\n}\n\nexport default AuthError;", "'use strict';\n\nlet _Symbol$for;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport fetchWithNetworkError from '@uppy/utils/lib/fetchWithNetworkError';\nimport ErrorWithCause from '@uppy/utils/lib/ErrorWithCause';\nimport AuthError from './AuthError.js';\nconst packageJson = {\n  \"version\": \"3.1.1\"\n}; // Remove the trailing slash so we can always safely append /xyz.\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\n\nasync function handleJSONResponse(res) {\n  if (res.status === 401) {\n    throw new AuthError();\n  }\n\n  const jsonPromise = res.json();\n\n  if (res.ok) {\n    return jsonPromise;\n  }\n\n  let errMsg = `Failed request with status: ${res.status}. ${res.statusText}`;\n\n  try {\n    const errData = await jsonPromise;\n    errMsg = errData.message ? `${errMsg} message: ${errData.message}` : errMsg;\n    errMsg = errData.requestId ? `${errMsg} request-Id: ${errData.requestId}` : errMsg;\n  } catch {\n    /* if the response contains invalid JSON, let's ignore the error */\n  }\n\n  throw new Error(errMsg);\n} // todo pull out into core instead?\n\n\nconst allowedHeadersCache = new Map();\n\nvar _companionHeaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"companionHeaders\");\n\nvar _getUrl = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUrl\");\n\nvar _request = /*#__PURE__*/_classPrivateFieldLooseKey(\"request\");\n\n_Symbol$for = Symbol.for('uppy test: getCompanionHeaders');\nexport default class RequestClient {\n  constructor(uppy, opts) {\n    Object.defineProperty(this, _request, {\n      value: _request2\n    });\n    Object.defineProperty(this, _getUrl, {\n      value: _getUrl2\n    });\n    Object.defineProperty(this, _companionHeaders, {\n      writable: true,\n      value: void 0\n    });\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n    _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders] = opts == null ? void 0 : opts.companionHeaders;\n  }\n\n  setCompanionHeaders(headers) {\n    _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders] = headers;\n  }\n\n  [_Symbol$for]() {\n    return _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders];\n  }\n\n  get hostname() {\n    const {\n      companion\n    } = this.uppy.getState();\n    const host = this.opts.companionUrl;\n    return stripSlash(companion && companion[host] ? companion[host] : host);\n  }\n\n  async headers() {\n    const defaultHeaders = {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      'Uppy-Versions': `@uppy/companion-client=${RequestClient.VERSION}`\n    };\n    return { ...defaultHeaders,\n      ..._classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders]\n    };\n  }\n\n  onReceiveResponse(_ref) {\n    let {\n      headers\n    } = _ref;\n    const state = this.uppy.getState();\n    const companion = state.companion || {};\n    const host = this.opts.companionUrl; // Store the self-identified domain name for the Companion instance we just hit.\n\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      this.uppy.setState({\n        companion: { ...companion,\n          [host]: headers.get('i-am')\n        }\n      });\n    }\n  }\n\n  /*\n    Preflight was added to avoid breaking change between older Companion-client versions and\n    newer Companion versions and vice-versa. Usually the break will manifest via CORS errors because a\n    version of companion-client could be sending certain headers to a version of Companion server that\n    does not support those headers. In which case, the default preflight would lead to CORS.\n    So to avoid those errors, we do preflight ourselves, to see what headers the Companion server\n    we are communicating with allows. And based on that, companion-client knows what headers to\n    send and what headers to not send.\n     The preflight only happens once throughout the life-cycle of a certain\n    Companion-client <-> Companion-server pair (allowedHeadersCache).\n    Subsequent requests use the cached result of the preflight.\n    However if there is an error retrieving the allowed headers, we will try again next time\n  */\n  async preflight(path) {\n    const allowedHeadersCached = allowedHeadersCache.get(this.hostname);\n    if (allowedHeadersCached != null) return allowedHeadersCached;\n    const fallbackAllowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n\n    const promise = (async () => {\n      try {\n        const response = await fetch(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {\n          method: 'OPTIONS'\n        });\n        const header = response.headers.get('access-control-allow-headers');\n\n        if (header == null || header === '*') {\n          allowedHeadersCache.set(this.hostname, fallbackAllowedHeaders);\n          return fallbackAllowedHeaders;\n        }\n\n        this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${header}`);\n        const allowedHeaders = header.split(',').map(headerName => headerName.trim().toLowerCase());\n        allowedHeadersCache.set(this.hostname, allowedHeaders);\n        return allowedHeaders;\n      } catch (err) {\n        this.uppy.log(`[CompanionClient] unable to make preflight request ${err}`, 'warning'); // If the user gets a network error or similar, we should try preflight\n        // again next time, or else we might get incorrect behaviour.\n\n        allowedHeadersCache.delete(this.hostname); // re-fetch next time\n\n        return fallbackAllowedHeaders;\n      }\n    })();\n\n    allowedHeadersCache.set(this.hostname, promise);\n    return promise;\n  }\n\n  async preflightAndHeaders(path) {\n    const [allowedHeaders, headers] = await Promise.all([this.preflight(path), this.headers()]); // filter to keep only allowed Headers\n\n    return Object.fromEntries(Object.entries(headers).filter(_ref2 => {\n      let [header] = _ref2;\n\n      if (!allowedHeaders.includes(header.toLowerCase())) {\n        this.uppy.log(`[CompanionClient] excluding disallowed header ${header}`);\n        return false;\n      }\n\n      return true;\n    }));\n  }\n\n  async get(path, options) {\n    if (options === void 0) {\n      options = undefined;\n    }\n\n    // TODO: remove boolean support for options that was added for backward compatibility.\n    // eslint-disable-next-line no-param-reassign\n    if (typeof options === 'boolean') options = {\n      skipPostResponse: options\n    };\n    return _classPrivateFieldLooseBase(this, _request)[_request]({ ...options,\n      path\n    });\n  }\n\n  async post(path, data, options) {\n    if (options === void 0) {\n      options = undefined;\n    }\n\n    // TODO: remove boolean support for options that was added for backward compatibility.\n    // eslint-disable-next-line no-param-reassign\n    if (typeof options === 'boolean') options = {\n      skipPostResponse: options\n    };\n    return _classPrivateFieldLooseBase(this, _request)[_request]({ ...options,\n      path,\n      method: 'POST',\n      data\n    });\n  }\n\n  async delete(path, data, options) {\n    if (data === void 0) {\n      data = undefined;\n    }\n\n    // TODO: remove boolean support for options that was added for backward compatibility.\n    // eslint-disable-next-line no-param-reassign\n    if (typeof options === 'boolean') options = {\n      skipPostResponse: options\n    };\n    return _classPrivateFieldLooseBase(this, _request)[_request]({ ...options,\n      path,\n      method: 'DELETE',\n      data\n    });\n  }\n\n}\n\nfunction _getUrl2(url) {\n  if (/^(https?:|)\\/\\//.test(url)) {\n    return url;\n  }\n\n  return `${this.hostname}/${url}`;\n}\n\nasync function _request2(_ref3) {\n  let {\n    path,\n    method = 'GET',\n    data,\n    skipPostResponse,\n    signal\n  } = _ref3;\n\n  try {\n    const headers = await this.preflightAndHeaders(path);\n    const response = await fetchWithNetworkError(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {\n      method,\n      signal,\n      headers,\n      credentials: this.opts.companionCookiesRule || 'same-origin',\n      body: data ? JSON.stringify(data) : null\n    });\n    if (!skipPostResponse) this.onReceiveResponse(response);\n    return handleJSONResponse(response);\n  } catch (err) {\n    if (err != null && err.isAuthError) throw err;\n    throw new ErrorWithCause(`Could not ${method} ${_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path)}`, {\n      cause: err\n    });\n  }\n}\n\nRequestClient.VERSION = packageJson.version;", "'use strict';\n/**\n * This module serves as an Async wrapper for LocalStorage\n */\n\nexport function setItem(key, value) {\n  return new Promise(resolve => {\n    localStorage.setItem(key, value);\n    resolve();\n  });\n}\nexport function getItem(key) {\n  return Promise.resolve(localStorage.getItem(key));\n}\nexport function removeItem(key) {\n  return new Promise(resolve => {\n    localStorage.removeItem(key);\n    resolve();\n  });\n}", "'use strict';\n\nimport RequestClient from './RequestClient.js';\nimport * as tokenStorage from './tokenStorage.js';\n\nconst getName = id => {\n  return id.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');\n};\n\nexport default class Provider extends RequestClient {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.provider = opts.provider;\n    this.id = this.provider;\n    this.name = this.opts.name || getName(this.id);\n    this.pluginId = this.opts.pluginId;\n    this.tokenKey = `companion-${this.pluginId}-auth-token`;\n    this.companionKeysParams = this.opts.companionKeysParams;\n    this.preAuthToken = null;\n  }\n\n  async headers() {\n    const [headers, token] = await Promise.all([super.headers(), this.getAuthToken()]);\n    const authHeaders = {};\n\n    if (token) {\n      authHeaders['uppy-auth-token'] = token;\n    }\n\n    if (this.companionKeysParams) {\n      authHeaders['uppy-credentials-params'] = btoa(JSON.stringify({\n        params: this.companionKeysParams\n      }));\n    }\n\n    return { ...headers,\n      ...authHeaders\n    };\n  }\n\n  onReceiveResponse(response) {\n    super.onReceiveResponse(response);\n    const plugin = this.uppy.getPlugin(this.pluginId);\n    const oldAuthenticated = plugin.getPluginState().authenticated;\n    const authenticated = oldAuthenticated ? response.status !== 401 : response.status < 400;\n    plugin.setPluginState({\n      authenticated\n    });\n    return response;\n  }\n\n  setAuthToken(token) {\n    return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey, token);\n  }\n\n  getAuthToken() {\n    return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);\n  }\n  /**\n   * Ensure we have a preauth token if necessary. Attempts to fetch one if we don't,\n   * or rejects if loading one fails.\n   */\n\n\n  async ensurePreAuth() {\n    if (this.companionKeysParams && !this.preAuthToken) {\n      await this.fetchPreAuthToken();\n\n      if (!this.preAuthToken) {\n        throw new Error('Could not load authentication data required for third-party login. Please try again later.');\n      }\n    }\n  }\n\n  authUrl(queries) {\n    if (queries === void 0) {\n      queries = {};\n    }\n\n    const params = new URLSearchParams(queries);\n\n    if (this.preAuthToken) {\n      params.set('uppyPreAuthToken', this.preAuthToken);\n    }\n\n    return `${this.hostname}/${this.id}/connect?${params}`;\n  }\n\n  fileUrl(id) {\n    return `${this.hostname}/${this.id}/get/${id}`;\n  }\n\n  async fetchPreAuthToken() {\n    if (!this.companionKeysParams) {\n      return;\n    }\n\n    try {\n      const res = await this.post(`${this.id}/preauth/`, {\n        params: this.companionKeysParams\n      });\n      this.preAuthToken = res.token;\n    } catch (err) {\n      this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${err}`, 'warning');\n    }\n  }\n\n  list(directory) {\n    return this.get(`${this.id}/list/${directory || ''}`);\n  }\n\n  logout() {\n    return this.get(`${this.id}/logout`).then(response => Promise.all([response, this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(_ref => {\n      let [response] = _ref;\n      return response;\n    });\n  }\n\n  static initPlugin(plugin, opts, defaultOpts) {\n    /* eslint-disable no-param-reassign */\n    plugin.type = 'acquirer';\n    plugin.files = [];\n\n    if (defaultOpts) {\n      plugin.opts = { ...defaultOpts,\n        ...opts\n      };\n    }\n\n    if (opts.serverUrl || opts.serverPattern) {\n      throw new Error('`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`');\n    }\n\n    if (opts.companionAllowedHosts) {\n      const pattern = opts.companionAllowedHosts; // validate companionAllowedHosts param\n\n      if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {\n        throw new TypeError(`${plugin.id}: the option \"companionAllowedHosts\" must be one of string, Array, RegExp`);\n      }\n\n      plugin.opts.companionAllowedHosts = pattern;\n    } else if (/^(?!https?:\\/\\/).*$/i.test(opts.companionUrl)) {\n      // does not start with https://\n      plugin.opts.companionAllowedHosts = `https://${opts.companionUrl.replace(/^\\/\\//, '')}`;\n    } else {\n      plugin.opts.companionAllowedHosts = new URL(opts.companionUrl).origin;\n    }\n\n    plugin.storage = plugin.opts.storage || tokenStorage;\n    /* eslint-enable no-param-reassign */\n  }\n\n}", "let _Symbol$for, _Symbol$for2;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport ee from 'namespace-emitter';\n\nvar _queued = /*#__PURE__*/_classPrivateFieldLooseKey(\"queued\");\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _isOpen = /*#__PURE__*/_classPrivateFieldLooseKey(\"isOpen\");\n\nvar _socket = /*#__PURE__*/_classPrivateFieldLooseKey(\"socket\");\n\nvar _handleMessage = /*#__PURE__*/_classPrivateFieldLooseKey(\"handleMessage\");\n\n_Symbol$for = Symbol.for('uppy test: getSocket');\n_Symbol$for2 = Symbol.for('uppy test: getQueued');\nexport default class UppySocket {\n  constructor(opts) {\n    Object.defineProperty(this, _queued, {\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _isOpen, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _socket, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _handleMessage, {\n      writable: true,\n      value: e => {\n        try {\n          const message = JSON.parse(e.data);\n          this.emit(message.action, message.payload);\n        } catch (err) {\n          // TODO: use a more robust error handler.\n          console.log(err); // eslint-disable-line no-console\n        }\n      }\n    });\n    this.opts = opts;\n\n    if (!opts || opts.autoOpen !== false) {\n      this.open();\n    }\n  }\n\n  get isOpen() {\n    return _classPrivateFieldLooseBase(this, _isOpen)[_isOpen];\n  }\n\n  [_Symbol$for]() {\n    return _classPrivateFieldLooseBase(this, _socket)[_socket];\n  }\n\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _queued)[_queued];\n  }\n\n  open() {\n    _classPrivateFieldLooseBase(this, _socket)[_socket] = new WebSocket(this.opts.target);\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].onopen = () => {\n      _classPrivateFieldLooseBase(this, _isOpen)[_isOpen] = true;\n\n      while (_classPrivateFieldLooseBase(this, _queued)[_queued].length > 0 && _classPrivateFieldLooseBase(this, _isOpen)[_isOpen]) {\n        const first = _classPrivateFieldLooseBase(this, _queued)[_queued].shift();\n\n        this.send(first.action, first.payload);\n      }\n    };\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].onclose = () => {\n      _classPrivateFieldLooseBase(this, _isOpen)[_isOpen] = false;\n    };\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].onmessage = _classPrivateFieldLooseBase(this, _handleMessage)[_handleMessage];\n  }\n\n  close() {\n    var _classPrivateFieldLoo;\n\n    (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _socket)[_socket]) == null ? void 0 : _classPrivateFieldLoo.close();\n  }\n\n  send(action, payload) {\n    // attach uuid\n    if (!_classPrivateFieldLooseBase(this, _isOpen)[_isOpen]) {\n      _classPrivateFieldLooseBase(this, _queued)[_queued].push({\n        action,\n        payload\n      });\n\n      return;\n    }\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].send(JSON.stringify({\n      action,\n      payload\n    }));\n  }\n\n  on(action, handler) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(action, handler);\n  }\n\n  emit(action, payload) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(action, payload);\n  }\n\n  once(action, handler) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(action, handler);\n  }\n\n}", "import throttle from 'lodash.throttle';\n\nfunction emitSocketProgress(uploader, progressData, file) {\n  const {\n    progress,\n    bytesUploaded,\n    bytesTotal\n  } = progressData;\n\n  if (progress) {\n    uploader.uppy.log(`Upload progress: ${progress}`);\n    uploader.uppy.emit('upload-progress', file, {\n      uploader,\n      bytesUploaded,\n      bytesTotal\n    });\n  }\n}\n\nexport default throttle(emitSocketProgress, 300, {\n  leading: true,\n  trailing: true\n});", "export default function getSocketHost(url) {\n  // get the host domain\n  const regex = /^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/i;\n  const host = regex.exec(url)[1];\n  const socketProtocol = /^http:\\/\\//i.test(url) ? 'ws' : 'wss';\n  return `${socketProtocol}://${host}`;\n}", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _events = /*#__PURE__*/_classPrivateFieldLooseKey(\"events\");\n\n/**\n * Create a wrapper around an event emitter with a `remove` method to remove\n * all events that were added using the wrapped emitter.\n */\nexport default class EventTracker {\n  constructor(emitter) {\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _events, {\n      writable: true,\n      value: []\n    });\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter] = emitter;\n  }\n\n  on(event, fn) {\n    _classPrivateFieldLooseBase(this, _events)[_events].push([event, fn]);\n\n    return _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, fn);\n  }\n\n  remove() {\n    for (const [event, fn] of _classPrivateFieldLooseBase(this, _events)[_events].splice(0)) {\n      _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, fn);\n    }\n  }\n\n}", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nvar _aliveTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"aliveTimer\");\n\nvar _isDone = /*#__PURE__*/_classPrivateFieldLooseKey(\"isDone\");\n\nvar _onTimedOut = /*#__PURE__*/_classPrivateFieldLooseKey(\"onTimedOut\");\n\nvar _timeout = /*#__PURE__*/_classPrivateFieldLooseKey(\"timeout\");\n\n/**\n * Helper to abort upload requests if there has not been any progress for `timeout` ms.\n * Create an instance using `timer = new ProgressTimeout(10000, onTimeout)`\n * Call `timer.progress()` to signal that there has been progress of any kind.\n * Call `timer.done()` when the upload has completed.\n */\nclass ProgressTimeout {\n  constructor(timeout, timeoutHandler) {\n    Object.defineProperty(this, _aliveTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _isDone, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _onTimedOut, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _timeout, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldLooseBase(this, _timeout)[_timeout] = timeout;\n    _classPrivateFieldLooseBase(this, _onTimedOut)[_onTimedOut] = timeoutHandler;\n  }\n\n  progress() {\n    // Some browsers fire another progress event when the upload is\n    // cancelled, so we have to ignore progress after the timer was\n    // told to stop.\n    if (_classPrivateFieldLooseBase(this, _isDone)[_isDone]) return;\n\n    if (_classPrivateFieldLooseBase(this, _timeout)[_timeout] > 0) {\n      clearTimeout(_classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer]);\n      _classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer] = setTimeout(_classPrivateFieldLooseBase(this, _onTimedOut)[_onTimedOut], _classPrivateFieldLooseBase(this, _timeout)[_timeout]);\n    }\n  }\n\n  done() {\n    if (!_classPrivateFieldLooseBase(this, _isDone)[_isDone]) {\n      clearTimeout(_classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer]);\n      _classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer] = null;\n      _classPrivateFieldLooseBase(this, _isDone)[_isDone] = true;\n    }\n  }\n\n}\n\nexport default ProgressTimeout;", "function isNetworkError(xhr) {\n  if (!xhr) {\n    return false;\n  }\n\n  return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;\n}\n\nexport default isNetworkError;", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { nanoid } from 'nanoid/non-secure';\nimport { Provider, RequestClient, Socket } from '@uppy/companion-client';\nimport emitSocketProgress from '@uppy/utils/lib/emitSocketProgress';\nimport getSocketHost from '@uppy/utils/lib/getSocketHost';\nimport EventTracker from '@uppy/utils/lib/EventTracker';\nimport ProgressTimeout from '@uppy/utils/lib/ProgressTimeout';\nimport ErrorWithCause from '@uppy/utils/lib/ErrorWithCause';\nimport NetworkError from '@uppy/utils/lib/NetworkError';\nimport isNetworkError from '@uppy/utils/lib/isNetworkError';\nimport { internalRateLimitedQueue } from '@uppy/utils/lib/RateLimitedQueue'; // See XHRUpload\n\nfunction buildResponseError(xhr, error) {\n  if (isNetworkError(xhr)) return new NetworkError(error, xhr);\n  const err = new ErrorWithCause('Upload error', {\n    cause: error\n  });\n  err.request = xhr;\n  return err;\n} // See XHRUpload\n\n\nfunction setTypeInBlob(file) {\n  const dataWithUpdatedType = file.data.slice(0, file.data.size, file.meta.type);\n  return dataWithUpdatedType;\n}\n\nfunction addMetadata(formData, meta, opts) {\n  const allowedMetaFields = Array.isArray(opts.allowedMetaFields) ? opts.allowedMetaFields // Send along all fields by default.\n  : Object.keys(meta);\n  allowedMetaFields.forEach(item => {\n    formData.append(item, meta[item]);\n  });\n}\n\nfunction createFormDataUpload(file, opts) {\n  const formPost = new FormData();\n  addMetadata(formPost, file.meta, opts);\n  const dataWithUpdatedType = setTypeInBlob(file);\n\n  if (file.name) {\n    formPost.append(opts.fieldName, dataWithUpdatedType, file.meta.name);\n  } else {\n    formPost.append(opts.fieldName, dataWithUpdatedType);\n  }\n\n  return formPost;\n}\n\nconst createBareUpload = file => file.data;\n\nvar _queueRequestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueRequestSocketToken\");\n\nvar _getOptions = /*#__PURE__*/_classPrivateFieldLooseKey(\"getOptions\");\n\nvar _addEventHandlerForFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"addEventHandlerForFile\");\n\nvar _addEventHandlerIfFileStillExists = /*#__PURE__*/_classPrivateFieldLooseKey(\"addEventHandlerIfFileStillExists\");\n\nvar _uploadLocalFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploadLocalFile\");\n\nvar _requestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey(\"requestSocketToken\");\n\nvar _uploadRemoteFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploadRemoteFile\");\n\nexport default class MiniXHRUpload {\n  constructor(_uppy, _opts) {\n    Object.defineProperty(this, _uploadRemoteFile, {\n      value: _uploadRemoteFile2\n    });\n    Object.defineProperty(this, _uploadLocalFile, {\n      value: _uploadLocalFile2\n    });\n    Object.defineProperty(this, _addEventHandlerIfFileStillExists, {\n      value: _addEventHandlerIfFileStillExists2\n    });\n    Object.defineProperty(this, _addEventHandlerForFile, {\n      value: _addEventHandlerForFile2\n    });\n    Object.defineProperty(this, _getOptions, {\n      value: _getOptions2\n    });\n    Object.defineProperty(this, _queueRequestSocketToken, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _requestSocketToken, {\n      writable: true,\n      value: async file => {\n        const opts = _classPrivateFieldLooseBase(this, _getOptions)[_getOptions](file);\n\n        const Client = file.remote.providerOptions.provider ? Provider : RequestClient;\n        const client = new Client(this.uppy, file.remote.providerOptions);\n        const allowedMetaFields = Array.isArray(opts.allowedMetaFields) ? opts.allowedMetaFields // Send along all fields by default.\n        : Object.keys(file.meta);\n\n        if (file.tus) {\n          // Install file-specific upload overrides.\n          Object.assign(opts, file.tus);\n        }\n\n        const res = await client.post(file.remote.url, { ...file.remote.body,\n          protocol: 'multipart',\n          endpoint: opts.endpoint,\n          size: file.data.size,\n          fieldname: opts.fieldName,\n          metadata: Object.fromEntries(allowedMetaFields.map(name => [name, file.meta[name]])),\n          httpMethod: opts.method,\n          useFormData: opts.formData,\n          headers: opts.headers\n        });\n        return res.token;\n      }\n    });\n    this.uppy = _uppy;\n    this.opts = {\n      validateStatus(status) {\n        return status >= 200 && status < 300;\n      },\n\n      ..._opts\n    };\n    this.requests = _opts[internalRateLimitedQueue];\n    this.uploaderEvents = Object.create(null);\n    this.i18n = _opts.i18n;\n    _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken] = this.requests.wrapPromiseFunction(_classPrivateFieldLooseBase(this, _requestSocketToken)[_requestSocketToken], {\n      priority: -1\n    });\n  }\n\n  uploadFile(id, current, total) {\n    const file = this.uppy.getFile(id);\n\n    if (file.error) {\n      throw new Error(file.error);\n    } else if (file.isRemote) {\n      return _classPrivateFieldLooseBase(this, _uploadRemoteFile)[_uploadRemoteFile](file, current, total);\n    }\n\n    return _classPrivateFieldLooseBase(this, _uploadLocalFile)[_uploadLocalFile](file, current, total);\n  }\n\n  connectToServerSocket(file) {\n    return new Promise((resolve, reject) => {\n      const opts = _classPrivateFieldLooseBase(this, _getOptions)[_getOptions](file);\n\n      const token = file.serverToken;\n      const host = getSocketHost(file.remote.companionUrl);\n      let socket;\n\n      const createSocket = () => {\n        if (socket != null) return;\n        socket = new Socket({\n          target: `${host}/api/${token}`\n        });\n        socket.on('progress', progressData => emitSocketProgress(this, progressData, file));\n        socket.on('success', data => {\n          const body = opts.getResponseData(data.response.responseText, data.response);\n          const uploadURL = body[opts.responseUrlFieldName];\n          const uploadResp = {\n            status: data.response.status,\n            body,\n            uploadURL,\n            bytesUploaded: data.bytesUploaded\n          };\n          this.uppy.emit('upload-success', file, uploadResp);\n          queuedRequest.done(); // eslint-disable-line no-use-before-define\n\n          socket.close();\n\n          if (this.uploaderEvents[file.id]) {\n            this.uploaderEvents[file.id].remove();\n            this.uploaderEvents[file.id] = null;\n          }\n\n          return resolve();\n        });\n        socket.on('error', errData => {\n          const resp = errData.response;\n          const error = resp ? opts.getResponseError(resp.responseText, resp) : new ErrorWithCause(errData.error.message, {\n            cause: errData.error\n          });\n          this.uppy.emit('upload-error', file, error);\n          queuedRequest.done(); // eslint-disable-line no-use-before-define\n\n          if (this.uploaderEvents[file.id]) {\n            this.uploaderEvents[file.id].remove();\n            this.uploaderEvents[file.id] = null;\n          }\n\n          reject(error);\n        });\n      };\n\n      this.uploaderEvents[file.id] = new EventTracker(this.uppy);\n      let queuedRequest = this.requests.run(() => {\n        if (file.isPaused) {\n          var _socket;\n\n          (_socket = socket) == null ? void 0 : _socket.send('pause', {});\n        } else {\n          createSocket();\n        }\n\n        return () => socket.close();\n      });\n\n      _classPrivateFieldLooseBase(this, _addEventHandlerForFile)[_addEventHandlerForFile]('file-removed', file.id, () => {\n        var _socket2;\n\n        (_socket2 = socket) == null ? void 0 : _socket2.send('cancel', {});\n        queuedRequest.abort();\n        resolve(`upload ${file.id} was removed`);\n      });\n\n      _classPrivateFieldLooseBase(this, _addEventHandlerIfFileStillExists)[_addEventHandlerIfFileStillExists]('cancel-all', file.id, function (_temp) {\n        let {\n          reason\n        } = _temp === void 0 ? {} : _temp;\n\n        if (reason === 'user') {\n          var _socket3;\n\n          (_socket3 = socket) == null ? void 0 : _socket3.send('cancel', {});\n          queuedRequest.abort();\n        }\n\n        resolve(`upload ${file.id} was canceled`);\n      });\n\n      const onRetryRequest = () => {\n        if (socket == null) {\n          queuedRequest.abort();\n        } else {\n          socket.send('pause', {});\n          queuedRequest.done();\n        }\n\n        queuedRequest = this.requests.run(() => {\n          if (!file.isPaused) {\n            if (socket == null) {\n              createSocket();\n            } else {\n              socket.send('resume', {});\n            }\n          }\n\n          return () => socket.close();\n        });\n      };\n\n      _classPrivateFieldLooseBase(this, _addEventHandlerForFile)[_addEventHandlerForFile]('upload-retry', file.id, onRetryRequest);\n\n      _classPrivateFieldLooseBase(this, _addEventHandlerIfFileStillExists)[_addEventHandlerIfFileStillExists]('retry-all', file.id, onRetryRequest);\n    }).catch(err => {\n      this.uppy.emit('upload-error', file, err);\n      return Promise.reject(err);\n    });\n  }\n\n}\n\nfunction _getOptions2(file) {\n  var _file$xhrUpload;\n\n  const {\n    uppy\n  } = this;\n  const overrides = uppy.getState().xhrUpload;\n  const opts = { ...this.opts,\n    ...(overrides || {}),\n    ...(file.xhrUpload || {}),\n    headers: { ...this.opts.headers,\n      ...(overrides == null ? void 0 : overrides.headers),\n      ...((_file$xhrUpload = file.xhrUpload) == null ? void 0 : _file$xhrUpload.headers)\n    }\n  };\n  return opts;\n}\n\nfunction _addEventHandlerForFile2(eventName, fileID, eventHandler) {\n  this.uploaderEvents[fileID].on(eventName, fileOrID => {\n    var _fileOrID$id;\n\n    // TODO (major): refactor Uppy events to consistently send file objects (or consistently IDs)\n    // We created a generic `addEventListenerForFile` but not all events\n    // use file IDs, some use files, so we need to do this weird check.\n    const id = (_fileOrID$id = fileOrID == null ? void 0 : fileOrID.id) != null ? _fileOrID$id : fileOrID;\n    if (fileID === id) eventHandler();\n  });\n}\n\nfunction _addEventHandlerIfFileStillExists2(eventName, fileID, eventHandler) {\n  var _this = this;\n\n  this.uploaderEvents[fileID].on(eventName, function () {\n    if (_this.uppy.getFile(fileID)) eventHandler(...arguments);\n  });\n}\n\nfunction _uploadLocalFile2(file, current, total) {\n  const opts = _classPrivateFieldLooseBase(this, _getOptions)[_getOptions](file);\n\n  this.uppy.log(`uploading ${current} of ${total}`);\n  return new Promise((resolve, reject) => {\n    // This is done in index.js in the S3 plugin.\n    // this.uppy.emit('upload-started', file)\n    const data = opts.formData ? createFormDataUpload(file, opts) : createBareUpload(file, opts);\n    const xhr = new XMLHttpRequest();\n    this.uploaderEvents[file.id] = new EventTracker(this.uppy);\n    const timer = new ProgressTimeout(opts.timeout, () => {\n      xhr.abort(); // eslint-disable-next-line no-use-before-define\n\n      queuedRequest.done();\n      const error = new Error(this.i18n('timedOut', {\n        seconds: Math.ceil(opts.timeout / 1000)\n      }));\n      this.uppy.emit('upload-error', file, error);\n      reject(error);\n    });\n    const id = nanoid();\n    xhr.upload.addEventListener('loadstart', () => {\n      this.uppy.log(`[AwsS3/XHRUpload] ${id} started`);\n    });\n    xhr.upload.addEventListener('progress', ev => {\n      this.uppy.log(`[AwsS3/XHRUpload] ${id} progress: ${ev.loaded} / ${ev.total}`); // Begin checking for timeouts when progress starts, instead of loading,\n      // to avoid timing out requests on browser concurrency queue\n\n      timer.progress();\n\n      if (ev.lengthComputable) {\n        this.uppy.emit('upload-progress', file, {\n          uploader: this,\n          bytesUploaded: ev.loaded,\n          bytesTotal: ev.total\n        });\n      }\n    });\n    xhr.addEventListener('load', ev => {\n      this.uppy.log(`[AwsS3/XHRUpload] ${id} finished`);\n      timer.done(); // eslint-disable-next-line no-use-before-define\n\n      queuedRequest.done();\n\n      if (this.uploaderEvents[file.id]) {\n        this.uploaderEvents[file.id].remove();\n        this.uploaderEvents[file.id] = null;\n      }\n\n      if (opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n        const body = opts.getResponseData(xhr.responseText, xhr);\n        const uploadURL = body[opts.responseUrlFieldName];\n        const uploadResp = {\n          status: ev.target.status,\n          body,\n          uploadURL\n        };\n        this.uppy.emit('upload-success', file, uploadResp);\n\n        if (uploadURL) {\n          this.uppy.log(`Download ${file.name} from ${uploadURL}`);\n        }\n\n        return resolve(file);\n      }\n\n      const body = opts.getResponseData(xhr.responseText, xhr);\n      const error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n      const response = {\n        status: ev.target.status,\n        body\n      };\n      this.uppy.emit('upload-error', file, error, response);\n      return reject(error);\n    });\n    xhr.addEventListener('error', () => {\n      this.uppy.log(`[AwsS3/XHRUpload] ${id} errored`);\n      timer.done(); // eslint-disable-next-line no-use-before-define\n\n      queuedRequest.done();\n\n      if (this.uploaderEvents[file.id]) {\n        this.uploaderEvents[file.id].remove();\n        this.uploaderEvents[file.id] = null;\n      }\n\n      const error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n      this.uppy.emit('upload-error', file, error);\n      return reject(error);\n    });\n    xhr.open(opts.method.toUpperCase(), opts.endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n    // before `open()` is called. It\u2019s important to set withCredentials\n    // to a boolean, otherwise React Native crashes\n\n    xhr.withCredentials = Boolean(opts.withCredentials);\n\n    if (opts.responseType !== '') {\n      xhr.responseType = opts.responseType;\n    }\n\n    Object.keys(opts.headers).forEach(header => {\n      xhr.setRequestHeader(header, opts.headers[header]);\n    });\n    const queuedRequest = this.requests.run(() => {\n      xhr.send(data);\n      return () => {\n        // eslint-disable-next-line no-use-before-define\n        timer.done();\n        xhr.abort();\n      };\n    }, {\n      priority: 1\n    });\n\n    _classPrivateFieldLooseBase(this, _addEventHandlerForFile)[_addEventHandlerForFile]('file-removed', file.id, () => {\n      queuedRequest.abort();\n      reject(new Error('File removed'));\n    });\n\n    _classPrivateFieldLooseBase(this, _addEventHandlerIfFileStillExists)[_addEventHandlerIfFileStillExists]('cancel-all', file.id, function (_temp2) {\n      let {\n        reason\n      } = _temp2 === void 0 ? {} : _temp2;\n\n      if (reason === 'user') {\n        queuedRequest.abort();\n      }\n\n      reject(new Error('Upload cancelled'));\n    });\n  });\n}\n\nasync function _uploadRemoteFile2(file) {\n  // TODO: we could rewrite this to use server-sent events instead of creating WebSockets.\n  try {\n    if (file.serverToken) {\n      return this.connectToServerSocket(file);\n    }\n\n    const serverToken = await _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken](file);\n    if (!this.uppy.getState().files[file.id]) return undefined;\n    this.uppy.setFileState(file.id, {\n      serverToken\n    });\n    return this.connectToServerSocket(this.uppy.getFile(file.id));\n  } catch (err) {\n    this.uppy.emit('upload-error', file, err);\n    throw err;\n  }\n}", "/**\n * Remove parameters like `charset=utf-8` from the end of a mime type string.\n *\n * @param {string} mimeType - The mime type string that may have optional parameters.\n * @returns {string} The \"base\" mime type, i.e. only 'category/type'.\n */\nfunction removeMimeParameters(mimeType) {\n  return mimeType.replace(/;.*$/, '');\n}\n/**\n * Check if a response contains XML based on the response object and its text content.\n *\n * @param {string} content - The text body of the response.\n * @param {object|XMLHttpRequest} xhr - The XHR object or response object from Companion.\n * @returns {bool} Whether the content is (probably) XML.\n */\n\n\nfunction isXml(content, xhr) {\n  const rawContentType = xhr.headers ? xhr.headers['content-type'] : xhr.getResponseHeader('Content-Type');\n\n  if (typeof rawContentType === 'string') {\n    const contentType = removeMimeParameters(rawContentType).toLowerCase();\n\n    if (contentType === 'application/xml' || contentType === 'text/xml') {\n      return true;\n    } // GCS uses text/html for some reason\n    // https://github.com/transloadit/uppy/issues/896\n\n\n    if (contentType === 'text/html' && /^<\\?xml /.test(content)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport default isXml;", "export default {\n  strings: {\n    timedOut: 'Upload stalled for %{seconds} seconds, aborting.'\n  }\n};", "let _Symbol$for;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\n/**\n * This plugin is currently a A Big Hack\u2122! The core reason for that is how this plugin\n * interacts with Uppy's current pipeline design. The pipeline can handle files in steps,\n * including preprocessing, uploading, and postprocessing steps. This plugin initially\n * was designed to do its work in a preprocessing step, and let XHRUpload deal with the\n * actual file upload as an uploading step. However, Uppy runs steps on all files at once,\n * sequentially: first, all files go through a preprocessing step, then, once they are all\n * done, they go through the uploading step.\n *\n * For S3, this causes severely broken behaviour when users upload many files. The\n * preprocessing step will request S3 upload URLs that are valid for a short time only,\n * but it has to do this for _all_ files, which can take a long time if there are hundreds\n * or even thousands of files. By the time the uploader step starts, the first URLs may\n * already have expired. If not, the uploading might take such a long time that later URLs\n * will expire before some files can be uploaded.\n *\n * The long-term solution to this problem is to change the upload pipeline so that files\n * can be sent to the next step individually. That requires a breaking change, so it is\n * planned for some future Uppy version.\n *\n * In the mean time, this plugin is stuck with a hackier approach: the necessary parts\n * of the XHRUpload implementation were copied into this plugin, as the MiniXHRUpload\n * class, and this plugin calls into it immediately once it receives an upload URL.\n * This isn't as nicely modular as we'd like and requires us to maintain two copies of\n * the XHRUpload code, but at least it's not horrifically broken :)\n */\nimport BasePlugin from '@uppy/core/lib/BasePlugin.js';\nimport { RateLimitedQueue, internalRateLimitedQueue } from '@uppy/utils/lib/RateLimitedQueue';\nimport { RequestClient } from '@uppy/companion-client';\nconst packageJson = {\n  \"version\": \"3.0.5\"\n};\nimport MiniXHRUpload from './MiniXHRUpload.js';\nimport isXml from './isXml.js';\nimport locale from './locale.js';\n\nfunction resolveUrl(origin, link) {\n  // DigitalOcean doesn\u2019t return the protocol from Location\n  // without it, the `new URL` constructor will fail\n  if (!origin && !link.startsWith('https://') && !link.startsWith('http://')) {\n    link = `https://${link}`; // eslint-disable-line no-param-reassign\n  }\n\n  return new URL(link, origin || undefined).toString();\n}\n/**\n * Get the contents of a named tag in an XML source string.\n *\n * @param {string} source - The XML source string.\n * @param {string} tagName - The name of the tag.\n * @returns {string} The contents of the tag, or the empty string if the tag does not exist.\n */\n\n\nfunction getXmlValue(source, tagName) {\n  const start = source.indexOf(`<${tagName}>`);\n  const end = source.indexOf(`</${tagName}>`, start);\n  return start !== -1 && end !== -1 ? source.slice(start + tagName.length + 2, end) : '';\n}\n\nfunction assertServerError(res) {\n  if (res && res.error) {\n    const error = new Error(res.message);\n    Object.assign(error, res.error);\n    throw error;\n  }\n\n  return res;\n}\n\nfunction validateParameters(file, params) {\n  const valid = params != null && typeof params.url === 'string' && (typeof params.fields === 'object' || params.fields == null);\n\n  if (!valid) {\n    const err = new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${file.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(params)}' instead.\\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);\n    throw err;\n  }\n\n  const methodIsValid = params.method == null || /^p(u|os)t$/i.test(params.method);\n\n  if (!methodIsValid) {\n    const err = new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${file.name}', expected  'put' or 'post' but got '${params.method}' instead.\\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);\n    throw err;\n  }\n} // Get the error data from a failed XMLHttpRequest instance.\n// `content` is the S3 response as a string.\n// `xhr` is the XMLHttpRequest instance.\n\n\nfunction defaultGetResponseError(content, xhr) {\n  // If no response, we don't have a specific error message, use the default.\n  if (!isXml(content, xhr)) {\n    return undefined;\n  }\n\n  const error = getXmlValue(content, 'Message');\n  return new Error(error);\n} // warning deduplication flag: see `getResponseData()` XHRUpload option definition\n\n\nlet warnedSuccessActionStatus = false;\n\nvar _client = /*#__PURE__*/_classPrivateFieldLooseKey(\"client\");\n\nvar _requests = /*#__PURE__*/_classPrivateFieldLooseKey(\"requests\");\n\nvar _uploader = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploader\");\n\nvar _handleUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"handleUpload\");\n\nvar _setCompanionHeaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"setCompanionHeaders\");\n\n_Symbol$for = Symbol.for('uppy test: getClient');\nexport default class AwsS3 extends BasePlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    Object.defineProperty(this, _client, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _requests, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _uploader, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _handleUpload, {\n      writable: true,\n      value: fileIDs => {\n        /**\n         * keep track of `getUploadParameters()` responses\n         * so we can cancel the calls individually using just a file ID\n         *\n         * @type {Record<string, import('@uppy/utils/lib/RateLimitedQueue').AbortablePromise<unknown>>}\n         */\n        const paramsPromises = Object.create(null);\n\n        function onremove(file) {\n          var _paramsPromises$id;\n\n          const {\n            id\n          } = file;\n          (_paramsPromises$id = paramsPromises[id]) == null ? void 0 : _paramsPromises$id.abort();\n        }\n\n        this.uppy.on('file-removed', onremove);\n        fileIDs.forEach(id => {\n          const file = this.uppy.getFile(id);\n          this.uppy.emit('upload-started', file);\n        });\n\n        const getUploadParameters = _classPrivateFieldLooseBase(this, _requests)[_requests].wrapPromiseFunction(file => {\n          return this.opts.getUploadParameters(file);\n        });\n\n        const numberOfFiles = fileIDs.length;\n        return Promise.allSettled(fileIDs.map((id, index) => {\n          paramsPromises[id] = getUploadParameters(this.uppy.getFile(id));\n          return paramsPromises[id].then(params => {\n            delete paramsPromises[id];\n            const file = this.uppy.getFile(id);\n            validateParameters(file, params);\n            const {\n              method = 'post',\n              url,\n              fields,\n              headers\n            } = params;\n            const xhrOpts = {\n              method,\n              formData: method.toLowerCase() === 'post',\n              endpoint: url,\n              allowedMetaFields: fields ? Object.keys(fields) : []\n            };\n\n            if (headers) {\n              xhrOpts.headers = headers;\n            }\n\n            this.uppy.setFileState(file.id, {\n              meta: { ...file.meta,\n                ...fields\n              },\n              xhrUpload: xhrOpts\n            });\n            return _classPrivateFieldLooseBase(this, _uploader)[_uploader].uploadFile(file.id, index, numberOfFiles);\n          }).catch(error => {\n            delete paramsPromises[id];\n            const file = this.uppy.getFile(id);\n            this.uppy.emit('upload-error', file, error);\n            return Promise.reject(error);\n          });\n        })).finally(() => {\n          // cleanup.\n          this.uppy.off('file-removed', onremove);\n        });\n      }\n    });\n    Object.defineProperty(this, _setCompanionHeaders, {\n      writable: true,\n      value: () => {\n        _classPrivateFieldLooseBase(this, _client)[_client].setCompanionHeaders(this.opts.companionHeaders);\n\n        return Promise.resolve();\n      }\n    });\n    this.type = 'uploader';\n    this.id = this.opts.id || 'AwsS3';\n    this.title = 'AWS S3';\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      timeout: 30 * 1000,\n      limit: 0,\n      allowedMetaFields: [],\n      // have to opt in\n      getUploadParameters: this.getUploadParameters.bind(this),\n      companionHeaders: {}\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n\n    if ((opts == null ? void 0 : opts.allowedMetaFields) === undefined && 'metaFields' in this.opts) {\n      throw new Error('The `metaFields` option has been renamed to `allowedMetaFields`.');\n    } // TODO: remove i18n once we can depend on XHRUpload instead of MiniXHRUpload\n\n\n    this.i18nInit();\n    _classPrivateFieldLooseBase(this, _client)[_client] = new RequestClient(uppy, opts);\n    _classPrivateFieldLooseBase(this, _requests)[_requests] = new RateLimitedQueue(this.opts.limit);\n  }\n\n  [_Symbol$for]() {\n    return _classPrivateFieldLooseBase(this, _client)[_client];\n  } // TODO: remove getter and setter for #client on the next major release\n\n\n  get client() {\n    return _classPrivateFieldLooseBase(this, _client)[_client];\n  }\n\n  set client(client) {\n    _classPrivateFieldLooseBase(this, _client)[_client] = client;\n  }\n\n  getUploadParameters(file) {\n    if (!this.opts.companionUrl) {\n      throw new Error('Expected a `companionUrl` option containing a Companion address.');\n    }\n\n    const filename = file.meta.name;\n    const {\n      type\n    } = file.meta;\n    const metadata = Object.fromEntries(this.opts.allowedMetaFields.filter(key => file.meta[key] != null).map(key => [`metadata[${key}]`, file.meta[key].toString()]));\n    const query = new URLSearchParams({\n      filename,\n      type,\n      ...metadata\n    });\n    return _classPrivateFieldLooseBase(this, _client)[_client].get(`s3/params?${query}`).then(assertServerError);\n  }\n\n  install() {\n    const {\n      uppy\n    } = this;\n    uppy.addPreProcessor(_classPrivateFieldLooseBase(this, _setCompanionHeaders)[_setCompanionHeaders]);\n    uppy.addUploader(_classPrivateFieldLooseBase(this, _handleUpload)[_handleUpload]); // Get the response data from a successful XMLHttpRequest instance.\n    // `content` is the S3 response as a string.\n    // `xhr` is the XMLHttpRequest instance.\n\n    function defaultGetResponseData(content, xhr) {\n      const opts = this; // If no response, we've hopefully done a PUT request to the file\n      // in the bucket on its full URL.\n\n      if (!isXml(content, xhr)) {\n        if (opts.method.toUpperCase() === 'POST') {\n          if (!warnedSuccessActionStatus) {\n            uppy.log('[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads', 'warning');\n            warnedSuccessActionStatus = true;\n          } // The responseURL won't contain the object key. Give up.\n\n\n          return {\n            location: null\n          };\n        } // responseURL is not available in older browsers.\n\n\n        if (!xhr.responseURL) {\n          return {\n            location: null\n          };\n        } // Trim the query string because it's going to be a bunch of presign\n        // parameters for a PUT request\u2014doing a GET request with those will\n        // always result in an error\n\n\n        return {\n          location: xhr.responseURL.replace(/\\?.*$/, '')\n        };\n      }\n\n      return {\n        // Some S3 alternatives do not reply with an absolute URL.\n        // Eg DigitalOcean Spaces uses /$bucketName/xyz\n        location: resolveUrl(xhr.responseURL, getXmlValue(content, 'Location')),\n        bucket: getXmlValue(content, 'Bucket'),\n        key: getXmlValue(content, 'Key'),\n        etag: getXmlValue(content, 'ETag')\n      };\n    }\n\n    const xhrOptions = {\n      fieldName: 'file',\n      responseUrlFieldName: 'location',\n      timeout: this.opts.timeout,\n      // Share the rate limiting queue with XHRUpload.\n      [internalRateLimitedQueue]: _classPrivateFieldLooseBase(this, _requests)[_requests],\n      responseType: 'text',\n      getResponseData: this.opts.getResponseData || defaultGetResponseData,\n      getResponseError: defaultGetResponseError\n    }; // TODO: remove i18n once we can depend on XHRUpload instead of MiniXHRUpload\n\n    xhrOptions.i18n = this.i18n; // Revert to `uppy.use(XHRUpload)` once the big comment block at the top of\n    // this file is solved\n\n    _classPrivateFieldLooseBase(this, _uploader)[_uploader] = new MiniXHRUpload(uppy, xhrOptions);\n  }\n\n  uninstall() {\n    this.uppy.removePreProcessor(_classPrivateFieldLooseBase(this, _setCompanionHeaders)[_setCompanionHeaders]);\n    this.uppy.removeUploader(_classPrivateFieldLooseBase(this, _handleUpload)[_handleUpload]);\n  }\n\n}\nAwsS3.VERSION = packageJson.version;", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\nfunction createCancelError(cause) {\n  return new Error('Cancelled', {\n    cause\n  });\n}\nfunction abortOn(signal) {\n  if (signal != null) {\n    var _this$then;\n    const abortPromise = () => this.abort(signal.reason);\n    signal.addEventListener('abort', abortPromise, {\n      once: true\n    });\n    const removeAbortListener = () => {\n      signal.removeEventListener('abort', abortPromise);\n    };\n    (_this$then = this.then) == null || _this$then.call(this, removeAbortListener, removeAbortListener);\n  }\n  return this;\n}\nvar _activeRequests = /*#__PURE__*/_classPrivateFieldLooseKey(\"activeRequests\");\nvar _queuedHandlers = /*#__PURE__*/_classPrivateFieldLooseKey(\"queuedHandlers\");\nvar _paused = /*#__PURE__*/_classPrivateFieldLooseKey(\"paused\");\nvar _pauseTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"pauseTimer\");\nvar _downLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"downLimit\");\nvar _upperLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"upperLimit\");\nvar _rateLimitingTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"rateLimitingTimer\");\nvar _call = /*#__PURE__*/_classPrivateFieldLooseKey(\"call\");\nvar _queueNext = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueNext\");\nvar _next = /*#__PURE__*/_classPrivateFieldLooseKey(\"next\");\nvar _queue = /*#__PURE__*/_classPrivateFieldLooseKey(\"queue\");\nvar _dequeue = /*#__PURE__*/_classPrivateFieldLooseKey(\"dequeue\");\nvar _resume = /*#__PURE__*/_classPrivateFieldLooseKey(\"resume\");\nvar _increaseLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"increaseLimit\");\nexport class RateLimitedQueue {\n  constructor(limit) {\n    Object.defineProperty(this, _dequeue, {\n      value: _dequeue2\n    });\n    Object.defineProperty(this, _queue, {\n      value: _queue2\n    });\n    Object.defineProperty(this, _next, {\n      value: _next2\n    });\n    Object.defineProperty(this, _queueNext, {\n      value: _queueNext2\n    });\n    Object.defineProperty(this, _call, {\n      value: _call2\n    });\n    Object.defineProperty(this, _activeRequests, {\n      writable: true,\n      value: 0\n    });\n    Object.defineProperty(this, _queuedHandlers, {\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, _paused, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _pauseTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _downLimit, {\n      writable: true,\n      value: 1\n    });\n    Object.defineProperty(this, _upperLimit, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _rateLimitingTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _resume, {\n      writable: true,\n      value: () => this.resume()\n    });\n    Object.defineProperty(this, _increaseLimit, {\n      writable: true,\n      value: () => {\n        if (_classPrivateFieldLooseBase(this, _paused)[_paused]) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 0);\n          return;\n        }\n        _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = this.limit;\n        this.limit = Math.ceil((_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] + _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]) / 2);\n        for (let i = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]; i <= this.limit; i++) {\n          _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n        }\n        if (_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] - _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] > 3) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 2000);\n        } else {\n          _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = Math.floor(_classPrivateFieldLooseBase(this, _downLimit)[_downLimit] / 2);\n        }\n      }\n    });\n    if (typeof limit !== 'number' || limit === 0) {\n      this.limit = Infinity;\n    } else {\n      this.limit = limit;\n    }\n  }\n  run(fn, queueOptions) {\n    if (!_classPrivateFieldLooseBase(this, _paused)[_paused] && _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] < this.limit) {\n      return _classPrivateFieldLooseBase(this, _call)[_call](fn);\n    }\n    return _classPrivateFieldLooseBase(this, _queue)[_queue](fn, queueOptions);\n  }\n  wrapSyncFunction(fn, queueOptions) {\n    var _this = this;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const queuedRequest = _this.run(() => {\n        fn(...args);\n        queueMicrotask(() => queuedRequest.done());\n        return () => {};\n      }, queueOptions);\n      return {\n        abortOn,\n        abort() {\n          queuedRequest.abort();\n        }\n      };\n    };\n  }\n  wrapPromiseFunction(fn, queueOptions) {\n    var _this2 = this;\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      let queuedRequest;\n      const outerPromise = new Promise((resolve, reject) => {\n        queuedRequest = _this2.run(() => {\n          let cancelError;\n          let innerPromise;\n          try {\n            innerPromise = Promise.resolve(fn(...args));\n          } catch (err) {\n            innerPromise = Promise.reject(err);\n          }\n          innerPromise.then(result => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              resolve(result);\n            }\n          }, err => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              reject(err);\n            }\n          });\n          return cause => {\n            cancelError = createCancelError(cause);\n          };\n        }, queueOptions);\n      });\n      outerPromise.abort = cause => {\n        queuedRequest.abort(cause);\n      };\n      outerPromise.abortOn = abortOn;\n      return outerPromise;\n    };\n  }\n  resume() {\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = false;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n    for (let i = 0; i < this.limit; i++) {\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  }\n  /**\n   * Freezes the queue for a while or indefinitely.\n   *\n   * @param {number | null } [duration] Duration for the pause to happen, in milliseconds.\n   *                                    If omitted, the queue won't resume automatically.\n   */\n  pause(duration) {\n    if (duration === void 0) {\n      duration = null;\n    }\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = true;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n    if (duration != null) {\n      _classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer] = setTimeout(_classPrivateFieldLooseBase(this, _resume)[_resume], duration);\n    }\n  }\n\n  /**\n   * Pauses the queue for a duration, and lower the limit of concurrent requests\n   * when the queue resumes. When the queue resumes, it tries to progressively\n   * increase the limit in `this.#increaseLimit` until another call is made to\n   * `this.rateLimit`.\n   * Call this function when using the RateLimitedQueue for network requests and\n   * the remote server responds with 429 HTTP code.\n   *\n   * @param {number} duration in milliseconds.\n   */\n  rateLimit(duration) {\n    clearTimeout(_classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer]);\n    this.pause(duration);\n    if (this.limit > 1 && Number.isFinite(this.limit)) {\n      _classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] = this.limit - 1;\n      this.limit = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit];\n      _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], duration);\n    }\n  }\n  get isPaused() {\n    return _classPrivateFieldLooseBase(this, _paused)[_paused];\n  }\n}\nfunction _call2(fn) {\n  _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] += 1;\n  let done = false;\n  let cancelActive;\n  try {\n    cancelActive = fn();\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n    throw err;\n  }\n  return {\n    abort: cause => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      cancelActive == null || cancelActive(cause);\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    },\n    done: () => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  };\n}\nfunction _queueNext2() {\n  // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n  // one by one without continuously _advancing_ it (and starting new tasks before immediately\n  // aborting them)\n  queueMicrotask(() => _classPrivateFieldLooseBase(this, _next)[_next]());\n}\nfunction _next2() {\n  if (_classPrivateFieldLooseBase(this, _paused)[_paused] || _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] >= this.limit) {\n    return;\n  }\n  if (_classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].length === 0) {\n    return;\n  }\n\n  // Dispatch the next request, and update the abort/done handlers\n  // so that cancelling it does the Right Thing (and doesn't just try\n  // to dequeue an already-running request).\n  const next = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].shift();\n  if (next == null) {\n    throw new Error('Invariant violation: next is null');\n  }\n  const handler = _classPrivateFieldLooseBase(this, _call)[_call](next.fn);\n  next.abort = handler.abort;\n  next.done = handler.done;\n}\nfunction _queue2(fn, options) {\n  const handler = {\n    fn,\n    priority: (options == null ? void 0 : options.priority) || 0,\n    abort: () => {\n      _classPrivateFieldLooseBase(this, _dequeue)[_dequeue](handler);\n    },\n    done: () => {\n      throw new Error('Cannot mark a queued request as done: this indicates a bug');\n    }\n  };\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].findIndex(other => {\n    return handler.priority > other.priority;\n  });\n  if (index === -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].push(handler);\n  } else {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 0, handler);\n  }\n  return handler;\n}\nfunction _dequeue2(handler) {\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].indexOf(handler);\n  if (index !== -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 1);\n  }\n}\nexport const internalRateLimitedQueue = Symbol('__queue');", "/**\n * Takes a full filename string and returns an object {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.');\n  // these count as no extension: \"no-dot\", \"trailing-dot.\"\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\nimport { BasePlugin } from '@uppy/core';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { RateLimitedQueue } from '@uppy/utils/lib/RateLimitedQueue';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport CompressorJS from 'compressorjs';\nimport locale from \"./locale.js\";\nvar _RateLimitedQueue = /*#__PURE__*/_classPrivateFieldLooseKey(\"RateLimitedQueue\");\nexport default class Compressor extends BasePlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    Object.defineProperty(this, _RateLimitedQueue, {\n      writable: true,\n      value: void 0\n    });\n    this.id = this.opts.id || 'Compressor';\n    this.type = 'modifier';\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      quality: 0.6,\n      limit: 10\n    };\n    this.opts = {\n      ...defaultOptions,\n      ...opts\n    };\n    _classPrivateFieldLooseBase(this, _RateLimitedQueue)[_RateLimitedQueue] = new RateLimitedQueue(this.opts.limit);\n    this.i18nInit();\n    this.prepareUpload = this.prepareUpload.bind(this);\n    this.compress = this.compress.bind(this);\n  }\n  compress(blob) {\n    return new Promise((resolve, reject) => {\n      /* eslint-disable no-new */\n      new CompressorJS(blob, {\n        ...this.opts,\n        success: resolve,\n        error: reject\n      });\n    });\n  }\n  async prepareUpload(fileIDs) {\n    let totalCompressedSize = 0;\n    const compressedFiles = [];\n    const compressAndApplyResult = _classPrivateFieldLooseBase(this, _RateLimitedQueue)[_RateLimitedQueue].wrapPromiseFunction(async file => {\n      try {\n        const compressedBlob = await this.compress(file.data);\n        const compressedSavingsSize = file.data.size - compressedBlob.size;\n        this.uppy.log(`[Image Compressor] Image ${file.id} compressed by ${prettierBytes(compressedSavingsSize)}`);\n        totalCompressedSize += compressedSavingsSize;\n        const {\n          name,\n          type,\n          size\n        } = compressedBlob;\n        const compressedFileName = getFileNameAndExtension(name);\n        const metaFileName = getFileNameAndExtension(file.meta.name);\n\n        // Name (file.meta.name) might have been changed by user, so we update only the extension\n        const newMetaName = `${metaFileName.name}.${compressedFileName.extension}`;\n        this.uppy.setFileState(file.id, {\n          ...(name && {\n            name\n          }),\n          ...(compressedFileName.extension && {\n            extension: compressedFileName.extension\n          }),\n          ...(type && {\n            type\n          }),\n          ...(size && {\n            size\n          }),\n          data: compressedBlob,\n          meta: {\n            ...file.meta,\n            type,\n            name: newMetaName\n          }\n        });\n        compressedFiles.push(file);\n      } catch (err) {\n        this.uppy.log(`[Image Compressor] Failed to compress ${file.id}:`, 'warning');\n        this.uppy.log(err, 'warning');\n      }\n    });\n    const promises = fileIDs.map(fileID => {\n      var _file$type;\n      const file = this.uppy.getFile(fileID);\n      this.uppy.emit('preprocess-progress', file, {\n        mode: 'indeterminate',\n        message: this.i18n('compressingImages')\n      });\n      if (file.isRemote) {\n        return Promise.resolve();\n      }\n\n      // Some browsers (Firefox) add blobs with empty file type, when files are\n      // added from a folder. Uppy auto-detects type from extension, but leaves the original blob intact.\n      // However, Compressor.js failes when file has no type, so we set it here\n      if (!file.data.type) {\n        file.data = file.data.slice(0, file.data.size, file.type);\n      }\n      if (!((_file$type = file.type) != null && _file$type.startsWith('image/'))) {\n        return Promise.resolve();\n      }\n      return compressAndApplyResult(file);\n    });\n\n    // Why emit `preprocess-complete` for all files at once, instead of\n    // above when each is processed?\n    // Because it leads to StatusBar showing a weird \u201Cupload 6 files\u201D button,\n    // while waiting for all the files to complete pre-processing.\n    await Promise.all(promises);\n    this.uppy.emit('compressor:complete', compressedFiles);\n\n    // Only show informer if Compressor mananged to save at least a kilobyte\n    if (totalCompressedSize > 1024) {\n      this.uppy.info(this.i18n('compressedX', {\n        size: prettierBytes(totalCompressedSize)\n      }), 'info');\n    }\n    for (const fileID of fileIDs) {\n      const file = this.uppy.getFile(fileID);\n      this.uppy.emit('preprocess-complete', file);\n    }\n  }\n  install() {\n    this.uppy.addPreProcessor(this.prepareUpload);\n  }\n  uninstall() {\n    this.uppy.removePreProcessor(this.prepareUpload);\n  }\n}", "export default {\n  strings: {\n    // Shown in the Status Bar\n    compressingImages: 'Compressing images...',\n    compressedX: 'Saved %{size} by compressing images'\n  }\n};", "const DATA_URL_PATTERN = /^data:([^/]+\\/[^,;]+(?:[^,]*?))(;base64)?,([\\s\\S]*)$/;\nexport default function dataURItoBlob(dataURI, opts, toFile) {\n  var _ref, _opts$mimeType;\n\n  // get the base64 data\n  const dataURIData = DATA_URL_PATTERN.exec(dataURI); // user may provide mime type, if not get it from data URI\n\n  const mimeType = (_ref = (_opts$mimeType = opts.mimeType) != null ? _opts$mimeType : dataURIData == null ? void 0 : dataURIData[1]) != null ? _ref : 'plain/text';\n  let data;\n\n  if (dataURIData[2] != null) {\n    const binary = atob(decodeURIComponent(dataURIData[3]));\n    const bytes = new Uint8Array(binary.length);\n\n    for (let i = 0; i < binary.length; i++) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n\n    data = [bytes];\n  } else {\n    data = [decodeURIComponent(dataURIData[3])];\n  } // Convert to a File?\n\n\n  if (toFile) {\n    return new File(data, opts.name || '', {\n      type: mimeType\n    });\n  }\n\n  return new Blob(data, {\n    type: mimeType\n  });\n}", "/**\n * Check if a URL string is an object URL from `URL.createObjectURL`.\n *\n * @param {string} url\n * @returns {boolean}\n */\nexport default function isObjectURL(url) {\n  return url.startsWith('blob:');\n}", "export default function isPreviewSupported(fileType) {\n  if (!fileType) return false; // list of images that browsers can preview\n\n  return /^[^/]+\\/(jpe?g|gif|png|svg|svg\\+xml|bmp|webp|avif)$/.test(fileType);\n}", "function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var t=\"undefined\"!=typeof self?self:global;const s=\"undefined\"!=typeof navigator,i=s&&\"undefined\"==typeof HTMLImageElement,n=!(\"undefined\"==typeof global||\"undefined\"==typeof process||!process.versions||!process.versions.node),r=t.Buffer,a=!!r,h=e=>void 0!==e;function f(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(h).length)}function l(e){let t=new Error(e);throw delete t.stack,t}function o(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const u=e=>String.fromCharCode.apply(null,e),d=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-8\"):void 0;class c{static from(e,t){return e instanceof this&&e.le===t?e:new c(e,void 0,void 0,t)}constructor(e,t=0,s,i){if(\"boolean\"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof c){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&l(\"Creating view outside of available memory in ArrayBuffer\");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if(\"number\"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else l(\"Invalid input argument for BufferView: \"+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=c){return e instanceof DataView||e instanceof c?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||l(\"BufferView.set(): Invalid data argument.\"),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new c(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return i=s,d?d.decode(i):a?Buffer.from(i).toString(\"utf8\"):decodeURIComponent(escape(u(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return u(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return u(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function p(e,t){l(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||p(this.kind,e),t&&(e in t||function(e,t){l(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||p(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var m=new g(\"file parser\"),y=new g(\"segment parser\"),b=new g(\"file reader\");let w=t.fetch;function k(e,t){return(i=e).startsWith(\"data:\")||i.length>1e4?v(e,t,\"base64\"):n&&e.includes(\"://\")?O(e,t,\"url\",S):n?v(e,t,\"fs\"):s?O(e,t,\"url\",S):void l(\"Invalid input argument\");var i}async function O(e,t,s,i){return b.has(s)?v(e,t,s):i?async function(e,t){let s=await t(e);return new c(s)}(e,i):void l(`Parser ${s} is not loaded`)}async function v(e,t,s){let i=new(b.get(s))(e,t);return await i.read(),i}const S=e=>w(e).then((e=>e.arrayBuffer())),A=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class U extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function x(e,t,s){let i=new U;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function C(e,t,s){let i,n=e.get(t);for(i of s)n.set(i[0],i[1])}const B=new Map,V=new Map,I=new Map,L=[\"chunked\",\"firstChunkSize\",\"firstChunkSizeNode\",\"firstChunkSizeBrowser\",\"chunkSize\",\"chunkLimit\"],T=[\"jfif\",\"xmp\",\"icc\",\"iptc\",\"ihdr\"],z=[\"tiff\",...T],P=[\"ifd0\",\"ifd1\",\"exif\",\"gps\",\"interop\"],F=[...z,...P],j=[\"makerNote\",\"userComment\"],E=[\"translateKeys\",\"translateValues\",\"reviveValues\",\"multiSegment\"],M=[...E,\"sanitize\",\"mergeOutput\",\"silentErrors\"];class _{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class D extends _{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,i,n){if(super(),e(this,\"enabled\",!1),e(this,\"skip\",new Set),e(this,\"pick\",new Set),e(this,\"deps\",new Set),e(this,\"translateKeys\",!1),e(this,\"translateValues\",!1),e(this,\"reviveValues\",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=P.includes(t),this.canBeFiltered&&(this.dict=B.get(t)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(\"object\"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:l(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of E)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:n,tagValues:r}=this.dict;for(s of e)\"string\"==typeof s?(i=r.indexOf(s),-1===i&&(i=n.indexOf(Number(s))),-1!==i&&t.add(Number(n[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X(this.pick,this.deps)}}var N={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class R extends _{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):\"object\"==typeof e?this.setupFromObject(e):l(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=s?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=N[e];for(e of F)this[e]=new D(e,N[e],void 0,this)}setupFromTrue(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=!0;for(e of F)this[e]=new D(e,!0,void 0,this)}setupFromArray(e){let t;for(t of L)this[t]=N[t];for(t of M)this[t]=N[t];for(t of j)this[t]=N[t];for(t of F)this[t]=new D(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,P)}setupFromObject(e){let t;for(t of(P.ifd0=P.ifd0||P.image,P.ifd1=P.ifd1||P.thumbnail,Object.assign(this,e),L))this[t]=W(e[t],N[t]);for(t of M)this[t]=W(e[t],N[t]);for(t of j)this[t]=W(e[t],N[t]);for(t of z)this[t]=new D(t,N[t],e[t],this);for(t of P)this[t]=new D(t,N[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,P,F),!0===e.tiff?this.batchEnableWithBool(P,!0):!1===e.tiff?this.batchEnableWithUserValue(P,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,P):\"object\"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,P)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=K(e,s);for(let[e,s]of t)X(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=K(t,s);for(let[t,s]of e)X(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),s.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=P.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of P)this[e].finalizeFilters()}get onlyTiff(){return!T.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of z)this[e].enabled&&!y.has(e)&&p(\"segment parser\",e)}}function K(e,t){let s,i,n,r,a=[];for(n of t){for(r of(s=B.get(n),i=[],s))(e.includes(r[0])||e.includes(r[1]))&&i.push(r[0]);i.length&&a.push([n,i])}return a}function W(e,t){return void 0!==e?e:void 0!==t?t:void 0}function X(e,t){for(let s of t)e.add(s)}e(R,\"default\",N);class H{constructor(t){e(this,\"parsers\",{}),e(this,\"output\",{}),e(this,\"errors\",[]),e(this,\"pushToErrors\",(e=>this.errors.push(e))),this.options=R.useCached(t)}async read(e){this.file=await function(e,t){return\"string\"==typeof e?k(e,t):s&&!i&&e instanceof HTMLImageElement?k(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new c(e):s&&e instanceof Blob?O(e,t,\"blob\",A):void l(\"Invalid input argument\")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of m)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),l(\"Unknown file format\")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),f(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=y.get(\"tiff\",e);var i;if(t.tiff?i={start:0,type:\"tiff\"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment(\"tiff\")),void 0===i)return;let n=await this.fileParser.ensureSegmentChunk(i),r=this.parsers.tiff=new s(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function Y(e,t){let s=new H(t);return await s.read(e),s.parse()}var G=Object.freeze({__proto__:null,parse:Y,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R});class J{static findPosition(e,t){let s=e.getUint16(t+2)+2,i=\"function\"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,n=t+i,r=s-i;return{offset:t,length:s,headerLength:i,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new R({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof c?e:new c(e)}constructor(t,s={},i){e(this,\"errors\",[]),e(this,\"raw\",new Map),e(this,\"handleError\",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(t),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=I.get(t),i=V.get(t),n=B.get(t),r=this.options[t],a=r.reviveValues&&!!s,h=r.translateValues&&!!i,f=r.translateKeys&&!!n,l={};for(let[t,r]of e)a&&s.has(t)?r=s.get(t)(r):h&&i.has(t)&&(r=this.translateValue(r,i.get(t))),f&&n.has(t)&&(t=n.get(t)||t),l[t]=r;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}e(J,\"headerLength\",4),e(J,\"type\",void 0),e(J,\"multiSegment\",!1),e(J,\"canHandle\",(()=>!1));function q(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Q(e){return e>=224&&e<=239}function Z(e,t,s){for(let[i,n]of y)if(n.canHandle(e,t,s))return i}class ee extends class{constructor(t,s,i){e(this,\"errors\",[]),e(this,\"ensureSegmentChunk\",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){l(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):l(\"Segment unreachable: \"+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(y.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...t){super(...t),e(this,\"appSegments\",[]),e(this,\"jpegSegments\",[]),e(this,\"unknownSegments\",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(y.keyList())):(e=void 0===e?y.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&y.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:n,remaining:r}=this;if(!i&&this.file.chunked&&(i=Array.from(n).some((e=>{let t=y.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;r.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,n=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!n?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,n,r,a,h,{file:f,findAll:l,wanted:o,remaining:u,options:d}=this;for(;e<t;e++)if(255===f.getUint8(e))if(s=f.getUint8(e+1),Q(s)){if(i=f.getUint16(e+2),n=Z(f,e,i),n&&o.has(n)&&(r=y.get(n),a=r.findPosition(f,e),h=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&(a=J.findPosition(f,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(q(s)){if(i=f.getUint16(e+2),218===s&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,n,r=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s[t],r.has(i)?n=r.get(i):r.set(i,n=[]),n.push(s);return Array.from(r)}(this.appSegments,\"type\");this.mergedAppSegments=e.map((([e,t])=>{let s=y.get(e,this.options);if(s.handleMultiSegments){return{type:e,chunk:s.handleMultiSegments(t)}}return t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}e(ee,\"type\",\"jpeg\"),m.set(\"jpeg\",ee);const te=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends J{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:n}=this.options[t];i=new Set(i);let r=i.size>0,a=0===n.size,h=this.chunk.getUint16(e);e+=2;for(let f=0;f<h;f++){let h=this.chunk.getUint16(e);if(r){if(i.has(h)&&(s.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!a&&n.has(h)||s.set(h,this.parseTag(e,h,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,n=i.getUint16(e+2),r=i.getUint32(e+4),a=te[n];if(a*r<=4?e+=8:e=i.getUint32(e+8),(n<1||n>13)&&l(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>i.byteLength&&l(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${i.byteLength}`),1===n)return i.getUint8Array(e,r);if(2===n)return\"\"===(h=function(e){for(;e.endsWith(\"\\0\");)e=e.slice(0,-1);return e}(h=i.getString(e,r)).trim())?void 0:h;var h;if(7===n)return i.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(n))(r),s=a;for(let i=0;i<r;i++)t[i]=this.parseTagValue(n,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:l(`Invalid tiff type ${e}`)}}}class ie extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse(\"parseExifBlock\"),e.gps.enabled&&await this.safeParse(\"parseGpsBlock\"),e.interop.enabled&&await this.safeParse(\"parseInteropBlock\"),e.ifd1.enabled&&await this.safeParse(\"parseThumbnailBlock\"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l(\"Malformed EXIF data\"),!e.chunked&&this.ifd0Offset>e.byteLength&&l(`IFD0 offset points to outside of file.\\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,o(this.options));let t=this.parseBlock(this.ifd0Offset,\"ifd0\");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o(this.options));let e=this.parseBlock(this.exifOffset,\"exif\");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,\"gps\");return e&&e.has(2)&&e.has(4)&&(e.set(\"latitude\",ne(...e.get(2),e.get(1))),e.set(\"longitude\",ne(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,\"interop\")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,\"ifd1\"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of P)if(e=this[t],!f(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(\"ifd1\"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ne(e,t,s,i){var n=e+t/60+s/3600;return\"S\"!==i&&\"W\"!==i||(n*=-1),n}e(ie,\"type\",\"tiff\"),e(ie,\"headerLength\",10),y.set(\"tiff\",ie);var re=Object.freeze({__proto__:null,default:G,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R,parse:Y});const ae={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},he=Object.assign({},ae,{firstChunkSize:4e4,gps:[1,2,3,4]});async function fe(e){let t=new H(he);await t.read(e);let s=await t.parse();if(s&&s.gps){let{latitude:e,longitude:t}=s.gps;return{latitude:e,longitude:t}}}const le=Object.assign({},ae,{tiff:!1,ifd1:!0,mergeOutput:!1});async function oe(e){let t=new H(le);await t.read(e);let s=await t.extractThumbnail();return s&&a?r.from(s):s}async function ue(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const de=Object.assign({},ae,{firstChunkSize:4e4,ifd0:[274]});async function ce(e){let t=new H(de);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const pe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ge=!0,me=!0;if(\"object\"==typeof navigator){let e=navigator.userAgent;if(e.includes(\"iPad\")||e.includes(\"iPhone\")){let t=e.match(/OS (\\d+)_(\\d+)/);if(t){let[,e,s]=t,i=Number(e)+.1*Number(s);ge=i<13.4,me=!1}}else if(e.includes(\"OS X 10\")){let[,t]=e.match(/OS X 10[_.](\\d+)/);ge=me=Number(t)<15}if(e.includes(\"Chrome/\")){let[,t]=e.match(/Chrome\\/(\\d+)/);ge=me=Number(t)<81}else if(e.includes(\"Firefox/\")){let[,t]=e.match(/Firefox\\/(\\d+)/);ge=me=Number(t)<77}}async function ye(e){let t=await ce(e);return Object.assign({canvas:ge,css:me},pe[t])}class be extends c{constructor(...t){super(...t),e(this,\"ranges\",new we),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=a?r.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class we{constructor(){e(this,\"list\",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,n=this.list.filter((t=>ke(e,t.offset,i)||ke(e,t.end,i)));if(n.length>0){e=Math.min(e,...n.map((e=>e.offset))),i=Math.max(i,...n.map((e=>e.end))),t=i-e;let s=n.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!n.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function ke(e,t,s){return e<=t&&t<=s}class Oe extends be{constructor(t,s){super(0),e(this,\"chunksRead\",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b.set(\"blob\",class extends Oe{async readWhole(){this.chunked=!1;let e=await A(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),n=await A(i);return this.set(n,e,!0)}});export default re;export{H as Exifr,R as Options,M as allFormatters,L as chunkedProps,x as createDictionary,C as extendDictionary,S as fetchUrlAsArrayBuffer,m as fileParsers,b as fileReaders,fe as gps,he as gpsOnlyOptions,E as inheritables,ce as orientation,de as orientationOnlyOptions,T as otherSegments,Y as parse,A as readBlobAsArrayBuffer,ge as rotateCanvas,me as rotateCss,ye as rotation,pe as rotations,y as segmentParsers,z as segments,F as segmentsAndBlocks,B as tagKeys,I as tagRevivers,V as tagValues,oe as thumbnail,le as thumbnailOnlyOptions,ue as thumbnailUrl,P as tiffBlocks,j as tiffExtractables};\n", "export default {\n  strings: {\n    generatingThumbnails: 'Generating thumbnails...'\n  }\n};", "import { UIPlugin } from '@uppy/core';\nimport dataURItoBlob from '@uppy/utils/lib/dataURItoBlob';\nimport isObjectURL from '@uppy/utils/lib/isObjectURL';\nimport isPreviewSupported from '@uppy/utils/lib/isPreviewSupported';\nimport { rotation } from 'exifr/dist/mini.esm.mjs';\nimport locale from './locale.js';\nconst packageJson = {\n  \"version\": \"3.0.2\"\n};\n/**\n * Save a <canvas> element's content to a Blob object.\n *\n * @param {HTMLCanvasElement} canvas\n * @returns {Promise}\n */\n\nfunction canvasToBlob(canvas, type, quality) {\n  try {\n    canvas.getContext('2d').getImageData(0, 0, 1, 1);\n  } catch (err) {\n    if (err.code === 18) {\n      return Promise.reject(new Error('cannot read image, probably an svg with external resources'));\n    }\n  }\n\n  if (canvas.toBlob) {\n    return new Promise(resolve => {\n      canvas.toBlob(resolve, type, quality);\n    }).then(blob => {\n      if (blob === null) {\n        throw new Error('cannot read image, probably an svg with external resources');\n      }\n\n      return blob;\n    });\n  }\n\n  return Promise.resolve().then(() => {\n    return dataURItoBlob(canvas.toDataURL(type, quality), {});\n  }).then(blob => {\n    if (blob === null) {\n      throw new Error('could not extract blob, probably an old browser');\n    }\n\n    return blob;\n  });\n}\n\nfunction rotateImage(image, translate) {\n  let w = image.width;\n  let h = image.height;\n\n  if (translate.deg === 90 || translate.deg === 270) {\n    w = image.height;\n    h = image.width;\n  }\n\n  const canvas = document.createElement('canvas');\n  canvas.width = w;\n  canvas.height = h;\n  const context = canvas.getContext('2d');\n  context.translate(w / 2, h / 2);\n\n  if (translate.canvas) {\n    context.rotate(translate.rad);\n    context.scale(translate.scaleX, translate.scaleY);\n  }\n\n  context.drawImage(image, -image.width / 2, -image.height / 2, image.width, image.height);\n  return canvas;\n}\n/**\n * Make sure the image doesn\u2019t exceed browser/device canvas limits.\n * For ios with 256 RAM and ie\n */\n\n\nfunction protect(image) {\n  // https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n  const ratio = image.width / image.height;\n  const maxSquare = 5000000; // ios max canvas square\n\n  const maxSize = 4096; // ie max canvas dimensions\n\n  let maxW = Math.floor(Math.sqrt(maxSquare * ratio));\n  let maxH = Math.floor(maxSquare / Math.sqrt(maxSquare * ratio));\n\n  if (maxW > maxSize) {\n    maxW = maxSize;\n    maxH = Math.round(maxW / ratio);\n  }\n\n  if (maxH > maxSize) {\n    maxH = maxSize;\n    maxW = Math.round(ratio * maxH);\n  }\n\n  if (image.width > maxW) {\n    const canvas = document.createElement('canvas');\n    canvas.width = maxW;\n    canvas.height = maxH;\n    canvas.getContext('2d').drawImage(image, 0, 0, maxW, maxH);\n    return canvas;\n  }\n\n  return image;\n}\n/**\n * The Thumbnail Generator plugin\n */\n\n\nexport default class ThumbnailGenerator extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.onFileAdded = file => {\n      if (!file.preview && file.data && isPreviewSupported(file.type) && !file.isRemote) {\n        this.addToQueue(file.id);\n      }\n    };\n\n    this.onCancelRequest = file => {\n      const index = this.queue.indexOf(file.id);\n\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n    };\n\n    this.onFileRemoved = file => {\n      const index = this.queue.indexOf(file.id);\n\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      } // Clean up object URLs.\n\n\n      if (file.preview && isObjectURL(file.preview)) {\n        URL.revokeObjectURL(file.preview);\n      }\n    };\n\n    this.onRestored = () => {\n      const restoredFiles = this.uppy.getFiles().filter(file => file.isRestored);\n      restoredFiles.forEach(file => {\n        // Only add blob URLs; they are likely invalid after being restored.\n        if (!file.preview || isObjectURL(file.preview)) {\n          this.addToQueue(file.id);\n        }\n      });\n    };\n\n    this.onAllFilesRemoved = () => {\n      this.queue = [];\n    };\n\n    this.waitUntilAllProcessed = fileIDs => {\n      fileIDs.forEach(fileID => {\n        const file = this.uppy.getFile(fileID);\n        this.uppy.emit('preprocess-progress', file, {\n          mode: 'indeterminate',\n          message: this.i18n('generatingThumbnails')\n        });\n      });\n\n      const emitPreprocessCompleteForAll = () => {\n        fileIDs.forEach(fileID => {\n          const file = this.uppy.getFile(fileID);\n          this.uppy.emit('preprocess-complete', file);\n        });\n      };\n\n      return new Promise(resolve => {\n        if (this.queueProcessing) {\n          this.uppy.once('thumbnail:all-generated', () => {\n            emitPreprocessCompleteForAll();\n            resolve();\n          });\n        } else {\n          emitPreprocessCompleteForAll();\n          resolve();\n        }\n      });\n    };\n\n    this.type = 'modifier';\n    this.id = this.opts.id || 'ThumbnailGenerator';\n    this.title = 'Thumbnail Generator';\n    this.queue = [];\n    this.queueProcessing = false;\n    this.defaultThumbnailDimension = 200;\n    this.thumbnailType = this.opts.thumbnailType || 'image/jpeg';\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      thumbnailWidth: null,\n      thumbnailHeight: null,\n      waitForThumbnailsBeforeUpload: false,\n      lazy: false\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.i18nInit();\n\n    if (this.opts.lazy && this.opts.waitForThumbnailsBeforeUpload) {\n      throw new Error('ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.');\n    }\n  }\n  /**\n   * Create a thumbnail for the given Uppy file object.\n   *\n   * @param {{data: Blob}} file\n   * @param {number} targetWidth\n   * @param {number} targetHeight\n   * @returns {Promise}\n   */\n\n\n  createThumbnail(file, targetWidth, targetHeight) {\n    const originalUrl = URL.createObjectURL(file.data);\n    const onload = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = originalUrl;\n      image.addEventListener('load', () => {\n        URL.revokeObjectURL(originalUrl);\n        resolve(image);\n      });\n      image.addEventListener('error', event => {\n        URL.revokeObjectURL(originalUrl);\n        reject(event.error || new Error('Could not create thumbnail'));\n      });\n    });\n    const orientationPromise = rotation(file.data).catch(() => 1);\n    return Promise.all([onload, orientationPromise]).then(_ref => {\n      let [image, orientation] = _ref;\n      const dimensions = this.getProportionalDimensions(image, targetWidth, targetHeight, orientation.deg);\n      const rotatedImage = rotateImage(image, orientation);\n      const resizedImage = this.resizeImage(rotatedImage, dimensions.width, dimensions.height);\n      return canvasToBlob(resizedImage, this.thumbnailType, 80);\n    }).then(blob => {\n      return URL.createObjectURL(blob);\n    });\n  }\n  /**\n   * Get the new calculated dimensions for the given image and a target width\n   * or height. If both width and height are given, only width is taken into\n   * account. If neither width nor height are given, the default dimension\n   * is used.\n   */\n\n\n  getProportionalDimensions(img, width, height, rotation) {\n    // eslint-disable-line no-shadow\n    let aspect = img.width / img.height;\n\n    if (rotation === 90 || rotation === 270) {\n      aspect = img.height / img.width;\n    }\n\n    if (width != null) {\n      return {\n        width,\n        height: Math.round(width / aspect)\n      };\n    }\n\n    if (height != null) {\n      return {\n        width: Math.round(height * aspect),\n        height\n      };\n    }\n\n    return {\n      width: this.defaultThumbnailDimension,\n      height: Math.round(this.defaultThumbnailDimension / aspect)\n    };\n  }\n  /**\n   * Resize an image to the target `width` and `height`.\n   *\n   * Returns a Canvas with the resized image on it.\n   */\n  // eslint-disable-next-line class-methods-use-this\n\n\n  resizeImage(image, targetWidth, targetHeight) {\n    // Resizing in steps refactored to use a solution from\n    // https://blog.uploadcare.com/image-resize-in-browsers-is-broken-e38eed08df01\n    let img = protect(image);\n    let steps = Math.ceil(Math.log2(img.width / targetWidth));\n\n    if (steps < 1) {\n      steps = 1;\n    }\n\n    let sW = targetWidth * 2 ** (steps - 1);\n    let sH = targetHeight * 2 ** (steps - 1);\n    const x = 2;\n\n    while (steps--) {\n      const canvas = document.createElement('canvas');\n      canvas.width = sW;\n      canvas.height = sH;\n      canvas.getContext('2d').drawImage(img, 0, 0, sW, sH);\n      img = canvas;\n      sW = Math.round(sW / x);\n      sH = Math.round(sH / x);\n    }\n\n    return img;\n  }\n  /**\n   * Set the preview URL for a file.\n   */\n\n\n  setPreviewURL(fileID, preview) {\n    this.uppy.setFileState(fileID, {\n      preview\n    });\n  }\n\n  addToQueue(item) {\n    this.queue.push(item);\n\n    if (this.queueProcessing === false) {\n      this.processQueue();\n    }\n  }\n\n  processQueue() {\n    this.queueProcessing = true;\n\n    if (this.queue.length > 0) {\n      const current = this.uppy.getFile(this.queue.shift());\n\n      if (!current) {\n        this.uppy.log('[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug', 'error');\n        return Promise.resolve();\n      }\n\n      return this.requestThumbnail(current).catch(() => {}) // eslint-disable-line node/handle-callback-err\n      .then(() => this.processQueue());\n    }\n\n    this.queueProcessing = false;\n    this.uppy.log('[ThumbnailGenerator] Emptied thumbnail queue');\n    this.uppy.emit('thumbnail:all-generated');\n    return Promise.resolve();\n  }\n\n  requestThumbnail(file) {\n    if (isPreviewSupported(file.type) && !file.isRemote) {\n      return this.createThumbnail(file, this.opts.thumbnailWidth, this.opts.thumbnailHeight).then(preview => {\n        this.setPreviewURL(file.id, preview);\n        this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${file.id}`);\n        this.uppy.emit('thumbnail:generated', this.uppy.getFile(file.id), preview);\n      }).catch(err => {\n        this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${file.id}:`, 'warning');\n        this.uppy.log(err, 'warning');\n        this.uppy.emit('thumbnail:error', this.uppy.getFile(file.id), err);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  install() {\n    this.uppy.on('file-removed', this.onFileRemoved);\n    this.uppy.on('cancel-all', this.onAllFilesRemoved);\n\n    if (this.opts.lazy) {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.on('file-added', this.onFileAdded);\n      this.uppy.on('restored', this.onRestored);\n    }\n\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.addPreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n\n  uninstall() {\n    this.uppy.off('file-removed', this.onFileRemoved);\n    this.uppy.off('cancel-all', this.onAllFilesRemoved);\n\n    if (this.opts.lazy) {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.off('file-added', this.onFileAdded);\n      this.uppy.off('restored', this.onRestored);\n    }\n\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.removePreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n\n}\nThumbnailGenerator.VERSION = packageJson.version;", "/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n *\n * Note: This file was originally called `global.ts`, but was changed to unblock users which might be doing\n * string replaces with bundlers like Vite for `global` (would break imports that rely on importing from utils/src/global).\n *\n * Why worldwide?\n *\n * Why not?\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport type { Carrier } from '../carrier';\nimport type { SdkSource } from './env';\n\n/** Internal global with common properties and Sentry extensions  */\nexport type InternalGlobal = {\n  navigator?: { userAgent?: string; maxTouchPoints?: number };\n  console: Console;\n  PerformanceObserver?: any;\n  Sentry?: any;\n  onerror?: {\n    (event: object | string, source?: string, lineno?: number, colno?: number, error?: Error): any;\n    __SENTRY_INSTRUMENTED__?: true;\n  };\n  onunhandledrejection?: {\n    (event: unknown): boolean;\n    __SENTRY_INSTRUMENTED__?: true;\n  };\n  SENTRY_ENVIRONMENT?: string;\n  SENTRY_DSN?: string;\n  SENTRY_RELEASE?: {\n    id?: string;\n  };\n  SENTRY_SDK_SOURCE?: SdkSource;\n  /**\n   * Debug IDs are indirectly injected by Sentry CLI or bundler plugins to directly reference a particular source map\n   * for resolving of a source file. The injected code will place an entry into the record for each loaded bundle/JS\n   * file.\n   */\n  _sentryDebugIds?: Record<string, string>;\n  /**\n   * Raw module metadata that is injected by bundler plugins.\n   *\n   * Keys are `error.stack` strings, values are the metadata.\n   */\n  _sentryModuleMetadata?: Record<string, any>;\n  _sentryEsmLoaderHookRegistered?: boolean;\n} & Carrier;\n\n/** Get's the global object for the current JavaScript runtime */\nexport const GLOBAL_OBJ = globalThis as unknown as InternalGlobal;\n", "declare const __DEBUG_BUILD__: boolean;\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nexport const DEBUG_BUILD = __DEBUG_BUILD__;\n", "// This is a magic string replaced by rollup\ndeclare const __SENTRY_SDK_VERSION__: string;\n\nexport const SDK_VERSION = typeof __SENTRY_SDK_VERSION__ === 'string' ? __SENTRY_SDK_VERSION__ : '0.0.0-unknown.0';\n", "import type { AsyncContextStack } from './asyncContext/stackStrategy';\nimport type { AsyncContextStrategy } from './asyncContext/types';\nimport type { Scope } from './scope';\nimport type { Logger } from './utils-hoist/logger';\nimport { SDK_VERSION } from './utils-hoist/version';\nimport { GLOBAL_OBJ } from './utils-hoist/worldwide';\n\n/**\n * An object that contains globally accessible properties and maintains a scope stack.\n * @hidden\n */\nexport interface Carrier {\n  __SENTRY__?: VersionedCarrier;\n}\n\ntype VersionedCarrier = {\n  version?: string;\n} & Record<Exclude<string, 'version'>, SentryCarrier>;\n\nexport interface SentryCarrier {\n  acs?: AsyncContextStrategy;\n  stack?: AsyncContextStack;\n\n  globalScope?: Scope;\n  defaultIsolationScope?: Scope;\n  defaultCurrentScope?: Scope;\n  logger?: Logger;\n\n  /** Overwrites TextEncoder used in `@sentry/core`, need for `react-native@0.73` and older */\n  encodePolyfill?: (input: string) => Uint8Array;\n  /** Overwrites TextDecoder used in `@sentry/core`, need for `react-native@0.73` and older */\n  decodePolyfill?: (input: Uint8Array) => string;\n}\n\n/**\n * Returns the global shim registry.\n *\n * FIXME: This function is problematic, because despite always returning a valid Carrier,\n * it has an optional `__SENTRY__` property, which then in turn requires us to always perform an unnecessary check\n * at the call-site. We always access the carrier through this function, so we can guarantee that `__SENTRY__` is there.\n **/\nexport function getMainCarrier(): Carrier {\n  // This ensures a Sentry carrier exists\n  getSentryCarrier(GLOBAL_OBJ);\n  return GLOBAL_OBJ;\n}\n\n/** Will either get the existing sentry carrier, or create a new one. */\nexport function getSentryCarrier(carrier: Carrier): SentryCarrier {\n  const __SENTRY__ = (carrier.__SENTRY__ = carrier.__SENTRY__ || {});\n\n  // For now: First SDK that sets the .version property wins\n  __SENTRY__.version = __SENTRY__.version || SDK_VERSION;\n\n  // Intentionally populating and returning the version of \"this\" SDK instance\n  // rather than what's set in .version so that \"this\" SDK always gets its carrier\n  return (__SENTRY__[SDK_VERSION] = __SENTRY__[SDK_VERSION] || {});\n}\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__[]` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `GLOBAL_OBJ`'s return value\n * @returns the singleton\n */\nexport function getGlobalSingleton<Prop extends keyof SentryCarrier>(\n  name: Prop,\n  creator: () => NonNullable<SentryCarrier[Prop]>,\n  obj = GLOBAL_OBJ,\n): NonNullable<SentryCarrier[Prop]> {\n  const __SENTRY__ = (obj.__SENTRY__ = obj.__SENTRY__ || {});\n  const carrier = (__SENTRY__[SDK_VERSION] = __SENTRY__[SDK_VERSION] || {});\n  // Note: We do not want to set `carrier.version` here, as this may be called before any `init` is called, e.g. for the default scopes\n  return carrier[name] || (carrier[name] = creator());\n}\n", "import { getGlobalSingleton } from '../carrier';\nimport type { ConsoleLevel } from '../types-hoist';\nimport { DEBUG_BUILD } from './debug-build';\nimport { GLOBAL_OBJ } from './worldwide';\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\nexport const CONSOLE_LEVELS: readonly ConsoleLevel[] = [\n  'debug',\n  'info',\n  'warn',\n  'error',\n  'log',\n  'assert',\n  'trace',\n] as const;\n\ntype LoggerMethod = (...args: unknown[]) => void;\ntype LoggerConsoleMethods = Record<ConsoleLevel, LoggerMethod>;\n\n/** This may be mutated by the console instrumentation. */\nexport const originalConsoleMethods: {\n  [key in ConsoleLevel]?: (...args: unknown[]) => void;\n} = {};\n\n/** A Sentry Logger instance. */\nexport interface Logger extends LoggerConsoleMethods {\n  disable(): void;\n  enable(): void;\n  isEnabled(): boolean;\n}\n\n/**\n * Temporarily disable sentry console instrumentations.\n *\n * @param callback The function to run against the original `console` messages\n * @returns The results of the callback\n */\nexport function consoleSandbox<T>(callback: () => T): T {\n  if (!('console' in GLOBAL_OBJ)) {\n    return callback();\n  }\n\n  const console = GLOBAL_OBJ.console as Console;\n  const wrappedFuncs: Partial<LoggerConsoleMethods> = {};\n\n  const wrappedLevels = Object.keys(originalConsoleMethods) as ConsoleLevel[];\n\n  // Restore all wrapped console methods\n  wrappedLevels.forEach(level => {\n    const originalConsoleMethod = originalConsoleMethods[level] as LoggerMethod;\n    wrappedFuncs[level] = console[level] as LoggerMethod | undefined;\n    console[level] = originalConsoleMethod;\n  });\n\n  try {\n    return callback();\n  } finally {\n    // Revert restoration to wrapped state\n    wrappedLevels.forEach(level => {\n      console[level] = wrappedFuncs[level] as LoggerMethod;\n    });\n  }\n}\n\nfunction makeLogger(): Logger {\n  let enabled = false;\n  const logger: Partial<Logger> = {\n    enable: () => {\n      enabled = true;\n    },\n    disable: () => {\n      enabled = false;\n    },\n    isEnabled: () => enabled,\n  };\n\n  if (DEBUG_BUILD) {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = (...args: Parameters<(typeof GLOBAL_OBJ.console)[typeof name]>) => {\n        if (enabled) {\n          consoleSandbox(() => {\n            GLOBAL_OBJ.console[name](`${PREFIX}[${name}]:`, ...args);\n          });\n        }\n      };\n    });\n  } else {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = () => undefined;\n    });\n  }\n\n  return logger as Logger;\n}\n\n/**\n * This is a logger singleton which either logs things or no-ops if logging is not enabled.\n * The logger is a singleton on the carrier, to ensure that a consistent logger is used throughout the SDK.\n */\nexport const logger = getGlobalSingleton('logger', makeLogger);\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport type { ParameterizedString, PolymorphicEvent, Primitive } from '../types-hoist';\n\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat: unknown): wat is Error {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n    case '[object WebAssembly.Exception]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n/**\n * Checks whether given value is an instance of the given built-in class.\n *\n * @param wat The value to be checked\n * @param className\n * @returns A boolean representing the result.\n */\nfunction isBuiltin(wat: unknown, className: string): boolean {\n  return objectToString.call(wat) === `[object ${className}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat: unknown): boolean {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat: unknown): boolean {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat: unknown): boolean {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat: unknown): wat is string {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given string is parameterized\n * {@link isParameterizedString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isParameterizedString(wat: unknown): wat is ParameterizedString {\n  return (\n    typeof wat === 'object' &&\n    wat !== null &&\n    '__sentry_template_string__' in wat &&\n    '__sentry_template_values__' in wat\n  );\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat: unknown): wat is Primitive {\n  return wat === null || isParameterizedString(wat) || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal, or a class instance.\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat: unknown): wat is Record<string, unknown> {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat: unknown): wat is PolymorphicEvent {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat: unknown): boolean {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat: unknown): wat is RegExp {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat: any): wat is PromiseLike<any> {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat?.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat: unknown): boolean {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n\ninterface VueViewModel {\n  // Vue3\n  __isVue?: boolean;\n  // Vue2\n  _isVue?: boolean;\n}\n/**\n * Checks whether given value's type is a Vue ViewModel.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isVueViewModel(wat: unknown): boolean {\n  // Not using Object.prototype.toString because in Vue 3 it would read the instance's Symbol(Symbol.toStringTag) property.\n  return !!(typeof wat === 'object' && wat !== null && ((wat as VueViewModel).__isVue || (wat as VueViewModel)._isVue));\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { WrappedFunction } from '../types-hoist';\n\nimport { htmlTreeAsString } from './browser';\nimport { DEBUG_BUILD } from './debug-build';\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive } from './is';\nimport { logger } from './logger';\nimport { truncate } from './string';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nexport function fill(source: { [key: string]: any }, name: string, replacementFactory: (...args: any[]) => any): void {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] as () => any;\n  const wrapped = replacementFactory(original) as WrappedFunction;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    markFunctionWrapped(wrapped, original);\n  }\n\n  try {\n    source[name] = wrapped;\n  } catch {\n    DEBUG_BUILD && logger.log(`Failed to replace method \"${name}\" in object`, source);\n  }\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nexport function addNonEnumerableProperty(obj: object, name: string, value: unknown): void {\n  try {\n    Object.defineProperty(obj, name, {\n      // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n      value: value,\n      writable: true,\n      configurable: true,\n    });\n  } catch (o_O) {\n    DEBUG_BUILD && logger.log(`Failed to add non-enumerable property \"${name}\" to object`, obj);\n  }\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nexport function markFunctionWrapped(wrapped: WrappedFunction, original: WrappedFunction): void {\n  try {\n    const proto = original.prototype || {};\n    wrapped.prototype = original.prototype = proto;\n    addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n  } catch (o_O) {} // eslint-disable-line no-empty\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function getOriginalFunction<T extends Function>(func: WrappedFunction<T>): T | undefined {\n  return func.__sentry_original__;\n}\n\n/**\n * Transforms any `Error` or `Event` into a plain object with all of their enumerable properties, and some of their\n * non-enumerable properties attached.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n * @returns An Event or Error turned into an object - or the value argument itself, when value is neither an Event nor\n *  an Error.\n */\nexport function convertToPlainObject<V>(value: V):\n  | {\n      [ownProps: string]: unknown;\n      type: string;\n      target: string;\n      currentTarget: string;\n      detail?: unknown;\n    }\n  | {\n      [ownProps: string]: unknown;\n      message: string;\n      name: string;\n      stack?: string;\n    }\n  | V {\n  if (isError(value)) {\n    return {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value),\n    };\n  } else if (isEvent(value)) {\n    const newObj: {\n      [ownProps: string]: unknown;\n      type: string;\n      target: string;\n      currentTarget: string;\n      detail?: unknown;\n    } = {\n      type: value.type,\n      target: serializeEventTarget(value.target),\n      currentTarget: serializeEventTarget(value.currentTarget),\n      ...getOwnProperties(value),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = value.detail;\n    }\n\n    return newObj;\n  } else {\n    return value;\n  }\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target: unknown): string {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj: unknown): { [key: string]: unknown } {\n  if (typeof obj === 'object' && obj !== null) {\n    const extractedProps: { [key: string]: unknown } = {};\n    for (const property in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, property)) {\n        extractedProps[property] = (obj as Record<string, unknown>)[property];\n      }\n    }\n    return extractedProps;\n  } else {\n    return {};\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nexport function extractExceptionKeysForMessage(exception: Record<string, unknown>, maxLength: number = 40): string {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  const firstKey = keys[0];\n\n  if (!firstKey) {\n    return '[object has no keys]';\n  }\n\n  if (firstKey.length >= maxLength) {\n    return truncate(firstKey, maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return a new object having removed all fields whose value was `undefined`.\n * Works recursively on objects and arrays.\n *\n * Attention: This function keeps circular references in the returned object.\n */\nexport function dropUndefinedKeys<T>(inputValue: T): T {\n  // This map keeps track of what already visited nodes map to.\n  // Our Set - based memoBuilder doesn't work here because we want to the output object to have the same circular\n  // references as the input object.\n  const memoizationMap = new Map<unknown, unknown>();\n\n  // This function just proxies `_dropUndefinedKeys` to keep the `memoBuilder` out of this function's API\n  return _dropUndefinedKeys(inputValue, memoizationMap);\n}\n\nfunction _dropUndefinedKeys<T>(inputValue: T, memoizationMap: Map<unknown, unknown>): T {\n  if (isPojo(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the object it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal as T;\n    }\n\n    const returnValue: { [key: string]: unknown } = {};\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    for (const key of Object.getOwnPropertyNames(inputValue)) {\n      if (typeof inputValue[key] !== 'undefined') {\n        returnValue[key] = _dropUndefinedKeys(inputValue[key], memoizationMap);\n      }\n    }\n\n    return returnValue as T;\n  }\n\n  if (Array.isArray(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the array it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal as T;\n    }\n\n    const returnValue: unknown[] = [];\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    inputValue.forEach((item: unknown) => {\n      returnValue.push(_dropUndefinedKeys(item, memoizationMap));\n    });\n\n    return returnValue as unknown as T;\n  }\n\n  return inputValue;\n}\n\nfunction isPojo(input: unknown): input is Record<string, unknown> {\n  if (!isPlainObject(input)) {\n    return false;\n  }\n\n  try {\n    const name = (Object.getPrototypeOf(input) as { constructor: { name: string } }).constructor.name;\n    return !name || name === 'Object';\n  } catch {\n    return true;\n  }\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nexport function objectify(wat: unknown): typeof Object {\n  let objectified;\n  switch (true) {\n    // this will catch both undefined and null\n    case wat == undefined:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat as any).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n", "import { GLOBAL_OBJ } from './worldwide';\n\nconst ONE_SECOND_IN_MS = 1000;\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\ninterface Performance {\n  /**\n   * The millisecond timestamp at which measurement began, measured in Unix time.\n   */\n  timeOrigin: number;\n  /**\n   * Returns the current millisecond timestamp, where 0 represents the start of measurement.\n   */\n  now(): number;\n}\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nexport function dateTimestampInSeconds(): number {\n  return Date.now() / ONE_SECOND_IN_MS;\n}\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction createUnixTimestampInSecondsFunc(): () => number {\n  const { performance } = GLOBAL_OBJ as typeof GLOBAL_OBJ & { performance?: Performance };\n  if (!performance?.now) {\n    return dateTimestampInSeconds;\n  }\n\n  // Some browser and environments don't have a timeOrigin, so we fallback to\n  // using Date.now() to compute the starting time.\n  const approxStartingTimeOrigin = Date.now() - performance.now();\n  const timeOrigin = performance.timeOrigin == undefined ? approxStartingTimeOrigin : performance.timeOrigin;\n\n  // performance.now() is a monotonic clock, which means it starts at 0 when the process begins. To get the current\n  // wall clock time (actual UNIX timestamp), we need to add the starting time origin and the current time elapsed.\n  //\n  // TODO: This does not account for the case where the monotonic clock that powers performance.now() drifts from the\n  // wall clock time, which causes the returned timestamp to be inaccurate. We should investigate how to detect and\n  // correct for this.\n  // See: https://github.com/getsentry/sentry-javascript/issues/2590\n  // See: https://github.com/mdn/content/issues/4713\n  // See: https://dev.to/noamr/when-a-millisecond-is-not-a-millisecond-3h6\n  return () => {\n    return (timeOrigin + performance.now()) / ONE_SECOND_IN_MS;\n  };\n}\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nexport const timestampInSeconds = createUnixTimestampInSecondsFunc();\n\n/**\n * Cached result of getBrowserTimeOrigin.\n */\nlet cachedTimeOrigin: [number | undefined, string] | undefined;\n\n/**\n * Gets the time origin and the mode used to determine it.\n */\nfunction getBrowserTimeOrigin(): [number | undefined, string] {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = GLOBAL_OBJ as typeof GLOBAL_OBJ & Window;\n  if (!performance?.now) {\n    return [undefined, 'none'];\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing?.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      return [performance.timeOrigin, 'timeOrigin'];\n    } else {\n      return [navigationStart, 'navigationStart'];\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  return [dateNow, 'dateNow'];\n}\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nexport function browserPerformanceTimeOrigin(): number | undefined {\n  if (!cachedTimeOrigin) {\n    cachedTimeOrigin = getBrowserTimeOrigin();\n  }\n\n  return cachedTimeOrigin[0];\n}\n", "import type { Event, Exception, Mechanism, StackFrame } from '../types-hoist';\n\nimport { addNonEnumerableProperty } from './object';\nimport { snipLine } from './string';\nimport { GLOBAL_OBJ } from './worldwide';\n\ninterface CryptoInternal {\n  getRandomValues(array: Uint8Array): Uint8Array;\n  randomUUID?(): string;\n}\n\n/** An interface for common properties on global */\ninterface CryptoGlobal {\n  msCrypto?: CryptoInternal;\n  crypto?: CryptoInternal;\n}\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4(): string {\n  const gbl = GLOBAL_OBJ as typeof GLOBAL_OBJ & CryptoGlobal;\n  const crypto = gbl.crypto || gbl.msCrypto;\n\n  let getRandomByte = (): number => Math.random() * 16;\n  try {\n    if (crypto?.randomUUID) {\n      return crypto.randomUUID().replace(/-/g, '');\n    }\n    if (crypto?.getRandomValues) {\n      getRandomByte = () => {\n        // crypto.getRandomValues might return undefined instead of the typed array\n        // in old Chromium versions (e.g. 23.0.1235.0 (151422))\n        // However, `typedArray` is still filled in-place.\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues#typedarray\n        const typedArray = new Uint8Array(1);\n        crypto.getRandomValues(typedArray);\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return typedArray[0]!;\n      };\n    }\n  } catch (_) {\n    // some runtimes can crash invoking crypto\n    // https://github.com/getsentry/sentry-javascript/issues/8935\n  }\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  // Concatenating the following numbers as strings results in '10000000100040008000100000000000'\n  return (([1e7] as unknown as string) + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, c =>\n    // eslint-disable-next-line no-bitwise\n    ((c as unknown as number) ^ ((getRandomByte() & 15) >> ((c as unknown as number) / 4))).toString(16),\n  );\n}\n\nfunction getFirstException(event: Event): Exception | undefined {\n  return event.exception?.values?.[0];\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event: Event): string {\n  const { message, event_id: eventId } = event;\n  if (message) {\n    return message;\n  }\n\n  const firstException = getFirstException(event);\n  if (firstException) {\n    if (firstException.type && firstException.value) {\n      return `${firstException.type}: ${firstException.value}`;\n    }\n    return firstException.type || firstException.value || eventId || '<unknown>';\n  }\n  return eventId || '<unknown>';\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event: Event, value?: string, type?: string): void {\n  const exception = (event.exception = event.exception || {});\n  const values = (exception.values = exception.values || []);\n  const firstException = (values[0] = values[0] || {});\n  if (!firstException.value) {\n    firstException.value = value || '';\n  }\n  if (!firstException.type) {\n    firstException.type = type || 'Error';\n  }\n}\n\n/**\n * Adds exception mechanism data to a given event. Uses defaults if the second parameter is not passed.\n *\n * @param event The event to modify.\n * @param newMechanism Mechanism data to add to the event.\n * @hidden\n */\nexport function addExceptionMechanism(event: Event, newMechanism?: Partial<Mechanism>): void {\n  const firstException = getFirstException(event);\n  if (!firstException) {\n    return;\n  }\n\n  const defaultMechanism = { type: 'generic', handled: true };\n  const currentMechanism = firstException.mechanism;\n  firstException.mechanism = { ...defaultMechanism, ...currentMechanism, ...newMechanism };\n\n  if (newMechanism && 'data' in newMechanism) {\n    const mergedData = { ...currentMechanism?.data, ...newMechanism.data };\n    firstException.mechanism.data = mergedData;\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP =\n  /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\ninterface SemVer {\n  major?: number;\n  minor?: number;\n  patch?: number;\n  prerelease?: string;\n  buildmetadata?: string;\n}\n\nfunction _parseInt(input: string | undefined): number {\n  return parseInt(input || '', 10);\n}\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nexport function parseSemver(input: string): SemVer {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = _parseInt(match[1]);\n  const minor = _parseInt(match[2]);\n  const patch = _parseInt(match[3]);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nexport function addContextToFrame(lines: string[], frame: StackFrame, linesOfContext: number = 5): void {\n  // When there is no line number in the frame, attaching context is nonsensical and will even break grouping\n  if (frame.lineno === undefined) {\n    return;\n  }\n\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines - 1, frame.lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line: string) => snipLine(line, 0));\n\n  // We guard here to ensure this is not larger than the existing number of lines\n  const lineIndex = Math.min(maxLines - 1, sourceLine);\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  frame.context_line = snipLine(lines[lineIndex]!, frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line: string) => snipLine(line, 0));\n}\n\n/**\n * Checks whether or not we've already captured the given exception (note: not an identical exception - the very object\n * in question), and marks it captured if not.\n *\n * This is useful because it's possible for an error to get captured by more than one mechanism. After we intercept and\n * record an error, we rethrow it (assuming we've intercepted it before it's reached the top-level global handlers), so\n * that we don't interfere with whatever effects the error might have had were the SDK not there. At that point, because\n * the error has been rethrown, it's possible for it to bubble up to some other code we've instrumented. If it's not\n * caught after that, it will bubble all the way up to the global handlers (which of course we also instrument). This\n * function helps us ensure that even if we encounter the same error more than once, we only record it the first time we\n * see it.\n *\n * Note: It will ignore primitives (always return `false` and not mark them as seen), as properties can't be set on\n * them. {@link: Object.objectify} can be used on exceptions to convert any that are primitives into their equivalent\n * object wrapper forms so that this check will always work. However, because we need to flag the exact object which\n * will get rethrown, and because that rethrowing happens outside of the event processing pipeline, the objectification\n * must be done before the exception captured.\n *\n * @param A thrown exception to check or flag as having been seen\n * @returns `true` if the exception has already been captured, `false` if not (with the side effect of marking it seen)\n */\nexport function checkOrSetAlreadyCaught(exception: unknown): boolean {\n  if (isAlreadyCaptured(exception)) {\n    return true;\n  }\n\n  try {\n    // set it this way rather than by assignment so that it's not ennumerable and therefore isn't recorded by the\n    // `ExtraErrorData` integration\n    addNonEnumerableProperty(exception as { [key: string]: unknown }, '__sentry_captured__', true);\n  } catch (err) {\n    // `exception` is a primitive, so we can't mark it seen\n  }\n\n  return false;\n}\n\nfunction isAlreadyCaptured(exception: unknown): boolean | void {\n  try {\n    return (exception as { __sentry_captured__?: boolean }).__sentry_captured__;\n  } catch {} // eslint-disable-line no-empty\n}\n", "import type { SerializedSession, Session, SessionContext, SessionStatus } from './types-hoist';\nimport { dropUndefinedKeys, timestampInSeconds, uuid4 } from './utils-hoist';\n\n/**\n * Creates a new `Session` object by setting certain default parameters. If optional @param context\n * is passed, the passed properties are applied to the session object.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns a new `Session` object\n */\nexport function makeSession(context?: Omit<SessionContext, 'started' | 'status'>): Session {\n  // Both timestamp and started are in seconds since the UNIX epoch.\n  const startingTime = timestampInSeconds();\n\n  const session: Session = {\n    sid: uuid4(),\n    init: true,\n    timestamp: startingTime,\n    started: startingTime,\n    duration: 0,\n    status: 'ok',\n    errors: 0,\n    ignoreDuration: false,\n    toJSON: () => sessionToJSON(session),\n  };\n\n  if (context) {\n    updateSession(session, context);\n  }\n\n  return session;\n}\n\n/**\n * Updates a session object with the properties passed in the context.\n *\n * Note that this function mutates the passed object and returns void.\n * (Had to do this instead of returning a new and updated session because closing and sending a session\n * makes an update to the session after it was passed to the sending logic.\n * @see Client.captureSession )\n *\n * @param session the `Session` to update\n * @param context the `SessionContext` holding the properties that should be updated in @param session\n */\n// eslint-disable-next-line complexity\nexport function updateSession(session: Session, context: SessionContext = {}): void {\n  if (context.user) {\n    if (!session.ipAddress && context.user.ip_address) {\n      session.ipAddress = context.user.ip_address;\n    }\n\n    if (!session.did && !context.did) {\n      session.did = context.user.id || context.user.email || context.user.username;\n    }\n  }\n\n  session.timestamp = context.timestamp || timestampInSeconds();\n\n  if (context.abnormal_mechanism) {\n    session.abnormal_mechanism = context.abnormal_mechanism;\n  }\n\n  if (context.ignoreDuration) {\n    session.ignoreDuration = context.ignoreDuration;\n  }\n  if (context.sid) {\n    // Good enough uuid validation.  Kamil\n    session.sid = context.sid.length === 32 ? context.sid : uuid4();\n  }\n  if (context.init !== undefined) {\n    session.init = context.init;\n  }\n  if (!session.did && context.did) {\n    session.did = `${context.did}`;\n  }\n  if (typeof context.started === 'number') {\n    session.started = context.started;\n  }\n  if (session.ignoreDuration) {\n    session.duration = undefined;\n  } else if (typeof context.duration === 'number') {\n    session.duration = context.duration;\n  } else {\n    const duration = session.timestamp - session.started;\n    session.duration = duration >= 0 ? duration : 0;\n  }\n  if (context.release) {\n    session.release = context.release;\n  }\n  if (context.environment) {\n    session.environment = context.environment;\n  }\n  if (!session.ipAddress && context.ipAddress) {\n    session.ipAddress = context.ipAddress;\n  }\n  if (!session.userAgent && context.userAgent) {\n    session.userAgent = context.userAgent;\n  }\n  if (typeof context.errors === 'number') {\n    session.errors = context.errors;\n  }\n  if (context.status) {\n    session.status = context.status;\n  }\n}\n\n/**\n * Closes a session by setting its status and updating the session object with it.\n * Internally calls `updateSession` to update the passed session object.\n *\n * Note that this function mutates the passed session (@see updateSession for explanation).\n *\n * @param session the `Session` object to be closed\n * @param status the `SessionStatus` with which the session was closed. If you don't pass a status,\n *               this function will keep the previously set status, unless it was `'ok'` in which case\n *               it is changed to `'exited'`.\n */\nexport function closeSession(session: Session, status?: Exclude<SessionStatus, 'ok'>): void {\n  let context = {};\n  if (status) {\n    context = { status };\n  } else if (session.status === 'ok') {\n    context = { status: 'exited' };\n  }\n\n  updateSession(session, context);\n}\n\n/**\n * Serializes a passed session object to a JSON object with a slightly different structure.\n * This is necessary because the Sentry backend requires a slightly different schema of a session\n * than the one the JS SDKs use internally.\n *\n * @param session the session to be converted\n *\n * @returns a JSON object of the passed session\n */\nfunction sessionToJSON(session: Session): SerializedSession {\n  return dropUndefinedKeys({\n    sid: `${session.sid}`,\n    init: session.init,\n    // Make sure that sec is converted to ms for date constructor\n    started: new Date(session.started * 1000).toISOString(),\n    timestamp: new Date(session.timestamp * 1000).toISOString(),\n    status: session.status,\n    errors: session.errors,\n    did: typeof session.did === 'number' || typeof session.did === 'string' ? `${session.did}` : undefined,\n    duration: session.duration,\n    abnormal_mechanism: session.abnormal_mechanism,\n    attrs: {\n      release: session.release,\n      environment: session.environment,\n      ip_address: session.ipAddress,\n      user_agent: session.userAgent,\n    },\n  });\n}\n", "import { uuid4 } from './misc';\n\n/**\n * Generate a random, valid trace ID.\n */\nexport function generateTraceId(): string {\n  return uuid4();\n}\n\n/**\n * Generate a random, valid span ID.\n */\nexport function generateSpanId(): string {\n  return uuid4().substring(16);\n}\n", "/**\n * Shallow merge two objects.\n * Does not mutate the passed in objects.\n * Undefined/empty values in the merge object will overwrite existing values.\n *\n * By default, this merges 2 levels deep.\n */\nexport function merge<T>(initialObj: T, mergeObj: T, levels = 2): T {\n  // If the merge value is not an object, or we have no merge levels left,\n  // we just set the value to the merge value\n  if (!mergeObj || typeof mergeObj !== 'object' || levels <= 0) {\n    return mergeObj;\n  }\n\n  // If the merge object is an empty object, and the initial object is not undefined, we return the initial object\n  if (initialObj && Object.keys(mergeObj).length === 0) {\n    return initialObj;\n  }\n\n  // Clone object\n  const output = { ...initialObj };\n\n  // Merge values into output, resursively\n  for (const key in mergeObj) {\n    if (Object.prototype.hasOwnProperty.call(mergeObj, key)) {\n      output[key] = merge(output[key], mergeObj[key], levels - 1);\n    }\n  }\n\n  return output;\n}\n", "import type { Scope } from '../scope';\nimport type { Span } from '../types-hoist';\nimport { addNonEnumerableProperty } from '../utils-hoist/object';\n\nconst SCOPE_SPAN_FIELD = '_sentrySpan';\n\ntype ScopeWithMaybeSpan = Scope & {\n  [SCOPE_SPAN_FIELD]?: Span;\n};\n\n/**\n * Set the active span for a given scope.\n * NOTE: This should NOT be used directly, but is only used internally by the trace methods.\n */\nexport function _setSpanForScope(scope: Scope, span: Span | undefined): void {\n  if (span) {\n    addNonEnumerableProperty(scope as ScopeWithMaybeSpan, SCOPE_SPAN_FIELD, span);\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n    delete (scope as ScopeWithMaybeSpan)[SCOPE_SPAN_FIELD];\n  }\n}\n\n/**\n * Get the active span for a given scope.\n * NOTE: This should NOT be used directly, but is only used internally by the trace methods.\n */\nexport function _getSpanForScope(scope: ScopeWithMaybeSpan): Span | undefined {\n  return scope[SCOPE_SPAN_FIELD];\n}\n", "/* eslint-disable max-lines */\nimport type { Client } from './client';\nimport { updateSession } from './session';\nimport type {\n  Attachment,\n  Breadcrumb,\n  Context,\n  Contexts,\n  DynamicSamplingContext,\n  Event,\n  EventHint,\n  EventProcessor,\n  Extra,\n  Extras,\n  Primitive,\n  PropagationContext,\n  RequestEventData,\n  Session,\n  SeverityLevel,\n  Span,\n  User,\n} from './types-hoist';\nimport { isPlainObject } from './utils-hoist/is';\nimport { logger } from './utils-hoist/logger';\nimport { uuid4 } from './utils-hoist/misc';\nimport { generateTraceId } from './utils-hoist/propagationContext';\nimport { dateTimestampInSeconds } from './utils-hoist/time';\nimport { merge } from './utils/merge';\nimport { _getSpanForScope, _setSpanForScope } from './utils/spanOnScope';\n\n/**\n * Default value for maximum number of breadcrumbs added to an event.\n */\nconst DEFAULT_MAX_BREADCRUMBS = 100;\n\n/**\n * A context to be used for capturing an event.\n * This can either be a Scope, or a partial ScopeContext,\n * or a callback that receives the current scope and returns a new scope to use.\n */\nexport type CaptureContext = Scope | Partial<ScopeContext> | ((scope: Scope) => Scope);\n\n/**\n * Data that can be converted to a Scope.\n */\nexport interface ScopeContext {\n  user: User;\n  level: SeverityLevel;\n  extra: Extras;\n  contexts: Contexts;\n  tags: { [key: string]: Primitive };\n  fingerprint: string[];\n  propagationContext: PropagationContext;\n}\n\nexport interface SdkProcessingMetadata {\n  [key: string]: unknown;\n  requestSession?: {\n    status: 'ok' | 'errored' | 'crashed';\n  };\n  normalizedRequest?: RequestEventData;\n  dynamicSamplingContext?: Partial<DynamicSamplingContext>;\n  capturedSpanScope?: Scope;\n  capturedSpanIsolationScope?: Scope;\n  spanCountBeforeProcessing?: number;\n  ipAddress?: string;\n}\n\n/**\n * Normalized data of the Scope, ready to be used.\n */\nexport interface ScopeData {\n  eventProcessors: EventProcessor[];\n  breadcrumbs: Breadcrumb[];\n  user: User;\n  tags: { [key: string]: Primitive };\n  extra: Extras;\n  contexts: Contexts;\n  attachments: Attachment[];\n  propagationContext: PropagationContext;\n  sdkProcessingMetadata: SdkProcessingMetadata;\n  fingerprint: string[];\n  level?: SeverityLevel;\n  transactionName?: string;\n  span?: Span;\n}\n\n/**\n * Holds additional event information.\n */\nexport class Scope {\n  /** Flag if notifying is happening. */\n  protected _notifyingListeners: boolean;\n\n  /** Callback for client to receive scope changes. */\n  protected _scopeListeners: Array<(scope: Scope) => void>;\n\n  /** Callback list that will be called during event processing. */\n  protected _eventProcessors: EventProcessor[];\n\n  /** Array of breadcrumbs. */\n  protected _breadcrumbs: Breadcrumb[];\n\n  /** User */\n  protected _user: User;\n\n  /** Tags */\n  protected _tags: { [key: string]: Primitive };\n\n  /** Extra */\n  protected _extra: Extras;\n\n  /** Contexts */\n  protected _contexts: Contexts;\n\n  /** Attachments */\n  protected _attachments: Attachment[];\n\n  /** Propagation Context for distributed tracing */\n  protected _propagationContext: PropagationContext;\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n  protected _sdkProcessingMetadata: SdkProcessingMetadata;\n\n  /** Fingerprint */\n  protected _fingerprint?: string[];\n\n  /** Severity */\n  protected _level?: SeverityLevel;\n\n  /**\n   * Transaction Name\n   *\n   * IMPORTANT: The transaction name on the scope has nothing to do with root spans/transaction objects.\n   * It's purpose is to assign a transaction to the scope that's added to non-transaction events.\n   */\n  protected _transactionName?: string;\n\n  /** Session */\n  protected _session?: Session;\n\n  /** The client on this scope */\n  protected _client?: Client;\n\n  /** Contains the last event id of a captured event.  */\n  protected _lastEventId?: string;\n\n  // NOTE: Any field which gets added here should get added not only to the constructor but also to the `clone` method.\n\n  public constructor() {\n    this._notifyingListeners = false;\n    this._scopeListeners = [];\n    this._eventProcessors = [];\n    this._breadcrumbs = [];\n    this._attachments = [];\n    this._user = {};\n    this._tags = {};\n    this._extra = {};\n    this._contexts = {};\n    this._sdkProcessingMetadata = {};\n    this._propagationContext = {\n      traceId: generateTraceId(),\n      sampleRand: Math.random(),\n    };\n  }\n\n  /**\n   * Clone all data from this scope into a new scope.\n   */\n  public clone(): Scope {\n    const newScope = new Scope();\n    newScope._breadcrumbs = [...this._breadcrumbs];\n    newScope._tags = { ...this._tags };\n    newScope._extra = { ...this._extra };\n    newScope._contexts = { ...this._contexts };\n    if (this._contexts.flags) {\n      // We need to copy the `values` array so insertions on a cloned scope\n      // won't affect the original array.\n      newScope._contexts.flags = {\n        values: [...this._contexts.flags.values],\n      };\n    }\n\n    newScope._user = this._user;\n    newScope._level = this._level;\n    newScope._session = this._session;\n    newScope._transactionName = this._transactionName;\n    newScope._fingerprint = this._fingerprint;\n    newScope._eventProcessors = [...this._eventProcessors];\n    newScope._attachments = [...this._attachments];\n    newScope._sdkProcessingMetadata = { ...this._sdkProcessingMetadata };\n    newScope._propagationContext = { ...this._propagationContext };\n    newScope._client = this._client;\n    newScope._lastEventId = this._lastEventId;\n\n    _setSpanForScope(newScope, _getSpanForScope(this));\n\n    return newScope;\n  }\n\n  /**\n   * Update the client assigned to this scope.\n   * Note that not every scope will have a client assigned - isolation scopes & the global scope will generally not have a client,\n   * as well as manually created scopes.\n   */\n  public setClient(client: Client | undefined): void {\n    this._client = client;\n  }\n\n  /**\n   * Set the ID of the last captured error event.\n   * This is generally only captured on the isolation scope.\n   */\n  public setLastEventId(lastEventId: string | undefined): void {\n    this._lastEventId = lastEventId;\n  }\n\n  /**\n   * Get the client assigned to this scope.\n   */\n  public getClient<C extends Client>(): C | undefined {\n    return this._client as C | undefined;\n  }\n\n  /**\n   * Get the ID of the last captured error event.\n   * This is generally only available on the isolation scope.\n   */\n  public lastEventId(): string | undefined {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addScopeListener(callback: (scope: Scope) => void): void {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * Add an event processor that will be called before an event is sent.\n   */\n  public addEventProcessor(callback: EventProcessor): this {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * Set the user for this scope.\n   * Set to `null` to unset the user.\n   */\n  public setUser(user: User | null): this {\n    // If null is passed we want to unset everything, but still define keys,\n    // so that later down in the pipeline any existing values are cleared.\n    this._user = user || {\n      email: undefined,\n      id: undefined,\n      ip_address: undefined,\n      username: undefined,\n    };\n\n    if (this._session) {\n      updateSession(this._session, { user });\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Get the user from this scope.\n   */\n  public getUser(): User | undefined {\n    return this._user;\n  }\n\n  /**\n   * Set an object that will be merged into existing tags on the scope,\n   * and will be sent as tags data with the event.\n   */\n  public setTags(tags: { [key: string]: Primitive }): this {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Set a single tag that will be sent as tags data with the event.\n   */\n  public setTag(key: string, value: Primitive): this {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Set an object that will be merged into existing extra on the scope,\n   * and will be sent as extra data with the event.\n   */\n  public setExtras(extras: Extras): this {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Set a single key:value extra entry that will be sent as extra data with the event.\n   */\n  public setExtra(key: string, extra: Extra): this {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Sets the fingerprint on the scope to send with the events.\n   * @param {string[]} fingerprint Fingerprint to group events in Sentry.\n   */\n  public setFingerprint(fingerprint: string[]): this {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Sets the level on the scope for future events.\n   */\n  public setLevel(level: SeverityLevel): this {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Sets the transaction name on the scope so that the name of e.g. taken server route or\n   * the page location is attached to future events.\n   *\n   * IMPORTANT: Calling this function does NOT change the name of the currently active\n   * root span. If you want to change the name of the active root span, use\n   * `Sentry.updateSpanName(rootSpan, 'new name')` instead.\n   *\n   * By default, the SDK updates the scope's transaction name automatically on sensible\n   * occasions, such as a page navigation or when handling a new request on the server.\n   */\n  public setTransactionName(name?: string): this {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Sets context data with the given name.\n   * Data passed as context will be normalized. You can also pass `null` to unset the context.\n   * Note that context data will not be merged - calling `setContext` will overwrite an existing context with the same key.\n   */\n  public setContext(key: string, context: Context | null): this {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Set the session for the scope.\n   */\n  public setSession(session?: Session): this {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Get the session from the scope.\n   */\n  public getSession(): Session | undefined {\n    return this._session;\n  }\n\n  /**\n   * Updates the scope with provided data. Can work in three variations:\n   * - plain object containing updatable attributes\n   * - Scope instance that'll extract the attributes from\n   * - callback function that'll receive the current scope as an argument and allow for modifications\n   */\n  public update(captureContext?: CaptureContext): this {\n    if (!captureContext) {\n      return this;\n    }\n\n    const scopeToMerge = typeof captureContext === 'function' ? captureContext(this) : captureContext;\n\n    const scopeInstance =\n      scopeToMerge instanceof Scope\n        ? scopeToMerge.getScopeData()\n        : isPlainObject(scopeToMerge)\n          ? (captureContext as ScopeContext)\n          : undefined;\n\n    const { tags, extra, user, contexts, level, fingerprint = [], propagationContext } = scopeInstance || {};\n\n    this._tags = { ...this._tags, ...tags };\n    this._extra = { ...this._extra, ...extra };\n    this._contexts = { ...this._contexts, ...contexts };\n\n    if (user && Object.keys(user).length) {\n      this._user = user;\n    }\n\n    if (level) {\n      this._level = level;\n    }\n\n    if (fingerprint.length) {\n      this._fingerprint = fingerprint;\n    }\n\n    if (propagationContext) {\n      this._propagationContext = propagationContext;\n    }\n\n    return this;\n  }\n\n  /**\n   * Clears the current scope and resets its properties.\n   * Note: The client will not be cleared.\n   */\n  public clear(): this {\n    // client is not cleared here on purpose!\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._session = undefined;\n    _setSpanForScope(this, undefined);\n    this._attachments = [];\n    this.setPropagationContext({ traceId: generateTraceId(), sampleRand: Math.random() });\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Adds a breadcrumb to the scope.\n   * By default, the last 100 breadcrumbs are kept.\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, maxBreadcrumbs?: number): this {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? maxBreadcrumbs : DEFAULT_MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n\n    this._breadcrumbs.push(mergedBreadcrumb);\n    if (this._breadcrumbs.length > maxCrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(-maxCrumbs);\n      this._client?.recordDroppedEvent('buffer_overflow', 'log_item');\n    }\n\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * Get the last breadcrumb of the scope.\n   */\n  public getLastBreadcrumb(): Breadcrumb | undefined {\n    return this._breadcrumbs[this._breadcrumbs.length - 1];\n  }\n\n  /**\n   * Clear all breadcrumbs from the scope.\n   */\n  public clearBreadcrumbs(): this {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Add an attachment to the scope.\n   */\n  public addAttachment(attachment: Attachment): this {\n    this._attachments.push(attachment);\n    return this;\n  }\n\n  /**\n   * Clear all attachments from the scope.\n   */\n  public clearAttachments(): this {\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * Get the data of this scope, which should be applied to an event during processing.\n   */\n  public getScopeData(): ScopeData {\n    return {\n      breadcrumbs: this._breadcrumbs,\n      attachments: this._attachments,\n      contexts: this._contexts,\n      tags: this._tags,\n      extra: this._extra,\n      user: this._user,\n      level: this._level,\n      fingerprint: this._fingerprint || [],\n      eventProcessors: this._eventProcessors,\n      propagationContext: this._propagationContext,\n      sdkProcessingMetadata: this._sdkProcessingMetadata,\n      transactionName: this._transactionName,\n      span: _getSpanForScope(this),\n    };\n  }\n\n  /**\n   * Add data which will be accessible during event processing but won't get sent to Sentry.\n   */\n  public setSDKProcessingMetadata(newData: SdkProcessingMetadata): this {\n    this._sdkProcessingMetadata = merge(this._sdkProcessingMetadata, newData, 2);\n    return this;\n  }\n\n  /**\n   * Add propagation context to the scope, used for distributed tracing\n   */\n  public setPropagationContext(context: PropagationContext): this {\n    this._propagationContext = context;\n    return this;\n  }\n\n  /**\n   * Get propagation context from the scope, used for distributed tracing\n   */\n  public getPropagationContext(): PropagationContext {\n    return this._propagationContext;\n  }\n\n  /**\n   * Capture an exception for this scope.\n   *\n   * @returns {string} The id of the captured Sentry event.\n   */\n  public captureException(exception: unknown, hint?: EventHint): string {\n    const eventId = hint?.event_id || uuid4();\n\n    if (!this._client) {\n      logger.warn('No client configured on scope - will not capture exception!');\n      return eventId;\n    }\n\n    const syntheticException = new Error('Sentry syntheticException');\n\n    this._client.captureException(\n      exception,\n      {\n        originalException: exception,\n        syntheticException,\n        ...hint,\n        event_id: eventId,\n      },\n      this,\n    );\n\n    return eventId;\n  }\n\n  /**\n   * Capture a message for this scope.\n   *\n   * @returns {string} The id of the captured message.\n   */\n  public captureMessage(message: string, level?: SeverityLevel, hint?: EventHint): string {\n    const eventId = hint?.event_id || uuid4();\n\n    if (!this._client) {\n      logger.warn('No client configured on scope - will not capture message!');\n      return eventId;\n    }\n\n    const syntheticException = new Error(message);\n\n    this._client.captureMessage(\n      message,\n      level,\n      {\n        originalException: message,\n        syntheticException,\n        ...hint,\n        event_id: eventId,\n      },\n      this,\n    );\n\n    return eventId;\n  }\n\n  /**\n   * Capture a Sentry event for this scope.\n   *\n   * @returns {string} The id of the captured event.\n   */\n  public captureEvent(event: Event, hint?: EventHint): string {\n    const eventId = hint?.event_id || uuid4();\n\n    if (!this._client) {\n      logger.warn('No client configured on scope - will not capture event!');\n      return eventId;\n    }\n\n    this._client.captureEvent(event, { ...hint, event_id: eventId }, this);\n\n    return eventId;\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n  protected _notifyScopeListeners(): void {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n}\n", "import { getGlobalSingleton } from './carrier';\nimport { Scope } from './scope';\n\n/** Get the default current scope. */\nexport function getDefaultCurrentScope(): Scope {\n  return getGlobalSingleton('defaultCurrentScope', () => new Scope());\n}\n\n/** Get the default isolation scope. */\nexport function getDefaultIsolationScope(): Scope {\n  return getGlobalSingleton('defaultIsolationScope', () => new Scope());\n}\n", "import type { Client } from '../client';\nimport { getDefaultCurrentScope, getDefaultIsolationScope } from '../defaultScopes';\nimport { Scope } from '../scope';\nimport { isThenable } from '../utils-hoist/is';\nimport { getMainCarrier, getSentryCarrier } from './../carrier';\nimport type { AsyncContextStrategy } from './types';\n\ninterface Layer {\n  client?: Client;\n  scope: Scope;\n}\n\n/**\n * This is an object that holds a stack of scopes.\n */\nexport class AsyncContextStack {\n  private readonly _stack: [Layer, ...Layer[]];\n  private _isolationScope: Scope;\n\n  public constructor(scope?: Scope, isolationScope?: Scope) {\n    let assignedScope;\n    if (!scope) {\n      assignedScope = new Scope();\n    } else {\n      assignedScope = scope;\n    }\n\n    let assignedIsolationScope;\n    if (!isolationScope) {\n      assignedIsolationScope = new Scope();\n    } else {\n      assignedIsolationScope = isolationScope;\n    }\n\n    // scope stack for domains or the process\n    this._stack = [{ scope: assignedScope }];\n    this._isolationScope = assignedIsolationScope;\n  }\n\n  /**\n   * Fork a scope for the stack.\n   */\n  public withScope<T>(callback: (scope: Scope) => T): T {\n    const scope = this._pushScope();\n\n    let maybePromiseResult: T;\n    try {\n      maybePromiseResult = callback(scope);\n    } catch (e) {\n      this._popScope();\n      throw e;\n    }\n\n    if (isThenable(maybePromiseResult)) {\n      // @ts-expect-error - isThenable returns the wrong type\n      return maybePromiseResult.then(\n        res => {\n          this._popScope();\n          return res;\n        },\n        e => {\n          this._popScope();\n          throw e;\n        },\n      );\n    }\n\n    this._popScope();\n    return maybePromiseResult;\n  }\n\n  /**\n   * Get the client of the stack.\n   */\n  public getClient<C extends Client>(): C | undefined {\n    return this.getStackTop().client as C;\n  }\n\n  /**\n   * Returns the scope of the top stack.\n   */\n  public getScope(): Scope {\n    return this.getStackTop().scope;\n  }\n\n  /**\n   * Get the isolation scope for the stack.\n   */\n  public getIsolationScope(): Scope {\n    return this._isolationScope;\n  }\n\n  /**\n   * Returns the topmost scope layer in the order domain > local > process.\n   */\n  public getStackTop(): Layer {\n    return this._stack[this._stack.length - 1] as Layer;\n  }\n\n  /**\n   * Push a scope to the stack.\n   */\n  private _pushScope(): Scope {\n    // We want to clone the content of prev scope\n    const scope = this.getScope().clone();\n    this._stack.push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * Pop a scope from the stack.\n   */\n  private _popScope(): boolean {\n    if (this._stack.length <= 1) return false;\n    return !!this._stack.pop();\n  }\n}\n\n/**\n * Get the global async context stack.\n * This will be removed during the v8 cycle and is only here to make migration easier.\n */\nfunction getAsyncContextStack(): AsyncContextStack {\n  const registry = getMainCarrier();\n  const sentry = getSentryCarrier(registry);\n\n  return (sentry.stack = sentry.stack || new AsyncContextStack(getDefaultCurrentScope(), getDefaultIsolationScope()));\n}\n\nfunction withScope<T>(callback: (scope: Scope) => T): T {\n  return getAsyncContextStack().withScope(callback);\n}\n\nfunction withSetScope<T>(scope: Scope, callback: (scope: Scope) => T): T {\n  const stack = getAsyncContextStack() as AsyncContextStack;\n  return stack.withScope(() => {\n    stack.getStackTop().scope = scope;\n    return callback(scope);\n  });\n}\n\nfunction withIsolationScope<T>(callback: (isolationScope: Scope) => T): T {\n  return getAsyncContextStack().withScope(() => {\n    return callback(getAsyncContextStack().getIsolationScope());\n  });\n}\n\n/**\n * Get the stack-based async context strategy.\n */\nexport function getStackAsyncContextStrategy(): AsyncContextStrategy {\n  return {\n    withIsolationScope,\n    withScope,\n    withSetScope,\n    withSetIsolationScope: <T>(_isolationScope: Scope, callback: (isolationScope: Scope) => T) => {\n      return withIsolationScope(callback);\n    },\n    getCurrentScope: () => getAsyncContextStack().getScope(),\n    getIsolationScope: () => getAsyncContextStack().getIsolationScope(),\n  };\n}\n", "import type { Carrier } from './../carrier';\nimport { getMainCarrier, getSentryCarrier } from './../carrier';\nimport { getStackAsyncContextStrategy } from './stackStrategy';\nimport type { AsyncContextStrategy } from './types';\n\n/**\n * @private Private API with no semver guarantees!\n *\n * Sets the global async context strategy\n */\nexport function setAsyncContextStrategy(strategy: AsyncContextStrategy | undefined): void {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n  const sentry = getSentryCarrier(registry);\n  sentry.acs = strategy;\n}\n\n/**\n * Get the current async context strategy.\n * If none has been setup, the default will be used.\n */\nexport function getAsyncContextStrategy(carrier: Carrier): AsyncContextStrategy {\n  const sentry = getSentryCarrier(carrier);\n\n  if (sentry.acs) {\n    return sentry.acs;\n  }\n\n  // Otherwise, use the default one (stack)\n  return getStackAsyncContextStrategy();\n}\n", "import { getAsyncContextStrategy } from './asyncContext';\nimport { getGlobalSingleton, getMainCarrier } from './carrier';\nimport type { Client } from './client';\nimport { Scope } from './scope';\nimport type { TraceContext } from './types-hoist';\nimport { generateSpanId } from './utils-hoist';\nimport { dropUndefinedKeys } from './utils-hoist/object';\n\n/**\n * Get the currently active scope.\n */\nexport function getCurrentScope(): Scope {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n  return acs.getCurrentScope();\n}\n\n/**\n * Get the currently active isolation scope.\n * The isolation scope is active for the current execution context.\n */\nexport function getIsolationScope(): Scope {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n  return acs.getIsolationScope();\n}\n\n/**\n * Get the global scope.\n * This scope is applied to _all_ events.\n */\nexport function getGlobalScope(): Scope {\n  return getGlobalSingleton('globalScope', () => new Scope());\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n */\nexport function withScope<T>(callback: (scope: Scope) => T): T;\n/**\n * Set the given scope as the active scope in the callback.\n */\nexport function withScope<T>(scope: Scope | undefined, callback: (scope: Scope) => T): T;\n/**\n * Either creates a new active scope, or sets the given scope as active scope in the given callback.\n */\nexport function withScope<T>(\n  ...rest: [callback: (scope: Scope) => T] | [scope: Scope | undefined, callback: (scope: Scope) => T]\n): T {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n\n  // If a scope is defined, we want to make this the active scope instead of the default one\n  if (rest.length === 2) {\n    const [scope, callback] = rest;\n\n    if (!scope) {\n      return acs.withScope(callback);\n    }\n\n    return acs.withSetScope(scope, callback);\n  }\n\n  return acs.withScope(rest[0]);\n}\n\n/**\n * Attempts to fork the current isolation scope and the current scope based on the current async context strategy. If no\n * async context strategy is set, the isolation scope and the current scope will not be forked (this is currently the\n * case, for example, in the browser).\n *\n * Usage of this function in environments without async context strategy is discouraged and may lead to unexpected behaviour.\n *\n * This function is intended for Sentry SDK and SDK integration development. It is not recommended to be used in \"normal\"\n * applications directly because it comes with pitfalls. Use at your own risk!\n */\nexport function withIsolationScope<T>(callback: (isolationScope: Scope) => T): T;\n/**\n * Set the provided isolation scope as active in the given callback. If no\n * async context strategy is set, the isolation scope and the current scope will not be forked (this is currently the\n * case, for example, in the browser).\n *\n * Usage of this function in environments without async context strategy is discouraged and may lead to unexpected behaviour.\n *\n * This function is intended for Sentry SDK and SDK integration development. It is not recommended to be used in \"normal\"\n * applications directly because it comes with pitfalls. Use at your own risk!\n *\n * If you pass in `undefined` as a scope, it will fork a new isolation scope, the same as if no scope is passed.\n */\nexport function withIsolationScope<T>(isolationScope: Scope | undefined, callback: (isolationScope: Scope) => T): T;\n/**\n * Either creates a new active isolation scope, or sets the given isolation scope as active scope in the given callback.\n */\nexport function withIsolationScope<T>(\n  ...rest:\n    | [callback: (isolationScope: Scope) => T]\n    | [isolationScope: Scope | undefined, callback: (isolationScope: Scope) => T]\n): T {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n\n  // If a scope is defined, we want to make this the active scope instead of the default one\n  if (rest.length === 2) {\n    const [isolationScope, callback] = rest;\n\n    if (!isolationScope) {\n      return acs.withIsolationScope(callback);\n    }\n\n    return acs.withSetIsolationScope(isolationScope, callback);\n  }\n\n  return acs.withIsolationScope(rest[0]);\n}\n\n/**\n * Get the currently active client.\n */\nexport function getClient<C extends Client>(): C | undefined {\n  return getCurrentScope().getClient<C>();\n}\n\n/**\n * Get a trace context for the given scope.\n */\nexport function getTraceContextFromScope(scope: Scope): TraceContext {\n  const propagationContext = scope.getPropagationContext();\n\n  const { traceId, parentSpanId, propagationSpanId } = propagationContext;\n\n  const traceContext: TraceContext = dropUndefinedKeys({\n    trace_id: traceId,\n    span_id: propagationSpanId || generateSpanId(),\n    parent_span_id: parentSpanId,\n  });\n\n  return traceContext;\n}\n", "import { getClient, getCurrentScope, getIsolationScope, withIsolationScope } from './currentScopes';\nimport { DEBUG_BUILD } from './debug-build';\nimport type { CaptureContext } from './scope';\nimport { closeSession, makeSession, updateSession } from './session';\nimport type {\n  CheckIn,\n  Event,\n  EventHint,\n  EventProcessor,\n  Extra,\n  Extras,\n  FinishedCheckIn,\n  MonitorConfig,\n  Primitive,\n  Session,\n  SessionContext,\n  SeverityLevel,\n  User,\n} from './types-hoist';\nimport { isThenable } from './utils-hoist/is';\nimport { logger } from './utils-hoist/logger';\nimport { uuid4 } from './utils-hoist/misc';\nimport { timestampInSeconds } from './utils-hoist/time';\nimport { GLOBAL_OBJ } from './utils-hoist/worldwide';\nimport type { ExclusiveEventHintOrCaptureContext } from './utils/prepareEvent';\nimport { parseEventHintOrCaptureContext } from './utils/prepareEvent';\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception The exception to capture.\n * @param hint Optional additional data to attach to the Sentry event.\n * @returns the id of the captured Sentry event.\n */\nexport function captureException(exception: unknown, hint?: ExclusiveEventHintOrCaptureContext): string {\n  return getCurrentScope().captureException(exception, parseEventHintOrCaptureContext(hint));\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param captureContext Define the level of the message or pass in additional data to attach to the message.\n * @returns the id of the captured message.\n */\nexport function captureMessage(message: string, captureContext?: CaptureContext | SeverityLevel): string {\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n  return getCurrentScope().captureMessage(message, level, context);\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @param hint Optional additional data to attach to the Sentry event.\n * @returns the id of the captured event.\n */\nexport function captureEvent(event: Event, hint?: EventHint): string {\n  return getCurrentScope().captureEvent(event, hint);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\nexport function setContext(name: string, context: { [key: string]: unknown } | null): void {\n  getIsolationScope().setContext(name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nexport function setExtras(extras: Extras): void {\n  getIsolationScope().setExtras(extras);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nexport function setExtra(key: string, extra: Extra): void {\n  getIsolationScope().setExtra(key, extra);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nexport function setTags(tags: { [key: string]: Primitive }): void {\n  getIsolationScope().setTags(tags);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nexport function setTag(key: string, value: Primitive): void {\n  getIsolationScope().setTag(key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nexport function setUser(user: User | null): void {\n  getIsolationScope().setUser(user);\n}\n\n/**\n * The last error event id of the isolation scope.\n *\n * Warning: This function really returns the last recorded error event id on the current\n * isolation scope. If you call this function after handling a certain error and another error\n * is captured in between, the last one is returned instead of the one you might expect.\n * Also, ids of events that were never sent to Sentry (for example because\n * they were dropped in `beforeSend`) could be returned.\n *\n * @returns The last event id of the isolation scope.\n */\nexport function lastEventId(): string | undefined {\n  return getIsolationScope().lastEventId();\n}\n\n/**\n * Create a cron monitor check in and send it to Sentry.\n *\n * @param checkIn An object that describes a check in.\n * @param upsertMonitorConfig An optional object that describes a monitor config. Use this if you want\n * to create a monitor automatically when sending a check in.\n */\nexport function captureCheckIn(checkIn: CheckIn, upsertMonitorConfig?: MonitorConfig): string {\n  const scope = getCurrentScope();\n  const client = getClient();\n  if (!client) {\n    DEBUG_BUILD && logger.warn('Cannot capture check-in. No client defined.');\n  } else if (!client.captureCheckIn) {\n    DEBUG_BUILD && logger.warn('Cannot capture check-in. Client does not support sending check-ins.');\n  } else {\n    return client.captureCheckIn(checkIn, upsertMonitorConfig, scope);\n  }\n\n  return uuid4();\n}\n\n/**\n * Wraps a callback with a cron monitor check in. The check in will be sent to Sentry when the callback finishes.\n *\n * @param monitorSlug The distinct slug of the monitor.\n * @param upsertMonitorConfig An optional object that describes a monitor config. Use this if you want\n * to create a monitor automatically when sending a check in.\n */\nexport function withMonitor<T>(\n  monitorSlug: CheckIn['monitorSlug'],\n  callback: () => T,\n  upsertMonitorConfig?: MonitorConfig,\n): T {\n  const checkInId = captureCheckIn({ monitorSlug, status: 'in_progress' }, upsertMonitorConfig);\n  const now = timestampInSeconds();\n\n  function finishCheckIn(status: FinishedCheckIn['status']): void {\n    captureCheckIn({ monitorSlug, status, checkInId, duration: timestampInSeconds() - now });\n  }\n\n  return withIsolationScope(() => {\n    let maybePromiseResult: T;\n    try {\n      maybePromiseResult = callback();\n    } catch (e) {\n      finishCheckIn('error');\n      throw e;\n    }\n\n    if (isThenable(maybePromiseResult)) {\n      Promise.resolve(maybePromiseResult).then(\n        () => {\n          finishCheckIn('ok');\n        },\n        e => {\n          finishCheckIn('error');\n          throw e;\n        },\n      );\n    } else {\n      finishCheckIn('ok');\n    }\n\n    return maybePromiseResult;\n  });\n}\n\n/**\n * Call `flush()` on the current client, if there is one. See {@link Client.flush}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue. Omitting this parameter will cause\n * the client to wait until all events are sent before resolving the promise.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nexport async function flush(timeout?: number): Promise<boolean> {\n  const client = getClient();\n  if (client) {\n    return client.flush(timeout);\n  }\n  DEBUG_BUILD && logger.warn('Cannot flush events. No client defined.');\n  return Promise.resolve(false);\n}\n\n/**\n * Call `close()` on the current client, if there is one. See {@link Client.close}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue before shutting down. Omitting this\n * parameter will cause the client to wait until all events are sent before disabling itself.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nexport async function close(timeout?: number): Promise<boolean> {\n  const client = getClient();\n  if (client) {\n    return client.close(timeout);\n  }\n  DEBUG_BUILD && logger.warn('Cannot flush events and disable SDK. No client defined.');\n  return Promise.resolve(false);\n}\n\n/**\n * Returns true if Sentry has been properly initialized.\n */\nexport function isInitialized(): boolean {\n  return !!getClient();\n}\n\n/** If the SDK is initialized & enabled. */\nexport function isEnabled(): boolean {\n  const client = getClient();\n  return client?.getOptions().enabled !== false && !!client?.getTransport();\n}\n\n/**\n * Add an event processor.\n * This will be added to the current isolation scope, ensuring any event that is processed in the current execution\n * context will have the processor applied.\n */\nexport function addEventProcessor(callback: EventProcessor): void {\n  getIsolationScope().addEventProcessor(callback);\n}\n\n/**\n * Start a session on the current isolation scope.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns the new active session\n */\nexport function startSession(context?: SessionContext): Session {\n  const isolationScope = getIsolationScope();\n  const currentScope = getCurrentScope();\n\n  // Will fetch userAgent if called from browser sdk\n  const { userAgent } = GLOBAL_OBJ.navigator || {};\n\n  const session = makeSession({\n    user: currentScope.getUser() || isolationScope.getUser(),\n    ...(userAgent && { userAgent }),\n    ...context,\n  });\n\n  // End existing session if there's one\n  const currentSession = isolationScope.getSession();\n  if (currentSession?.status === 'ok') {\n    updateSession(currentSession, { status: 'exited' });\n  }\n\n  endSession();\n\n  // Afterwards we set the new session on the scope\n  isolationScope.setSession(session);\n\n  return session;\n}\n\n/**\n * End the session on the current isolation scope.\n */\nexport function endSession(): void {\n  const isolationScope = getIsolationScope();\n  const currentScope = getCurrentScope();\n\n  const session = currentScope.getSession() || isolationScope.getSession();\n  if (session) {\n    closeSession(session);\n  }\n  _sendSessionUpdate();\n\n  // the session is over; take it off of the scope\n  isolationScope.setSession();\n}\n\n/**\n * Sends the current Session on the scope\n */\nfunction _sendSessionUpdate(): void {\n  const isolationScope = getIsolationScope();\n  const client = getClient();\n  const session = isolationScope.getSession();\n  if (session && client) {\n    client.captureSession(session);\n  }\n}\n\n/**\n * Sends the current session on the scope to Sentry\n *\n * @param end If set the session will be marked as exited and removed from the scope.\n *            Defaults to `false`.\n */\nexport function captureSession(end: boolean = false): void {\n  // both send the update and pull the session from the scope\n  if (end) {\n    endSession();\n    return;\n  }\n\n  // only send the update\n  _sendSessionUpdate();\n}\n", "import { Controller } from '@hotwired/stimulus'\n\n/* Example:\n\n<div data-controller=\"scroll\">\n  <div>content</div>\n  <div>content</div>\n  <div>content</div>\n  <div data-scrolling-target=\"scrollEnd\">content</div>\n</div>\n*/\n\nexport default class extends Controller {\n  static targets = ['scrollEnd', 'smoothScrollEnd']\n\n  scrollEndTargetConnected(target) {\n    target.scrollIntoView()\n  }\n\n  smoothScrollEndTargetConnected(target) {\n    target.scrollIntoView({\n      behavior: 'smooth',\n    })\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nrequire('select2')()\n\n/*\nExample:\n\n<div data-controller=\"select2\">\n  <select data-select2-target=\"multi\">\n    <option value=\"1\" selected>Text 1</option>\n    <option value=\"2\">Text 2</option>\n    <option value=\"3\">Text 3</option>\n    <option value=\"4\">Text 4</option>\n    <option value=\"5\">Text 5</option>\n  </select>\n</div>\n*/\nexport default class extends Controller {\n  static targets = ['single', 'multi']\n\n  singleTargetConnected(target) {\n    $(target)\n      .select2({\n        theme: 'flat',\n        placeholder: 'Type to search...',\n        width: '100%',\n        allowClear: true,\n      })\n      .on('select2:open', () => {\n        $('.select2-container--open .select2-search__field').last().get(0).focus()\n      })\n  }\n\n  singleTargetDisconnected(target) {\n    $(target).select2('destroy')\n  }\n\n  multiTargetConnected(target) {\n    $(target).select2({\n      theme: 'flat',\n      placeholder: 'Type to search...',\n      width: '100%',\n      dropdownCssClass: 'select2--dynamic',\n    })\n  }\n\n  multiTargetDisconnected(target) {\n    $(target).select2('destroy')\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\n// This is a generic controller to be re-used for simple show/hide toggling and radio actions\n// Examples can be found in app/views/templates/base/partails/section/stimulus\n\n// Certain functions are written to support multiple uses within the same controller on the page by using parent and child IDs:\n// replaceObject (by using parent/child IDs)\n// toggleObjects (by using parent/child IDs)\n// toggleByBoolean (by using parent/child IDs)\n// toggleByRadio (by using a list of the options rather than a parent/child ID like other targets)\n// toggleByOption (by using a list of the options rather than a parent/child ID like other targets)\n// toggleWithClass (by using parent/child IDs)\n// switchClass (by using a switchId rather than a parent/child ID like other targets)\n// toggleWithTimer (only focuses on itself anyway)\n\nexport default class extends Controller {\n  static targets = ['replaceable', 'toggleable', 'boolean', 'booleanable', 'radio', 'radioable', 'option', 'optionable', 'classable', 'timed']\n\n  connect() {\n    if (this.hasToggleTarget) {\n      this.toggleObjects()\n    }\n\n    if (this.hasBooleanTarget) {\n      this.toggleByBoolean()\n    }\n\n    if (this.hasRadioTarget) {\n      this.toggleByRadio()\n    }\n\n    if (this.hasOptionTarget) {\n      this.toggleByOption()\n    }\n\n    if (this.hasTimedTarget) {\n      this.toggleWithTimer()\n    }\n  }\n\n  // hides the actionable and shows another target to \"take it's place\"\n  replaceObject(event) {\n    let parentId = event.currentTarget.dataset.parentId\n\n    event.currentTarget.classList.add('display--none')\n    this.replaceableTargets\n      .filter((t) => t.dataset.childId === parentId)\n      .forEach((object) => {\n        object.classList.remove('display--none')\n      })\n  }\n\n  // hides and shows targets when an actionable target is clicked\n  // this can be used with multiple toggleable objects in a html controller by specifying data-toggle-id and data-toggleable-id\n  toggleObjects(event) {\n    let parentId = event.currentTarget.dataset.parentId\n\n    if (parentId !== undefined) {\n      this.toggleableTargets\n        .filter((t) => t.dataset.childId === parentId)\n        .forEach((object) => {\n          object.classList.toggle('display--none')\n        })\n    } else {\n      this.toggleableTargets.forEach((object) => {\n        object.classList.toggle('display--none')\n      })\n    }\n  }\n\n  // hides and shows targets when a boolean target is (un)checked\n  toggleByBoolean() {\n    let parentId = this.booleanTarget.dataset.parentId\n\n    if (parentId !== undefined) {\n      let targets = this.booleanableTargets.filter((t) => t.dataset.childId === parentId)\n      if (this.booleanTarget.checked) {\n        targets.forEach((object) => {\n          object.classList.remove('display--none')\n        })\n      } else {\n        targets.forEach((object) => {\n          object.classList.add('display--none')\n        })\n      }\n    } else {\n      if (this.booleanTarget.checked) {\n        this.booleanableTargets.forEach((object) => {\n          object.classList.remove('display--none')\n        })\n      } else {\n        this.booleanableTargets.forEach((object) => {\n          object.classList.add('display--none')\n        })\n      }\n    }\n  }\n\n  // hides and shows targets when a radio's options is (un)checked\n  toggleByRadio() {\n    let selectedRadio = this.radioTarget.querySelector('input[type=\"radio\"]:checked')\n\n    if (selectedRadio !== null) {\n      this.radioableTargets.forEach((element) => {\n        let optionsArray = element.dataset.options.split(',')\n        if (optionsArray.includes(selectedRadio.value)) {\n          element.classList.remove('display--none')\n        } else {\n          element.classList.add('display--none')\n        }\n      })\n    }\n  }\n\n  // hides and shows targets when a select's options is (un)selected\n  toggleByOption() {\n    let selected = this.optionTarget.selectedOptions[0].value\n\n    this.optionableTargets.forEach((object) => {\n      let optionsArray = object.dataset.options.split(',')\n      if (optionsArray.includes(selected)) {\n        object.classList.remove('display--none')\n      } else {\n        object.classList.add('display--none')\n      }\n    })\n  }\n\n  // add and remove a class to classable targets which can then affect them and their children\n  toggleWithClass(event) {\n    let toggleClass = event.currentTarget.dataset.class\n    let parentId = event.currentTarget.dataset.parentId\n\n    if (parentId !== undefined) {\n      this.classableTargets\n        .filter((t) => t.dataset.childId === parentId)\n        .forEach((object) => {\n          object.classList.toggle(`${toggleClass}`)\n        })\n    } else {\n      this.classableTargets.forEach((object) => {\n        object.classList.toggle(`${toggleClass}`)\n      })\n    }\n  }\n\n  // remove the switching class from all targets, then apply it to the originally clicked target\n  // commonly used for tab clicking to remove the active link from any tabs and place it on the clicked tab\n  switchClass(event) {\n    let switchClass = event.currentTarget.dataset.class\n    let switchId = event.currentTarget.dataset.switchId\n\n    this.classableTargets\n      .filter((t) => t.dataset.switchId === switchId)\n      .forEach((object) => {\n        object.classList.remove(switchClass)\n      })\n\n    event.currentTarget.classList.add(switchClass)\n  }\n\n  toggleWithTimer() {\n    this.timedTargets.forEach((object) => {\n      setTimeout(() => {\n        object.classList.toggle('display--none')\n      }, object.dataset.timeout || 10000) // fallback to 10 seconds\n    })\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nimport Uppy from '@uppy/core'\nimport DragDrop from '@uppy/drag-drop'\nimport Informer from '@uppy/informer'\nimport AwsS3 from '@uppy/aws-s3'\nimport Compressor from '@uppy/compressor'\nimport ThumbnailGenerator from '@uppy/thumbnail-generator'\nimport * as Sentry from '@sentry/browser'\n\n/** Example usage:\n * app/views/templates/base/partials/inputs/_multi_uploader.html.erb\n * Use on Table-style uploaders\n * Use on Cocoon-style Autosaving uploaders\n **/\n\nexport default class extends Controller {\n  static targets = [\n    'previewContainer',\n    'preview',\n    'inputContainer',\n    'uppyInput',\n    'formInput', // actual form field that gets submitted\n    'progressContainer',\n    'progressBar',\n    'fileName',\n    'errorContainer',\n    'errorInformer',\n    'successHint',\n  ]\n\n  static values = {\n    inputName: String,\n    presignEndpoint: String,\n    permittedFileTypes: Array,\n    buttonHint: { type: String, default: 'Upload a File' },\n    buttonIcon: { type: String, default: '' },\n    maxFileSize: { type: Number, default: 50000000 },\n    uploading: { type: Boolean, default: false },\n  }\n\n  connect() {\n    let form = this.element.closest('form')\n    let presignEndpoint = this.presignEndpointValue\n    let upload_count = 0 // for checking for concurrent uploads\n\n    this.uppyInputTarget.innerHTML = ''\n\n    this.uppy = new Uppy({\n      autoProceed: true,\n      infoTimeout: 604800, // length of time to show the informer error for (1 week)\n      restrictions: {\n        maxFileSize: this.maxFileSizeValue,\n        allowedFileTypes: this.permittedFileTypesValue.length == 0 ? null : this.permittedFileTypesValue,\n        maxNumberOfFiles: 1,\n      },\n    })\n      .use(DragDrop, {\n        inputName: this.inputNameValue,\n        target: this.uppyInputTarget,\n        note: this.buttonHintValue,\n        onDragOver: (event) => {\n          this.uppyInputTarget.classList.add('uppy-input--onDragOver')\n        },\n        onDragLeave: (event) => {\n          this.uppyInputTarget.classList.remove('uppy-input--onDragOver')\n        },\n        onDrop: (event) => {\n          this.uppyInputTarget.classList.remove('uppy-input--onDragOver')\n        },\n        locale: {\n          strings: {\n            dropHereOr: 'Upload a file by clicking, or drag & drop',\n          },\n        },\n      })\n      .use(Informer, {\n        target: '.uppy-Informer-errors',\n      })\n      .use(AwsS3, {\n        companionUrl: '/',\n        limit: 5, // default: 5\n        timeout: 45 * 1000, // default: 30000\n        getUploadParameters(file) {\n          return fetch(`${presignEndpoint}?filename=${file.name}&type=${file.type}`, {\n            method: 'get',\n            headers: {\n              accept: 'application/json',\n              'content-type': 'application/json',\n            },\n          })\n            .then((response) => {\n              return response.json()\n            })\n            .then((data) => {\n              return {\n                method: data.method,\n                url: data.url,\n                fields: data.fields,\n              }\n            })\n            .catch((err) => {\n              Sentry.captureMessage('Single-Upload JS Controller Failed to Complete AWS Request', { extra: { err: err, params: file } })\n            })\n        },\n      })\n      .use(Compressor, {\n        quality: 0.6, // default: 0.6\n        limit: 10, // default: 10\n      })\n      .use(ThumbnailGenerator, {\n        thumbnailWidth: 300,\n        thumbnailHeight: 300,\n        thumbnailType: 'image/jpeg',\n        waitForThumbnailsBeforeUpload: false,\n      })\n      .on('thumbnail:generated', (file, preview) => {\n        this.previewTarget.style.backgroundImage = `url(\"${preview}\")`\n      })\n      .on('file-added', (file) => {\n        // set current form uploader as uploading\n        this.uploadingValue = true\n\n        // disable the form submit buttons while file uploading\n        form.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]').forEach((submit) => {\n          submit.disabled = true\n        })\n\n        // reset preview and set file name\n        this.previewTarget.style.backgroundImage = null\n        this.fileNameTargets[0].innerText = file.name\n        this.fileNameTargets[1].innerText = file.name\n      })\n      .on('upload', (data) => {\n        this.progressContainerTarget.classList.remove('display--none')\n      })\n      .on('progress', (progress) => {\n        this.progressBarTarget.style.width = progress.toString() + '%'\n      })\n      .on('upload-success', (file) => {\n        // construct uploaded file data in the format that Shrine expects\n        let uploadedFileData = JSON.stringify({\n          id: file.meta['key'].match(/^cache\\/(.+)/)[1], // object key without prefix\n          storage: 'cache',\n          metadata: {\n            size: file.size,\n            filename: file.name,\n            mime_type: file.type,\n          },\n        })\n\n        if (!['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {\n          this.previewTarget.innerHTML = this.file_icon(file.type)\n        }\n\n        // set hidden field value to the uploaded file data so that it's submitted with the form as the attachment\n        this.formInputTarget.value = uploadedFileData\n\n        // show preview\n        this.previewContainerTarget.classList.remove('display--none')\n        this.inputContainerTarget.classList.add('display--none')\n\n        // set current form uploader as not uploading\n        this.uploadingValue = false\n\n        // re-enable submit buttons if there are no other form uploads uploading\n        if (form.querySelectorAll('div[data-controller=\"single-upload\"][data-upload-uploading-value=\"true\"]').length === 0) {\n          form.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]').forEach((submit) => {\n            submit.disabled = false\n          })\n        }\n\n        // hide error hint and show the success upload hint\n        this.errorContainerTarget.classList.add('display--none')\n        this.successHintTarget.classList.remove('display--none')\n\n        // remove field error class removing the red colours\n        this.element.classList.remove('field--errors')\n      })\n      .on('upload-error', (file, error, response) => {\n        // set current form uploader as not uploading\n        this.uploadingValue = false\n\n        // re-enable submit buttons if there are no other form uploads uploading\n        if (form.querySelectorAll('div[data-controller=\"single-upload\"][data-upload-uploading-value=\"true\"]').length === 0) {\n          form.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]').forEach((submit) => {\n            submit.disabled = false\n          })\n        }\n\n        this.errorContainerTarget.classList.remove('display--none')\n        Sentry.captureMessage('Upload JS Controller Upload Error', { extra: { file: file, error: error, response: response } })\n\n        // remove the file from the store now so it can be easily found from the id, and to allow re-uploading immediately\n        this.uppy.removeFile(file.id)\n      })\n\n    if (this.buttonIconValue.length > 0) {\n      this.uppyInputTarget.querySelector('.uppy-DragDrop-label').insertAdjacentHTML('beforebegin', `${this.buttonIconValue}`)\n    }\n\n    // remove cocoon removed files from uppy store so user can reupload the same file\n    $(document).on('cocoon:before-remove', (event, removed_field) => {\n      // if cocoon element is removed for current uppy instance\n      if (this.element.contains(removed_field[0])) {\n        let removed_filename = removed_field[0].querySelector('.nested-field__name').innerText\n\n        // remove the correct file by comparing the file names\n        Object.values(this.uppy.store.state.files).forEach((file) => {\n          if (file.name == removed_filename) {\n            this.uppy.removeFile(file.id)\n          }\n        })\n      }\n    })\n  }\n\n  file_icon(file_type) {\n    let preview = '<div class=\"h--100pc display--flex justify-content--center align-items--center\">'\n\n    switch (file_type) {\n      case 'application/msword':\n      case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n        preview += '<i class=\"fa-regular fa-2x fa-file-word\"></i>'\n        break\n      case 'application/vnd.ms-excel':\n      case 'application/xls':\n      case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n        preview += '<i class=\"fa-regular fa-2x fa-file-excel\"></i>'\n        break\n      case 'application/pdf':\n        preview += '<i class=\"fa-regular fa-2x fa-file-pdf\"></i>'\n        break\n      case 'application/vnd.ms-powerpoint':\n      case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        preview += '<i class=\"fa-regular fa-2x fa-file-powerpoint\"></i>'\n        break\n      case 'text/csv':\n        preview += '<i class=\"fa-regular fa-2x fa-file-csv\"></i>'\n        break\n      case 'application/octet-stream': // any 'unknown' style documents\n        preview += '<i class=\"fa-regular fa-2x fa-cube\"></i>'\n        break\n      default:\n        preview += '<i class=\"fa-regular fa-2x fa-file\"></i>'\n        break\n    }\n\n    return (preview += '</div>')\n  }\n\n  disconnect() {\n    this.uppy.close()\n  }\n\n  // when user clicks Replace, show the input field\n  replaceFile() {\n    this.previewContainerTarget.classList.add('display--none')\n    this.inputContainerTarget.classList.remove('display--none')\n    this.progressContainerTarget.classList.add('display--none')\n    this.formInputTarget.value = null\n    this.previewTarget.innerHTML = null\n\n    // Uppy version 1 does require this as was causing issues when replacing files back to back\n    if (this.uppy.getFiles().length > 0) {\n      this.uppy.removeFile(this.uppy.getFiles()[0].id)\n    }\n  }\n\n  // show a tooltip on the submit actions when a file is uploading\n  disabledSubmitTooltip(form) {\n    let action_containers = form.querySelectorAll('.form__actions, .form__actions--section, .modal__bottom')\n\n    action_containers.forEach((action_container) => {\n      this.tippy = tippy(action_container, {\n        allowHTML: true,\n        content: 'Waiting for files to upload before you can submit the form',\n        placement: 'top-end',\n        animation: 'fade',\n        arrow: false,\n        delay: [200, 50],\n        onShow: (instance) => {\n          return !!action_container.querySelector('input[type=\"submit\"]').disabled\n        },\n      })\n    })\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nimport Pluralize from 'pluralize'\n\n// To be re-used for selecting ranges between X & Y, and for filtering a variable between two values. From & To\n// Example usage can be found in app/views/templates/base/partials/inputs/_slider_range.html.erb\n// Based off: https://css-tricks.com/multi-thumb-sliders-particular-two-thumb-case/\n\nexport default class extends Controller {\n  static targets = [\n    'rangeMin',\n    'rangeMax', // actual type=\"range\" inputs\n    'valueFrom',\n    'valueTo', // elements that display the current values\n    'valueFromWord',\n    'valueToWord', // used to pluralize the words (e.g. \"1 night\" vs \"2 nights\")\n  ]\n\n  rangeMinTargetConnected(target) {\n    this.element.style.setProperty('--min', `${((target.value - target.min) / (target.max - target.min)) * 100}%`)\n  }\n\n  rangeMaxTargetConnected(target) {\n    this.element.style.setProperty('--max', `${((target.value - target.min) / (target.max - target.min)) * 100}%`)\n  }\n\n  valueFromWordTargetConnected(target) {\n    // if the \"from\" word has a target, pluralize it\n    target.innerText = Pluralize(target.innerText, this.valueFromTarget.innerText)\n  }\n\n  valueToWordTargetConnected(target) {\n    // if the \"to\" word has a target, pluralize it\n    target.innerText = Pluralize(target.innerText, this.valueToTarget.innerText)\n  }\n\n  // update the current value of the \"from\" range input\n  updateFromValue(event) {\n    // set the --min style of the slider to the percent of off the from value,\n    // so the background between the two thumbs is filled in\n    this.element.style.setProperty('--min', this.calculatePercentOffset(event))\n\n    // parse the string values to floats, so we can compare them\n    let new_value = parseFloat(event.currentTarget.value)\n    let to_value = parseFloat(this.rangeMaxTarget.value)\n\n    // if the \"from\" value is greater than the \"to\" value\n    if (new_value >= to_value) {\n      // set the \"to\" value to the \"from\" value, so the user can keep on sliding above the \"from\" value\n      this.rangeMaxTarget.value = new_value\n      this.valueToTarget.innerText = new_value\n\n      // set the --max style of the slider to the percent of off the \"from\" value\n      this.element.style.setProperty('--max', this.calculatePercentOffset(event))\n    }\n\n    // update the \"from\" value displayed, and toLocaleString() so the value is formatted with commas\n    this.valueFromTarget.innerText = new_value.toLocaleString()\n\n    // if the \"from\" word has a target, pluralize it\n    if (this.hasValueFromWordTarget) {\n      this.valueFromWordTarget.innerText = Pluralize(this.valueFromWordTarget.innerText, new_value)\n    }\n  }\n\n  // update the current value of the \"to\" range input\n  updateToValue(event) {\n    // set the --max style of the slider to the percent of off the to value,\n    // so the background between the two thumbs is filled in\n    this.element.style.setProperty('--max', this.calculatePercentOffset(event))\n\n    // parse the string values to floats, so we can compare them\n    let new_value = parseFloat(event.currentTarget.value)\n    let from_value = parseFloat(this.rangeMinTarget.value)\n\n    // if the \"to\" value is less than the \"from\" value\n    if (new_value <= from_value) {\n      // set the \"from\" value to the \"to\" value, so the user can keep on sliding below the \"to\" value\n      this.rangeMinTarget.value = new_value\n      this.valueFromTarget.innerText = new_value\n\n      // set the --min style of the slider to the percent of off the \"to\" value\n      this.element.style.setProperty('--min', this.calculatePercentOffset(event))\n    }\n\n    // update the \"to\" value displayed, and toLocaleString() so the value is formatted with commas\n    this.valueToTarget.innerText = new_value.toLocaleString()\n\n    // if the \"to\" word has a target, pluralize it\n    if (this.hasValueToWordTarget) {\n      this.valueToWordTarget.innerText = Pluralize(this.valueToWordTarget.innerText, new_value)\n    }\n  }\n\n  // calculate the percent offset of the current value\n  calculatePercentOffset(event) {\n    return `${((event.currentTarget.value - event.currentTarget.min) / (event.currentTarget.max - event.currentTarget.min)) * 100}%`\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\nexport default class extends Controller {\n  static targets = ['tab', 'body']\n\n  // show correct tab section\n  showSection(event) {\n    // loops over all tab links to remove active class\n    this.tabTargets.forEach((link) => {\n      link.classList.remove('tab--active')\n    })\n\n    let clickedTab = this.tabTargets.find((link) => {\n      return link.dataset.tabId === event.currentTarget.dataset.tabId\n    })\n\n    // adds active class to clicked link\n    clickedTab.classList.add('tab--active')\n\n    // loops over all section bodys and shows only if it's ID matches the ID of the clicked link\n    this.bodyTargets.forEach((body) => {\n      // if link.id and body.id match, then show the body\n      if (clickedTab.dataset.tabId == body.id) {\n        body.classList.remove('hidden')\n      } else {\n        body.classList.add('hidden')\n      }\n    })\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nimport jstimezonedetect from 'jstimezonedetect'\n\n// Example:\n// <input data-controller=\"timezone\">\n\nexport default class extends Controller {\n  connect() {\n    this.element.value = jstimezonedetect.determine().name()\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\n/* Example:\n\n<div data-controller=\"toast\" data-toast-timeout-value=\"0\" class=\"toast\">\n  <div class=\"toast__message\">Toast Message</div>\n  <i class=\"toast__close fa-regular fa-times\" data-action=\"click->toast#remove\"></i>\n</div>\n*/\n\nexport default class extends Controller {\n  static values = { timeout: Number }\n\n  connect() {\n    if (this.timeoutValue > 0) {\n      setTimeout(() => {\n        this.remove()\n      }, this.timeoutValue)\n    }\n  }\n\n  remove() {\n    this.element.remove()\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\nimport tippy from 'tippy.js'\n\n// Example usage:\n// <div data-controller=\"tooltip\" data-tooltip-content-value=\"Hello world\"></div>\n\nexport default class extends Controller {\n  static values = {\n    content: String,\n    placement: {\n      type: String,\n      default: 'top',\n    },\n  }\n\n  connect() {\n    this.tippy = tippy(this.element, {\n      content: this.contentValue,\n      placement: this.placementValue,\n      delay: [200, 50],\n      animation: 'fade',\n    })\n  }\n\n  disconnect() {\n    this.tippy.destroy()\n  }\n}\n", "import { Controller } from '@hotwired/stimulus'\n\nexport default class extends Controller {\n  static values = {\n    title: String,\n    body: String,\n    buttonText: String,\n    alertStyle: { type: String, default: 'danger' },\n  }\n\n  connect() {\n    this.generateDialog()\n    this.setupDialog()\n  }\n\n  generateDialog() {\n    const alert_icon =\n      this.alertStyleValue === 'danger'\n        ? `<i class=\"fa-regular fa-exclamation-triangle fa-2x color--danger-dark p--3 mb--5px\"></i>`\n        : this.alertStyleValue === 'success'\n          ? `<i class=\"fa-regular fa-check fa-2x color--success-dark p--3\"></i>`\n          : this.alertStyleValue === 'info'\n            ? `<i class=\"fa-regular fa-circle-exclamation fa-2x color--information-dark p--3\"></i>`\n            : null\n\n    const dialogHTML = `<dialog id=\"turbo-confirm-dialog-${this.element.dataset.turboConfirm}\">\n                          <div class=\"alert-screen\" aria-dialog tabindex=\"-1\">\n                              <div class=\"alert-bg\"></div>\n                              <form method=\"dialog\" class=\"alert-modal\">\n                                <div class=\"alert__main\">\n                                  <i data-behaviour=\"close\" class=\"alert__close fa-regular fa-times\"></i>\n\n                                  <div class=\"display--flex align-items--center justify-content--center mb--5\">\n                                    <div class=\"alert__icon alert__icon--${this.alertStyleValue}\">${alert_icon}</div>\n                                  </div>\n                                  <div class=\"text--center font-size--1\">${this.titleValue}</div>\n                                  <div class=\"text--center color--light\">${this.bodyValue}</div>\n                                </div>\n                                <div class=\"alert__actions\">\n                                  <button value=\"close\" class=\"button button--grey button--stroke\">Cancel</button>\n                                  <button value=\"confirm\" class=\"button button--${this.alertStyleValue}\">${this.buttonTextValue}</button>\n                                </div>\n                              </form>\n                            </div>\n                          </dialog>`\n\n    document.body.insertAdjacentHTML('beforeend', dialogHTML)\n    this.dialogElement = document.getElementById(`turbo-confirm-dialog-${this.element.dataset.turboConfirm}`)\n\n    this.dialogElement.querySelector('[data-behaviour=\"close\"]').addEventListener('click', (event) => {\n      this.dialogElement.close('cancel')\n    })\n\n    this.dialogElement.addEventListener('keyup', (event) => {\n      if (event.key === 'Escape') {\n        this.dialogElement.close('cancel')\n      } else if (event.key === 'Enter') {\n        this.dialogElement.returnValue = 'confirm'\n        this.dialogElement.close('cancel')\n      }\n    })\n  }\n\n  setupDialog() {\n    // Store the original confirm handler if it exists\n    const originalConfirm = Turbo.config.forms.confirm\n\n    Turbo.config.forms.confirm = (element) => {\n      if (element === this.element.dataset.turboConfirm) {\n        this.dialogElement.showModal()\n\n        return new Promise((resolve) => {\n          this.dialogElement.addEventListener(\n            'close',\n            () => {\n              resolve(this.dialogElement.returnValue === 'confirm')\n            },\n            { once: true },\n          )\n        })\n      }\n\n      // Fall back to original confirm handler for other elements\n      return originalConfirm?.(element)\n    }\n\n    this.dialogElement.focus()\n  }\n}\n", "\n        import * as module0 from './copy_controller.js';import * as module1 from './datepicker_controller.js';import * as module2 from './filter_controller.js';import * as module3 from './form_controller.js';import * as module4 from './menu_controller.js';import * as module5 from './modal_controller.js';import * as module6 from './multi_upload_controller.js';import * as module7 from './scroll_controller.js';import * as module8 from './select2_controller.js';import * as module9 from './show_hide_controller.js';import * as module10 from './single_upload_controller.js';import * as module11 from './slider_range_controller.js';import * as module12 from './tabs_controller.js';import * as module13 from './timezone_controller.js';import * as module14 from './toast_controller.js';import * as module15 from './tooltip_controller.js';import * as module16 from './turbo_confirm_controller.js'\n        const modules = [{name: 'copy', module: module0, filename: 'copy_controller.js'},{name: 'datepicker', module: module1, filename: 'datepicker_controller.js'},{name: 'filter', module: module2, filename: 'filter_controller.js'},{name: 'form', module: module3, filename: 'form_controller.js'},{name: 'menu', module: module4, filename: 'menu_controller.js'},{name: 'modal', module: module5, filename: 'modal_controller.js'},{name: 'multi-upload', module: module6, filename: 'multi_upload_controller.js'},{name: 'scroll', module: module7, filename: 'scroll_controller.js'},{name: 'select2', module: module8, filename: 'select2_controller.js'},{name: 'show-hide', module: module9, filename: 'show_hide_controller.js'},{name: 'single-upload', module: module10, filename: 'single_upload_controller.js'},{name: 'slider-range', module: module11, filename: 'slider_range_controller.js'},{name: 'tabs', module: module12, filename: 'tabs_controller.js'},{name: 'timezone', module: module13, filename: 'timezone_controller.js'},{name: 'toast', module: module14, filename: 'toast_controller.js'},{name: 'tooltip', module: module15, filename: 'tooltip_controller.js'},{name: 'turbo-confirm', module: module16, filename: 'turbo_confirm_controller.js'}]\n        export default modules;\n      ", "import { application } from './application'\nimport controllers from './**/*_controller.js'\n\ncontrollers.forEach((controller) => {\n  application.register(controller.name, controller.module.default)\n})\n", "/*!\nTurbo 8.0.12\nCopyright \u00A9 2024 37signals LLC\n */\n/**\n * The MIT License (MIT)\n *\n * Copyright (c) 2019 Javan Makhmali\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function (prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function (submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form ||\n      raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\n\nfunction findSubmitterFromClickTarget(target) {\n  const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n  const candidate = element ? element.closest(\"input, button\") : null;\n  return candidate?.type == \"submit\" ? candidate : null\n}\n\nfunction clickCaptured(event) {\n  const submitter = findSubmitterFromClickTarget(event.target);\n\n  if (submitter && submitter.form) {\n    submittersByForm.set(submitter.form, submitter);\n  }\n}\n\n(function () {\n  if (\"submitter\" in Event.prototype) return\n\n  let prototype = window.Event.prototype;\n  // Certain versions of Safari 15 have a bug where they won't\n  // populate the submitter. This hurts TurboDrive's enable/disable detection.\n  // See https://bugs.webkit.org/show_bug.cgi?id=229660\n  if (\"SubmitEvent\" in window) {\n    const prototypeOfSubmitEvent = window.SubmitEvent.prototype;\n\n    if (/Apple Computer/.test(navigator.vendor) && !(\"submitter\" in prototypeOfSubmitEvent)) {\n      prototype = prototypeOfSubmitEvent;\n    } else {\n      return // polyfill not needed\n    }\n  }\n\n  addEventListener(\"click\", clickCaptured, true);\n\n  Object.defineProperty(prototype, \"submitter\", {\n    get() {\n      if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n        return submittersByForm.get(this.target)\n      }\n    }\n  });\n})();\n\nconst FrameLoadingStyle = {\n  eager: \"eager\",\n  lazy: \"lazy\"\n};\n\n/**\n * Contains a fragment of HTML which is updated based on navigation within\n * it (e.g. via links or form submissions).\n *\n * @customElement turbo-frame\n * @example\n *   <turbo-frame id=\"messages\">\n *     <a href=\"/messages/expanded\">\n *       Show all expanded messages in this frame.\n *     </a>\n *\n *     <form action=\"/messages\">\n *       Show response from this form within this frame.\n *     </form>\n *   </turbo-frame>\n */\nclass FrameElement extends HTMLElement {\n  static delegateConstructor = undefined\n\n  loaded = Promise.resolve()\n\n  static get observedAttributes() {\n    return [\"disabled\", \"loading\", \"src\"]\n  }\n\n  constructor() {\n    super();\n    this.delegate = new FrameElement.delegateConstructor(this);\n  }\n\n  connectedCallback() {\n    this.delegate.connect();\n  }\n\n  disconnectedCallback() {\n    this.delegate.disconnect();\n  }\n\n  reload() {\n    return this.delegate.sourceURLReloaded()\n  }\n\n  attributeChangedCallback(name) {\n    if (name == \"loading\") {\n      this.delegate.loadingStyleChanged();\n    } else if (name == \"src\") {\n      this.delegate.sourceURLChanged();\n    } else if (name == \"disabled\") {\n      this.delegate.disabledChanged();\n    }\n  }\n\n  /**\n   * Gets the URL to lazily load source HTML from\n   */\n  get src() {\n    return this.getAttribute(\"src\")\n  }\n\n  /**\n   * Sets the URL to lazily load source HTML from\n   */\n  set src(value) {\n    if (value) {\n      this.setAttribute(\"src\", value);\n    } else {\n      this.removeAttribute(\"src\");\n    }\n  }\n\n  /**\n   * Gets the refresh mode for the frame.\n   */\n  get refresh() {\n    return this.getAttribute(\"refresh\")\n  }\n\n  /**\n   * Sets the refresh mode for the frame.\n   */\n  set refresh(value) {\n    if (value) {\n      this.setAttribute(\"refresh\", value);\n    } else {\n      this.removeAttribute(\"refresh\");\n    }\n  }\n\n  get shouldReloadWithMorph() {\n    return this.src && this.refresh === \"morph\"\n  }\n\n  /**\n   * Determines if the element is loading\n   */\n  get loading() {\n    return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\")\n  }\n\n  /**\n   * Sets the value of if the element is loading\n   */\n  set loading(value) {\n    if (value) {\n      this.setAttribute(\"loading\", value);\n    } else {\n      this.removeAttribute(\"loading\");\n    }\n  }\n\n  /**\n   * Gets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  get disabled() {\n    return this.hasAttribute(\"disabled\")\n  }\n\n  /**\n   * Sets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  set disabled(value) {\n    if (value) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  /**\n   * Gets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  get autoscroll() {\n    return this.hasAttribute(\"autoscroll\")\n  }\n\n  /**\n   * Sets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  set autoscroll(value) {\n    if (value) {\n      this.setAttribute(\"autoscroll\", \"\");\n    } else {\n      this.removeAttribute(\"autoscroll\");\n    }\n  }\n\n  /**\n   * Determines if the element has finished loading\n   */\n  get complete() {\n    return !this.delegate.isLoading\n  }\n\n  /**\n   * Gets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isActive() {\n    return this.ownerDocument === document && !this.isPreview\n  }\n\n  /**\n   * Sets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isPreview() {\n    return this.ownerDocument?.documentElement?.hasAttribute(\"data-turbo-preview\")\n  }\n}\n\nfunction frameLoadingStyleFromString(style) {\n  switch (style.toLowerCase()) {\n    case \"lazy\":\n      return FrameLoadingStyle.lazy\n    default:\n      return FrameLoadingStyle.eager\n  }\n}\n\nconst drive = {\n  enabled: true,\n  progressBarDelay: 500,\n  unvisitableExtensions: new Set(\n    [\n      \".7z\", \".aac\", \".apk\", \".avi\", \".bmp\", \".bz2\", \".css\", \".csv\", \".deb\", \".dmg\", \".doc\",\n      \".docx\", \".exe\", \".gif\", \".gz\", \".heic\", \".heif\", \".ico\", \".iso\", \".jpeg\", \".jpg\",\n      \".js\", \".json\", \".m4a\", \".mkv\", \".mov\", \".mp3\", \".mp4\", \".mpeg\", \".mpg\", \".msi\",\n      \".ogg\", \".ogv\", \".pdf\", \".pkg\", \".png\", \".ppt\", \".pptx\", \".rar\", \".rtf\",\n      \".svg\", \".tar\", \".tif\", \".tiff\", \".txt\", \".wav\", \".webm\", \".webp\", \".wma\", \".wmv\",\n      \".xls\", \".xlsx\", \".xml\", \".zip\"\n    ]\n  )\n};\n\nfunction activateScriptElement(element) {\n  if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n    return element\n  } else {\n    const createdScriptElement = document.createElement(\"script\");\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      createdScriptElement.nonce = cspNonce;\n    }\n    createdScriptElement.textContent = element.textContent;\n    createdScriptElement.async = false;\n    copyElementAttributes(createdScriptElement, element);\n    return createdScriptElement\n  }\n}\n\nfunction copyElementAttributes(destinationElement, sourceElement) {\n  for (const { name, value } of sourceElement.attributes) {\n    destinationElement.setAttribute(name, value);\n  }\n}\n\nfunction createDocumentFragment(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html;\n  return template.content\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n  const event = new CustomEvent(eventName, {\n    cancelable,\n    bubbles: true,\n    composed: true,\n    detail\n  });\n\n  if (target && target.isConnected) {\n    target.dispatchEvent(event);\n  } else {\n    document.documentElement.dispatchEvent(event);\n  }\n\n  return event\n}\n\nfunction cancelEvent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction nextRepaint() {\n  if (document.visibilityState === \"hidden\") {\n    return nextEventLoopTick()\n  } else {\n    return nextAnimationFrame()\n  }\n}\n\nfunction nextAnimationFrame() {\n  return new Promise((resolve) => requestAnimationFrame(() => resolve()))\n}\n\nfunction nextEventLoopTick() {\n  return new Promise((resolve) => setTimeout(() => resolve(), 0))\n}\n\nfunction nextMicrotask() {\n  return Promise.resolve()\n}\n\nfunction parseHTMLDocument(html = \"\") {\n  return new DOMParser().parseFromString(html, \"text/html\")\n}\n\nfunction unindent(strings, ...values) {\n  const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n  const match = lines[0].match(/^\\s+/);\n  const indent = match ? match[0].length : 0;\n  return lines.map((line) => line.slice(indent)).join(\"\\n\")\n}\n\nfunction interpolate(strings, values) {\n  return strings.reduce((result, string, i) => {\n    const value = values[i] == undefined ? \"\" : values[i];\n    return result + string + value\n  }, \"\")\n}\n\nfunction uuid() {\n  return Array.from({ length: 36 })\n    .map((_, i) => {\n      if (i == 8 || i == 13 || i == 18 || i == 23) {\n        return \"-\"\n      } else if (i == 14) {\n        return \"4\"\n      } else if (i == 19) {\n        return (Math.floor(Math.random() * 4) + 8).toString(16)\n      } else {\n        return Math.floor(Math.random() * 15).toString(16)\n      }\n    })\n    .join(\"\")\n}\n\nfunction getAttribute(attributeName, ...elements) {\n  for (const value of elements.map((element) => element?.getAttribute(attributeName))) {\n    if (typeof value == \"string\") return value\n  }\n\n  return null\n}\n\nfunction hasAttribute(attributeName, ...elements) {\n  return elements.some((element) => element && element.hasAttribute(attributeName))\n}\n\nfunction markAsBusy(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.setAttribute(\"busy\", \"\");\n    }\n    element.setAttribute(\"aria-busy\", \"true\");\n  }\n}\n\nfunction clearBusyState(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.removeAttribute(\"busy\");\n    }\n\n    element.removeAttribute(\"aria-busy\");\n  }\n}\n\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n  return new Promise((resolve) => {\n    const onComplete = () => {\n      element.removeEventListener(\"error\", onComplete);\n      element.removeEventListener(\"load\", onComplete);\n      resolve();\n    };\n\n    element.addEventListener(\"load\", onComplete, { once: true });\n    element.addEventListener(\"error\", onComplete, { once: true });\n    setTimeout(resolve, timeoutInMilliseconds);\n  })\n}\n\nfunction getHistoryMethodForAction(action) {\n  switch (action) {\n    case \"replace\":\n      return history.replaceState\n    case \"advance\":\n    case \"restore\":\n      return history.pushState\n  }\n}\n\nfunction isAction(action) {\n  return action == \"advance\" || action == \"replace\" || action == \"restore\"\n}\n\nfunction getVisitAction(...elements) {\n  const action = getAttribute(\"data-turbo-action\", ...elements);\n\n  return isAction(action) ? action : null\n}\n\nfunction getMetaElement(name) {\n  return document.querySelector(`meta[name=\"${name}\"]`)\n}\n\nfunction getMetaContent(name) {\n  const element = getMetaElement(name);\n  return element && element.content\n}\n\nfunction getCspNonce() {\n  const element = getMetaElement(\"csp-nonce\");\n\n  if (element) {\n    const { nonce, content } = element;\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nfunction setMetaContent(name, content) {\n  let element = getMetaElement(name);\n\n  if (!element) {\n    element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", name);\n\n    document.head.appendChild(element);\n  }\n\n  element.setAttribute(\"content\", content);\n\n  return element\n}\n\nfunction findClosestRecursively(element, selector) {\n  if (element instanceof Element) {\n    return (\n      element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector)\n    )\n  }\n}\n\nfunction elementIsFocusable(element) {\n  const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n\n  return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == \"function\"\n}\n\nfunction queryAutofocusableElement(elementOrDocumentFragment) {\n  return Array.from(elementOrDocumentFragment.querySelectorAll(\"[autofocus]\")).find(elementIsFocusable)\n}\n\nasync function around(callback, reader) {\n  const before = reader();\n\n  callback();\n\n  await nextAnimationFrame();\n\n  const after = reader();\n\n  return [before, after]\n}\n\nfunction doesNotTargetIFrame(name) {\n  if (name === \"_blank\") {\n    return false\n  } else if (name) {\n    for (const element of document.getElementsByName(name)) {\n      if (element instanceof HTMLIFrameElement) return false\n    }\n\n    return true\n  } else {\n    return true\n  }\n}\n\nfunction findLinkFromClickTarget(target) {\n  return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\")\n}\n\nfunction getLocationForLink(link) {\n  return expandURL(link.getAttribute(\"href\") || \"\")\n}\n\nfunction debounce(fn, delay) {\n  let timeoutId = null;\n\n  return (...args) => {\n    const callback = () => fn.apply(this, args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(callback, delay);\n  }\n}\n\nconst submitter = {\n  \"aria-disabled\": {\n    beforeSubmit: submitter => {\n      submitter.setAttribute(\"aria-disabled\", \"true\");\n      submitter.addEventListener(\"click\", cancelEvent);\n    },\n\n    afterSubmit: submitter => {\n      submitter.removeAttribute(\"aria-disabled\");\n      submitter.removeEventListener(\"click\", cancelEvent);\n    }\n  },\n\n  \"disabled\": {\n    beforeSubmit: submitter => submitter.disabled = true,\n    afterSubmit: submitter => submitter.disabled = false\n  }\n};\n\nclass Config {\n  #submitter = null\n\n  constructor(config) {\n    Object.assign(this, config);\n  }\n\n  get submitter() {\n    return this.#submitter\n  }\n\n  set submitter(value) {\n    this.#submitter = submitter[value] || value;\n  }\n}\n\nconst forms = new Config({\n  mode: \"on\",\n  submitter: \"disabled\"\n});\n\nconst config = {\n  drive,\n  forms\n};\n\nfunction expandURL(locatable) {\n  return new URL(locatable.toString(), document.baseURI)\n}\n\nfunction getAnchor(url) {\n  let anchorMatch;\n  if (url.hash) {\n    return url.hash.slice(1)\n    // eslint-disable-next-line no-cond-assign\n  } else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n    return anchorMatch[1]\n  }\n}\n\nfunction getAction$1(form, submitter) {\n  const action = submitter?.getAttribute(\"formaction\") || form.getAttribute(\"action\") || form.action;\n\n  return expandURL(action)\n}\n\nfunction getExtension(url) {\n  return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\"\n}\n\nfunction isPrefixedBy(baseURL, url) {\n  const prefix = getPrefix(url);\n  return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix)\n}\n\nfunction locationIsVisitable(location, rootLocation) {\n  return isPrefixedBy(location, rootLocation) && !config.drive.unvisitableExtensions.has(getExtension(location))\n}\n\nfunction getRequestURL(url) {\n  const anchor = getAnchor(url);\n  return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href\n}\n\nfunction toCacheKey(url) {\n  return getRequestURL(url)\n}\n\nfunction urlsAreEqual(left, right) {\n  return expandURL(left).href == expandURL(right).href\n}\n\nfunction getPathComponents(url) {\n  return url.pathname.split(\"/\").slice(1)\n}\n\nfunction getLastPathComponent(url) {\n  return getPathComponents(url).slice(-1)[0]\n}\n\nfunction getPrefix(url) {\n  return addTrailingSlash(url.origin + url.pathname)\n}\n\nfunction addTrailingSlash(value) {\n  return value.endsWith(\"/\") ? value : value + \"/\"\n}\n\nclass FetchResponse {\n  constructor(response) {\n    this.response = response;\n  }\n\n  get succeeded() {\n    return this.response.ok\n  }\n\n  get failed() {\n    return !this.succeeded\n  }\n\n  get clientError() {\n    return this.statusCode >= 400 && this.statusCode <= 499\n  }\n\n  get serverError() {\n    return this.statusCode >= 500 && this.statusCode <= 599\n  }\n\n  get redirected() {\n    return this.response.redirected\n  }\n\n  get location() {\n    return expandURL(this.response.url)\n  }\n\n  get isHTML() {\n    return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/)\n  }\n\n  get statusCode() {\n    return this.response.status\n  }\n\n  get contentType() {\n    return this.header(\"Content-Type\")\n  }\n\n  get responseText() {\n    return this.response.clone().text()\n  }\n\n  get responseHTML() {\n    if (this.isHTML) {\n      return this.response.clone().text()\n    } else {\n      return Promise.resolve(undefined)\n    }\n  }\n\n  header(name) {\n    return this.response.headers.get(name)\n  }\n}\n\nclass LimitedSet extends Set {\n  constructor(maxSize) {\n    super();\n    this.maxSize = maxSize;\n  }\n\n  add(value) {\n    if (this.size >= this.maxSize) {\n      const iterator = this.values();\n      const oldestValue = iterator.next().value;\n      this.delete(oldestValue);\n    }\n    super.add(value);\n  }\n}\n\nconst recentRequests = new LimitedSet(20);\n\nconst nativeFetch = window.fetch;\n\nfunction fetchWithTurboHeaders(url, options = {}) {\n  const modifiedHeaders = new Headers(options.headers || {});\n  const requestUID = uuid();\n  recentRequests.add(requestUID);\n  modifiedHeaders.append(\"X-Turbo-Request-Id\", requestUID);\n\n  return nativeFetch(url, {\n    ...options,\n    headers: modifiedHeaders\n  })\n}\n\nfunction fetchMethodFromString(method) {\n  switch (method.toLowerCase()) {\n    case \"get\":\n      return FetchMethod.get\n    case \"post\":\n      return FetchMethod.post\n    case \"put\":\n      return FetchMethod.put\n    case \"patch\":\n      return FetchMethod.patch\n    case \"delete\":\n      return FetchMethod.delete\n  }\n}\n\nconst FetchMethod = {\n  get: \"get\",\n  post: \"post\",\n  put: \"put\",\n  patch: \"patch\",\n  delete: \"delete\"\n};\n\nfunction fetchEnctypeFromString(encoding) {\n  switch (encoding.toLowerCase()) {\n    case FetchEnctype.multipart:\n      return FetchEnctype.multipart\n    case FetchEnctype.plain:\n      return FetchEnctype.plain\n    default:\n      return FetchEnctype.urlEncoded\n  }\n}\n\nconst FetchEnctype = {\n  urlEncoded: \"application/x-www-form-urlencoded\",\n  multipart: \"multipart/form-data\",\n  plain: \"text/plain\"\n};\n\nclass FetchRequest {\n  abortController = new AbortController()\n  #resolveRequestPromise = (_value) => {}\n\n  constructor(delegate, method, location, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {\n    const [url, body] = buildResourceAndBody(expandURL(location), method, requestBody, enctype);\n\n    this.delegate = delegate;\n    this.url = url;\n    this.target = target;\n    this.fetchOptions = {\n      credentials: \"same-origin\",\n      redirect: \"follow\",\n      method: method.toUpperCase(),\n      headers: { ...this.defaultHeaders },\n      body: body,\n      signal: this.abortSignal,\n      referrer: this.delegate.referrer?.href\n    };\n    this.enctype = enctype;\n  }\n\n  get method() {\n    return this.fetchOptions.method\n  }\n\n  set method(value) {\n    const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();\n    const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;\n\n    this.url.search = \"\";\n\n    const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);\n\n    this.url = url;\n    this.fetchOptions.body = body;\n    this.fetchOptions.method = fetchMethod.toUpperCase();\n  }\n\n  get headers() {\n    return this.fetchOptions.headers\n  }\n\n  set headers(value) {\n    this.fetchOptions.headers = value;\n  }\n\n  get body() {\n    if (this.isSafe) {\n      return this.url.searchParams\n    } else {\n      return this.fetchOptions.body\n    }\n  }\n\n  set body(value) {\n    this.fetchOptions.body = value;\n  }\n\n  get location() {\n    return this.url\n  }\n\n  get params() {\n    return this.url.searchParams\n  }\n\n  get entries() {\n    return this.body ? Array.from(this.body.entries()) : []\n  }\n\n  cancel() {\n    this.abortController.abort();\n  }\n\n  async perform() {\n    const { fetchOptions } = this;\n    this.delegate.prepareRequest(this);\n    const event = await this.#allowRequestToBeIntercepted(fetchOptions);\n    try {\n      this.delegate.requestStarted(this);\n\n      if (event.detail.fetchRequest) {\n        this.response = event.detail.fetchRequest.response;\n      } else {\n        this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);\n      }\n\n      const response = await this.response;\n      return await this.receive(response)\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        if (this.#willDelegateErrorHandling(error)) {\n          this.delegate.requestErrored(this, error);\n        }\n        throw error\n      }\n    } finally {\n      this.delegate.requestFinished(this);\n    }\n  }\n\n  async receive(response) {\n    const fetchResponse = new FetchResponse(response);\n    const event = dispatch(\"turbo:before-fetch-response\", {\n      cancelable: true,\n      detail: { fetchResponse },\n      target: this.target\n    });\n    if (event.defaultPrevented) {\n      this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n    } else if (fetchResponse.succeeded) {\n      this.delegate.requestSucceededWithResponse(this, fetchResponse);\n    } else {\n      this.delegate.requestFailedWithResponse(this, fetchResponse);\n    }\n    return fetchResponse\n  }\n\n  get defaultHeaders() {\n    return {\n      Accept: \"text/html, application/xhtml+xml\"\n    }\n  }\n\n  get isSafe() {\n    return isSafe(this.method)\n  }\n\n  get abortSignal() {\n    return this.abortController.signal\n  }\n\n  acceptResponseType(mimeType) {\n    this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n  }\n\n  async #allowRequestToBeIntercepted(fetchOptions) {\n    const requestInterception = new Promise((resolve) => (this.#resolveRequestPromise = resolve));\n    const event = dispatch(\"turbo:before-fetch-request\", {\n      cancelable: true,\n      detail: {\n        fetchOptions,\n        url: this.url,\n        resume: this.#resolveRequestPromise\n      },\n      target: this.target\n    });\n    this.url = event.detail.url;\n    if (event.defaultPrevented) await requestInterception;\n\n    return event\n  }\n\n  #willDelegateErrorHandling(error) {\n    const event = dispatch(\"turbo:fetch-request-error\", {\n      target: this.target,\n      cancelable: true,\n      detail: { request: this, error: error }\n    });\n\n    return !event.defaultPrevented\n  }\n}\n\nfunction isSafe(fetchMethod) {\n  return fetchMethodFromString(fetchMethod) == FetchMethod.get\n}\n\nfunction buildResourceAndBody(resource, method, requestBody, enctype) {\n  const searchParams =\n    Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;\n\n  if (isSafe(method)) {\n    return [mergeIntoURLSearchParams(resource, searchParams), null]\n  } else if (enctype == FetchEnctype.urlEncoded) {\n    return [resource, searchParams]\n  } else {\n    return [resource, requestBody]\n  }\n}\n\nfunction entriesExcludingFiles(requestBody) {\n  const entries = [];\n\n  for (const [name, value] of requestBody) {\n    if (value instanceof File) continue\n    else entries.push([name, value]);\n  }\n\n  return entries\n}\n\nfunction mergeIntoURLSearchParams(url, requestBody) {\n  const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));\n\n  url.search = searchParams.toString();\n\n  return url\n}\n\nclass AppearanceObserver {\n  started = false\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n    this.intersectionObserver = new IntersectionObserver(this.intersect);\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this.intersectionObserver.observe(this.element);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this.intersectionObserver.unobserve(this.element);\n    }\n  }\n\n  intersect = (entries) => {\n    const lastEntry = entries.slice(-1)[0];\n    if (lastEntry?.isIntersecting) {\n      this.delegate.elementAppearedInViewport(this.element);\n    }\n  }\n}\n\nclass StreamMessage {\n  static contentType = \"text/vnd.turbo-stream.html\"\n\n  static wrap(message) {\n    if (typeof message == \"string\") {\n      return new this(createDocumentFragment(message))\n    } else {\n      return message\n    }\n  }\n\n  constructor(fragment) {\n    this.fragment = importStreamElements(fragment);\n  }\n}\n\nfunction importStreamElements(fragment) {\n  for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n    const streamElement = document.importNode(element, true);\n\n    for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n      inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n    }\n\n    element.replaceWith(streamElement);\n  }\n\n  return fragment\n}\n\nconst PREFETCH_DELAY = 100;\n\nclass PrefetchCache {\n  #prefetchTimeout = null\n  #prefetched = null\n\n  get(url) {\n    if (this.#prefetched && this.#prefetched.url === url && this.#prefetched.expire > Date.now()) {\n      return this.#prefetched.request\n    }\n  }\n\n  setLater(url, request, ttl) {\n    this.clear();\n\n    this.#prefetchTimeout = setTimeout(() => {\n      request.perform();\n      this.set(url, request, ttl);\n      this.#prefetchTimeout = null;\n    }, PREFETCH_DELAY);\n  }\n\n  set(url, request, ttl) {\n    this.#prefetched = { url, request, expire: new Date(new Date().getTime() + ttl) };\n  }\n\n  clear() {\n    if (this.#prefetchTimeout) clearTimeout(this.#prefetchTimeout);\n    this.#prefetched = null;\n  }\n}\n\nconst cacheTtl = 10 * 1000;\nconst prefetchCache = new PrefetchCache();\n\nconst FormSubmissionState = {\n  initialized: \"initialized\",\n  requesting: \"requesting\",\n  waiting: \"waiting\",\n  receiving: \"receiving\",\n  stopping: \"stopping\",\n  stopped: \"stopped\"\n};\n\nclass FormSubmission {\n  state = FormSubmissionState.initialized\n\n  static confirmMethod(message) {\n    return Promise.resolve(confirm(message))\n  }\n\n  constructor(delegate, formElement, submitter, mustRedirect = false) {\n    const method = getMethod(formElement, submitter);\n    const action = getAction(getFormAction(formElement, submitter), method);\n    const body = buildFormData(formElement, submitter);\n    const enctype = getEnctype(formElement, submitter);\n\n    this.delegate = delegate;\n    this.formElement = formElement;\n    this.submitter = submitter;\n    this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);\n    this.mustRedirect = mustRedirect;\n  }\n\n  get method() {\n    return this.fetchRequest.method\n  }\n\n  set method(value) {\n    this.fetchRequest.method = value;\n  }\n\n  get action() {\n    return this.fetchRequest.url.toString()\n  }\n\n  set action(value) {\n    this.fetchRequest.url = expandURL(value);\n  }\n\n  get body() {\n    return this.fetchRequest.body\n  }\n\n  get enctype() {\n    return this.fetchRequest.enctype\n  }\n\n  get isSafe() {\n    return this.fetchRequest.isSafe\n  }\n\n  get location() {\n    return this.fetchRequest.url\n  }\n\n  // The submission process\n\n  async start() {\n    const { initialized, requesting } = FormSubmissionState;\n    const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n\n    if (typeof confirmationMessage === \"string\") {\n      const confirmMethod = typeof config.forms.confirm === \"function\" ?\n        config.forms.confirm :\n        FormSubmission.confirmMethod;\n\n      const answer = await confirmMethod(confirmationMessage, this.formElement, this.submitter);\n      if (!answer) {\n        return\n      }\n    }\n\n    if (this.state == initialized) {\n      this.state = requesting;\n      return this.fetchRequest.perform()\n    }\n  }\n\n  stop() {\n    const { stopping, stopped } = FormSubmissionState;\n    if (this.state != stopping && this.state != stopped) {\n      this.state = stopping;\n      this.fetchRequest.cancel();\n      return true\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (!request.isSafe) {\n      const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n      if (token) {\n        request.headers[\"X-CSRF-Token\"] = token;\n      }\n    }\n\n    if (this.requestAcceptsTurboStreamResponse(request)) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    this.state = FormSubmissionState.waiting;\n    if (this.submitter) config.forms.submitter.beforeSubmit(this.submitter);\n    this.setSubmitsWith();\n    markAsBusy(this.formElement);\n    dispatch(\"turbo:submit-start\", {\n      target: this.formElement,\n      detail: { formSubmission: this }\n    });\n    this.delegate.formSubmissionStarted(this);\n  }\n\n  requestPreventedHandlingResponse(request, response) {\n    prefetchCache.clear();\n\n    this.result = { success: response.succeeded, fetchResponse: response };\n  }\n\n  requestSucceededWithResponse(request, response) {\n    if (response.clientError || response.serverError) {\n      this.delegate.formSubmissionFailedWithResponse(this, response);\n      return\n    }\n\n    prefetchCache.clear();\n\n    if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n      const error = new Error(\"Form responses must redirect to another location\");\n      this.delegate.formSubmissionErrored(this, error);\n    } else {\n      this.state = FormSubmissionState.receiving;\n      this.result = { success: true, fetchResponse: response };\n      this.delegate.formSubmissionSucceededWithResponse(this, response);\n    }\n  }\n\n  requestFailedWithResponse(request, response) {\n    this.result = { success: false, fetchResponse: response };\n    this.delegate.formSubmissionFailedWithResponse(this, response);\n  }\n\n  requestErrored(request, error) {\n    this.result = { success: false, error };\n    this.delegate.formSubmissionErrored(this, error);\n  }\n\n  requestFinished(_request) {\n    this.state = FormSubmissionState.stopped;\n    if (this.submitter) config.forms.submitter.afterSubmit(this.submitter);\n    this.resetSubmitterText();\n    clearBusyState(this.formElement);\n    dispatch(\"turbo:submit-end\", {\n      target: this.formElement,\n      detail: { formSubmission: this, ...this.result }\n    });\n    this.delegate.formSubmissionFinished(this);\n  }\n\n  // Private\n\n  setSubmitsWith() {\n    if (!this.submitter || !this.submitsWith) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.originalSubmitText = this.submitter.innerHTML;\n      this.submitter.innerHTML = this.submitsWith;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      this.originalSubmitText = input.value;\n      input.value = this.submitsWith;\n    }\n  }\n\n  resetSubmitterText() {\n    if (!this.submitter || !this.originalSubmitText) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.submitter.innerHTML = this.originalSubmitText;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      input.value = this.originalSubmitText;\n    }\n  }\n\n  requestMustRedirect(request) {\n    return !request.isSafe && this.mustRedirect\n  }\n\n  requestAcceptsTurboStreamResponse(request) {\n    return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement)\n  }\n\n  get submitsWith() {\n    return this.submitter?.getAttribute(\"data-turbo-submits-with\")\n  }\n}\n\nfunction buildFormData(formElement, submitter) {\n  const formData = new FormData(formElement);\n  const name = submitter?.getAttribute(\"name\");\n  const value = submitter?.getAttribute(\"value\");\n\n  if (name) {\n    formData.append(name, value || \"\");\n  }\n\n  return formData\n}\n\nfunction getCookieValue(cookieName) {\n  if (cookieName != null) {\n    const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n    const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n    if (cookie) {\n      const value = cookie.split(\"=\").slice(1).join(\"=\");\n      return value ? decodeURIComponent(value) : undefined\n    }\n  }\n}\n\nfunction responseSucceededWithoutRedirect(response) {\n  return response.statusCode == 200 && !response.redirected\n}\n\nfunction getFormAction(formElement, submitter) {\n  const formElementAction = typeof formElement.action === \"string\" ? formElement.action : null;\n\n  if (submitter?.hasAttribute(\"formaction\")) {\n    return submitter.getAttribute(\"formaction\") || \"\"\n  } else {\n    return formElement.getAttribute(\"action\") || formElementAction || \"\"\n  }\n}\n\nfunction getAction(formAction, fetchMethod) {\n  const action = expandURL(formAction);\n\n  if (isSafe(fetchMethod)) {\n    action.search = \"\";\n  }\n\n  return action\n}\n\nfunction getMethod(formElement, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || formElement.getAttribute(\"method\") || \"\";\n  return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get\n}\n\nfunction getEnctype(formElement, submitter) {\n  return fetchEnctypeFromString(submitter?.getAttribute(\"formenctype\") || formElement.enctype)\n}\n\nclass Snapshot {\n  constructor(element) {\n    this.element = element;\n  }\n\n  get activeElement() {\n    return this.element.ownerDocument.activeElement\n  }\n\n  get children() {\n    return [...this.element.children]\n  }\n\n  hasAnchor(anchor) {\n    return this.getElementForAnchor(anchor) != null\n  }\n\n  getElementForAnchor(anchor) {\n    return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null\n  }\n\n  get isConnected() {\n    return this.element.isConnected\n  }\n\n  get firstAutofocusableElement() {\n    return queryAutofocusableElement(this.element)\n  }\n\n  get permanentElements() {\n    return queryPermanentElementsAll(this.element)\n  }\n\n  getPermanentElementById(id) {\n    return getPermanentElementById(this.element, id)\n  }\n\n  getPermanentElementMapForSnapshot(snapshot) {\n    const permanentElementMap = {};\n\n    for (const currentPermanentElement of this.permanentElements) {\n      const { id } = currentPermanentElement;\n      const newPermanentElement = snapshot.getPermanentElementById(id);\n      if (newPermanentElement) {\n        permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n      }\n    }\n\n    return permanentElementMap\n  }\n}\n\nfunction getPermanentElementById(node, id) {\n  return node.querySelector(`#${id}[data-turbo-permanent]`)\n}\n\nfunction queryPermanentElementsAll(node) {\n  return node.querySelectorAll(\"[id][data-turbo-permanent]\")\n}\n\nclass FormSubmitObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n      this.started = false;\n    }\n  }\n\n  submitCaptured = () => {\n    this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n    this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n  }\n\n  submitBubbled = (event) => {\n    if (!event.defaultPrevented) {\n      const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n      const submitter = event.submitter || undefined;\n\n      if (\n        form &&\n        submissionDoesNotDismissDialog(form, submitter) &&\n        submissionDoesNotTargetIFrame(form, submitter) &&\n        this.delegate.willSubmitForm(form, submitter)\n      ) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        this.delegate.formSubmitted(form, submitter);\n      }\n    }\n  }\n}\n\nfunction submissionDoesNotDismissDialog(form, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || form.getAttribute(\"method\");\n\n  return method != \"dialog\"\n}\n\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n  const target = submitter?.getAttribute(\"formtarget\") || form.getAttribute(\"target\");\n\n  return doesNotTargetIFrame(target)\n}\n\nclass View {\n  #resolveRenderPromise = (_value) => {}\n  #resolveInterceptionPromise = (_value) => {}\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  // Scrolling\n\n  scrollToAnchor(anchor) {\n    const element = this.snapshot.getElementForAnchor(anchor);\n    if (element) {\n      this.scrollToElement(element);\n      this.focusElement(element);\n    } else {\n      this.scrollToPosition({ x: 0, y: 0 });\n    }\n  }\n\n  scrollToAnchorFromLocation(location) {\n    this.scrollToAnchor(getAnchor(location));\n  }\n\n  scrollToElement(element) {\n    element.scrollIntoView();\n  }\n\n  focusElement(element) {\n    if (element instanceof HTMLElement) {\n      if (element.hasAttribute(\"tabindex\")) {\n        element.focus();\n      } else {\n        element.setAttribute(\"tabindex\", \"-1\");\n        element.focus();\n        element.removeAttribute(\"tabindex\");\n      }\n    }\n  }\n\n  scrollToPosition({ x, y }) {\n    this.scrollRoot.scrollTo(x, y);\n  }\n\n  scrollToTop() {\n    this.scrollToPosition({ x: 0, y: 0 });\n  }\n\n  get scrollRoot() {\n    return window\n  }\n\n  // Rendering\n\n  async render(renderer) {\n    const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;\n\n    // A workaround to ignore tracked element mismatch reloads when performing\n    // a promoted Visit from a frame navigation\n    const shouldInvalidate = willRender;\n\n    if (shouldRender) {\n      try {\n        this.renderPromise = new Promise((resolve) => (this.#resolveRenderPromise = resolve));\n        this.renderer = renderer;\n        await this.prepareToRenderSnapshot(renderer);\n\n        const renderInterception = new Promise((resolve) => (this.#resolveInterceptionPromise = resolve));\n        const options = { resume: this.#resolveInterceptionPromise, render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };\n        const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n        if (!immediateRender) await renderInterception;\n\n        await this.renderSnapshot(renderer);\n        this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);\n        this.delegate.preloadOnLoadLinksForView(this.element);\n        this.finishRenderingSnapshot(renderer);\n      } finally {\n        delete this.renderer;\n        this.#resolveRenderPromise(undefined);\n        delete this.renderPromise;\n      }\n    } else if (shouldInvalidate) {\n      this.invalidate(renderer.reloadReason);\n    }\n  }\n\n  invalidate(reason) {\n    this.delegate.viewInvalidated(reason);\n  }\n\n  async prepareToRenderSnapshot(renderer) {\n    this.markAsPreview(renderer.isPreview);\n    await renderer.prepareToRender();\n  }\n\n  markAsPreview(isPreview) {\n    if (isPreview) {\n      this.element.setAttribute(\"data-turbo-preview\", \"\");\n    } else {\n      this.element.removeAttribute(\"data-turbo-preview\");\n    }\n  }\n\n  markVisitDirection(direction) {\n    this.element.setAttribute(\"data-turbo-visit-direction\", direction);\n  }\n\n  unmarkVisitDirection() {\n    this.element.removeAttribute(\"data-turbo-visit-direction\");\n  }\n\n  async renderSnapshot(renderer) {\n    await renderer.render();\n  }\n\n  finishRenderingSnapshot(renderer) {\n    renderer.finishRendering();\n  }\n}\n\nclass FrameView extends View {\n  missing() {\n    this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n  }\n\n  get snapshot() {\n    return new Snapshot(this.element)\n  }\n}\n\nclass LinkInterceptor {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  start() {\n    this.element.addEventListener(\"click\", this.clickBubbled);\n    document.addEventListener(\"turbo:click\", this.linkClicked);\n    document.addEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  stop() {\n    this.element.removeEventListener(\"click\", this.clickBubbled);\n    document.removeEventListener(\"turbo:click\", this.linkClicked);\n    document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  clickBubbled = (event) => {\n    if (this.clickEventIsSignificant(event)) {\n      this.clickEvent = event;\n    } else {\n      delete this.clickEvent;\n    }\n  }\n\n  linkClicked = (event) => {\n    if (this.clickEvent && this.clickEventIsSignificant(event)) {\n      if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n        this.clickEvent.preventDefault();\n        event.preventDefault();\n        this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n      }\n    }\n    delete this.clickEvent;\n  }\n\n  willVisit = (_event) => {\n    delete this.clickEvent;\n  }\n\n  clickEventIsSignificant(event) {\n    const target = event.composed ? event.target?.parentElement : event.target;\n    const element = findLinkFromClickTarget(target) || target;\n\n    return element instanceof Element && element.closest(\"turbo-frame, html\") == this.element\n  }\n}\n\nclass LinkClickObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n      this.started = false;\n    }\n  }\n\n  clickCaptured = () => {\n    this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n    this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n  }\n\n  clickBubbled = (event) => {\n    if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n      const target = (event.composedPath && event.composedPath()[0]) || event.target;\n      const link = findLinkFromClickTarget(target);\n      if (link && doesNotTargetIFrame(link.target)) {\n        const location = getLocationForLink(link);\n        if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n          event.preventDefault();\n          this.delegate.followedLinkToLocation(link, location);\n        }\n      }\n    }\n  }\n\n  clickEventIsSignificant(event) {\n    return !(\n      (event.target && event.target.isContentEditable) ||\n      event.defaultPrevented ||\n      event.which > 1 ||\n      event.altKey ||\n      event.ctrlKey ||\n      event.metaKey ||\n      event.shiftKey\n    )\n  }\n}\n\nclass FormLinkClickObserver {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.linkInterceptor = new LinkClickObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n  }\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return false\n  }\n\n  prefetchAndCacheRequestToLocation(link, location) {\n    return\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, originalEvent) {\n    return (\n      this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n      (link.hasAttribute(\"data-turbo-method\") || link.hasAttribute(\"data-turbo-stream\"))\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const form = document.createElement(\"form\");\n\n    const type = \"hidden\";\n    for (const [name, value] of location.searchParams) {\n      form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n    }\n\n    const action = Object.assign(location, { search: \"\" });\n    form.setAttribute(\"data-turbo\", \"true\");\n    form.setAttribute(\"action\", action.href);\n    form.setAttribute(\"hidden\", \"\");\n\n    const method = link.getAttribute(\"data-turbo-method\");\n    if (method) form.setAttribute(\"method\", method);\n\n    const turboFrame = link.getAttribute(\"data-turbo-frame\");\n    if (turboFrame) form.setAttribute(\"data-turbo-frame\", turboFrame);\n\n    const turboAction = getVisitAction(link);\n    if (turboAction) form.setAttribute(\"data-turbo-action\", turboAction);\n\n    const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n    if (turboConfirm) form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n\n    const turboStream = link.hasAttribute(\"data-turbo-stream\");\n    if (turboStream) form.setAttribute(\"data-turbo-stream\", \"\");\n\n    this.delegate.submittedFormLinkToLocation(link, location, form);\n\n    document.body.appendChild(form);\n    form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n    requestAnimationFrame(() => form.requestSubmit());\n  }\n}\n\nclass Bardo {\n  static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n    const bardo = new this(delegate, permanentElementMap);\n    bardo.enter();\n    await callback();\n    bardo.leave();\n  }\n\n  constructor(delegate, permanentElementMap) {\n    this.delegate = delegate;\n    this.permanentElementMap = permanentElementMap;\n  }\n\n  enter() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n      this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n      this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n    }\n  }\n\n  leave() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement] = this.permanentElementMap[id];\n      this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n      this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n      this.delegate.leavingBardo(currentPermanentElement);\n    }\n  }\n\n  replaceNewPermanentElementWithPlaceholder(permanentElement) {\n    const placeholder = createPlaceholderForPermanentElement(permanentElement);\n    permanentElement.replaceWith(placeholder);\n  }\n\n  replaceCurrentPermanentElementWithClone(permanentElement) {\n    const clone = permanentElement.cloneNode(true);\n    permanentElement.replaceWith(clone);\n  }\n\n  replacePlaceholderWithPermanentElement(permanentElement) {\n    const placeholder = this.getPlaceholderById(permanentElement.id);\n    placeholder?.replaceWith(permanentElement);\n  }\n\n  getPlaceholderById(id) {\n    return this.placeholders.find((element) => element.content == id)\n  }\n\n  get placeholders() {\n    return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")]\n  }\n}\n\nfunction createPlaceholderForPermanentElement(permanentElement) {\n  const element = document.createElement(\"meta\");\n  element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n  element.setAttribute(\"content\", permanentElement.id);\n  return element\n}\n\nclass Renderer {\n  #activeElement = null\n\n  static renderElement(currentElement, newElement) {\n    // Abstract method\n  }\n\n  constructor(currentSnapshot, newSnapshot, isPreview, willRender = true) {\n    this.currentSnapshot = currentSnapshot;\n    this.newSnapshot = newSnapshot;\n    this.isPreview = isPreview;\n    this.willRender = willRender;\n    this.renderElement = this.constructor.renderElement;\n    this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  get shouldAutofocus() {\n    return true\n  }\n\n  get reloadReason() {\n    return\n  }\n\n  prepareToRender() {\n    return\n  }\n\n  render() {\n    // Abstract method\n  }\n\n  finishRendering() {\n    if (this.resolvingFunctions) {\n      this.resolvingFunctions.resolve();\n      delete this.resolvingFunctions;\n    }\n  }\n\n  async preservingPermanentElements(callback) {\n    await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n  }\n\n  focusFirstAutofocusableElement() {\n    if (this.shouldAutofocus) {\n      const element = this.connectedSnapshot.firstAutofocusableElement;\n      if (element) {\n        element.focus();\n      }\n    }\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement) {\n    if (this.#activeElement) return\n\n    if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n      this.#activeElement = this.currentSnapshot.activeElement;\n    }\n  }\n\n  leavingBardo(currentPermanentElement) {\n    if (currentPermanentElement.contains(this.#activeElement) && this.#activeElement instanceof HTMLElement) {\n      this.#activeElement.focus();\n\n      this.#activeElement = null;\n    }\n  }\n\n  get connectedSnapshot() {\n    return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot\n  }\n\n  get currentElement() {\n    return this.currentSnapshot.element\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  get permanentElementMap() {\n    return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)\n  }\n\n  get renderMethod() {\n    return \"replace\"\n  }\n}\n\nclass FrameRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const destinationRange = document.createRange();\n    destinationRange.selectNodeContents(currentElement);\n    destinationRange.deleteContents();\n\n    const frameElement = newElement;\n    const sourceRange = frameElement.ownerDocument?.createRange();\n    if (sourceRange) {\n      sourceRange.selectNodeContents(frameElement);\n      currentElement.appendChild(sourceRange.extractContents());\n    }\n  }\n\n  constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n    super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n    this.delegate = delegate;\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  async render() {\n    await nextRepaint();\n    this.preservingPermanentElements(() => {\n      this.loadFrameElement();\n    });\n    this.scrollFrameIntoView();\n    await nextRepaint();\n    this.focusFirstAutofocusableElement();\n    await nextRepaint();\n    this.activateScriptElements();\n  }\n\n  loadFrameElement() {\n    this.delegate.willRenderFrame(this.currentElement, this.newElement);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  scrollFrameIntoView() {\n    if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n      const element = this.currentElement.firstElementChild;\n      const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n      const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n\n      if (element) {\n        element.scrollIntoView({ block, behavior });\n        return true\n      }\n    }\n    return false\n  }\n\n  activateScriptElements() {\n    for (const inertScriptElement of this.newScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  get newScriptElements() {\n    return this.currentElement.querySelectorAll(\"script\")\n  }\n}\n\nfunction readScrollLogicalPosition(value, defaultValue) {\n  if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\nfunction readScrollBehavior(value, defaultValue) {\n  if (value == \"auto\" || value == \"smooth\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\n// base IIFE to define idiomorph\nvar Idiomorph = (function () {\n\n        //=============================================================================\n        // AND NOW IT BEGINS...\n        //=============================================================================\n        let EMPTY_SET = new Set();\n\n        // default configuration values, updatable by users now\n        let defaults = {\n            morphStyle: \"outerHTML\",\n            callbacks : {\n                beforeNodeAdded: noOp,\n                afterNodeAdded: noOp,\n                beforeNodeMorphed: noOp,\n                afterNodeMorphed: noOp,\n                beforeNodeRemoved: noOp,\n                afterNodeRemoved: noOp,\n                beforeAttributeUpdated: noOp,\n\n            },\n            head: {\n                style: 'merge',\n                shouldPreserve: function (elt) {\n                    return elt.getAttribute(\"im-preserve\") === \"true\";\n                },\n                shouldReAppend: function (elt) {\n                    return elt.getAttribute(\"im-re-append\") === \"true\";\n                },\n                shouldRemove: noOp,\n                afterHeadMorphed: noOp,\n            }\n        };\n\n        //=============================================================================\n        // Core Morphing Algorithm - morph, morphNormalizedContent, morphOldNodeTo, morphChildren\n        //=============================================================================\n        function morph(oldNode, newContent, config = {}) {\n\n            if (oldNode instanceof Document) {\n                oldNode = oldNode.documentElement;\n            }\n\n            if (typeof newContent === 'string') {\n                newContent = parseContent(newContent);\n            }\n\n            let normalizedContent = normalizeContent(newContent);\n\n            let ctx = createMorphContext(oldNode, normalizedContent, config);\n\n            return morphNormalizedContent(oldNode, normalizedContent, ctx);\n        }\n\n        function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {\n            if (ctx.head.block) {\n                let oldHead = oldNode.querySelector('head');\n                let newHead = normalizedNewContent.querySelector('head');\n                if (oldHead && newHead) {\n                    let promises = handleHeadElement(newHead, oldHead, ctx);\n                    // when head promises resolve, call morph again, ignoring the head tag\n                    Promise.all(promises).then(function () {\n                        morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {\n                            head: {\n                                block: false,\n                                ignore: true\n                            }\n                        }));\n                    });\n                    return;\n                }\n            }\n\n            if (ctx.morphStyle === \"innerHTML\") {\n\n                // innerHTML, so we are only updating the children\n                morphChildren(normalizedNewContent, oldNode, ctx);\n                return oldNode.children;\n\n            } else if (ctx.morphStyle === \"outerHTML\" || ctx.morphStyle == null) {\n                // otherwise find the best element match in the new content, morph that, and merge its siblings\n                // into either side of the best match\n                let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);\n\n                // stash the siblings that will need to be inserted on either side of the best match\n                let previousSibling = bestMatch?.previousSibling;\n                let nextSibling = bestMatch?.nextSibling;\n\n                // morph it\n                let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);\n\n                if (bestMatch) {\n                    // if there was a best match, merge the siblings in too and return the\n                    // whole bunch\n                    return insertSiblings(previousSibling, morphedNode, nextSibling);\n                } else {\n                    // otherwise nothing was added to the DOM\n                    return []\n                }\n            } else {\n                throw \"Do not understand how to morph style \" + ctx.morphStyle;\n            }\n        }\n\n\n        /**\n         * @param possibleActiveElement\n         * @param ctx\n         * @returns {boolean}\n         */\n        function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n            return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;\n        }\n\n        /**\n         * @param oldNode root node to merge content into\n         * @param newContent new content to merge\n         * @param ctx the merge context\n         * @returns {Element} the element that ended up in the DOM\n         */\n        function morphOldNodeTo(oldNode, newContent, ctx) {\n            if (ctx.ignoreActive && oldNode === document.activeElement) ; else if (newContent == null) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n\n                oldNode.remove();\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return null;\n            } else if (!isSoftMatch(oldNode, newContent)) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n                if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;\n\n                oldNode.parentElement.replaceChild(newContent, oldNode);\n                ctx.callbacks.afterNodeAdded(newContent);\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return newContent;\n            } else {\n                if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;\n\n                if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ; else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== \"morph\") {\n                    handleHeadElement(newContent, oldNode, ctx);\n                } else {\n                    syncNodeFrom(newContent, oldNode, ctx);\n                    if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n                        morphChildren(newContent, oldNode, ctx);\n                    }\n                }\n                ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n                return oldNode;\n            }\n        }\n\n        /**\n         * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n         * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n         * by using id sets, we are able to better match up with content deeper in the DOM.\n         *\n         * Basic algorithm is, for each node in the new content:\n         *\n         * - if we have reached the end of the old parent, append the new content\n         * - if the new content has an id set match with the current insertion point, morph\n         * - search for an id set match\n         * - if id set match found, morph\n         * - otherwise search for a \"soft\" match\n         * - if a soft match is found, morph\n         * - otherwise, prepend the new node before the current insertion point\n         *\n         * The two search algorithms terminate if competing node matches appear to outweigh what can be achieved\n         * with the current node.  See findIdSetMatch() and findSoftMatch() for details.\n         *\n         * @param {Element} newParent the parent element of the new content\n         * @param {Element } oldParent the old content that we are merging the new content into\n         * @param ctx the merge context\n         */\n        function morphChildren(newParent, oldParent, ctx) {\n\n            let nextNewChild = newParent.firstChild;\n            let insertionPoint = oldParent.firstChild;\n            let newChild;\n\n            // run through all the new content\n            while (nextNewChild) {\n\n                newChild = nextNewChild;\n                nextNewChild = newChild.nextSibling;\n\n                // if we are at the end of the exiting parent's children, just append\n                if (insertionPoint == null) {\n                    if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                    oldParent.appendChild(newChild);\n                    ctx.callbacks.afterNodeAdded(newChild);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // if the current node has an id set match then morph\n                if (isIdSetMatch(newChild, insertionPoint, ctx)) {\n                    morphOldNodeTo(insertionPoint, newChild, ctx);\n                    insertionPoint = insertionPoint.nextSibling;\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // otherwise search forward in the existing old children for an id set match\n                let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a potential match, remove the nodes until that point and morph\n                if (idSetMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);\n                    morphOldNodeTo(idSetMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // no id set match found, so scan forward for a soft match for the current node\n                let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a soft match for the current node, morph\n                if (softMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);\n                    morphOldNodeTo(softMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // abandon all hope of morphing, just insert the new child before the insertion point\n                // and move on\n                if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                oldParent.insertBefore(newChild, insertionPoint);\n                ctx.callbacks.afterNodeAdded(newChild);\n                removeIdsFromConsideration(ctx, newChild);\n            }\n\n            // remove any remaining old nodes that didn't match up with new content\n            while (insertionPoint !== null) {\n\n                let tempNode = insertionPoint;\n                insertionPoint = insertionPoint.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n        }\n\n        //=============================================================================\n        // Attribute Syncing Code\n        //=============================================================================\n\n        /**\n         * @param attr {String} the attribute to be mutated\n         * @param to {Element} the element that is going to be updated\n         * @param updateType {(\"update\"|\"remove\")}\n         * @param ctx the merge context\n         * @returns {boolean} true if the attribute should be ignored, false otherwise\n         */\n        function ignoreAttribute(attr, to, updateType, ctx) {\n            if(attr === 'value' && ctx.ignoreActiveValue && to === document.activeElement){\n                return true;\n            }\n            return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;\n        }\n\n        /**\n         * syncs a given node with another node, copying over all attributes and\n         * inner element state from the 'from' node to the 'to' node\n         *\n         * @param {Element} from the element to copy attributes & state from\n         * @param {Element} to the element to copy attributes & state to\n         * @param ctx the merge context\n         */\n        function syncNodeFrom(from, to, ctx) {\n            let type = from.nodeType;\n\n            // if is an element type, sync the attributes from the\n            // new node into the new node\n            if (type === 1 /* element type */) {\n                const fromAttributes = from.attributes;\n                const toAttributes = to.attributes;\n                for (const fromAttribute of fromAttributes) {\n                    if (ignoreAttribute(fromAttribute.name, to, 'update', ctx)) {\n                        continue;\n                    }\n                    if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {\n                        to.setAttribute(fromAttribute.name, fromAttribute.value);\n                    }\n                }\n                // iterate backwards to avoid skipping over items when a delete occurs\n                for (let i = toAttributes.length - 1; 0 <= i; i--) {\n                    const toAttribute = toAttributes[i];\n                    if (ignoreAttribute(toAttribute.name, to, 'remove', ctx)) {\n                        continue;\n                    }\n                    if (!from.hasAttribute(toAttribute.name)) {\n                        to.removeAttribute(toAttribute.name);\n                    }\n                }\n            }\n\n            // sync text nodes\n            if (type === 8 /* comment */ || type === 3 /* text */) {\n                if (to.nodeValue !== from.nodeValue) {\n                    to.nodeValue = from.nodeValue;\n                }\n            }\n\n            if (!ignoreValueOfActiveElement(to, ctx)) {\n                // sync input values\n                syncInputValue(from, to, ctx);\n            }\n        }\n\n        /**\n         * @param from {Element} element to sync the value from\n         * @param to {Element} element to sync the value to\n         * @param attributeName {String} the attribute name\n         * @param ctx the merge context\n         */\n        function syncBooleanAttribute(from, to, attributeName, ctx) {\n            if (from[attributeName] !== to[attributeName]) {\n                let ignoreUpdate = ignoreAttribute(attributeName, to, 'update', ctx);\n                if (!ignoreUpdate) {\n                    to[attributeName] = from[attributeName];\n                }\n                if (from[attributeName]) {\n                    if (!ignoreUpdate) {\n                        to.setAttribute(attributeName, from[attributeName]);\n                    }\n                } else {\n                    if (!ignoreAttribute(attributeName, to, 'remove', ctx)) {\n                        to.removeAttribute(attributeName);\n                    }\n                }\n            }\n        }\n\n        /**\n         * NB: many bothans died to bring us information:\n         *\n         *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n         *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n         *\n         * @param from {Element} the element to sync the input value from\n         * @param to {Element} the element to sync the input value to\n         * @param ctx the merge context\n         */\n        function syncInputValue(from, to, ctx) {\n            if (from instanceof HTMLInputElement &&\n                to instanceof HTMLInputElement &&\n                from.type !== 'file') {\n\n                let fromValue = from.value;\n                let toValue = to.value;\n\n                // sync boolean attributes\n                syncBooleanAttribute(from, to, 'checked', ctx);\n                syncBooleanAttribute(from, to, 'disabled', ctx);\n\n                if (!from.hasAttribute('value')) {\n                    if (!ignoreAttribute('value', to, 'remove', ctx)) {\n                        to.value = '';\n                        to.removeAttribute('value');\n                    }\n                } else if (fromValue !== toValue) {\n                    if (!ignoreAttribute('value', to, 'update', ctx)) {\n                        to.setAttribute('value', fromValue);\n                        to.value = fromValue;\n                    }\n                }\n            } else if (from instanceof HTMLOptionElement) {\n                syncBooleanAttribute(from, to, 'selected', ctx);\n            } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {\n                let fromValue = from.value;\n                let toValue = to.value;\n                if (ignoreAttribute('value', to, 'update', ctx)) {\n                    return;\n                }\n                if (fromValue !== toValue) {\n                    to.value = fromValue;\n                }\n                if (to.firstChild && to.firstChild.nodeValue !== fromValue) {\n                    to.firstChild.nodeValue = fromValue;\n                }\n            }\n        }\n\n        //=============================================================================\n        // the HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n        //=============================================================================\n        function handleHeadElement(newHeadTag, currentHead, ctx) {\n\n            let added = [];\n            let removed = [];\n            let preserved = [];\n            let nodesToAppend = [];\n\n            let headMergeStyle = ctx.head.style;\n\n            // put all new head elements into a Map, by their outerHTML\n            let srcToNewHeadNodes = new Map();\n            for (const newHeadChild of newHeadTag.children) {\n                srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n            }\n\n            // for each elt in the current head\n            for (const currentHeadElt of currentHead.children) {\n\n                // If the current head element is in the map\n                let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n                let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n                let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n                if (inNewContent || isPreserved) {\n                    if (isReAppended) {\n                        // remove the current version and let the new version replace it and re-execute\n                        removed.push(currentHeadElt);\n                    } else {\n                        // this element already exists and should not be re-appended, so remove it from\n                        // the new content map, preserving it in the DOM\n                        srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n                        preserved.push(currentHeadElt);\n                    }\n                } else {\n                    if (headMergeStyle === \"append\") {\n                        // we are appending and this existing element is not new content\n                        // so if and only if it is marked for re-append do we do anything\n                        if (isReAppended) {\n                            removed.push(currentHeadElt);\n                            nodesToAppend.push(currentHeadElt);\n                        }\n                    } else {\n                        // if this is a merge, we remove this content since it is not in the new head\n                        if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n                            removed.push(currentHeadElt);\n                        }\n                    }\n                }\n            }\n\n            // Push the remaining new head elements in the Map into the\n            // nodes to append to the head tag\n            nodesToAppend.push(...srcToNewHeadNodes.values());\n\n            let promises = [];\n            for (const newNode of nodesToAppend) {\n                let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;\n                if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n                    if (newElt.href || newElt.src) {\n                        let resolve = null;\n                        let promise = new Promise(function (_resolve) {\n                            resolve = _resolve;\n                        });\n                        newElt.addEventListener('load', function () {\n                            resolve();\n                        });\n                        promises.push(promise);\n                    }\n                    currentHead.appendChild(newElt);\n                    ctx.callbacks.afterNodeAdded(newElt);\n                    added.push(newElt);\n                }\n            }\n\n            // remove all removed elements, after we have appended the new elements to avoid\n            // additional network requests for things like style sheets\n            for (const removedElement of removed) {\n                if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n                    currentHead.removeChild(removedElement);\n                    ctx.callbacks.afterNodeRemoved(removedElement);\n                }\n            }\n\n            ctx.head.afterHeadMorphed(currentHead, {added: added, kept: preserved, removed: removed});\n            return promises;\n        }\n\n        function noOp() {\n        }\n\n        /*\n          Deep merges the config object and the Idiomoroph.defaults object to\n          produce a final configuration object\n         */\n        function mergeDefaults(config) {\n            let finalConfig = {};\n            // copy top level stuff into final config\n            Object.assign(finalConfig, defaults);\n            Object.assign(finalConfig, config);\n\n            // copy callbacks into final config (do this to deep merge the callbacks)\n            finalConfig.callbacks = {};\n            Object.assign(finalConfig.callbacks, defaults.callbacks);\n            Object.assign(finalConfig.callbacks, config.callbacks);\n\n            // copy head config into final config  (do this to deep merge the head)\n            finalConfig.head = {};\n            Object.assign(finalConfig.head, defaults.head);\n            Object.assign(finalConfig.head, config.head);\n            return finalConfig;\n        }\n\n        function createMorphContext(oldNode, newContent, config) {\n            config = mergeDefaults(config);\n            return {\n                target: oldNode,\n                newContent: newContent,\n                config: config,\n                morphStyle: config.morphStyle,\n                ignoreActive: config.ignoreActive,\n                ignoreActiveValue: config.ignoreActiveValue,\n                idMap: createIdMap(oldNode, newContent),\n                deadIds: new Set(),\n                callbacks: config.callbacks,\n                head: config.head\n            }\n        }\n\n        function isIdSetMatch(node1, node2, ctx) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {\n                if (node1.id !== \"\" && node1.id === node2.id) {\n                    return true;\n                } else {\n                    return getIdIntersectionCount(ctx, node1, node2) > 0;\n                }\n            }\n            return false;\n        }\n\n        function isSoftMatch(node1, node2) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName\n        }\n\n        function removeNodesBetween(startInclusive, endExclusive, ctx) {\n            while (startInclusive !== endExclusive) {\n                let tempNode = startInclusive;\n                startInclusive = startInclusive.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n            removeIdsFromConsideration(ctx, endExclusive);\n            return endExclusive.nextSibling;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential id match\n        // for the newChild.  We stop if we find a potential id match for the new child OR\n        // if the number of potential id matches we are discarding is greater than the\n        // potential id matches for the new child\n        //=============================================================================\n        function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            // max id matches we are willing to discard in our search\n            let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);\n\n            let potentialMatch = null;\n\n            // only search forward if there is a possibility of an id match\n            if (newChildPotentialIdCount > 0) {\n                let potentialMatch = insertionPoint;\n                // if there is a possibility of an id match, scan forward\n                // keep track of the potential id match count we are discarding (the\n                // newChildPotentialIdCount must be greater than this to make it likely\n                // worth it)\n                let otherMatchCount = 0;\n                while (potentialMatch != null) {\n\n                    // If we have an id match, return the current potential match\n                    if (isIdSetMatch(newChild, potentialMatch, ctx)) {\n                        return potentialMatch;\n                    }\n\n                    // computer the other potential matches of this new content\n                    otherMatchCount += getIdIntersectionCount(ctx, potentialMatch, newContent);\n                    if (otherMatchCount > newChildPotentialIdCount) {\n                        // if we have more potential id matches in _other_ content, we\n                        // do not have a good candidate for an id match, so return null\n                        return null;\n                    }\n\n                    // advanced to the next old content child\n                    potentialMatch = potentialMatch.nextSibling;\n                }\n            }\n            return potentialMatch;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential soft match\n        // for the newChild.  We stop if we find a potential soft match for the new child OR\n        // if we find a potential id match in the old parents children OR if we find two\n        // potential soft matches for the next two pieces of new content\n        //=============================================================================\n        function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            let potentialSoftMatch = insertionPoint;\n            let nextSibling = newChild.nextSibling;\n            let siblingSoftMatchCount = 0;\n\n            while (potentialSoftMatch != null) {\n\n                if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {\n                    // the current potential soft match has a potential id set match with the remaining new\n                    // content so bail out of looking\n                    return null;\n                }\n\n                // if we have a soft match with the current node, return it\n                if (isSoftMatch(newChild, potentialSoftMatch)) {\n                    return potentialSoftMatch;\n                }\n\n                if (isSoftMatch(nextSibling, potentialSoftMatch)) {\n                    // the next new node has a soft match with this node, so\n                    // increment the count of future soft matches\n                    siblingSoftMatchCount++;\n                    nextSibling = nextSibling.nextSibling;\n\n                    // If there are two future soft matches, bail to allow the siblings to soft match\n                    // so that we don't consume future soft matches for the sake of the current node\n                    if (siblingSoftMatchCount >= 2) {\n                        return null;\n                    }\n                }\n\n                // advanced to the next old content child\n                potentialSoftMatch = potentialSoftMatch.nextSibling;\n            }\n\n            return potentialSoftMatch;\n        }\n\n        function parseContent(newContent) {\n            let parser = new DOMParser();\n\n            // remove svgs to avoid false-positive matches on head, etc.\n            let contentWithSvgsRemoved = newContent.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\n\n            // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n            if (contentWithSvgsRemoved.match(/<\\/html>/) || contentWithSvgsRemoved.match(/<\\/head>/) || contentWithSvgsRemoved.match(/<\\/body>/)) {\n                let content = parser.parseFromString(newContent, \"text/html\");\n                // if it is a full HTML document, return the document itself as the parent container\n                if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n                    content.generatedByIdiomorph = true;\n                    return content;\n                } else {\n                    // otherwise return the html element as the parent container\n                    let htmlElement = content.firstChild;\n                    if (htmlElement) {\n                        htmlElement.generatedByIdiomorph = true;\n                        return htmlElement;\n                    } else {\n                        return null;\n                    }\n                }\n            } else {\n                // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n                // deal with touchy tags like tr, tbody, etc.\n                let responseDoc = parser.parseFromString(\"<body><template>\" + newContent + \"</template></body>\", \"text/html\");\n                let content = responseDoc.body.querySelector('template').content;\n                content.generatedByIdiomorph = true;\n                return content\n            }\n        }\n\n        function normalizeContent(newContent) {\n            if (newContent == null) {\n                // noinspection UnnecessaryLocalVariableJS\n                const dummyParent = document.createElement('div');\n                return dummyParent;\n            } else if (newContent.generatedByIdiomorph) {\n                // the template tag created by idiomorph parsing can serve as a dummy parent\n                return newContent;\n            } else if (newContent instanceof Node) {\n                // a single node is added as a child to a dummy parent\n                const dummyParent = document.createElement('div');\n                dummyParent.append(newContent);\n                return dummyParent;\n            } else {\n                // all nodes in the array or HTMLElement collection are consolidated under\n                // a single dummy parent element\n                const dummyParent = document.createElement('div');\n                for (const elt of [...newContent]) {\n                    dummyParent.append(elt);\n                }\n                return dummyParent;\n            }\n        }\n\n        function insertSiblings(previousSibling, morphedNode, nextSibling) {\n            let stack = [];\n            let added = [];\n            while (previousSibling != null) {\n                stack.push(previousSibling);\n                previousSibling = previousSibling.previousSibling;\n            }\n            while (stack.length > 0) {\n                let node = stack.pop();\n                added.push(node); // push added preceding siblings on in order and insert\n                morphedNode.parentElement.insertBefore(node, morphedNode);\n            }\n            added.push(morphedNode);\n            while (nextSibling != null) {\n                stack.push(nextSibling);\n                added.push(nextSibling); // here we are going in order, so push on as we scan, rather than add\n                nextSibling = nextSibling.nextSibling;\n            }\n            while (stack.length > 0) {\n                morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);\n            }\n            return added;\n        }\n\n        function findBestNodeMatch(newContent, oldNode, ctx) {\n            let currentElement;\n            currentElement = newContent.firstChild;\n            let bestElement = currentElement;\n            let score = 0;\n            while (currentElement) {\n                let newScore = scoreElement(currentElement, oldNode, ctx);\n                if (newScore > score) {\n                    bestElement = currentElement;\n                    score = newScore;\n                }\n                currentElement = currentElement.nextSibling;\n            }\n            return bestElement;\n        }\n\n        function scoreElement(node1, node2, ctx) {\n            if (isSoftMatch(node1, node2)) {\n                return .5 + getIdIntersectionCount(ctx, node1, node2);\n            }\n            return 0;\n        }\n\n        function removeNode(tempNode, ctx) {\n            removeIdsFromConsideration(ctx, tempNode);\n            if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;\n\n            tempNode.remove();\n            ctx.callbacks.afterNodeRemoved(tempNode);\n        }\n\n        //=============================================================================\n        // ID Set Functions\n        //=============================================================================\n\n        function isIdInConsideration(ctx, id) {\n            return !ctx.deadIds.has(id);\n        }\n\n        function idIsWithinNode(ctx, id, targetNode) {\n            let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;\n            return idSet.has(id);\n        }\n\n        function removeIdsFromConsideration(ctx, node) {\n            let idSet = ctx.idMap.get(node) || EMPTY_SET;\n            for (const id of idSet) {\n                ctx.deadIds.add(id);\n            }\n        }\n\n        function getIdIntersectionCount(ctx, node1, node2) {\n            let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;\n            let matchCount = 0;\n            for (const id of sourceSet) {\n                // a potential match is an id in the source and potentialIdsSet, but\n                // that has not already been merged into the DOM\n                if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {\n                    ++matchCount;\n                }\n            }\n            return matchCount;\n        }\n\n        /**\n         * A bottom up algorithm that finds all elements with ids inside of the node\n         * argument and populates id sets for those nodes and all their parents, generating\n         * a set of ids contained within all nodes for the entire hierarchy in the DOM\n         *\n         * @param node {Element}\n         * @param {Map<Node, Set<String>>} idMap\n         */\n        function populateIdMapForNode(node, idMap) {\n            let nodeParent = node.parentElement;\n            // find all elements with an id property\n            let idElements = node.querySelectorAll('[id]');\n            for (const elt of idElements) {\n                let current = elt;\n                // walk up the parent hierarchy of that element, adding the id\n                // of element to the parent's id set\n                while (current !== nodeParent && current != null) {\n                    let idSet = idMap.get(current);\n                    // if the id set doesn't exist, create it and insert it in the  map\n                    if (idSet == null) {\n                        idSet = new Set();\n                        idMap.set(current, idSet);\n                    }\n                    idSet.add(elt.id);\n                    current = current.parentElement;\n                }\n            }\n        }\n\n        /**\n         * This function computes a map of nodes to all ids contained within that node (inclusive of the\n         * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n         * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n         * to contribute to a parent nodes matching.\n         *\n         * @param {Element} oldContent  the old content that will be morphed\n         * @param {Element} newContent  the new content to morph to\n         * @returns {Map<Node, Set<String>>} a map of nodes to id sets for the\n         */\n        function createIdMap(oldContent, newContent) {\n            let idMap = new Map();\n            populateIdMapForNode(oldContent, idMap);\n            populateIdMapForNode(newContent, idMap);\n            return idMap;\n        }\n\n        //=============================================================================\n        // This is what ends up becoming the Idiomorph global object\n        //=============================================================================\n        return {\n            morph,\n            defaults\n        }\n    })();\n\nfunction morphElements(currentElement, newElement, { callbacks, ...options } = {}) {\n  Idiomorph.morph(currentElement, newElement, {\n    ...options,\n    callbacks: new DefaultIdiomorphCallbacks(callbacks)\n  });\n}\n\nfunction morphChildren(currentElement, newElement) {\n  morphElements(currentElement, newElement.children, {\n    morphStyle: \"innerHTML\"\n  });\n}\n\nclass DefaultIdiomorphCallbacks {\n  #beforeNodeMorphed\n\n  constructor({ beforeNodeMorphed } = {}) {\n    this.#beforeNodeMorphed = beforeNodeMorphed || (() => true);\n  }\n\n  beforeNodeAdded = (node) => {\n    return !(node.id && node.hasAttribute(\"data-turbo-permanent\") && document.getElementById(node.id))\n  }\n\n  beforeNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      if (!currentElement.hasAttribute(\"data-turbo-permanent\") && this.#beforeNodeMorphed(currentElement, newElement)) {\n        const event = dispatch(\"turbo:before-morph-element\", {\n          cancelable: true,\n          target: currentElement,\n          detail: { currentElement, newElement }\n        });\n\n        return !event.defaultPrevented\n      } else {\n        return false\n      }\n    }\n  }\n\n  beforeAttributeUpdated = (attributeName, target, mutationType) => {\n    const event = dispatch(\"turbo:before-morph-attribute\", {\n      cancelable: true,\n      target,\n      detail: { attributeName, mutationType }\n    });\n\n    return !event.defaultPrevented\n  }\n\n  beforeNodeRemoved = (node) => {\n    return this.beforeNodeMorphed(node)\n  }\n\n  afterNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      dispatch(\"turbo:morph-element\", {\n        target: currentElement,\n        detail: { currentElement, newElement }\n      });\n    }\n  }\n}\n\nclass MorphingFrameRenderer extends FrameRenderer {\n  static renderElement(currentElement, newElement) {\n    dispatch(\"turbo:before-frame-morph\", {\n      target: currentElement,\n      detail: { currentElement, newElement }\n    });\n\n    morphChildren(currentElement, newElement);\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n}\n\nclass ProgressBar {\n  static animationDuration = 300 /*ms*/\n\n  static get defaultCSS() {\n    return unindent`\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `\n  }\n\n  hiding = false\n  value = 0\n  visible = false\n\n  constructor() {\n    this.stylesheetElement = this.createStylesheetElement();\n    this.progressElement = this.createProgressElement();\n    this.installStylesheetElement();\n    this.setValue(0);\n  }\n\n  show() {\n    if (!this.visible) {\n      this.visible = true;\n      this.installProgressElement();\n      this.startTrickling();\n    }\n  }\n\n  hide() {\n    if (this.visible && !this.hiding) {\n      this.hiding = true;\n      this.fadeProgressElement(() => {\n        this.uninstallProgressElement();\n        this.stopTrickling();\n        this.visible = false;\n        this.hiding = false;\n      });\n    }\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.refresh();\n  }\n\n  // Private\n\n  installStylesheetElement() {\n    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n  }\n\n  installProgressElement() {\n    this.progressElement.style.width = \"0\";\n    this.progressElement.style.opacity = \"1\";\n    document.documentElement.insertBefore(this.progressElement, document.body);\n    this.refresh();\n  }\n\n  fadeProgressElement(callback) {\n    this.progressElement.style.opacity = \"0\";\n    setTimeout(callback, ProgressBar.animationDuration * 1.5);\n  }\n\n  uninstallProgressElement() {\n    if (this.progressElement.parentNode) {\n      document.documentElement.removeChild(this.progressElement);\n    }\n  }\n\n  startTrickling() {\n    if (!this.trickleInterval) {\n      this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n    }\n  }\n\n  stopTrickling() {\n    window.clearInterval(this.trickleInterval);\n    delete this.trickleInterval;\n  }\n\n  trickle = () => {\n    this.setValue(this.value + Math.random() / 100);\n  }\n\n  refresh() {\n    requestAnimationFrame(() => {\n      this.progressElement.style.width = `${10 + this.value * 90}%`;\n    });\n  }\n\n  createStylesheetElement() {\n    const element = document.createElement(\"style\");\n    element.type = \"text/css\";\n    element.textContent = ProgressBar.defaultCSS;\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      element.nonce = cspNonce;\n    }\n    return element\n  }\n\n  createProgressElement() {\n    const element = document.createElement(\"div\");\n    element.className = \"turbo-progress-bar\";\n    return element\n  }\n}\n\nclass HeadSnapshot extends Snapshot {\n  detailsByOuterHTML = this.children\n    .filter((element) => !elementIsNoscript(element))\n    .map((element) => elementWithoutNonce(element))\n    .reduce((result, element) => {\n      const { outerHTML } = element;\n      const details =\n        outerHTML in result\n          ? result[outerHTML]\n          : {\n              type: elementType(element),\n              tracked: elementIsTracked(element),\n              elements: []\n            };\n      return {\n        ...result,\n        [outerHTML]: {\n          ...details,\n          elements: [...details.elements, element]\n        }\n      }\n    }, {})\n\n  get trackedElementSignature() {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n      .join(\"\")\n  }\n\n  getScriptElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot)\n  }\n\n  getStylesheetElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot)\n  }\n\n  getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n      .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n      .filter(({ type }) => type == matchedType)\n      .map(({ elements: [element] }) => element)\n  }\n\n  get provisionalElements() {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n      if (type == null && !tracked) {\n        return [...result, ...elements]\n      } else if (elements.length > 1) {\n        return [...result, ...elements.slice(1)]\n      } else {\n        return result\n      }\n    }, [])\n  }\n\n  getMetaValue(name) {\n    const element = this.findMetaElementByName(name);\n    return element ? element.getAttribute(\"content\") : null\n  }\n\n  findMetaElementByName(name) {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const {\n        elements: [element]\n      } = this.detailsByOuterHTML[outerHTML];\n      return elementIsMetaElementWithName(element, name) ? element : result\n    }, undefined | undefined)\n  }\n}\n\nfunction elementType(element) {\n  if (elementIsScript(element)) {\n    return \"script\"\n  } else if (elementIsStylesheet(element)) {\n    return \"stylesheet\"\n  }\n}\n\nfunction elementIsTracked(element) {\n  return element.getAttribute(\"data-turbo-track\") == \"reload\"\n}\n\nfunction elementIsScript(element) {\n  const tagName = element.localName;\n  return tagName == \"script\"\n}\n\nfunction elementIsNoscript(element) {\n  const tagName = element.localName;\n  return tagName == \"noscript\"\n}\n\nfunction elementIsStylesheet(element) {\n  const tagName = element.localName;\n  return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\")\n}\n\nfunction elementIsMetaElementWithName(element, name) {\n  const tagName = element.localName;\n  return tagName == \"meta\" && element.getAttribute(\"name\") == name\n}\n\nfunction elementWithoutNonce(element) {\n  if (element.hasAttribute(\"nonce\")) {\n    element.setAttribute(\"nonce\", \"\");\n  }\n\n  return element\n}\n\nclass PageSnapshot extends Snapshot {\n  static fromHTMLString(html = \"\") {\n    return this.fromDocument(parseHTMLDocument(html))\n  }\n\n  static fromElement(element) {\n    return this.fromDocument(element.ownerDocument)\n  }\n\n  static fromDocument({ documentElement, body, head }) {\n    return new this(documentElement, body, new HeadSnapshot(head))\n  }\n\n  constructor(documentElement, body, headSnapshot) {\n    super(body);\n    this.documentElement = documentElement;\n    this.headSnapshot = headSnapshot;\n  }\n\n  clone() {\n    const clonedElement = this.element.cloneNode(true);\n\n    const selectElements = this.element.querySelectorAll(\"select\");\n    const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n\n    for (const [index, source] of selectElements.entries()) {\n      const clone = clonedSelectElements[index];\n      for (const option of clone.selectedOptions) option.selected = false;\n      for (const option of source.selectedOptions) clone.options[option.index].selected = true;\n    }\n\n    for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n      clonedPasswordInput.value = \"\";\n    }\n\n    return new PageSnapshot(this.documentElement, clonedElement, this.headSnapshot)\n  }\n\n  get lang() {\n    return this.documentElement.getAttribute(\"lang\")\n  }\n\n  get headElement() {\n    return this.headSnapshot.element\n  }\n\n  get rootLocation() {\n    const root = this.getSetting(\"root\") ?? \"/\";\n    return expandURL(root)\n  }\n\n  get cacheControlValue() {\n    return this.getSetting(\"cache-control\")\n  }\n\n  get isPreviewable() {\n    return this.cacheControlValue != \"no-preview\"\n  }\n\n  get isCacheable() {\n    return this.cacheControlValue != \"no-cache\"\n  }\n\n  get isVisitable() {\n    return this.getSetting(\"visit-control\") != \"reload\"\n  }\n\n  get prefersViewTransitions() {\n    return this.headSnapshot.getMetaValue(\"view-transition\") === \"same-origin\"\n  }\n\n  get shouldMorphPage() {\n    return this.getSetting(\"refresh-method\") === \"morph\"\n  }\n\n  get shouldPreserveScrollPosition() {\n    return this.getSetting(\"refresh-scroll\") === \"preserve\"\n  }\n\n  // Private\n\n  getSetting(name) {\n    return this.headSnapshot.getMetaValue(`turbo-${name}`)\n  }\n}\n\nclass ViewTransitioner {\n  #viewTransitionStarted = false\n  #lastOperation = Promise.resolve()\n\n  renderChange(useViewTransition, render) {\n    if (useViewTransition && this.viewTransitionsAvailable && !this.#viewTransitionStarted) {\n      this.#viewTransitionStarted = true;\n      this.#lastOperation = this.#lastOperation.then(async () => {\n        await document.startViewTransition(render).finished;\n      });\n    } else {\n      this.#lastOperation = this.#lastOperation.then(render);\n    }\n\n    return this.#lastOperation\n  }\n\n  get viewTransitionsAvailable() {\n    return document.startViewTransition\n  }\n}\n\nconst defaultOptions = {\n  action: \"advance\",\n  historyChanged: false,\n  visitCachedSnapshot: () => {},\n  willRender: true,\n  updateHistory: true,\n  shouldCacheSnapshot: true,\n  acceptsStreamResponse: false\n};\n\nconst TimingMetric = {\n  visitStart: \"visitStart\",\n  requestStart: \"requestStart\",\n  requestEnd: \"requestEnd\",\n  visitEnd: \"visitEnd\"\n};\n\nconst VisitState = {\n  initialized: \"initialized\",\n  started: \"started\",\n  canceled: \"canceled\",\n  failed: \"failed\",\n  completed: \"completed\"\n};\n\nconst SystemStatusCode = {\n  networkFailure: 0,\n  timeoutFailure: -1,\n  contentTypeMismatch: -2\n};\n\nconst Direction = {\n  advance: \"forward\",\n  restore: \"back\",\n  replace: \"none\"\n};\n\nclass Visit {\n  identifier = uuid() // Required by turbo-ios\n  timingMetrics = {}\n\n  followedRedirect = false\n  historyChanged = false\n  scrolled = false\n  shouldCacheSnapshot = true\n  acceptsStreamResponse = false\n  snapshotCached = false\n  state = VisitState.initialized\n  viewTransitioner = new ViewTransitioner()\n\n  constructor(delegate, location, restorationIdentifier, options = {}) {\n    this.delegate = delegate;\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier || uuid();\n\n    const {\n      action,\n      historyChanged,\n      referrer,\n      snapshot,\n      snapshotHTML,\n      response,\n      visitCachedSnapshot,\n      willRender,\n      updateHistory,\n      shouldCacheSnapshot,\n      acceptsStreamResponse,\n      direction\n    } = {\n      ...defaultOptions,\n      ...options\n    };\n    this.action = action;\n    this.historyChanged = historyChanged;\n    this.referrer = referrer;\n    this.snapshot = snapshot;\n    this.snapshotHTML = snapshotHTML;\n    this.response = response;\n    this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n    this.isPageRefresh = this.view.isPageRefresh(this);\n    this.visitCachedSnapshot = visitCachedSnapshot;\n    this.willRender = willRender;\n    this.updateHistory = updateHistory;\n    this.scrolled = !willRender;\n    this.shouldCacheSnapshot = shouldCacheSnapshot;\n    this.acceptsStreamResponse = acceptsStreamResponse;\n    this.direction = direction || Direction[action];\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  get restorationData() {\n    return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)\n  }\n\n  get silent() {\n    return this.isSamePage\n  }\n\n  start() {\n    if (this.state == VisitState.initialized) {\n      this.recordTimingMetric(TimingMetric.visitStart);\n      this.state = VisitState.started;\n      this.adapter.visitStarted(this);\n      this.delegate.visitStarted(this);\n    }\n  }\n\n  cancel() {\n    if (this.state == VisitState.started) {\n      if (this.request) {\n        this.request.cancel();\n      }\n      this.cancelRender();\n      this.state = VisitState.canceled;\n    }\n  }\n\n  complete() {\n    if (this.state == VisitState.started) {\n      this.recordTimingMetric(TimingMetric.visitEnd);\n      this.adapter.visitCompleted(this);\n      this.state = VisitState.completed;\n      this.followRedirect();\n\n      if (!this.followedRedirect) {\n        this.delegate.visitCompleted(this);\n      }\n    }\n  }\n\n  fail() {\n    if (this.state == VisitState.started) {\n      this.state = VisitState.failed;\n      this.adapter.visitFailed(this);\n      this.delegate.visitCompleted(this);\n    }\n  }\n\n  changeHistory() {\n    if (!this.historyChanged && this.updateHistory) {\n      const actionForHistory = this.location.href === this.referrer?.href ? \"replace\" : this.action;\n      const method = getHistoryMethodForAction(actionForHistory);\n      this.history.update(method, this.location, this.restorationIdentifier);\n      this.historyChanged = true;\n    }\n  }\n\n  issueRequest() {\n    if (this.hasPreloadedResponse()) {\n      this.simulateRequest();\n    } else if (this.shouldIssueRequest() && !this.request) {\n      this.request = new FetchRequest(this, FetchMethod.get, this.location);\n      this.request.perform();\n    }\n  }\n\n  simulateRequest() {\n    if (this.response) {\n      this.startRequest();\n      this.recordResponse();\n      this.finishRequest();\n    }\n  }\n\n  startRequest() {\n    this.recordTimingMetric(TimingMetric.requestStart);\n    this.adapter.visitRequestStarted(this);\n  }\n\n  recordResponse(response = this.response) {\n    this.response = response;\n    if (response) {\n      const { statusCode } = response;\n      if (isSuccessful(statusCode)) {\n        this.adapter.visitRequestCompleted(this);\n      } else {\n        this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n      }\n    }\n  }\n\n  finishRequest() {\n    this.recordTimingMetric(TimingMetric.requestEnd);\n    this.adapter.visitRequestFinished(this);\n  }\n\n  loadResponse() {\n    if (this.response) {\n      const { statusCode, responseHTML } = this.response;\n      this.render(async () => {\n        if (this.shouldCacheSnapshot) this.cacheSnapshot();\n        if (this.view.renderPromise) await this.view.renderPromise;\n\n        if (isSuccessful(statusCode) && responseHTML != null) {\n          const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n          await this.renderPageSnapshot(snapshot, false);\n\n          this.adapter.visitRendered(this);\n          this.complete();\n        } else {\n          await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n          this.adapter.visitRendered(this);\n          this.fail();\n        }\n      });\n    }\n  }\n\n  getCachedSnapshot() {\n    const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n\n    if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n      if (this.action == \"restore\" || snapshot.isPreviewable) {\n        return snapshot\n      }\n    }\n  }\n\n  getPreloadedSnapshot() {\n    if (this.snapshotHTML) {\n      return PageSnapshot.fromHTMLString(this.snapshotHTML)\n    }\n  }\n\n  hasCachedSnapshot() {\n    return this.getCachedSnapshot() != null\n  }\n\n  loadCachedSnapshot() {\n    const snapshot = this.getCachedSnapshot();\n    if (snapshot) {\n      const isPreview = this.shouldIssueRequest();\n      this.render(async () => {\n        this.cacheSnapshot();\n        if (this.isSamePage || this.isPageRefresh) {\n          this.adapter.visitRendered(this);\n        } else {\n          if (this.view.renderPromise) await this.view.renderPromise;\n\n          await this.renderPageSnapshot(snapshot, isPreview);\n\n          this.adapter.visitRendered(this);\n          if (!isPreview) {\n            this.complete();\n          }\n        }\n      });\n    }\n  }\n\n  followRedirect() {\n    if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {\n      this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n        action: \"replace\",\n        response: this.response,\n        shouldCacheSnapshot: false,\n        willRender: false\n      });\n      this.followedRedirect = true;\n    }\n  }\n\n  goToSamePageAnchor() {\n    if (this.isSamePage) {\n      this.render(async () => {\n        this.cacheSnapshot();\n        this.performScroll();\n        this.changeHistory();\n        this.adapter.visitRendered(this);\n      });\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (this.acceptsStreamResponse) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted() {\n    this.startRequest();\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {}\n\n  async requestSucceededWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.redirectedToLocation = response.redirected ? response.location : undefined;\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  async requestFailedWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  requestErrored(_request, _error) {\n    this.recordResponse({\n      statusCode: SystemStatusCode.networkFailure,\n      redirected: false\n    });\n  }\n\n  requestFinished() {\n    this.finishRequest();\n  }\n\n  // Scrolling\n\n  performScroll() {\n    if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {\n      if (this.action == \"restore\") {\n        this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n      } else {\n        this.scrollToAnchor() || this.view.scrollToTop();\n      }\n      if (this.isSamePage) {\n        this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n      }\n\n      this.scrolled = true;\n    }\n  }\n\n  scrollToRestoredPosition() {\n    const { scrollPosition } = this.restorationData;\n    if (scrollPosition) {\n      this.view.scrollToPosition(scrollPosition);\n      return true\n    }\n  }\n\n  scrollToAnchor() {\n    const anchor = getAnchor(this.location);\n    if (anchor != null) {\n      this.view.scrollToAnchor(anchor);\n      return true\n    }\n  }\n\n  // Instrumentation\n\n  recordTimingMetric(metric) {\n    this.timingMetrics[metric] = new Date().getTime();\n  }\n\n  getTimingMetrics() {\n    return { ...this.timingMetrics }\n  }\n\n  // Private\n\n  getHistoryMethodForAction(action) {\n    switch (action) {\n      case \"replace\":\n        return history.replaceState\n      case \"advance\":\n      case \"restore\":\n        return history.pushState\n    }\n  }\n\n  hasPreloadedResponse() {\n    return typeof this.response == \"object\"\n  }\n\n  shouldIssueRequest() {\n    if (this.isSamePage) {\n      return false\n    } else if (this.action == \"restore\") {\n      return !this.hasCachedSnapshot()\n    } else {\n      return this.willRender\n    }\n  }\n\n  cacheSnapshot() {\n    if (!this.snapshotCached) {\n      this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n      this.snapshotCached = true;\n    }\n  }\n\n  async render(callback) {\n    this.cancelRender();\n    await new Promise((resolve) => {\n      this.frame =\n        document.visibilityState === \"hidden\" ? setTimeout(() => resolve(), 0) : requestAnimationFrame(() => resolve());\n    });\n    await callback();\n    delete this.frame;\n  }\n\n  async renderPageSnapshot(snapshot, isPreview) {\n    await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {\n      await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n      this.performScroll();\n    });\n  }\n\n  cancelRender() {\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n      delete this.frame;\n    }\n  }\n}\n\nfunction isSuccessful(statusCode) {\n  return statusCode >= 200 && statusCode < 300\n}\n\nclass BrowserAdapter {\n  progressBar = new ProgressBar()\n\n  constructor(session) {\n    this.session = session;\n  }\n\n  visitProposedToLocation(location, options) {\n    if (locationIsVisitable(location, this.navigator.rootLocation)) {\n      this.navigator.startVisit(location, options?.restorationIdentifier || uuid(), options);\n    } else {\n      window.location.href = location.toString();\n    }\n  }\n\n  visitStarted(visit) {\n    this.location = visit.location;\n    visit.loadCachedSnapshot();\n    visit.issueRequest();\n    visit.goToSamePageAnchor();\n  }\n\n  visitRequestStarted(visit) {\n    this.progressBar.setValue(0);\n    if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n      this.showVisitProgressBarAfterDelay();\n    } else {\n      this.showProgressBar();\n    }\n  }\n\n  visitRequestCompleted(visit) {\n    visit.loadResponse();\n  }\n\n  visitRequestFailedWithStatusCode(visit, statusCode) {\n    switch (statusCode) {\n      case SystemStatusCode.networkFailure:\n      case SystemStatusCode.timeoutFailure:\n      case SystemStatusCode.contentTypeMismatch:\n        return this.reload({\n          reason: \"request_failed\",\n          context: {\n            statusCode\n          }\n        })\n      default:\n        return visit.loadResponse()\n    }\n  }\n\n  visitRequestFinished(_visit) {}\n\n  visitCompleted(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  pageInvalidated(reason) {\n    this.reload(reason);\n  }\n\n  visitFailed(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  visitRendered(_visit) {}\n\n  // Form Submission Delegate\n\n  formSubmissionStarted(_formSubmission) {\n    this.progressBar.setValue(0);\n    this.showFormProgressBarAfterDelay();\n  }\n\n  formSubmissionFinished(_formSubmission) {\n    this.progressBar.setValue(1);\n    this.hideFormProgressBar();\n  }\n\n  // Private\n\n  showVisitProgressBarAfterDelay() {\n    this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n  }\n\n  hideVisitProgressBar() {\n    this.progressBar.hide();\n    if (this.visitProgressBarTimeout != null) {\n      window.clearTimeout(this.visitProgressBarTimeout);\n      delete this.visitProgressBarTimeout;\n    }\n  }\n\n  showFormProgressBarAfterDelay() {\n    if (this.formProgressBarTimeout == null) {\n      this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n  }\n\n  hideFormProgressBar() {\n    this.progressBar.hide();\n    if (this.formProgressBarTimeout != null) {\n      window.clearTimeout(this.formProgressBarTimeout);\n      delete this.formProgressBarTimeout;\n    }\n  }\n\n  showProgressBar = () => {\n    this.progressBar.show();\n  }\n\n  reload(reason) {\n    dispatch(\"turbo:reload\", { detail: reason });\n\n    window.location.href = this.location?.toString() || window.location.href;\n  }\n\n  get navigator() {\n    return this.session.navigator\n  }\n}\n\nclass CacheObserver {\n  selector = \"[data-turbo-temporary]\"\n  deprecatedSelector = \"[data-turbo-cache=false]\"\n\n  started = false\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  removeTemporaryElements = (_event) => {\n    for (const element of this.temporaryElements) {\n      element.remove();\n    }\n  }\n\n  get temporaryElements() {\n    return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation]\n  }\n\n  get temporaryElementsWithDeprecation() {\n    const elements = document.querySelectorAll(this.deprecatedSelector);\n\n    if (elements.length) {\n      console.warn(\n        `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`\n      );\n    }\n\n    return [...elements]\n  }\n}\n\nclass FrameRedirector {\n  constructor(session, element) {\n    this.session = session;\n    this.element = element;\n    this.linkInterceptor = new LinkInterceptor(this, element);\n    this.formSubmitObserver = new FormSubmitObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n    this.formSubmitObserver.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n    this.formSubmitObserver.stop();\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldRedirect(element)\n  }\n\n  linkClickIntercepted(element, url, event) {\n    const frame = this.#findFrameElement(element);\n    if (frame) {\n      frame.delegate.linkClickIntercepted(element, url, event);\n    }\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return (\n      element.closest(\"turbo-frame\") == null &&\n      this.#shouldSubmit(element, submitter) &&\n      this.#shouldRedirect(element, submitter)\n    )\n  }\n\n  formSubmitted(element, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n    if (frame) {\n      frame.delegate.formSubmitted(element, submitter);\n    }\n  }\n\n  #shouldSubmit(form, submitter) {\n    const action = getAction$1(form, submitter);\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const rootLocation = expandURL(meta?.content ?? \"/\");\n\n    return this.#shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation)\n  }\n\n  #shouldRedirect(element, submitter) {\n    const isNavigatable =\n      element instanceof HTMLFormElement\n        ? this.session.submissionIsNavigatable(element, submitter)\n        : this.session.elementIsNavigatable(element);\n\n    if (isNavigatable) {\n      const frame = this.#findFrameElement(element, submitter);\n      return frame ? frame != element.closest(\"turbo-frame\") : false\n    } else {\n      return false\n    }\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = submitter?.getAttribute(\"data-turbo-frame\") || element.getAttribute(\"data-turbo-frame\");\n    if (id && id != \"_top\") {\n      const frame = this.element.querySelector(`#${id}:not([disabled])`);\n      if (frame instanceof FrameElement) {\n        return frame\n      }\n    }\n  }\n}\n\nclass History {\n  location\n  restorationIdentifier = uuid()\n  restorationData = {}\n  started = false\n  pageLoaded = false\n  currentIndex = 0\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"popstate\", this.onPopState, false);\n      addEventListener(\"load\", this.onPageLoad, false);\n      this.currentIndex = history.state?.turbo?.restorationIndex || 0;\n      this.started = true;\n      this.replace(new URL(window.location.href));\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"popstate\", this.onPopState, false);\n      removeEventListener(\"load\", this.onPageLoad, false);\n      this.started = false;\n    }\n  }\n\n  push(location, restorationIdentifier) {\n    this.update(history.pushState, location, restorationIdentifier);\n  }\n\n  replace(location, restorationIdentifier) {\n    this.update(history.replaceState, location, restorationIdentifier);\n  }\n\n  update(method, location, restorationIdentifier = uuid()) {\n    if (method === history.pushState) ++this.currentIndex;\n\n    const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };\n    method.call(history, state, \"\", location.href);\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier;\n  }\n\n  // Restoration data\n\n  getRestorationDataForIdentifier(restorationIdentifier) {\n    return this.restorationData[restorationIdentifier] || {}\n  }\n\n  updateRestorationData(additionalData) {\n    const { restorationIdentifier } = this;\n    const restorationData = this.restorationData[restorationIdentifier];\n    this.restorationData[restorationIdentifier] = {\n      ...restorationData,\n      ...additionalData\n    };\n  }\n\n  // Scroll restoration\n\n  assumeControlOfScrollRestoration() {\n    if (!this.previousScrollRestoration) {\n      this.previousScrollRestoration = history.scrollRestoration ?? \"auto\";\n      history.scrollRestoration = \"manual\";\n    }\n  }\n\n  relinquishControlOfScrollRestoration() {\n    if (this.previousScrollRestoration) {\n      history.scrollRestoration = this.previousScrollRestoration;\n      delete this.previousScrollRestoration;\n    }\n  }\n\n  // Event handlers\n\n  onPopState = (event) => {\n    if (this.shouldHandlePopState()) {\n      const { turbo } = event.state || {};\n      if (turbo) {\n        this.location = new URL(window.location.href);\n        const { restorationIdentifier, restorationIndex } = turbo;\n        this.restorationIdentifier = restorationIdentifier;\n        const direction = restorationIndex > this.currentIndex ? \"forward\" : \"back\";\n        this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);\n        this.currentIndex = restorationIndex;\n      }\n    }\n  }\n\n  onPageLoad = async (_event) => {\n    await nextMicrotask();\n    this.pageLoaded = true;\n  }\n\n  // Private\n\n  shouldHandlePopState() {\n    // Safari dispatches a popstate event after window's load event, ignore it\n    return this.pageIsLoaded()\n  }\n\n  pageIsLoaded() {\n    return this.pageLoaded || document.readyState == \"complete\"\n  }\n}\n\nclass LinkPrefetchObserver {\n  started = false\n  #prefetchedLink = null\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (this.started) return\n\n    if (this.eventTarget.readyState === \"loading\") {\n      this.eventTarget.addEventListener(\"DOMContentLoaded\", this.#enable, { once: true });\n    } else {\n      this.#enable();\n    }\n  }\n\n  stop() {\n    if (!this.started) return\n\n    this.eventTarget.removeEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.removeEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.removeEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = false;\n  }\n\n  #enable = () => {\n    this.eventTarget.addEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.addEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.addEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = true;\n  }\n\n  #tryToPrefetchRequest = (event) => {\n    if (getMetaContent(\"turbo-prefetch\") === \"false\") return\n\n    const target = event.target;\n    const isLink = target.matches && target.matches(\"a[href]:not([target^=_]):not([download])\");\n\n    if (isLink && this.#isPrefetchable(target)) {\n      const link = target;\n      const location = getLocationForLink(link);\n\n      if (this.delegate.canPrefetchRequestToLocation(link, location)) {\n        this.#prefetchedLink = link;\n\n        const fetchRequest = new FetchRequest(\n          this,\n          FetchMethod.get,\n          location,\n          new URLSearchParams(),\n          target\n        );\n\n        prefetchCache.setLater(location.toString(), fetchRequest, this.#cacheTtl);\n      }\n    }\n  }\n\n  #cancelRequestIfObsolete = (event) => {\n    if (event.target === this.#prefetchedLink) this.#cancelPrefetchRequest();\n  }\n\n  #cancelPrefetchRequest = () => {\n    prefetchCache.clear();\n    this.#prefetchedLink = null;\n  }\n\n  #tryToUsePrefetchedRequest = (event) => {\n    if (event.target.tagName !== \"FORM\" && event.detail.fetchOptions.method === \"GET\") {\n      const cached = prefetchCache.get(event.detail.url.toString());\n\n      if (cached) {\n        // User clicked link, use cache response\n        event.detail.fetchRequest = cached;\n      }\n\n      prefetchCache.clear();\n    }\n  }\n\n  prepareRequest(request) {\n    const link = request.target;\n\n    request.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n\n    const turboFrame = link.closest(\"turbo-frame\");\n    const turboFrameTarget = link.getAttribute(\"data-turbo-frame\") || turboFrame?.getAttribute(\"target\") || turboFrame?.id;\n\n    if (turboFrameTarget && turboFrameTarget !== \"_top\") {\n      request.headers[\"Turbo-Frame\"] = turboFrameTarget;\n    }\n  }\n\n  // Fetch request interface\n\n  requestSucceededWithResponse() {}\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  get #cacheTtl() {\n    return Number(getMetaContent(\"turbo-prefetch-cache-time\")) || cacheTtl\n  }\n\n  #isPrefetchable(link) {\n    const href = link.getAttribute(\"href\");\n\n    if (!href) return false\n\n    if (unfetchableLink(link)) return false\n    if (linkToTheSamePage(link)) return false\n    if (linkOptsOut(link)) return false\n    if (nonSafeLink(link)) return false\n    if (eventPrevented(link)) return false\n\n    return true\n  }\n}\n\nconst unfetchableLink = (link) => {\n  return link.origin !== document.location.origin || ![\"http:\", \"https:\"].includes(link.protocol) || link.hasAttribute(\"target\")\n};\n\nconst linkToTheSamePage = (link) => {\n  return (link.pathname + link.search === document.location.pathname + document.location.search) || link.href.startsWith(\"#\")\n};\n\nconst linkOptsOut = (link) => {\n  if (link.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n  if (link.getAttribute(\"data-turbo\") === \"false\") return true\n\n  const turboPrefetchParent = findClosestRecursively(link, \"[data-turbo-prefetch]\");\n  if (turboPrefetchParent && turboPrefetchParent.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n\n  return false\n};\n\nconst nonSafeLink = (link) => {\n  const turboMethod = link.getAttribute(\"data-turbo-method\");\n  if (turboMethod && turboMethod.toLowerCase() !== \"get\") return true\n\n  if (isUJS(link)) return true\n  if (link.hasAttribute(\"data-turbo-confirm\")) return true\n  if (link.hasAttribute(\"data-turbo-stream\")) return true\n\n  return false\n};\n\nconst isUJS = (link) => {\n  return link.hasAttribute(\"data-remote\") || link.hasAttribute(\"data-behavior\") || link.hasAttribute(\"data-confirm\") || link.hasAttribute(\"data-method\")\n};\n\nconst eventPrevented = (link) => {\n  const event = dispatch(\"turbo:before-prefetch\", { target: link, cancelable: true });\n  return event.defaultPrevented\n};\n\nclass Navigator {\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  proposeVisit(location, options = {}) {\n    if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n      this.delegate.visitProposedToLocation(location, options);\n    }\n  }\n\n  startVisit(locatable, restorationIdentifier, options = {}) {\n    this.stop();\n    this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {\n      referrer: this.location,\n      ...options\n    });\n    this.currentVisit.start();\n  }\n\n  submitForm(form, submitter) {\n    this.stop();\n    this.formSubmission = new FormSubmission(this, form, submitter, true);\n\n    this.formSubmission.start();\n  }\n\n  stop() {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n      delete this.formSubmission;\n    }\n\n    if (this.currentVisit) {\n      this.currentVisit.cancel();\n      delete this.currentVisit;\n    }\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get rootLocation() {\n    return this.view.snapshot.rootLocation\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted(formSubmission) {\n    // Not all adapters implement formSubmissionStarted\n    if (typeof this.adapter.formSubmissionStarted === \"function\") {\n      this.adapter.formSubmissionStarted(formSubmission);\n    }\n  }\n\n  async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n    if (formSubmission == this.formSubmission) {\n      const responseHTML = await fetchResponse.responseHTML;\n      if (responseHTML) {\n        const shouldCacheSnapshot = formSubmission.isSafe;\n        if (!shouldCacheSnapshot) {\n          this.view.clearSnapshotCache();\n        }\n\n        const { statusCode, redirected } = fetchResponse;\n        const action = this.#getActionForFormSubmission(formSubmission, fetchResponse);\n        const visitOptions = {\n          action,\n          shouldCacheSnapshot,\n          response: { statusCode, responseHTML, redirected }\n        };\n        this.proposeVisit(fetchResponse.location, visitOptions);\n      }\n    }\n  }\n\n  async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    const responseHTML = await fetchResponse.responseHTML;\n\n    if (responseHTML) {\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n      if (fetchResponse.serverError) {\n        await this.view.renderError(snapshot, this.currentVisit);\n      } else {\n        await this.view.renderPage(snapshot, false, true, this.currentVisit);\n      }\n      if(!snapshot.shouldPreserveScrollPosition) {\n        this.view.scrollToTop();\n      }\n      this.view.clearSnapshotCache();\n    }\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished(formSubmission) {\n    // Not all adapters implement formSubmissionFinished\n    if (typeof this.adapter.formSubmissionFinished === \"function\") {\n      this.adapter.formSubmissionFinished(formSubmission);\n    }\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    this.delegate.visitStarted(visit);\n  }\n\n  visitCompleted(visit) {\n    this.delegate.visitCompleted(visit);\n    delete this.currentVisit;\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    const anchor = getAnchor(location);\n    const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n    const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n\n    return (\n      action !== \"replace\" &&\n      getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n      (isRestorationToTop || (anchor != null && anchor !== currentAnchor))\n    )\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n  }\n\n  // Visits\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  #getActionForFormSubmission(formSubmission, fetchResponse) {\n    const { submitter, formElement } = formSubmission;\n    return getVisitAction(submitter, formElement) || this.#getDefaultAction(fetchResponse)\n  }\n\n  #getDefaultAction(fetchResponse) {\n    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;\n    return sameLocationRedirect ? \"replace\" : \"advance\"\n  }\n}\n\nconst PageStage = {\n  initial: 0,\n  loading: 1,\n  interactive: 2,\n  complete: 3\n};\n\nclass PageObserver {\n  stage = PageStage.initial\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      if (this.stage == PageStage.initial) {\n        this.stage = PageStage.loading;\n      }\n      document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n      addEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n      removeEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = false;\n    }\n  }\n\n  interpretReadyState = () => {\n    const { readyState } = this;\n    if (readyState == \"interactive\") {\n      this.pageIsInteractive();\n    } else if (readyState == \"complete\") {\n      this.pageIsComplete();\n    }\n  }\n\n  pageIsInteractive() {\n    if (this.stage == PageStage.loading) {\n      this.stage = PageStage.interactive;\n      this.delegate.pageBecameInteractive();\n    }\n  }\n\n  pageIsComplete() {\n    this.pageIsInteractive();\n    if (this.stage == PageStage.interactive) {\n      this.stage = PageStage.complete;\n      this.delegate.pageLoaded();\n    }\n  }\n\n  pageWillUnload = () => {\n    this.delegate.pageWillUnload();\n  }\n\n  get readyState() {\n    return document.readyState\n  }\n}\n\nclass ScrollObserver {\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"scroll\", this.onScroll, false);\n      this.onScroll();\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"scroll\", this.onScroll, false);\n      this.started = false;\n    }\n  }\n\n  onScroll = () => {\n    this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n  }\n\n  // Private\n\n  updatePosition(position) {\n    this.delegate.scrollPositionChanged(position);\n  }\n}\n\nclass StreamMessageRenderer {\n  render({ fragment }) {\n    Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {\n      withAutofocusFromFragment(fragment, () => {\n        withPreservedFocus(() => {\n          document.documentElement.appendChild(fragment);\n        });\n      });\n    });\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement, newPermanentElement) {\n    newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n  }\n\n  leavingBardo() {}\n}\n\nfunction getPermanentElementMapForFragment(fragment) {\n  const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n  const permanentElementMap = {};\n  for (const permanentElementInDocument of permanentElementsInDocument) {\n    const { id } = permanentElementInDocument;\n\n    for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n      const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n\n      if (elementInStream) {\n        permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n      }\n    }\n  }\n\n  return permanentElementMap\n}\n\nasync function withAutofocusFromFragment(fragment, callback) {\n  const generatedID = `turbo-stream-autofocus-${uuid()}`;\n  const turboStreams = fragment.querySelectorAll(\"turbo-stream\");\n  const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);\n  let willAutofocusId = null;\n\n  if (elementWithAutofocus) {\n    if (elementWithAutofocus.id) {\n      willAutofocusId = elementWithAutofocus.id;\n    } else {\n      willAutofocusId = generatedID;\n    }\n\n    elementWithAutofocus.id = willAutofocusId;\n  }\n\n  callback();\n  await nextRepaint();\n\n  const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;\n\n  if (hasNoActiveElement && willAutofocusId) {\n    const elementToAutofocus = document.getElementById(willAutofocusId);\n\n    if (elementIsFocusable(elementToAutofocus)) {\n      elementToAutofocus.focus();\n    }\n    if (elementToAutofocus && elementToAutofocus.id == generatedID) {\n      elementToAutofocus.removeAttribute(\"id\");\n    }\n  }\n}\n\nasync function withPreservedFocus(callback) {\n  const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);\n\n  const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;\n\n  if (restoreFocusTo) {\n    const elementToFocus = document.getElementById(restoreFocusTo);\n\n    if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {\n      elementToFocus.focus();\n    }\n  }\n}\n\nfunction firstAutofocusableElementInStreams(nodeListOfStreamElements) {\n  for (const streamElement of nodeListOfStreamElements) {\n    const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);\n\n    if (elementWithAutofocus) return elementWithAutofocus\n  }\n\n  return null\n}\n\nclass StreamObserver {\n  sources = new Set()\n  #started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.#started) {\n      this.#started = true;\n      addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  stop() {\n    if (this.#started) {\n      this.#started = false;\n      removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  connectStreamSource(source) {\n    if (!this.streamSourceIsConnected(source)) {\n      this.sources.add(source);\n      source.addEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  disconnectStreamSource(source) {\n    if (this.streamSourceIsConnected(source)) {\n      this.sources.delete(source);\n      source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  streamSourceIsConnected(source) {\n    return this.sources.has(source)\n  }\n\n  inspectFetchResponse = (event) => {\n    const response = fetchResponseFromEvent(event);\n    if (response && fetchResponseIsStream(response)) {\n      event.preventDefault();\n      this.receiveMessageResponse(response);\n    }\n  }\n\n  receiveMessageEvent = (event) => {\n    if (this.#started && typeof event.data == \"string\") {\n      this.receiveMessageHTML(event.data);\n    }\n  }\n\n  async receiveMessageResponse(response) {\n    const html = await response.responseHTML;\n    if (html) {\n      this.receiveMessageHTML(html);\n    }\n  }\n\n  receiveMessageHTML(html) {\n    this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n  }\n}\n\nfunction fetchResponseFromEvent(event) {\n  const fetchResponse = event.detail?.fetchResponse;\n  if (fetchResponse instanceof FetchResponse) {\n    return fetchResponse\n  }\n}\n\nfunction fetchResponseIsStream(response) {\n  const contentType = response.contentType ?? \"\";\n  return contentType.startsWith(StreamMessage.contentType)\n}\n\nclass ErrorRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const { documentElement, body } = document;\n\n    documentElement.replaceChild(newElement, body);\n  }\n\n  async render() {\n    this.replaceHeadAndBody();\n    this.activateScriptElements();\n  }\n\n  replaceHeadAndBody() {\n    const { documentElement, head } = document;\n    documentElement.replaceChild(this.newHead, head);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  activateScriptElements() {\n    for (const replaceableElement of this.scriptElements) {\n      const parentNode = replaceableElement.parentNode;\n      if (parentNode) {\n        const element = activateScriptElement(replaceableElement);\n        parentNode.replaceChild(element, replaceableElement);\n      }\n    }\n  }\n\n  get newHead() {\n    return this.newSnapshot.headSnapshot.element\n  }\n\n  get scriptElements() {\n    return document.documentElement.querySelectorAll(\"script\")\n  }\n}\n\nclass PageRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    if (document.body && newElement instanceof HTMLBodyElement) {\n      document.body.replaceWith(newElement);\n    } else {\n      document.documentElement.appendChild(newElement);\n    }\n  }\n\n  get shouldRender() {\n    return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical\n  }\n\n  get reloadReason() {\n    if (!this.newSnapshot.isVisitable) {\n      return {\n        reason: \"turbo_visit_control_is_reload\"\n      }\n    }\n\n    if (!this.trackedElementsAreIdentical) {\n      return {\n        reason: \"tracked_element_mismatch\"\n      }\n    }\n  }\n\n  async prepareToRender() {\n    this.#setLanguage();\n    await this.mergeHead();\n  }\n\n  async render() {\n    if (this.willRender) {\n      await this.replaceBody();\n    }\n  }\n\n  finishRendering() {\n    super.finishRendering();\n    if (!this.isPreview) {\n      this.focusFirstAutofocusableElement();\n    }\n  }\n\n  get currentHeadSnapshot() {\n    return this.currentSnapshot.headSnapshot\n  }\n\n  get newHeadSnapshot() {\n    return this.newSnapshot.headSnapshot\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  #setLanguage() {\n    const { documentElement } = this.currentSnapshot;\n    const { lang } = this.newSnapshot;\n\n    if (lang) {\n      documentElement.setAttribute(\"lang\", lang);\n    } else {\n      documentElement.removeAttribute(\"lang\");\n    }\n  }\n\n  async mergeHead() {\n    const mergedHeadElements = this.mergeProvisionalElements();\n    const newStylesheetElements = this.copyNewHeadStylesheetElements();\n    this.copyNewHeadScriptElements();\n\n    await mergedHeadElements;\n    await newStylesheetElements;\n\n    if (this.willRender) {\n      this.removeUnusedDynamicStylesheetElements();\n    }\n  }\n\n  async replaceBody() {\n    await this.preservingPermanentElements(async () => {\n      this.activateNewBody();\n      await this.assignNewBody();\n    });\n  }\n\n  get trackedElementsAreIdentical() {\n    return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature\n  }\n\n  async copyNewHeadStylesheetElements() {\n    const loadingElements = [];\n\n    for (const element of this.newHeadStylesheetElements) {\n      loadingElements.push(waitForLoad(element));\n\n      document.head.appendChild(element);\n    }\n\n    await Promise.all(loadingElements);\n  }\n\n  copyNewHeadScriptElements() {\n    for (const element of this.newHeadScriptElements) {\n      document.head.appendChild(activateScriptElement(element));\n    }\n  }\n\n  removeUnusedDynamicStylesheetElements() {\n    for (const element of this.unusedDynamicStylesheetElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  async mergeProvisionalElements() {\n    const newHeadElements = [...this.newHeadProvisionalElements];\n\n    for (const element of this.currentHeadProvisionalElements) {\n      if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n        document.head.removeChild(element);\n      }\n    }\n\n    for (const element of newHeadElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  isCurrentElementInElementList(element, elementList) {\n    for (const [index, newElement] of elementList.entries()) {\n      // if title element...\n      if (element.tagName == \"TITLE\") {\n        if (newElement.tagName != \"TITLE\") {\n          continue\n        }\n        if (element.innerHTML == newElement.innerHTML) {\n          elementList.splice(index, 1);\n          return true\n        }\n      }\n\n      // if any other element...\n      if (newElement.isEqualNode(element)) {\n        elementList.splice(index, 1);\n        return true\n      }\n    }\n\n    return false\n  }\n\n  removeCurrentHeadProvisionalElements() {\n    for (const element of this.currentHeadProvisionalElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  copyNewHeadProvisionalElements() {\n    for (const element of this.newHeadProvisionalElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  activateNewBody() {\n    document.adoptNode(this.newElement);\n    this.activateNewBodyScriptElements();\n  }\n\n  activateNewBodyScriptElements() {\n    for (const inertScriptElement of this.newBodyScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  async assignNewBody() {\n    await this.renderElement(this.currentElement, this.newElement);\n  }\n\n  get unusedDynamicStylesheetElements() {\n    return this.oldHeadStylesheetElements.filter((element) => {\n      return element.getAttribute(\"data-turbo-track\") === \"dynamic\"\n    })\n  }\n\n  get oldHeadStylesheetElements() {\n    return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)\n  }\n\n  get newHeadStylesheetElements() {\n    return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get newHeadScriptElements() {\n    return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get currentHeadProvisionalElements() {\n    return this.currentHeadSnapshot.provisionalElements\n  }\n\n  get newHeadProvisionalElements() {\n    return this.newHeadSnapshot.provisionalElements\n  }\n\n  get newBodyScriptElements() {\n    return this.newElement.querySelectorAll(\"script\")\n  }\n}\n\nclass MorphingPageRenderer extends PageRenderer {\n  static renderElement(currentElement, newElement) {\n    morphElements(currentElement, newElement, {\n      callbacks: {\n        beforeNodeMorphed: element => !canRefreshFrame(element)\n      }\n    });\n\n    for (const frame of currentElement.querySelectorAll(\"turbo-frame\")) {\n      if (canRefreshFrame(frame)) frame.reload();\n    }\n\n    dispatch(\"turbo:morph\", { detail: { currentElement, newElement } });\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n\n  get renderMethod() {\n    return \"morph\"\n  }\n\n  get shouldAutofocus() {\n    return false\n  }\n}\n\nfunction canRefreshFrame(frame) {\n  return frame instanceof FrameElement &&\n    frame.src &&\n    frame.refresh === \"morph\" &&\n    !frame.closest(\"[data-turbo-permanent]\")\n}\n\nclass SnapshotCache {\n  keys = []\n  snapshots = {}\n\n  constructor(size) {\n    this.size = size;\n  }\n\n  has(location) {\n    return toCacheKey(location) in this.snapshots\n  }\n\n  get(location) {\n    if (this.has(location)) {\n      const snapshot = this.read(location);\n      this.touch(location);\n      return snapshot\n    }\n  }\n\n  put(location, snapshot) {\n    this.write(location, snapshot);\n    this.touch(location);\n    return snapshot\n  }\n\n  clear() {\n    this.snapshots = {};\n  }\n\n  // Private\n\n  read(location) {\n    return this.snapshots[toCacheKey(location)]\n  }\n\n  write(location, snapshot) {\n    this.snapshots[toCacheKey(location)] = snapshot;\n  }\n\n  touch(location) {\n    const key = toCacheKey(location);\n    const index = this.keys.indexOf(key);\n    if (index > -1) this.keys.splice(index, 1);\n    this.keys.unshift(key);\n    this.trim();\n  }\n\n  trim() {\n    for (const key of this.keys.splice(this.size)) {\n      delete this.snapshots[key];\n    }\n  }\n}\n\nclass PageView extends View {\n  snapshotCache = new SnapshotCache(10)\n  lastRenderedLocation = new URL(location.href)\n  forceReloaded = false\n\n  shouldTransitionTo(newSnapshot) {\n    return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions\n  }\n\n  renderPage(snapshot, isPreview = false, willRender = true, visit) {\n    const shouldMorphPage = this.isPageRefresh(visit) && this.snapshot.shouldMorphPage;\n    const rendererClass = shouldMorphPage ? MorphingPageRenderer : PageRenderer;\n\n    const renderer = new rendererClass(this.snapshot, snapshot, isPreview, willRender);\n\n    if (!renderer.shouldRender) {\n      this.forceReloaded = true;\n    } else {\n      visit?.changeHistory();\n    }\n\n    return this.render(renderer)\n  }\n\n  renderError(snapshot, visit) {\n    visit?.changeHistory();\n    const renderer = new ErrorRenderer(this.snapshot, snapshot, false);\n    return this.render(renderer)\n  }\n\n  clearSnapshotCache() {\n    this.snapshotCache.clear();\n  }\n\n  async cacheSnapshot(snapshot = this.snapshot) {\n    if (snapshot.isCacheable) {\n      this.delegate.viewWillCacheSnapshot();\n      const { lastRenderedLocation: location } = this;\n      await nextEventLoopTick();\n      const cachedSnapshot = snapshot.clone();\n      this.snapshotCache.put(location, cachedSnapshot);\n      return cachedSnapshot\n    }\n  }\n\n  getCachedSnapshotForLocation(location) {\n    return this.snapshotCache.get(location)\n  }\n\n  isPageRefresh(visit) {\n    return !visit || (this.lastRenderedLocation.pathname === visit.location.pathname && visit.action === \"replace\")\n  }\n\n  shouldPreserveScrollPosition(visit) {\n    return this.isPageRefresh(visit) && this.snapshot.shouldPreserveScrollPosition\n  }\n\n  get snapshot() {\n    return PageSnapshot.fromElement(this.element)\n  }\n}\n\nclass Preloader {\n  selector = \"a[data-turbo-preload]\"\n\n  constructor(delegate, snapshotCache) {\n    this.delegate = delegate;\n    this.snapshotCache = snapshotCache;\n  }\n\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", this.#preloadAll);\n    } else {\n      this.preloadOnLoadLinksForView(document.body);\n    }\n  }\n\n  stop() {\n    document.removeEventListener(\"DOMContentLoaded\", this.#preloadAll);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    for (const link of element.querySelectorAll(this.selector)) {\n      if (this.delegate.shouldPreloadLink(link)) {\n        this.preloadURL(link);\n      }\n    }\n  }\n\n  async preloadURL(link) {\n    const location = new URL(link.href);\n\n    if (this.snapshotCache.has(location)) {\n      return\n    }\n\n    const fetchRequest = new FetchRequest(this, FetchMethod.get, location, new URLSearchParams(), link);\n    await fetchRequest.perform();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(fetchRequest) {\n    fetchRequest.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n  }\n\n  async requestSucceededWithResponse(fetchRequest, fetchResponse) {\n    try {\n      const responseHTML = await fetchResponse.responseHTML;\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n\n      this.snapshotCache.put(fetchRequest.url, snapshot);\n    } catch (_) {\n      // If we cannot preload that is ok!\n    }\n  }\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  #preloadAll = () => {\n    this.preloadOnLoadLinksForView(document.body);\n  }\n}\n\nclass Cache {\n  constructor(session) {\n    this.session = session;\n  }\n\n  clear() {\n    this.session.clearCache();\n  }\n\n  resetCacheControl() {\n    this.#setCacheControl(\"\");\n  }\n\n  exemptPageFromCache() {\n    this.#setCacheControl(\"no-cache\");\n  }\n\n  exemptPageFromPreview() {\n    this.#setCacheControl(\"no-preview\");\n  }\n\n  #setCacheControl(value) {\n    setMetaContent(\"turbo-cache-control\", value);\n  }\n}\n\nclass Session {\n  navigator = new Navigator(this)\n  history = new History(this)\n  view = new PageView(this, document.documentElement)\n  adapter = new BrowserAdapter(this)\n\n  pageObserver = new PageObserver(this)\n  cacheObserver = new CacheObserver()\n  linkPrefetchObserver = new LinkPrefetchObserver(this, document)\n  linkClickObserver = new LinkClickObserver(this, window)\n  formSubmitObserver = new FormSubmitObserver(this, document)\n  scrollObserver = new ScrollObserver(this)\n  streamObserver = new StreamObserver(this)\n  formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement)\n  frameRedirector = new FrameRedirector(this, document.documentElement)\n  streamMessageRenderer = new StreamMessageRenderer()\n  cache = new Cache(this)\n\n  enabled = true\n  started = false\n  #pageRefreshDebouncePeriod = 150\n\n  constructor(recentRequests) {\n    this.recentRequests = recentRequests;\n    this.preloader = new Preloader(this, this.view.snapshotCache);\n    this.debouncedRefresh = this.refresh;\n    this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;\n  }\n\n  start() {\n    if (!this.started) {\n      this.pageObserver.start();\n      this.cacheObserver.start();\n      this.linkPrefetchObserver.start();\n      this.formLinkClickObserver.start();\n      this.linkClickObserver.start();\n      this.formSubmitObserver.start();\n      this.scrollObserver.start();\n      this.streamObserver.start();\n      this.frameRedirector.start();\n      this.history.start();\n      this.preloader.start();\n      this.started = true;\n      this.enabled = true;\n    }\n  }\n\n  disable() {\n    this.enabled = false;\n  }\n\n  stop() {\n    if (this.started) {\n      this.pageObserver.stop();\n      this.cacheObserver.stop();\n      this.linkPrefetchObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkClickObserver.stop();\n      this.formSubmitObserver.stop();\n      this.scrollObserver.stop();\n      this.streamObserver.stop();\n      this.frameRedirector.stop();\n      this.history.stop();\n      this.preloader.stop();\n      this.started = false;\n    }\n  }\n\n  registerAdapter(adapter) {\n    this.adapter = adapter;\n  }\n\n  visit(location, options = {}) {\n    const frameElement = options.frame ? document.getElementById(options.frame) : null;\n\n    if (frameElement instanceof FrameElement) {\n      const action = options.action || getVisitAction(frameElement);\n\n      frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);\n      frameElement.src = location.toString();\n    } else {\n      this.navigator.proposeVisit(expandURL(location), options);\n    }\n  }\n\n  refresh(url, requestId) {\n    const isRecentRequest = requestId && this.recentRequests.has(requestId);\n    if (!isRecentRequest && !this.navigator.currentVisit) {\n      this.visit(url, { action: \"replace\", shouldCacheSnapshot: false });\n    }\n  }\n\n  connectStreamSource(source) {\n    this.streamObserver.connectStreamSource(source);\n  }\n\n  disconnectStreamSource(source) {\n    this.streamObserver.disconnectStreamSource(source);\n  }\n\n  renderStreamMessage(message) {\n    this.streamMessageRenderer.render(StreamMessage.wrap(message));\n  }\n\n  clearCache() {\n    this.view.clearSnapshotCache();\n  }\n\n  setProgressBarDelay(delay) {\n    console.warn(\n      \"Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`\"\n    );\n\n    this.progressBarDelay = delay;\n  }\n\n  set progressBarDelay(delay) {\n    config.drive.progressBarDelay = delay;\n  }\n\n  get progressBarDelay() {\n    return config.drive.progressBarDelay\n  }\n\n  set drive(value) {\n    config.drive.enabled = value;\n  }\n\n  get drive() {\n    return config.drive.enabled\n  }\n\n  set formMode(value) {\n    config.forms.mode = value;\n  }\n\n  get formMode() {\n    return config.forms.mode\n  }\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  get pageRefreshDebouncePeriod() {\n    return this.#pageRefreshDebouncePeriod\n  }\n\n  set pageRefreshDebouncePeriod(value) {\n    this.refresh = debounce(this.debouncedRefresh.bind(this), value);\n    this.#pageRefreshDebouncePeriod = value;\n  }\n\n  // Preloader delegate\n\n  shouldPreloadLink(element) {\n    const isUnsafe = element.hasAttribute(\"data-turbo-method\");\n    const isStream = element.hasAttribute(\"data-turbo-stream\");\n    const frameTarget = element.getAttribute(\"data-turbo-frame\");\n    const frame = frameTarget == \"_top\" ?\n      null :\n      document.getElementById(frameTarget) || findClosestRecursively(element, \"turbo-frame:not([disabled])\");\n\n    if (isUnsafe || isStream || frame instanceof FrameElement) {\n      return false\n    } else {\n      const location = new URL(element.href);\n\n      return this.elementIsNavigatable(element) && locationIsVisitable(location, this.snapshot.rootLocation)\n    }\n  }\n\n  // History delegate\n\n  historyPoppedToLocationWithRestorationIdentifierAndDirection(location, restorationIdentifier, direction) {\n    if (this.enabled) {\n      this.navigator.startVisit(location, restorationIdentifier, {\n        action: \"restore\",\n        historyChanged: true,\n        direction\n      });\n    } else {\n      this.adapter.pageInvalidated({\n        reason: \"turbo_disabled\"\n      });\n    }\n  }\n\n  // Scroll observer delegate\n\n  scrollPositionChanged(position) {\n    this.history.updateRestorationData({ scrollPosition: position });\n  }\n\n  // Form click observer delegate\n\n  willSubmitFormLinkToLocation(link, location) {\n    return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation)\n  }\n\n  submittedFormLinkToLocation() {}\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return (\n      this.elementIsNavigatable(link) &&\n        locationIsVisitable(location, this.snapshot.rootLocation)\n    )\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, event) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.applicationAllowsFollowingLinkToLocation(link, location, event)\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const action = this.getActionForLink(link);\n    const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n\n    this.visit(location.href, { action, acceptsStreamResponse });\n  }\n\n  // Navigator delegate\n\n  allowsVisitingLocationWithAction(location, action) {\n    return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location)\n  }\n\n  visitProposedToLocation(location, options) {\n    extendURLWithDeprecatedProperties(location);\n    this.adapter.visitProposedToLocation(location, options);\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    if (!visit.acceptsStreamResponse) {\n      markAsBusy(document.documentElement);\n      this.view.markVisitDirection(visit.direction);\n    }\n    extendURLWithDeprecatedProperties(visit.location);\n    if (!visit.silent) {\n      this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n    }\n  }\n\n  visitCompleted(visit) {\n    this.view.unmarkVisitDirection();\n    clearBusyState(document.documentElement);\n    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    return this.navigator.locationWithActionIsSamePage(location, action)\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return (\n      this.submissionIsNavigatable(form, submitter) &&\n      locationIsVisitable(expandURL(action), this.snapshot.rootLocation)\n    )\n  }\n\n  formSubmitted(form, submitter) {\n    this.navigator.submitForm(form, submitter);\n  }\n\n  // Page observer delegate\n\n  pageBecameInteractive() {\n    this.view.lastRenderedLocation = this.location;\n    this.notifyApplicationAfterPageLoad();\n  }\n\n  pageLoaded() {\n    this.history.assumeControlOfScrollRestoration();\n  }\n\n  pageWillUnload() {\n    this.history.relinquishControlOfScrollRestoration();\n  }\n\n  // Stream observer delegate\n\n  receivedMessageFromStream(message) {\n    this.renderStreamMessage(message);\n  }\n\n  // Page view delegate\n\n  viewWillCacheSnapshot() {\n    if (!this.navigator.currentVisit?.silent) {\n      this.notifyApplicationBeforeCachingSnapshot();\n    }\n  }\n\n  allowsImmediateRender({ element }, options) {\n    const event = this.notifyApplicationBeforeRender(element, options);\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {\n    this.view.lastRenderedLocation = this.history.location;\n    this.notifyApplicationAfterRender(renderMethod);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    this.preloader.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated(reason) {\n    this.adapter.pageInvalidated(reason);\n  }\n\n  // Frame element\n\n  frameLoaded(frame) {\n    this.notifyApplicationAfterFrameLoad(frame);\n  }\n\n  frameRendered(fetchResponse, frame) {\n    this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n  }\n\n  // Application events\n\n  applicationAllowsFollowingLinkToLocation(link, location, ev) {\n    const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n    return !event.defaultPrevented\n  }\n\n  applicationAllowsVisitingLocation(location) {\n    const event = this.notifyApplicationBeforeVisitingLocation(location);\n    return !event.defaultPrevented\n  }\n\n  notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n    return dispatch(\"turbo:click\", {\n      target: link,\n      detail: { url: location.href, originalEvent: event },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationBeforeVisitingLocation(location) {\n    return dispatch(\"turbo:before-visit\", {\n      detail: { url: location.href },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterVisitingLocation(location, action) {\n    return dispatch(\"turbo:visit\", { detail: { url: location.href, action } })\n  }\n\n  notifyApplicationBeforeCachingSnapshot() {\n    return dispatch(\"turbo:before-cache\")\n  }\n\n  notifyApplicationBeforeRender(newBody, options) {\n    return dispatch(\"turbo:before-render\", {\n      detail: { newBody, ...options },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterRender(renderMethod) {\n    return dispatch(\"turbo:render\", { detail: { renderMethod } })\n  }\n\n  notifyApplicationAfterPageLoad(timing = {}) {\n    return dispatch(\"turbo:load\", {\n      detail: { url: this.location.href, timing }\n    })\n  }\n\n  notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n    dispatchEvent(\n      new HashChangeEvent(\"hashchange\", {\n        oldURL: oldURL.toString(),\n        newURL: newURL.toString()\n      })\n    );\n  }\n\n  notifyApplicationAfterFrameLoad(frame) {\n    return dispatch(\"turbo:frame-load\", { target: frame })\n  }\n\n  notifyApplicationAfterFrameRender(fetchResponse, frame) {\n    return dispatch(\"turbo:frame-render\", {\n      detail: { fetchResponse },\n      target: frame,\n      cancelable: true\n    })\n  }\n\n  // Helpers\n\n  submissionIsNavigatable(form, submitter) {\n    if (config.forms.mode == \"off\") {\n      return false\n    } else {\n      const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n\n      if (config.forms.mode == \"optin\") {\n        return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null\n      } else {\n        return submitterIsNavigatable && this.elementIsNavigatable(form)\n      }\n    }\n  }\n\n  elementIsNavigatable(element) {\n    const container = findClosestRecursively(element, \"[data-turbo]\");\n    const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n\n    // Check if Drive is enabled on the session or we're within a Frame.\n    if (config.drive.enabled || withinFrame) {\n      // Element is navigatable by default, unless `data-turbo=\"false\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") != \"false\"\n      } else {\n        return true\n      }\n    } else {\n      // Element isn't navigatable by default, unless `data-turbo=\"true\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") == \"true\"\n      } else {\n        return false\n      }\n    }\n  }\n\n  // Private\n\n  getActionForLink(link) {\n    return getVisitAction(link) || \"advance\"\n  }\n\n  get snapshot() {\n    return this.view.snapshot\n  }\n}\n\n// Older versions of the Turbo Native adapters referenced the\n// `Location#absoluteURL` property in their implementations of\n// the `Adapter#visitProposedToLocation()` and `#visitStarted()`\n// methods. The Location class has since been removed in favor\n// of the DOM URL API, and accordingly all Adapter methods now\n// receive URL objects.\n//\n// We alias #absoluteURL to #toString() here to avoid crashing\n// older adapters which do not expect URL objects. We should\n// consider removing this support at some point in the future.\n\nfunction extendURLWithDeprecatedProperties(url) {\n  Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\n\nconst deprecatedLocationPropertyDescriptors = {\n  absoluteURL: {\n    get() {\n      return this.toString()\n    }\n  }\n};\n\nconst session = new Session(recentRequests);\nconst { cache, navigator: navigator$1 } = session;\n\n/**\n * Starts the main session.\n * This initialises any necessary observers such as those to monitor\n * link interactions.\n */\nfunction start() {\n  session.start();\n}\n\n/**\n * Registers an adapter for the main session.\n *\n * @param adapter Adapter to register\n */\nfunction registerAdapter(adapter) {\n  session.registerAdapter(adapter);\n}\n\n/**\n * Performs an application visit to the given location.\n *\n * @param location Location to visit (a URL or path)\n * @param options Options to apply\n * @param options.action Type of history navigation to apply (\"restore\",\n * \"replace\" or \"advance\")\n * @param options.historyChanged Specifies whether the browser history has\n * already been changed for this visit or not\n * @param options.referrer Specifies the referrer of this visit such that\n * navigations to the same page will not result in a new history entry.\n * @param options.snapshotHTML Cached snapshot to render\n * @param options.response Response of the specified location\n */\nfunction visit(location, options) {\n  session.visit(location, options);\n}\n\n/**\n * Connects a stream source to the main session.\n *\n * @param source Stream source to connect\n */\nfunction connectStreamSource(source) {\n  session.connectStreamSource(source);\n}\n\n/**\n * Disconnects a stream source from the main session.\n *\n * @param source Stream source to disconnect\n */\nfunction disconnectStreamSource(source) {\n  session.disconnectStreamSource(source);\n}\n\n/**\n * Renders a stream message to the main session by appending it to the\n * current document.\n *\n * @param message Message to render\n */\nfunction renderStreamMessage(message) {\n  session.renderStreamMessage(message);\n}\n\n/**\n * Removes all entries from the Turbo Drive page cache.\n * Call this when state has changed on the server that may affect cached pages.\n *\n * @deprecated since version 7.2.0 in favor of `Turbo.cache.clear()`\n */\nfunction clearCache() {\n  console.warn(\n    \"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  session.clearCache();\n}\n\n/**\n * Sets the delay after which the progress bar will appear during navigation.\n *\n * The progress bar appears after 500ms by default.\n *\n * Note that this method has no effect when used with the iOS or Android\n * adapters.\n *\n * @param delay Time to delay in milliseconds\n */\nfunction setProgressBarDelay(delay) {\n  console.warn(\n    \"Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.drive.progressBarDelay = delay;\n}\n\nfunction setConfirmMethod(confirmMethod) {\n  console.warn(\n    \"Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.confirm = confirmMethod;\n}\n\nfunction setFormMode(mode) {\n  console.warn(\n    \"Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.mode = mode;\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  navigator: navigator$1,\n  session: session,\n  cache: cache,\n  PageRenderer: PageRenderer,\n  PageSnapshot: PageSnapshot,\n  FrameRenderer: FrameRenderer,\n  fetch: fetchWithTurboHeaders,\n  config: config,\n  start: start,\n  registerAdapter: registerAdapter,\n  visit: visit,\n  connectStreamSource: connectStreamSource,\n  disconnectStreamSource: disconnectStreamSource,\n  renderStreamMessage: renderStreamMessage,\n  clearCache: clearCache,\n  setProgressBarDelay: setProgressBarDelay,\n  setConfirmMethod: setConfirmMethod,\n  setFormMode: setFormMode\n});\n\nclass TurboFrameMissingError extends Error {}\n\nclass FrameController {\n  fetchResponseLoaded = (_fetchResponse) => Promise.resolve()\n  #currentFetchRequest = null\n  #resolveVisitPromise = () => {}\n  #connected = false\n  #hasBeenLoaded = false\n  #ignoredAttributes = new Set()\n  #shouldMorphFrame = false\n  action = null\n\n  constructor(element) {\n    this.element = element;\n    this.view = new FrameView(this, this.element);\n    this.appearanceObserver = new AppearanceObserver(this, this.element);\n    this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n    this.linkInterceptor = new LinkInterceptor(this, this.element);\n    this.restorationIdentifier = uuid();\n    this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n  }\n\n  // Frame delegate\n\n  connect() {\n    if (!this.#connected) {\n      this.#connected = true;\n      if (this.loadingStyle == FrameLoadingStyle.lazy) {\n        this.appearanceObserver.start();\n      } else {\n        this.#loadSourceURL();\n      }\n      this.formLinkClickObserver.start();\n      this.linkInterceptor.start();\n      this.formSubmitObserver.start();\n    }\n  }\n\n  disconnect() {\n    if (this.#connected) {\n      this.#connected = false;\n      this.appearanceObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkInterceptor.stop();\n      this.formSubmitObserver.stop();\n    }\n  }\n\n  disabledChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.eager) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLChanged() {\n    if (this.#isIgnoringChangesTo(\"src\")) return\n\n    if (this.element.isConnected) {\n      this.complete = false;\n    }\n\n    if (this.loadingStyle == FrameLoadingStyle.eager || this.#hasBeenLoaded) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLReloaded() {\n    const { refresh, src } = this.element;\n\n    this.#shouldMorphFrame = src && refresh === \"morph\";\n\n    this.element.removeAttribute(\"complete\");\n    this.element.src = null;\n    this.element.src = src;\n    return this.element.loaded\n  }\n\n  loadingStyleChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.lazy) {\n      this.appearanceObserver.start();\n    } else {\n      this.appearanceObserver.stop();\n      this.#loadSourceURL();\n    }\n  }\n\n  async #loadSourceURL() {\n    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n      this.element.loaded = this.#visit(expandURL(this.sourceURL));\n      this.appearanceObserver.stop();\n      await this.element.loaded;\n      this.#hasBeenLoaded = true;\n    }\n  }\n\n  async loadResponse(fetchResponse) {\n    if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n      this.sourceURL = fetchResponse.response.url;\n    }\n\n    try {\n      const html = await fetchResponse.responseHTML;\n      if (html) {\n        const document = parseHTMLDocument(html);\n        const pageSnapshot = PageSnapshot.fromDocument(document);\n\n        if (pageSnapshot.isVisitable) {\n          await this.#loadFrameResponse(fetchResponse, document);\n        } else {\n          await this.#handleUnvisitableFrameResponse(fetchResponse);\n        }\n      }\n    } finally {\n      this.#shouldMorphFrame = false;\n      this.fetchResponseLoaded = () => Promise.resolve();\n    }\n  }\n\n  // Appearance observer delegate\n\n  elementAppearedInViewport(element) {\n    this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));\n    this.#loadSourceURL();\n  }\n\n  // Form link click observer delegate\n\n  willSubmitFormLinkToLocation(link) {\n    return this.#shouldInterceptNavigation(link)\n  }\n\n  submittedFormLinkToLocation(link, _location, form) {\n    const frame = this.#findFrameElement(link);\n    if (frame) form.setAttribute(\"data-turbo-frame\", frame.id);\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldInterceptNavigation(element)\n  }\n\n  linkClickIntercepted(element, location) {\n    this.#navigateFrame(element, location);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return element.closest(\"turbo-frame\") == this.element && this.#shouldInterceptNavigation(element, submitter)\n  }\n\n  formSubmitted(element, submitter) {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n    }\n\n    this.formSubmission = new FormSubmission(this, element, submitter);\n    const { fetchRequest } = this.formSubmission;\n    this.prepareRequest(fetchRequest);\n    this.formSubmission.start();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    request.headers[\"Turbo-Frame\"] = this.id;\n\n    if (this.currentNavigationElement?.hasAttribute(\"data-turbo-stream\")) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    markAsBusy(this.element);\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {\n    this.#resolveVisitPromise();\n  }\n\n  async requestSucceededWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  async requestFailedWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  requestErrored(request, error) {\n    console.error(error);\n    this.#resolveVisitPromise();\n  }\n\n  requestFinished(_request) {\n    clearBusyState(this.element);\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted({ formElement }) {\n    markAsBusy(formElement, this.#findFrameElement(formElement));\n  }\n\n  formSubmissionSucceededWithResponse(formSubmission, response) {\n    const frame = this.#findFrameElement(formSubmission.formElement, formSubmission.submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));\n    frame.delegate.loadResponse(response);\n\n    if (!formSubmission.isSafe) {\n      session.clearCache();\n    }\n  }\n\n  formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    this.element.delegate.loadResponse(fetchResponse);\n    session.clearCache();\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished({ formElement }) {\n    clearBusyState(formElement, this.#findFrameElement(formElement));\n  }\n\n  // View delegate\n\n  allowsImmediateRender({ element: newFrame }, options) {\n    const event = dispatch(\"turbo:before-frame-render\", {\n      target: this.element,\n      detail: { newFrame, ...options },\n      cancelable: true\n    });\n\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {}\n\n  preloadOnLoadLinksForView(element) {\n    session.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated() {}\n\n  // Frame renderer delegate\n\n  willRenderFrame(currentElement, _newElement) {\n    this.previousFrameElement = currentElement.cloneNode(true);\n  }\n\n  visitCachedSnapshot = ({ element }) => {\n    const frame = element.querySelector(\"#\" + this.element.id);\n\n    if (frame && this.previousFrameElement) {\n      frame.replaceChildren(...this.previousFrameElement.children);\n    }\n\n    delete this.previousFrameElement;\n  }\n\n  // Private\n\n  async #loadFrameResponse(fetchResponse, document) {\n    const newFrameElement = await this.extractForeignFrameElement(document.body);\n    const rendererClass = this.#shouldMorphFrame ? MorphingFrameRenderer : FrameRenderer;\n\n    if (newFrameElement) {\n      const snapshot = new Snapshot(newFrameElement);\n      const renderer = new rendererClass(this, this.view.snapshot, snapshot, false, false);\n      if (this.view.renderPromise) await this.view.renderPromise;\n      this.changeHistory();\n\n      await this.view.render(renderer);\n      this.complete = true;\n      session.frameRendered(fetchResponse, this.element);\n      session.frameLoaded(this.element);\n      await this.fetchResponseLoaded(fetchResponse);\n    } else if (this.#willHandleFrameMissingFromResponse(fetchResponse)) {\n      this.#handleFrameMissingFromResponse(fetchResponse);\n    }\n  }\n\n  async #visit(url) {\n    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n\n    this.#currentFetchRequest?.cancel();\n    this.#currentFetchRequest = request;\n\n    return new Promise((resolve) => {\n      this.#resolveVisitPromise = () => {\n        this.#resolveVisitPromise = () => {};\n        this.#currentFetchRequest = null;\n        resolve();\n      };\n      request.perform();\n    })\n  }\n\n  #navigateFrame(element, url, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));\n\n    this.#withCurrentNavigationElement(element, () => {\n      frame.src = url;\n    });\n  }\n\n  proposeVisitIfNavigatedWithAction(frame, action = null) {\n    this.action = action;\n\n    if (this.action) {\n      const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n      const { visitCachedSnapshot } = frame.delegate;\n\n      frame.delegate.fetchResponseLoaded = async (fetchResponse) => {\n        if (frame.src) {\n          const { statusCode, redirected } = fetchResponse;\n          const responseHTML = await fetchResponse.responseHTML;\n          const response = { statusCode, redirected, responseHTML };\n          const options = {\n            response,\n            visitCachedSnapshot,\n            willRender: false,\n            updateHistory: false,\n            restorationIdentifier: this.restorationIdentifier,\n            snapshot: pageSnapshot\n          };\n\n          if (this.action) options.action = this.action;\n\n          session.visit(frame.src, options);\n        }\n      };\n    }\n  }\n\n  changeHistory() {\n    if (this.action) {\n      const method = getHistoryMethodForAction(this.action);\n      session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n    }\n  }\n\n  async #handleUnvisitableFrameResponse(fetchResponse) {\n    console.warn(\n      `The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`\n    );\n\n    await this.#visitResponse(fetchResponse.response);\n  }\n\n  #willHandleFrameMissingFromResponse(fetchResponse) {\n    this.element.setAttribute(\"complete\", \"\");\n\n    const response = fetchResponse.response;\n    const visit = async (url, options) => {\n      if (url instanceof Response) {\n        this.#visitResponse(url);\n      } else {\n        session.visit(url, options);\n      }\n    };\n\n    const event = dispatch(\"turbo:frame-missing\", {\n      target: this.element,\n      detail: { response, visit },\n      cancelable: true\n    });\n\n    return !event.defaultPrevented\n  }\n\n  #handleFrameMissingFromResponse(fetchResponse) {\n    this.view.missing();\n    this.#throwFrameMissingError(fetchResponse);\n  }\n\n  #throwFrameMissingError(fetchResponse) {\n    const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n    throw new TurboFrameMissingError(message)\n  }\n\n  async #visitResponse(response) {\n    const wrapped = new FetchResponse(response);\n    const responseHTML = await wrapped.responseHTML;\n    const { location, redirected, statusCode } = wrapped;\n\n    return session.visit(location, { response: { redirected, statusCode, responseHTML } })\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n    return getFrameElementById(id) ?? this.element\n  }\n\n  async extractForeignFrameElement(container) {\n    let element;\n    const id = CSS.escape(this.id);\n\n    try {\n      element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n      if (element) {\n        return element\n      }\n\n      element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n      if (element) {\n        await element.loaded;\n        return await this.extractForeignFrameElement(element)\n      }\n    } catch (error) {\n      console.error(error);\n      return new FrameElement()\n    }\n\n    return null\n  }\n\n  #formActionIsVisitable(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return locationIsVisitable(expandURL(action), this.rootLocation)\n  }\n\n  #shouldInterceptNavigation(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n\n    if (element instanceof HTMLFormElement && !this.#formActionIsVisitable(element, submitter)) {\n      return false\n    }\n\n    if (!this.enabled || id == \"_top\") {\n      return false\n    }\n\n    if (id) {\n      const frameElement = getFrameElementById(id);\n      if (frameElement) {\n        return !frameElement.disabled\n      }\n    }\n\n    if (!session.elementIsNavigatable(element)) {\n      return false\n    }\n\n    if (submitter && !session.elementIsNavigatable(submitter)) {\n      return false\n    }\n\n    return true\n  }\n\n  // Computed properties\n\n  get id() {\n    return this.element.id\n  }\n\n  get enabled() {\n    return !this.element.disabled\n  }\n\n  get sourceURL() {\n    if (this.element.src) {\n      return this.element.src\n    }\n  }\n\n  set sourceURL(sourceURL) {\n    this.#ignoringChangesToAttribute(\"src\", () => {\n      this.element.src = sourceURL ?? null;\n    });\n  }\n\n  get loadingStyle() {\n    return this.element.loading\n  }\n\n  get isLoading() {\n    return this.formSubmission !== undefined || this.#resolveVisitPromise() !== undefined\n  }\n\n  get complete() {\n    return this.element.hasAttribute(\"complete\")\n  }\n\n  set complete(value) {\n    if (value) {\n      this.element.setAttribute(\"complete\", \"\");\n    } else {\n      this.element.removeAttribute(\"complete\");\n    }\n  }\n\n  get isActive() {\n    return this.element.isActive && this.#connected\n  }\n\n  get rootLocation() {\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const root = meta?.content ?? \"/\";\n    return expandURL(root)\n  }\n\n  #isIgnoringChangesTo(attributeName) {\n    return this.#ignoredAttributes.has(attributeName)\n  }\n\n  #ignoringChangesToAttribute(attributeName, callback) {\n    this.#ignoredAttributes.add(attributeName);\n    callback();\n    this.#ignoredAttributes.delete(attributeName);\n  }\n\n  #withCurrentNavigationElement(element, callback) {\n    this.currentNavigationElement = element;\n    callback();\n    delete this.currentNavigationElement;\n  }\n}\n\nfunction getFrameElementById(id) {\n  if (id != null) {\n    const element = document.getElementById(id);\n    if (element instanceof FrameElement) {\n      return element\n    }\n  }\n}\n\nfunction activateElement(element, currentURL) {\n  if (element) {\n    const src = element.getAttribute(\"src\");\n    if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n      throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`)\n    }\n    if (element.ownerDocument !== document) {\n      element = document.importNode(element, true);\n    }\n\n    if (element instanceof FrameElement) {\n      element.connectedCallback();\n      element.disconnectedCallback();\n      return element\n    }\n  }\n}\n\nconst StreamActions = {\n  after() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));\n  },\n\n  append() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.append(this.templateContent));\n  },\n\n  before() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));\n  },\n\n  prepend() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.prepend(this.templateContent));\n  },\n\n  remove() {\n    this.targetElements.forEach((e) => e.remove());\n  },\n\n  replace() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphElements(targetElement, this.templateContent);\n      } else {\n        targetElement.replaceWith(this.templateContent);\n      }\n    });\n  },\n\n  update() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphChildren(targetElement, this.templateContent);\n      } else {\n        targetElement.innerHTML = \"\";\n        targetElement.append(this.templateContent);\n      }\n    });\n  },\n\n  refresh() {\n    session.refresh(this.baseURI, this.requestId);\n  }\n};\n\n// <turbo-stream action=replace target=id><template>...\n\n/**\n * Renders updates to the page from a stream of messages.\n *\n * Using the `action` attribute, this can be configured one of eight ways:\n *\n * - `after` - inserts the result after the target\n * - `append` - appends the result to the target\n * - `before` - inserts the result before the target\n * - `prepend` - prepends the result to the target\n * - `refresh` - initiates a page refresh\n * - `remove` - removes the target\n * - `replace` - replaces the outer HTML of the target\n * - `update` - replaces the inner HTML of the target\n *\n * @customElement turbo-stream\n * @example\n *   <turbo-stream action=\"append\" target=\"dom_id\">\n *     <template>\n *       Content to append to target designated with the dom_id.\n *     </template>\n *   </turbo-stream>\n */\nclass StreamElement extends HTMLElement {\n  static async renderElement(newElement) {\n    await newElement.performAction();\n  }\n\n  async connectedCallback() {\n    try {\n      await this.render();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.disconnect();\n    }\n  }\n\n  async render() {\n    return (this.renderPromise ??= (async () => {\n      const event = this.beforeRenderEvent;\n\n      if (this.dispatchEvent(event)) {\n        await nextRepaint();\n        await event.detail.render(this);\n      }\n    })())\n  }\n\n  disconnect() {\n    try {\n      this.remove();\n      // eslint-disable-next-line no-empty\n    } catch {}\n  }\n\n  /**\n   * Removes duplicate children (by ID)\n   */\n  removeDuplicateTargetChildren() {\n    this.duplicateChildren.forEach((c) => c.remove());\n  }\n\n  /**\n   * Gets the list of duplicate children (i.e. those with the same ID)\n   */\n  get duplicateChildren() {\n    const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);\n    const newChildrenIds = [...(this.templateContent?.children || [])].filter((c) => !!c.id).map((c) => c.id);\n\n    return existingChildren.filter((c) => newChildrenIds.includes(c.id))\n  }\n\n  /**\n   * Gets the action function to be performed.\n   */\n  get performAction() {\n    if (this.action) {\n      const actionFunction = StreamActions[this.action];\n      if (actionFunction) {\n        return actionFunction\n      }\n      this.#raise(\"unknown action\");\n    }\n    this.#raise(\"action attribute is missing\");\n  }\n\n  /**\n   * Gets the target elements which the template will be rendered to.\n   */\n  get targetElements() {\n    if (this.target) {\n      return this.targetElementsById\n    } else if (this.targets) {\n      return this.targetElementsByQuery\n    } else {\n      this.#raise(\"target or targets attribute is missing\");\n    }\n  }\n\n  /**\n   * Gets the contents of the main `<template>`.\n   */\n  get templateContent() {\n    return this.templateElement.content.cloneNode(true)\n  }\n\n  /**\n   * Gets the main `<template>` used for rendering\n   */\n  get templateElement() {\n    if (this.firstElementChild === null) {\n      const template = this.ownerDocument.createElement(\"template\");\n      this.appendChild(template);\n      return template\n    } else if (this.firstElementChild instanceof HTMLTemplateElement) {\n      return this.firstElementChild\n    }\n    this.#raise(\"first child element must be a <template> element\");\n  }\n\n  /**\n   * Gets the current action.\n   */\n  get action() {\n    return this.getAttribute(\"action\")\n  }\n\n  /**\n   * Gets the current target (an element ID) to which the result will\n   * be rendered.\n   */\n  get target() {\n    return this.getAttribute(\"target\")\n  }\n\n  /**\n   * Gets the current \"targets\" selector (a CSS selector)\n   */\n  get targets() {\n    return this.getAttribute(\"targets\")\n  }\n\n  /**\n   * Reads the request-id attribute\n   */\n  get requestId() {\n    return this.getAttribute(\"request-id\")\n  }\n\n  #raise(message) {\n    throw new Error(`${this.description}: ${message}`)\n  }\n\n  get description() {\n    return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? \"<turbo-stream>\"\n  }\n\n  get beforeRenderEvent() {\n    return new CustomEvent(\"turbo:before-stream-render\", {\n      bubbles: true,\n      cancelable: true,\n      detail: { newStream: this, render: StreamElement.renderElement }\n    })\n  }\n\n  get targetElementsById() {\n    const element = this.ownerDocument?.getElementById(this.target);\n\n    if (element !== null) {\n      return [element]\n    } else {\n      return []\n    }\n  }\n\n  get targetElementsByQuery() {\n    const elements = this.ownerDocument?.querySelectorAll(this.targets);\n\n    if (elements.length !== 0) {\n      return Array.prototype.slice.call(elements)\n    } else {\n      return []\n    }\n  }\n}\n\nclass StreamSourceElement extends HTMLElement {\n  streamSource = null\n\n  connectedCallback() {\n    this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n\n    connectStreamSource(this.streamSource);\n  }\n\n  disconnectedCallback() {\n    if (this.streamSource) {\n      this.streamSource.close();\n\n      disconnectStreamSource(this.streamSource);\n    }\n  }\n\n  get src() {\n    return this.getAttribute(\"src\") || \"\"\n  }\n}\n\nFrameElement.delegateConstructor = FrameController;\n\nif (customElements.get(\"turbo-frame\") === undefined) {\n  customElements.define(\"turbo-frame\", FrameElement);\n}\n\nif (customElements.get(\"turbo-stream\") === undefined) {\n  customElements.define(\"turbo-stream\", StreamElement);\n}\n\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n  customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n  let element = document.currentScript;\n  if (!element) return\n  if (element.hasAttribute(\"data-turbo-suppress-warning\")) return\n\n  element = element.parentElement;\n  while (element) {\n    if (element == document.body) {\n      return console.warn(\n        unindent`\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `,\n        element.outerHTML\n      )\n    }\n\n    element = element.parentElement;\n  }\n})();\n\nwindow.Turbo = { ...Turbo, StreamActions };\nstart();\n\nexport { FetchEnctype, FetchMethod, FetchRequest, FetchResponse, FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, config, connectStreamSource, disconnectStreamSource, fetchWithTurboHeaders as fetch, fetchEnctypeFromString, fetchMethodFromString, isSafe, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n", "let consumer\n\nexport async function getConsumer() {\n  return consumer || setConsumer(createConsumer().then(setConsumer))\n}\n\nexport function setConsumer(newConsumer) {\n  return consumer = newConsumer\n}\n\nexport async function createConsumer() {\n  const { createConsumer } = await import(/* webpackChunkName: \"actioncable\" */ \"@rails/actioncable/src\")\n  return createConsumer()\n}\n\nexport async function subscribeTo(channel, mixin) {\n  const { subscriptions } = await getConsumer()\n  return subscriptions.create(channel, mixin)\n}\n", "// Based on https://github.com/nathan7/snakeize\n//\n// This software is released under the MIT license:\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nexport default function walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (obj instanceof Date || obj instanceof RegExp) return obj;\n    if (Array.isArray(obj)) return obj.map(walk);\n    return Object.keys(obj).reduce(function (acc, key) {\n        var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function (m, x) {\n            return '_' + x.toLowerCase();\n        });\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n};", "import { connectStreamSource, disconnectStreamSource } from \"@hotwired/turbo\"\nimport { subscribeTo } from \"./cable\"\nimport snakeize from \"./snakeize\"\n\nclass TurboCableStreamSourceElement extends HTMLElement {\n  static observedAttributes = [\"channel\", \"signed-stream-name\"]\n\n  async connectedCallback() {\n    connectStreamSource(this)\n    this.subscription = await subscribeTo(this.channel, {\n      received: this.dispatchMessageEvent.bind(this),\n      connected: this.subscriptionConnected.bind(this),\n      disconnected: this.subscriptionDisconnected.bind(this)\n    })\n  }\n\n  disconnectedCallback() {\n    disconnectStreamSource(this)\n    if (this.subscription) this.subscription.unsubscribe()\n    this.subscriptionDisconnected()\n  }\n\n  attributeChangedCallback() {\n    if (this.subscription) {\n      this.disconnectedCallback()\n      this.connectedCallback()\n    }\n  }\n\n  dispatchMessageEvent(data) {\n    const event = new MessageEvent(\"message\", { data })\n    return this.dispatchEvent(event)\n  }\n\n  subscriptionConnected() {\n    this.setAttribute(\"connected\", \"\")\n  }\n\n  subscriptionDisconnected() {\n    this.removeAttribute(\"connected\")\n  }\n\n  get channel() {\n    const channel = this.getAttribute(\"channel\")\n    const signed_stream_name = this.getAttribute(\"signed-stream-name\")\n    return { channel, signed_stream_name, ...snakeize({ ...this.dataset }) }\n  }\n}\n\n\nif (customElements.get(\"turbo-cable-stream-source\") === undefined) {\n  customElements.define(\"turbo-cable-stream-source\", TurboCableStreamSourceElement)\n}\n", "export function encodeMethodIntoRequestBody(event) {\n  if (event.target instanceof HTMLFormElement) {\n    const { target: form, detail: { fetchOptions } } = event\n\n    form.addEventListener(\"turbo:submit-start\", ({ detail: { formSubmission: { submitter } } }) => {\n      const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams()\n      const method = determineFetchMethod(submitter, body, form)\n\n      if (!/get/i.test(method)) {\n        if (/post/i.test(method)) {\n          body.delete(\"_method\")\n        } else {\n          body.set(\"_method\", method)\n        }\n\n        fetchOptions.method = \"post\"\n      }\n    }, { once: true })\n  }\n}\n\nfunction determineFetchMethod(submitter, body, form) {\n  const formMethod = determineFormMethod(submitter)\n  const overrideMethod = body.get(\"_method\")\n  const method = form.getAttribute(\"method\") || \"get\"\n\n  if (typeof formMethod == \"string\") {\n    return formMethod\n  } else if (typeof overrideMethod == \"string\") {\n    return overrideMethod\n  } else {\n    return method\n  }\n}\n\nfunction determineFormMethod(submitter) {\n  if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {\n    // Rails 7 ActionView::Helpers::FormBuilder#button method has an override\n    // for formmethod if the button does not have name or value attributes\n    // set, which is the default. This means that if you use <%= f.button\n    // formmethod: :delete %>, it will generate a <button name=\"_method\"\n    // value=\"delete\" formmethod=\"post\">. Therefore, if the submitter's name\n    // is already _method, it's value attribute already contains the desired\n    // method.\n    if (submitter.name === '_method') {\n      return submitter.value\n    } else if (submitter.hasAttribute(\"formmethod\")) {\n      return submitter.formMethod\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nfunction isBodyInit(body) {\n  return body instanceof FormData || body instanceof URLSearchParams\n}\n", "import \"./cable_stream_source_element\"\n\nimport * as Turbo from \"@hotwired/turbo\"\nexport { Turbo }\n\nimport * as cable from \"./cable\"\nexport { cable }\n\nimport { encodeMethodIntoRequestBody } from \"./fetch_requests\"\n\nwindow.Turbo = Turbo\n\naddEventListener(\"turbo:before-fetch-request\", encodeMethodIntoRequestBody)\n", "import jquery from 'jquery'\nwindow.jQuery = jquery\nwindow.$ = jquery\n", ";(function ($) {\n  var cocoon_element_counter = 0\n\n  var create_new_id = function () {\n    return new Date().getTime() + cocoon_element_counter++\n  }\n\n  var newcontent_braced = function (id) {\n    return '[' + id + ']$1'\n  }\n\n  var newcontent_underscord = function (id) {\n    return '_' + id + '_$1'\n  }\n\n  var getInsertionNodeElem = function (insertionNode, insertionTraversal, $this) {\n    if (!insertionNode) {\n      return $this.parent()\n    }\n\n    if (typeof insertionNode == 'function') {\n      if (insertionTraversal) {\n        console.warn('association-insertion-traversal is ignored, because association-insertion-node is given as a function.')\n      }\n      return insertionNode($this)\n    }\n\n    if (typeof insertionNode == 'string') {\n      if (insertionTraversal) {\n        return $this[insertionTraversal](insertionNode)\n      } else {\n        return insertionNode == 'this' ? $this : $(insertionNode)\n      }\n    }\n  }\n\n  $(document).on('click', '.add_fields', function (e) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    var $this = $(this),\n      assoc = $this.data('association'),\n      assocs = $this.data('associations'),\n      content = $this.data('association-insertion-template'),\n      insertionMethod = $this.data('association-insertion-method') || $this.data('association-insertion-position') || 'before',\n      insertionNode = $this.data('association-insertion-node'),\n      insertionTraversal = $this.data('association-insertion-traversal'),\n      count = parseInt($this.data('count'), 10),\n      regexp_braced = new RegExp('\\\\[new_' + assoc + '\\\\](.*?\\\\s)', 'g'),\n      regexp_underscord = new RegExp('_new_' + assoc + '_(\\\\w*)', 'g'),\n      new_id = create_new_id(),\n      new_content = content.replace(regexp_braced, newcontent_braced(new_id)),\n      new_contents = [],\n      originalEvent = e\n\n    if (new_content == content) {\n      regexp_braced = new RegExp('\\\\[new_' + assocs + '\\\\](.*?\\\\s)', 'g')\n      regexp_underscord = new RegExp('_new_' + assocs + '_(\\\\w*)', 'g')\n      new_content = content.replace(regexp_braced, newcontent_braced(new_id))\n    }\n\n    new_content = new_content.replace(regexp_underscord, newcontent_underscord(new_id))\n    new_contents = [new_content]\n\n    count = isNaN(count) ? 1 : Math.max(count, 1)\n    count -= 1\n\n    while (count) {\n      new_id = create_new_id()\n      new_content = content.replace(regexp_braced, newcontent_braced(new_id))\n      new_content = new_content.replace(regexp_underscord, newcontent_underscord(new_id))\n      new_contents.push(new_content)\n\n      count -= 1\n    }\n\n    var insertionNodeElem = getInsertionNodeElem(insertionNode, insertionTraversal, $this)\n\n    if (!insertionNodeElem || insertionNodeElem.length == 0) {\n      console.warn(\"Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct.\")\n    }\n\n    $.each(new_contents, function (i, node) {\n      var contentNode = $(node)\n\n      var before_insert = jQuery.Event('cocoon:before-insert')\n      insertionNodeElem.trigger(before_insert, [contentNode, originalEvent])\n\n      if (!before_insert.isDefaultPrevented()) {\n        // allow any of the jquery dom manipulation methods (after, before, append, prepend, etc)\n        // to be called on the node.  allows the insertion node to be the parent of the inserted\n        // code and doesn't force it to be a sibling like after/before does. default: 'before'\n        var addedContent = insertionNodeElem[insertionMethod](contentNode)\n\n        insertionNodeElem.trigger('cocoon:after-insert', [contentNode, originalEvent])\n      }\n    })\n  })\n\n  $(document).on('click', '.remove_fields.dynamic, .remove_fields.existing', function (e) {\n    var $this = $(this),\n      wrapper_class = $this.data('wrapper-class') || 'nested-fields',\n      node_to_delete = $this.closest('.' + wrapper_class),\n      trigger_node = node_to_delete.parent(),\n      originalEvent = e\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    var before_remove = jQuery.Event('cocoon:before-remove')\n    trigger_node.trigger(before_remove, [node_to_delete, originalEvent])\n\n    if (!before_remove.isDefaultPrevented()) {\n      var timeout = trigger_node.data('remove-timeout') || 0\n\n      setTimeout(function () {\n        if ($this.hasClass('dynamic')) {\n          node_to_delete.detach()\n        } else {\n          $this.prev('input[type=hidden]').val('1')\n          node_to_delete.hide()\n        }\n        trigger_node.trigger('cocoon:after-remove', [node_to_delete, originalEvent])\n      }, timeout)\n    }\n  })\n\n  var hideRemoveFields = function () {\n    $('.remove_fields.existing.destroyed').each(function (i, obj) {\n      var $this = $(this),\n        wrapper_class = $this.data('wrapper-class') || 'nested-fields'\n\n      $this.closest('.' + wrapper_class).hide()\n    })\n  }\n\n  $(function () {\n    hideRemoveFields()\n    $(document).on('page:load turbolinks:load turbo:load', hideRemoveFields) // Turbolinks support\n  })\n})(jQuery)\n", "export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n", "const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    htmlAttributes: [ \"language\" ],\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n", "const androidVersionMatch = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i)\nconst androidVersion = androidVersionMatch && parseInt(androidVersionMatch[1])\n\nexport default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n\n  // Android 13, especially on Samsung keyboards, emits extra compositionend and beforeinput events\n  // that can make the input handler lose the current selection or enter an infinite input -> render -> input\n  // loop.\n  recentAndroid: androidVersion && androidVersion > 12,\n  samsungAndroid: androidVersion && navigator.userAgent.match(/Android.*SM-/),\n\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: typeof InputEvent !== \"undefined\" &&\n    [ \"data\", \"getTargetRanges\", \"inputType\" ].every(prop => prop in InputEvent.prototype),\n}\n", "export default {\n  ADD_ATTR: [ \"language\" ],\n  SAFE_FOR_XML: false,\n  RETURN_DOM: true\n}\n", "export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n", "/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n", "export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n", "export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n", "import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n", "import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n", "export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n", "export default {\n  removeBlankTableCells: false,\n  tableCellSeparator: \" | \",\n  tableRowSeparator: \"\\n\",\n}\n", "import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n", "import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" data-trix-validate-href required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n", "const undo = { interval: 5000 }\nexport default undo\n", "export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n", "export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nlet id = 0\n\nexport default class TrixObject extends BasicObject {\n  static fromJSONString(jsonString) {\n    return this.fromJSON(JSON.parse(jsonString))\n  }\n\n  constructor() {\n    super(...arguments)\n    this.id = ++id\n  }\n\n  hasSameConstructorAs(object) {\n    return this.constructor === object?.constructor\n  }\n\n  isEqualTo(object) {\n    return this === object\n  }\n\n  inspect() {\n    const parts = []\n    const contents = this.contentsForInspection() || {}\n\n    for (const key in contents) {\n      const value = contents[key]\n      parts.push(`${key}=${value}`)\n    }\n\n    return `#<${this.constructor.name}:${this.id}${parts.length ? ` ${parts.join(\", \")}` : \"\"}>`\n  }\n\n  contentsForInspection() {}\n\n  toJSONString() {\n    return JSON.stringify(this)\n  }\n\n  toUTF16String() {\n    return UTF16String.box(this)\n  }\n\n  getCacheKey() {\n    return this.id.toString()\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n", "import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const textArea = makeElement(\"textarea\", { dir: \"auto\", name: \"y\", dirName: \"y.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n  form.appendChild(textArea)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(textArea.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      textArea.value = string\n      return new FormData(form).get(textArea.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n", "import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n", "/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    const { nonce, content } = element\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n", "const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsMsOfficePaste = ({ dataTransfer }) => {\n  return dataTransfer.types.includes(\"Files\") &&\n    dataTransfer.types.includes(\"text/html\") &&\n    dataTransfer.getData(\"text/html\").includes(\"urn:schemas-microsoft-com:office:office\")\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n\nexport function shouldRenderInmmediatelyToDealWithIOSDictation(inputEvent) {\n  if (/iPhone|iPad/.test(navigator.userAgent)) {\n    // Handle garbled content and duplicated newlines when using dictation on iOS 18+. Upon dictation completion, iOS sends\n    // the list of insertText / insertParagraph events in a quick sequence. If we don't render\n    // the editor synchronously, the internal range fails to update and results in garbled content or duplicated newlines.\n    //\n    // This workaround is necessary because iOS doesn't send composing events as expected while dictating:\n    // https://bugs.webkit.org/show_bug.cgi?id=261764\n    return !inputEvent.inputType || inputEvent.inputType === \"insertParagraph\"\n  } else {\n    return false\n  }\n}\n", "export const defer = (fn) => setTimeout(fn, 1)\n", "/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n", "import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      document.addEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((sm) => sm !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    this.notifySelectionManagersOfSelectionChange()\n  }\n\n  reset() {\n    this.update()\n  }\n}\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n", "/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n?/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport { arraysAreEqual } from \"trix/core/helpers\"\n\nexport default class Hash extends TrixObject {\n  static fromCommonAttributesOfObjects(objects = []) {\n    if (!objects.length) {\n      return new this()\n    }\n    let hash = box(objects[0])\n    let keys = hash.getKeys()\n\n    objects.slice(1).forEach((object) => {\n      keys = hash.getKeysCommonToHash(box(object))\n      hash = hash.slice(keys)\n    })\n\n    return hash\n  }\n\n  static box(values) {\n    return box(values)\n  }\n\n  constructor(values = {}) {\n    super(...arguments)\n    this.values = copy(values)\n  }\n\n  add(key, value) {\n    return this.merge(object(key, value))\n  }\n\n  remove(key) {\n    return new Hash(copy(this.values, key))\n  }\n\n  get(key) {\n    return this.values[key]\n  }\n\n  has(key) {\n    return key in this.values\n  }\n\n  merge(values) {\n    return new Hash(merge(this.values, unbox(values)))\n  }\n\n  slice(keys) {\n    const values = {}\n\n    Array.from(keys).forEach((key) => {\n      if (this.has(key)) {\n        values[key] = this.values[key]\n      }\n    })\n\n    return new Hash(values)\n  }\n\n  getKeys() {\n    return Object.keys(this.values)\n  }\n\n  getKeysCommonToHash(hash) {\n    hash = box(hash)\n    return this.getKeys().filter((key) => this.values[key] === hash.values[key])\n  }\n\n  isEqualTo(values) {\n    return arraysAreEqual(this.toArray(), box(values).toArray())\n  }\n\n  isEmpty() {\n    return this.getKeys().length === 0\n  }\n\n  toArray() {\n    if (!this.array) {\n      const result = []\n      for (const key in this.values) {\n        const value = this.values[key]\n        result.push(result.push(key, value))\n      }\n      this.array = result.slice(0)\n    }\n\n    return this.array\n  }\n\n  toObject() {\n    return copy(this.values)\n  }\n\n  toJSON() {\n    return this.toObject()\n  }\n\n  contentsForInspection() {\n    return { values: JSON.stringify(this.values) }\n  }\n}\n\nconst object = function(key, value) {\n  const result = {}\n  result[key] = value\n  return result\n}\n\nconst merge = function(object, values) {\n  const result = copy(object)\n  for (const key in values) {\n    const value = values[key]\n    result[key] = value\n  }\n  return result\n}\n\nconst copy = function(object, keyToRemove) {\n  const result = {}\n  const sortedKeys = Object.keys(object).sort()\n\n  sortedKeys.forEach((key) => {\n    if (key !== keyToRemove) {\n      result[key] = object[key]\n    }\n  })\n\n  return result\n}\n\nconst box = function(object) {\n  if (object instanceof Hash) {\n    return object\n  } else {\n    return new Hash(object)\n  }\n}\n\nconst unbox = function(object) {\n  if (object instanceof Hash) {\n    return object.values\n  } else {\n    return object\n  }\n}\n", "export default class ObjectGroup {\n  static groupObjects(ungroupedObjects = [], { depth, asTree } = {}) {\n    let group\n    if (asTree) {\n      if (depth == null) {\n        depth = 0\n      }\n    }\n    const objects = []\n\n    Array.from(ungroupedObjects).forEach((object) => {\n      if (group) {\n        if (object.canBeGrouped?.(depth) && group[group.length - 1].canBeGroupedWith?.(object, depth)) {\n          group.push(object)\n          return\n        } else {\n          objects.push(new this(group, { depth, asTree }))\n          group = null\n        }\n      }\n\n      if (object.canBeGrouped?.(depth)) {\n        group = [ object ]\n      } else {\n        objects.push(object)\n      }\n    })\n\n    if (group) {\n      objects.push(new this(group, { depth, asTree }))\n    }\n    return objects\n  }\n\n  constructor(objects = [], { depth, asTree }) {\n    this.objects = objects\n    if (asTree) {\n      this.depth = depth\n      this.objects = this.constructor.groupObjects(this.objects, { asTree, depth: this.depth + 1 })\n    }\n  }\n\n  getObjects() {\n    return this.objects\n  }\n\n  getDepth() {\n    return this.depth\n  }\n\n  getCacheKey() {\n    const keys = [ \"objectGroup\" ]\n    Array.from(this.getObjects()).forEach((object) => {\n      keys.push(object.getCacheKey())\n    })\n    return keys.join(\"/\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class ObjectMap extends BasicObject {\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = {}\n\n    Array.from(objects).forEach((object) => {\n      const hash = JSON.stringify(object)\n      if (this.objects[hash] == null) {\n        this.objects[hash] = object\n      }\n    })\n  }\n\n  find(object) {\n    const hash = JSON.stringify(object)\n    return this.objects[hash]\n  }\n}\n", "export default class ElementStore {\n  constructor(elements) {\n    this.reset(elements)\n  }\n\n  add(element) {\n    const key = getKey(element)\n    this.elements[key] = element\n  }\n\n  remove(element) {\n    const key = getKey(element)\n    const value = this.elements[key]\n    if (value) {\n      delete this.elements[key]\n      return value\n    }\n  }\n\n  reset(elements = []) {\n    this.elements = {}\n    Array.from(elements).forEach((element) => {\n      this.add(element)\n    })\n    return elements\n  }\n}\n\nconst getKey = (element) => element.dataset.trixStoreKey\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class Operation extends BasicObject {\n  isPerforming() {\n    return this.performing === true\n  }\n\n  hasPerformed() {\n    return this.performed === true\n  }\n\n  hasSucceeded() {\n    return this.performed && this.succeeded\n  }\n\n  hasFailed() {\n    return this.performed && !this.succeeded\n  }\n\n  getPromise() {\n    if (!this.promise) {\n      this.promise = new Promise((resolve, reject) => {\n        this.performing = true\n        return this.perform((succeeded, result) => {\n          this.succeeded = succeeded\n          this.performing = false\n          this.performed = true\n\n          if (this.succeeded) {\n            resolve(result)\n          } else {\n            reject(result)\n          }\n        })\n      })\n    }\n\n    return this.promise\n  }\n\n  perform(callback) {\n    return callback(false)\n  }\n\n  release() {\n    this.promise?.cancel?.()\n    this.promise = null\n    this.performing = null\n    this.performed = null\n    this.succeeded = null\n  }\n}\n\nOperation.proxyMethod(\"getPromise().then\")\nOperation.proxyMethod(\"getPromise().catch\")\n", "import BasicObject from \"trix/core/basic_object\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\n\nexport default class ObjectView extends BasicObject {\n  constructor(object, options = {}) {\n    super(...arguments)\n    this.object = object\n    this.options = options\n    this.childViews = []\n    this.rootView = this\n  }\n\n  getNodes() {\n    if (!this.nodes) { this.nodes = this.createNodes() }\n    return this.nodes.map((node) => node.cloneNode(true))\n  }\n\n  invalidate() {\n    this.nodes = null\n    this.childViews = []\n    return this.parentView?.invalidate()\n  }\n\n  invalidateViewForObject(object) {\n    return this.findViewForObject(object)?.invalidate()\n  }\n\n  findOrCreateCachedChildView(viewClass, object, options) {\n    let view = this.getCachedViewForObject(object)\n    if (view) {\n      this.recordChildView(view)\n    } else {\n      view = this.createChildView(...arguments)\n      this.cacheViewForObject(view, object)\n    }\n    return view\n  }\n\n  createChildView(viewClass, object, options = {}) {\n    if (object instanceof ObjectGroup) {\n      options.viewClass = viewClass\n      viewClass = ObjectGroupView\n    }\n\n    const view = new viewClass(object, options)\n    return this.recordChildView(view)\n  }\n\n  recordChildView(view) {\n    view.parentView = this\n    view.rootView = this.rootView\n    this.childViews.push(view)\n    return view\n  }\n\n  getAllChildViews() {\n    let views = []\n\n    this.childViews.forEach((childView) => {\n      views.push(childView)\n      views = views.concat(childView.getAllChildViews())\n    })\n\n    return views\n  }\n\n  findElement() {\n    return this.findElementForObject(this.object)\n  }\n\n  findElementForObject(object) {\n    const id = object?.id\n    if (id) {\n      return this.rootView.element.querySelector(`[data-trix-id='${id}']`)\n    }\n  }\n\n  findViewForObject(object) {\n    for (const view of this.getAllChildViews()) {\n      if (view.object === object) {\n        return view\n      }\n    }\n  }\n\n  getViewCache() {\n    if (this.rootView === this) {\n      if (this.isViewCachingEnabled()) {\n        if (!this.viewCache) { this.viewCache = {} }\n        return this.viewCache\n      }\n    } else {\n      return this.rootView.getViewCache()\n    }\n  }\n\n  isViewCachingEnabled() {\n    return this.shouldCacheViews !== false\n  }\n\n  enableViewCaching() {\n    this.shouldCacheViews = true\n  }\n\n  disableViewCaching() {\n    this.shouldCacheViews = false\n  }\n\n  getCachedViewForObject(object) {\n    return this.getViewCache()?.[object.getCacheKey()]\n  }\n\n  cacheViewForObject(view, object) {\n    const cache = this.getViewCache()\n    if (cache) {\n      cache[object.getCacheKey()] = view\n    }\n  }\n\n  garbageCollectCachedViews() {\n    const cache = this.getViewCache()\n    if (cache) {\n      const views = this.getAllChildViews().concat(this)\n      const objectKeys = views.map((view) => view.object.getCacheKey())\n      for (const key in cache) {\n        if (!objectKeys.includes(key)) {\n          delete cache[key]\n        }\n      }\n    }\n  }\n}\n\nexport class ObjectGroupView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.objectGroup = this.object\n    this.viewClass = this.options.viewClass\n    delete this.options.viewClass\n  }\n\n  getChildViews() {\n    if (!this.childViews.length) {\n      Array.from(this.objectGroup.getObjects()).forEach((object) => {\n        this.findOrCreateCachedChildView(this.viewClass, object, this.options)\n      })\n    }\n    return this.childViews\n  }\n\n  createNodes() {\n    const element = this.createContainerElement()\n\n    this.getChildViews().forEach((view) => {\n      Array.from(view.getNodes()).forEach((node) => {\n        element.appendChild(node)\n      })\n    })\n\n    return [ element ]\n  }\n\n  createContainerElement(depth = this.objectGroup.getDepth()) {\n    return this.getChildViews()[0].createContainerElement(depth)\n  }\n}\n", "/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.5';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { nodeIsAttachmentElement, removeNode, tagName, walkTree } from \"trix/core/helpers\"\nimport DOMPurify from \"dompurify\"\nimport * as config from \"trix/config\"\n\nDOMPurify.addHook(\"uponSanitizeAttribute\", function (node, data) {\n  const allowedAttributePattern = /^data-trix-/\n  if (allowedAttributePattern.test(data.attrName)) {\n    data.forceKeepAttr = true\n  }\n})\n\nconst DEFAULT_ALLOWED_ATTRIBUTES = \"style href src width height language class\".split(\" \")\nconst DEFAULT_FORBIDDEN_PROTOCOLS = \"javascript:\".split(\" \")\nconst DEFAULT_FORBIDDEN_ELEMENTS = \"script iframe form noscript\".split(\" \")\n\nexport default class HTMLSanitizer extends BasicObject {\n  static setHTML(element, html, options) {\n    const sanitizedElement = new this(html, options).sanitize()\n    const sanitizedHtml = sanitizedElement.getHTML ? sanitizedElement.getHTML() : sanitizedElement.outerHTML\n    element.innerHTML = sanitizedHtml\n  }\n\n  static sanitize(html, options) {\n    const sanitizer = new this(html, options)\n    sanitizer.sanitize()\n    return sanitizer\n  }\n\n  constructor(html, { allowedAttributes, forbiddenProtocols, forbiddenElements, purifyOptions } = {}) {\n    super(...arguments)\n    this.allowedAttributes = allowedAttributes || DEFAULT_ALLOWED_ATTRIBUTES\n    this.forbiddenProtocols = forbiddenProtocols || DEFAULT_FORBIDDEN_PROTOCOLS\n    this.forbiddenElements = forbiddenElements || DEFAULT_FORBIDDEN_ELEMENTS\n    this.purifyOptions = purifyOptions || {}\n    this.body = createBodyElementForHTML(html)\n  }\n\n  sanitize() {\n    this.sanitizeElements()\n    this.normalizeListElementNesting()\n    const purifyConfig = Object.assign({}, config.dompurify, this.purifyOptions)\n    DOMPurify.setConfig(purifyConfig)\n    this.body = DOMPurify.sanitize(this.body)\n\n    return this.body\n  }\n\n  getHTML() {\n    return this.body.innerHTML\n  }\n\n  getBody() {\n    return this.body\n  }\n\n  // Private\n\n  sanitizeElements() {\n    const walker = walkTree(this.body)\n    const nodesToRemove = []\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (this.elementIsRemovable(node)) {\n            nodesToRemove.push(node)\n          } else {\n            this.sanitizeElement(node)\n          }\n          break\n        case Node.COMMENT_NODE:\n          nodesToRemove.push(node)\n          break\n      }\n    }\n\n    nodesToRemove.forEach((node) => removeNode(node))\n\n    return this.body\n  }\n\n  sanitizeElement(element) {\n    if (element.hasAttribute(\"href\")) {\n      if (this.forbiddenProtocols.includes(element.protocol)) {\n        element.removeAttribute(\"href\")\n      }\n    }\n\n    Array.from(element.attributes).forEach(({ name }) => {\n      if (!this.allowedAttributes.includes(name) && name.indexOf(\"data-trix\") !== 0) {\n        element.removeAttribute(name)\n      }\n    })\n\n    return element\n  }\n\n  normalizeListElementNesting() {\n    Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach((listElement) => {\n      const previousElement = listElement.previousElementSibling\n      if (previousElement) {\n        if (tagName(previousElement) === \"li\") {\n          previousElement.appendChild(listElement)\n        }\n      }\n    })\n\n    return this.body\n  }\n\n  elementIsRemovable(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    return this.elementIsForbidden(element) || this.elementIsntSerializable(element)\n  }\n\n  elementIsForbidden(element) {\n    return this.forbiddenElements.includes(tagName(element))\n  }\n\n  elementIsntSerializable(element) {\n    return element.getAttribute(\"data-trix-serialize\") === \"false\" && !nodeIsAttachmentElement(element)\n  }\n}\n\nconst createBodyElementForHTML = function(html = \"\") {\n  // Remove everything after </html>\n  html = html.replace(/<\\/html[^>]*>[^]*$/i, \"</html>\")\n  const doc = document.implementation.createHTMLDocument(\"\")\n  doc.documentElement.innerHTML = html\n\n  Array.from(doc.head.querySelectorAll(\"style\")).forEach((element) => {\n    doc.body.appendChild(element)\n  })\n\n  return doc.body\n}\n", "import * as config from \"trix/config\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { copyObject, makeElement } from \"trix/core/helpers\"\nimport ObjectView from \"trix/views/object_view\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nconst { css } = config\n\nexport default class AttachmentView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.attachment = this.object\n    this.attachment.uploadProgressDelegate = this\n    this.attachmentPiece = this.options.piece\n  }\n\n  createContentNodes() {\n    return []\n  }\n\n  createNodes() {\n    let innerElement\n    const figure = innerElement = makeElement({\n      tagName: \"figure\",\n      className: this.getClassName(),\n      data: this.getData(),\n      editable: false,\n    })\n\n    const href = this.getHref()\n    if (href) {\n      innerElement = makeElement({ tagName: \"a\", editable: false, attributes: { href, tabindex: -1 } })\n      figure.appendChild(innerElement)\n    }\n\n    if (this.attachment.hasContent()) {\n      HTMLSanitizer.setHTML(innerElement, this.attachment.getContent())\n    } else {\n      this.createContentNodes().forEach((node) => {\n        innerElement.appendChild(node)\n      })\n    }\n\n    innerElement.appendChild(this.createCaptionElement())\n\n    if (this.attachment.isPending()) {\n      this.progressElement = makeElement({\n        tagName: \"progress\",\n        attributes: {\n          class: css.attachmentProgress,\n          value: this.attachment.getUploadProgress(),\n          max: 100,\n        },\n        data: {\n          trixMutable: true,\n          trixStoreKey: [ \"progressElement\", this.attachment.id ].join(\"/\"),\n        },\n      })\n\n      figure.appendChild(this.progressElement)\n    }\n\n    return [ createCursorTarget(\"left\"), figure, createCursorTarget(\"right\") ]\n  }\n\n  createCaptionElement() {\n    const figcaption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    const caption = this.attachmentPiece.getCaption()\n    if (caption) {\n      figcaption.classList.add(`${css.attachmentCaption}--edited`)\n      figcaption.textContent = caption\n    } else {\n      let name, size\n      const captionConfig = this.getCaptionConfig()\n      if (captionConfig.name) {\n        name = this.attachment.getFilename()\n      }\n      if (captionConfig.size) {\n        size = this.attachment.getFormattedFilesize()\n      }\n\n      if (name) {\n        const nameElement = makeElement({ tagName: \"span\", className: css.attachmentName, textContent: name })\n        figcaption.appendChild(nameElement)\n      }\n\n      if (size) {\n        if (name) {\n          figcaption.appendChild(document.createTextNode(\" \"))\n        }\n        const sizeElement = makeElement({ tagName: \"span\", className: css.attachmentSize, textContent: size })\n        figcaption.appendChild(sizeElement)\n      }\n    }\n\n    return figcaption\n  }\n\n  getClassName() {\n    const names = [ css.attachment, `${css.attachment}--${this.attachment.getType()}` ]\n    const extension = this.attachment.getExtension()\n    if (extension) {\n      names.push(`${css.attachment}--${extension}`)\n    }\n    return names.join(\" \")\n  }\n\n  getData() {\n    const data = {\n      trixAttachment: JSON.stringify(this.attachment),\n      trixContentType: this.attachment.getContentType(),\n      trixId: this.attachment.id,\n    }\n\n    const { attributes } = this.attachmentPiece\n    if (!attributes.isEmpty()) {\n      data.trixAttributes = JSON.stringify(attributes)\n    }\n\n    if (this.attachment.isPending()) {\n      data.trixSerialize = false\n    }\n\n    return data\n  }\n\n  getHref() {\n    if (!htmlContainsTagName(this.attachment.getContent(), \"a\")) {\n      return this.attachment.getHref()\n    }\n  }\n\n  getCaptionConfig() {\n    const type = this.attachment.getType()\n    const captionConfig = copyObject(config.attachments[type]?.caption)\n    if (type === \"file\") {\n      captionConfig.name = true\n    }\n    return captionConfig\n  }\n\n  findProgressElement() {\n    return this.findElement()?.querySelector(\"progress\")\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeUploadProgress() {\n    const value = this.attachment.getUploadProgress()\n    const progressElement = this.findProgressElement()\n    if (progressElement) {\n      progressElement.value = value\n    }\n  }\n}\n\nconst createCursorTarget = (name) =>\n  makeElement({\n    tagName: \"span\",\n    textContent: ZERO_WIDTH_SPACE,\n    data: {\n      trixCursorTarget: name,\n      trixSerialize: false,\n    },\n  })\n\nconst htmlContainsTagName = function(html, tagName) {\n  const div = makeElement(\"div\")\n  HTMLSanitizer.setHTML(div, html || \"\")\n  return div.querySelector(tagName)\n}\n", "import * as config from \"trix/config\"\nimport { makeElement } from \"trix/core/helpers\"\n\nimport AttachmentView from \"trix/views/attachment_view\"\n\nexport default class PreviewableAttachmentView extends AttachmentView {\n  constructor() {\n    super(...arguments)\n    this.attachment.previewDelegate = this\n  }\n\n  createContentNodes() {\n    this.image = makeElement({\n      tagName: \"img\",\n      attributes: {\n        src: \"\",\n      },\n      data: {\n        trixMutable: true,\n      },\n    })\n\n    this.refresh(this.image)\n    return [ this.image ]\n  }\n\n  createCaptionElement() {\n    const figcaption = super.createCaptionElement(...arguments)\n    if (!figcaption.textContent) {\n      figcaption.setAttribute(\"data-trix-placeholder\", config.lang.captionPlaceholder)\n    }\n    return figcaption\n  }\n\n  refresh(image) {\n    if (!image) { image = this.findElement()?.querySelector(\"img\") }\n    if (image) {\n      return this.updateAttributesForImage(image)\n    }\n  }\n\n  updateAttributesForImage(image) {\n    const url = this.attachment.getURL()\n    const previewURL = this.attachment.getPreviewURL()\n    image.src = previewURL || url\n\n    if (previewURL === url) {\n      image.removeAttribute(\"data-trix-serialized-attributes\")\n    } else {\n      const serializedAttributes = JSON.stringify({ src: url })\n      image.setAttribute(\"data-trix-serialized-attributes\", serializedAttributes)\n    }\n\n    const width = this.attachment.getWidth()\n    const height = this.attachment.getHeight()\n\n    if (width != null) {\n      image.width = width\n    }\n    if (height != null) {\n      image.height = height\n    }\n\n    const storeKey = [ \"imageElement\", this.attachment.id, image.src, image.width, image.height ].join(\"/\")\n    image.dataset.trixStoreKey = storeKey\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes() {\n    this.refresh(this.image)\n    return this.refresh()\n  }\n}\n", "/* eslint-disable\n    no-useless-escape,\n    no-var,\n*/\nimport { NON_BREAKING_SPACE } from \"trix/constants\"\n\nimport ObjectView from \"trix/views/object_view\"\nimport AttachmentView from \"trix/views/attachment_view\"\nimport PreviewableAttachmentView from \"trix/views/previewable_attachment_view\"\n\nimport { findInnerElement, getTextConfig, makeElement } from \"trix/core/helpers\"\n\nexport default class PieceView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.piece = this.object\n    this.attributes = this.piece.getAttributes()\n    this.textConfig = this.options.textConfig\n    this.context = this.options.context\n\n    if (this.piece.attachment) {\n      this.attachment = this.piece.attachment\n    } else {\n      this.string = this.piece.toString()\n    }\n  }\n\n  createNodes() {\n    let nodes = this.attachment ? this.createAttachmentNodes() : this.createStringNodes()\n    const element = this.createElement()\n    if (element) {\n      const innerElement = findInnerElement(element)\n      Array.from(nodes).forEach((node) => {\n        innerElement.appendChild(node)\n      })\n      nodes = [ element ]\n    }\n    return nodes\n  }\n\n  createAttachmentNodes() {\n    const constructor = this.attachment.isPreviewable() ? PreviewableAttachmentView : AttachmentView\n\n    const view = this.createChildView(constructor, this.piece.attachment, { piece: this.piece })\n    return view.getNodes()\n  }\n\n  createStringNodes() {\n    if (this.textConfig?.plaintext) {\n      return [ document.createTextNode(this.string) ]\n    } else {\n      const nodes = []\n      const iterable = this.string.split(\"\\n\")\n      for (let index = 0; index < iterable.length; index++) {\n        const substring = iterable[index]\n        if (index > 0) {\n          const element = makeElement(\"br\")\n          nodes.push(element)\n        }\n\n        if (substring.length) {\n          const node = document.createTextNode(this.preserveSpaces(substring))\n          nodes.push(node)\n        }\n      }\n      return nodes\n    }\n  }\n\n  createElement() {\n    let element, key, value\n    const styles = {}\n\n    for (key in this.attributes) {\n      value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.tagName) {\n          var innerElement\n          const pendingElement = makeElement(config.tagName)\n\n          if (innerElement) {\n            innerElement.appendChild(pendingElement)\n            innerElement = pendingElement\n          } else {\n            element = innerElement = pendingElement\n          }\n        }\n\n        if (config.styleProperty) {\n          styles[config.styleProperty] = value\n        }\n\n        if (config.style) {\n          for (key in config.style) {\n            value = config.style[key]\n            styles[key] = value\n          }\n        }\n      }\n    }\n\n    if (Object.keys(styles).length) {\n      if (!element) { element = makeElement(\"span\") }\n      for (key in styles) {\n        value = styles[key]\n        element.style[key] = value\n      }\n    }\n    return element\n  }\n\n  createContainerElement() {\n    for (const key in this.attributes) {\n      const value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.groupTagName) {\n          const attributes = {}\n          attributes[key] = value\n          return makeElement(config.groupTagName, attributes)\n        }\n      }\n    }\n  }\n\n  preserveSpaces(string) {\n    if (this.context.isLast) {\n      string = string.replace(/\\ $/, NON_BREAKING_SPACE)\n    }\n\n    string = string\n      .replace(/(\\S)\\ {3}(\\S)/g, `$1 ${NON_BREAKING_SPACE} $2`)\n      .replace(/\\ {2}/g, `${NON_BREAKING_SPACE} `)\n      .replace(/\\ {2}/g, ` ${NON_BREAKING_SPACE}`)\n\n    if (this.context.isFirst || this.context.followsWhitespace) {\n      string = string.replace(/^\\ /, NON_BREAKING_SPACE)\n    }\n\n    return string\n  }\n}\n", "/* eslint-disable\n    no-var,\n*/\nimport ObjectView from \"trix/views/object_view\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport PieceView from \"trix/views/piece_view\"\n\nexport default class TextView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.text = this.object\n    this.textConfig = this.options.textConfig\n  }\n\n  createNodes() {\n    const nodes = []\n    const pieces = ObjectGroup.groupObjects(this.getPieces())\n    const lastIndex = pieces.length - 1\n\n    for (let index = 0; index < pieces.length; index++) {\n      const piece = pieces[index]\n      const context = {}\n      if (index === 0) {\n        context.isFirst = true\n      }\n      if (index === lastIndex) {\n        context.isLast = true\n      }\n      if (endsWithWhitespace(previousPiece)) {\n        context.followsWhitespace = true\n      }\n\n      const view = this.findOrCreateCachedChildView(PieceView, piece, { textConfig: this.textConfig, context })\n      nodes.push(...Array.from(view.getNodes() || []))\n\n      var previousPiece = piece\n    }\n    return nodes\n  }\n\n  getPieces() {\n    return Array.from(this.text.getPieces()).filter((piece) => !piece.hasAttribute(\"blockBreak\"))\n  }\n}\n\nconst endsWithWhitespace = (piece) => /\\s$/.test(piece?.toString())\n", "import * as config from \"trix/config\"\nimport ObjectView from \"trix/views/object_view\"\nimport TextView from \"trix/views/text_view\"\n\nimport { getBlockConfig, makeElement } from \"trix/core/helpers\"\nconst { css } = config\n\nexport default class BlockView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.block = this.object\n    this.attributes = this.block.getAttributes()\n  }\n\n  createNodes() {\n    const comment = document.createComment(\"block\")\n    const nodes = [ comment ]\n    if (this.block.isEmpty()) {\n      nodes.push(makeElement(\"br\"))\n    } else {\n      const textConfig = getBlockConfig(this.block.getLastAttribute())?.text\n      const textView = this.findOrCreateCachedChildView(TextView, this.block.text, { textConfig })\n      nodes.push(...Array.from(textView.getNodes() || []))\n      if (this.shouldAddExtraNewlineElement()) {\n        nodes.push(makeElement(\"br\"))\n      }\n    }\n\n    if (this.attributes.length) {\n      return nodes\n    } else {\n      let attributes\n      const { tagName } = config.blockAttributes.default\n      if (this.block.isRTL()) {\n        attributes = { dir: \"rtl\" }\n      }\n\n      const element = makeElement({ tagName, attributes })\n      nodes.forEach((node) => element.appendChild(node))\n      return [ element ]\n    }\n  }\n\n  createContainerElement(depth) {\n    const attributes = {}\n    let className\n    const attributeName = this.attributes[depth]\n\n    const { tagName, htmlAttributes = [] } = getBlockConfig(attributeName)\n\n    if (depth === 0 && this.block.isRTL()) {\n      Object.assign(attributes, { dir: \"rtl\" })\n    }\n\n    if (attributeName === \"attachmentGallery\") {\n      const size = this.block.getBlockBreakPosition()\n      className = `${css.attachmentGallery} ${css.attachmentGallery}--${size}`\n    }\n\n    Object.entries(this.block.htmlAttributes).forEach(([ name, value ]) => {\n      if (htmlAttributes.includes(name)) {\n        attributes[name] = value\n      }\n    })\n\n    return makeElement({ tagName, className, attributes })\n  }\n\n  // A single <br> at the end of a block element has no visual representation\n  // so add an extra one.\n  shouldAddExtraNewlineElement() {\n    return /\\n\\n$/.test(this.block.toString())\n  }\n}\n", "import { makeElement } from \"trix/core/helpers\"\n\nimport ElementStore from \"trix/core/collections/element_store\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport ObjectView from \"trix/views/object_view\"\nimport BlockView from \"trix/views/block_view\"\n\nimport { defer } from \"trix/core/helpers\"\n\nexport default class DocumentView extends ObjectView {\n  static render(document) {\n    const element = makeElement(\"div\")\n    const view = new this(document, { element })\n    view.render()\n    view.sync()\n    return element\n  }\n\n  constructor() {\n    super(...arguments)\n    this.element = this.options.element\n    this.elementStore = new ElementStore()\n    this.setDocument(this.object)\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = this.object = document\n    }\n  }\n\n  render() {\n    this.childViews = []\n\n    this.shadowElement = makeElement(\"div\")\n\n    if (!this.document.isEmpty()) {\n      const objects = ObjectGroup.groupObjects(this.document.getBlocks(), { asTree: true })\n\n      Array.from(objects).forEach((object) => {\n        const view = this.findOrCreateCachedChildView(BlockView, object)\n        Array.from(view.getNodes()).map((node) => this.shadowElement.appendChild(node))\n      })\n    }\n  }\n\n  isSynced() {\n    return elementsHaveEqualHTML(this.shadowElement, this.element)\n  }\n\n  sync() {\n    const fragment = this.createDocumentFragmentForSync()\n    while (this.element.lastChild) {\n      this.element.removeChild(this.element.lastChild)\n    }\n    this.element.appendChild(fragment)\n    return this.didSync()\n  }\n\n  // Private\n\n  didSync() {\n    this.elementStore.reset(findStoredElements(this.element))\n    return defer(() => this.garbageCollectCachedViews())\n  }\n\n  createDocumentFragmentForSync() {\n    const fragment = document.createDocumentFragment()\n\n    Array.from(this.shadowElement.childNodes).forEach((node) => {\n      fragment.appendChild(node.cloneNode(true))\n    })\n\n    Array.from(findStoredElements(fragment)).forEach((element) => {\n      const storedElement = this.elementStore.remove(element)\n      if (storedElement) {\n        element.parentNode.replaceChild(storedElement, element)\n      }\n    })\n\n    return fragment\n  }\n}\n\nconst findStoredElements = (element) => element.querySelectorAll(\"[data-trix-store-key]\")\n\nconst elementsHaveEqualHTML = (element, otherElement) =>\n  ignoreSpaces(element.innerHTML) === ignoreSpaces(otherElement.innerHTML)\n\nconst ignoreSpaces = (html) => html.replace(/&nbsp;/g, \" \")\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Piece extends TrixObject {\n  static types = {}\n\n  static registerType(type, constructor) {\n    constructor.type = type\n    this.types[type] = constructor\n  }\n\n  static fromJSON(pieceJSON) {\n    const constructor = this.types[pieceJSON.type]\n    if (constructor) {\n      return constructor.fromJSON(pieceJSON)\n    }\n  }\n\n  constructor(value, attributes = {}) {\n    super(...arguments)\n    this.attributes = Hash.box(attributes)\n  }\n\n  copyWithAttributes(attributes) {\n    return new this.constructor(this.getValue(), attributes)\n  }\n\n  copyWithAdditionalAttributes(attributes) {\n    return this.copyWithAttributes(this.attributes.merge(attributes))\n  }\n\n  copyWithoutAttribute(attribute) {\n    return this.copyWithAttributes(this.attributes.remove(attribute))\n  }\n\n  copy() {\n    return this.copyWithAttributes(this.attributes)\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  getAttributesHash() {\n    return this.attributes\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  hasSameStringValueAsPiece(piece) {\n    return piece && this.toString() === piece.toString()\n  }\n\n  hasSameAttributesAsPiece(piece) {\n    return piece && (this.attributes === piece.attributes || this.attributes.isEqualTo(piece.attributes))\n  }\n\n  isBlockBreak() {\n    return false\n  }\n\n  isEqualTo(piece) {\n    return (\n      super.isEqualTo(...arguments) ||\n      this.hasSameConstructorAs(piece) &&\n        this.hasSameStringValueAsPiece(piece) &&\n        this.hasSameAttributesAsPiece(piece)\n    )\n  }\n\n  isEmpty() {\n    return this.length === 0\n  }\n\n  isSerializable() {\n    return true\n  }\n\n  toJSON() {\n    return {\n      type: this.constructor.type,\n      attributes: this.getAttributes(),\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      type: this.constructor.type,\n      attributes: this.attributes.inspect(),\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped() {\n    return this.hasAttribute(\"href\")\n  }\n\n  canBeGroupedWith(piece) {\n    return this.getAttribute(\"href\") === piece.getAttribute(\"href\")\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.length\n  }\n\n  canBeConsolidatedWith(piece) {\n    return false\n  }\n}\n", "import Operation from \"trix/core/utilities/operation\"\n\nexport default class ImagePreloadOperation extends Operation {\n  constructor(url) {\n    super(...arguments)\n    this.url = url\n  }\n\n  perform(callback) {\n    const image = new Image()\n\n    image.onload = () => {\n      image.width = this.width = image.naturalWidth\n      image.height = this.height = image.naturalHeight\n      return callback(true, image)\n    }\n\n    image.onerror = () => callback(false)\n\n    image.src = this.url\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\nimport ImagePreloadOperation from \"trix/operations/image_preload_operation\"\n\nexport default class Attachment extends TrixObject {\n  static previewablePattern = /^image(\\/(gif|png|webp|jpe?g)|$)/\n\n  static attachmentForFile(file) {\n    const attributes = this.attributesForFile(file)\n    const attachment = new this(attributes)\n    attachment.setFile(file)\n    return attachment\n  }\n\n  static attributesForFile(file) {\n    return new Hash({\n      filename: file.name,\n      filesize: file.size,\n      contentType: file.type,\n    })\n  }\n\n  static fromJSON(attachmentJSON) {\n    return new this(attachmentJSON)\n  }\n\n  constructor(attributes = {}) {\n    super(attributes)\n    this.releaseFile = this.releaseFile.bind(this)\n    this.attributes = Hash.box(attributes)\n    this.didChangeAttributes()\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  setAttributes(attributes = {}) {\n    const newAttributes = this.attributes.merge(attributes)\n    if (!this.attributes.isEqualTo(newAttributes)) {\n      this.attributes = newAttributes\n      this.didChangeAttributes()\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangeAttributes?.(this)\n    }\n  }\n\n  didChangeAttributes() {\n    if (this.isPreviewable()) {\n      return this.preloadURL()\n    }\n  }\n\n  isPending() {\n    return this.file != null && !(this.getURL() || this.getHref())\n  }\n\n  isPreviewable() {\n    if (this.attributes.has(\"previewable\")) {\n      return this.attributes.get(\"previewable\")\n    } else {\n      return Attachment.previewablePattern.test(this.getContentType())\n    }\n  }\n\n  getType() {\n    if (this.hasContent()) {\n      return \"content\"\n    } else if (this.isPreviewable()) {\n      return \"preview\"\n    } else {\n      return \"file\"\n    }\n  }\n\n  getURL() {\n    return this.attributes.get(\"url\")\n  }\n\n  getHref() {\n    return this.attributes.get(\"href\")\n  }\n\n  getFilename() {\n    return this.attributes.get(\"filename\") || \"\"\n  }\n\n  getFilesize() {\n    return this.attributes.get(\"filesize\")\n  }\n\n  getFormattedFilesize() {\n    const filesize = this.attributes.get(\"filesize\")\n    if (typeof filesize === \"number\") {\n      return config.fileSize.formatter(filesize)\n    } else {\n      return \"\"\n    }\n  }\n\n  getExtension() {\n    return this.getFilename()\n      .match(/\\.(\\w+)$/)?.[1]\n      .toLowerCase()\n  }\n\n  getContentType() {\n    return this.attributes.get(\"contentType\")\n  }\n\n  hasContent() {\n    return this.attributes.has(\"content\")\n  }\n\n  getContent() {\n    return this.attributes.get(\"content\")\n  }\n\n  getWidth() {\n    return this.attributes.get(\"width\")\n  }\n\n  getHeight() {\n    return this.attributes.get(\"height\")\n  }\n\n  getFile() {\n    return this.file\n  }\n\n  setFile(file) {\n    this.file = file\n    if (this.isPreviewable()) {\n      return this.preloadFile()\n    }\n  }\n\n  releaseFile() {\n    this.releasePreloadedFile()\n    this.file = null\n  }\n\n  getUploadProgress() {\n    return this.uploadProgress != null ? this.uploadProgress : 0\n  }\n\n  setUploadProgress(value) {\n    if (this.uploadProgress !== value) {\n      this.uploadProgress = value\n      return this.uploadProgressDelegate?.attachmentDidChangeUploadProgress?.(this)\n    }\n  }\n\n  toJSON() {\n    return this.getAttributes()\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attributes.getCacheKey(), this.getPreviewURL() ].join(\"/\")\n  }\n\n  // Previewable\n\n  getPreviewURL() {\n    return this.previewURL || this.preloadingURL\n  }\n\n  setPreviewURL(url) {\n    if (url !== this.getPreviewURL()) {\n      this.previewURL = url\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangePreviewURL?.(this)\n    }\n  }\n\n  preloadURL() {\n    return this.preload(this.getURL(), this.releaseFile)\n  }\n\n  preloadFile() {\n    if (this.file) {\n      this.fileObjectURL = URL.createObjectURL(this.file)\n      return this.preload(this.fileObjectURL)\n    }\n  }\n\n  releasePreloadedFile() {\n    if (this.fileObjectURL) {\n      URL.revokeObjectURL(this.fileObjectURL)\n      this.fileObjectURL = null\n    }\n  }\n\n  preload(url, callback) {\n    if (url && url !== this.getPreviewURL()) {\n      this.preloadingURL = url\n      const operation = new ImagePreloadOperation(url)\n      return operation\n        .then(({ width, height }) => {\n          if (!this.getWidth() || !this.getHeight()) {\n            this.setAttributes({ width, height })\n          }\n          this.preloadingURL = null\n          this.setPreviewURL(url)\n          return callback?.()\n        })\n        .catch(() => {\n          this.preloadingURL = null\n          return callback?.()\n        })\n    }\n  }\n}\n", "import { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport Attachment from \"trix/models/attachment\"\nimport Piece from \"trix/models/piece\"\n\nexport default class AttachmentPiece extends Piece {\n  static permittedAttributes = [ \"caption\", \"presentation\" ]\n\n  static fromJSON(pieceJSON) {\n    return new this(Attachment.fromJSON(pieceJSON.attachment), pieceJSON.attributes)\n  }\n\n  constructor(attachment) {\n    super(...arguments)\n    this.attachment = attachment\n    this.length = 1\n    this.ensureAttachmentExclusivelyHasAttribute(\"href\")\n    if (!this.attachment.hasContent()) {\n      this.removeProhibitedAttributes()\n    }\n  }\n\n  ensureAttachmentExclusivelyHasAttribute(attribute) {\n    if (this.hasAttribute(attribute)) {\n      if (!this.attachment.hasAttribute(attribute)) {\n        this.attachment.setAttributes(this.attributes.slice([ attribute ]))\n      }\n      this.attributes = this.attributes.remove(attribute)\n    }\n  }\n\n  removeProhibitedAttributes() {\n    const attributes = this.attributes.slice(AttachmentPiece.permittedAttributes)\n    if (!attributes.isEqualTo(this.attributes)) {\n      this.attributes = attributes\n    }\n  }\n\n  getValue() {\n    return this.attachment\n  }\n\n  isSerializable() {\n    return !this.attachment.isPending()\n  }\n\n  getCaption() {\n    return this.attributes.get(\"caption\") || \"\"\n  }\n\n  isEqualTo(piece) {\n    return super.isEqualTo(piece) && this.attachment.id === piece?.attachment?.id\n  }\n\n  toString() {\n    return OBJECT_REPLACEMENT_CHARACTER\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.attachment = this.attachment\n    return json\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attachment.getCacheKey() ].join(\"/\")\n  }\n\n  toConsole() {\n    return JSON.stringify(this.toString())\n  }\n}\n\nPiece.registerType(\"attachment\", AttachmentPiece)\n", "import Piece from \"trix/models/piece\"\n\nimport { normalizeNewlines } from \"trix/core/helpers\"\n\nexport default class StringPiece extends Piece {\n  static fromJSON(pieceJSON) {\n    return new this(pieceJSON.string, pieceJSON.attributes)\n  }\n\n  constructor(string) {\n    super(...arguments)\n    this.string = normalizeNewlines(string)\n    this.length = this.string.length\n  }\n\n  getValue() {\n    return this.string\n  }\n\n  toString() {\n    return this.string.toString()\n  }\n\n  isBlockBreak() {\n    return this.toString() === \"\\n\" && this.getAttribute(\"blockBreak\") === true\n  }\n\n  toJSON() {\n    const result = super.toJSON(...arguments)\n    result.string = this.string\n    return result\n  }\n\n  // Splittable\n\n  canBeConsolidatedWith(piece) {\n    return piece && this.hasSameConstructorAs(piece) && this.hasSameAttributesAsPiece(piece)\n  }\n\n  consolidateWith(piece) {\n    return new this.constructor(this.toString() + piece.toString(), this.attributes)\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.length) {\n      left = this\n      right = null\n    } else {\n      left = new this.constructor(this.string.slice(0, offset), this.attributes)\n      right = new this.constructor(this.string.slice(offset), this.attributes)\n    }\n    return [ left, right ]\n  }\n\n  toConsole() {\n    let { string } = this\n    if (string.length > 15) {\n      string = string.slice(0, 14) + \"\"\n    }\n    return JSON.stringify(string.toString())\n  }\n}\n\nPiece.registerType(\"string\", StringPiece)\n", "/* eslint-disable\n    prefer-const,\n*/\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { spliceArray } from \"trix/core/helpers\"\n\nexport default class SplittableList extends TrixObject {\n  static box(objects) {\n    if (objects instanceof this) {\n      return objects\n    } else {\n      return new this(objects)\n    }\n  }\n\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = objects.slice(0)\n    this.length = this.objects.length\n  }\n\n  indexOf(object) {\n    return this.objects.indexOf(object)\n  }\n\n  splice(...args) {\n    return new this.constructor(spliceArray(this.objects, ...args))\n  }\n\n  eachObject(callback) {\n    return this.objects.map((object, index) => callback(object, index))\n  }\n\n  insertObjectAtIndex(object, index) {\n    return this.splice(index, 0, object)\n  }\n\n  insertSplittableListAtIndex(splittableList, index) {\n    return this.splice(index, 0, ...splittableList.objects)\n  }\n\n  insertSplittableListAtPosition(splittableList, position) {\n    const [ objects, index ] = this.splitObjectAtPosition(position)\n    return new this.constructor(objects).insertSplittableListAtIndex(splittableList, index)\n  }\n\n  editObjectAtIndex(index, callback) {\n    return this.replaceObjectAtIndex(callback(this.objects[index]), index)\n  }\n\n  replaceObjectAtIndex(object, index) {\n    return this.splice(index, 1, object)\n  }\n\n  removeObjectAtIndex(index) {\n    return this.splice(index, 1)\n  }\n\n  getObjectAtIndex(index) {\n    return this.objects[index]\n  }\n\n  getSplittableListInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects.slice(leftIndex, rightIndex + 1))\n  }\n\n  selectSplittableList(test) {\n    const objects = this.objects.filter((object) => test(object))\n    return new this.constructor(objects)\n  }\n\n  removeObjectsInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects).splice(leftIndex, rightIndex - leftIndex + 1)\n  }\n\n  transformObjectsInRange(range, transform) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    const transformedObjects = objects.map((object, index) =>\n      leftIndex <= index && index <= rightIndex ? transform(object) : object\n    )\n    return new this.constructor(transformedObjects)\n  }\n\n  splitObjectsAtRange(range) {\n    let rightOuterIndex\n    let [ objects, leftInnerIndex, offset ] = this.splitObjectAtPosition(startOfRange(range))\n    ;[ objects, rightOuterIndex ] = new this.constructor(objects).splitObjectAtPosition(endOfRange(range) + offset)\n\n    return [ objects, leftInnerIndex, rightOuterIndex - 1 ]\n  }\n\n  getObjectAtPosition(position) {\n    const { index } = this.findIndexAndOffsetAtPosition(position)\n    return this.objects[index]\n  }\n\n  splitObjectAtPosition(position) {\n    let splitIndex, splitOffset\n    const { index, offset } = this.findIndexAndOffsetAtPosition(position)\n    const objects = this.objects.slice(0)\n    if (index != null) {\n      if (offset === 0) {\n        splitIndex = index\n        splitOffset = 0\n      } else {\n        const object = this.getObjectAtIndex(index)\n        const [ leftObject, rightObject ] = object.splitAtOffset(offset)\n        objects.splice(index, 1, leftObject, rightObject)\n        splitIndex = index + 1\n        splitOffset = leftObject.getLength() - offset\n      }\n    } else {\n      splitIndex = objects.length\n      splitOffset = 0\n    }\n\n    return [ objects, splitIndex, splitOffset ]\n  }\n\n  consolidate() {\n    const objects = []\n    let pendingObject = this.objects[0]\n\n    this.objects.slice(1).forEach((object) => {\n      if (pendingObject.canBeConsolidatedWith?.(object)) {\n        pendingObject = pendingObject.consolidateWith(object)\n      } else {\n        objects.push(pendingObject)\n        pendingObject = object\n      }\n    })\n\n    if (pendingObject) {\n      objects.push(pendingObject)\n    }\n\n    return new this.constructor(objects)\n  }\n\n  consolidateFromIndexToIndex(startIndex, endIndex) {\n    const objects = this.objects.slice(0)\n    const objectsInRange = objects.slice(startIndex, endIndex + 1)\n    const consolidatedInRange = new this.constructor(objectsInRange).consolidate().toArray()\n    return this.splice(startIndex, objectsInRange.length, ...consolidatedInRange)\n  }\n\n  findIndexAndOffsetAtPosition(position) {\n    let index\n    let currentPosition = 0\n    for (index = 0; index < this.objects.length; index++) {\n      const object = this.objects[index]\n      const nextPosition = currentPosition + object.getLength()\n      if (currentPosition <= position && position < nextPosition) {\n        return { index, offset: position - currentPosition }\n      }\n      currentPosition = nextPosition\n    }\n    return { index: null, offset: null }\n  }\n\n  findPositionAtIndexAndOffset(index, offset) {\n    let position = 0\n    for (let currentIndex = 0; currentIndex < this.objects.length; currentIndex++) {\n      const object = this.objects[currentIndex]\n      if (currentIndex < index) {\n        position += object.getLength()\n      } else if (currentIndex === index) {\n        position += offset\n        break\n      }\n    }\n    return position\n  }\n\n  getEndPosition() {\n    if (this.endPosition == null) {\n      this.endPosition = 0\n      this.objects.forEach((object) => this.endPosition += object.getLength())\n    }\n\n    return this.endPosition\n  }\n\n  toString() {\n    return this.objects.join(\"\")\n  }\n\n  toArray() {\n    return this.objects.slice(0)\n  }\n\n  toJSON() {\n    return this.toArray()\n  }\n\n  isEqualTo(splittableList) {\n    return super.isEqualTo(...arguments) || objectArraysAreEqual(this.objects, splittableList?.objects)\n  }\n\n  contentsForInspection() {\n    return {\n      objects: `[${this.objects.map((object) => object.inspect()).join(\", \")}]`,\n    }\n  }\n}\n\nconst objectArraysAreEqual = function(left, right = []) {\n  if (left.length !== right.length) {\n    return false\n  }\n  let result = true\n  for (let index = 0; index < left.length; index++) {\n    const object = left[index]\n    if (result && !object.isEqualTo(right[index])) {\n      result = false\n    }\n  }\n  return result\n}\n\nconst startOfRange = (range) => range[0]\n\nconst endOfRange = (range) => range[1]\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { getDirection } from \"trix/core/helpers\"\n\nimport Piece from \"trix/models/piece\"\nimport AttachmentPiece from \"trix/models/attachment_piece\"\nimport StringPiece from \"trix/models/string_piece\"\nimport SplittableList from \"trix/models/splittable_list\"\n\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Text extends TrixObject {\n  static textForAttachmentWithAttributes(attachment, attributes) {\n    const piece = new AttachmentPiece(attachment, attributes)\n    return new this([ piece ])\n  }\n\n  static textForStringWithAttributes(string, attributes) {\n    const piece = new StringPiece(string, attributes)\n    return new this([ piece ])\n  }\n\n  static fromJSON(textJSON) {\n    const pieces = Array.from(textJSON).map((pieceJSON) => Piece.fromJSON(pieceJSON))\n    return new this(pieces)\n  }\n\n  constructor(pieces = []) {\n    super(...arguments)\n    const notEmpty = pieces.filter((piece) => !piece.isEmpty())\n    this.pieceList = new SplittableList(notEmpty)\n  }\n\n  copy() {\n    return this.copyWithPieceList(this.pieceList)\n  }\n\n  copyWithPieceList(pieceList) {\n    return new this.constructor(pieceList.consolidate().toArray())\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const pieces = this.getPieces().map((piece) => objectMap.find(piece) || piece)\n    return new this.constructor(pieces)\n  }\n\n  appendText(text) {\n    return this.insertTextAtPosition(text, this.getLength())\n  }\n\n  insertTextAtPosition(text, position) {\n    return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(text.pieceList, position))\n  }\n\n  removeTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.removeObjectsInRange(range))\n  }\n\n  replaceTextAtRange(text, range) {\n    return this.removeTextAtRange(range).insertTextAtPosition(text, range[0])\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    if (range[0] <= position && position <= range[1]) return\n    const text = this.getTextAtRange(range)\n    const length = text.getLength()\n    if (range[0] < position) {\n      position -= length\n    }\n    return this.removeTextAtRange(range).insertTextAtPosition(text, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    const attributes = {}\n    attributes[attribute] = value\n    return this.addAttributesAtRange(attributes, range)\n  }\n\n  addAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAdditionalAttributes(attributes))\n    )\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithoutAttribute(attribute))\n    )\n  }\n\n  setAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAttributes(attributes))\n    )\n  }\n\n  getAttributesAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)?.getAttributes() || {}\n  }\n\n  getCommonAttributes() {\n    const objects = Array.from(this.pieceList.toArray()).map((piece) => piece.getAttributes())\n    return Hash.fromCommonAttributesOfObjects(objects).toObject()\n  }\n\n  getCommonAttributesAtRange(range) {\n    return this.getTextAtRange(range).getCommonAttributes() || {}\n  }\n\n  getExpandedRangeForAttributeAtOffset(attributeName, offset) {\n    let right\n    let left = right = offset\n    const length = this.getLength()\n\n    while (left > 0 && this.getCommonAttributesAtRange([ left - 1, right ])[attributeName]) {\n      left--\n    }\n    while (right < length && this.getCommonAttributesAtRange([ offset, right + 1 ])[attributeName]) {\n      right++\n    }\n\n    return [ left, right ]\n  }\n\n  getTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.getSplittableListInRange(range))\n  }\n\n  getStringAtRange(range) {\n    return this.pieceList.getSplittableListInRange(range).toString()\n  }\n\n  getStringAtPosition(position) {\n    return this.getStringAtRange([ position, position + 1 ])\n  }\n\n  startsWithString(string) {\n    return this.getStringAtRange([ 0, string.length ]) === string\n  }\n\n  endsWithString(string) {\n    const length = this.getLength()\n    return this.getStringAtRange([ length - string.length, length ]) === string\n  }\n\n  getAttachmentPieces() {\n    return this.pieceList.toArray().filter((piece) => !!piece.attachment)\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getAttachmentAndPositionById(attachmentId) {\n    let position = 0\n    for (const piece of this.pieceList.toArray()) {\n      if (piece.attachment?.id === attachmentId) {\n        return { attachment: piece.attachment, position }\n      }\n      position += piece.length\n    }\n    return { attachment: null, position: null }\n  }\n\n  getAttachmentById(attachmentId) {\n    const { attachment } = this.getAttachmentAndPositionById(attachmentId)\n    return attachment\n  }\n\n  getRangeOfAttachment(attachment) {\n    const attachmentAndPosition = this.getAttachmentAndPositionById(attachment.id)\n    const position = attachmentAndPosition.position\n    attachment = attachmentAndPosition.attachment\n    if (attachment) {\n      return [ position, position + 1 ]\n    }\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    if (range) {\n      return this.addAttributesAtRange(attributes, range)\n    } else {\n      return this\n    }\n  }\n\n  getLength() {\n    return this.pieceList.getEndPosition()\n  }\n\n  isEmpty() {\n    return this.getLength() === 0\n  }\n\n  isEqualTo(text) {\n    return super.isEqualTo(text) || text?.pieceList?.isEqualTo(this.pieceList)\n  }\n\n  isBlockBreak() {\n    return this.getLength() === 1 && this.pieceList.getObjectAtIndex(0).isBlockBreak()\n  }\n\n  eachPiece(callback) {\n    return this.pieceList.eachObject(callback)\n  }\n\n  getPieces() {\n    return this.pieceList.toArray()\n  }\n\n  getPieceAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)\n  }\n\n  contentsForInspection() {\n    return { pieceList: this.pieceList.inspect() }\n  }\n\n  toSerializableText() {\n    const pieceList = this.pieceList.selectSplittableList((piece) => piece.isSerializable())\n    return this.copyWithPieceList(pieceList)\n  }\n\n  toString() {\n    return this.pieceList.toString()\n  }\n\n  toJSON() {\n    return this.pieceList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.pieceList.toArray().map((piece) => JSON.parse(piece.toConsole())))\n  }\n\n  // BIDI\n\n  getDirection() {\n    return getDirection(this.toString())\n  }\n\n  isRTL() {\n    return this.getDirection() === \"rtl\"\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Text from \"trix/models/text\"\n\nimport {\n  arraysAreEqual,\n  getBlockConfig,\n  getListAttributeNames,\n  objectsAreEqual,\n  spliceArray,\n} from \"trix/core/helpers\"\n\nexport default class Block extends TrixObject {\n  static fromJSON(blockJSON) {\n    const text = Text.fromJSON(blockJSON.text)\n    return new this(text, blockJSON.attributes, blockJSON.htmlAttributes)\n  }\n\n  constructor(text, attributes, htmlAttributes) {\n    super(...arguments)\n    this.text = applyBlockBreakToText(text || new Text())\n    this.attributes = attributes || []\n    this.htmlAttributes = htmlAttributes || {}\n  }\n\n  isEmpty() {\n    return this.text.isBlockBreak()\n  }\n\n  isEqualTo(block) {\n    if (super.isEqualTo(block)) return true\n\n    return this.text.isEqualTo(block?.text) && arraysAreEqual(this.attributes, block?.attributes) && objectsAreEqual(this.htmlAttributes, block?.htmlAttributes)\n  }\n\n  copyWithText(text) {\n    return new Block(text, this.attributes, this.htmlAttributes)\n  }\n\n  copyWithoutText() {\n    return this.copyWithText(null)\n  }\n\n  copyWithAttributes(attributes) {\n    return new Block(this.text, attributes, this.htmlAttributes)\n  }\n\n  copyWithoutAttributes() {\n    return this.copyWithAttributes(null)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const mappedText = objectMap.find(this.text)\n    if (mappedText) {\n      return this.copyWithText(mappedText)\n    } else {\n      return this.copyWithText(this.text.copyUsingObjectMap(objectMap))\n    }\n  }\n\n  addAttribute(attribute) {\n    const attributes = this.attributes.concat(expandAttribute(attribute))\n    return this.copyWithAttributes(attributes)\n  }\n\n  addHTMLAttribute(attribute, value) {\n    const htmlAttributes = Object.assign({}, this.htmlAttributes, { [attribute]: value })\n    return new Block(this.text, this.attributes, htmlAttributes)\n  }\n\n  removeAttribute(attribute) {\n    const { listAttribute } = getBlockConfig(attribute)\n    const attributes = removeLastValue(removeLastValue(this.attributes, attribute), listAttribute)\n    return this.copyWithAttributes(attributes)\n  }\n\n  removeLastAttribute() {\n    return this.removeAttribute(this.getLastAttribute())\n  }\n\n  getLastAttribute() {\n    return getLastElement(this.attributes)\n  }\n\n  getAttributes() {\n    return this.attributes.slice(0)\n  }\n\n  getAttributeLevel() {\n    return this.attributes.length\n  }\n\n  getAttributeAtLevel(level) {\n    return this.attributes[level - 1]\n  }\n\n  hasAttribute(attributeName) {\n    return this.attributes.includes(attributeName)\n  }\n\n  hasAttributes() {\n    return this.getAttributeLevel() > 0\n  }\n\n  getLastNestableAttribute() {\n    return getLastElement(this.getNestableAttributes())\n  }\n\n  getNestableAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).nestable)\n  }\n\n  getNestingLevel() {\n    return this.getNestableAttributes().length\n  }\n\n  decreaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      return this.removeAttribute(attribute)\n    } else {\n      return this\n    }\n  }\n\n  increaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      const index = this.attributes.lastIndexOf(attribute)\n      const attributes = spliceArray(this.attributes, index + 1, 0, ...expandAttribute(attribute))\n      return this.copyWithAttributes(attributes)\n    } else {\n      return this\n    }\n  }\n\n  getListItemAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).listAttribute)\n  }\n\n  isListItem() {\n    return getBlockConfig(this.getLastAttribute())?.listAttribute\n  }\n\n  isTerminalBlock() {\n    return getBlockConfig(this.getLastAttribute())?.terminal\n  }\n\n  breaksOnReturn() {\n    return getBlockConfig(this.getLastAttribute())?.breakOnReturn\n  }\n\n  findLineBreakInDirectionFromPosition(direction, position) {\n    const string = this.toString()\n    let result\n    switch (direction) {\n      case \"forward\":\n        result = string.indexOf(\"\\n\", position)\n        break\n      case \"backward\":\n        result = string.slice(0, position).lastIndexOf(\"\\n\")\n    }\n\n    if (result !== -1) {\n      return result\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      text: this.text.inspect(),\n      attributes: this.attributes,\n    }\n  }\n\n  toString() {\n    return this.text.toString()\n  }\n\n  toJSON() {\n    return {\n      text: this.text,\n      attributes: this.attributes,\n      htmlAttributes: this.htmlAttributes,\n    }\n  }\n\n  // BIDI\n\n  getDirection() {\n    return this.text.getDirection()\n  }\n\n  isRTL() {\n    return this.text.isRTL()\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.text.getLength()\n  }\n\n  canBeConsolidatedWith(block) {\n    return !this.hasAttributes() && !block.hasAttributes() && this.getDirection() === block.getDirection()\n  }\n\n  consolidateWith(block) {\n    const newlineText = Text.textForStringWithAttributes(\"\\n\")\n    const text = this.getTextWithoutBlockBreak().appendText(newlineText)\n    return this.copyWithText(text.appendText(block.text))\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.getLength()) {\n      left = this\n      right = null\n    } else {\n      left = this.copyWithText(this.text.getTextAtRange([ 0, offset ]))\n      right = this.copyWithText(this.text.getTextAtRange([ offset, this.getLength() ]))\n    }\n    return [ left, right ]\n  }\n\n  getBlockBreakPosition() {\n    return this.text.getLength() - 1\n  }\n\n  getTextWithoutBlockBreak() {\n    if (textEndsInBlockBreak(this.text)) {\n      return this.text.getTextAtRange([ 0, this.getBlockBreakPosition() ])\n    } else {\n      return this.text.copy()\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped(depth) {\n    return this.attributes[depth]\n  }\n\n  canBeGroupedWith(otherBlock, depth) {\n    const otherAttributes = otherBlock.getAttributes()\n    const otherAttribute = otherAttributes[depth]\n    const attribute = this.attributes[depth]\n\n    return (\n      attribute === otherAttribute &&\n      !(getBlockConfig(attribute).group === false && !getListAttributeNames().includes(otherAttributes[depth + 1])) &&\n      (this.getDirection() === otherBlock.getDirection() || otherBlock.isEmpty())\n    )\n  }\n}\n\n// Block breaks\n\nconst applyBlockBreakToText = function(text) {\n  text = unmarkExistingInnerBlockBreaksInText(text)\n  text = addBlockBreakToText(text)\n  return text\n}\n\nconst unmarkExistingInnerBlockBreaksInText = function(text) {\n  let modified = false\n  const pieces = text.getPieces()\n\n  let innerPieces = pieces.slice(0, pieces.length - 1)\n  const lastPiece = pieces[pieces.length - 1]\n\n  if (!lastPiece) return text\n\n  innerPieces = innerPieces.map((piece) => {\n    if (piece.isBlockBreak()) {\n      modified = true\n      return unmarkBlockBreakPiece(piece)\n    } else {\n      return piece\n    }\n  })\n\n  if (modified) {\n    return new Text([ ...innerPieces, lastPiece ])\n  } else {\n    return text\n  }\n}\n\nconst blockBreakText = Text.textForStringWithAttributes(\"\\n\", { blockBreak: true })\n\nconst addBlockBreakToText = function(text) {\n  if (textEndsInBlockBreak(text)) {\n    return text\n  } else {\n    return text.appendText(blockBreakText)\n  }\n}\n\nconst textEndsInBlockBreak = function(text) {\n  const length = text.getLength()\n  if (length === 0) {\n    return false\n  }\n  const endText = text.getTextAtRange([ length - 1, length ])\n  return endText.isBlockBreak()\n}\n\nconst unmarkBlockBreakPiece = (piece) => piece.copyWithoutAttribute(\"blockBreak\")\n\n// Attributes\n\nconst expandAttribute = function(attribute) {\n  const { listAttribute } = getBlockConfig(attribute)\n  if (listAttribute) {\n    return [ listAttribute, attribute ]\n  } else {\n    return [ attribute ]\n  }\n}\n\n// Array helpers\n\nconst getLastElement = (array) => array.slice(-1)[0]\n\nconst removeLastValue = function(array, value) {\n  const index = array.lastIndexOf(value)\n  if (index === -1) {\n    return array\n  } else {\n    return spliceArray(array, index, 1)\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport SplittableList from \"trix/models/splittable_list\"\nimport Hash from \"trix/core/collections/hash\"\nimport ObjectMap from \"trix/core/collections/object_map\"\n\nimport { arraysAreEqual, getBlockConfig, normalizeRange, rangeIsCollapsed } from \"trix/core/helpers\"\n\nexport default class Document extends TrixObject {\n  static fromJSON(documentJSON) {\n    const blocks = Array.from(documentJSON).map((blockJSON) => Block.fromJSON(blockJSON))\n    return new this(blocks)\n  }\n\n  static fromString(string, textAttributes) {\n    const text = Text.textForStringWithAttributes(string, textAttributes)\n    return new this([ new Block(text) ])\n  }\n\n  constructor(blocks = []) {\n    super(...arguments)\n    if (blocks.length === 0) {\n      blocks = [ new Block() ]\n    }\n    this.blockList = SplittableList.box(blocks)\n  }\n\n  isEmpty() {\n    const block = this.getBlockAtIndex(0)\n    return this.blockList.length === 1 && block.isEmpty() && !block.hasAttributes()\n  }\n\n  copy(options = {}) {\n    const blocks = options.consolidateBlocks ? this.blockList.consolidate().toArray() : this.blockList.toArray()\n\n    return new this.constructor(blocks)\n  }\n\n  copyUsingObjectsFromDocument(sourceDocument) {\n    const objectMap = new ObjectMap(sourceDocument.getObjects())\n    return this.copyUsingObjectMap(objectMap)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const blocks = this.getBlocks().map((block) => {\n      const mappedBlock = objectMap.find(block)\n      return mappedBlock || block.copyUsingObjectMap(objectMap)\n    })\n    return new this.constructor(blocks)\n  }\n\n  copyWithBaseBlockAttributes(blockAttributes = []) {\n    const blocks = this.getBlocks().map((block) => {\n      const attributes = blockAttributes.concat(block.getAttributes())\n      return block.copyWithAttributes(attributes)\n    })\n\n    return new this.constructor(blocks)\n  }\n\n  replaceBlock(oldBlock, newBlock) {\n    const index = this.blockList.indexOf(oldBlock)\n    if (index === -1) {\n      return this\n    }\n    return new this.constructor(this.blockList.replaceObjectAtIndex(newBlock, index))\n  }\n\n  insertDocumentAtRange(document, range) {\n    const { blockList } = document\n    range = normalizeRange(range)\n    let [ position ] = range\n    const { index, offset } = this.locationFromPosition(position)\n\n    let result = this\n    const block = this.getBlockAtPosition(position)\n\n    if (rangeIsCollapsed(range) && block.isEmpty() && !block.hasAttributes()) {\n      result = new this.constructor(result.blockList.removeObjectAtIndex(index))\n    } else if (block.getBlockBreakPosition() === offset) {\n      position++\n    }\n\n    result = result.removeTextAtRange(range)\n    return new this.constructor(result.blockList.insertSplittableListAtPosition(blockList, position))\n  }\n\n  mergeDocumentAtRange(document, range) {\n    let formattedDocument, result\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const blockAttributes = this.getBlockAtIndex(startLocation.index).getAttributes()\n    const baseBlockAttributes = document.getBaseBlockAttributes()\n    const trailingBlockAttributes = blockAttributes.slice(-baseBlockAttributes.length)\n\n    if (arraysAreEqual(baseBlockAttributes, trailingBlockAttributes)) {\n      const leadingBlockAttributes = blockAttributes.slice(0, -baseBlockAttributes.length)\n      formattedDocument = document.copyWithBaseBlockAttributes(leadingBlockAttributes)\n    } else {\n      formattedDocument = document.copy({ consolidateBlocks: true }).copyWithBaseBlockAttributes(blockAttributes)\n    }\n\n    const blockCount = formattedDocument.getBlockCount()\n    const firstBlock = formattedDocument.getBlockAtIndex(0)\n\n    if (arraysAreEqual(blockAttributes, firstBlock.getAttributes())) {\n      const firstText = firstBlock.getTextWithoutBlockBreak()\n      result = this.insertTextAtRange(firstText, range)\n\n      if (blockCount > 1) {\n        formattedDocument = new this.constructor(formattedDocument.getBlocks().slice(1))\n        const position = startPosition + firstText.getLength()\n        result = result.insertDocumentAtRange(formattedDocument, position)\n      }\n    } else {\n      result = this.insertDocumentAtRange(formattedDocument, range)\n    }\n\n    return result\n  }\n\n  insertTextAtRange(text, range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { index, offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    return new this.constructor(\n      document.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(block.text.insertTextAtPosition(text, offset))\n      )\n    )\n  }\n\n  removeTextAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ leftPosition, rightPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this\n    }\n    const [ leftLocation, rightLocation ] = Array.from(this.locationRangeFromRange(range))\n\n    const leftIndex = leftLocation.index\n    const leftOffset = leftLocation.offset\n    const leftBlock = this.getBlockAtIndex(leftIndex)\n\n    const rightIndex = rightLocation.index\n    const rightOffset = rightLocation.offset\n    const rightBlock = this.getBlockAtIndex(rightIndex)\n\n    const removeRightNewline =\n      rightPosition - leftPosition === 1 &&\n      leftBlock.getBlockBreakPosition() === leftOffset &&\n      rightBlock.getBlockBreakPosition() !== rightOffset &&\n      rightBlock.text.getStringAtPosition(rightOffset) === \"\\n\"\n\n    if (removeRightNewline) {\n      blocks = this.blockList.editObjectAtIndex(rightIndex, (block) =>\n        block.copyWithText(block.text.removeTextAtRange([ rightOffset, rightOffset + 1 ]))\n      )\n    } else {\n      let block\n      const leftText = leftBlock.text.getTextAtRange([ 0, leftOffset ])\n      const rightText = rightBlock.text.getTextAtRange([ rightOffset, rightBlock.getLength() ])\n      const text = leftText.appendText(rightText)\n\n      const removingLeftBlock = leftIndex !== rightIndex && leftOffset === 0\n      const useRightBlock = removingLeftBlock && leftBlock.getAttributeLevel() >= rightBlock.getAttributeLevel()\n\n      if (useRightBlock) {\n        block = rightBlock.copyWithText(text)\n      } else {\n        block = leftBlock.copyWithText(text)\n      }\n\n      const affectedBlockCount = rightIndex + 1 - leftIndex\n      blocks = this.blockList.splice(leftIndex, affectedBlockCount, block)\n    }\n\n    return new this.constructor(blocks)\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    let text\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    if (startPosition <= position && position <= endPosition) {\n      return this\n    }\n\n    let document = this.getDocumentAtRange(range)\n    let result = this.removeTextAtRange(range)\n\n    const movingRightward = startPosition < position\n    if (movingRightward) {\n      position -= document.getLength()\n    }\n\n    const [ firstBlock, ...blocks ] = document.getBlocks()\n    if (blocks.length === 0) {\n      text = firstBlock.getTextWithoutBlockBreak()\n      if (movingRightward) {\n        position += 1\n      }\n    } else {\n      text = firstBlock.text\n    }\n\n    result = result.insertTextAtRange(text, position)\n    if (blocks.length === 0) {\n      return result\n    }\n\n    document = new this.constructor(blocks)\n    position += text.getLength()\n\n    return result.insertDocumentAtRange(document, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(\n      range,\n      (block, textRange, index) =>\n        blockList = blockList.editObjectAtIndex(index, function() {\n          if (getBlockConfig(attribute)) {\n            return block.addAttribute(attribute, value)\n          } else {\n            if (textRange[0] === textRange[1]) {\n              return block\n            } else {\n              return block.copyWithText(block.text.addAttributeAtRange(attribute, value, textRange))\n            }\n          }\n        })\n    )\n    return new this.constructor(blockList)\n  }\n\n  addAttribute(attribute, value) {\n    let { blockList } = this\n    this.eachBlock(\n      (block, index) => blockList = blockList.editObjectAtIndex(index, () => block.addAttribute(attribute, value))\n    )\n    return new this.constructor(blockList)\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (getBlockConfig(attribute)) {\n        blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(attribute))\n      } else if (textRange[0] !== textRange[1]) {\n        blockList = blockList.editObjectAtIndex(index, () =>\n          block.copyWithText(block.text.removeAttributeAtRange(attribute, textRange))\n        )\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    const [ startPosition ] = Array.from(range)\n    const { index } = this.locationFromPosition(startPosition)\n    const text = this.getTextAtIndex(index)\n\n    return new this.constructor(\n      this.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(text.updateAttributesForAttachment(attributes, attachment))\n      )\n    )\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.removeAttributeAtRange(attribute, range)\n  }\n\n  setHTMLAttributeAtPosition(position, name, value) {\n    const block = this.getBlockAtPosition(position)\n    const updatedBlock = block.addHTMLAttribute(name, value)\n    return this.replaceBlock(block, updatedBlock)\n  }\n\n  insertBlockBreakAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    if (offset === 0) {\n      blocks = [ new Block() ]\n    }\n    return new this.constructor(\n      document.blockList.insertSplittableListAtPosition(new SplittableList(blocks), startPosition)\n    )\n  }\n\n  applyBlockAttributeAtRange(attributeName, value, range) {\n    const expanded = this.expandRangeToLineBreaksAndSplitBlocks(range)\n    let document = expanded.document\n    range = expanded.range\n    const blockConfig = getBlockConfig(attributeName)\n\n    if (blockConfig.listAttribute) {\n      document = document.removeLastListAttributeAtRange(range, { exceptAttributeName: attributeName })\n      const converted = document.convertLineBreaksToBlockBreaksInRange(range)\n      document = converted.document\n      range = converted.range\n    } else if (blockConfig.exclusive) {\n      document = document.removeBlockAttributesAtRange(range)\n    } else if (blockConfig.terminal) {\n      document = document.removeLastTerminalAttributeAtRange(range)\n    } else {\n      document = document.consolidateBlocksAtRange(range)\n    }\n\n    return document.addAttributeAtRange(attributeName, value, range)\n  }\n\n  removeLastListAttributeAtRange(range, options = {}) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).listAttribute) {\n        return\n      }\n      if (lastAttributeName === options.exceptAttributeName) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeLastTerminalAttributeAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).terminal) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeBlockAttributesAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (block.hasAttributes()) {\n        blockList = blockList.editObjectAtIndex(index, () => block.copyWithoutAttributes())\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  expandRangeToLineBreaksAndSplitBlocks(range) {\n    let position\n    range = normalizeRange(range)\n    let [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    let document = this\n\n    const startBlock = document.getBlockAtIndex(startLocation.index)\n    startLocation.offset = startBlock.findLineBreakInDirectionFromPosition(\"backward\", startLocation.offset)\n    if (startLocation.offset != null) {\n      position = document.positionFromLocation(startLocation)\n      document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      endLocation.index += 1\n      endLocation.offset -= document.getBlockAtIndex(startLocation.index).getLength()\n      startLocation.index += 1\n    }\n    startLocation.offset = 0\n\n    if (endLocation.offset === 0 && endLocation.index > startLocation.index) {\n      endLocation.index -= 1\n      endLocation.offset = document.getBlockAtIndex(endLocation.index).getBlockBreakPosition()\n    } else {\n      const endBlock = document.getBlockAtIndex(endLocation.index)\n      if (endBlock.text.getStringAtRange([ endLocation.offset - 1, endLocation.offset ]) === \"\\n\") {\n        endLocation.offset -= 1\n      } else {\n        endLocation.offset = endBlock.findLineBreakInDirectionFromPosition(\"forward\", endLocation.offset)\n      }\n      if (endLocation.offset !== endBlock.getBlockBreakPosition()) {\n        position = document.positionFromLocation(endLocation)\n        document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      }\n    }\n\n    startPosition = document.positionFromLocation(startLocation)\n    endPosition = document.positionFromLocation(endLocation)\n    range = normalizeRange([ startPosition, endPosition ])\n\n    return { document, range }\n  }\n\n  convertLineBreaksToBlockBreaksInRange(range) {\n    range = normalizeRange(range)\n    let [ position ] = range\n    const string = this.getStringAtRange(range).slice(0, -1)\n    let document = this\n\n    string.replace(/.*?\\n/g, function(match) {\n      position += match.length\n      document = document.insertBlockBreakAtRange([ position - 1, position ])\n    })\n\n    return { document, range }\n  }\n\n  consolidateBlocksAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startIndex = this.locationFromPosition(startPosition).index\n    const endIndex = this.locationFromPosition(endPosition).index\n    return new this.constructor(this.blockList.consolidateFromIndexToIndex(startIndex, endIndex))\n  }\n\n  getDocumentAtRange(range) {\n    range = normalizeRange(range)\n    const blocks = this.blockList.getSplittableListInRange(range).toArray()\n    return new this.constructor(blocks)\n  }\n\n  getStringAtRange(range) {\n    let endIndex\n    const array = range = normalizeRange(range),\n      endPosition = array[array.length - 1]\n    if (endPosition !== this.getLength()) {\n      endIndex = -1\n    }\n    return this.getDocumentAtRange(range).toString().slice(0, endIndex)\n  }\n\n  getBlockAtIndex(index) {\n    return this.blockList.getObjectAtIndex(index)\n  }\n\n  getBlockAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getBlockAtIndex(index)\n  }\n\n  getTextAtIndex(index) {\n    return this.getBlockAtIndex(index)?.text\n  }\n\n  getTextAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index)\n  }\n\n  getPieceAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getPieceAtPosition(offset)\n  }\n\n  getCharacterAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getStringAtRange([ offset, offset + 1 ])\n  }\n\n  getLength() {\n    return this.blockList.getEndPosition()\n  }\n\n  getBlocks() {\n    return this.blockList.toArray()\n  }\n\n  getBlockCount() {\n    return this.blockList.length\n  }\n\n  getEditCount() {\n    return this.editCount\n  }\n\n  eachBlock(callback) {\n    return this.blockList.eachObject(callback)\n  }\n\n  eachBlockAtRange(range, callback) {\n    let block, textRange\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n\n    if (startLocation.index === endLocation.index) {\n      block = this.getBlockAtIndex(startLocation.index)\n      textRange = [ startLocation.offset, endLocation.offset ]\n      return callback(block, textRange, startLocation.index)\n    } else {\n      for (let index = startLocation.index; index <= endLocation.index; index++) {\n        block = this.getBlockAtIndex(index)\n        if (block) {\n          switch (index) {\n            case startLocation.index:\n              textRange = [ startLocation.offset, block.text.getLength() ]\n              break\n            case endLocation.index:\n              textRange = [ 0, endLocation.offset ]\n              break\n            default:\n              textRange = [ 0, block.text.getLength() ]\n          }\n          callback(block, textRange, index)\n        }\n      }\n    }\n  }\n\n  getCommonAttributesAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this.getCommonAttributesAtPosition(startPosition)\n    } else {\n      const textAttributes = []\n      const blockAttributes = []\n\n      this.eachBlockAtRange(range, function(block, textRange) {\n        if (textRange[0] !== textRange[1]) {\n          textAttributes.push(block.text.getCommonAttributesAtRange(textRange))\n          return blockAttributes.push(attributesForBlock(block))\n        }\n      })\n\n      return Hash.fromCommonAttributesOfObjects(textAttributes)\n        .merge(Hash.fromCommonAttributesOfObjects(blockAttributes))\n        .toObject()\n    }\n  }\n\n  getCommonAttributesAtPosition(position) {\n    let key, value\n    const { index, offset } = this.locationFromPosition(position)\n    const block = this.getBlockAtIndex(index)\n    if (!block) {\n      return {}\n    }\n\n    const commonAttributes = attributesForBlock(block)\n    const attributes = block.text.getAttributesAtPosition(offset)\n    const attributesLeft = block.text.getAttributesAtPosition(offset - 1)\n    const inheritableAttributes = Object.keys(config.textAttributes).filter((key) => {\n      return config.textAttributes[key].inheritable\n    })\n\n    for (key in attributesLeft) {\n      value = attributesLeft[key]\n      if (value === attributes[key] || inheritableAttributes.includes(key)) {\n        commonAttributes[key] = value\n      }\n    }\n\n    return commonAttributes\n  }\n\n  getRangeOfCommonAttributeAtPosition(attributeName, position) {\n    const { index, offset } = this.locationFromPosition(position)\n    const text = this.getTextAtIndex(index)\n    const [ startOffset, endOffset ] = Array.from(text.getExpandedRangeForAttributeAtOffset(attributeName, offset))\n\n    const start = this.positionFromLocation({ index, offset: startOffset })\n    const end = this.positionFromLocation({ index, offset: endOffset })\n    return normalizeRange([ start, end ])\n  }\n\n  getBaseBlockAttributes() {\n    let baseBlockAttributes = this.getBlockAtIndex(0).getAttributes()\n\n    for (let blockIndex = 1; blockIndex < this.getBlockCount(); blockIndex++) {\n      const blockAttributes = this.getBlockAtIndex(blockIndex).getAttributes()\n      const lastAttributeIndex = Math.min(baseBlockAttributes.length, blockAttributes.length)\n\n      baseBlockAttributes = (() => {\n        const result = []\n        for (let index = 0; index < lastAttributeIndex; index++) {\n          if (blockAttributes[index] !== baseBlockAttributes[index]) {\n            break\n          }\n          result.push(blockAttributes[index])\n        }\n        return result\n      })()\n    }\n\n    return baseBlockAttributes\n  }\n\n  getAttachmentById(attachmentId) {\n    for (const attachment of this.getAttachments()) {\n      if (attachment.id === attachmentId) {\n        return attachment\n      }\n    }\n  }\n\n  getAttachmentPieces() {\n    let attachmentPieces = []\n    this.blockList.eachObject(({ text }) => attachmentPieces = attachmentPieces.concat(text.getAttachmentPieces()))\n    return attachmentPieces\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getRangeOfAttachment(attachment) {\n    let position = 0\n    const iterable = this.blockList.toArray()\n    for (let index = 0; index < iterable.length; index++) {\n      const { text } = iterable[index]\n      const textRange = text.getRangeOfAttachment(attachment)\n      if (textRange) {\n        return normalizeRange([ position + textRange[0], position + textRange[1] ])\n      }\n      position += text.getLength()\n    }\n  }\n\n  getLocationRangeOfAttachment(attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.locationRangeFromRange(range)\n  }\n\n  getAttachmentPieceForAttachment(attachment) {\n    for (const piece of this.getAttachmentPieces()) {\n      if (piece.attachment === attachment) {\n        return piece\n      }\n    }\n  }\n\n  findRangesForBlockAttribute(attributeName) {\n    let position = 0\n    const ranges = []\n\n    this.getBlocks().forEach((block) => {\n      const length = block.getLength()\n      if (block.hasAttribute(attributeName)) {\n        ranges.push([ position, position + length ])\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  findRangesForTextAttribute(attributeName, { withValue } = {}) {\n    let position = 0\n    let range = []\n    const ranges = []\n\n    const match = function(piece) {\n      if (withValue) {\n        return piece.getAttribute(attributeName) === withValue\n      } else {\n        return piece.hasAttribute(attributeName)\n      }\n    }\n\n    this.getPieces().forEach((piece) => {\n      const length = piece.getLength()\n      if (match(piece)) {\n        if (range[1] === position) {\n          range[1] = position + length\n        } else {\n          ranges.push(range = [ position, position + length ])\n        }\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  locationFromPosition(position) {\n    const location = this.blockList.findIndexAndOffsetAtPosition(Math.max(0, position))\n    if (location.index != null) {\n      return location\n    } else {\n      const blocks = this.getBlocks()\n      return { index: blocks.length - 1, offset: blocks[blocks.length - 1].getLength() }\n    }\n  }\n\n  positionFromLocation(location) {\n    return this.blockList.findPositionAtIndexAndOffset(location.index, location.offset)\n  }\n\n  locationRangeFromPosition(position) {\n    return normalizeRange(this.locationFromPosition(position))\n  }\n\n  locationRangeFromRange(range) {\n    range = normalizeRange(range)\n    if (!range) return\n\n    const [ startPosition, endPosition ] = Array.from(range)\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    return normalizeRange([ startLocation, endLocation ])\n  }\n\n  rangeFromLocationRange(locationRange) {\n    let rightPosition\n    locationRange = normalizeRange(locationRange)\n    const leftPosition = this.positionFromLocation(locationRange[0])\n    if (!rangeIsCollapsed(locationRange)) {\n      rightPosition = this.positionFromLocation(locationRange[1])\n    }\n    return normalizeRange([ leftPosition, rightPosition ])\n  }\n\n  isEqualTo(document) {\n    return this.blockList.isEqualTo(document?.blockList)\n  }\n\n  getTexts() {\n    return this.getBlocks().map((block) => block.text)\n  }\n\n  getPieces() {\n    const pieces = []\n\n    Array.from(this.getTexts()).forEach((text) => {\n      pieces.push(...Array.from(text.getPieces() || []))\n    })\n\n    return pieces\n  }\n\n  getObjects() {\n    return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())\n  }\n\n  toSerializableDocument() {\n    const blocks = []\n    this.blockList.eachObject((block) => blocks.push(block.copyWithText(block.text.toSerializableText())))\n    return new this.constructor(blocks)\n  }\n\n  toString() {\n    return this.blockList.toString()\n  }\n\n  toJSON() {\n    return this.blockList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.blockList.toArray().map((block) => JSON.parse(block.text.toConsole())))\n  }\n}\n\nconst attributesForBlock = function(block) {\n  const attributes = {}\n  const attributeName = block.getLastAttribute()\n  if (attributeName) {\n    attributes[attributeName] = true\n  }\n  return attributes\n}\n", "/* eslint-disable\n    no-case-declarations,\n    no-irregular-whitespace,\n*/\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\nimport Document from \"trix/models/document\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nimport {\n  arraysAreEqual,\n  breakableWhitespacePattern,\n  elementContainsNode,\n  findClosestElementFromNode,\n  getBlockTagNames,\n  makeElement,\n  nodeIsAttachmentElement,\n  normalizeSpaces,\n  removeNode,\n  squishBreakableWhitespace,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nconst pieceForString = (string, attributes = {}) => {\n  const type = \"string\"\n  string = normalizeSpaces(string)\n  return { string, attributes, type }\n}\n\nconst pieceForAttachment = (attachment, attributes = {}) => {\n  const type = \"attachment\"\n  return { attachment, attributes, type }\n}\n\nconst blockForAttributes = (attributes = {}, htmlAttributes = {}) => {\n  const text = []\n  return { text, attributes, htmlAttributes }\n}\n\nconst parseTrixDataAttribute = (element, name) => {\n  try {\n    return JSON.parse(element.getAttribute(`data-trix-${name}`))\n  } catch (error) {\n    return {}\n  }\n}\n\nconst getImageDimensions = (element) => {\n  const width = element.getAttribute(\"width\")\n  const height = element.getAttribute(\"height\")\n  const dimensions = {}\n  if (width) {\n    dimensions.width = parseInt(width, 10)\n  }\n  if (height) {\n    dimensions.height = parseInt(height, 10)\n  }\n  return dimensions\n}\n\nexport default class HTMLParser extends BasicObject {\n  static parse(html, options) {\n    const parser = new this(html, options)\n    parser.parse()\n    return parser\n  }\n\n  constructor(html, { referenceElement, purifyOptions } = {}) {\n    super(...arguments)\n    this.html = html\n    this.referenceElement = referenceElement\n    this.purifyOptions = purifyOptions\n    this.blocks = []\n    this.blockElements = []\n    this.processedElements = []\n  }\n\n  getDocument() {\n    return Document.fromJSON(this.blocks)\n  }\n\n  // HTML parsing\n\n  parse() {\n    try {\n      this.createHiddenContainer()\n      HTMLSanitizer.setHTML(this.containerElement, this.html, { purifyOptions: this.purifyOptions })\n      const walker = walkTree(this.containerElement, { usingFilter: nodeFilter })\n      while (walker.nextNode()) {\n        this.processNode(walker.currentNode)\n      }\n      return this.translateBlockElementMarginsToNewlines()\n    } finally {\n      this.removeHiddenContainer()\n    }\n  }\n\n  createHiddenContainer() {\n    if (this.referenceElement) {\n      this.containerElement = this.referenceElement.cloneNode(false)\n      this.containerElement.removeAttribute(\"id\")\n      this.containerElement.setAttribute(\"data-trix-internal\", \"\")\n      this.containerElement.style.display = \"none\"\n      return this.referenceElement.parentNode.insertBefore(this.containerElement, this.referenceElement.nextSibling)\n    } else {\n      this.containerElement = makeElement({ tagName: \"div\", style: { display: \"none\" } })\n      return document.body.appendChild(this.containerElement)\n    }\n  }\n\n  removeHiddenContainer() {\n    return removeNode(this.containerElement)\n  }\n\n  processNode(node) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        if (!this.isInsignificantTextNode(node)) {\n          this.appendBlockForTextNode(node)\n          return this.processTextNode(node)\n        }\n        break\n      case Node.ELEMENT_NODE:\n        this.appendBlockForElement(node)\n        return this.processElement(node)\n    }\n  }\n\n  appendBlockForTextNode(node) {\n    const element = node.parentNode\n    if (element === this.currentBlockElement && this.isBlockElement(node.previousSibling)) {\n      return this.appendStringWithAttributes(\"\\n\")\n    } else if (element === this.containerElement || this.isBlockElement(element)) {\n      const attributes = this.getBlockAttributes(element)\n      const htmlAttributes = this.getBlockHTMLAttributes(element)\n      if (!arraysAreEqual(attributes, this.currentBlock?.attributes)) {\n        this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n        this.currentBlockElement = element\n      }\n    }\n  }\n\n  appendBlockForElement(element) {\n    const elementIsBlockElement = this.isBlockElement(element)\n    const currentBlockContainsElement = elementContainsNode(this.currentBlockElement, element)\n\n    if (elementIsBlockElement && !this.isBlockElement(element.firstChild)) {\n      if (!this.isInsignificantTextNode(element.firstChild) || !this.isBlockElement(element.firstElementChild)) {\n        const attributes = this.getBlockAttributes(element)\n        const htmlAttributes = this.getBlockHTMLAttributes(element)\n        if (element.firstChild) {\n          if (!(currentBlockContainsElement && arraysAreEqual(attributes, this.currentBlock.attributes))) {\n            this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n            this.currentBlockElement = element\n          } else {\n            return this.appendStringWithAttributes(\"\\n\")\n          }\n        }\n      }\n    } else if (this.currentBlockElement && !currentBlockContainsElement && !elementIsBlockElement) {\n      const parentBlockElement = this.findParentBlockElement(element)\n      if (parentBlockElement) {\n        return this.appendBlockForElement(parentBlockElement)\n      } else {\n        this.currentBlock = this.appendEmptyBlock()\n        this.currentBlockElement = null\n      }\n    }\n  }\n\n  findParentBlockElement(element) {\n    let { parentElement } = element\n    while (parentElement && parentElement !== this.containerElement) {\n      if (this.isBlockElement(parentElement) && this.blockElements.includes(parentElement)) {\n        return parentElement\n      } else {\n        parentElement = parentElement.parentElement\n      }\n    }\n    return null\n  }\n\n  processTextNode(node) {\n    let string = node.data\n    if (!elementCanDisplayPreformattedText(node.parentNode)) {\n      string = squishBreakableWhitespace(string)\n      if (stringEndsWithWhitespace(node.previousSibling?.textContent)) {\n        string = leftTrimBreakableWhitespace(string)\n      }\n    }\n    return this.appendStringWithAttributes(string, this.getTextAttributes(node.parentNode))\n  }\n\n  processElement(element) {\n    let attributes\n    if (nodeIsAttachmentElement(element)) {\n      attributes = parseTrixDataAttribute(element, \"attachment\")\n      if (Object.keys(attributes).length) {\n        const textAttributes = this.getTextAttributes(element)\n        this.appendAttachmentWithAttributes(attributes, textAttributes)\n        // We have everything we need so avoid processing inner nodes\n        element.innerHTML = \"\"\n      }\n      return this.processedElements.push(element)\n    } else {\n      switch (tagName(element)) {\n        case \"br\":\n          if (!this.isExtraBR(element) && !this.isBlockElement(element.nextSibling)) {\n            this.appendStringWithAttributes(\"\\n\", this.getTextAttributes(element))\n          }\n          return this.processedElements.push(element)\n        case \"img\":\n          attributes = { url: element.getAttribute(\"src\"), contentType: \"image\" }\n          const object = getImageDimensions(element)\n          for (const key in object) {\n            const value = object[key]\n            attributes[key] = value\n          }\n          this.appendAttachmentWithAttributes(attributes, this.getTextAttributes(element))\n          return this.processedElements.push(element)\n        case \"tr\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableRowSeparator)\n          }\n          break\n        case \"td\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableCellSeparator)\n          }\n          break\n      }\n    }\n  }\n\n  // Document construction\n\n  appendBlockForAttributesWithElement(attributes, element, htmlAttributes = {}) {\n    this.blockElements.push(element)\n    const block = blockForAttributes(attributes, htmlAttributes)\n    this.blocks.push(block)\n    return block\n  }\n\n  appendEmptyBlock() {\n    return this.appendBlockForAttributesWithElement([], null)\n  }\n\n  appendStringWithAttributes(string, attributes) {\n    return this.appendPiece(pieceForString(string, attributes))\n  }\n\n  appendAttachmentWithAttributes(attachment, attributes) {\n    return this.appendPiece(pieceForAttachment(attachment, attributes))\n  }\n\n  appendPiece(piece) {\n    if (this.blocks.length === 0) {\n      this.appendEmptyBlock()\n    }\n    return this.blocks[this.blocks.length - 1].text.push(piece)\n  }\n\n  appendStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[text.length - 1]\n\n    if (piece?.type === \"string\") {\n      piece.string += string\n    } else {\n      return text.push(pieceForString(string))\n    }\n  }\n\n  prependStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[0]\n\n    if (piece?.type === \"string\") {\n      piece.string = string + piece.string\n    } else {\n      return text.unshift(pieceForString(string))\n    }\n  }\n\n  // Attribute parsing\n\n  getTextAttributes(element) {\n    let value\n    const attributes = {}\n    for (const attribute in config.textAttributes) {\n      const configAttr = config.textAttributes[attribute]\n      if (\n        configAttr.tagName &&\n        findClosestElementFromNode(element, {\n          matchingSelector: configAttr.tagName,\n          untilNode: this.containerElement,\n        })\n      ) {\n        attributes[attribute] = true\n      } else if (configAttr.parser) {\n        value = configAttr.parser(element)\n        if (value) {\n          let attributeInheritedFromBlock = false\n          for (const blockElement of this.findBlockElementAncestors(element)) {\n            if (configAttr.parser(blockElement) === value) {\n              attributeInheritedFromBlock = true\n              break\n            }\n          }\n          if (!attributeInheritedFromBlock) {\n            attributes[attribute] = value\n          }\n        }\n      } else if (configAttr.styleProperty) {\n        value = element.style[configAttr.styleProperty]\n        if (value) {\n          attributes[attribute] = value\n        }\n      }\n    }\n\n    if (nodeIsAttachmentElement(element)) {\n      const object = parseTrixDataAttribute(element, \"attributes\")\n      for (const key in object) {\n        value = object[key]\n        attributes[key] = value\n      }\n    }\n\n    return attributes\n  }\n\n  getBlockAttributes(element) {\n    const attributes = []\n    while (element && element !== this.containerElement) {\n      for (const attribute in config.blockAttributes) {\n        const attrConfig = config.blockAttributes[attribute]\n        if (attrConfig.parse !== false) {\n          if (tagName(element) === attrConfig.tagName) {\n            if (attrConfig.test?.(element) || !attrConfig.test) {\n              attributes.push(attribute)\n              if (attrConfig.listAttribute) {\n                attributes.push(attrConfig.listAttribute)\n              }\n            }\n          }\n        }\n      }\n      element = element.parentNode\n    }\n    return attributes.reverse()\n  }\n\n  getBlockHTMLAttributes(element) {\n    const attributes = {}\n    const blockConfig = Object.values(config.blockAttributes).find(settings => settings.tagName === tagName(element))\n    const allowedAttributes = blockConfig?.htmlAttributes || []\n\n    allowedAttributes.forEach((attribute) => {\n      if (element.hasAttribute(attribute)) {\n        attributes[attribute] = element.getAttribute(attribute)\n      }\n    })\n\n    return attributes\n  }\n\n  findBlockElementAncestors(element) {\n    const ancestors = []\n    while (element && element !== this.containerElement) {\n      const tag = tagName(element)\n      if (getBlockTagNames().includes(tag)) {\n        ancestors.push(element)\n      }\n      element = element.parentNode\n    }\n    return ancestors\n  }\n\n  // Element inspection\n\n  isBlockElement(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    if (nodeIsAttachmentElement(element)) return\n    if (findClosestElementFromNode(element, { matchingSelector: \"td\", untilNode: this.containerElement })) return\n\n    return getBlockTagNames().includes(tagName(element)) ||\n      window.getComputedStyle(element).display === \"block\"\n  }\n\n  isInsignificantTextNode(node) {\n    if (node?.nodeType !== Node.TEXT_NODE) return\n    if (!stringIsAllBreakableWhitespace(node.data)) return\n    const { parentNode, previousSibling, nextSibling } = node\n    if (nodeEndsWithNonWhitespace(parentNode.previousSibling) && !this.isBlockElement(parentNode.previousSibling)) return\n    if (elementCanDisplayPreformattedText(parentNode)) return\n    return !previousSibling || this.isBlockElement(previousSibling) || !nextSibling || this.isBlockElement(nextSibling)\n  }\n\n  isExtraBR(element) {\n    return tagName(element) === \"br\" && this.isBlockElement(element.parentNode) && element.parentNode.lastChild === element\n  }\n\n  needsTableSeparator(element) {\n    if (config.parser.removeBlankTableCells) {\n      const content = element.previousSibling?.textContent\n      return content && /\\S/.test(content)\n    } else {\n      return element.previousSibling\n    }\n  }\n\n  // Margin translation\n\n  translateBlockElementMarginsToNewlines() {\n    const defaultMargin = this.getMarginOfDefaultBlockElement()\n\n    for (let index = 0; index < this.blocks.length; index++) {\n      const margin = this.getMarginOfBlockElementAtIndex(index)\n      if (margin) {\n        if (margin.top > defaultMargin.top * 2) {\n          this.prependStringToTextAtIndex(\"\\n\", index)\n        }\n\n        if (margin.bottom > defaultMargin.bottom * 2) {\n          this.appendStringToTextAtIndex(\"\\n\", index)\n        }\n      }\n    }\n  }\n\n  getMarginOfBlockElementAtIndex(index) {\n    const element = this.blockElements[index]\n    if (element) {\n      if (element.textContent) {\n        if (!getBlockTagNames().includes(tagName(element)) && !this.processedElements.includes(element)) {\n          return getBlockElementMargin(element)\n        }\n      }\n    }\n  }\n\n  getMarginOfDefaultBlockElement() {\n    const element = makeElement(config.blockAttributes.default.tagName)\n    this.containerElement.appendChild(element)\n    return getBlockElementMargin(element)\n  }\n}\n\n//Helpers\n\nconst elementCanDisplayPreformattedText = function(element) {\n  const { whiteSpace } = window.getComputedStyle(element)\n  return [ \"pre\", \"pre-wrap\", \"pre-line\" ].includes(whiteSpace)\n}\n\nconst nodeEndsWithNonWhitespace = (node) => node && !stringEndsWithWhitespace(node.textContent)\n\nconst getBlockElementMargin = function(element) {\n  const style = window.getComputedStyle(element)\n  if (style.display === \"block\") {\n    return { top: parseInt(style.marginTop), bottom: parseInt(style.marginBottom) }\n  }\n}\n\nconst nodeFilter = function(node) {\n  if (tagName(node) === \"style\") {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\n// Whitespace\n\nconst leftTrimBreakableWhitespace = (string) => string.replace(new RegExp(`^${breakableWhitespacePattern.source}+`), \"\")\n\nconst stringIsAllBreakableWhitespace = (string) => new RegExp(`^${breakableWhitespacePattern.source}*$`).test(string)\n\nconst stringEndsWithWhitespace = (string) => /\\s$/.test(string)\n", "/* eslint-disable\n    no-empty,\n*/\nimport { removeNode } from \"trix/core/helpers\"\n\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nconst unserializableElementSelector = \"[data-trix-serialize=false]\"\nconst unserializableAttributeNames = [\n  \"contenteditable\",\n  \"data-trix-id\",\n  \"data-trix-store-key\",\n  \"data-trix-mutable\",\n  \"data-trix-placeholder\",\n  \"tabindex\",\n]\nconst serializedAttributesAttribute = \"data-trix-serialized-attributes\"\nconst serializedAttributesSelector = `[${serializedAttributesAttribute}]`\n\nconst blockCommentPattern = new RegExp(\"<!--block-->\", \"g\")\n\nconst serializers = {\n  \"application/json\": function(serializable) {\n    let document\n    if (serializable instanceof Document) {\n      document = serializable\n    } else if (serializable instanceof HTMLElement) {\n      document = HTMLParser.parse(serializable.innerHTML).getDocument()\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    return document.toSerializableDocument().toJSONString()\n  },\n\n  \"text/html\": function(serializable) {\n    let element\n    if (serializable instanceof Document) {\n      element = DocumentView.render(serializable)\n    } else if (serializable instanceof HTMLElement) {\n      element = serializable.cloneNode(true)\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    // Remove unserializable elements\n    Array.from(element.querySelectorAll(unserializableElementSelector)).forEach((el) => {\n      removeNode(el)\n    })\n\n    // Remove unserializable attributes\n    unserializableAttributeNames.forEach((attribute) => {\n      Array.from(element.querySelectorAll(`[${attribute}]`)).forEach((el) => {\n        el.removeAttribute(attribute)\n      })\n    })\n\n    // Rewrite elements with serialized attribute overrides\n    Array.from(element.querySelectorAll(serializedAttributesSelector)).forEach((el) => {\n      try {\n        const attributes = JSON.parse(el.getAttribute(serializedAttributesAttribute))\n        el.removeAttribute(serializedAttributesAttribute)\n        for (const name in attributes) {\n          const value = attributes[name]\n          el.setAttribute(name, value)\n        }\n      } catch (error) {}\n    })\n\n    return element.innerHTML.replace(blockCommentPattern, \"\")\n  },\n}\n\nconst deserializers = {\n  \"application/json\": function(string) {\n    return Document.fromJSONString(string)\n  },\n\n  \"text/html\": function(string) {\n    return HTMLParser.parse(string).getDocument()\n  },\n}\n\nexport const serializeToContentType = function(serializable, contentType) {\n  const serializer = serializers[contentType]\n  if (serializer) {\n    return serializer(serializable)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n\nexport const deserializeFromContentType = function(string, contentType) {\n  const deserializer = deserializers[contentType]\n  if (deserializer) {\n    return deserializer(string)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n", "import \"trix/models/attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class ManagedAttachment extends BasicObject {\n  constructor(attachmentManager, attachment) {\n    super(...arguments)\n    this.attachmentManager = attachmentManager\n    this.attachment = attachment\n    this.id = this.attachment.id\n    this.file = this.attachment.file\n  }\n\n  remove() {\n    return this.attachmentManager.requestRemovalOfAttachment(this.attachment)\n  }\n}\n\nManagedAttachment.proxyMethod(\"attachment.getAttribute\")\nManagedAttachment.proxyMethod(\"attachment.hasAttribute\")\nManagedAttachment.proxyMethod(\"attachment.setAttribute\")\nManagedAttachment.proxyMethod(\"attachment.getAttributes\")\nManagedAttachment.proxyMethod(\"attachment.setAttributes\")\nManagedAttachment.proxyMethod(\"attachment.isPending\")\nManagedAttachment.proxyMethod(\"attachment.isPreviewable\")\nManagedAttachment.proxyMethod(\"attachment.getURL\")\nManagedAttachment.proxyMethod(\"attachment.getHref\")\nManagedAttachment.proxyMethod(\"attachment.getFilename\")\nManagedAttachment.proxyMethod(\"attachment.getFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getFormattedFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getExtension\")\nManagedAttachment.proxyMethod(\"attachment.getContentType\")\nManagedAttachment.proxyMethod(\"attachment.getFile\")\nManagedAttachment.proxyMethod(\"attachment.setFile\")\nManagedAttachment.proxyMethod(\"attachment.releaseFile\")\nManagedAttachment.proxyMethod(\"attachment.getUploadProgress\")\nManagedAttachment.proxyMethod(\"attachment.setUploadProgress\")\n\n", "import ManagedAttachment from \"trix/models/managed_attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class AttachmentManager extends BasicObject {\n  constructor(attachments = []) {\n    super(...arguments)\n    this.managedAttachments = {}\n    Array.from(attachments).forEach((attachment) => {\n      this.manageAttachment(attachment)\n    })\n  }\n\n  getAttachments() {\n    const result = []\n    for (const id in this.managedAttachments) {\n      const attachment = this.managedAttachments[id]\n      result.push(attachment)\n    }\n    return result\n  }\n\n  manageAttachment(attachment) {\n    if (!this.managedAttachments[attachment.id]) {\n      this.managedAttachments[attachment.id] = new ManagedAttachment(this, attachment)\n    }\n    return this.managedAttachments[attachment.id]\n  }\n\n  attachmentIsManaged(attachment) {\n    return attachment.id in this.managedAttachments\n  }\n\n  requestRemovalOfAttachment(attachment) {\n    if (this.attachmentIsManaged(attachment)) {\n      return this.delegate?.attachmentManagerDidRequestRemovalOfAttachment?.(attachment)\n    }\n  }\n\n  unmanageAttachment(attachment) {\n    const managedAttachment = this.managedAttachments[attachment.id]\n    delete this.managedAttachments[attachment.id]\n    return managedAttachment\n  }\n}\n", "export default class LineBreakInsertion {\n  constructor(composition) {\n    this.composition = composition\n    this.document = this.composition.document\n    const selectedRange = this.composition.getSelectedRange()\n    this.startPosition = selectedRange[0]\n    this.endPosition = selectedRange[1]\n\n    this.startLocation = this.document.locationFromPosition(this.startPosition)\n    this.endLocation = this.document.locationFromPosition(this.endPosition)\n\n    this.block = this.document.getBlockAtIndex(this.endLocation.index)\n    this.breaksOnReturn = this.block.breaksOnReturn()\n    this.previousCharacter = this.block.text.getStringAtPosition(this.endLocation.offset - 1)\n    this.nextCharacter = this.block.text.getStringAtPosition(this.endLocation.offset)\n  }\n\n  shouldInsertBlockBreak() {\n    if (this.block.hasAttributes() && this.block.isListItem() && !this.block.isEmpty()) {\n      return this.startLocation.offset !== 0\n    } else {\n      return this.breaksOnReturn && this.nextCharacter !== \"\\n\"\n    }\n  }\n\n  shouldBreakFormattedBlock() {\n    return (\n      this.block.hasAttributes() &&\n      !this.block.isListItem() &&\n      (this.breaksOnReturn && this.nextCharacter === \"\\n\" || this.previousCharacter === \"\\n\")\n    )\n  }\n\n  shouldDecreaseListLevel() {\n    return this.block.hasAttributes() && this.block.isListItem() && this.block.isEmpty()\n  }\n\n  shouldPrependListItem() {\n    return this.block.isListItem() && this.startLocation.offset === 0 && !this.block.isEmpty()\n  }\n\n  shouldRemoveLastBlockAttribute() {\n    return this.block.hasAttributes() && !this.block.isListItem() && this.block.isEmpty()\n  }\n}\n", "import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport BasicObject from \"trix/core/basic_object\"\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\nimport LineBreakInsertion from \"trix/models/line_break_insertion\"\n\nimport {\n  arrayStartsWith,\n  extend,\n  getAllAttributeNames,\n  getBlockConfig,\n  getTextConfig,\n  normalizeRange,\n  objectsAreEqual,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  summarizeArrayChange,\n} from \"trix/core/helpers\"\n\nconst PLACEHOLDER = \" \"\n\nexport default class Composition extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.document = new Document()\n    this.attachments = []\n    this.currentAttributes = {}\n    this.revision = 0\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = document\n      this.refreshAttachments()\n      this.revision++\n      return this.delegate?.compositionDidChangeDocument?.(document)\n    }\n  }\n\n  // Snapshots\n\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.getSelectedRange(),\n    }\n  }\n\n  loadSnapshot({ document, selectedRange }) {\n    this.delegate?.compositionWillLoadSnapshot?.()\n    this.setDocument(document != null ? document : new Document())\n    this.setSelection(selectedRange != null ? selectedRange : [ 0, 0 ])\n    return this.delegate?.compositionDidLoadSnapshot?.()\n  }\n\n  // Responder protocol\n\n  insertText(text, { updatePosition } = { updatePosition: true }) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertTextAtRange(text, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + text.getLength()\n\n    if (updatePosition) {\n      this.setSelection(endPosition)\n    }\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertBlock(block = new Block()) {\n    const document = new Document([ block ])\n    return this.insertDocument(document)\n  }\n\n  insertDocument(document = new Document()) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength()\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertString(string, options) {\n    const attributes = this.getCurrentTextAttributes()\n    const text = Text.textForStringWithAttributes(string, attributes)\n    return this.insertText(text, options)\n  }\n\n  insertBlockBreak() {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertBlockBreakAtRange(selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertLineBreak() {\n    const insertion = new LineBreakInsertion(this)\n\n    if (insertion.shouldDecreaseListLevel()) {\n      this.decreaseListLevel()\n      return this.setSelection(insertion.startPosition)\n    } else if (insertion.shouldPrependListItem()) {\n      const document = new Document([ insertion.block.copyWithoutText() ])\n      return this.insertDocument(document)\n    } else if (insertion.shouldInsertBlockBreak()) {\n      return this.insertBlockBreak()\n    } else if (insertion.shouldRemoveLastBlockAttribute()) {\n      return this.removeLastBlockAttribute()\n    } else if (insertion.shouldBreakFormattedBlock()) {\n      return this.breakFormattedBlock(insertion)\n    } else {\n      return this.insertString(\"\\n\")\n    }\n  }\n\n  insertHTML(html) {\n    const document = HTMLParser.parse(html, { purifyOptions: { SAFE_FOR_XML: true } }).getDocument()\n    const selectedRange = this.getSelectedRange()\n\n    this.setDocument(this.document.mergeDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength() - 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  replaceHTML(html) {\n    const document = HTMLParser.parse(html).getDocument().copyUsingObjectsFromDocument(this.document)\n    const locationRange = this.getLocationRange({ strict: false })\n    const selectedRange = this.document.rangeFromLocationRange(locationRange)\n    this.setDocument(document)\n    return this.setSelection(selectedRange)\n  }\n\n  insertFile(file) {\n    return this.insertFiles([ file ])\n  }\n\n  insertFiles(files) {\n    const attachments = []\n\n    Array.from(files).forEach((file) => {\n      if (this.delegate?.compositionShouldAcceptFile(file)) {\n        const attachment = Attachment.attachmentForFile(file)\n        attachments.push(attachment)\n      }\n    })\n\n    return this.insertAttachments(attachments)\n  }\n\n  insertAttachment(attachment) {\n    return this.insertAttachments([ attachment ])\n  }\n\n  insertAttachments(attachments) {\n    let text = new Text()\n\n    Array.from(attachments).forEach((attachment) => {\n      const type = attachment.getType()\n      const presentation = config.attachments[type]?.presentation\n\n      const attributes = this.getCurrentTextAttributes()\n      if (presentation) {\n        attributes.presentation = presentation\n      }\n\n      const attachmentText = Text.textForAttachmentWithAttributes(attachment, attributes)\n      text = text.appendText(attachmentText)\n    })\n\n    return this.insertText(text)\n  }\n\n  shouldManageDeletingInDirection(direction) {\n    const locationRange = this.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      if (direction === \"backward\" && locationRange[0].offset === 0) {\n        return true\n      }\n      if (this.shouldManageMovingCursorInDirection(direction)) {\n        return true\n      }\n    } else {\n      if (locationRange[0].index !== locationRange[1].index) {\n        return true\n      }\n    }\n    return false\n  }\n\n  deleteInDirection(direction, { length } = {}) {\n    let attachment, deletingIntoPreviousBlock, selectionSpansBlocks\n    const locationRange = this.getLocationRange()\n    let range = this.getSelectedRange()\n    const selectionIsCollapsed = rangeIsCollapsed(range)\n\n    if (selectionIsCollapsed) {\n      deletingIntoPreviousBlock = direction === \"backward\" && locationRange[0].offset === 0\n    } else {\n      selectionSpansBlocks = locationRange[0].index !== locationRange[1].index\n    }\n\n    if (deletingIntoPreviousBlock) {\n      if (this.canDecreaseBlockAttributeLevel()) {\n        const block = this.getBlock()\n\n        if (block.isListItem()) {\n          this.decreaseListLevel()\n        } else {\n          this.decreaseBlockAttributeLevel()\n        }\n\n        this.setSelection(range[0])\n        if (block.isEmpty()) {\n          return false\n        }\n      }\n    }\n\n    if (selectionIsCollapsed) {\n      range = this.getExpandedRangeInDirection(direction, { length })\n      if (direction === \"backward\") {\n        attachment = this.getAttachmentAtRange(range)\n      }\n    }\n\n    if (attachment) {\n      this.editAttachment(attachment)\n      return false\n    } else {\n      this.setDocument(this.document.removeTextAtRange(range))\n      this.setSelection(range[0])\n      if (deletingIntoPreviousBlock || selectionSpansBlocks) {\n        return false\n      }\n    }\n  }\n\n  moveTextFromRange(range) {\n    const [ position ] = Array.from(this.getSelectedRange())\n    this.setDocument(this.document.moveTextFromRangeToPosition(range, position))\n    return this.setSelection(position)\n  }\n\n  removeAttachment(attachment) {\n    const range = this.document.getRangeOfAttachment(attachment)\n    if (range) {\n      this.stopEditingAttachment()\n      this.setDocument(this.document.removeTextAtRange(range))\n      return this.setSelection(range[0])\n    }\n  }\n\n  removeLastBlockAttribute() {\n    const [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    const block = this.document.getBlockAtPosition(endPosition)\n    this.removeCurrentAttribute(block.getLastAttribute())\n    return this.setSelection(startPosition)\n  }\n\n  insertPlaceholder() {\n    this.placeholderPosition = this.getPosition()\n    return this.insertString(PLACEHOLDER)\n  }\n\n  selectPlaceholder() {\n    if (this.placeholderPosition != null) {\n      this.setSelectedRange([ this.placeholderPosition, this.placeholderPosition + PLACEHOLDER.length ])\n      return this.getSelectedRange()\n    }\n  }\n\n  forgetPlaceholder() {\n    this.placeholderPosition = null\n  }\n\n  // Current attributes\n\n  hasCurrentAttribute(attributeName) {\n    const value = this.currentAttributes[attributeName]\n    return value != null && value !== false\n  }\n\n  toggleCurrentAttribute(attributeName) {\n    const value = !this.currentAttributes[attributeName]\n    if (value) {\n      return this.setCurrentAttribute(attributeName, value)\n    } else {\n      return this.removeCurrentAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      return this.canSetCurrentBlockAttribute(attributeName)\n    } else {\n      return this.canSetCurrentTextAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentTextAttribute(attributeName) {\n    const document = this.getSelectedDocument()\n    if (!document) return\n    for (const attachment of Array.from(document.getAttachments())) {\n      if (!attachment.hasContent()) {\n        return false\n      }\n    }\n    return true\n  }\n\n  canSetCurrentBlockAttribute(attributeName) {\n    const block = this.getBlock()\n    if (!block) return\n    return !block.isTerminalBlock()\n  }\n\n  setCurrentAttribute(attributeName, value) {\n    if (getBlockConfig(attributeName)) {\n      return this.setBlockAttribute(attributeName, value)\n    } else {\n      this.setTextAttribute(attributeName, value)\n      this.currentAttributes[attributeName] = value\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  setHTMLAtributeAtPosition(position, attributeName, value) {\n    const block = this.document.getBlockAtPosition(position)\n    const allowedHTMLAttributes = getBlockConfig(block.getLastAttribute())?.htmlAttributes\n\n    if (block && allowedHTMLAttributes?.includes(attributeName)) {\n      const newDocument = this.document.setHTMLAttributeAtPosition(position, attributeName, value)\n      this.setDocument(newDocument)\n    }\n  }\n\n  setTextAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n\n    const [ startPosition, endPosition ] = Array.from(selectedRange)\n    if (startPosition === endPosition) {\n      if (attributeName === \"href\") {\n        const text = Text.textForStringWithAttributes(value, { href: value })\n        return this.insertText(text)\n      }\n    } else {\n      return this.setDocument(this.document.addAttributeAtRange(attributeName, value, selectedRange))\n    }\n  }\n\n  setBlockAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (this.canSetCurrentAttribute(attributeName)) {\n      this.setDocument(this.document.applyBlockAttributeAtRange(attributeName, value, selectedRange))\n      return this.setSelection(selectedRange)\n    }\n  }\n\n  removeCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      this.removeBlockAttribute(attributeName)\n      return this.updateCurrentAttributes()\n    } else {\n      this.removeTextAttribute(attributeName)\n      delete this.currentAttributes[attributeName]\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  removeTextAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  removeBlockAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  canDecreaseNestingLevel() {\n    return this.getBlock()?.getNestingLevel() > 0\n  }\n\n  canIncreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    if (getBlockConfig(block.getLastNestableAttribute())?.listAttribute) {\n      const previousBlock = this.getPreviousBlock()\n      if (previousBlock) {\n        return arrayStartsWith(previousBlock.getListItemAttributes(), block.getListItemAttributes())\n      }\n    } else {\n      return block.getNestingLevel() > 0\n    }\n  }\n\n  decreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.decreaseNestingLevel()))\n  }\n\n  increaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.increaseNestingLevel()))\n  }\n\n  canDecreaseBlockAttributeLevel() {\n    return this.getBlock()?.getAttributeLevel() > 0\n  }\n\n  decreaseBlockAttributeLevel() {\n    const attribute = this.getBlock()?.getLastAttribute()\n    if (attribute) {\n      return this.removeCurrentAttribute(attribute)\n    }\n  }\n\n  decreaseListLevel() {\n    let [ startPosition ] = Array.from(this.getSelectedRange())\n    const { index } = this.document.locationFromPosition(startPosition)\n    let endIndex = index\n    const attributeLevel = this.getBlock().getAttributeLevel()\n\n    let block = this.document.getBlockAtIndex(endIndex + 1)\n    while (block) {\n      if (!block.isListItem() || block.getAttributeLevel() <= attributeLevel) {\n        break\n      }\n      endIndex++\n      block = this.document.getBlockAtIndex(endIndex + 1)\n    }\n\n    startPosition = this.document.positionFromLocation({ index, offset: 0 })\n    const endPosition = this.document.positionFromLocation({ index: endIndex, offset: 0 })\n    return this.setDocument(this.document.removeLastListAttributeAtRange([ startPosition, endPosition ]))\n  }\n\n  updateCurrentAttributes() {\n    const selectedRange = this.getSelectedRange({ ignoreLock: true })\n    if (selectedRange) {\n      const currentAttributes = this.document.getCommonAttributesAtRange(selectedRange)\n\n      Array.from(getAllAttributeNames()).forEach((attributeName) => {\n        if (!currentAttributes[attributeName]) {\n          if (!this.canSetCurrentAttribute(attributeName)) {\n            currentAttributes[attributeName] = false\n          }\n        }\n      })\n\n      if (!objectsAreEqual(currentAttributes, this.currentAttributes)) {\n        this.currentAttributes = currentAttributes\n        return this.notifyDelegateOfCurrentAttributesChange()\n      }\n    }\n  }\n\n  getCurrentAttributes() {\n    return extend.call({}, this.currentAttributes)\n  }\n\n  getCurrentTextAttributes() {\n    const attributes = {}\n    for (const key in this.currentAttributes) {\n      const value = this.currentAttributes[key]\n      if (value !== false) {\n        if (getTextConfig(key)) {\n          attributes[key] = value\n        }\n      }\n    }\n    return attributes\n  }\n\n  // Selection freezing\n\n  freezeSelection() {\n    return this.setCurrentAttribute(\"frozen\", true)\n  }\n\n  thawSelection() {\n    return this.removeCurrentAttribute(\"frozen\")\n  }\n\n  hasFrozenSelection() {\n    return this.hasCurrentAttribute(\"frozen\")\n  }\n\n  setSelection(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.delegate?.compositionDidRequestChangingSelectionToLocationRange(locationRange)\n  }\n\n  getSelectedRange() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.rangeFromLocationRange(locationRange)\n    }\n  }\n\n  setSelectedRange(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.getSelectionManager().setLocationRange(locationRange)\n  }\n\n  getPosition() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.positionFromLocation(locationRange[0])\n    }\n  }\n\n  getLocationRange(options) {\n    if (this.targetLocationRange) {\n      return this.targetLocationRange\n    } else {\n      return this.getSelectionManager().getLocationRange(options) || normalizeRange({ index: 0, offset: 0 })\n    }\n  }\n\n  withTargetLocationRange(locationRange, fn) {\n    let result\n    this.targetLocationRange = locationRange\n    try {\n      result = fn()\n    } finally {\n      this.targetLocationRange = null\n    }\n    return result\n  }\n\n  withTargetRange(range, fn) {\n    const locationRange = this.document.locationRangeFromRange(range)\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  withTargetDOMRange(domRange, fn) {\n    const locationRange = this.createLocationRangeFromDOMRange(domRange, { strict: false })\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  getExpandedRangeInDirection(direction, { length } = {}) {\n    let [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    if (direction === \"backward\") {\n      if (length) {\n        startPosition -= length\n      } else {\n        startPosition = this.translateUTF16PositionFromOffset(startPosition, -1)\n      }\n    } else {\n      if (length) {\n        endPosition += length\n      } else {\n        endPosition = this.translateUTF16PositionFromOffset(endPosition, 1)\n      }\n    }\n    return normalizeRange([ startPosition, endPosition ])\n  }\n\n  shouldManageMovingCursorInDirection(direction) {\n    if (this.editingAttachment) {\n      return true\n    }\n    const range = this.getExpandedRangeInDirection(direction)\n    return this.getAttachmentAtRange(range) != null\n  }\n\n  moveCursorInDirection(direction) {\n    let canEditAttachment, range\n    if (this.editingAttachment) {\n      range = this.document.getRangeOfAttachment(this.editingAttachment)\n    } else {\n      const selectedRange = this.getSelectedRange()\n      range = this.getExpandedRangeInDirection(direction)\n      canEditAttachment = !rangesAreEqual(selectedRange, range)\n    }\n\n    if (direction === \"backward\") {\n      this.setSelectedRange(range[0])\n    } else {\n      this.setSelectedRange(range[1])\n    }\n\n    if (canEditAttachment) {\n      const attachment = this.getAttachmentAtRange(range)\n      if (attachment) {\n        return this.editAttachment(attachment)\n      }\n    }\n  }\n\n  expandSelectionInDirection(direction, { length } = {}) {\n    const range = this.getExpandedRangeInDirection(direction, { length })\n    return this.setSelectedRange(range)\n  }\n\n  expandSelectionForEditing() {\n    if (this.hasCurrentAttribute(\"href\")) {\n      return this.expandSelectionAroundCommonAttribute(\"href\")\n    }\n  }\n\n  expandSelectionAroundCommonAttribute(attributeName) {\n    const position = this.getPosition()\n    const range = this.document.getRangeOfCommonAttributeAtPosition(attributeName, position)\n    return this.setSelectedRange(range)\n  }\n\n  selectionContainsAttachments() {\n    return this.getSelectedAttachments()?.length > 0\n  }\n\n  selectionIsInCursorTarget() {\n    return this.editingAttachment || this.positionIsCursorTarget(this.getPosition())\n  }\n\n  positionIsCursorTarget(position) {\n    const location = this.document.locationFromPosition(position)\n    if (location) {\n      return this.locationIsCursorTarget(location)\n    }\n  }\n\n  positionIsBlockBreak(position) {\n    return this.document.getPieceAtPosition(position)?.isBlockBreak()\n  }\n\n  getSelectedDocument() {\n    const selectedRange = this.getSelectedRange()\n    if (selectedRange) {\n      return this.document.getDocumentAtRange(selectedRange)\n    }\n  }\n\n  getSelectedAttachments() {\n    return this.getSelectedDocument()?.getAttachments()\n  }\n\n  // Attachments\n\n  getAttachments() {\n    return this.attachments.slice(0)\n  }\n\n  refreshAttachments() {\n    const attachments = this.document.getAttachments()\n    const { added, removed } = summarizeArrayChange(this.attachments, attachments)\n    this.attachments = attachments\n\n    Array.from(removed).forEach((attachment) => {\n      attachment.delegate = null\n      this.delegate?.compositionDidRemoveAttachment?.(attachment)\n    })\n\n    return (() => {\n      const result = []\n\n      Array.from(added).forEach((attachment) => {\n        attachment.delegate = this\n        result.push(this.delegate?.compositionDidAddAttachment?.(attachment))\n      })\n\n      return result\n    })()\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidEditAttachment?.(attachment)\n  }\n\n  attachmentDidChangePreviewURL(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidChangeAttachmentPreviewURL?.(attachment)\n  }\n\n  // Attachment editing\n\n  editAttachment(attachment, options) {\n    if (attachment === this.editingAttachment) return\n    this.stopEditingAttachment()\n    this.editingAttachment = attachment\n    return this.delegate?.compositionDidStartEditingAttachment?.(this.editingAttachment, options)\n  }\n\n  stopEditingAttachment() {\n    if (!this.editingAttachment) return\n    this.delegate?.compositionDidStopEditingAttachment?.(this.editingAttachment)\n    this.editingAttachment = null\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    return this.setDocument(this.document.updateAttributesForAttachment(attributes, attachment))\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    return this.setDocument(this.document.removeAttributeForAttachment(attribute, attachment))\n  }\n\n  // Private\n\n  breakFormattedBlock(insertion) {\n    let { document } = insertion\n    const { block } = insertion\n    let position = insertion.startPosition\n    let range = [ position - 1, position ]\n\n    if (block.getBlockBreakPosition() === insertion.startLocation.offset) {\n      if (block.breaksOnReturn() && insertion.nextCharacter === \"\\n\") {\n        position += 1\n      } else {\n        document = document.removeTextAtRange(range)\n      }\n      range = [ position, position ]\n    } else if (insertion.nextCharacter === \"\\n\") {\n      if (insertion.previousCharacter === \"\\n\") {\n        range = [ position - 1, position + 1 ]\n      } else {\n        range = [ position, position + 1 ]\n        position += 1\n      }\n    } else if (insertion.startLocation.offset - 1 !== 0) {\n      position += 1\n    }\n\n    const newDocument = new Document([ block.removeLastAttribute().copyWithoutText() ])\n    this.setDocument(document.insertDocumentAtRange(newDocument, range))\n    return this.setSelection(position)\n  }\n\n  getPreviousBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      const { index } = locationRange[0]\n      if (index > 0) {\n        return this.document.getBlockAtIndex(index - 1)\n      }\n    }\n  }\n\n  getBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.getBlockAtIndex(locationRange[0].index)\n    }\n  }\n\n  getAttachmentAtRange(range) {\n    const document = this.document.getDocumentAtRange(range)\n    if (document.toString() === `${OBJECT_REPLACEMENT_CHARACTER}\\n`) {\n      return document.getAttachments()[0]\n    }\n  }\n\n  notifyDelegateOfCurrentAttributesChange() {\n    return this.delegate?.compositionDidChangeCurrentAttributes?.(this.currentAttributes)\n  }\n\n  notifyDelegateOfInsertionAtRange(range) {\n    return this.delegate?.compositionDidPerformInsertionAtRange?.(range)\n  }\n\n  translateUTF16PositionFromOffset(position, offset) {\n    const utf16string = this.document.toUTF16String()\n    const utf16position = utf16string.offsetFromUCS2Offset(position)\n    return utf16string.offsetToUCS2Offset(utf16position + offset)\n  }\n}\n\nComposition.proxyMethod(\"getSelectionManager().getPointRange\")\nComposition.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\")\nComposition.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\")\nComposition.proxyMethod(\"getSelectionManager().locationIsCursorTarget\")\nComposition.proxyMethod(\"getSelectionManager().selectionIsExpanded\")\nComposition.proxyMethod(\"delegate?.getSelectionManager\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UndoManager extends BasicObject {\n  constructor(composition) {\n    super(...arguments)\n    this.composition = composition\n    this.undoEntries = []\n    this.redoEntries = []\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    const previousEntry = this.undoEntries.slice(-1)[0]\n\n    if (!consolidatable || !entryHasDescriptionAndContext(previousEntry, description, context)) {\n      const undoEntry = this.createEntry({ description, context })\n      this.undoEntries.push(undoEntry)\n      this.redoEntries = []\n    }\n  }\n\n  undo() {\n    const undoEntry = this.undoEntries.pop()\n    if (undoEntry) {\n      const redoEntry = this.createEntry(undoEntry)\n      this.redoEntries.push(redoEntry)\n      return this.composition.loadSnapshot(undoEntry.snapshot)\n    }\n  }\n\n  redo() {\n    const redoEntry = this.redoEntries.pop()\n    if (redoEntry) {\n      const undoEntry = this.createEntry(redoEntry)\n      this.undoEntries.push(undoEntry)\n      return this.composition.loadSnapshot(redoEntry.snapshot)\n    }\n  }\n\n  canUndo() {\n    return this.undoEntries.length > 0\n  }\n\n  canRedo() {\n    return this.redoEntries.length > 0\n  }\n\n  // Private\n\n  createEntry({ description, context } = {}) {\n    return {\n      description: description?.toString(),\n      context: JSON.stringify(context),\n      snapshot: this.composition.getSnapshot(),\n    }\n  }\n}\n\nconst entryHasDescriptionAndContext = (entry, description, context) =>\n  entry?.description === description?.toString() && entry?.context === JSON.stringify(context)\n", "const BLOCK_ATTRIBUTE_NAME = \"attachmentGallery\"\nconst TEXT_ATTRIBUTE_NAME = \"presentation\"\nconst TEXT_ATTRIBUTE_VALUE = \"gallery\"\n\nexport default class Filter {\n  constructor(snapshot) {\n    this.document = snapshot.document\n    this.selectedRange = snapshot.selectedRange\n  }\n\n  perform() {\n    this.removeBlockAttribute()\n    return this.applyBlockAttribute()\n  }\n\n  getSnapshot() {\n    return { document: this.document, selectedRange: this.selectedRange }\n  }\n\n  // Private\n\n  removeBlockAttribute() {\n    return this.findRangesOfBlocks().map((range) => this.document = this.document.removeAttributeAtRange(BLOCK_ATTRIBUTE_NAME, range))\n  }\n\n  applyBlockAttribute() {\n    let offset = 0\n\n    this.findRangesOfPieces().forEach((range) => {\n      if (range[1] - range[0] > 1) {\n        range[0] += offset\n        range[1] += offset\n\n        if (this.document.getCharacterAtPosition(range[1]) !== \"\\n\") {\n          this.document = this.document.insertBlockBreakAtRange(range[1])\n          if (range[1] < this.selectedRange[1]) {\n            this.moveSelectedRangeForward()\n          }\n          range[1]++\n          offset++\n        }\n\n        if (range[0] !== 0) {\n          if (this.document.getCharacterAtPosition(range[0] - 1) !== \"\\n\") {\n            this.document = this.document.insertBlockBreakAtRange(range[0])\n            if (range[0] < this.selectedRange[0]) {\n              this.moveSelectedRangeForward()\n            }\n            range[0]++\n            offset++\n          }\n        }\n\n        this.document = this.document.applyBlockAttributeAtRange(BLOCK_ATTRIBUTE_NAME, true, range)\n      }\n    })\n  }\n\n  findRangesOfBlocks() {\n    return this.document.findRangesForBlockAttribute(BLOCK_ATTRIBUTE_NAME)\n  }\n\n  findRangesOfPieces() {\n    return this.document.findRangesForTextAttribute(TEXT_ATTRIBUTE_NAME, { withValue: TEXT_ATTRIBUTE_VALUE })\n  }\n\n  moveSelectedRangeForward() {\n    this.selectedRange[0] += 1\n    this.selectedRange[1] += 1\n  }\n}\n", "import Filter from \"./filter\"\n\nexport const attachmentGalleryFilter = function(snapshot) {\n  const filter = new Filter(snapshot)\n  filter.perform()\n  return filter.getSnapshot()\n}\n\n", "import Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nimport UndoManager from \"trix/models/undo_manager\"\nimport { attachmentGalleryFilter } from \"trix/filters/attachment_gallery_filter\"\nconst DEFAULT_FILTERS = [ attachmentGalleryFilter ]\n\nexport default class Editor {\n  constructor(composition, selectionManager, element) {\n    this.insertFiles = this.insertFiles.bind(this)\n    this.composition = composition\n    this.selectionManager = selectionManager\n    this.element = element\n    this.undoManager = new UndoManager(this.composition)\n    this.filters = DEFAULT_FILTERS.slice(0)\n  }\n\n  loadDocument(document) {\n    return this.loadSnapshot({ document, selectedRange: [ 0, 0 ] })\n  }\n\n  loadHTML(html = \"\") {\n    const document = HTMLParser.parse(html, { referenceElement: this.element }).getDocument()\n    return this.loadDocument(document)\n  }\n\n  loadJSON({ document, selectedRange }) {\n    document = Document.fromJSON(document)\n    return this.loadSnapshot({ document, selectedRange })\n  }\n\n  loadSnapshot(snapshot) {\n    this.undoManager = new UndoManager(this.composition)\n    return this.composition.loadSnapshot(snapshot)\n  }\n\n  getDocument() {\n    return this.composition.document\n  }\n\n  getSelectedDocument() {\n    return this.composition.getSelectedDocument()\n  }\n\n  getSnapshot() {\n    return this.composition.getSnapshot()\n  }\n\n  toJSON() {\n    return this.getSnapshot()\n  }\n\n  // Document manipulation\n\n  deleteInDirection(direction) {\n    return this.composition.deleteInDirection(direction)\n  }\n\n  insertAttachment(attachment) {\n    return this.composition.insertAttachment(attachment)\n  }\n\n  insertAttachments(attachments) {\n    return this.composition.insertAttachments(attachments)\n  }\n\n  insertDocument(document) {\n    return this.composition.insertDocument(document)\n  }\n\n  insertFile(file) {\n    return this.composition.insertFile(file)\n  }\n\n  insertFiles(files) {\n    return this.composition.insertFiles(files)\n  }\n\n  insertHTML(html) {\n    return this.composition.insertHTML(html)\n  }\n\n  insertString(string) {\n    return this.composition.insertString(string)\n  }\n\n  insertText(text) {\n    return this.composition.insertText(text)\n  }\n\n  insertLineBreak() {\n    return this.composition.insertLineBreak()\n  }\n\n  // Selection\n\n  getSelectedRange() {\n    return this.composition.getSelectedRange()\n  }\n\n  getPosition() {\n    return this.composition.getPosition()\n  }\n\n  getClientRectAtPosition(position) {\n    const locationRange = this.getDocument().locationRangeFromRange([ position, position + 1 ])\n    return this.selectionManager.getClientRectAtLocationRange(locationRange)\n  }\n\n  expandSelectionInDirection(direction) {\n    return this.composition.expandSelectionInDirection(direction)\n  }\n\n  moveCursorInDirection(direction) {\n    return this.composition.moveCursorInDirection(direction)\n  }\n\n  setSelectedRange(selectedRange) {\n    return this.composition.setSelectedRange(selectedRange)\n  }\n\n  // Attributes\n\n  activateAttribute(name, value = true) {\n    return this.composition.setCurrentAttribute(name, value)\n  }\n\n  attributeIsActive(name) {\n    return this.composition.hasCurrentAttribute(name)\n  }\n\n  canActivateAttribute(name) {\n    return this.composition.canSetCurrentAttribute(name)\n  }\n\n  deactivateAttribute(name) {\n    return this.composition.removeCurrentAttribute(name)\n  }\n\n  // HTML attributes\n  setHTMLAtributeAtPosition(position, name, value) {\n    this.composition.setHTMLAtributeAtPosition(position, name, value)\n  }\n\n  // Nesting level\n\n  canDecreaseNestingLevel() {\n    return this.composition.canDecreaseNestingLevel()\n  }\n\n  canIncreaseNestingLevel() {\n    return this.composition.canIncreaseNestingLevel()\n  }\n\n  decreaseNestingLevel() {\n    if (this.canDecreaseNestingLevel()) {\n      return this.composition.decreaseNestingLevel()\n    }\n  }\n\n  increaseNestingLevel() {\n    if (this.canIncreaseNestingLevel()) {\n      return this.composition.increaseNestingLevel()\n    }\n  }\n\n  // Undo/redo\n\n  canRedo() {\n    return this.undoManager.canRedo()\n  }\n\n  canUndo() {\n    return this.undoManager.canUndo()\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    return this.undoManager.recordUndoEntry(description, { context, consolidatable })\n  }\n\n  redo() {\n    if (this.canRedo()) {\n      return this.undoManager.redo()\n    }\n  }\n\n  undo() {\n    if (this.canUndo()) {\n      return this.undoManager.undo()\n    }\n  }\n}\n", "/* eslint-disable\n    no-var,\n    prefer-const,\n*/\nimport {\n  elementContainsNode,\n  findChildIndexOfNode,\n  nodeIsAttachmentElement,\n  nodeIsBlockContainer,\n  nodeIsBlockStart,\n  nodeIsBlockStartComment,\n  nodeIsCursorTarget,\n  nodeIsEmptyTextNode,\n  nodeIsTextNode,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nexport default class LocationMapper {\n  constructor(element) {\n    this.element = element\n  }\n\n  findLocationFromContainerAndOffset(container, offset, { strict } = { strict: true }) {\n    let childIndex = 0\n    let foundBlock = false\n    const location = { index: 0, offset: 0 }\n    const attachmentElement = this.findAttachmentElementParentForNode(container)\n\n    if (attachmentElement) {\n      container = attachmentElement.parentNode\n      offset = findChildIndexOfNode(attachmentElement)\n    }\n\n    const walker = walkTree(this.element, { usingFilter: rejectAttachmentContents })\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n\n      if (node === container && nodeIsTextNode(container)) {\n        if (!nodeIsCursorTarget(node)) {\n          location.offset += offset\n        }\n        break\n      } else {\n        if (node.parentNode === container) {\n          if (childIndex++ === offset) {\n            break\n          }\n        } else if (!elementContainsNode(container, node)) {\n          if (childIndex > 0) {\n            break\n          }\n        }\n\n        if (nodeIsBlockStart(node, { strict })) {\n          if (foundBlock) {\n            location.index++\n          }\n          location.offset = 0\n          foundBlock = true\n        } else {\n          location.offset += nodeLength(node)\n        }\n      }\n    }\n\n    return location\n  }\n\n  findContainerAndOffsetFromLocation(location) {\n    let container, offset\n    if (location.index === 0 && location.offset === 0) {\n      container = this.element\n      offset = 0\n\n      while (container.firstChild) {\n        container = container.firstChild\n        if (nodeIsBlockContainer(container)) {\n          offset = 1\n          break\n        }\n      }\n\n      return [ container, offset ]\n    }\n\n    let [ node, nodeOffset ] = this.findNodeAndOffsetFromLocation(location)\n    if (!node) return\n\n    if (nodeIsTextNode(node)) {\n      if (nodeLength(node) === 0) {\n        container = node.parentNode.parentNode\n        offset = findChildIndexOfNode(node.parentNode)\n        if (nodeIsCursorTarget(node, { name: \"right\" })) {\n          offset++\n        }\n      } else {\n        container = node\n        offset = location.offset - nodeOffset\n      }\n    } else {\n      container = node.parentNode\n\n      if (!nodeIsBlockStart(node.previousSibling)) {\n        if (!nodeIsBlockContainer(container)) {\n          while (node === container.lastChild) {\n            node = container\n            container = container.parentNode\n            if (nodeIsBlockContainer(container)) {\n              break\n            }\n          }\n        }\n      }\n\n      offset = findChildIndexOfNode(node)\n      if (location.offset !== 0) {\n        offset++\n      }\n    }\n\n    return [ container, offset ]\n  }\n\n  findNodeAndOffsetFromLocation(location) {\n    let node, nodeOffset\n    let offset = 0\n\n    for (const currentNode of this.getSignificantNodesForIndex(location.index)) {\n      const length = nodeLength(currentNode)\n\n      if (location.offset <= offset + length) {\n        if (nodeIsTextNode(currentNode)) {\n          node = currentNode\n          nodeOffset = offset\n          if (location.offset === nodeOffset && nodeIsCursorTarget(node)) {\n            break\n          }\n        } else if (!node) {\n          node = currentNode\n          nodeOffset = offset\n        }\n      }\n\n      offset += length\n      if (offset > location.offset) {\n        break\n      }\n    }\n\n    return [ node, nodeOffset ]\n  }\n\n  // Private\n\n  findAttachmentElementParentForNode(node) {\n    while (node && node !== this.element) {\n      if (nodeIsAttachmentElement(node)) {\n        return node\n      }\n      node = node.parentNode\n    }\n  }\n\n  getSignificantNodesForIndex(index) {\n    const nodes = []\n    const walker = walkTree(this.element, { usingFilter: acceptSignificantNodes })\n    let recordingNodes = false\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      if (nodeIsBlockStartComment(node)) {\n        var blockIndex\n        if (blockIndex != null) {\n          blockIndex++\n        } else {\n          blockIndex = 0\n        }\n\n        if (blockIndex === index) {\n          recordingNodes = true\n        } else if (recordingNodes) {\n          break\n        }\n      } else if (recordingNodes) {\n        nodes.push(node)\n      }\n    }\n\n    return nodes\n  }\n}\n\nconst nodeLength = function(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    if (nodeIsCursorTarget(node)) {\n      return 0\n    } else {\n      const string = node.textContent\n      return string.length\n    }\n  } else if (tagName(node) === \"br\" || nodeIsAttachmentElement(node)) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nconst acceptSignificantNodes = function(node) {\n  if (rejectEmptyTextNodes(node) === NodeFilter.FILTER_ACCEPT) {\n    return rejectAttachmentContents(node)\n  } else {\n    return NodeFilter.FILTER_REJECT\n  }\n}\n\nconst rejectEmptyTextNodes = function(node) {\n  if (nodeIsEmptyTextNode(node)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\nconst rejectAttachmentContents = function(node) {\n  if (nodeIsAttachmentElement(node.parentNode)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n", "/* eslint-disable\n    id-length,\n    no-empty,\n*/\nimport { getDOMRange, setDOMRange } from \"trix/core/helpers\"\n\nexport default class PointMapper {\n  createDOMRangeFromPoint({ x, y }) {\n    let domRange\n    if (document.caretPositionFromPoint) {\n      const { offsetNode, offset } = document.caretPositionFromPoint(x, y)\n      domRange = document.createRange()\n      domRange.setStart(offsetNode, offset)\n      return domRange\n    } else if (document.caretRangeFromPoint) {\n      return document.caretRangeFromPoint(x, y)\n    } else if (document.body.createTextRange) {\n      const originalDOMRange = getDOMRange()\n      try {\n        // IE 11 throws \"Unspecified error\" when using moveToPoint\n        // during a drag-and-drop operation.\n        const textRange = document.body.createTextRange()\n        textRange.moveToPoint(x, y)\n        textRange.select()\n      } catch (error) {}\n      domRange = getDOMRange()\n      setDOMRange(originalDOMRange)\n      return domRange\n    }\n  }\n\n  getClientRectsForDOMRange(domRange) {\n    const array = Array.from(domRange.getClientRects())\n    const start = array[0]\n    const end = array[array.length - 1]\n\n    return [ start, end ]\n  }\n}\n", "/* eslint-disable\n*/\nimport BasicObject from \"trix/core/basic_object\"\n\nimport LocationMapper from \"trix/models/location_mapper\"\nimport PointMapper from \"trix/models/point_mapper\"\n\nimport {\n  elementContainsNode,\n  getDOMRange,\n  getDOMSelection,\n  handleEvent,\n  innerElementIsActive,\n  nodeIsCursorTarget,\n  normalizeRange,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  setDOMRange,\n} from \"trix/core/helpers\"\n\nexport default class SelectionManager extends BasicObject {\n  constructor(element) {\n    super(...arguments)\n    this.didMouseDown = this.didMouseDown.bind(this)\n    this.selectionDidChange = this.selectionDidChange.bind(this)\n    this.element = element\n    this.locationMapper = new LocationMapper(this.element)\n    this.pointMapper = new PointMapper()\n    this.lockCount = 0\n    handleEvent(\"mousedown\", { onElement: this.element, withCallback: this.didMouseDown })\n  }\n\n  getLocationRange(options = {}) {\n    if (options.strict === false) {\n      return this.createLocationRangeFromDOMRange(getDOMRange())\n    } else if (options.ignoreLock) {\n      return this.currentLocationRange\n    } else if (this.lockedLocationRange) {\n      return this.lockedLocationRange\n    } else {\n      return this.currentLocationRange\n    }\n  }\n\n  setLocationRange(locationRange) {\n    if (this.lockedLocationRange) return\n    locationRange = normalizeRange(locationRange)\n\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      setDOMRange(domRange)\n      this.updateCurrentLocationRange(locationRange)\n    }\n  }\n\n  setLocationRangeFromPointRange(pointRange) {\n    pointRange = normalizeRange(pointRange)\n    const startLocation = this.getLocationAtPoint(pointRange[0])\n    const endLocation = this.getLocationAtPoint(pointRange[1])\n    this.setLocationRange([ startLocation, endLocation ])\n  }\n\n  getClientRectAtLocationRange(locationRange) {\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      return this.getClientRectsForDOMRange(domRange)[1]\n    }\n  }\n\n  locationIsCursorTarget(location) {\n    const node = Array.from(this.findNodeAndOffsetFromLocation(location))[0]\n    return nodeIsCursorTarget(node)\n  }\n\n  lock() {\n    if (this.lockCount++ === 0) {\n      this.updateCurrentLocationRange()\n      this.lockedLocationRange = this.getLocationRange()\n    }\n  }\n\n  unlock() {\n    if (--this.lockCount === 0) {\n      const { lockedLocationRange } = this\n      this.lockedLocationRange = null\n      if (lockedLocationRange != null) {\n        return this.setLocationRange(lockedLocationRange)\n      }\n    }\n  }\n\n  clearSelection() {\n    return getDOMSelection()?.removeAllRanges()\n  }\n\n  selectionIsCollapsed() {\n    return getDOMRange()?.collapsed === true\n  }\n\n  selectionIsExpanded() {\n    return !this.selectionIsCollapsed()\n  }\n\n  createLocationRangeFromDOMRange(domRange, options) {\n    if (domRange == null || !this.domRangeWithinElement(domRange)) return\n\n    const start = this.findLocationFromContainerAndOffset(domRange.startContainer, domRange.startOffset, options)\n    if (!start) return\n\n    const end = domRange.collapsed\n      ? undefined\n      : this.findLocationFromContainerAndOffset(domRange.endContainer, domRange.endOffset, options)\n\n    return normalizeRange([ start, end ])\n  }\n\n  didMouseDown() {\n    return this.pauseTemporarily()\n  }\n\n  pauseTemporarily() {\n    let resumeHandlers\n    this.paused = true\n\n    const resume = () => {\n      this.paused = false\n      clearTimeout(resumeTimeout)\n\n      Array.from(resumeHandlers).forEach((handler) => {\n        handler.destroy()\n      })\n\n      if (elementContainsNode(document, this.element)) {\n        return this.selectionDidChange()\n      }\n    }\n\n    const resumeTimeout = setTimeout(resume, 200)\n\n    resumeHandlers = [ \"mousemove\", \"keydown\" ].map((eventName) =>\n      handleEvent(eventName, { onElement: document, withCallback: resume })\n    )\n  }\n\n  selectionDidChange() {\n    if (!this.paused && !innerElementIsActive(this.element)) {\n      return this.updateCurrentLocationRange()\n    }\n  }\n\n  updateCurrentLocationRange(locationRange) {\n    if (locationRange != null ? locationRange : locationRange = this.createLocationRangeFromDOMRange(getDOMRange())) {\n      if (!rangesAreEqual(locationRange, this.currentLocationRange)) {\n        this.currentLocationRange = locationRange\n        return this.delegate?.locationRangeDidChange?.(this.currentLocationRange.slice(0))\n      }\n    }\n  }\n\n  createDOMRangeFromLocationRange(locationRange) {\n    const rangeStart = this.findContainerAndOffsetFromLocation(locationRange[0])\n    const rangeEnd = rangeIsCollapsed(locationRange)\n      ? rangeStart\n      : this.findContainerAndOffsetFromLocation(locationRange[1]) || rangeStart\n\n    if (rangeStart != null && rangeEnd != null) {\n      const domRange = document.createRange()\n      domRange.setStart(...Array.from(rangeStart || []))\n      domRange.setEnd(...Array.from(rangeEnd || []))\n      return domRange\n    }\n  }\n\n  getLocationAtPoint(point) {\n    const domRange = this.createDOMRangeFromPoint(point)\n    if (domRange) {\n      return this.createLocationRangeFromDOMRange(domRange)?.[0]\n    }\n  }\n\n  domRangeWithinElement(domRange) {\n    if (domRange.collapsed) {\n      return elementContainsNode(this.element, domRange.startContainer)\n    } else {\n      return (\n        elementContainsNode(this.element, domRange.startContainer) &&\n        elementContainsNode(this.element, domRange.endContainer)\n      )\n    }\n  }\n}\n\nSelectionManager.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\")\nSelectionManager.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"pointMapper.createDOMRangeFromPoint\")\nSelectionManager.proxyMethod(\"pointMapper.getClientRectsForDOMRange\")\n\n", "import { removeNode } from \"trix/core/helpers\"\n\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\n\nimport { defer, handleEvent, makeElement, tagName, triggerEvent } from \"trix/core/helpers\"\nconst { lang, css, keyNames } = config\n\nconst undoable = function(fn) {\n  return function() {\n    const commands = fn.apply(this, arguments)\n    commands.do()\n    if (!this.undos) {\n      this.undos = []\n    }\n    this.undos.push(commands.undo)\n  }\n}\n\nexport default class AttachmentEditorController extends BasicObject {\n  constructor(attachmentPiece, element, container, options = {}) {\n    super(...arguments)\n    this.didClickToolbar = this.didClickToolbar.bind(this)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didKeyDownCaption = this.didKeyDownCaption.bind(this)\n    this.didInputCaption = this.didInputCaption.bind(this)\n    this.didChangeCaption = this.didChangeCaption.bind(this)\n    this.didBlurCaption = this.didBlurCaption.bind(this)\n    this.attachmentPiece = attachmentPiece\n    this.element = element\n    this.container = container\n    this.options = options\n    this.attachment = this.attachmentPiece.attachment\n    if (tagName(this.element) === \"a\") {\n      this.element = this.element.firstChild\n    }\n    this.install()\n  }\n\n  install() {\n    this.makeElementMutable()\n    this.addToolbar()\n    if (this.attachment.isPreviewable()) {\n      this.installCaptionEditor()\n    }\n  }\n\n  uninstall() {\n    let undo = this.undos.pop()\n    this.savePendingCaption()\n    while (undo) {\n      undo()\n      undo = this.undos.pop()\n    }\n    this.delegate?.didUninstallAttachmentEditor(this)\n  }\n\n  // Private\n\n  savePendingCaption() {\n    if (this.pendingCaption != null) {\n      const caption = this.pendingCaption\n      this.pendingCaption = null\n      if (caption) {\n        this.delegate?.attachmentEditorDidRequestUpdatingAttributesForAttachment?.({ caption }, this.attachment)\n      } else {\n        this.delegate?.attachmentEditorDidRequestRemovingAttributeForAttachment?.(\"caption\", this.attachment)\n      }\n    }\n  }\n\n  // Installing and uninstalling\n\n  makeElementMutable = undoable(() => {\n    return {\n      do: () => {\n        this.element.dataset.trixMutable = true\n      },\n      undo: () => delete this.element.dataset.trixMutable,\n    }\n  })\n\n  addToolbar = undoable(() => {\n    // <div class=\"#{css.attachmentMetadataContainer}\" data-trix-mutable=\"true\">\n    //   <div class=\"trix-button-row\">\n    //     <span class=\"trix-button-group trix-button-group--actions\">\n    //       <button type=\"button\" class=\"trix-button trix-button--remove\" title=\"#{lang.remove}\" data-trix-action=\"remove\">#{lang.remove}</button>\n    //     </span>\n    //   </div>\n    // </div>\n    const element = makeElement({\n      tagName: \"div\",\n      className: css.attachmentToolbar,\n      data: { trixMutable: true },\n      childNodes: makeElement({\n        tagName: \"div\",\n        className: \"trix-button-row\",\n        childNodes: makeElement({\n          tagName: \"span\",\n          className: \"trix-button-group trix-button-group--actions\",\n          childNodes: makeElement({\n            tagName: \"button\",\n            className: \"trix-button trix-button--remove\",\n            textContent: lang.remove,\n            attributes: { title: lang.remove },\n            data: { trixAction: \"remove\" },\n          }),\n        }),\n      }),\n    })\n\n    if (this.attachment.isPreviewable()) {\n      // <div class=\"#{css.attachmentMetadataContainer}\">\n      //   <span class=\"#{css.attachmentMetadata}\">\n      //     <span class=\"#{css.attachmentName}\" title=\"#{name}\">#{name}</span>\n      //     <span class=\"#{css.attachmentSize}\">#{size}</span>\n      //   </span>\n      // </div>\n      element.appendChild(\n        makeElement({\n          tagName: \"div\",\n          className: css.attachmentMetadataContainer,\n          childNodes: makeElement({\n            tagName: \"span\",\n            className: css.attachmentMetadata,\n            childNodes: [\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentName,\n                textContent: this.attachment.getFilename(),\n                attributes: { title: this.attachment.getFilename() },\n              }),\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentSize,\n                textContent: this.attachment.getFormattedFilesize(),\n              }),\n            ],\n          }),\n        })\n      )\n    }\n\n    handleEvent(\"click\", { onElement: element, withCallback: this.didClickToolbar })\n    handleEvent(\"click\", {\n      onElement: element,\n      matchingSelector: \"[data-trix-action]\",\n      withCallback: this.didClickActionButton,\n    })\n\n    triggerEvent(\"trix-attachment-before-toolbar\", { onElement: this.element, attributes: { toolbar: element, attachment: this.attachment } })\n\n    return {\n      do: () => this.element.appendChild(element),\n      undo: () => removeNode(element),\n    }\n  })\n\n  installCaptionEditor = undoable(() => {\n    const textarea = makeElement({\n      tagName: \"textarea\",\n      className: css.attachmentCaptionEditor,\n      attributes: { placeholder: lang.captionPlaceholder },\n      data: { trixMutable: true },\n    })\n    textarea.value = this.attachmentPiece.getCaption()\n\n    const textareaClone = textarea.cloneNode()\n    textareaClone.classList.add(\"trix-autoresize-clone\")\n    textareaClone.tabIndex = -1\n\n    const autoresize = function() {\n      textareaClone.value = textarea.value\n      textarea.style.height = textareaClone.scrollHeight + \"px\"\n    }\n\n    handleEvent(\"input\", { onElement: textarea, withCallback: autoresize })\n    handleEvent(\"input\", { onElement: textarea, withCallback: this.didInputCaption })\n    handleEvent(\"keydown\", { onElement: textarea, withCallback: this.didKeyDownCaption })\n    handleEvent(\"change\", { onElement: textarea, withCallback: this.didChangeCaption })\n    handleEvent(\"blur\", { onElement: textarea, withCallback: this.didBlurCaption })\n\n    const figcaption = this.element.querySelector(\"figcaption\")\n    const editingFigcaption = figcaption.cloneNode()\n\n    return {\n      do: () => {\n        figcaption.style.display = \"none\"\n        editingFigcaption.appendChild(textarea)\n        editingFigcaption.appendChild(textareaClone)\n        editingFigcaption.classList.add(`${css.attachmentCaption}--editing`)\n        figcaption.parentElement.insertBefore(editingFigcaption, figcaption)\n        autoresize()\n        if (this.options.editCaption) {\n          return defer(() => textarea.focus())\n        }\n      },\n      undo() {\n        removeNode(editingFigcaption)\n        figcaption.style.display = null\n      },\n    }\n  })\n\n  // Event handlers\n\n  didClickToolbar(event) {\n    event.preventDefault()\n    return event.stopPropagation()\n  }\n\n  didClickActionButton(event) {\n    const action = event.target.getAttribute(\"data-trix-action\")\n    switch (action) {\n      case \"remove\":\n        return this.delegate?.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)\n    }\n  }\n\n  didKeyDownCaption(event) {\n    if (keyNames[event.keyCode] === \"return\") {\n      event.preventDefault()\n      this.savePendingCaption()\n      return this.delegate?.attachmentEditorDidRequestDeselectingAttachment?.(this.attachment)\n    }\n  }\n\n  didInputCaption(event) {\n    this.pendingCaption = event.target.value.replace(/\\s/g, \" \").trim()\n  }\n\n  didChangeCaption(event) {\n    return this.savePendingCaption()\n  }\n\n  didBlurCaption(event) {\n    return this.savePendingCaption()\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport DocumentView from \"trix/views/document_view\"\nimport AttachmentEditorController from \"trix/controllers/attachment_editor_controller\"\n\nimport { defer, findClosestElementFromNode, handleEvent, innerElementIsActive } from \"trix/core/helpers\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nexport default class CompositionController extends BasicObject {\n  constructor(element, composition) {\n    super(...arguments)\n    this.didFocus = this.didFocus.bind(this)\n    this.didBlur = this.didBlur.bind(this)\n    this.didClickAttachment = this.didClickAttachment.bind(this)\n\n    this.element = element\n    this.composition = composition\n    this.documentView = new DocumentView(this.composition.document, { element: this.element })\n\n    handleEvent(\"focus\", { onElement: this.element, withCallback: this.didFocus })\n    handleEvent(\"blur\", { onElement: this.element, withCallback: this.didBlur })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a[contenteditable=false]\",\n      preventDefault: true,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attachmentSelector,\n      withCallback: this.didClickAttachment,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: `a${attachmentSelector}`, preventDefault: true })\n  }\n\n  didFocus(event) {\n    const perform = () => {\n      if (!this.focused) {\n        this.focused = true\n        return this.delegate?.compositionControllerDidFocus?.()\n      }\n    }\n\n    return this.blurPromise?.then(perform) || perform()\n  }\n\n  didBlur(event) {\n    this.blurPromise = new Promise((resolve) => {\n      return defer(() => {\n        if (!innerElementIsActive(this.element)) {\n          this.focused = null\n          this.delegate?.compositionControllerDidBlur?.()\n        }\n        this.blurPromise = null\n        return resolve()\n      })\n    })\n  }\n\n  didClickAttachment(event, target) {\n    const attachment = this.findAttachmentForElement(target)\n    const editCaption = !!findClosestElementFromNode(event.target, { matchingSelector: \"figcaption\" })\n    return this.delegate?.compositionControllerDidSelectAttachment?.(attachment, { editCaption })\n  }\n\n  getSerializableElement() {\n    if (this.isEditingAttachment()) {\n      return this.documentView.shadowElement\n    } else {\n      return this.element\n    }\n  }\n\n  render() {\n    if (this.revision !== this.composition.revision) {\n      this.documentView.setDocument(this.composition.document)\n      this.documentView.render()\n      this.revision = this.composition.revision\n    }\n\n    if (this.canSyncDocumentView() && !this.documentView.isSynced()) {\n      this.delegate?.compositionControllerWillSyncDocumentView?.()\n      this.documentView.sync()\n      this.delegate?.compositionControllerDidSyncDocumentView?.()\n    }\n\n    return this.delegate?.compositionControllerDidRender?.()\n  }\n\n  rerenderViewForObject(object) {\n    this.invalidateViewForObject(object)\n    return this.render()\n  }\n\n  invalidateViewForObject(object) {\n    return this.documentView.invalidateViewForObject(object)\n  }\n\n  isViewCachingEnabled() {\n    return this.documentView.isViewCachingEnabled()\n  }\n\n  enableViewCaching() {\n    return this.documentView.enableViewCaching()\n  }\n\n  disableViewCaching() {\n    return this.documentView.disableViewCaching()\n  }\n\n  refreshViewCache() {\n    return this.documentView.garbageCollectCachedViews()\n  }\n\n  // Attachment editor management\n\n  isEditingAttachment() {\n    return !!this.attachmentEditor\n  }\n\n  installAttachmentEditorForAttachment(attachment, options) {\n    if (this.attachmentEditor?.attachment === attachment) return\n    const element = this.documentView.findElementForObject(attachment)\n    if (!element) return\n\n    this.uninstallAttachmentEditor()\n    const attachmentPiece = this.composition.document.getAttachmentPieceForAttachment(attachment)\n    this.attachmentEditor = new AttachmentEditorController(attachmentPiece, element, this.element, options)\n    this.attachmentEditor.delegate = this\n  }\n\n  uninstallAttachmentEditor() {\n    return this.attachmentEditor?.uninstall()\n  }\n\n  // Attachment controller delegate\n\n  didUninstallAttachmentEditor() {\n    this.attachmentEditor = null\n    return this.render()\n  }\n\n  attachmentEditorDidRequestUpdatingAttributesForAttachment(attributes, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.updateAttributesForAttachment(attributes, attachment)\n  }\n\n  attachmentEditorDidRequestRemovingAttributeForAttachment(attribute, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.removeAttributeForAttachment(attribute, attachment)\n  }\n\n  attachmentEditorDidRequestRemovalOfAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestRemovalOfAttachment?.(attachment)\n  }\n\n  attachmentEditorDidRequestDeselectingAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestDeselectingAttachment?.(attachment)\n  }\n\n  // Private\n\n  canSyncDocumentView() {\n    return !this.isEditingAttachment()\n  }\n\n  findAttachmentForElement(element) {\n    return this.composition.document.getAttachmentById(parseInt(element.dataset.trixId, 10))\n  }\n}\n", "import \"trix/views/object_view\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class Controller extends BasicObject {}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport {\n  findClosestElementFromNode,\n  nodeIsBlockStartComment,\n  nodeIsEmptyTextNode,\n  normalizeSpaces,\n  summarizeStringChange,\n  tagName,\n} from \"trix/core/helpers\"\n\nconst mutableAttributeName = \"data-trix-mutable\"\nconst mutableSelector = `[${mutableAttributeName}]`\n\nconst options = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class MutationObserver extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didMutate = this.didMutate.bind(this)\n    this.element = element\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.start()\n  }\n\n  start() {\n    this.reset()\n    return this.observer.observe(this.element, options)\n  }\n\n  stop() {\n    return this.observer.disconnect()\n  }\n\n  didMutate(mutations) {\n    this.mutations.push(...Array.from(this.findSignificantMutations(mutations) || []))\n\n    if (this.mutations.length) {\n      this.delegate?.elementDidMutate?.(this.getMutationSummary())\n      return this.reset()\n    }\n  }\n\n  // Private\n\n  reset() {\n    this.mutations = []\n  }\n\n  findSignificantMutations(mutations) {\n    return mutations.filter((mutation) => {\n      return this.mutationIsSignificant(mutation)\n    })\n  }\n\n  mutationIsSignificant(mutation) {\n    if (this.nodeIsMutable(mutation.target)) {\n      return false\n    }\n    for (const node of Array.from(this.nodesModifiedByMutation(mutation))) {\n      if (this.nodeIsSignificant(node)) return true\n    }\n    return false\n  }\n\n  nodeIsSignificant(node) {\n    return node !== this.element && !this.nodeIsMutable(node) && !nodeIsEmptyTextNode(node)\n  }\n\n  nodeIsMutable(node) {\n    return findClosestElementFromNode(node, { matchingSelector: mutableSelector })\n  }\n\n  nodesModifiedByMutation(mutation) {\n    const nodes = []\n    switch (mutation.type) {\n      case \"attributes\":\n        if (mutation.attributeName !== mutableAttributeName) {\n          nodes.push(mutation.target)\n        }\n        break\n      case \"characterData\":\n        // Changes to text nodes should consider the parent element\n        nodes.push(mutation.target.parentNode)\n        nodes.push(mutation.target)\n        break\n      case \"childList\":\n        // Consider each added or removed node\n        nodes.push(...Array.from(mutation.addedNodes || []))\n        nodes.push(...Array.from(mutation.removedNodes || []))\n        break\n    }\n    return nodes\n  }\n\n  getMutationSummary() {\n    return this.getTextMutationSummary()\n  }\n\n  getTextMutationSummary() {\n    const { additions, deletions } = this.getTextChangesFromCharacterData()\n    const textChanges = this.getTextChangesFromChildList()\n\n    Array.from(textChanges.additions).forEach((addition) => {\n      if (!Array.from(additions).includes(addition)) {\n        additions.push(addition)\n      }\n    })\n\n    deletions.push(...Array.from(textChanges.deletions || []))\n\n    const summary = {}\n\n    const added = additions.join(\"\")\n    if (added) {\n      summary.textAdded = added\n    }\n\n    const deleted = deletions.join(\"\")\n    if (deleted) {\n      summary.textDeleted = deleted\n    }\n\n    return summary\n  }\n\n  getMutationsByType(type) {\n    return Array.from(this.mutations).filter((mutation) => mutation.type === type)\n  }\n\n  getTextChangesFromChildList() {\n    let textAdded, textRemoved\n    const addedNodes = []\n    const removedNodes = []\n\n    Array.from(this.getMutationsByType(\"childList\")).forEach((mutation) => {\n      addedNodes.push(...Array.from(mutation.addedNodes || []))\n      removedNodes.push(...Array.from(mutation.removedNodes || []))\n    })\n\n    const singleBlockCommentRemoved =\n      addedNodes.length === 0 && removedNodes.length === 1 && nodeIsBlockStartComment(removedNodes[0])\n\n    if (singleBlockCommentRemoved) {\n      textAdded = []\n      textRemoved = [ \"\\n\" ]\n    } else {\n      textAdded = getTextForNodes(addedNodes)\n      textRemoved = getTextForNodes(removedNodes)\n    }\n\n    const additions = textAdded.filter((text, index) => text !== textRemoved[index]).map(normalizeSpaces)\n    const deletions = textRemoved.filter((text, index) => text !== textAdded[index]).map(normalizeSpaces)\n\n    return { additions, deletions }\n  }\n\n  getTextChangesFromCharacterData() {\n    let added, removed\n    const characterMutations = this.getMutationsByType(\"characterData\")\n\n    if (characterMutations.length) {\n      const startMutation = characterMutations[0],\n        endMutation = characterMutations[characterMutations.length - 1]\n\n      const oldString = normalizeSpaces(startMutation.oldValue)\n      const newString = normalizeSpaces(endMutation.target.data)\n      const summarized = summarizeStringChange(oldString, newString)\n      added = summarized.added\n      removed = summarized.removed\n    }\n\n    return {\n      additions: added ? [ added ] : [],\n      deletions: removed ? [ removed ] : [],\n    }\n  }\n}\n\nconst getTextForNodes = function(nodes = []) {\n  const text = []\n  for (const node of Array.from(nodes)) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        text.push(node.data)\n        break\n      case Node.ELEMENT_NODE:\n        if (tagName(node) === \"br\") {\n          text.push(\"\\n\")\n        } else {\n          text.push(...Array.from(getTextForNodes(node.childNodes) || []))\n        }\n        break\n    }\n  }\n  return text\n}\n", "/* eslint-disable\n    no-empty,\n*/\nimport Operation from \"trix/core/utilities/operation\"\n\nexport default class FileVerificationOperation extends Operation {\n  constructor(file) {\n    super(...arguments)\n    this.file = file\n  }\n\n  perform(callback) {\n    const reader = new FileReader()\n\n    reader.onerror = () => callback(false)\n\n    reader.onload = () => {\n      reader.onerror = null\n      try {\n        reader.abort()\n      } catch (error) {}\n      return callback(true, this.file)\n    }\n\n    return reader.readAsArrayBuffer(this.file)\n  }\n}\n", "import * as config from \"trix/config\"\nimport { NON_BREAKING_SPACE, OBJECT_REPLACEMENT_CHARACTER, ZERO_WIDTH_SPACE } from \"trix/constants\"\n\n// Each software keyboard on Android emits its own set of events and some of them can be buggy.\n// This class detects when some buggy events are being emitted and lets know the input controller\n// that they should be ignored.\nexport default class FlakyAndroidKeyboardDetector {\n  constructor(element) {\n    this.element = element\n  }\n\n  shouldIgnore(event) {\n    if (!config.browser.samsungAndroid) return false\n\n    this.previousEvent = this.event\n    this.event = event\n\n    this.checkSamsungKeyboardBuggyModeStart()\n    this.checkSamsungKeyboardBuggyModeEnd()\n\n    return this.buggyMode\n  }\n\n  // private\n\n  // The Samsung keyboard on Android can enter a buggy state in which it emits a flurry of confused events that,\n  // if processed, corrupts the editor. The buggy mode always starts with an insertText event, right after a\n  // keydown event with for an \"Unidentified\" key, with the same text as the editor element, except for a few\n  // extra whitespace, or exotic utf8, characters.\n  checkSamsungKeyboardBuggyModeStart() {\n    if (this.insertingLongTextAfterUnidentifiedChar() && differsInWhitespace(this.element.innerText, this.event.data)) {\n      this.buggyMode = true\n      this.event.preventDefault()\n    }\n  }\n\n  // The flurry of buggy events are always insertText. If we see any other type, it means it's over.\n  checkSamsungKeyboardBuggyModeEnd() {\n    if (this.buggyMode && this.event.inputType !== \"insertText\") {\n      this.buggyMode = false\n    }\n  }\n\n  insertingLongTextAfterUnidentifiedChar() {\n    return this.isBeforeInputInsertText() && this.previousEventWasUnidentifiedKeydown() && this.event.data?.length > 50\n  }\n\n  isBeforeInputInsertText() {\n    return this.event.type === \"beforeinput\" && this.event.inputType === \"insertText\"\n  }\n\n  previousEventWasUnidentifiedKeydown() {\n    return this.previousEvent?.type === \"keydown\" && this.previousEvent?.key === \"Unidentified\"\n  }\n}\n\nconst differsInWhitespace = (text1, text2) => {\n  return normalize(text1) === normalize(text2)\n}\n\nconst whiteSpaceNormalizerRegexp = new RegExp(`(${OBJECT_REPLACEMENT_CHARACTER}|${ZERO_WIDTH_SPACE}|${NON_BREAKING_SPACE}|\\\\s)+`, \"g\")\nconst normalize = (text) => text.replace(whiteSpaceNormalizerRegexp, \" \").trim()\n", "import BasicObject from \"trix/core/basic_object\"\nimport MutationObserver from \"trix/observers/mutation_observer\"\nimport FileVerificationOperation from \"trix/operations/file_verification_operation\"\nimport FlakyAndroidKeyboardDetector from \"../models/flaky_android_keyboard_detector\"\n\nimport { handleEvent, innerElementIsActive } from \"trix/core/helpers\"\n\nexport default class InputController extends BasicObject {\n\n  static events = {}\n\n  constructor(element) {\n    super(...arguments)\n    this.element = element\n    this.mutationObserver = new MutationObserver(this.element)\n    this.mutationObserver.delegate = this\n    this.flakyKeyboardDetector = new FlakyAndroidKeyboardDetector(this.element)\n    for (const eventName in this.constructor.events) {\n      handleEvent(eventName, { onElement: this.element, withCallback: this.handlerFor(eventName) })\n    }\n  }\n\n  elementDidMutate(mutationSummary) {}\n\n  editorWillSyncDocumentView() {\n    return this.mutationObserver.stop()\n  }\n\n  editorDidSyncDocumentView() {\n    return this.mutationObserver.start()\n  }\n\n  requestRender() {\n    return this.delegate?.inputControllerDidRequestRender?.()\n  }\n\n  requestReparse() {\n    this.delegate?.inputControllerDidRequestReparse?.()\n    return this.requestRender()\n  }\n\n  attachFiles(files) {\n    const operations = Array.from(files).map((file) => new FileVerificationOperation(file))\n    return Promise.all(operations).then((files) => {\n      this.handleInput(function() {\n        this.delegate?.inputControllerWillAttachFiles()\n        this.responder?.insertFiles(files)\n        return this.requestRender()\n      })\n    })\n  }\n\n  // Private\n\n  handlerFor(eventName) {\n    return (event) => {\n      if (!event.defaultPrevented) {\n        this.handleInput(() => {\n          if (!innerElementIsActive(this.element)) {\n            if (this.flakyKeyboardDetector.shouldIgnore(event)) return\n\n            this.eventName = eventName\n            this.constructor.events[eventName].call(this, event)\n          }\n        })\n      }\n    }\n  }\n\n  handleInput(callback) {\n    try {\n      this.delegate?.inputControllerWillHandleInput()\n      callback.call(this)\n    } finally {\n      this.delegate?.inputControllerDidHandleInput()\n    }\n  }\n\n  createLinkHTML(href, text) {\n    const link = document.createElement(\"a\")\n    link.href = href\n    link.textContent = text ? text : href\n    return link.outerHTML\n  }\n}\n\n", "import * as config from \"trix/config\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\nimport BasicObject from \"trix/core/basic_object\"\nimport InputController from \"trix/controllers/input_controller\"\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\n\nimport {\n  dataTransferIsPlainText,\n  dataTransferIsWritable,\n  keyEventIsKeyboardCommand,\n  makeElement,\n  objectsAreEqual,\n  removeNode,\n  squishBreakableWhitespace,\n} from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst { browser, keyNames } = config\nlet pastedFileCount = 0\n\nexport default class Level0InputController extends InputController {\n\n  static events = {\n    keydown(event) {\n      if (!this.isComposing()) {\n        this.resetInputSummary()\n      }\n      this.inputSummary.didInput = true\n\n      const keyName = keyNames[event.keyCode]\n      if (keyName) {\n        let context = this.keys\n\n        ;[ \"ctrl\", \"alt\", \"shift\", \"meta\" ].forEach((modifier) => {\n          if (event[`${modifier}Key`]) {\n            if (modifier === \"ctrl\") {\n              modifier = \"control\"\n            }\n            context = context?.[modifier]\n          }\n        })\n\n        if (context?.[keyName] != null) {\n          this.setInputSummary({ keyName })\n          selectionChangeObserver.reset()\n          context[keyName].call(this, event)\n        }\n      }\n\n      if (keyEventIsKeyboardCommand(event)) {\n        const character = String.fromCharCode(event.keyCode).toLowerCase()\n        if (character) {\n          const keys = [ \"alt\", \"shift\" ].map((modifier) => {\n            if (event[`${modifier}Key`]) {\n              return modifier\n            }\n          }).filter(key => key)\n          keys.push(character)\n          if (this.delegate?.inputControllerDidReceiveKeyboardCommand(keys)) {\n            event.preventDefault()\n          }\n        }\n      }\n    },\n\n    keypress(event) {\n      if (this.inputSummary.eventName != null) return\n      if (event.metaKey) return\n      if (event.ctrlKey && !event.altKey) return\n\n      const string = stringFromKeyEvent(event)\n      if (string) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(string)\n        return this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n      }\n    },\n\n    textInput(event) {\n      // Handle autocapitalization\n      const { data } = event\n      const { textAdded } = this.inputSummary\n      if (textAdded && textAdded !== data && textAdded.toUpperCase() === data) {\n        const range = this.getSelectedRange()\n        this.setSelectedRange([ range[0], range[1] + textAdded.length ])\n        this.responder?.insertString(data)\n        this.setInputSummary({ textAdded: data })\n        return this.setSelectedRange(range)\n      }\n    },\n\n    dragenter(event) {\n      event.preventDefault()\n    },\n\n    dragstart(event) {\n      this.serializeSelectionToDataTransfer(event.dataTransfer)\n      this.draggedRange = this.getSelectedRange()\n      return this.delegate?.inputControllerDidStartDrag?.()\n    },\n\n    dragover(event) {\n      if (this.draggedRange || this.canAcceptDataTransfer(event.dataTransfer)) {\n        event.preventDefault()\n        const draggingPoint = { x: event.clientX, y: event.clientY }\n        if (!objectsAreEqual(draggingPoint, this.draggingPoint)) {\n          this.draggingPoint = draggingPoint\n          return this.delegate?.inputControllerDidReceiveDragOverPoint?.(this.draggingPoint)\n        }\n      }\n    },\n\n    dragend(event) {\n      this.delegate?.inputControllerDidCancelDrag?.()\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    drop(event) {\n      event.preventDefault()\n      const files = event.dataTransfer?.files\n      const documentJSON = event.dataTransfer.getData(\"application/x-trix-document\")\n\n      const point = { x: event.clientX, y: event.clientY }\n      this.responder?.setLocationRangeFromPointRange(point)\n\n      if (files?.length) {\n        this.attachFiles(files)\n      } else if (this.draggedRange) {\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.draggedRange)\n        this.draggedRange = null\n        this.requestRender()\n      } else if (documentJSON) {\n        const document = Document.fromJSONString(documentJSON)\n        this.responder?.insertDocument(document)\n        this.requestRender()\n      }\n\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    cut(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n\n        this.delegate?.inputControllerWillCutText()\n        this.deleteInDirection(\"backward\")\n        if (event.defaultPrevented) {\n          return this.requestRender()\n        }\n      }\n    },\n\n    copy(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n      }\n    },\n\n    paste(event) {\n      const clipboard = event.clipboardData || event.testClipboardData\n      const paste = { clipboard }\n\n      if (!clipboard || pasteEventIsCrippledSafariHTMLPaste(event)) {\n        this.getPastedHTMLUsingHiddenElement((html) => {\n          paste.type = \"text/html\"\n          paste.html = html\n          this.delegate?.inputControllerWillPaste(paste)\n          this.responder?.insertHTML(paste.html)\n          this.requestRender()\n          return this.delegate?.inputControllerDidPaste(paste)\n        })\n        return\n      }\n\n      const href = clipboard.getData(\"URL\")\n      const html = clipboard.getData(\"text/html\")\n      const name = clipboard.getData(\"public.url-name\")\n\n      if (href) {\n        let string\n        paste.type = \"text/html\"\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (dataTransferIsPlainText(clipboard)) {\n        paste.type = \"text/plain\"\n        paste.string = clipboard.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: paste.string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertString(paste.string)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (html) {\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (Array.from(clipboard.types).includes(\"Files\")) {\n        const file = clipboard.items?.[0]?.getAsFile?.()\n        if (file) {\n          const extension = extensionForFile(file)\n          if (!file.name && extension) {\n            file.name = `pasted-file-${++pastedFileCount}.${extension}`\n          }\n          paste.type = \"File\"\n          paste.file = file\n          this.delegate?.inputControllerWillAttachFiles()\n          this.responder?.insertFile(paste.file)\n          this.requestRender()\n          this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n\n      event.preventDefault()\n    },\n\n    compositionstart(event) {\n      return this.getCompositionInput().start(event.data)\n    },\n\n    compositionupdate(event) {\n      return this.getCompositionInput().update(event.data)\n    },\n\n    compositionend(event) {\n      return this.getCompositionInput().end(event.data)\n    },\n\n    beforeinput(event) {\n      this.inputSummary.didInput = true\n    },\n\n    input(event) {\n      this.inputSummary.didInput = true\n      return event.stopPropagation()\n    },\n  }\n\n  static keys = {\n    backspace(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"backward\", event)\n    },\n\n    delete(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"forward\", event)\n    },\n\n    return(event) {\n      this.setInputSummary({ preferDocument: true })\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.responder?.insertLineBreak()\n    },\n\n    tab(event) {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.responder?.increaseNestingLevel()\n        this.requestRender()\n        event.preventDefault()\n      }\n    },\n\n    left(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    right(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    control: {\n      d(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"forward\", event)\n      },\n\n      h(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"backward\", event)\n      },\n\n      o(event) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\", { updatePosition: false })\n        return this.requestRender()\n      },\n    },\n\n    shift: {\n      return(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\")\n        this.requestRender()\n        event.preventDefault()\n      },\n\n      tab(event) {\n        if (this.responder?.canDecreaseNestingLevel()) {\n          this.responder?.decreaseNestingLevel()\n          this.requestRender()\n          event.preventDefault()\n        }\n      },\n\n      left(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"backward\")\n        }\n      },\n\n      right(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"forward\")\n        }\n      },\n    },\n\n    alt: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n\n    meta: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.resetInputSummary()\n  }\n\n  setInputSummary(summary = {}) {\n    this.inputSummary.eventName = this.eventName\n    for (const key in summary) {\n      const value = summary[key]\n      this.inputSummary[key] = value\n    }\n    return this.inputSummary\n  }\n\n  resetInputSummary() {\n    this.inputSummary = {}\n  }\n\n  reset() {\n    this.resetInputSummary()\n    return selectionChangeObserver.reset()\n  }\n\n  // Mutation observer delegate\n\n  elementDidMutate(mutationSummary) {\n    if (this.isComposing()) {\n      return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n    } else {\n      return this.handleInput(function() {\n        if (this.mutationIsSignificant(mutationSummary)) {\n          if (this.mutationIsExpected(mutationSummary)) {\n            this.requestRender()\n          } else {\n            this.requestReparse()\n          }\n        }\n        return this.reset()\n      })\n    }\n  }\n\n  mutationIsExpected({ textAdded, textDeleted }) {\n    if (this.inputSummary.preferDocument) {\n      return true\n    }\n\n    const mutationAdditionMatchesSummary =\n      textAdded != null ? textAdded === this.inputSummary.textAdded : !this.inputSummary.textAdded\n    const mutationDeletionMatchesSummary =\n      textDeleted != null ? this.inputSummary.didDelete : !this.inputSummary.didDelete\n\n    const unexpectedNewlineAddition = [ \"\\n\", \" \\n\" ].includes(textAdded) && !mutationAdditionMatchesSummary\n    const unexpectedNewlineDeletion = textDeleted === \"\\n\" && !mutationDeletionMatchesSummary\n    const singleUnexpectedNewline =\n      unexpectedNewlineAddition && !unexpectedNewlineDeletion ||\n      unexpectedNewlineDeletion && !unexpectedNewlineAddition\n\n    if (singleUnexpectedNewline) {\n      const range = this.getSelectedRange()\n      if (range) {\n        const offset = unexpectedNewlineAddition ? textAdded.replace(/\\n$/, \"\").length || -1 : textAdded?.length || 1\n        if (this.responder?.positionIsBlockBreak(range[1] + offset)) {\n          return true\n        }\n      }\n    }\n\n    return mutationAdditionMatchesSummary && mutationDeletionMatchesSummary\n  }\n\n  mutationIsSignificant(mutationSummary) {\n    const textChanged = Object.keys(mutationSummary).length > 0\n    const composedEmptyString = this.compositionInput?.getEndData() === \"\"\n    return textChanged || !composedEmptyString\n  }\n\n  // Private\n\n  getCompositionInput() {\n    if (this.isComposing()) {\n      return this.compositionInput\n    } else {\n      this.compositionInput = new CompositionInput(this)\n    }\n  }\n\n  isComposing() {\n    return this.compositionInput && !this.compositionInput.isEnded()\n  }\n\n  deleteInDirection(direction, event) {\n    if (this.responder?.deleteInDirection(direction) === false) {\n      if (event) {\n        event.preventDefault()\n        return this.requestRender()\n      }\n    } else {\n      return this.setInputSummary({ didDelete: true })\n    }\n  }\n\n  serializeSelectionToDataTransfer(dataTransfer) {\n    if (!dataTransferIsWritable(dataTransfer)) return\n    const document = this.responder?.getSelectedDocument().toSerializableDocument()\n\n    dataTransfer.setData(\"application/x-trix-document\", JSON.stringify(document))\n    dataTransfer.setData(\"text/html\", DocumentView.render(document).innerHTML)\n    dataTransfer.setData(\"text/plain\", document.toString().replace(/\\n$/, \"\"))\n    return true\n  }\n\n  canAcceptDataTransfer(dataTransfer) {\n    const types = {}\n    Array.from(dataTransfer?.types || []).forEach((type) => {\n      types[type] = true\n    })\n    return types.Files || types[\"application/x-trix-document\"] || types[\"text/html\"] || types[\"text/plain\"]\n  }\n\n  getPastedHTMLUsingHiddenElement(callback) {\n    const selectedRange = this.getSelectedRange()\n\n    const style = {\n      position: \"absolute\",\n      left: `${window.pageXOffset}px`,\n      top: `${window.pageYOffset}px`,\n      opacity: 0,\n    }\n\n    const element = makeElement({ style, tagName: \"div\", editable: true })\n    document.body.appendChild(element)\n    element.focus()\n\n    return requestAnimationFrame(() => {\n      const html = element.innerHTML\n      removeNode(element)\n      this.setSelectedRange(selectedRange)\n      return callback(html)\n    })\n  }\n}\n\nLevel0InputController.proxyMethod(\"responder?.getSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.setSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.expandSelectionInDirection\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsInCursorTarget\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsExpanded\")\n\nconst extensionForFile = (file) => file.type?.match(/\\/(\\w+)$/)?.[1]\n\nconst hasStringCodePointAt = !!\" \".codePointAt?.(0)\n\nconst stringFromKeyEvent = function(event) {\n  if (event.key && hasStringCodePointAt && event.key.codePointAt(0) === event.keyCode) {\n    return event.key\n  } else {\n    let code\n    if (event.which === null) {\n      code = event.keyCode\n    } else if (event.which !== 0 && event.charCode !== 0) {\n      code = event.charCode\n    }\n\n    if (code != null && keyNames[code] !== \"escape\") {\n      return UTF16String.fromCodepoints([ code ]).toString()\n    }\n  }\n}\n\nconst pasteEventIsCrippledSafariHTMLPaste = function(event) {\n  const paste = event.clipboardData\n  if (paste) {\n    if (paste.types.includes(\"text/html\")) {\n      // Answer is yes if there's any possibility of Paste and Match Style in Safari,\n      // which is nearly impossible to detect confidently: https://bugs.webkit.org/show_bug.cgi?id=174165\n      for (const type of paste.types) {\n        const hasPasteboardFlavor = /^CorePasteboardFlavorType/.test(type)\n        const hasReadableDynamicData = /^dyn\\./.test(type) && paste.getData(type)\n        const mightBePasteAndMatchStyle = hasPasteboardFlavor || hasReadableDynamicData\n        if (mightBePasteAndMatchStyle) {\n          return true\n        }\n      }\n      return false\n    } else {\n      const isExternalHTMLPaste = paste.types.includes(\"com.apple.webarchive\")\n      const isExternalRichTextPaste = paste.types.includes(\"com.apple.flat-rtfd\")\n      return isExternalHTMLPaste || isExternalRichTextPaste\n    }\n  }\n}\n\nclass CompositionInput extends BasicObject {\n  constructor(inputController) {\n    super(...arguments)\n    this.inputController = inputController\n    this.responder = this.inputController.responder\n    this.delegate = this.inputController.delegate\n    this.inputSummary = this.inputController.inputSummary\n    this.data = {}\n  }\n\n  start(data) {\n    this.data.start = data\n\n    if (this.isSignificant()) {\n      if (this.inputSummary.eventName === \"keypress\" && this.inputSummary.textAdded) {\n        this.responder?.deleteInDirection(\"left\")\n      }\n\n      if (!this.selectionIsExpanded()) {\n        this.insertPlaceholder()\n        this.requestRender()\n      }\n\n      this.range = this.responder?.getSelectedRange()\n    }\n  }\n\n  update(data) {\n    this.data.update = data\n\n    if (this.isSignificant()) {\n      const range = this.selectPlaceholder()\n      if (range) {\n        this.forgetPlaceholder()\n        this.range = range\n      }\n    }\n  }\n\n  end(data) {\n    this.data.end = data\n\n    if (this.isSignificant()) {\n      this.forgetPlaceholder()\n\n      if (this.canApplyToDocument()) {\n        this.setInputSummary({ preferDocument: true, didInput: false })\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.setSelectedRange(this.range)\n        this.responder?.insertString(this.data.end)\n        return this.responder?.setSelectedRange(this.range[0] + this.data.end.length)\n      } else if (this.data.start != null || this.data.update != null) {\n        this.requestReparse()\n        return this.inputController.reset()\n      }\n    } else {\n      return this.inputController.reset()\n    }\n  }\n\n  getEndData() {\n    return this.data.end\n  }\n\n  isEnded() {\n    return this.getEndData() != null\n  }\n\n  isSignificant() {\n    if (browser.composesExistingText) {\n      return this.inputSummary.didInput\n    } else {\n      return true\n    }\n  }\n\n  // Private\n\n  canApplyToDocument() {\n    return this.data.start?.length === 0 && this.data.end?.length > 0 && this.range\n  }\n}\n\nCompositionInput.proxyMethod(\"inputController.setInputSummary\")\nCompositionInput.proxyMethod(\"inputController.requestRender\")\nCompositionInput.proxyMethod(\"inputController.requestReparse\")\nCompositionInput.proxyMethod(\"responder?.selectionIsExpanded\")\nCompositionInput.proxyMethod(\"responder?.insertPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.selectPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.forgetPlaceholder\")\n", "import { getAllAttributeNames, shouldRenderInmmediatelyToDealWithIOSDictation, squishBreakableWhitespace } from \"trix/core/helpers\"\nimport InputController from \"trix/controllers/input_controller\"\nimport * as config from \"trix/config\"\n\nimport { dataTransferIsMsOfficePaste, dataTransferIsPlainText, keyEventIsKeyboardCommand, objectsAreEqual } from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nexport default class Level2InputController extends InputController {\n  constructor(...args) {\n    super(...args)\n    this.render = this.render.bind(this)\n  }\n\n  static events = {\n    keydown(event) {\n      if (keyEventIsKeyboardCommand(event)) {\n        const command = keyboardCommandFromKeyEvent(event)\n        if (this.delegate?.inputControllerDidReceiveKeyboardCommand(command)) {\n          event.preventDefault()\n        }\n      } else {\n        let name = event.key\n        if (event.altKey) {\n          name += \"+Alt\"\n        }\n        if (event.shiftKey) {\n          name += \"+Shift\"\n        }\n        const handler = this.constructor.keys[name]\n        if (handler) {\n          return this.withEvent(event, handler)\n        }\n      }\n    },\n\n    // Handle paste event to work around beforeinput.insertFromPaste browser bugs.\n    // Safe to remove each condition once fixed upstream.\n    paste(event) {\n      // https://bugs.webkit.org/show_bug.cgi?id=194921\n      let paste\n      const href = event.clipboardData?.getData(\"URL\")\n      if (pasteEventHasFilesOnly(event)) {\n        event.preventDefault()\n        return this.attachFiles(event.clipboardData.files)\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=934448\n      } else if (pasteEventHasPlainTextOnly(event)) {\n        event.preventDefault()\n        paste = {\n          type: \"text/plain\",\n          string: event.clipboardData.getData(\"text/plain\"),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertString(paste.string)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n\n        // https://bugs.webkit.org/show_bug.cgi?id=196702\n      } else if (href) {\n        event.preventDefault()\n        paste = {\n          type: \"text/html\",\n          html: this.createLinkHTML(href),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n      }\n    },\n\n    beforeinput(event) {\n      const handler = this.constructor.inputTypes[event.inputType]\n\n      const immmediateRender = shouldRenderInmmediatelyToDealWithIOSDictation(event)\n\n      if (handler) {\n        this.withEvent(event, handler)\n\n        if (!immmediateRender) {\n          this.scheduleRender()\n        }\n      }\n\n      if (immmediateRender) {\n        this.render()\n      }\n    },\n\n    input(event) {\n      selectionChangeObserver.reset()\n    },\n\n    dragstart(event) {\n      if (this.responder?.selectionContainsAttachments()) {\n        event.dataTransfer.setData(\"application/x-trix-dragging\", true)\n\n        this.dragging = {\n          range: this.responder?.getSelectedRange(),\n          point: pointFromEvent(event),\n        }\n      }\n    },\n\n    dragenter(event) {\n      if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    dragover(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        if (!objectsAreEqual(point, this.dragging.point)) {\n          this.dragging.point = point\n          return this.responder?.setLocationRangeFromPointRange(point)\n        }\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    drop(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.dragging.range)\n        this.dragging = null\n        return this.scheduleRender()\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        this.responder?.setLocationRangeFromPointRange(point)\n        return this.attachFiles(event.dataTransfer.files)\n      }\n    },\n\n    dragend() {\n      if (this.dragging) {\n        this.responder?.setSelectedRange(this.dragging.range)\n        this.dragging = null\n      }\n    },\n\n    compositionend(event) {\n      if (this.composing) {\n        this.composing = false\n        if (!config.browser.recentAndroid) this.scheduleRender()\n      }\n    },\n  }\n\n  static keys = {\n    ArrowLeft() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"backward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    ArrowRight() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"forward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    Backspace() {\n      if (this.responder?.shouldManageDeletingInDirection(\"backward\")) {\n        this.event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.deleteInDirection(\"backward\")\n        return this.render()\n      }\n    },\n\n    Tab() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.increaseNestingLevel()\n        return this.render()\n      }\n    },\n\n    \"Tab+Shift\"() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.decreaseNestingLevel()\n        return this.render()\n      }\n    },\n  }\n\n  static inputTypes = {\n    deleteByComposition() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteByCut() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteByDrag() {\n      this.event.preventDefault()\n      return this.withTargetDOMRange(function() {\n        this.deleteByDragRange = this.responder?.getSelectedRange()\n      })\n    },\n\n    deleteCompositionText() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteContent() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteEntireSoftLine() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteHardLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteHardLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteSoftLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteSoftLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteWordBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteWordForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    formatBackColor() {\n      return this.activateAttributeIfSupported(\"backgroundColor\", this.event.data)\n    },\n\n    formatBold() {\n      return this.toggleAttributeIfSupported(\"bold\")\n    },\n\n    formatFontColor() {\n      return this.activateAttributeIfSupported(\"color\", this.event.data)\n    },\n\n    formatFontName() {\n      return this.activateAttributeIfSupported(\"font\", this.event.data)\n    },\n\n    formatIndent() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.increaseNestingLevel()\n        })\n      }\n    },\n\n    formatItalic() {\n      return this.toggleAttributeIfSupported(\"italic\")\n    },\n\n    formatJustifyCenter() {\n      return this.toggleAttributeIfSupported(\"justifyCenter\")\n    },\n\n    formatJustifyFull() {\n      return this.toggleAttributeIfSupported(\"justifyFull\")\n    },\n\n    formatJustifyLeft() {\n      return this.toggleAttributeIfSupported(\"justifyLeft\")\n    },\n\n    formatJustifyRight() {\n      return this.toggleAttributeIfSupported(\"justifyRight\")\n    },\n\n    formatOutdent() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.decreaseNestingLevel()\n        })\n      }\n    },\n\n    formatRemove() {\n      this.withTargetDOMRange(function() {\n        for (const attributeName in this.responder?.getCurrentAttributes()) {\n          this.responder?.removeCurrentAttribute(attributeName)\n        }\n      })\n    },\n\n    formatSetBlockTextDirection() {\n      return this.activateAttributeIfSupported(\"blockDir\", this.event.data)\n    },\n\n    formatSetInlineTextDirection() {\n      return this.activateAttributeIfSupported(\"textDir\", this.event.data)\n    },\n\n    formatStrikeThrough() {\n      return this.toggleAttributeIfSupported(\"strike\")\n    },\n\n    formatSubscript() {\n      return this.toggleAttributeIfSupported(\"sub\")\n    },\n\n    formatSuperscript() {\n      return this.toggleAttributeIfSupported(\"sup\")\n    },\n\n    formatUnderline() {\n      return this.toggleAttributeIfSupported(\"underline\")\n    },\n\n    historyRedo() {\n      return this.delegate?.inputControllerWillPerformRedo()\n    },\n\n    historyUndo() {\n      return this.delegate?.inputControllerWillPerformUndo()\n    },\n\n    insertCompositionText() {\n      this.composing = true\n      return this.insertString(this.event.data)\n    },\n\n    insertFromComposition() {\n      this.composing = false\n      return this.insertString(this.event.data)\n    },\n\n    insertFromDrop() {\n      const range = this.deleteByDragRange\n      if (range) {\n        this.deleteByDragRange = null\n        this.delegate?.inputControllerWillMoveText()\n        return this.withTargetDOMRange(function() {\n          return this.responder?.moveTextFromRange(range)\n        })\n      }\n    },\n\n    insertFromPaste() {\n      const { dataTransfer } = this.event\n      const paste = { dataTransfer }\n\n      const href = dataTransfer.getData(\"URL\")\n      const html = dataTransfer.getData(\"text/html\")\n\n      if (href) {\n        let string\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        const name = dataTransfer.getData(\"public.url-name\")\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (dataTransferIsPlainText(dataTransfer)) {\n        paste.type = \"text/plain\"\n        paste.string = dataTransfer.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertString(paste.string)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (processableFilePaste(this.event)) {\n        paste.type = \"File\"\n        paste.file = dataTransfer.files[0]\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertFile(paste.file)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (html) {\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n    },\n\n    insertFromYank() {\n      return this.insertString(this.event.data)\n    },\n\n    insertLineBreak() {\n      return this.insertString(\"\\n\")\n    },\n\n    insertLink() {\n      return this.activateAttributeIfSupported(\"href\", this.event.data)\n    },\n\n    insertOrderedList() {\n      return this.toggleAttributeIfSupported(\"number\")\n    },\n\n    insertParagraph() {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.withTargetDOMRange(function() {\n        return this.responder?.insertLineBreak()\n      })\n    },\n\n    insertReplacementText() {\n      const replacement = this.event.dataTransfer.getData(\"text/plain\")\n      const domRange = this.event.getTargetRanges()[0]\n\n      this.withTargetDOMRange(domRange, () => {\n        this.insertString(replacement, { updatePosition: false })\n      })\n    },\n\n    insertText() {\n      return this.insertString(this.event.data || this.event.dataTransfer?.getData(\"text/plain\"))\n    },\n\n    insertTranspose() {\n      return this.insertString(this.event.data)\n    },\n\n    insertUnorderedList() {\n      return this.toggleAttributeIfSupported(\"bullet\")\n    },\n  }\n\n  elementDidMutate() {\n    if (this.scheduledRender) {\n      if (this.composing) {\n        return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n      }\n    } else {\n      return this.reparse()\n    }\n  }\n\n  scheduleRender() {\n    return this.scheduledRender ? this.scheduledRender : this.scheduledRender = requestAnimationFrame(this.render)\n  }\n\n  render() {\n    cancelAnimationFrame(this.scheduledRender)\n    this.scheduledRender = null\n    if (!this.composing) {\n      this.delegate?.render()\n    }\n    this.afterRender?.()\n    this.afterRender = null\n  }\n\n  reparse() {\n    return this.delegate?.reparse()\n  }\n\n  // Responder helpers\n\n  insertString(string = \"\", options) {\n    this.delegate?.inputControllerWillPerformTyping()\n    return this.withTargetDOMRange(function() {\n      return this.responder?.insertString(string, options)\n    })\n  }\n\n  toggleAttributeIfSupported(attributeName) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.toggleCurrentAttribute(attributeName)\n      })\n    }\n  }\n\n  activateAttributeIfSupported(attributeName, value) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.setCurrentAttribute(attributeName, value)\n      })\n    }\n  }\n\n  deleteInDirection(direction, { recordUndoEntry } = { recordUndoEntry: true }) {\n    if (recordUndoEntry) {\n      this.delegate?.inputControllerWillPerformTyping()\n    }\n    const perform = () => this.responder?.deleteInDirection(direction)\n    const domRange = this.getTargetDOMRange({ minLength: this.composing ? 1 : 2 })\n    if (domRange) {\n      return this.withTargetDOMRange(domRange, perform)\n    } else {\n      return perform()\n    }\n  }\n\n  // Selection helpers\n\n  withTargetDOMRange(domRange, fn) {\n    if (typeof domRange === \"function\") {\n      fn = domRange\n      domRange = this.getTargetDOMRange()\n    }\n    if (domRange) {\n      return this.responder?.withTargetDOMRange(domRange, fn.bind(this))\n    } else {\n      selectionChangeObserver.reset()\n      return fn.call(this)\n    }\n  }\n\n  getTargetDOMRange({ minLength } = { minLength: 0 }) {\n    const targetRanges = this.event.getTargetRanges?.()\n    if (targetRanges) {\n      if (targetRanges.length) {\n        const domRange = staticRangeToRange(targetRanges[0])\n        if (minLength === 0 || domRange.toString().length >= minLength) {\n          return domRange\n        }\n      }\n    }\n  }\n\n  withEvent(event, fn) {\n    let result\n    this.event = event\n    try {\n      result = fn.call(this)\n    } finally {\n      this.event = null\n    }\n    return result\n  }\n}\n\nconst staticRangeToRange = function(staticRange) {\n  const range = document.createRange()\n  range.setStart(staticRange.startContainer, staticRange.startOffset)\n  range.setEnd(staticRange.endContainer, staticRange.endOffset)\n  return range\n}\n\n// Event helpers\n\nconst dragEventHasFiles = (event) => Array.from(event.dataTransfer?.types || []).includes(\"Files\")\n\nconst processableFilePaste = (event) => {\n  // Paste events that only have files are handled by the paste event handler,\n  // to work around Safari not supporting beforeinput.insertFromPaste for files.\n\n  // MS Office text pastes include a file with a screenshot of the text, but we should\n  // handle them as text pastes.\n  return event.dataTransfer.files?.[0] && !pasteEventHasFilesOnly(event) && !dataTransferIsMsOfficePaste(event)\n}\n\nconst pasteEventHasFilesOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    const fileTypes = Array.from(clipboard.types).filter((type) => type.match(/file/i)) // \"Files\", \"application/x-moz-file\"\n    return fileTypes.length === clipboard.types.length && clipboard.files.length >= 1\n  }\n}\n\nconst pasteEventHasPlainTextOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    return clipboard.types.includes(\"text/plain\") && clipboard.types.length === 1\n  }\n}\n\nconst keyboardCommandFromKeyEvent = function(event) {\n  const command = []\n  if (event.altKey) {\n    command.push(\"alt\")\n  }\n  if (event.shiftKey) {\n    command.push(\"shift\")\n  }\n  command.push(event.key)\n  return command\n}\n\nconst pointFromEvent = (event) => ({\n  x: event.clientX,\n  y: event.clientY,\n})\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { findClosestElementFromNode, handleEvent, triggerEvent } from \"trix/core/helpers\"\n\nimport DOMPurify from \"dompurify\"\n\nconst attributeButtonSelector = \"[data-trix-attribute]\"\nconst actionButtonSelector = \"[data-trix-action]\"\nconst toolbarButtonSelector = `${attributeButtonSelector}, ${actionButtonSelector}`\nconst dialogSelector = \"[data-trix-dialog]\"\nconst activeDialogSelector = `${dialogSelector}[data-trix-active]`\nconst dialogButtonSelector = `${dialogSelector} [data-trix-method]`\nconst dialogInputSelector = `${dialogSelector} [data-trix-input]`\nconst getInputForDialog = (element, attributeName) => {\n  if (!attributeName) { attributeName = getAttributeName(element) }\n  return element.querySelector(`[data-trix-input][name='${attributeName}']`)\n}\nconst getActionName = (element) => element.getAttribute(\"data-trix-action\")\nconst getAttributeName = (element) => {\n  return element.getAttribute(\"data-trix-attribute\") || element.getAttribute(\"data-trix-dialog-attribute\")\n}\nconst getDialogName = (element) => element.getAttribute(\"data-trix-dialog\")\n\nexport default class ToolbarController extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didClickAttributeButton = this.didClickAttributeButton.bind(this)\n    this.didClickDialogButton = this.didClickDialogButton.bind(this)\n    this.didKeyDownDialogInput = this.didKeyDownDialogInput.bind(this)\n    this.element = element\n    this.attributes = {}\n    this.actions = {}\n    this.resetDialogInputs()\n\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: actionButtonSelector,\n      withCallback: this.didClickActionButton,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attributeButtonSelector,\n      withCallback: this.didClickAttributeButton,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: toolbarButtonSelector, preventDefault: true })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: dialogButtonSelector,\n      withCallback: this.didClickDialogButton,\n    })\n    handleEvent(\"keydown\", {\n      onElement: this.element,\n      matchingSelector: dialogInputSelector,\n      withCallback: this.didKeyDownDialogInput,\n    })\n  }\n\n  // Event handlers\n\n  didClickActionButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const actionName = getActionName(element)\n\n    if (this.getDialog(actionName)) {\n      return this.toggleDialog(actionName)\n    } else {\n      return this.delegate?.toolbarDidInvokeAction(actionName, element)\n    }\n  }\n\n  didClickAttributeButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const attributeName = getAttributeName(element)\n\n    if (this.getDialog(attributeName)) {\n      this.toggleDialog(attributeName)\n    } else {\n      this.delegate?.toolbarDidToggleAttribute(attributeName)\n    }\n\n    return this.refreshAttributeButtons()\n  }\n\n  didClickDialogButton(event, element) {\n    const dialogElement = findClosestElementFromNode(element, { matchingSelector: dialogSelector })\n    const method = element.getAttribute(\"data-trix-method\")\n    return this[method].call(this, dialogElement)\n  }\n\n  didKeyDownDialogInput(event, element) {\n    if (event.keyCode === 13) {\n      // Enter key\n      event.preventDefault()\n      const attribute = element.getAttribute(\"name\")\n      const dialog = this.getDialog(attribute)\n      this.setAttribute(dialog)\n    }\n    if (event.keyCode === 27) {\n      // Escape key\n      event.preventDefault()\n      return this.hideDialog()\n    }\n  }\n\n  // Action buttons\n\n  updateActions(actions) {\n    this.actions = actions\n    return this.refreshActionButtons()\n  }\n\n  refreshActionButtons() {\n    return this.eachActionButton((element, actionName) => {\n      element.disabled = this.actions[actionName] === false\n    })\n  }\n\n  eachActionButton(callback) {\n    return Array.from(this.element.querySelectorAll(actionButtonSelector)).map((element) =>\n      callback(element, getActionName(element))\n    )\n  }\n\n  // Attribute buttons\n\n  updateAttributes(attributes) {\n    this.attributes = attributes\n    return this.refreshAttributeButtons()\n  }\n\n  refreshAttributeButtons() {\n    return this.eachAttributeButton((element, attributeName) => {\n      element.disabled = this.attributes[attributeName] === false\n      if (this.attributes[attributeName] || this.dialogIsVisible(attributeName)) {\n        element.setAttribute(\"data-trix-active\", \"\")\n        return element.classList.add(\"trix-active\")\n      } else {\n        element.removeAttribute(\"data-trix-active\")\n        return element.classList.remove(\"trix-active\")\n      }\n    })\n  }\n\n  eachAttributeButton(callback) {\n    return Array.from(this.element.querySelectorAll(attributeButtonSelector)).map((element) =>\n      callback(element, getAttributeName(element))\n    )\n  }\n\n  applyKeyboardCommand(keys) {\n    const keyString = JSON.stringify(keys.sort())\n    for (const button of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))) {\n      const buttonKeys = button.getAttribute(\"data-trix-key\").split(\"+\")\n      const buttonKeyString = JSON.stringify(buttonKeys.sort())\n      if (buttonKeyString === keyString) {\n        triggerEvent(\"mousedown\", { onElement: button })\n        return true\n      }\n    }\n    return false\n  }\n\n  // Dialogs\n\n  dialogIsVisible(dialogName) {\n    const element = this.getDialog(dialogName)\n    if (element) {\n      return element.hasAttribute(\"data-trix-active\")\n    }\n  }\n\n  toggleDialog(dialogName) {\n    if (this.dialogIsVisible(dialogName)) {\n      return this.hideDialog()\n    } else {\n      return this.showDialog(dialogName)\n    }\n  }\n\n  showDialog(dialogName) {\n    this.hideDialog()\n    this.delegate?.toolbarWillShowDialog()\n\n    const element = this.getDialog(dialogName)\n    element.setAttribute(\"data-trix-active\", \"\")\n    element.classList.add(\"trix-active\")\n\n    Array.from(element.querySelectorAll(\"input[disabled]\")).forEach((disabledInput) => {\n      disabledInput.removeAttribute(\"disabled\")\n    })\n\n    const attributeName = getAttributeName(element)\n    if (attributeName) {\n      const input = getInputForDialog(element, dialogName)\n      if (input) {\n        input.value = this.attributes[attributeName] || \"\"\n        input.select()\n      }\n    }\n\n    return this.delegate?.toolbarDidShowDialog(dialogName)\n  }\n\n  setAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    const input = getInputForDialog(dialogElement, attributeName)\n\n    if (input.willValidate) {\n      input.setCustomValidity(\"\")\n      if (!input.checkValidity() || !this.isSafeAttribute(input)) {\n        input.setCustomValidity(\"Invalid value\")\n        input.setAttribute(\"data-trix-validate\", \"\")\n        input.classList.add(\"trix-validate\")\n        return input.focus()\n      }\n    }\n    this.delegate?.toolbarDidUpdateAttribute(attributeName, input.value)\n    return this.hideDialog()\n  }\n\n  isSafeAttribute(input) {\n    if (input.hasAttribute(\"data-trix-validate-href\")) {\n      return DOMPurify.isValidAttribute(\"a\", \"href\", input.value)\n    } else {\n      return true\n    }\n  }\n\n  removeAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    this.delegate?.toolbarDidRemoveAttribute(attributeName)\n    return this.hideDialog()\n  }\n\n  hideDialog() {\n    const element = this.element.querySelector(activeDialogSelector)\n    if (element) {\n      element.removeAttribute(\"data-trix-active\")\n      element.classList.remove(\"trix-active\")\n      this.resetDialogInputs()\n      return this.delegate?.toolbarDidHideDialog(getDialogName(element))\n    }\n  }\n\n  resetDialogInputs() {\n    Array.from(this.element.querySelectorAll(dialogInputSelector)).forEach((input) => {\n      input.setAttribute(\"disabled\", \"disabled\")\n      input.removeAttribute(\"data-trix-validate\")\n      input.classList.remove(\"trix-validate\")\n    })\n  }\n\n  getDialog(dialogName) {\n    return this.element.querySelector(`[data-trix-dialog=${dialogName}]`)\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nimport * as config from \"trix/config\"\n\nimport { serializeToContentType } from \"trix/core/serialization\"\n\nimport Controller from \"trix/controllers/controller\"\nimport Level0InputController from \"trix/controllers/level_0_input_controller\"\nimport Level2InputController from \"trix/controllers/level_2_input_controller\"\nimport CompositionController from \"trix/controllers/composition_controller\"\nimport ToolbarController from \"trix/controllers/toolbar_controller\"\nimport Composition from \"trix/models/composition\"\nimport Editor from \"trix/models/editor\"\nimport AttachmentManager from \"trix/models/attachment_manager\"\nimport SelectionManager from \"trix/models/selection_manager\"\n\nimport { getBlockConfig, objectsAreEqual, rangeIsCollapsed, rangesAreEqual } from \"trix/core/helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst snapshotsAreEqual = (a, b) => rangesAreEqual(a.selectedRange, b.selectedRange) && a.document.isEqualTo(b.document)\n\nexport default class EditorController extends Controller {\n  static actions = {\n    undo: {\n      test() {\n        return this.editor.canUndo()\n      },\n      perform() {\n        return this.editor.undo()\n      },\n    },\n    redo: {\n      test() {\n        return this.editor.canRedo()\n      },\n      perform() {\n        return this.editor.redo()\n      },\n    },\n    link: {\n      test() {\n        return this.editor.canActivateAttribute(\"href\")\n      },\n    },\n    increaseNestingLevel: {\n      test() {\n        return this.editor.canIncreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.increaseNestingLevel() && this.render()\n      },\n    },\n    decreaseNestingLevel: {\n      test() {\n        return this.editor.canDecreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.decreaseNestingLevel() && this.render()\n      },\n    },\n    attachFiles: {\n      test() {\n        return true\n      },\n      perform() {\n        return config.input.pickFiles(this.editor.insertFiles)\n      },\n    },\n  }\n\n  constructor({ editorElement, document, html }) {\n    super(...arguments)\n    this.editorElement = editorElement\n    this.selectionManager = new SelectionManager(this.editorElement)\n    this.selectionManager.delegate = this\n\n    this.composition = new Composition()\n    this.composition.delegate = this\n\n    this.attachmentManager = new AttachmentManager(this.composition.getAttachments())\n    this.attachmentManager.delegate = this\n\n    this.inputController =\n      config.input.getLevel() === 2\n        ? new Level2InputController(this.editorElement)\n        : new Level0InputController(this.editorElement)\n\n    this.inputController.delegate = this\n    this.inputController.responder = this.composition\n\n    this.compositionController = new CompositionController(this.editorElement, this.composition)\n    this.compositionController.delegate = this\n\n    this.toolbarController = new ToolbarController(this.editorElement.toolbarElement)\n    this.toolbarController.delegate = this\n\n    this.editor = new Editor(this.composition, this.selectionManager, this.editorElement)\n    if (document) {\n      this.editor.loadDocument(document)\n    } else {\n      this.editor.loadHTML(html)\n    }\n  }\n\n  registerSelectionManager() {\n    return selectionChangeObserver.registerSelectionManager(this.selectionManager)\n  }\n\n  unregisterSelectionManager() {\n    return selectionChangeObserver.unregisterSelectionManager(this.selectionManager)\n  }\n\n  render() {\n    return this.compositionController.render()\n  }\n\n  reparse() {\n    return this.composition.replaceHTML(this.editorElement.innerHTML)\n  }\n\n  // Composition delegate\n\n  compositionDidChangeDocument(document) {\n    this.notifyEditorElement(\"document-change\")\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionDidChangeCurrentAttributes(currentAttributes) {\n    this.currentAttributes = currentAttributes\n    this.toolbarController.updateAttributes(this.currentAttributes)\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"attributes-change\", { attributes: this.currentAttributes })\n  }\n\n  compositionDidPerformInsertionAtRange(range) {\n    if (this.pasting) {\n      this.pastedRange = range\n    }\n  }\n\n  compositionShouldAcceptFile(file) {\n    return this.notifyEditorElement(\"file-accept\", { file })\n  }\n\n  compositionDidAddAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-add\", { attachment: managedAttachment })\n  }\n\n  compositionDidEditAttachment(attachment) {\n    this.compositionController.rerenderViewForObject(attachment)\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    this.notifyEditorElement(\"attachment-edit\", { attachment: managedAttachment })\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidChangeAttachmentPreviewURL(attachment) {\n    this.compositionController.invalidateViewForObject(attachment)\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidRemoveAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.unmanageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-remove\", { attachment: managedAttachment })\n  }\n\n  compositionDidStartEditingAttachment(attachment, options) {\n    this.attachmentLocationRange = this.composition.document.getLocationRangeOfAttachment(attachment)\n    this.compositionController.installAttachmentEditorForAttachment(attachment, options)\n    return this.selectionManager.setLocationRange(this.attachmentLocationRange)\n  }\n\n  compositionDidStopEditingAttachment(attachment) {\n    this.compositionController.uninstallAttachmentEditor()\n    this.attachmentLocationRange = null\n  }\n\n  compositionDidRequestChangingSelectionToLocationRange(locationRange) {\n    if (this.loadingSnapshot && !this.isFocused()) return\n    this.requestedLocationRange = locationRange\n    this.compositionRevisionWhenLocationRangeRequested = this.composition.revision\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionWillLoadSnapshot() {\n    this.loadingSnapshot = true\n  }\n\n  compositionDidLoadSnapshot() {\n    this.compositionController.refreshViewCache()\n    this.render()\n    this.loadingSnapshot = false\n  }\n\n  getSelectionManager() {\n    return this.selectionManager\n  }\n\n  // Attachment manager delegate\n\n  attachmentManagerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Document controller delegate\n\n  compositionControllerWillSyncDocumentView() {\n    this.inputController.editorWillSyncDocumentView()\n    this.selectionManager.lock()\n    return this.selectionManager.clearSelection()\n  }\n\n  compositionControllerDidSyncDocumentView() {\n    this.inputController.editorDidSyncDocumentView()\n    this.selectionManager.unlock()\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"sync\")\n  }\n\n  compositionControllerDidRender() {\n    if (this.requestedLocationRange) {\n      if (this.compositionRevisionWhenLocationRangeRequested === this.composition.revision) {\n        this.selectionManager.setLocationRange(this.requestedLocationRange)\n      }\n      this.requestedLocationRange = null\n      this.compositionRevisionWhenLocationRangeRequested = null\n    }\n\n    if (this.renderedCompositionRevision !== this.composition.revision) {\n      this.runEditorFilters()\n      this.composition.updateCurrentAttributes()\n      this.notifyEditorElement(\"render\")\n    }\n\n    this.renderedCompositionRevision = this.composition.revision\n  }\n\n  compositionControllerDidFocus() {\n    if (this.isFocusedInvisibly()) {\n      this.setLocationRange({ index: 0, offset: 0 })\n    }\n    this.toolbarController.hideDialog()\n    return this.notifyEditorElement(\"focus\")\n  }\n\n  compositionControllerDidBlur() {\n    return this.notifyEditorElement(\"blur\")\n  }\n\n  compositionControllerDidSelectAttachment(attachment, options) {\n    this.toolbarController.hideDialog()\n    return this.composition.editAttachment(attachment, options)\n  }\n\n  compositionControllerDidRequestDeselectingAttachment(attachment) {\n    const locationRange = this.attachmentLocationRange || this.composition.document.getLocationRangeOfAttachment(attachment)\n    return this.selectionManager.setLocationRange(locationRange[1])\n  }\n\n  compositionControllerWillUpdateAttachment(attachment) {\n    return this.editor.recordUndoEntry(\"Edit Attachment\", { context: attachment.id, consolidatable: true })\n  }\n\n  compositionControllerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Input controller delegate\n\n  inputControllerWillHandleInput() {\n    this.handlingInput = true\n    this.requestedRender = false\n  }\n\n  inputControllerDidRequestRender() {\n    this.requestedRender = true\n  }\n\n  inputControllerDidHandleInput() {\n    this.handlingInput = false\n    if (this.requestedRender) {\n      this.requestedRender = false\n      return this.render()\n    }\n  }\n\n  inputControllerDidAllowUnhandledInput() {\n    return this.notifyEditorElement(\"change\")\n  }\n\n  inputControllerDidRequestReparse() {\n    return this.reparse()\n  }\n\n  inputControllerWillPerformTyping() {\n    return this.recordTypingUndoEntry()\n  }\n\n  inputControllerWillPerformFormatting(attributeName) {\n    return this.recordFormattingUndoEntry(attributeName)\n  }\n\n  inputControllerWillCutText() {\n    return this.editor.recordUndoEntry(\"Cut\")\n  }\n\n  inputControllerWillPaste(paste) {\n    this.editor.recordUndoEntry(\"Paste\")\n    this.pasting = true\n    return this.notifyEditorElement(\"before-paste\", { paste })\n  }\n\n  inputControllerDidPaste(paste) {\n    paste.range = this.pastedRange\n    this.pastedRange = null\n    this.pasting = null\n    return this.notifyEditorElement(\"paste\", { paste })\n  }\n\n  inputControllerWillMoveText() {\n    return this.editor.recordUndoEntry(\"Move\")\n  }\n\n  inputControllerWillAttachFiles() {\n    return this.editor.recordUndoEntry(\"Drop Files\")\n  }\n\n  inputControllerWillPerformUndo() {\n    return this.editor.undo()\n  }\n\n  inputControllerWillPerformRedo() {\n    return this.editor.redo()\n  }\n\n  inputControllerDidReceiveKeyboardCommand(keys) {\n    return this.toolbarController.applyKeyboardCommand(keys)\n  }\n\n  inputControllerDidStartDrag() {\n    this.locationRangeBeforeDrag = this.selectionManager.getLocationRange()\n  }\n\n  inputControllerDidReceiveDragOverPoint(point) {\n    return this.selectionManager.setLocationRangeFromPointRange(point)\n  }\n\n  inputControllerDidCancelDrag() {\n    this.selectionManager.setLocationRange(this.locationRangeBeforeDrag)\n    this.locationRangeBeforeDrag = null\n  }\n\n  // Selection manager delegate\n\n  locationRangeDidChange(locationRange) {\n    this.composition.updateCurrentAttributes()\n    this.updateCurrentActions()\n    if (this.attachmentLocationRange && !rangesAreEqual(this.attachmentLocationRange, locationRange)) {\n      this.composition.stopEditingAttachment()\n    }\n    return this.notifyEditorElement(\"selection-change\")\n  }\n\n  // Toolbar controller delegate\n\n  toolbarDidClickButton() {\n    if (!this.getLocationRange()) {\n      return this.setLocationRange({ index: 0, offset: 0 })\n    }\n  }\n\n  toolbarDidInvokeAction(actionName, invokingElement) {\n    return this.invokeAction(actionName, invokingElement)\n  }\n\n  toolbarDidToggleAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.toggleCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidUpdateAttribute(attributeName, value) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.setCurrentAttribute(attributeName, value)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidRemoveAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.removeCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarWillShowDialog(dialogElement) {\n    this.composition.expandSelectionForEditing()\n    return this.freezeSelection()\n  }\n\n  toolbarDidShowDialog(dialogName) {\n    return this.notifyEditorElement(\"toolbar-dialog-show\", { dialogName })\n  }\n\n  toolbarDidHideDialog(dialogName) {\n    this.thawSelection()\n    this.editorElement.focus()\n    return this.notifyEditorElement(\"toolbar-dialog-hide\", { dialogName })\n  }\n\n  // Selection\n\n  freezeSelection() {\n    if (!this.selectionFrozen) {\n      this.selectionManager.lock()\n      this.composition.freezeSelection()\n      this.selectionFrozen = true\n      return this.render()\n    }\n  }\n\n  thawSelection() {\n    if (this.selectionFrozen) {\n      this.composition.thawSelection()\n      this.selectionManager.unlock()\n      this.selectionFrozen = false\n      return this.render()\n    }\n  }\n\n  canInvokeAction(actionName) {\n    if (this.actionIsExternal(actionName)) {\n      return true\n    } else {\n      return !!this.actions[actionName]?.test?.call(this)\n    }\n  }\n\n  invokeAction(actionName, invokingElement) {\n    if (this.actionIsExternal(actionName)) {\n      return this.notifyEditorElement(\"action-invoke\", { actionName, invokingElement })\n    } else {\n      return this.actions[actionName]?.perform?.call(this)\n    }\n  }\n\n  actionIsExternal(actionName) {\n    return /^x-./.test(actionName)\n  }\n\n  getCurrentActions() {\n    const result = {}\n    for (const actionName in this.actions) {\n      result[actionName] = this.canInvokeAction(actionName)\n    }\n    return result\n  }\n\n  updateCurrentActions() {\n    const currentActions = this.getCurrentActions()\n    if (!objectsAreEqual(currentActions, this.currentActions)) {\n      this.currentActions = currentActions\n      this.toolbarController.updateActions(this.currentActions)\n      return this.notifyEditorElement(\"actions-change\", { actions: this.currentActions })\n    }\n  }\n\n  // Editor filters\n\n  runEditorFilters() {\n    let snapshot = this.composition.getSnapshot()\n\n    Array.from(this.editor.filters).forEach((filter) => {\n      const { document, selectedRange } = snapshot\n      snapshot = filter.call(this.editor, snapshot) || {}\n      if (!snapshot.document) {\n        snapshot.document = document\n      }\n      if (!snapshot.selectedRange) {\n        snapshot.selectedRange = selectedRange\n      }\n    })\n\n    if (!snapshotsAreEqual(snapshot, this.composition.getSnapshot())) {\n      return this.composition.loadSnapshot(snapshot)\n    }\n  }\n\n  // Private\n\n  updateInputElement() {\n    const element = this.compositionController.getSerializableElement()\n    const value = serializeToContentType(element, \"text/html\")\n    return this.editorElement.setFormValue(value)\n  }\n\n  notifyEditorElement(message, data) {\n    switch (message) {\n      case \"document-change\":\n        this.documentChangedSinceLastRender = true\n        break\n      case \"render\":\n        if (this.documentChangedSinceLastRender) {\n          this.documentChangedSinceLastRender = false\n          this.notifyEditorElement(\"change\")\n        }\n        break\n      case \"change\":\n      case \"attachment-add\":\n      case \"attachment-edit\":\n      case \"attachment-remove\":\n        this.updateInputElement()\n        break\n    }\n\n    return this.editorElement.notify(message, data)\n  }\n\n  removeAttachment(attachment) {\n    this.editor.recordUndoEntry(\"Delete Attachment\")\n    this.composition.removeAttachment(attachment)\n    return this.render()\n  }\n\n  recordFormattingUndoEntry(attributeName) {\n    const blockConfig = getBlockConfig(attributeName)\n    const locationRange = this.selectionManager.getLocationRange()\n    if (blockConfig || !rangeIsCollapsed(locationRange)) {\n      return this.editor.recordUndoEntry(\"Formatting\", { context: this.getUndoContext(), consolidatable: true })\n    }\n  }\n\n  recordTypingUndoEntry() {\n    return this.editor.recordUndoEntry(\"Typing\", {\n      context: this.getUndoContext(this.currentAttributes),\n      consolidatable: true,\n    })\n  }\n\n  getUndoContext(...context) {\n    return [ this.getLocationContext(), this.getTimeContext(), ...Array.from(context) ]\n  }\n\n  getLocationContext() {\n    const locationRange = this.selectionManager.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      return locationRange[0].index\n    } else {\n      return locationRange\n    }\n  }\n\n  getTimeContext() {\n    if (config.undo.interval > 0) {\n      return Math.floor(new Date().getTime() / config.undo.interval)\n    } else {\n      return 0\n    }\n  }\n\n  isFocused() {\n    return this.editorElement === this.editorElement.ownerDocument?.activeElement\n  }\n\n  // Detect \"Cursor disappears sporadically\" Firefox bug.\n  // - https://bugzilla.mozilla.org/show_bug.cgi?id=226301\n  isFocusedInvisibly() {\n    return this.isFocused() && !this.getLocationRange()\n  }\n\n  get actions() {\n    return this.constructor.actions\n  }\n}\n\nEditorController.proxyMethod(\"getSelectionManager().setLocationRange\")\nEditorController.proxyMethod(\"getSelectionManager().getLocationRange\")\n", "import * as config from \"trix/config\"\n\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-toolbar\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}`)\n\nexport default class TrixToolbarElement extends HTMLElement {\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (this.innerHTML === \"\") {\n      this.innerHTML = config.toolbar.getDefaultHTML()\n    }\n  }\n}\n", "import * as config from \"trix/config\"\n\nimport {\n  findClosestElementFromNode,\n  handleEvent,\n  handleEventOnce,\n  installDefaultCSSForTagName,\n  makeElement,\n  triggerEvent,\n} from \"trix/core/helpers\"\n\nimport { attachmentSelector } from \"trix/config/attachments\"\nimport EditorController from \"trix/controllers/editor_controller\"\nimport \"trix/elements/trix_toolbar_element\"\n\nlet id = 0\n\n// Contenteditable support helpers\n\nconst autofocus = function(element) {\n  if (!document.querySelector(\":focus\")) {\n    if (element.hasAttribute(\"autofocus\") && document.querySelector(\"[autofocus]\") === element) {\n      return element.focus()\n    }\n  }\n}\n\nconst makeEditable = function(element) {\n  if (element.hasAttribute(\"contenteditable\")) {\n    return\n  }\n  element.setAttribute(\"contenteditable\", \"\")\n  return handleEventOnce(\"focus\", {\n    onElement: element,\n    withCallback() {\n      return configureContentEditable(element)\n    },\n  })\n}\n\nconst configureContentEditable = function(element) {\n  disableObjectResizing(element)\n  return setDefaultParagraphSeparator(element)\n}\n\nconst disableObjectResizing = function(element) {\n  if (document.queryCommandSupported?.(\"enableObjectResizing\")) {\n    document.execCommand(\"enableObjectResizing\", false, false)\n    return handleEvent(\"mscontrolselect\", { onElement: element, preventDefault: true })\n  }\n}\n\nconst setDefaultParagraphSeparator = function(element) {\n  if (document.queryCommandSupported?.(\"DefaultParagraphSeparator\")) {\n    const { tagName } = config.blockAttributes.default\n    if ([ \"div\", \"p\" ].includes(tagName)) {\n      return document.execCommand(\"DefaultParagraphSeparator\", false, tagName)\n    }\n  }\n}\n\n// Accessibility helpers\n\nconst addAccessibilityRole = function(element) {\n  if (element.hasAttribute(\"role\")) {\n    return\n  }\n  return element.setAttribute(\"role\", \"textbox\")\n}\n\nconst ensureAriaLabel = function(element) {\n  if (element.hasAttribute(\"aria-label\") || element.hasAttribute(\"aria-labelledby\")) {\n    return\n  }\n\n  const update = function() {\n    const texts = Array.from(element.labels).map((label) => {\n      if (!label.contains(element)) return label.textContent\n    }).filter(text => text)\n\n    const text = texts.join(\" \")\n    if (text) {\n      return element.setAttribute(\"aria-label\", text)\n    } else {\n      return element.removeAttribute(\"aria-label\")\n    }\n  }\n  update()\n  return handleEvent(\"focus\", { onElement: element, withCallback: update })\n}\n\n// Style\n\nconst cursorTargetStyles = (function() {\n  if (config.browser.forcesObjectResizing) {\n    return {\n      display: \"inline\",\n      width: \"auto\",\n    }\n  } else {\n    return {\n      display: \"inline-block\",\n      width: \"1px\",\n    }\n  }\n})()\n\ninstallDefaultCSSForTagName(\"trix-editor\", `\\\n%t {\n    display: block;\n}\n\n%t:empty::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ${attachmentSelector} figcaption textarea {\n    resize: none;\n}\n\n%t ${attachmentSelector} figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ${attachmentSelector} figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ${cursorTargetStyles.display} !important;\n    width: ${cursorTargetStyles.width} !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}`)\n\nclass ElementInternalsDelegate {\n  #internals\n\n  constructor(element) {\n    this.element = element\n    this.#internals = element.attachInternals()\n  }\n\n  connectedCallback() {\n    this.#validate()\n  }\n\n  disconnectedCallback() {\n  }\n\n  get labels() {\n    return this.#internals.labels\n  }\n\n  get disabled() {\n    return this.element.inputElement?.disabled\n  }\n\n  set disabled(value) {\n    this.element.toggleAttribute(\"disabled\", value)\n  }\n\n  get required() {\n    return this.element.hasAttribute(\"required\")\n  }\n\n  set required(value) {\n    this.element.toggleAttribute(\"required\", value)\n    this.#validate()\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  setFormValue(value) {\n    this.#validate()\n  }\n\n  checkValidity() {\n    return this.#internals.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#internals.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#validate(validationMessage)\n  }\n\n  #validate(customValidationMessage = \"\") {\n    const { required, value } = this.element\n    const valueMissing = required && !value\n    const customError = !!customValidationMessage\n    const input = makeElement(\"input\", { required })\n    const validationMessage = customValidationMessage || input.validationMessage\n\n    this.#internals.setValidity({ valueMissing, customError }, validationMessage)\n  }\n}\n\nclass LegacyDelegate {\n  #focusHandler\n\n  constructor(element) {\n    this.element = element\n  }\n\n  connectedCallback() {\n    this.#focusHandler = ensureAriaLabel(this.element)\n    window.addEventListener(\"reset\", this.#resetBubbled, false)\n    window.addEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  disconnectedCallback() {\n    this.#focusHandler?.destroy()\n    window.removeEventListener(\"reset\", this.#resetBubbled, false)\n    window.removeEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  get labels() {\n    const labels = []\n    if (this.element.id && this.element.ownerDocument) {\n      labels.push(...Array.from(this.element.ownerDocument.querySelectorAll(`label[for='${this.element.id}']`) || []))\n    }\n\n    const label = findClosestElementFromNode(this.element, { matchingSelector: \"label\" })\n    if (label) {\n      if ([ this.element, null ].includes(label.control)) {\n        labels.push(label)\n      }\n    }\n\n    return labels\n  }\n\n  get disabled() {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set disabled(value) {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n  }\n\n  get required() {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set required(value) {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n  }\n\n  get validity() {\n    console.warn(\"This browser does not support the validity property for trix-editor elements.\")\n    return null\n  }\n\n  get validationMessage() {\n    console.warn(\"This browser does not support the validationMessage property for trix-editor elements.\")\n\n    return \"\"\n  }\n\n  get willValidate() {\n    console.warn(\"This browser does not support the willValidate property for trix-editor elements.\")\n\n    return false\n  }\n\n  setFormValue(value) {\n  }\n\n  checkValidity() {\n    console.warn(\"This browser does not support checkValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  reportValidity() {\n    console.warn(\"This browser does not support reportValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  setCustomValidity(validationMessage) {\n    console.warn(\"This browser does not support setCustomValidity(validationMessage) for trix-editor elements.\")\n  }\n\n  #resetBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (event.target !== this.element.form) return\n    this.element.reset()\n  }\n\n  #clickBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (this.element.contains(event.target)) return\n\n    const label = findClosestElementFromNode(event.target, { matchingSelector: \"label\" })\n    if (!label) return\n\n    if (!Array.from(this.labels).includes(label)) return\n\n    this.element.focus()\n  }\n}\n\nexport default class TrixEditorElement extends HTMLElement {\n  static formAssociated = \"ElementInternals\" in window\n\n  static observedAttributes = [ \"connected\" ]\n\n  #delegate\n\n  constructor() {\n    super()\n    this.#delegate = this.constructor.formAssociated ?\n      new ElementInternalsDelegate(this) :\n      new LegacyDelegate(this)\n  }\n\n  // Properties\n\n  get trixId() {\n    if (this.hasAttribute(\"trix-id\")) {\n      return this.getAttribute(\"trix-id\")\n    } else {\n      this.setAttribute(\"trix-id\", ++id)\n      return this.trixId\n    }\n  }\n\n  get labels() {\n    return this.#delegate.labels\n  }\n\n  get disabled() {\n    return this.#delegate.disabled\n  }\n\n  set disabled(value) {\n    this.#delegate.disabled = value\n  }\n\n  get required() {\n    return this.#delegate.required\n  }\n\n  set required(value) {\n    this.#delegate.required = value\n  }\n\n  get validity() {\n    return this.#delegate.validity\n  }\n\n  get validationMessage() {\n    return this.#delegate.validationMessage\n  }\n\n  get willValidate() {\n    return this.#delegate.willValidate\n  }\n\n  get type() {\n    return this.localName\n  }\n\n  get toolbarElement() {\n    if (this.hasAttribute(\"toolbar\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"toolbar\"))\n    } else if (this.parentNode) {\n      const toolbarId = `trix-toolbar-${this.trixId}`\n      this.setAttribute(\"toolbar\", toolbarId)\n      this.internalToolbar = makeElement(\"trix-toolbar\", { id: toolbarId })\n      this.parentNode.insertBefore(this.internalToolbar, this)\n      return this.internalToolbar\n    } else {\n      return undefined\n    }\n  }\n\n  get form() {\n    return this.inputElement?.form\n  }\n\n  get inputElement() {\n    if (this.hasAttribute(\"input\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"input\"))\n    } else if (this.parentNode) {\n      const inputId = `trix-input-${this.trixId}`\n      this.setAttribute(\"input\", inputId)\n      const element = makeElement(\"input\", { type: \"hidden\", id: inputId })\n      this.parentNode.insertBefore(element, this.nextElementSibling)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get editor() {\n    return this.editorController?.editor\n  }\n\n  get name() {\n    return this.inputElement?.name\n  }\n\n  get value() {\n    return this.inputElement?.value\n  }\n\n  set value(defaultValue) {\n    this.defaultValue = defaultValue\n    this.editor?.loadHTML(this.defaultValue)\n  }\n\n  // Element callbacks\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === \"connected\" && this.isConnected && oldValue != null && oldValue !== newValue) {\n      requestAnimationFrame(() => this.reconnect())\n    }\n  }\n\n  // Controller delegate methods\n\n  notify(message, data) {\n    if (this.editorController) {\n      return triggerEvent(`trix-${message}`, { onElement: this, attributes: data })\n    }\n  }\n\n  setFormValue(value) {\n    if (this.inputElement) {\n      this.inputElement.value = value\n      this.#delegate.setFormValue(value)\n    }\n  }\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"data-trix-internal\")) {\n      makeEditable(this)\n      addAccessibilityRole(this)\n\n      if (!this.editorController) {\n        triggerEvent(\"trix-before-initialize\", { onElement: this })\n        this.editorController = new EditorController({\n          editorElement: this,\n          html: this.defaultValue = this.value,\n        })\n        requestAnimationFrame(() => triggerEvent(\"trix-initialize\", { onElement: this }))\n      }\n      this.editorController.registerSelectionManager()\n      this.#delegate.connectedCallback()\n\n      this.toggleAttribute(\"connected\", true)\n      autofocus(this)\n    }\n  }\n\n  disconnectedCallback() {\n    this.editorController?.unregisterSelectionManager()\n    this.#delegate.disconnectedCallback()\n    this.toggleAttribute(\"connected\", false)\n  }\n\n  reconnect() {\n    this.removeInternalToolbar()\n    this.disconnectedCallback()\n    this.connectedCallback()\n  }\n\n  removeInternalToolbar() {\n    this.internalToolbar?.remove()\n    this.internalToolbar = null\n  }\n\n  // Form support\n\n  checkValidity() {\n    return this.#delegate.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#delegate.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#delegate.setCustomValidity(validationMessage)\n  }\n\n  formDisabledCallback(disabled) {\n    if (this.inputElement) {\n      this.inputElement.disabled = disabled\n    }\n    this.toggleAttribute(\"contenteditable\", !disabled)\n  }\n\n  formResetCallback() {\n    this.reset()\n  }\n\n  reset() {\n    this.value = this.defaultValue\n  }\n}\n", "import { version } from \"../../package.json\"\n\nimport * as config from \"trix/config\"\nimport * as core from \"trix/core\"\nimport * as models from \"trix/models\"\nimport * as views from \"trix/views\"\nimport * as controllers from \"trix/controllers\"\nimport * as observers from \"trix/observers\"\nimport * as operations from \"trix/operations\"\nimport * as elements from \"trix/elements\"\nimport * as filters from \"trix/filters\"\n\nconst Trix = {\n  VERSION: version,\n  config,\n  core,\n  models,\n  views,\n  controllers,\n  observers,\n  operations,\n  elements,\n  filters\n}\n\n// Expose models under the Trix constant for compatibility with v1\nObject.assign(Trix, models)\n\nfunction start() {\n  if (!customElements.get(\"trix-toolbar\")) {\n    customElements.define(\"trix-toolbar\", elements.TrixToolbarElement)\n  }\n\n  if (!customElements.get(\"trix-editor\")) {\n    customElements.define(\"trix-editor\", elements.TrixEditorElement)\n  }\n}\n\nwindow.Trix = Trix\nsetTimeout(start, 0)\n\nexport default Trix\n"],
  "mappings": "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V,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,QAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,cACV,UAAU;AAAA,YACZ;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAA,IAAG,OAAO,qBAAoB;AAAA,YAC5B;AAAA,UACF,GAAG,SAAU,OAAO;AAClB,qBAAS,YAAa,UAAU,SAAS;AACvC,0BAAY,UAAU,YAAY,KAAK,IAAI;AAAA,YAC7C;AAEA,kBAAM,OAAO,aAAa,MAAM,UAAU;AAE1C,wBAAY,UAAU,UAAU,SAAU,UAAU;AAClD,oBAAM,IAAI,MAAM,wDAAwD;AAAA,YAC1E;AAEA,wBAAY,UAAU,QAAQ,SAAU,QAAQ,UAAU;AACxD,oBAAM,IAAI,MAAM,sDAAsD;AAAA,YACxE;AAEA,wBAAY,UAAU,OAAO,SAAU,WAAW,YAAY;AAAA,YAE9D;AAEA,wBAAY,UAAU,UAAU,WAAY;AAAA,YAE5C;AAEA,wBAAY,UAAU,mBAAmB,SAAU,WAAW,MAAM;AAClE,kBAAIc,OAAK,UAAU,KAAK;AAExB,cAAAA,QAAM,MAAM,cAAc,CAAC;AAE3B,kBAAI,KAAK,MAAM,MAAM;AACnB,gBAAAA,QAAM,MAAM,KAAK,GAAG,SAAS;AAAA,cAC/B,OAAO;AACL,gBAAAA,QAAM,MAAM,MAAM,cAAc,CAAC;AAAA,cACnC;AACA,qBAAOA;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAd,IAAG,OAAO,uBAAsB;AAAA,YAC9B;AAAA,YACA;AAAA,YACA;AAAA,UACF,GAAG,SAAU,aAAa,OAAOQ,IAAG;AAClC,qBAAS,cAAe,UAAU,SAAS;AACzC,mBAAK,WAAW;AAChB,mBAAK,UAAU;AAEf,4BAAc,UAAU,YAAY,KAAK,IAAI;AAAA,YAC/C;AAEA,kBAAM,OAAO,eAAe,WAAW;AAEvC,0BAAc,UAAU,UAAU,SAAU,UAAU;AACpD,kBAAIO,QAAO;AAEX,kBAAI,OAAO,MAAM,UAAU,IAAI;AAAA,gBAC7B,KAAK,SAAS,CAAC,EAAE,iBAAiB,UAAU;AAAA,gBAC5C,SAAU,iBAAiB;AACzB,yBAAOA,MAAK,KAAKP,GAAE,eAAe,CAAC;AAAA,gBACrC;AAAA,cACF;AAEA,uBAAS,IAAI;AAAA,YACf;AAEA,0BAAc,UAAU,SAAS,SAAU,MAAM;AAC/C,kBAAIO,QAAO;AAEX,mBAAK,WAAW;AAGhB,kBACE,KAAK,WAAW,QAAQ,KAAK,QAAQ,QAAQ,YAAY,MAAM,UAC/D;AACA,qBAAK,QAAQ,WAAW;AAExB,qBAAK,SAAS,QAAQ,OAAO,EAAE,QAAQ,QAAQ;AAE/C;AAAA,cACF;AAEA,kBAAI,KAAK,SAAS,KAAK,UAAU,GAAG;AAClC,qBAAK,QAAQ,SAAU,aAAa;AAClC,sBAAIO,OAAM,CAAC;AAEX,yBAAO,CAAC,IAAI;AACZ,uBAAK,KAAK,MAAM,MAAM,WAAW;AAEjC,2BAASX,KAAI,GAAGA,KAAI,KAAK,QAAQA,MAAK;AACpC,wBAAIG,OAAK,KAAKH,EAAC,EAAE;AAEjB,wBAAIW,KAAI,QAAQR,IAAE,MAAM,IAAI;AAC1B,sBAAAQ,KAAI,KAAKR,IAAE;AAAA,oBACb;AAAA,kBACF;AAEA,kBAAAC,MAAK,SAAS,IAAIO,IAAG;AACrB,kBAAAP,MAAK,SAAS,QAAQ,OAAO,EAAE,QAAQ,QAAQ;AAAA,gBACjD,CAAC;AAAA,cACH,OAAO;AACL,oBAAI,MAAM,KAAK;AAEf,qBAAK,SAAS,IAAI,GAAG;AACrB,qBAAK,SAAS,QAAQ,OAAO,EAAE,QAAQ,QAAQ;AAAA,cACjD;AAAA,YACF;AAEA,0BAAc,UAAU,WAAW,SAAU,MAAM;AACjD,kBAAIA,QAAO;AAEX,kBAAI,CAAC,KAAK,SAAS,KAAK,UAAU,GAAG;AACnC;AAAA,cACF;AAEA,mBAAK,WAAW;AAEhB,kBACE,KAAK,WAAW,QAChB,KAAK,QAAQ,QAAQ,YAAY,MAAM,UACvC;AACA,qBAAK,QAAQ,WAAW;AAExB,qBAAK,SAAS,QAAQ,OAAO,EAAE,QAAQ,QAAQ;AAE/C;AAAA,cACF;AAEA,mBAAK,QAAQ,SAAU,aAAa;AAClC,oBAAI,MAAM,CAAC;AAEX,yBAASJ,KAAI,GAAGA,KAAI,YAAY,QAAQA,MAAK;AAC3C,sBAAIG,OAAK,YAAYH,EAAC,EAAE;AAExB,sBAAIG,SAAO,KAAK,MAAM,IAAI,QAAQA,IAAE,MAAM,IAAI;AAC5C,wBAAI,KAAKA,IAAE;AAAA,kBACb;AAAA,gBACF;AAEA,gBAAAC,MAAK,SAAS,IAAI,GAAG;AAErB,gBAAAA,MAAK,SAAS,QAAQ,OAAO,EAAE,QAAQ,QAAQ;AAAA,cACjD,CAAC;AAAA,YACH;AAEA,0BAAc,UAAU,OAAO,SAAU,WAAW,YAAY;AAC9D,kBAAIA,QAAO;AAEX,mBAAK,YAAY;AAEjB,wBAAU,GAAG,UAAU,SAAU,QAAQ;AACvC,gBAAAA,MAAK,OAAO,OAAO,IAAI;AAAA,cACzB,CAAC;AAED,wBAAU,GAAG,YAAY,SAAU,QAAQ;AACzC,gBAAAA,MAAK,SAAS,OAAO,IAAI;AAAA,cAC3B,CAAC;AAAA,YACH;AAEA,0BAAc,UAAU,UAAU,WAAY;AAE5C,mBAAK,SAAS,KAAK,GAAG,EAAE,KAAK,WAAY;AAEvC,sBAAM,WAAW,IAAI;AAAA,cACvB,CAAC;AAAA,YACH;AAEA,0BAAc,UAAU,QAAQ,SAAU,QAAQ,UAAU;AAC1D,kBAAI,OAAO,CAAC;AACZ,kBAAIA,QAAO;AAEX,kBAAI,WAAW,KAAK,SAAS,SAAS;AAEtC,uBAAS,KAAK,WAAY;AACxB,oBACE,KAAK,QAAQ,YAAY,MAAM,YAC/B,KAAK,QAAQ,YAAY,MAAM,YAC/B;AACA;AAAA,gBACF;AAEA,oBAAI,UAAUP,GAAE,IAAI;AAEpB,oBAAI,SAASO,MAAK,KAAK,OAAO;AAE9B,oBAAI,UAAUA,MAAK,QAAQ,QAAQ,MAAM;AAEzC,oBAAI,YAAY,MAAM;AACpB,uBAAK,KAAK,OAAO;AAAA,gBACnB;AAAA,cACF,CAAC;AAED,uBAAS;AAAA,gBACP,SAAS;AAAA,cACX,CAAC;AAAA,YACH;AAEA,0BAAc,UAAU,aAAa,SAAU,UAAU;AACvD,mBAAK,SAAS,OAAO,QAAQ;AAAA,YAC/B;AAEA,0BAAc,UAAU,SAAS,SAAU,MAAM;AAC/C,kBAAI;AAEJ,kBAAI,KAAK,UAAU;AACjB,yBAAS,SAAS,cAAc,UAAU;AAC1C,uBAAO,QAAQ,KAAK;AAAA,cACtB,OAAO;AACL,yBAAS,SAAS,cAAc,QAAQ;AAExC,oBAAI,OAAO,gBAAgB,QAAW;AACpC,yBAAO,cAAc,KAAK;AAAA,gBAC5B,OAAO;AACL,yBAAO,YAAY,KAAK;AAAA,gBAC1B;AAAA,cACF;AAEA,kBAAI,KAAK,OAAO,QAAW;AACzB,uBAAO,QAAQ,KAAK;AAAA,cACtB;AAEA,kBAAI,KAAK,UAAU;AACjB,uBAAO,WAAW;AAAA,cACpB;AAEA,kBAAI,KAAK,UAAU;AACjB,uBAAO,WAAW;AAAA,cACpB;AAEA,kBAAI,KAAK,OAAO;AACd,uBAAO,QAAQ,KAAK;AAAA,cACtB;AAEA,kBAAI,iBAAiB,KAAK,eAAe,IAAI;AAC7C,6BAAe,UAAU;AAGzB,oBAAM,UAAU,QAAQ,QAAQ,cAAc;AAE9C,qBAAOP,GAAE,MAAM;AAAA,YACjB;AAEA,0BAAc,UAAU,OAAO,SAAU,SAAS;AAChD,kBAAI,OAAO,CAAC;AAEZ,qBAAO,MAAM,QAAQ,QAAQ,CAAC,GAAG,MAAM;AAEvC,kBAAI,QAAQ,MAAM;AAChB,uBAAO;AAAA,cACT;AAEA,kBAAI,SAAS,QAAQ,CAAC;AAEtB,kBAAI,OAAO,QAAQ,YAAY,MAAM,UAAU;AAC7C,uBAAO;AAAA,kBACL,IAAI,QAAQ,IAAI;AAAA,kBAChB,MAAM,QAAQ,KAAK;AAAA,kBACnB,UAAU,QAAQ,KAAK,UAAU;AAAA,kBACjC,UAAU,QAAQ,KAAK,UAAU;AAAA,kBACjC,OAAO,QAAQ,KAAK,OAAO;AAAA,gBAC7B;AAAA,cACF,WAAW,OAAO,QAAQ,YAAY,MAAM,YAAY;AACtD,uBAAO;AAAA,kBACL,MAAM,QAAQ,KAAK,OAAO;AAAA,kBAC1B,UAAU,CAAC;AAAA,kBACX,OAAO,QAAQ,KAAK,OAAO;AAAA,gBAC7B;AAEA,oBAAI,YAAY,QAAQ,SAAS,QAAQ;AACzC,oBAAI,WAAW,CAAC;AAEhB,yBAASS,KAAI,GAAGA,KAAI,UAAU,QAAQA,MAAK;AACzC,sBAAI,SAAST,GAAE,UAAUS,EAAC,CAAC;AAE3B,sBAAI,QAAQ,KAAK,KAAK,MAAM;AAE5B,2BAAS,KAAK,KAAK;AAAA,gBACrB;AAEA,qBAAK,WAAW;AAAA,cAClB;AAEA,qBAAO,KAAK,eAAe,IAAI;AAC/B,mBAAK,UAAU,QAAQ,CAAC;AAExB,oBAAM,UAAU,QAAQ,CAAC,GAAG,QAAQ,IAAI;AAExC,qBAAO;AAAA,YACT;AAEA,0BAAc,UAAU,iBAAiB,SAAU,MAAM;AACvD,kBAAI,SAAS,OAAO,IAAI,GAAG;AACzB,uBAAO;AAAA,kBACL,IAAI;AAAA,kBACJ,MAAM;AAAA,gBACR;AAAA,cACF;AAEA,qBAAOT,GAAE,OAAO,CAAC,GAAG;AAAA,gBAClB,MAAM;AAAA,cACR,GAAG,IAAI;AAEP,kBAAI,WAAW;AAAA,gBACb,UAAU;AAAA,gBACV,UAAU;AAAA,cACZ;AAEA,kBAAI,KAAK,MAAM,MAAM;AACnB,qBAAK,KAAK,KAAK,GAAG,SAAS;AAAA,cAC7B;AAEA,kBAAI,KAAK,QAAQ,MAAM;AACrB,qBAAK,OAAO,KAAK,KAAK,SAAS;AAAA,cACjC;AAEA,kBAAI,KAAK,aAAa,QAAQ,KAAK,MAAM,KAAK,aAAa,MAAM;AAC/D,qBAAK,YAAY,KAAK,iBAAiB,KAAK,WAAW,IAAI;AAAA,cAC7D;AAEA,qBAAOA,GAAE,OAAO,CAAC,GAAG,UAAU,IAAI;AAAA,YACpC;AAEA,0BAAc,UAAU,UAAU,SAAU,QAAQ,MAAM;AACxD,kBAAI,UAAU,KAAK,QAAQ,IAAI,SAAS;AAExC,qBAAO,QAAQ,QAAQ,IAAI;AAAA,YAC7B;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,sBAAqB;AAAA,YAC7B;AAAA,YACA;AAAA,YACA;AAAA,UACF,GAAG,SAAU,eAAe,OAAOQ,IAAG;AACpC,qBAAS,aAAc,UAAU,SAAS;AACxC,mBAAK,iBAAiB,QAAQ,IAAI,MAAM,KAAK,CAAC;AAE9C,2BAAa,UAAU,YAAY,KAAK,MAAM,UAAU,OAAO;AAAA,YACjE;AAEA,kBAAM,OAAO,cAAc,aAAa;AAExC,yBAAa,UAAU,OAAO,SAAU,WAAW,YAAY;AAC7D,2BAAa,UAAU,KAAK,KAAK,MAAM,WAAW,UAAU;AAE5D,mBAAK,WAAW,KAAK,iBAAiB,KAAK,cAAc,CAAC;AAAA,YAC5D;AAEA,yBAAa,UAAU,SAAS,SAAU,MAAM;AAC9C,kBAAI,UAAU,KAAK,SAAS,KAAK,QAAQ,EAAE,OAAO,SAAUH,IAAG,KAAK;AAClE,uBAAO,IAAI,SAAS,KAAK,GAAG,SAAS;AAAA,cACvC,CAAC;AAED,kBAAI,QAAQ,WAAW,GAAG;AACxB,0BAAU,KAAK,OAAO,IAAI;AAE1B,qBAAK,WAAW,OAAO;AAAA,cACzB;AAEA,2BAAa,UAAU,OAAO,KAAK,MAAM,IAAI;AAAA,YAC/C;AAEA,yBAAa,UAAU,mBAAmB,SAAU,MAAM;AACxD,kBAAIU,QAAO;AAEX,kBAAI,YAAY,KAAK,SAAS,KAAK,QAAQ;AAC3C,kBAAI,cAAc,UAAU,IAAI,WAAY;AAC1C,uBAAOA,MAAK,KAAKP,GAAE,IAAI,CAAC,EAAE;AAAA,cAC5B,CAAC,EAAE,IAAI;AAEP,kBAAI,WAAW,CAAC;AAGhB,uBAAS,SAAUe,OAAM;AACvB,uBAAO,WAAY;AACjB,yBAAOf,GAAE,IAAI,EAAE,IAAI,KAAKe,MAAK;AAAA,gBAC/B;AAAA,cACF;AAEA,uBAASZ,KAAI,GAAGA,KAAI,KAAK,QAAQA,MAAK;AACpC,oBAAI,OAAO,KAAK,eAAe,KAAKA,EAAC,CAAC;AAGtC,oBAAI,YAAY,QAAQ,KAAK,EAAE,KAAK,GAAG;AACrC,sBAAI,kBAAkB,UAAU,OAAO,SAAS,IAAI,CAAC;AAErD,sBAAI,eAAe,KAAK,KAAK,eAAe;AAC5C,sBAAI,UAAUH,GAAE,OAAO,MAAM,CAAC,GAAG,MAAM,YAAY;AAEnD,sBAAI,aAAa,KAAK,OAAO,OAAO;AAEpC,kCAAgB,YAAY,UAAU;AAEtC;AAAA,gBACF;AAEA,oBAAI,UAAU,KAAK,OAAO,IAAI;AAE9B,oBAAI,KAAK,UAAU;AACjB,sBAAI,YAAY,KAAK,iBAAiB,KAAK,QAAQ;AAEnD,0BAAQ,OAAO,SAAS;AAAA,gBAC1B;AAEA,yBAAS,KAAK,OAAO;AAAA,cACvB;AAEA,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,qBAAoB;AAAA,YAC5B;AAAA,YACA;AAAA,YACA;AAAA,UACF,GAAG,SAAU,cAAc,OAAOQ,IAAG;AACnC,qBAAS,YAAa,UAAU,SAAS;AACvC,mBAAK,cAAc,KAAK,eAAe,QAAQ,IAAI,MAAM,CAAC;AAE1D,kBAAI,KAAK,YAAY,kBAAkB,MAAM;AAC3C,qBAAK,iBAAiB,KAAK,YAAY;AAAA,cACzC;AAEA,0BAAY,UAAU,YAAY,KAAK,MAAM,UAAU,OAAO;AAAA,YAChE;AAEA,kBAAM,OAAO,aAAa,YAAY;AAEtC,wBAAY,UAAU,iBAAiB,SAAU,SAAS;AACxD,kBAAI,WAAW;AAAA,gBACb,MAAM,SAAU,QAAQ;AACtB,yBAAOA,GAAE,OAAO,CAAC,GAAG,QAAQ;AAAA,oBAC1B,GAAG,OAAO;AAAA,kBACZ,CAAC;AAAA,gBACH;AAAA,gBACA,WAAW,SAAU,QAAQ,SAAS,SAAS;AAC7C,sBAAI,WAAWA,GAAE,KAAK,MAAM;AAE5B,2BAAS,KAAK,OAAO;AACrB,2BAAS,KAAK,OAAO;AAErB,yBAAO;AAAA,gBACT;AAAA,cACF;AAEA,qBAAOA,GAAE,OAAO,CAAC,GAAG,UAAU,SAAS,IAAI;AAAA,YAC7C;AAEA,wBAAY,UAAU,iBAAiB,SAAU,SAAS;AACxD,qBAAO;AAAA,YACT;AAEA,wBAAY,UAAU,QAAQ,SAAU,QAAQ,UAAU;AACxD,kBAAI,UAAU,CAAC;AACf,kBAAIO,QAAO;AAEX,kBAAI,KAAK,YAAY,MAAM;AAEzB,oBAAI,OAAO,KAAK,SAAS,UAAU,YAAY;AAC7C,uBAAK,SAAS,MAAM;AAAA,gBACtB;AAEA,qBAAK,WAAW;AAAA,cAClB;AAEA,kBAAI,UAAUP,GAAE,OAAO;AAAA,gBACrB,MAAM;AAAA,cACR,GAAG,KAAK,WAAW;AAEnB,kBAAI,OAAO,QAAQ,QAAQ,YAAY;AACrC,wBAAQ,MAAM,QAAQ,IAAI,KAAK,KAAK,UAAU,MAAM;AAAA,cACtD;AAEA,kBAAI,OAAO,QAAQ,SAAS,YAAY;AACtC,wBAAQ,OAAO,QAAQ,KAAK,KAAK,KAAK,UAAU,MAAM;AAAA,cACxD;AAEA,uBAAS,UAAW;AAClB,oBAAI,WAAW,QAAQ,UAAU,SAAS,SAAU,MAAM;AACxD,sBAAI,UAAUO,MAAK,eAAe,MAAM,MAAM;AAE9C,sBAAIA,MAAK,QAAQ,IAAI,OAAO,KAAK,OAAO,WAAW,QAAQ,OAAO;AAEhE,wBAAI,CAAC,WAAW,CAAC,QAAQ,WAAW,CAAC,MAAM,QAAQ,QAAQ,OAAO,GAAG;AACnE,8BAAQ;AAAA,wBACN;AAAA,sBAEF;AAAA,oBACF;AAAA,kBACF;AAEA,2BAAS,OAAO;AAAA,gBAClB,GAAG,WAAY;AAGb,sBAAI,YAAY,aACX,SAAS,WAAW,KAAK,SAAS,WAAW,MAAM;AACtD;AAAA,kBACF;AAEA,kBAAAA,MAAK,QAAQ,mBAAmB;AAAA,oBAC9B,SAAS;AAAA,kBACX,CAAC;AAAA,gBACH,CAAC;AAED,gBAAAA,MAAK,WAAW;AAAA,cAClB;AAEA,kBAAI,KAAK,YAAY,SAAS,OAAO,QAAQ,MAAM;AACjD,oBAAI,KAAK,eAAe;AACtB,yBAAO,aAAa,KAAK,aAAa;AAAA,gBACxC;AAEA,qBAAK,gBAAgB,OAAO,WAAW,SAAS,KAAK,YAAY,KAAK;AAAA,cACxE,OAAO;AACL,wBAAQ;AAAA,cACV;AAAA,YACF;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAf,IAAG,OAAO,qBAAoB;AAAA,YAC5B;AAAA,UACF,GAAG,SAAUQ,IAAG;AACd,qBAAS,KAAM,WAAW,UAAU,SAAS;AAC3C,kBAAI,OAAO,QAAQ,IAAI,MAAM;AAE7B,kBAAI,YAAY,QAAQ,IAAI,WAAW;AAEvC,kBAAI,cAAc,QAAW;AAC3B,qBAAK,YAAY;AAAA,cACnB;AAEA,kBAAI,YAAY,QAAQ,IAAI,WAAW;AAEvC,kBAAI,cAAc,QAAW;AACzB,qBAAK,YAAY;AAAA,cACrB;AAEA,wBAAU,KAAK,MAAM,UAAU,OAAO;AAEtC,kBAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,yBAASgB,KAAI,GAAGA,KAAI,KAAK,QAAQA,MAAK;AACpC,sBAAI,MAAM,KAAKA,EAAC;AAChB,sBAAI,OAAO,KAAK,eAAe,GAAG;AAElC,sBAAI,UAAU,KAAK,OAAO,IAAI;AAE9B,uBAAK,SAAS,OAAO,OAAO;AAAA,gBAC9B;AAAA,cACF;AAAA,YACF;AAEA,iBAAK,UAAU,QAAQ,SAAU,WAAW,QAAQ,UAAU;AAC5D,kBAAIT,QAAO;AAEX,mBAAK,eAAe;AAEpB,kBAAI,OAAO,QAAQ,QAAQ,OAAO,QAAQ,MAAM;AAC9C,0BAAU,KAAK,MAAM,QAAQ,QAAQ;AACrC;AAAA,cACF;AAEA,uBAAS,QAAS,KAAK,OAAO;AAC5B,oBAAI,OAAO,IAAI;AAEf,yBAASV,KAAI,GAAGA,KAAI,KAAK,QAAQA,MAAK;AACpC,sBAAI,SAAS,KAAKA,EAAC;AAEnB,sBAAI,gBACF,OAAO,YAAY,QACnB,CAAC,QAAQ;AAAA,oBACP,SAAS,OAAO;AAAA,kBAClB,GAAG,IAAI;AAGT,sBAAI,cAAc,OAAO,QAAQ,IAAI,YAAY;AACjD,sBAAI,cAAc,OAAO,QAAQ,IAAI,YAAY;AAEjD,sBAAI,YAAY,eAAe;AAE/B,sBAAI,aAAa,eAAe;AAC9B,wBAAI,OAAO;AACT,6BAAO;AAAA,oBACT;AAEA,wBAAI,OAAO;AACX,6BAAS,GAAG;AAEZ;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,OAAO;AACT,yBAAO;AAAA,gBACT;AAEA,oBAAI,MAAMU,MAAK,UAAU,MAAM;AAE/B,oBAAI,OAAO,MAAM;AACf,sBAAI,UAAUA,MAAK,OAAO,GAAG;AAC7B,0BAAQ,KAAK,oBAAoB,MAAM;AAEvC,kBAAAA,MAAK,WAAW,CAAC,OAAO,CAAC;AAEzB,kBAAAA,MAAK,UAAU,MAAM,GAAG;AAAA,gBAC1B;AAEA,oBAAI,UAAU;AAEd,yBAAS,GAAG;AAAA,cACd;AAEA,wBAAU,KAAK,MAAM,QAAQ,OAAO;AAAA,YACtC;AAEA,iBAAK,UAAU,YAAY,SAAU,WAAW,QAAQ;AACtD,kBAAI,OAAO,QAAQ,MAAM;AACvB,uBAAO;AAAA,cACT;AAEA,kBAAI,OAAO,OAAO,KAAK,KAAK;AAE5B,kBAAI,SAAS,IAAI;AACf,uBAAO;AAAA,cACT;AAEA,qBAAO;AAAA,gBACL,IAAI;AAAA,gBACJ,MAAM;AAAA,cACR;AAAA,YACF;AAEA,iBAAK,UAAU,YAAY,SAAUM,IAAG,MAAM,KAAK;AACjD,mBAAK,QAAQ,GAAG;AAAA,YAClB;AAEA,iBAAK,UAAU,iBAAiB,SAAUA,IAAG;AAC3C,kBAAI,WAAW,KAAK,SAAS,KAAK,0BAA0B;AAE5D,uBAAS,KAAK,WAAY;AACxB,oBAAI,KAAK,UAAU;AACjB;AAAA,gBACF;AAEA,gBAAAb,GAAE,IAAI,EAAE,OAAO;AAAA,cACjB,CAAC;AAAA,YACH;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,0BAAyB;AAAA,YACjC;AAAA,UACF,GAAG,SAAUQ,IAAG;AACd,qBAAS,UAAW,WAAW,UAAU,SAAS;AAChD,kBAAI,YAAY,QAAQ,IAAI,WAAW;AAEvC,kBAAI,cAAc,QAAW;AAC3B,qBAAK,YAAY;AAAA,cACnB;AAEA,wBAAU,KAAK,MAAM,UAAU,OAAO;AAAA,YACxC;AAEA,sBAAU,UAAU,OAAO,SAAU,WAAW,WAAW,YAAY;AACrE,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,mBAAK,UAAW,UAAU,SAAS,WAAW,UAAU,UAAU,WAChE,WAAW,KAAK,wBAAwB;AAAA,YAC5C;AAEA,sBAAU,UAAU,QAAQ,SAAU,WAAW,QAAQ,UAAU;AACjE,kBAAIO,QAAO;AAEX,uBAAS,gBAAiB,MAAM;AAE9B,oBAAI,OAAOA,MAAK,eAAe,IAAI;AAInC,oBAAI,mBAAmBA,MAAK,SAAS,KAAK,QAAQ,EAAE,OAAO,WAAY;AACrE,yBAAOP,GAAE,IAAI,EAAE,IAAI,MAAM,KAAK;AAAA,gBAChC,CAAC;AAGD,oBAAI,CAAC,iBAAiB,QAAQ;AAC5B,sBAAI,UAAUO,MAAK,OAAO,IAAI;AAC9B,0BAAQ,KAAK,oBAAoB,IAAI;AAErC,kBAAAA,MAAK,eAAe;AACpB,kBAAAA,MAAK,WAAW,CAAC,OAAO,CAAC;AAAA,gBAC3B;AAGA,uBAAO,IAAI;AAAA,cACb;AAEA,uBAAS,OAAQ,MAAM;AACrB,gBAAAA,MAAK,QAAQ,UAAU;AAAA,kBACrB;AAAA,gBACF,CAAC;AAAA,cACH;AAEA,qBAAO,OAAO,OAAO,QAAQ;AAE7B,kBAAI,YAAY,KAAK,UAAU,QAAQ,KAAK,SAAS,eAAe;AAEpE,kBAAI,UAAU,SAAS,OAAO,MAAM;AAElC,oBAAI,KAAK,QAAQ,QAAQ;AACvB,uBAAK,QAAQ,IAAI,UAAU,IAAI;AAC/B,uBAAK,QAAQ,QAAQ,OAAO;AAAA,gBAC9B;AAEA,uBAAO,OAAO,UAAU;AAAA,cAC1B;AAEA,wBAAU,KAAK,MAAM,QAAQ,QAAQ;AAAA,YACvC;AAEA,sBAAU,UAAU,YAAY,SAAUM,IAAG,QAAQ,SAAS,UAAU;AACtE,kBAAI,aAAa,QAAQ,IAAI,iBAAiB,KAAK,CAAC;AACpD,kBAAI,OAAO,OAAO;AAClB,kBAAIhB,KAAI;AAER,kBAAI,YAAY,KAAK,aAAa,SAAUoB,SAAQ;AAClD,uBAAO;AAAA,kBACL,IAAIA,QAAO;AAAA,kBACX,MAAMA,QAAO;AAAA,gBACf;AAAA,cACF;AAEA,qBAAOpB,KAAI,KAAK,QAAQ;AACtB,oBAAI,WAAW,KAAKA,EAAC;AAErB,oBAAI,WAAW,QAAQ,QAAQ,MAAM,IAAI;AACvC,kBAAAA;AAEA;AAAA,gBACF;AAEA,oBAAI,OAAO,KAAK,OAAO,GAAGA,EAAC;AAC3B,oBAAI,aAAaG,GAAE,OAAO,CAAC,GAAG,QAAQ;AAAA,kBACpC,MAAM;AAAA,gBACR,CAAC;AAED,oBAAI,OAAO,UAAU,UAAU;AAE/B,oBAAI,QAAQ,MAAM;AAChB,kBAAAH;AACA;AAAA,gBACF;AAEA,yBAAS,IAAI;AAGb,uBAAO,KAAK,OAAOA,KAAI,CAAC,KAAK;AAC7B,gBAAAA,KAAI;AAAA,cACN;AAEA,qBAAO;AAAA,gBACL;AAAA,cACF;AAAA,YACF;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAL,IAAG,OAAO,mCAAkC,CAE5C,GAAG,WAAY;AACb,qBAAS,mBAAoB,WAAW0B,KAAI,SAAS;AACnD,mBAAK,qBAAqB,QAAQ,IAAI,oBAAoB;AAE1D,wBAAU,KAAK,MAAMA,KAAI,OAAO;AAAA,YAClC;AAEA,+BAAmB,UAAU,QAAQ,SAAU,WAAW,QAAQ,UAAU;AAC1E,qBAAO,OAAO,OAAO,QAAQ;AAE7B,kBAAI,OAAO,KAAK,SAAS,KAAK,oBAAoB;AAChD,qBAAK,QAAQ,mBAAmB;AAAA,kBAC9B,SAAS;AAAA,kBACT,MAAM;AAAA,oBACJ,SAAS,KAAK;AAAA,oBACd,OAAO,OAAO;AAAA,oBACd;AAAA,kBACF;AAAA,gBACF,CAAC;AAED;AAAA,cACF;AAEA,wBAAU,KAAK,MAAM,QAAQ,QAAQ;AAAA,YACvC;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAA1B,IAAG,OAAO,mCAAkC,CAE5C,GAAG,WAAY;AACb,qBAAS,mBAAoB,WAAW0B,KAAI,SAAS;AACnD,mBAAK,qBAAqB,QAAQ,IAAI,oBAAoB;AAE1D,wBAAU,KAAK,MAAMA,KAAI,OAAO;AAAA,YAClC;AAEA,+BAAmB,UAAU,QAAQ,SAAU,WAAW,QAAQ,UAAU;AAC1E,qBAAO,OAAO,OAAO,QAAQ;AAE7B,kBAAI,KAAK,qBAAqB,KAC1B,OAAO,KAAK,SAAS,KAAK,oBAAoB;AAChD,qBAAK,QAAQ,mBAAmB;AAAA,kBAC9B,SAAS;AAAA,kBACT,MAAM;AAAA,oBACJ,SAAS,KAAK;AAAA,oBACd,OAAO,OAAO;AAAA,oBACd;AAAA,kBACF;AAAA,gBACF,CAAC;AAED;AAAA,cACF;AAEA,wBAAU,KAAK,MAAM,QAAQ,QAAQ;AAAA,YACvC;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAA1B,IAAG,OAAO,uCAAsC,CAEhD,GAAG,WAAW;AACZ,qBAAS,uBAAwB,WAAW0B,KAAI,SAAS;AACvD,mBAAK,yBAAyB,QAAQ,IAAI,wBAAwB;AAElE,wBAAU,KAAK,MAAMA,KAAI,OAAO;AAAA,YAClC;AAEA,mCAAuB,UAAU,OAC/B,SAAU,WAAW,WAAW,YAAY;AAC1C,kBAAIX,QAAO;AAEX,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,wBAAU,GAAG,UAAU,WAAY;AACjC,gBAAAA,MAAK,wBAAwB;AAAA,cAC/B,CAAC;AAAA,YACL;AAEA,mCAAuB,UAAU,QAC/B,SAAU,WAAW,QAAQ,UAAU;AACrC,kBAAIA,QAAO;AAEX,mBAAK,wBAAwB,WAAY;AACvC,0BAAU,KAAKA,OAAM,QAAQ,QAAQ;AAAA,cACvC,CAAC;AAAA,YACL;AAEA,mCAAuB,UAAU,0BAC/B,SAAUM,IAAG,iBAAiB;AAC5B,kBAAIN,QAAO;AAEX,mBAAK,QAAQ,SAAU,aAAa;AAClC,oBAAI,QAAQ,eAAe,OAAO,YAAY,SAAS;AACvD,oBAAIA,MAAK,yBAAyB,KAChC,SAASA,MAAK,wBAAwB;AACtC,kBAAAA,MAAK,QAAQ,mBAAmB;AAAA,oBAC9B,SAAS;AAAA,oBACT,MAAM;AAAA,sBACJ,SAASA,MAAK;AAAA,oBAChB;AAAA,kBACF,CAAC;AACD;AAAA,gBACF;AAEA,oBAAI,iBAAiB;AACnB,kCAAgB;AAAA,gBAClB;AAAA,cACF,CAAC;AAAA,YACL;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAf,IAAG,OAAO,oBAAmB;AAAA,YAC3B;AAAA,YACA;AAAA,UACF,GAAG,SAAUQ,IAAG,OAAO;AACrB,qBAAS,SAAU,UAAU,SAAS;AACpC,mBAAK,WAAW;AAChB,mBAAK,UAAU;AAEf,uBAAS,UAAU,YAAY,KAAK,IAAI;AAAA,YAC1C;AAEA,kBAAM,OAAO,UAAU,MAAM,UAAU;AAEvC,qBAAS,UAAU,SAAS,WAAY;AACtC,kBAAI,YAAYA;AAAA,gBACd;AAAA,cAGF;AAEA,wBAAU,KAAK,OAAO,KAAK,QAAQ,IAAI,KAAK,CAAC;AAE7C,mBAAK,YAAY;AAEjB,qBAAO;AAAA,YACT;AAEA,qBAAS,UAAU,OAAO,WAAY;AAAA,YAEtC;AAEA,qBAAS,UAAU,WAAW,SAAU,WAAW,YAAY;AAAA,YAE/D;AAEA,qBAAS,UAAU,UAAU,WAAY;AAEvC,mBAAK,UAAU,OAAO;AAAA,YACxB;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,2BAA0B;AAAA,YAClC;AAAA,UACF,GAAG,SAAUQ,IAAG;AACd,qBAAS,SAAU;AAAA,YAAE;AAErB,mBAAO,UAAU,SAAS,SAAU,WAAW;AAC7C,kBAAI,YAAY,UAAU,KAAK,IAAI;AACnC,kBAAI,cAAc,KAAK,QAAQ,IAAI,cAAc,EAAE,IAAI,QAAQ;AAE/D,kBAAI,UAAUA;AAAA,gBACZ;AAAA,cAKF;AAEA,mBAAK,mBAAmB;AACxB,mBAAK,UAAU,QAAQ,KAAK,OAAO;AAEnC,mBAAK,QAAQ,KAAK,gBAAgB,KAAK,QAAQ,IAAI,cAAc,CAAC;AAClE,mBAAK,QAAQ,KAAK,cAAc,YAAY,CAAC;AAE7C,wBAAU,QAAQ,OAAO;AAEzB,qBAAO;AAAA,YACT;AAEA,mBAAO,UAAU,OAAO,SAAU,WAAW,WAAW,YAAY;AAClE,kBAAIO,QAAO;AAEX,kBAAI,YAAY,UAAU,KAAK;AAE/B,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,mBAAK,QAAQ,GAAG,WAAW,SAAU,KAAK;AACxC,gBAAAA,MAAK,QAAQ,YAAY,GAAG;AAE5B,gBAAAA,MAAK,kBAAkB,IAAI,mBAAmB;AAAA,cAChD,CAAC;AAKD,mBAAK,QAAQ,GAAG,SAAS,SAAU,KAAK;AAEtC,gBAAAP,GAAE,IAAI,EAAE,IAAI,OAAO;AAAA,cACrB,CAAC;AAED,mBAAK,QAAQ,GAAG,eAAe,SAAU,KAAK;AAC5C,gBAAAO,MAAK,aAAa,GAAG;AAAA,cACvB,CAAC;AAED,wBAAU,GAAG,QAAQ,WAAY;AAC/B,gBAAAA,MAAK,QAAQ,KAAK,YAAY,CAAC;AAC/B,gBAAAA,MAAK,QAAQ,KAAK,iBAAiB,SAAS;AAE5C,gBAAAA,MAAK,QAAQ,QAAQ,OAAO;AAE5B,uBAAO,WAAW,WAAY;AAC5B,kBAAAA,MAAK,QAAQ,QAAQ,OAAO;AAAA,gBAC9B,GAAG,CAAC;AAAA,cACN,CAAC;AAED,wBAAU,GAAG,SAAS,WAAY;AAChC,gBAAAA,MAAK,QAAQ,KAAK,YAAY,EAAE;AAChC,gBAAAA,MAAK,QAAQ,WAAW,eAAe;AACvC,gBAAAA,MAAK,QAAQ,WAAW,uBAAuB;AAE/C,gBAAAA,MAAK,QAAQ,IAAI,EAAE;AACnB,gBAAAA,MAAK,QAAQ,QAAQ,MAAM;AAAA,cAC7B,CAAC;AAED,wBAAU,GAAG,SAAS,WAAY;AAChC,oBAAI,CAAC,UAAU,OAAO,GAAG;AACvB,kBAAAA,MAAK,QAAQ,QAAQ,OAAO;AAAA,gBAC9B;AAAA,cACF,CAAC;AAED,wBAAU,GAAG,eAAe,SAAU,QAAQ;AAC5C,oBAAI,OAAO,MAAM,QAAQ,QAAQ,OAAO,MAAM,SAAS,IAAI;AACzD,sBAAI,aAAaA,MAAK,WAAW,MAAM;AAEvC,sBAAI,YAAY;AACd,oBAAAA,MAAK,iBAAiB,CAAC,EAAE,UAAU,OAAO,sBAAsB;AAAA,kBAClE,OAAO;AACL,oBAAAA,MAAK,iBAAiB,CAAC,EAAE,UAAU,IAAI,sBAAsB;AAAA,kBAC/D;AAAA,gBACF;AAAA,cACF,CAAC;AAED,wBAAU,GAAG,iBAAiB,SAAU,QAAQ;AAC9C,oBAAI,OAAO,KAAK,WAAW;AACzB,kBAAAA,MAAK,QAAQ,KAAK,yBAAyB,OAAO,KAAK,SAAS;AAAA,gBAClE,OAAO;AACL,kBAAAA,MAAK,QAAQ,WAAW,uBAAuB;AAAA,gBACjD;AAAA,cACF,CAAC;AAAA,YACH;AAEA,mBAAO,UAAU,eAAe,SAAU,KAAK;AAC7C,kBAAI,CAAC,KAAK,iBAAiB;AACzB,oBAAI,QAAQ,KAAK,QAAQ,IAAI;AAE7B,qBAAK,QAAQ,SAAS;AAAA,kBACpB,MAAM;AAAA,gBACR,CAAC;AAAA,cACH;AAEA,mBAAK,kBAAkB;AAAA,YACzB;AAEA,mBAAO,UAAU,aAAa,SAAUM,IAAG,QAAQ;AACjD,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAArB,IAAG,OAAO,oCAAmC,CAE7C,GAAG,WAAY;AACb,qBAAS,gBAAiB,WAAW,UAAU,SAAS,aAAa;AACnE,mBAAK,cAAc,KAAK,qBAAqB,QAAQ,IAAI,aAAa,CAAC;AAEvE,wBAAU,KAAK,MAAM,UAAU,SAAS,WAAW;AAAA,YACrD;AAEA,4BAAgB,UAAU,SAAS,SAAU,WAAW,MAAM;AAC5D,mBAAK,UAAU,KAAK,kBAAkB,KAAK,OAAO;AAElD,wBAAU,KAAK,MAAM,IAAI;AAAA,YAC3B;AAEA,4BAAgB,UAAU,uBAAuB,SAAUqB,IAAG,aAAa;AACzE,kBAAI,OAAO,gBAAgB,UAAU;AACnC,8BAAc;AAAA,kBACZ,IAAI;AAAA,kBACJ,MAAM;AAAA,gBACR;AAAA,cACF;AAEA,qBAAO;AAAA,YACT;AAEA,4BAAgB,UAAU,oBAAoB,SAAUA,IAAG,MAAM;AAC/D,kBAAI,eAAe,KAAK,MAAM,CAAC;AAE/B,uBAASV,KAAI,KAAK,SAAS,GAAGA,MAAK,GAAGA,MAAK;AACzC,oBAAI,OAAO,KAAKA,EAAC;AAEjB,oBAAI,KAAK,YAAY,OAAO,KAAK,IAAI;AACnC,+BAAa,OAAOA,IAAG,CAAC;AAAA,gBAC1B;AAAA,cACF;AAEA,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAX,IAAG,OAAO,mCAAkC;AAAA,YAC1C;AAAA,UACF,GAAG,SAAUQ,IAAG;AACd,qBAAS,eAAgB,WAAW,UAAU,SAAS,aAAa;AAClE,mBAAK,aAAa,CAAC;AAEnB,wBAAU,KAAK,MAAM,UAAU,SAAS,WAAW;AAEnD,mBAAK,eAAe,KAAK,kBAAkB;AAC3C,mBAAK,UAAU;AAAA,YACjB;AAEA,2BAAe,UAAU,SAAS,SAAU,WAAW,MAAM;AAC3D,mBAAK,aAAa,OAAO;AACzB,mBAAK,UAAU;AAEf,wBAAU,KAAK,MAAM,IAAI;AAEzB,kBAAI,KAAK,gBAAgB,IAAI,GAAG;AAC9B,qBAAK,SAAS,OAAO,KAAK,YAAY;AACtC,qBAAK,iBAAiB;AAAA,cACxB;AAAA,YACF;AAEA,2BAAe,UAAU,OAAO,SAAU,WAAW,WAAW,YAAY;AAC1E,kBAAIO,QAAO;AAEX,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,wBAAU,GAAG,SAAS,SAAU,QAAQ;AACtC,gBAAAA,MAAK,aAAa;AAClB,gBAAAA,MAAK,UAAU;AAAA,cACjB,CAAC;AAED,wBAAU,GAAG,gBAAgB,SAAU,QAAQ;AAC7C,gBAAAA,MAAK,aAAa;AAClB,gBAAAA,MAAK,UAAU;AAAA,cACjB,CAAC;AAED,mBAAK,SAAS,GAAG,UAAU,KAAK,iBAAiB,KAAK,IAAI,CAAC;AAAA,YAC7D;AAEA,2BAAe,UAAU,mBAAmB,WAAY;AACtD,kBAAI,oBAAoBP,GAAE;AAAA,gBACxB,SAAS;AAAA,gBACT,KAAK,aAAa,CAAC;AAAA,cACrB;AAEA,kBAAI,KAAK,WAAW,CAAC,mBAAmB;AACtC;AAAA,cACF;AAEA,kBAAI,gBAAgB,KAAK,SAAS,OAAO,EAAE,MACzC,KAAK,SAAS,YAAY,KAAK;AACjC,kBAAI,oBAAoB,KAAK,aAAa,OAAO,EAAE,MACjD,KAAK,aAAa,YAAY,KAAK;AAErC,kBAAI,gBAAgB,MAAM,mBAAmB;AAC3C,qBAAK,SAAS;AAAA,cAChB;AAAA,YACF;AAEA,2BAAe,UAAU,WAAW,WAAY;AAC9C,mBAAK,UAAU;AAEf,kBAAI,SAASA,GAAE,OAAO,CAAC,GAAG,EAAC,MAAM,EAAC,GAAG,KAAK,UAAU;AAEpD,qBAAO;AAEP,mBAAK,QAAQ,gBAAgB,MAAM;AAAA,YACrC;AAEA,2BAAe,UAAU,kBAAkB,SAAUa,IAAG,MAAM;AAC5D,qBAAO,KAAK,cAAc,KAAK,WAAW;AAAA,YAC5C;AAEA,2BAAe,UAAU,oBAAoB,WAAY;AACvD,kBAAI,UAAUb;AAAA,gBACZ;AAAA,cAGF;AAEA,kBAAI,UAAU,KAAK,QAAQ,IAAI,cAAc,EAAE,IAAI,aAAa;AAEhE,sBAAQ,KAAK,QAAQ,KAAK,UAAU,CAAC;AAErC,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,+BAA8B;AAAA,YACtC;AAAA,YACA;AAAA,UACF,GAAG,SAAUQ,IAAG,OAAO;AACrB,qBAAS,WAAY,WAAW,UAAU,SAAS;AACjD,mBAAK,kBAAkBA,GAAE,QAAQ,IAAI,gBAAgB,KAAK,SAAS,IAAI;AAEvE,wBAAU,KAAK,MAAM,UAAU,OAAO;AAAA,YACxC;AAEA,uBAAW,UAAU,OAAO,SAAU,WAAW,WAAW,YAAY;AACtE,kBAAIO,QAAO;AAEX,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,wBAAU,GAAG,QAAQ,WAAY;AAC/B,gBAAAA,MAAK,cAAc;AACnB,gBAAAA,MAAK,0BAA0B,SAAS;AAGxC,gBAAAA,MAAK,6BAA6B,SAAS;AAAA,cAC7C,CAAC;AAED,wBAAU,GAAG,SAAS,WAAY;AAChC,gBAAAA,MAAK,cAAc;AACnB,gBAAAA,MAAK,0BAA0B,SAAS;AAAA,cAC1C,CAAC;AAED,mBAAK,mBAAmB,GAAG,aAAa,SAAU,KAAK;AACrD,oBAAI,gBAAgB;AAAA,cACtB,CAAC;AAAA,YACH;AAEA,uBAAW,UAAU,UAAU,SAAU,WAAW;AAClD,wBAAU,KAAK,IAAI;AAEnB,mBAAK,mBAAmB,OAAO;AAAA,YACjC;AAEA,uBAAW,UAAU,WAAW,SAAU,WAAW,WAAW,YAAY;AAE1E,wBAAU,KAAK,SAAS,WAAW,KAAK,OAAO,CAAC;AAEhD,wBAAU,CAAC,EAAE,UAAU,OAAO,SAAS;AACvC,wBAAU,CAAC,EAAE,UAAU,IAAI,yBAAyB;AAEpD,wBAAU,IAAI;AAAA,gBACZ,UAAU;AAAA,gBACV,KAAK;AAAA,cACP,CAAC;AAED,mBAAK,aAAa;AAAA,YACpB;AAEA,uBAAW,UAAU,SAAS,SAAU,WAAW;AACjD,kBAAI,aAAaP,GAAE,eAAe;AAElC,kBAAI,YAAY,UAAU,KAAK,IAAI;AACnC,yBAAW,OAAO,SAAS;AAE3B,mBAAK,qBAAqB;AAE1B,qBAAO;AAAA,YACT;AAEA,uBAAW,UAAU,gBAAgB,SAAU,WAAW;AACxD,mBAAK,mBAAmB,OAAO;AAAA,YACjC;AAEA,uBAAW,UAAU,+BACjB,SAAU,WAAW,WAAW;AAGlC,kBAAI,KAAK,gCAAgC;AACvC;AAAA,cACF;AAEA,kBAAIO,QAAO;AAEX,wBAAU,GAAG,eAAe,WAAY;AACtC,gBAAAA,MAAK,kBAAkB;AACvB,gBAAAA,MAAK,gBAAgB;AAAA,cACvB,CAAC;AAED,wBAAU,GAAG,kBAAkB,WAAY;AACzC,gBAAAA,MAAK,kBAAkB;AACvB,gBAAAA,MAAK,gBAAgB;AAAA,cACvB,CAAC;AAED,wBAAU,GAAG,mBAAmB,WAAY;AAC1C,gBAAAA,MAAK,kBAAkB;AACvB,gBAAAA,MAAK,gBAAgB;AAAA,cACvB,CAAC;AAED,wBAAU,GAAG,UAAU,WAAY;AACjC,gBAAAA,MAAK,kBAAkB;AACvB,gBAAAA,MAAK,gBAAgB;AAAA,cACvB,CAAC;AAED,wBAAU,GAAG,YAAY,WAAY;AACnC,gBAAAA,MAAK,kBAAkB;AACvB,gBAAAA,MAAK,gBAAgB;AAAA,cACvB,CAAC;AAED,mBAAK,iCAAiC;AAAA,YACxC;AAEA,uBAAW,UAAU,4BACjB,SAAU,WAAW,WAAW;AAClC,kBAAIA,QAAO;AAEX,kBAAI,cAAc,oBAAoB,UAAU;AAChD,kBAAI,cAAc,oBAAoB,UAAU;AAChD,kBAAI,mBAAmB,+BAA+B,UAAU;AAEhE,kBAAI,YAAY,KAAK,WAAW,QAAQ,EAAE,OAAO,MAAM,SAAS;AAChE,wBAAU,KAAK,WAAY;AACzB,sBAAM,UAAU,MAAM,2BAA2B;AAAA,kBAC/C,GAAGP,GAAE,IAAI,EAAE,WAAW;AAAA,kBACtB,GAAGA,GAAE,IAAI,EAAE,UAAU;AAAA,gBACvB,CAAC;AAAA,cACH,CAAC;AAED,wBAAU,GAAG,aAAa,SAAU,IAAI;AACtC,oBAAI,WAAW,MAAM,QAAQ,MAAM,yBAAyB;AAC5D,gBAAAA,GAAE,IAAI,EAAE,UAAU,SAAS,CAAC;AAAA,cAC9B,CAAC;AAED,cAAAA,GAAE,MAAM,EAAE;AAAA,gBAAG,cAAc,MAAM,cAAc,MAAM;AAAA,gBACnD,SAAUD,IAAG;AACb,kBAAAQ,MAAK,kBAAkB;AACvB,kBAAAA,MAAK,gBAAgB;AAAA,gBACvB;AAAA,cAAC;AAAA,YACH;AAEA,uBAAW,UAAU,4BACjB,SAAU,WAAW,WAAW;AAClC,kBAAI,cAAc,oBAAoB,UAAU;AAChD,kBAAI,cAAc,oBAAoB,UAAU;AAChD,kBAAI,mBAAmB,+BAA+B,UAAU;AAEhE,kBAAI,YAAY,KAAK,WAAW,QAAQ,EAAE,OAAO,MAAM,SAAS;AAChE,wBAAU,IAAI,WAAW;AAEzB,cAAAP,GAAE,MAAM,EAAE,IAAI,cAAc,MAAM,cAAc,MAAM,gBAAgB;AAAA,YACxE;AAEA,uBAAW,UAAU,oBAAoB,WAAY;AACnD,kBAAI,UAAUA,GAAE,MAAM;AAEtB,kBAAI,mBAAmB,KAAK,UAAU,CAAC,EAAE,UACtC,SAAS,yBAAyB;AACrC,kBAAI,mBAAmB,KAAK,UAAU,CAAC,EAAE,UACtC,SAAS,yBAAyB;AAErC,kBAAI,eAAe;AAEnB,kBAAImB,UAAS,KAAK,WAAW,OAAO;AAEpC,cAAAA,QAAO,SAASA,QAAO,MAAM,KAAK,WAAW,YAAY,KAAK;AAE9D,kBAAI,YAAY;AAAA,gBACd,QAAQ,KAAK,WAAW,YAAY,KAAK;AAAA,cAC3C;AAEA,wBAAU,MAAMA,QAAO;AACvB,wBAAU,SAASA,QAAO,MAAM,UAAU;AAE1C,kBAAI,WAAW;AAAA,gBACb,QAAQ,KAAK,UAAU,YAAY,KAAK;AAAA,cAC1C;AAEA,kBAAIC,YAAW;AAAA,gBACb,KAAK,QAAQ,UAAU;AAAA,gBACvB,QAAQ,QAAQ,UAAU,IAAI,QAAQ,OAAO;AAAA,cAC/C;AAEA,kBAAI,kBAAkBA,UAAS,MAAOD,QAAO,MAAM,SAAS;AAC5D,kBAAI,kBAAkBC,UAAS,SAAUD,QAAO,SAAS,SAAS;AAElE,kBAAI,MAAM;AAAA,gBACR,MAAMA,QAAO;AAAA,gBACb,KAAK,UAAU;AAAA,cACjB;AAGA,kBAAI,gBAAgB,KAAK;AAIzB,kBAAI,cAAc,IAAI,UAAU,MAAM,UAAU;AAC9C,gCAAgB,cAAc,aAAa;AAAA,cAC7C;AAEA,kBAAI,eAAe;AAAA,gBACjB,KAAK;AAAA,gBACL,MAAM;AAAA,cACR;AAEA,kBACEnB,GAAE,SAAS,SAAS,MAAM,cAAc,CAAC,CAAC,KAC1C,cAAc,CAAC,EAAE,aACf;AACF,+BAAe,cAAc,OAAO;AAAA,cACtC;AAEA,kBAAI,OAAO,aAAa;AACxB,kBAAI,QAAQ,aAAa;AAEzB,kBAAI,CAAC,oBAAoB,CAAC,kBAAkB;AAC1C,+BAAe;AAAA,cACjB;AAEA,kBAAI,CAAC,mBAAmB,mBAAmB,CAAC,kBAAkB;AAC5D,+BAAe;AAAA,cACjB,WAAW,CAAC,mBAAmB,mBAAmB,kBAAkB;AAClE,+BAAe;AAAA,cACjB;AAEA,kBAAI,gBAAgB,WACjB,oBAAoB,iBAAiB,SAAU;AAChD,oBAAI,MAAM,UAAU,MAAM,aAAa,MAAM,SAAS;AAAA,cACxD;AAEA,kBAAI,gBAAgB,MAAM;AACxB,qBAAK,UAAU,CAAC,EAAE,UAAU,OAAO,yBAAyB;AAC5D,qBAAK,UAAU,CAAC,EAAE,UAAU,OAAO,yBAAyB;AAC5D,qBAAK,UAAU,CAAC,EAAE,UAAU,IAAI,uBAAuB,YAAY;AAEnE,qBAAK,WAAW,CAAC,EAAE,UAAU,OAAO,0BAA0B;AAC9D,qBAAK,WAAW,CAAC,EAAE,UAAU,OAAO,0BAA0B;AAC9D,qBAAK,WAAW,CAAC,EAAE,UAAU,IAAI,wBAAwB,YAAY;AAAA,cACvE;AAEA,mBAAK,mBAAmB,IAAI,GAAG;AAAA,YACjC;AAEA,uBAAW,UAAU,kBAAkB,WAAY;AACjD,kBAAI,MAAM;AAAA,gBACR,OAAO,KAAK,WAAW,WAAW,KAAK,IAAI;AAAA,cAC7C;AAEA,kBAAI,KAAK,QAAQ,IAAI,mBAAmB,GAAG;AACzC,oBAAI,WAAW,IAAI;AACnB,oBAAI,WAAW;AACf,oBAAI,QAAQ;AAAA,cACd;AAEA,mBAAK,UAAU,IAAI,GAAG;AAAA,YACxB;AAEA,uBAAW,UAAU,gBAAgB,SAAU,WAAW;AACxD,mBAAK,mBAAmB,SAAS,KAAK,eAAe;AAErD,mBAAK,kBAAkB;AACvB,mBAAK,gBAAgB;AAAA,YACvB;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,4CAA2C,CAErD,GAAG,WAAY;AACb,qBAAS,aAAc,MAAM;AAC3B,kBAAI,QAAQ;AAEZ,uBAASW,KAAI,GAAGA,KAAI,KAAK,QAAQA,MAAK;AACpC,oBAAI,OAAO,KAAKA,EAAC;AAEjB,oBAAI,KAAK,UAAU;AACjB,2BAAS,aAAa,KAAK,QAAQ;AAAA,gBACrC,OAAO;AACL;AAAA,gBACF;AAAA,cACF;AAEA,qBAAO;AAAA,YACT;AAEA,qBAAS,wBAAyB,WAAW,UAAU,SAAS,aAAa;AAC3E,mBAAK,0BAA0B,QAAQ,IAAI,yBAAyB;AAEpE,kBAAI,KAAK,0BAA0B,GAAG;AACpC,qBAAK,0BAA0B;AAAA,cACjC;AAEA,wBAAU,KAAK,MAAM,UAAU,SAAS,WAAW;AAAA,YACrD;AAEA,oCAAwB,UAAU,aAAa,SAAU,WAAW,QAAQ;AAC1E,kBAAI,aAAa,OAAO,KAAK,OAAO,IAAI,KAAK,yBAAyB;AACpE,uBAAO;AAAA,cACT;AAEA,qBAAO,UAAU,KAAK,MAAM,MAAM;AAAA,YACpC;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAX,IAAG,OAAO,kCAAiC;AAAA,YACzC;AAAA,UACF,GAAG,SAAU,OAAO;AAClB,qBAAS,gBAAiB;AAAA,YAAE;AAE5B,0BAAc,UAAU,OAAO,SAAU,WAAW,WAAW,YAAY;AACzE,kBAAIe,QAAO;AAEX,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,wBAAU,GAAG,SAAS,SAAU,QAAQ;AACtC,gBAAAA,MAAK,qBAAqB,MAAM;AAAA,cAClC,CAAC;AAAA,YACH;AAEA,0BAAc,UAAU,uBAAuB,SAAUM,IAAG,QAAQ;AAClE,kBAAI,UAAU,OAAO,wBAAwB,MAAM;AACjD,oBAAI,QAAQ,OAAO;AAInB,oBAAI,MAAM,UAAU,YAAY,MAAM,UAAU,YAAY;AAC1D;AAAA,gBACF;AAAA,cACF;AAEA,kBAAI,sBAAsB,KAAK,sBAAsB;AAGrD,kBAAI,oBAAoB,SAAS,GAAG;AAClC;AAAA,cACF;AAEA,kBAAI,OAAO,MAAM,QAAQ,oBAAoB,CAAC,GAAG,MAAM;AAGvD,kBACG,KAAK,WAAW,QAAQ,KAAK,QAAQ,YACrC,KAAK,WAAW,QAAQ,KAAK,UAC9B;AACA;AAAA,cACF;AAEA,mBAAK,QAAQ,UAAU;AAAA,gBACnB;AAAA,cACJ,CAAC;AAAA,YACH;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAArB,IAAG,OAAO,kCAAiC,CAE3C,GAAG,WAAY;AACb,qBAAS,gBAAiB;AAAA,YAAE;AAE5B,0BAAc,UAAU,OAAO,SAAU,WAAW,WAAW,YAAY;AACzE,kBAAIe,QAAO;AAEX,wBAAU,KAAK,MAAM,WAAW,UAAU;AAE1C,wBAAU,GAAG,UAAU,SAAU,KAAK;AACpC,gBAAAA,MAAK,iBAAiB,GAAG;AAAA,cAC3B,CAAC;AAED,wBAAU,GAAG,YAAY,SAAU,KAAK;AACtC,gBAAAA,MAAK,iBAAiB,GAAG;AAAA,cAC3B,CAAC;AAAA,YACH;AAEA,0BAAc,UAAU,mBAAmB,SAAUM,IAAG,KAAK;AAC3D,kBAAI,gBAAgB,IAAI;AAGxB,kBAAI,kBAAkB,cAAc,WAAW,cAAc,UAAU;AACrE;AAAA,cACF;AAEA,mBAAK,QAAQ,SAAS;AAAA,gBACpB;AAAA,gBACA,sBAAsB;AAAA,cACxB,CAAC;AAAA,YACH;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAArB,IAAG,OAAO,gCAA+B;AAAA,YACvC;AAAA,UACF,GAAG,SAAU,OAAO;AAClB,qBAAS,cAAe;AAAA,YAAE;AAE1B,wBAAY,UAAU,SAAS,SAAU,WAAW;AAClD,kBAAI,YAAY,UAAU,KAAK,IAAI;AAEnC,kBAAI,mBAAmB,KAAK,QAAQ,IAAI,kBAAkB,KAAK;AAE/D,kBAAI,iBAAiB,QAAQ,OAAO,MAAM,IAAI;AAC5C,mCAAmB,iBAAiB,QAAQ,SAAS,EAAE;AAEvD,sBAAM,0BAA0B,UAAU,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC;AAAA,cAChE;AAEA,wBAAU,SAAS,gBAAgB;AAEnC,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAA,IAAG,OAAO,wCAAuC;AAAA,YAC/C;AAAA,UACF,GAAG,SAAU,OAAO;AAClB,qBAAS,sBAAuB;AAAA,YAAE;AAElC,gCAAoB,UAAU,qBAAqB,SAAU,WAAW;AACtE,kBAAI,WAAW,KAAK,SACnB;AAAA,gBACC;AAAA,cAEF;AAEA,kBAAI,SAAS,SAAS,GAAG;AACvB,oBAAI,eAAe,SAAS,MAAM;AAClC,oBAAI,OAAO,MAAM,QAAQ,aAAa,CAAC,GAAG,MAAM;AAChD,oBAAI,eAAe,KAAK;AAExB,oBAAI,gBAAgB,aAAa,cAAc;AAC7C,sBAAI,aAAa,aAAa,kBAAkB,MAAM,QAAQ;AAC5D,iCAAa,QAAQ,YAAY;AAEjC;AAAA,kBACF;AAAA,gBACF;AAAA,cACF;AAEA,wBAAU,KAAK,IAAI;AAAA,YACrB;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAA,IAAG,OAAO,mBAAkB,CAAC,GAAE,WAAY;AAEzC,mBAAO;AAAA,cACL,cAAc,WAAY;AACxB,uBAAO;AAAA,cACT;AAAA,cACA,cAAc,SAAU,MAAM;AAC5B,oBAAI,YAAY,KAAK,MAAM,SAAS,KAAK;AAEzC,oBAAI,UAAU,mBAAmB,YAAY;AAE7C,oBAAI,aAAa,GAAG;AAClB,6BAAW;AAAA,gBACb;AAEA,uBAAO;AAAA,cACT;AAAA,cACA,eAAe,SAAU,MAAM;AAC7B,oBAAI,iBAAiB,KAAK,UAAU,KAAK,MAAM;AAE/C,oBAAI,UAAU,kBAAkB,iBAAiB;AAEjD,uBAAO;AAAA,cACT;AAAA,cACA,aAAa,WAAY;AACvB,uBAAO;AAAA,cACT;AAAA,cACA,iBAAiB,SAAU,MAAM;AAC/B,oBAAI,UAAU,yBAAyB,KAAK,UAAU;AAEtD,oBAAI,KAAK,WAAW,GAAG;AACrB,6BAAW;AAAA,gBACb;AAEA,uBAAO;AAAA,cACT;AAAA,cACA,WAAW,WAAY;AACrB,uBAAO;AAAA,cACT;AAAA,cACA,WAAW,WAAY;AACrB,uBAAO;AAAA,cACT;AAAA,cACA,gBAAgB,WAAY;AAC1B,uBAAO;AAAA,cACT;AAAA,cACA,YAAY,WAAY;AACtB,uBAAO;AAAA,cACT;AAAA,cACA,QAAQ,WAAW;AACjB,uBAAO;AAAA,cACT;AAAA,YACF;AAAA,UACF,CAAC;AAED,UAAAA,IAAG,OAAO,oBAAmB;AAAA,YAC3B;AAAA,YAEA;AAAA,YAEA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YAEA;AAAA,YACA;AAAA,YACA;AAAA,YAEA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YAEA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YAEA;AAAA,UACF,GAAG,SAAUQ,IAEA,aAEA,iBAAiB,mBAAmB,aAAa,YACjD,iBAAiB,cAAc,YAE/B,OAAO,aAAa,YAEpB,YAAY,WAAW,UAAU,MAAM,WACvC,oBAAoB,oBAAoB,wBAExC,UAAU,gBAAgB,iBAAiB,gBAC3C,YAAY,yBAAyB,eAAe,eACpD,aAAa,qBAEb,oBAAoB;AAC/B,qBAAS,WAAY;AACnB,mBAAK,MAAM;AAAA,YACb;AAEA,qBAAS,UAAU,QAAQ,SAAU,SAAS;AAC5C,wBAAUA,GAAE,OAAO,MAAM,CAAC,GAAG,KAAK,UAAU,OAAO;AAEnD,kBAAI,QAAQ,eAAe,MAAM;AAC/B,oBAAI,QAAQ,QAAQ,MAAM;AACxB,0BAAQ,cAAc;AAAA,gBACxB,WAAW,QAAQ,QAAQ,MAAM;AAC/B,0BAAQ,cAAc;AAAA,gBACxB,OAAO;AACL,0BAAQ,cAAc;AAAA,gBACxB;AAEA,oBAAI,QAAQ,qBAAqB,GAAG;AAClC,0BAAQ,cAAc,MAAM;AAAA,oBAC1B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,qBAAqB,GAAG;AAClC,0BAAQ,cAAc,MAAM;AAAA,oBAC1B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,yBAAyB,GAAG;AACtC,0BAAQ,cAAc,MAAM;AAAA,oBAC1B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,MAAM;AAChB,0BAAQ,cAAc,MAAM,SAAS,QAAQ,aAAa,IAAI;AAAA,gBAChE;AAEA,oBAAI,QAAQ,mBAAmB,QAAQ,QAAQ,aAAa,MAAM;AAChE,0BAAQ,cAAc,MAAM;AAAA,oBAC1B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAAA,cACF;AAEA,kBAAI,QAAQ,kBAAkB,MAAM;AAClC,wBAAQ,iBAAiB;AAEzB,oBAAI,QAAQ,QAAQ,MAAM;AACxB,0BAAQ,iBAAiB,MAAM;AAAA,oBAC7B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,eAAe,MAAM;AAC/B,0BAAQ,iBAAiB,MAAM;AAAA,oBAC7B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,eAAe;AACzB,0BAAQ,iBAAiB,MAAM;AAAA,oBAC7B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,MAAM;AAChB,0BAAQ,iBAAiB,MAAM;AAAA,oBAC7B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAAA,cACF;AAEA,kBAAI,QAAQ,mBAAmB,MAAM;AACnC,oBAAI,QAAQ,UAAU;AACpB,0BAAQ,kBAAkB;AAAA,gBAC5B,OAAO;AACL,sBAAI,qBAAqB,MAAM,SAAS,UAAU,cAAc;AAEhE,0BAAQ,kBAAkB;AAAA,gBAC5B;AAEA,oBAAI,QAAQ,4BAA4B,GAAG;AACzC,0BAAQ,kBAAkB,MAAM;AAAA,oBAC9B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,eAAe;AACzB,0BAAQ,kBAAkB,MAAM;AAAA,oBAC9B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,oBAAoB,MAAM;AACpC,0BAAQ,kBAAkB,MAAM;AAAA,oBAC9B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,wBAAQ,kBAAkB,MAAM;AAAA,kBAC9B,QAAQ;AAAA,kBACR;AAAA,gBACF;AAAA,cACF;AAEA,kBAAI,QAAQ,oBAAoB,MAAM;AACpC,oBAAI,QAAQ,UAAU;AACpB,0BAAQ,mBAAmB;AAAA,gBAC7B,OAAO;AACL,0BAAQ,mBAAmB;AAAA,gBAC7B;AAGA,oBAAI,QAAQ,eAAe,MAAM;AAC/B,0BAAQ,mBAAmB,MAAM;AAAA,oBAC/B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,YAAY;AACtB,0BAAQ,mBAAmB,MAAM;AAAA,oBAC/B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,UAAU;AACpB,0BAAQ,mBAAmB,MAAM;AAAA,oBAC/B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,oBAAI,QAAQ,qBAAqB,MAAM;AACrC,0BAAQ,mBAAmB,MAAM;AAAA,oBAC/B,QAAQ;AAAA,oBACR;AAAA,kBACF;AAAA,gBACF;AAEA,wBAAQ,mBAAmB,MAAM;AAAA,kBAC/B,QAAQ;AAAA,kBACR;AAAA,gBACF;AAAA,cACF;AAIA,sBAAQ,WAAW,KAAK,iBAAiB,QAAQ,QAAQ;AAGzD,sBAAQ,SAAS,KAAK,IAAI;AAE1B,kBAAI,kBAAkB,CAAC;AAEvB,uBAASqB,KAAI,GAAGA,KAAI,QAAQ,SAAS,QAAQA,MAAK;AAChD,oBAAI,WAAW,QAAQ,SAASA,EAAC;AAEjC,oBAAI,gBAAgB,QAAQ,QAAQ,MAAM,IAAI;AAC5C,kCAAgB,KAAK,QAAQ;AAAA,gBAC/B;AAAA,cACF;AAEA,sBAAQ,WAAW;AAEnB,sBAAQ,eAAe,KAAK;AAAA,gBAC1B,QAAQ;AAAA,gBACR,QAAQ;AAAA,cACV;AAEA,qBAAO;AAAA,YACT;AAEA,qBAAS,UAAU,QAAQ,WAAY;AACrC,uBAAS,gBAAiB,MAAM;AAE9B,yBAAShB,OAAMiB,IAAG;AAChB,yBAAO,WAAWA,EAAC,KAAKA;AAAA,gBAC1B;AAEA,uBAAO,KAAK,QAAQ,qBAAqBjB,MAAK;AAAA,cAChD;AAEA,uBAAS,QAAS,QAAQ,MAAM;AAE9B,oBAAI,OAAO,QAAQ,QAAQ,OAAO,KAAK,KAAK,MAAM,IAAI;AACpD,yBAAO;AAAA,gBACT;AAGA,oBAAI,KAAK,YAAY,KAAK,SAAS,SAAS,GAAG;AAG7C,sBAAIA,SAAQL,GAAE,OAAO,MAAM,CAAC,GAAG,IAAI;AAGnC,2BAASS,KAAI,KAAK,SAAS,SAAS,GAAGA,MAAK,GAAGA,MAAK;AAClD,wBAAI,QAAQ,KAAK,SAASA,EAAC;AAE3B,wBAAI,UAAU,QAAQ,QAAQ,KAAK;AAGnC,wBAAI,WAAW,MAAM;AACnB,sBAAAJ,OAAM,SAAS,OAAOI,IAAG,CAAC;AAAA,oBAC5B;AAAA,kBACF;AAGA,sBAAIJ,OAAM,SAAS,SAAS,GAAG;AAC7B,2BAAOA;AAAA,kBACT;AAGA,yBAAO,QAAQ,QAAQA,MAAK;AAAA,gBAC9B;AAEA,oBAAI,WAAW,gBAAgB,KAAK,IAAI,EAAE,YAAY;AACtD,oBAAI,OAAO,gBAAgB,OAAO,IAAI,EAAE,YAAY;AAGpD,oBAAI,SAAS,QAAQ,IAAI,IAAI,IAAI;AAC/B,yBAAO;AAAA,gBACT;AAGA,uBAAO;AAAA,cACT;AAEA,mBAAK,WAAW;AAAA,gBACd,iBAAiB;AAAA,gBACjB,cAAc;AAAA,gBACd,eAAe;AAAA,gBACf,OAAO;AAAA,gBACP,mBAAmB;AAAA,gBACnB,cAAc,MAAM;AAAA,gBACpB,UAAU,CAAC;AAAA,gBACX;AAAA,gBACA,oBAAoB;AAAA,gBACpB,oBAAoB;AAAA,gBACpB,wBAAwB;AAAA,gBACxB,yBAAyB;AAAA,gBACzB,eAAe;AAAA,gBACf,mBAAmB;AAAA,gBACnB,QAAQ,SAAU,MAAM;AACtB,yBAAO;AAAA,gBACT;AAAA,gBACA,gBAAgB,SAAU,QAAQ;AAChC,yBAAO,OAAO;AAAA,gBAChB;AAAA,gBACA,mBAAmB,SAAU,WAAW;AACtC,yBAAO,UAAU;AAAA,gBACnB;AAAA,gBACA,OAAO;AAAA,gBACP,OAAO;AAAA,cACT;AAAA,YACF;AAEA,qBAAS,UAAU,mBAAmB,SAAU,SAAS,UAAU;AACjE,kBAAI,iBAAiB,QAAQ;AAC7B,kBAAI,kBAAkB,KAAK,SAAS;AACpC,kBAAI,kBAAkB,SAAS,KAAK,MAAM;AAC1C,kBAAI,iBAAiB,SAAS,QAAQ,QAAQ,EAAE,KAAK,MAAM;AAE3D,kBAAI,YAAY,MAAM,UAAU,OAAO;AAAA,gBACrC,KAAK,iBAAiB,eAAe;AAAA,gBACrC,KAAK,iBAAiB,cAAc;AAAA,gBACpC,KAAK,iBAAiB,eAAe;AAAA,gBACrC,KAAK,iBAAiB,cAAc;AAAA,cACtC;AAEA,sBAAQ,WAAW;AAEnB,qBAAO;AAAA,YACT;AAEA,qBAAS,UAAU,mBAAmB,SAAU,UAAU;AACxD,kBAAI,CAAC,UAAU;AACb,uBAAO,CAAC;AAAA,cACV;AAEA,kBAAIL,GAAE,cAAc,QAAQ,GAAG;AAC7B,uBAAO,CAAC;AAAA,cACV;AAEA,kBAAIA,GAAE,cAAc,QAAQ,GAAG;AAC7B,uBAAO,CAAC,QAAQ;AAAA,cAClB;AAEA,kBAAI;AAEJ,kBAAI,CAAC,MAAM,QAAQ,QAAQ,GAAG;AAC5B,4BAAY,CAAC,QAAQ;AAAA,cACvB,OAAO;AACL,4BAAY;AAAA,cACd;AAEA,kBAAI,oBAAoB,CAAC;AAEzB,uBAASqB,KAAI,GAAGA,KAAI,UAAU,QAAQA,MAAK;AACzC,kCAAkB,KAAK,UAAUA,EAAC,CAAC;AAEnC,oBAAI,OAAO,UAAUA,EAAC,MAAM,YAAY,UAAUA,EAAC,EAAE,QAAQ,GAAG,IAAI,GAAG;AAErE,sBAAI,gBAAgB,UAAUA,EAAC,EAAE,MAAM,GAAG;AAC1C,sBAAI,eAAe,cAAc,CAAC;AAElC,oCAAkB,KAAK,YAAY;AAAA,gBACrC;AAAA,cACF;AAEA,qBAAO;AAAA,YACT;AAEA,qBAAS,UAAU,uBAAuB,SAAU,WAAW,OAAO;AACpE,kBAAI,eAAe,IAAI,YAAY;AAEnC,uBAASA,KAAI,GAAGA,KAAI,UAAU,QAAQA,MAAK;AACzC,oBAAI,eAAe,IAAI,YAAY;AAEnC,oBAAI,WAAW,UAAUA,EAAC;AAE1B,oBAAI,OAAO,aAAa,UAAU;AAChC,sBAAI;AAEF,mCAAe,YAAY,SAAS,QAAQ;AAAA,kBAC9C,SAAStB,IAAG;AACV,wBAAI;AAEF,iCAAW,KAAK,SAAS,kBAAkB;AAC3C,qCAAe,YAAY,SAAS,QAAQ;AAAA,oBAC9C,SAAS,IAAI;AAIX,0BAAI,SAAS,OAAO,WAAW,QAAQ,MAAM;AAC3C,gCAAQ;AAAA,0BACN,qCAAqC,WAAW;AAAA,wBAElD;AAAA,sBACF;AAAA,oBACF;AAAA,kBACF;AAAA,gBACF,WAAWC,GAAE,cAAc,QAAQ,GAAG;AACpC,iCAAe,IAAI,YAAY,QAAQ;AAAA,gBACzC,OAAO;AACL,iCAAe;AAAA,gBACjB;AAEA,6BAAa,OAAO,YAAY;AAAA,cAClC;AAEA,qBAAO;AAAA,YACT;AAEA,qBAAS,UAAU,MAAM,SAAU,KAAK,OAAO;AAC7C,kBAAI,WAAWA,GAAE,UAAU,GAAG;AAE9B,kBAAI,OAAO,CAAC;AACZ,mBAAK,QAAQ,IAAI;AAEjB,kBAAI,gBAAgB,MAAM,aAAa,IAAI;AAE3C,cAAAA,GAAE,OAAO,MAAM,KAAK,UAAU,aAAa;AAAA,YAC7C;AAEA,gBAAI,WAAW,IAAI,SAAS;AAE5B,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,mBAAkB;AAAA,YAC1B;AAAA,YACA;AAAA,YACA;AAAA,UACF,GAAG,SAAUQ,IAAG,UAAU,OAAO;AAC/B,qBAAS,QAAS,SAAS,UAAU;AACnC,mBAAK,UAAU;AAEf,kBAAI,YAAY,MAAM;AACpB,qBAAK,YAAY,QAAQ;AAAA,cAC3B;AAEA,kBAAI,YAAY,MAAM;AACpB,qBAAK,UAAU,SAAS,iBAAiB,KAAK,SAAS,QAAQ;AAAA,cACjE;AAEA,mBAAK,UAAU,SAAS,MAAM,KAAK,OAAO;AAAA,YAC5C;AAEA,oBAAQ,UAAU,cAAc,SAAUkB,KAAI;AAC5C,kBAAI,eAAe,CAAC,SAAS;AAE7B,kBAAI,KAAK,QAAQ,YAAY,MAAM;AACjC,qBAAK,QAAQ,WAAWA,IAAG,KAAK,UAAU;AAAA,cAC5C;AAEA,kBAAI,KAAK,QAAQ,YAAY,MAAM;AACjC,qBAAK,QAAQ,WAAWA,IAAG,KAAK,UAAU;AAAA,cAC5C;AAEA,kBAAI,KAAK,QAAQ,gBAAgB,QAAQA,IAAG,KAAK,cAAc,GAAG;AAChE,qBAAK,QAAQ,eAAeA,IAAG,KAAK,cAAc;AAAA,cACpD;AAEA,kBAAI,KAAK,QAAQ,OAAO,MAAM;AAC5B,oBAAIA,IAAG,KAAK,KAAK,GAAG;AAClB,uBAAK,QAAQ,MAAMA,IAAG,KAAK,KAAK;AAAA,gBAClC,WAAWA,IAAG,QAAQ,OAAO,EAAE,KAAK,KAAK,GAAG;AAC1C,uBAAK,QAAQ,MAAMA,IAAG,QAAQ,OAAO,EAAE,KAAK,KAAK;AAAA,gBACnD,OAAO;AACL,uBAAK,QAAQ,MAAM;AAAA,gBACrB;AAAA,cACF;AAEA,cAAAA,IAAG,KAAK,YAAY,KAAK,QAAQ,QAAQ;AACzC,cAAAA,IAAG,KAAK,YAAY,KAAK,QAAQ,QAAQ;AAEzC,kBAAI,MAAM,QAAQA,IAAG,CAAC,GAAG,aAAa,GAAG;AACvC,oBAAI,KAAK,QAAQ,SAAS,OAAO,WAAW,QAAQ,MAAM;AACxD,0BAAQ;AAAA,oBACN;AAAA,kBAGF;AAAA,gBACF;AAEA,sBAAM,UAAUA,IAAG,CAAC,GAAG,QAAQ,MAAM,QAAQA,IAAG,CAAC,GAAG,aAAa,CAAC;AAClE,sBAAM,UAAUA,IAAG,CAAC,GAAG,QAAQ,IAAI;AAAA,cACrC;AAEA,kBAAI,MAAM,QAAQA,IAAG,CAAC,GAAG,SAAS,GAAG;AACnC,oBAAI,KAAK,QAAQ,SAAS,OAAO,WAAW,QAAQ,MAAM;AACxD,0BAAQ;AAAA,oBACN;AAAA,kBAGF;AAAA,gBACF;AAEA,gBAAAA,IAAG,KAAK,aAAa,MAAM,QAAQA,IAAG,CAAC,GAAG,SAAS,CAAC;AACpD,sBAAM,UAAUA,IAAG,CAAC,GAAG,YAAY,MAAM,QAAQA,IAAG,CAAC,GAAG,SAAS,CAAC;AAAA,cACpE;AAEA,kBAAI,UAAU,CAAC;AAEf,uBAAS,gBAAgBL,IAAG,QAAQ;AAClC,uBAAO,OAAO,YAAY;AAAA,cAC5B;AAGA,uBAAS,OAAO,GAAG,OAAOK,IAAG,CAAC,EAAE,WAAW,QAAQ,QAAQ;AACzD,oBAAI,gBAAgBA,IAAG,CAAC,EAAE,WAAW,IAAI,EAAE;AAC3C,oBAAI,SAAS;AAEb,oBAAI,cAAc,OAAO,GAAG,OAAO,MAAM,KAAK,QAAQ;AAEpD,sBAAI,WAAW,cAAc,UAAU,OAAO,MAAM;AAIpD,sBAAI,YAAY,MAAM,QAAQA,IAAG,CAAC,GAAG,QAAQ;AAG7C,sBAAI,gBAAgB,SAAS,QAAQ,aAAa,eAAe;AAGjE,0BAAQ,aAAa,IAAI;AAAA,gBAC3B;AAAA,cACF;AAIA,kBAAIlB,GAAE,GAAG,UAAUA,GAAE,GAAG,OAAO,OAAO,GAAG,CAAC,KAAK,QAAQkB,IAAG,CAAC,EAAE,SAAS;AACpE,0BAAUlB,GAAE,OAAO,MAAM,CAAC,GAAGkB,IAAG,CAAC,EAAE,SAAS,OAAO;AAAA,cACrD;AAGA,kBAAI,OAAOlB,GAAE,OAAO,MAAM,CAAC,GAAG,MAAM,QAAQkB,IAAG,CAAC,CAAC,GAAG,OAAO;AAE3D,qBAAO,MAAM,aAAa,IAAI;AAE9B,uBAAS,OAAO,MAAM;AACpB,oBAAI,aAAa,QAAQ,GAAG,IAAI,IAAI;AAClC;AAAA,gBACF;AAEA,oBAAIlB,GAAE,cAAc,KAAK,QAAQ,GAAG,CAAC,GAAG;AACtC,kBAAAA,GAAE,OAAO,KAAK,QAAQ,GAAG,GAAG,KAAK,GAAG,CAAC;AAAA,gBACvC,OAAO;AACL,uBAAK,QAAQ,GAAG,IAAI,KAAK,GAAG;AAAA,gBAC9B;AAAA,cACF;AAEA,qBAAO;AAAA,YACT;AAEA,oBAAQ,UAAU,MAAM,SAAU,KAAK;AACrC,qBAAO,KAAK,QAAQ,GAAG;AAAA,YACzB;AAEA,oBAAQ,UAAU,MAAM,SAAU,KAAK,KAAK;AAC1C,mBAAK,QAAQ,GAAG,IAAI;AAAA,YACtB;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,gBAAe;AAAA,YACvB;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF,GAAG,SAAUQ,IAAG,SAAS,OAAO,MAAM;AACpC,gBAAI,UAAU,SAAU,UAAU,SAAS;AACzC,kBAAI,MAAM,QAAQ,SAAS,CAAC,GAAG,SAAS,KAAK,MAAM;AACjD,sBAAM,QAAQ,SAAS,CAAC,GAAG,SAAS,EAAE,QAAQ;AAAA,cAChD;AAEA,mBAAK,WAAW;AAEhB,mBAAK,KAAK,KAAK,YAAY,QAAQ;AAEnC,wBAAU,WAAW,CAAC;AAEtB,mBAAK,UAAU,IAAI,QAAQ,SAAS,QAAQ;AAE5C,sBAAQ,UAAU,YAAY,KAAK,IAAI;AAIvC,kBAAI,WAAW,SAAS,KAAK,UAAU,KAAK;AAC5C,oBAAM,UAAU,SAAS,CAAC,GAAG,gBAAgB,QAAQ;AACrD,uBAAS,KAAK,YAAY,IAAI;AAI9B,kBAAI,cAAc,KAAK,QAAQ,IAAI,aAAa;AAChD,mBAAK,cAAc,IAAI,YAAY,UAAU,KAAK,OAAO;AAEzD,kBAAI,aAAa,KAAK,OAAO;AAE7B,mBAAK,gBAAgB,UAAU;AAE/B,kBAAI,mBAAmB,KAAK,QAAQ,IAAI,kBAAkB;AAC1D,mBAAK,YAAY,IAAI,iBAAiB,UAAU,KAAK,OAAO;AAC5D,mBAAK,aAAa,KAAK,UAAU,OAAO;AAExC,mBAAK,UAAU,SAAS,KAAK,YAAY,UAAU;AAEnD,kBAAI,kBAAkB,KAAK,QAAQ,IAAI,iBAAiB;AACxD,mBAAK,WAAW,IAAI,gBAAgB,UAAU,KAAK,OAAO;AAC1D,mBAAK,YAAY,KAAK,SAAS,OAAO;AAEtC,mBAAK,SAAS,SAAS,KAAK,WAAW,UAAU;AAEjD,kBAAI,iBAAiB,KAAK,QAAQ,IAAI,gBAAgB;AACtD,mBAAK,UAAU,IAAI,eAAe,UAAU,KAAK,SAAS,KAAK,WAAW;AAC1E,mBAAK,WAAW,KAAK,QAAQ,OAAO;AAEpC,mBAAK,QAAQ,SAAS,KAAK,UAAU,KAAK,SAAS;AAInD,kBAAIO,QAAO;AAGX,mBAAK,cAAc;AAGnB,mBAAK,mBAAmB;AAGxB,mBAAK,oBAAoB;AACzB,mBAAK,yBAAyB;AAC9B,mBAAK,wBAAwB;AAC7B,mBAAK,uBAAuB;AAC5B,mBAAK,gBAAgB;AAGrB,mBAAK,YAAY,QAAQ,SAAU,aAAa;AAC9C,gBAAAA,MAAK,QAAQ,oBAAoB;AAAA,kBAC/B,MAAM;AAAA,gBACR,CAAC;AAAA,cACH,CAAC;AAGD,uBAAS,CAAC,EAAE,UAAU,IAAI,2BAA2B;AACrD,uBAAS,KAAK,eAAe,MAAM;AAGnC,mBAAK,gBAAgB;AAErB,oBAAM,UAAU,SAAS,CAAC,GAAG,WAAW,IAAI;AAG5C,uBAAS,KAAK,WAAW,IAAI;AAAA,YAC/B;AAEA,kBAAM,OAAO,SAAS,MAAM,UAAU;AAEtC,oBAAQ,UAAU,cAAc,SAAU,UAAU;AAClD,kBAAID,OAAK;AAET,kBAAI,SAAS,KAAK,IAAI,KAAK,MAAM;AAC/B,gBAAAA,OAAK,SAAS,KAAK,IAAI;AAAA,cACzB,WAAW,SAAS,KAAK,MAAM,KAAK,MAAM;AACxC,gBAAAA,OAAK,SAAS,KAAK,MAAM,IAAI,MAAM,MAAM,cAAc,CAAC;AAAA,cAC1D,OAAO;AACL,gBAAAA,OAAK,MAAM,cAAc,CAAC;AAAA,cAC5B;AAEA,cAAAA,OAAKA,KAAG,QAAQ,mBAAmB,EAAE;AACrC,cAAAA,OAAK,aAAaA;AAElB,qBAAOA;AAAA,YACT;AAEA,oBAAQ,UAAU,kBAAkB,SAAU,YAAY;AACxD,yBAAW,YAAY,KAAK,QAAQ;AAEpC,kBAAI,QAAQ,KAAK,cAAc,KAAK,UAAU,KAAK,QAAQ,IAAI,OAAO,CAAC;AAEvE,kBAAI,SAAS,MAAM;AACjB,2BAAW,IAAI,SAAS,KAAK;AAAA,cAC/B;AAAA,YACF;AAEA,oBAAQ,UAAU,gBAAgB,SAAU,UAAU,QAAQ;AAC5D,kBAAI,QAAQ;AAEZ,kBAAI,UAAU,WAAW;AACvB,oBAAI,aAAa,KAAK,cAAc,UAAU,OAAO;AAErD,oBAAI,cAAc,MAAM;AACtB,yBAAO;AAAA,gBACT;AAEA,uBAAO,KAAK,cAAc,UAAU,SAAS;AAAA,cAC/C;AAEA,kBAAI,UAAU,WAAW;AACvB,oBAAI,eAAe,SAAS,WAAW,KAAK;AAE5C,oBAAI,gBAAgB,GAAG;AACrB,yBAAO;AAAA,gBACT;AAEA,uBAAO,eAAe;AAAA,cACxB;AAEA,kBAAI,UAAU,SAAS;AACrB,oBAAI,QAAQ,SAAS,KAAK,OAAO;AAEjC,oBAAI,OAAO,UAAW,UAAU;AAC9B,yBAAO;AAAA,gBACT;AAEA,oBAAI,QAAQ,MAAM,MAAM,GAAG;AAE3B,yBAAST,KAAI,GAAGwB,KAAI,MAAM,QAAQxB,KAAIwB,IAAGxB,KAAIA,KAAI,GAAG;AAClD,sBAAI,OAAO,MAAMA,EAAC,EAAE,QAAQ,OAAO,EAAE;AACrC,sBAAI,UAAU,KAAK,MAAM,KAAK;AAE9B,sBAAI,YAAY,QAAQ,QAAQ,UAAU,GAAG;AAC3C,2BAAO,QAAQ,CAAC;AAAA,kBAClB;AAAA,gBACF;AAEA,uBAAO;AAAA,cACT;AAEA,kBAAI,UAAU,iBAAiB;AAC7B,oBAAI,gBAAgB,OAAO,iBAAiB,SAAS,CAAC,CAAC;AAEvD,uBAAO,cAAc;AAAA,cACvB;AAEA,qBAAO;AAAA,YACT;AAEA,oBAAQ,UAAU,gBAAgB,WAAY;AAC5C,mBAAK,YAAY,KAAK,MAAM,KAAK,UAAU;AAC3C,mBAAK,UAAU,KAAK,MAAM,KAAK,UAAU;AAEzC,mBAAK,SAAS,KAAK,MAAM,KAAK,UAAU;AACxC,mBAAK,QAAQ,KAAK,MAAM,KAAK,UAAU;AAAA,YACzC;AAEA,oBAAQ,UAAU,qBAAqB,WAAY;AACjD,kBAAIU,QAAO;AAEX,mBAAK,SAAS,GAAG,kBAAkB,WAAY;AAC7C,gBAAAA,MAAK,YAAY,QAAQ,SAAU,MAAM;AACvC,kBAAAA,MAAK,QAAQ,oBAAoB;AAAA,oBAC/B;AAAA,kBACF,CAAC;AAAA,gBACH,CAAC;AAAA,cACH,CAAC;AAED,mBAAK,SAAS,GAAG,iBAAiB,SAAU,KAAK;AAC/C,gBAAAA,MAAK,QAAQ,SAAS,GAAG;AAAA,cAC3B,CAAC;AAED,mBAAK,SAAS,MAAM,KAAK,KAAK,iBAAiB,IAAI;AACnD,mBAAK,SAAS,MAAM,KAAK,KAAK,cAAc,IAAI;AAEhD,mBAAK,YAAY,IAAI,OAAO,iBAAiB,SAAU,WAAW;AAChE,gBAAAA,MAAK,OAAO;AACZ,gBAAAA,MAAK,OAAO,SAAS;AAAA,cACvB,CAAC;AACD,mBAAK,UAAU,QAAQ,KAAK,SAAS,CAAC,GAAG;AAAA,gBACvC,YAAY;AAAA,gBACZ,WAAW;AAAA,gBACX,SAAS;AAAA,cACX,CAAC;AAAA,YACH;AAEA,oBAAQ,UAAU,sBAAsB,WAAY;AAClD,kBAAIA,QAAO;AAEX,mBAAK,YAAY,GAAG,KAAK,SAAU,MAAM,QAAQ;AAC/C,gBAAAA,MAAK,QAAQ,MAAM,MAAM;AAAA,cAC3B,CAAC;AAAA,YACH;AAEA,oBAAQ,UAAU,2BAA2B,WAAY;AACvD,kBAAIA,QAAO;AACX,kBAAI,iBAAiB,CAAC,UAAU,OAAO;AAEvC,mBAAK,UAAU,GAAG,UAAU,WAAY;AACtC,gBAAAA,MAAK,eAAe;AAAA,cACtB,CAAC;AAED,mBAAK,UAAU,GAAG,SAAS,SAAU,QAAQ;AAC3C,gBAAAA,MAAK,MAAM,MAAM;AAAA,cACnB,CAAC;AAED,mBAAK,UAAU,GAAG,KAAK,SAAU,MAAM,QAAQ;AAC7C,oBAAI,eAAe,QAAQ,IAAI,MAAM,IAAI;AACvC;AAAA,gBACF;AAEA,gBAAAA,MAAK,QAAQ,MAAM,MAAM;AAAA,cAC3B,CAAC;AAAA,YACH;AAEA,oBAAQ,UAAU,0BAA0B,WAAY;AACtD,kBAAIA,QAAO;AAEX,mBAAK,SAAS,GAAG,KAAK,SAAU,MAAM,QAAQ;AAC5C,gBAAAA,MAAK,QAAQ,MAAM,MAAM;AAAA,cAC3B,CAAC;AAAA,YACH;AAEA,oBAAQ,UAAU,yBAAyB,WAAY;AACrD,kBAAIA,QAAO;AAEX,mBAAK,QAAQ,GAAG,KAAK,SAAU,MAAM,QAAQ;AAC3C,gBAAAA,MAAK,QAAQ,MAAM,MAAM;AAAA,cAC3B,CAAC;AAAA,YACH;AAEA,oBAAQ,UAAU,kBAAkB,WAAY;AAC9C,kBAAIA,QAAO;AAEX,mBAAK,GAAG,QAAQ,WAAY;AAC1B,gBAAAA,MAAK,WAAW,CAAC,EAAE,UAAU,IAAI,yBAAyB;AAAA,cAC5D,CAAC;AAED,mBAAK,GAAG,SAAS,WAAY;AAC3B,gBAAAA,MAAK,WAAW,CAAC,EAAE,UAAU,OAAO,yBAAyB;AAAA,cAC/D,CAAC;AAED,mBAAK,GAAG,UAAU,WAAY;AAC5B,gBAAAA,MAAK,WAAW,CAAC,EAAE,UAAU,OAAO,6BAA6B;AAAA,cACnE,CAAC;AAED,mBAAK,GAAG,WAAW,WAAY;AAC7B,gBAAAA,MAAK,WAAW,CAAC,EAAE,UAAU,IAAI,6BAA6B;AAAA,cAChE,CAAC;AAED,mBAAK,GAAG,QAAQ,WAAY;AAC1B,gBAAAA,MAAK,WAAW,CAAC,EAAE,UAAU,OAAO,0BAA0B;AAAA,cAChE,CAAC;AAED,mBAAK,GAAG,SAAS,SAAU,QAAQ;AACjC,oBAAI,CAACA,MAAK,OAAO,GAAG;AAClB,kBAAAA,MAAK,QAAQ,QAAQ,CAAC,CAAC;AAAA,gBACzB;AAEA,qBAAK,YAAY,MAAM,QAAQ,SAAU,MAAM;AAC7C,kBAAAA,MAAK,QAAQ,eAAe;AAAA,oBAC1B;AAAA,oBACA,OAAO;AAAA,kBACT,CAAC;AAAA,gBACH,CAAC;AAAA,cACH,CAAC;AAED,mBAAK,GAAG,gBAAgB,SAAU,QAAQ;AACxC,qBAAK,YAAY,MAAM,QAAQ,SAAU,MAAM;AAC7C,kBAAAA,MAAK,QAAQ,kBAAkB;AAAA,oBAC7B;AAAA,oBACA,OAAO;AAAA,kBACT,CAAC;AAAA,gBACH,CAAC;AAAA,cACH,CAAC;AAED,mBAAK,GAAG,YAAY,SAAU,KAAK;AACjC,oBAAI,MAAM,IAAI;AAEd,oBAAIA,MAAK,OAAO,GAAG;AACjB,sBAAI,QAAQ,KAAK,OAAQ,QAAQ,KAAK,MAAM,IAAI,QAAS;AACvD,oBAAAA,MAAK,MAAM,GAAG;AAEd,wBAAI,eAAe;AAAA,kBACrB,WAAW,QAAQ,KAAK,SAAS,QAAQ,KAAK,KAAK;AACjD,oBAAAA,MAAK,QAAQ,kBAAkB,CAAC,CAAC;AAEjC,wBAAI,eAAe;AAAA,kBACrB,WAAY,QAAQ,KAAK,SAAS,IAAI,SAAU;AAC9C,oBAAAA,MAAK,QAAQ,kBAAkB,CAAC,CAAC;AAEjC,wBAAI,eAAe;AAAA,kBACrB,WAAW,QAAQ,KAAK,IAAI;AAC1B,oBAAAA,MAAK,QAAQ,oBAAoB,CAAC,CAAC;AAEnC,wBAAI,eAAe;AAAA,kBACrB,WAAW,QAAQ,KAAK,MAAM;AAC5B,oBAAAA,MAAK,QAAQ,gBAAgB,CAAC,CAAC;AAE/B,wBAAI,eAAe;AAAA,kBACrB;AAAA,gBACF,OAAO;AACL,sBAAI,QAAQ,KAAK,SAAS,QAAQ,KAAK,SAClC,QAAQ,KAAK,QAAQ,IAAI,QAAS;AACrC,oBAAAA,MAAK,KAAK;AAEV,wBAAI,eAAe;AAAA,kBACrB;AAAA,gBACF;AAAA,cACF,CAAC;AAAA,YACH;AAEA,oBAAQ,UAAU,kBAAkB,WAAY;AAC9C,mBAAK,QAAQ,IAAI,YAAY,KAAK,SAAS,KAAK,UAAU,CAAC;AAE3D,kBAAI,KAAK,WAAW,GAAG;AACrB,oBAAI,KAAK,OAAO,GAAG;AACjB,uBAAK,MAAM;AAAA,gBACb;AAEA,qBAAK,QAAQ,WAAW,CAAC,CAAC;AAAA,cAC5B,OAAO;AACL,qBAAK,QAAQ,UAAU,CAAC,CAAC;AAAA,cAC3B;AAAA,YACF;AAEA,oBAAQ,UAAU,oBAAoB,SAAU,WAAW;AACzD,kBAAIA,QAAO;AAEX,kBAAI,UAAU,cAAc,UAAU,WAAW,SAAS,GAAG;AAC3D,yBAASgB,KAAI,GAAGA,KAAI,UAAU,WAAW,QAAQA,MAAK;AACpD,sBAAI,OAAO,UAAU,WAAWA,EAAC;AAEjC,sBAAI,KAAK,UAAU;AACjB,2BAAO;AAAA,kBACT;AAAA,gBACF;AAAA,cACF,WAAW,UAAU,gBAAgB,UAAU,aAAa,SAAS,GAAG;AACtE,uBAAO;AAAA,cACT,WAAW,MAAM,QAAQ,SAAS,GAAG;AACnC,uBAAO,UAAU,KAAK,SAAU,UAAU;AACxC,yBAAOhB,MAAK,kBAAkB,QAAQ;AAAA,gBACxC,CAAC;AAAA,cACH;AAEA,qBAAO;AAAA,YACT;AAEA,oBAAQ,UAAU,eAAe,SAAU,WAAW;AACpD,kBAAI,UAAU,KAAK,kBAAkB,SAAS;AAC9C,kBAAIA,QAAO;AAGX,kBAAI,SAAS;AACX,qBAAK,YAAY,QAAQ,SAAU,aAAa;AAC9C,kBAAAA,MAAK,QAAQ,oBAAoB;AAAA,oBAC/B,MAAM;AAAA,kBACR,CAAC;AAAA,gBACH,CAAC;AAAA,cACH;AAAA,YACF;AAMA,oBAAQ,UAAU,UAAU,SAAU,MAAM,MAAM;AAChD,kBAAI,gBAAgB,QAAQ,UAAU;AACtC,kBAAI,gBAAgB;AAAA,gBAClB,QAAQ;AAAA,gBACR,SAAS;AAAA,gBACT,UAAU;AAAA,gBACV,YAAY;AAAA,gBACZ,SAAS;AAAA,cACX;AAEA,kBAAI,SAAS,QAAW;AACtB,uBAAO,CAAC;AAAA,cACV;AAEA,kBAAI,QAAQ,eAAe;AACzB,oBAAI,iBAAiB,cAAc,IAAI;AACvC,oBAAI,iBAAiB;AAAA,kBACnB,WAAW;AAAA,kBACX;AAAA,kBACA;AAAA,gBACF;AAEA,8BAAc,KAAK,MAAM,gBAAgB,cAAc;AAEvD,oBAAI,eAAe,WAAW;AAC5B,uBAAK,YAAY;AAEjB;AAAA,gBACF;AAAA,cACF;AAEA,4BAAc,KAAK,MAAM,MAAM,IAAI;AAAA,YACrC;AAEA,oBAAQ,UAAU,iBAAiB,WAAY;AAC7C,kBAAI,KAAK,WAAW,GAAG;AACrB;AAAA,cACF;AAEA,kBAAI,KAAK,OAAO,GAAG;AACjB,qBAAK,MAAM;AAAA,cACb,OAAO;AACL,qBAAK,KAAK;AAAA,cACZ;AAAA,YACF;AAEA,oBAAQ,UAAU,OAAO,WAAY;AACnC,kBAAI,KAAK,OAAO,GAAG;AACjB;AAAA,cACF;AAEA,kBAAI,KAAK,WAAW,GAAG;AACrB;AAAA,cACF;AAEA,mBAAK,QAAQ,SAAS,CAAC,CAAC;AAAA,YAC1B;AAEA,oBAAQ,UAAU,QAAQ,SAAU,KAAK;AACvC,kBAAI,CAAC,KAAK,OAAO,GAAG;AAClB;AAAA,cACF;AAEA,mBAAK,QAAQ,SAAS,EAAE,eAAgB,IAAI,CAAC;AAAA,YAC/C;AASA,oBAAQ,UAAU,YAAY,WAAY;AACxC,qBAAO,CAAC,KAAK,WAAW;AAAA,YAC1B;AAQA,oBAAQ,UAAU,aAAa,WAAY;AACzC,qBAAO,KAAK,QAAQ,IAAI,UAAU;AAAA,YACpC;AAEA,oBAAQ,UAAU,SAAS,WAAY;AACrC,qBAAO,KAAK,WAAW,CAAC,EAAE,UAAU,SAAS,yBAAyB;AAAA,YACxE;AAEA,oBAAQ,UAAU,WAAW,WAAY;AACvC,qBAAO,KAAK,WAAW,CAAC,EAAE,UAAU,SAAS,0BAA0B;AAAA,YACzE;AAEA,oBAAQ,UAAU,QAAQ,SAAU,MAAM;AAExC,kBAAI,KAAK,SAAS,GAAG;AACnB;AAAA,cACF;AAEA,mBAAK,WAAW,CAAC,EAAE,UAAU,IAAI,0BAA0B;AAC3D,mBAAK,QAAQ,SAAS,CAAC,CAAC;AAAA,YAC1B;AAEA,oBAAQ,UAAU,SAAS,SAAU,MAAM;AACzC,kBAAI,KAAK,QAAQ,IAAI,OAAO,KAAK,OAAO,WAAW,QAAQ,MAAM;AAC/D,wBAAQ;AAAA,kBACN;AAAA,gBAGF;AAAA,cACF;AAEA,kBAAI,QAAQ,QAAQ,KAAK,WAAW,GAAG;AACrC,uBAAO,CAAC,IAAI;AAAA,cACd;AAEA,kBAAI,WAAW,CAAC,KAAK,CAAC;AAEtB,mBAAK,SAAS,KAAK,YAAY,QAAQ;AAAA,YACzC;AAEA,oBAAQ,UAAU,OAAO,WAAY;AACnC,kBAAI,KAAK,QAAQ,IAAI,OAAO,KACxB,UAAU,SAAS,KAAK,OAAO,WAAW,QAAQ,MAAM;AAC1D,wBAAQ;AAAA,kBACN;AAAA,gBAEF;AAAA,cACF;AAEA,kBAAI,OAAO,CAAC;AAEZ,mBAAK,YAAY,QAAQ,SAAU,aAAa;AAC9C,uBAAO;AAAA,cACT,CAAC;AAED,qBAAO;AAAA,YACT;AAEA,oBAAQ,UAAU,MAAM,SAAU,MAAM;AACtC,kBAAI,KAAK,QAAQ,IAAI,OAAO,KAAK,OAAO,WAAW,QAAQ,MAAM;AAC/D,wBAAQ;AAAA,kBACN;AAAA,gBAEF;AAAA,cACF;AAEA,kBAAI,QAAQ,QAAQ,KAAK,WAAW,GAAG;AACrC,uBAAO,KAAK,SAAS,IAAI;AAAA,cAC3B;AAEA,kBAAI,SAAS,KAAK,CAAC;AAEnB,kBAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,yBAAS,OAAO,IAAI,SAAU,KAAK;AACjC,yBAAO,IAAI,SAAS;AAAA,gBACtB,CAAC;AAAA,cACH;AAEA,mBAAK,SAAS,IAAI,MAAM,EAAE,QAAQ,OAAO,EAAE,QAAQ,QAAQ;AAAA,YAC7D;AAEA,oBAAQ,UAAU,UAAU,WAAY;AACtC,oBAAM,WAAW,KAAK,WAAW,CAAC,CAAC;AACnC,mBAAK,WAAW,OAAO;AAEvB,mBAAK,UAAU,WAAW;AAC1B,mBAAK,YAAY;AAEjB,mBAAK,SAAS;AACd,mBAAK,SAAS;AAEd,mBAAK,SAAS,IAAI,UAAU;AAC5B,mBAAK,SAAS;AAAA,gBAAK;AAAA,gBACnB,MAAM,QAAQ,KAAK,SAAS,CAAC,GAAG,cAAc;AAAA,cAAC;AAE/C,mBAAK,SAAS,CAAC,EAAE,UAAU,OAAO,2BAA2B;AAC7D,mBAAK,SAAS,KAAK,eAAe,OAAO;AACzC,oBAAM,WAAW,KAAK,SAAS,CAAC,CAAC;AACjC,mBAAK,SAAS,WAAW,SAAS;AAElC,mBAAK,YAAY,QAAQ;AACzB,mBAAK,UAAU,QAAQ;AACvB,mBAAK,SAAS,QAAQ;AACtB,mBAAK,QAAQ,QAAQ;AAErB,mBAAK,cAAc;AACnB,mBAAK,YAAY;AACjB,mBAAK,WAAW;AAChB,mBAAK,UAAU;AAAA,YACjB;AAEA,oBAAQ,UAAU,SAAS,WAAY;AACrC,kBAAI,aAAaP;AAAA,gBACf;AAAA,cAIF;AAEA,yBAAW,KAAK,OAAO,KAAK,QAAQ,IAAI,KAAK,CAAC;AAE9C,mBAAK,aAAa;AAElB,mBAAK,WAAW,CAAC,EAAE,UAChB,IAAI,wBAAwB,KAAK,QAAQ,IAAI,OAAO,CAAC;AAExD,oBAAM,UAAU,WAAW,CAAC,GAAG,WAAW,KAAK,QAAQ;AAEvD,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,qBAAoB;AAAA,YAC5B;AAAA,UACF,GAAG,SAAUQ,IAAG;AAEd,mBAAOA;AAAA,UACT,CAAC;AAED,UAAAR,IAAG,OAAO,kBAAiB;AAAA,YACzB;AAAA,YACA;AAAA,YAEA;AAAA,YACA;AAAA,YACA;AAAA,UACF,GAAG,SAAUQ,IAAGa,IAAG,SAAS,UAAU,OAAO;AAC3C,gBAAIb,GAAE,GAAG,WAAW,MAAM;AAExB,kBAAI,cAAc,CAAC,QAAQ,SAAS,SAAS;AAE7C,cAAAA,GAAE,GAAG,UAAU,SAAU,SAAS;AAChC,0BAAU,WAAW,CAAC;AAEtB,oBAAI,OAAO,YAAY,UAAU;AAC/B,uBAAK,KAAK,WAAY;AACpB,wBAAI,kBAAkBA,GAAE,OAAO,MAAM,CAAC,GAAG,OAAO;AAEhD,wBAAI,WAAW,IAAI,QAAQA,GAAE,IAAI,GAAG,eAAe;AAAA,kBACrD,CAAC;AAED,yBAAO;AAAA,gBACT,WAAW,OAAO,YAAY,UAAU;AACtC,sBAAI;AACJ,sBAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW,CAAC;AAElD,uBAAK,KAAK,WAAY;AACpB,wBAAI,WAAW,MAAM,QAAQ,MAAM,SAAS;AAE5C,wBAAI,YAAY,QAAQ,OAAO,WAAW,QAAQ,OAAO;AACvD,8BAAQ;AAAA,wBACN,kBAAmB,UAAU;AAAA,sBAE/B;AAAA,oBACF;AAEA,0BAAM,SAAS,OAAO,EAAE,MAAM,UAAU,IAAI;AAAA,kBAC9C,CAAC;AAGD,sBAAI,YAAY,QAAQ,OAAO,IAAI,IAAI;AACrC,2BAAO;AAAA,kBACT;AAEA,yBAAO;AAAA,gBACT,OAAO;AACL,wBAAM,IAAI,MAAM,oCAAoC,OAAO;AAAA,gBAC7D;AAAA,cACF;AAAA,YACF;AAEA,gBAAIA,GAAE,GAAG,QAAQ,YAAY,MAAM;AACjC,cAAAA,GAAE,GAAG,QAAQ,WAAW;AAAA,YAC1B;AAEA,mBAAO;AAAA,UACT,CAAC;AAGC,iBAAO;AAAA,YACL,QAAQR,IAAG;AAAA,YACX,SAASA,IAAG;AAAA,UACd;AAAA,QACF,EAAE;AAIA,YAAI,UAAUA,IAAG,QAAQ,gBAAgB;AAKzC,QAAAD,QAAO,GAAG,QAAQ,MAAMC;AAGxB,eAAO;AAAA,MACT,CAAC;AAAA;AAAA;;;AChkMD;AAAA;AAEA,OAAC,SAAU,MAAM,WAAW;AAE1B,YAAI,OAAO,cAAY,cAAc,OAAO,YAAY,YAAY,OAAO,WAAW,UAAU;AAE9F,iBAAO,UAAU,UAAU;AAAA,QAC7B,WAAW,OAAO,WAAW,cAAc,OAAO,KAAK;AAErD,iBAAO,WAAY;AACjB,mBAAO,UAAU;AAAA,UACnB,CAAC;AAAA,QACH,OAAO;AAEL,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF,GAAG,SAAM,WAAY;AAGnB,YAAI,cAAc,CAAC;AACnB,YAAI,gBAAgB,CAAC;AACrB,YAAI,eAAe,CAAC;AACpB,YAAI,mBAAmB,CAAC;AACxB,YAAI,mBAAmB,CAAC;AAQxB,iBAAS,aAAc,MAAM;AAC3B,cAAI,OAAO,SAAS,UAAU;AAC5B,mBAAO,IAAI,OAAO,MAAM,OAAO,KAAK,GAAG;AAAA,UACzC;AAEA,iBAAO;AAAA,QACT;AAUA,iBAAS,YAAa,MAAM,OAAO;AAEjC,cAAI,SAAS,MAAO,QAAO;AAG3B,cAAI,SAAS,KAAK,YAAY,EAAG,QAAO,MAAM,YAAY;AAG1D,cAAI,SAAS,KAAK,YAAY,EAAG,QAAO,MAAM,YAAY;AAG1D,cAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,YAAY,GAAG;AACrC,mBAAO,MAAM,OAAO,CAAC,EAAE,YAAY,IAAI,MAAM,OAAO,CAAC,EAAE,YAAY;AAAA,UACrE;AAGA,iBAAO,MAAM,YAAY;AAAA,QAC3B;AASA,iBAASgC,aAAa,KAAK,MAAM;AAC/B,iBAAO,IAAI,QAAQ,gBAAgB,SAAUC,QAAO,OAAO;AACzD,mBAAO,KAAK,KAAK,KAAK;AAAA,UACxB,CAAC;AAAA,QACH;AASA,iBAAS,QAAS,MAAM,MAAM;AAC5B,iBAAO,KAAK,QAAQ,KAAK,CAAC,GAAG,SAAUA,QAAO,OAAO;AACnD,gBAAI,SAASD,aAAY,KAAK,CAAC,GAAG,SAAS;AAE3C,gBAAIC,WAAU,IAAI;AAChB,qBAAO,YAAY,KAAK,QAAQ,CAAC,GAAG,MAAM;AAAA,YAC5C;AAEA,mBAAO,YAAYA,QAAO,MAAM;AAAA,UAClC,CAAC;AAAA,QACH;AAUA,iBAAS,aAAc,OAAO,MAAM,OAAO;AAEzC,cAAI,CAAC,MAAM,UAAU,aAAa,eAAe,KAAK,GAAG;AACvD,mBAAO;AAAA,UACT;AAEA,cAAI,MAAM,MAAM;AAGhB,iBAAO,OAAO;AACZ,gBAAI,OAAO,MAAM,GAAG;AAEpB,gBAAI,KAAK,CAAC,EAAE,KAAK,IAAI,EAAG,QAAO,QAAQ,MAAM,IAAI;AAAA,UACnD;AAEA,iBAAO;AAAA,QACT;AAUA,iBAAS,YAAa,YAAY,SAAS,OAAO;AAChD,iBAAO,SAAU,MAAM;AAErB,gBAAI,QAAQ,KAAK,YAAY;AAG7B,gBAAI,QAAQ,eAAe,KAAK,GAAG;AACjC,qBAAO,YAAY,MAAM,KAAK;AAAA,YAChC;AAGA,gBAAI,WAAW,eAAe,KAAK,GAAG;AACpC,qBAAO,YAAY,MAAM,WAAW,KAAK,CAAC;AAAA,YAC5C;AAGA,mBAAO,aAAa,OAAO,MAAM,KAAK;AAAA,UACxC;AAAA,QACF;AAKA,iBAAS,UAAW,YAAY,SAAS,OAAO,MAAM;AACpD,iBAAO,SAAU,MAAM;AACrB,gBAAI,QAAQ,KAAK,YAAY;AAE7B,gBAAI,QAAQ,eAAe,KAAK,EAAG,QAAO;AAC1C,gBAAI,WAAW,eAAe,KAAK,EAAG,QAAO;AAE7C,mBAAO,aAAa,OAAO,OAAO,KAAK,MAAM;AAAA,UAC/C;AAAA,QACF;AAUA,iBAAS,UAAW,MAAM,OAAO,WAAW;AAC1C,cAAI,aAAa,UAAU,IACvB,UAAU,SAAS,IAAI,IAAI,UAAU,OAAO,IAAI;AAEpD,kBAAQ,YAAY,QAAQ,MAAM,MAAM;AAAA,QAC1C;AAOA,kBAAU,SAAS;AAAA,UACjB;AAAA,UAAkB;AAAA,UAAkB;AAAA,QACtC;AAOA,kBAAU,WAAW;AAAA,UACnB;AAAA,UAAkB;AAAA,UAAkB;AAAA,QACtC;AAOA,kBAAU,WAAW;AAAA,UACnB;AAAA,UAAkB;AAAA,UAAkB;AAAA,QACtC;AAOA,kBAAU,aAAa;AAAA,UACrB;AAAA,UAAkB;AAAA,UAAkB;AAAA,QACtC;AAQA,kBAAU,gBAAgB,SAAU,MAAM,aAAa;AACrD,sBAAY,KAAK,CAAC,aAAa,IAAI,GAAG,WAAW,CAAC;AAAA,QACpD;AAQA,kBAAU,kBAAkB,SAAU,MAAM,aAAa;AACvD,wBAAc,KAAK,CAAC,aAAa,IAAI,GAAG,WAAW,CAAC;AAAA,QACtD;AAOA,kBAAU,qBAAqB,SAAU,MAAM;AAC7C,cAAI,OAAO,SAAS,UAAU;AAC5B,yBAAa,KAAK,YAAY,CAAC,IAAI;AACnC;AAAA,UACF;AAGA,oBAAU,cAAc,MAAM,IAAI;AAClC,oBAAU,gBAAgB,MAAM,IAAI;AAAA,QACtC;AAQA,kBAAU,mBAAmB,SAAU,QAAQ,QAAQ;AACrD,mBAAS,OAAO,YAAY;AAC5B,mBAAS,OAAO,YAAY;AAE5B,2BAAiB,MAAM,IAAI;AAC3B,2BAAiB,MAAM,IAAI;AAAA,QAC7B;AAKA;AAAA;AAAA,UAEE,CAAC,KAAK,IAAI;AAAA,UACV,CAAC,MAAM,IAAI;AAAA,UACX,CAAC,MAAM,MAAM;AAAA,UACb,CAAC,OAAO,MAAM;AAAA,UACd,CAAC,QAAQ,MAAM;AAAA,UACf,CAAC,UAAU,WAAW;AAAA,UACtB,CAAC,YAAY,YAAY;AAAA,UACzB,CAAC,UAAU,YAAY;AAAA,UACvB,CAAC,WAAW,YAAY;AAAA,UACxB,CAAC,WAAW,YAAY;AAAA,UACxB,CAAC,YAAY,YAAY;AAAA,UACzB,CAAC,MAAM,KAAK;AAAA,UACZ,CAAC,OAAO,MAAM;AAAA,UACd,CAAC,OAAO,MAAM;AAAA,UACd,CAAC,QAAQ,OAAO;AAAA,UAChB,CAAC,QAAQ,OAAO;AAAA;AAAA,UAEhB,CAAC,QAAQ,QAAQ;AAAA,UACjB,CAAC,SAAS,SAAS;AAAA,UACnB,CAAC,WAAW,WAAW;AAAA,UACvB,CAAC,WAAW,WAAW;AAAA,UACvB,CAAC,WAAW,WAAW;AAAA;AAAA,UAEvB,CAAC,SAAS,QAAQ;AAAA,UAClB,CAAC,UAAU,SAAS;AAAA;AAAA,UAEpB,CAAC,UAAU,UAAU;AAAA,UACrB,CAAC,SAAS,SAAS;AAAA,UACnB,CAAC,SAAS,SAAS;AAAA,UACnB,CAAC,SAAS,SAAS;AAAA,UACnB,CAAC,UAAU,UAAU;AAAA,UACrB,CAAC,YAAY,YAAY;AAAA;AAAA,UAEzB,CAAC,MAAM,MAAM;AAAA,UACb,CAAC,OAAO,MAAM;AAAA,UACd,CAAC,OAAO,MAAM;AAAA,UACd,CAAC,OAAO,OAAO;AAAA,UACf,CAAC,QAAQ,MAAM;AAAA,UACf,CAAC,QAAQ,OAAO;AAAA,UAChB,CAAC,SAAS,OAAO;AAAA,UACjB,CAAC,SAAS,OAAO;AAAA,UACjB,CAAC,QAAQ,SAAS;AAAA,UAClB,CAAC,SAAS,QAAQ;AAAA,UAClB,CAAC,SAAS,QAAQ;AAAA,UAClB,CAAC,SAAS,QAAQ;AAAA,UAClB,CAAC,SAAS,QAAQ;AAAA,UAClB,CAAC,SAAS,QAAQ;AAAA,UAClB,CAAC,SAAS,SAAS;AAAA,UACnB,CAAC,UAAU,SAAS;AAAA,UACpB,CAAC,WAAW,UAAU;AAAA,UACtB,CAAC,YAAY,WAAW;AAAA,QAC1B,EAAE,QAAQ,SAAU,MAAM;AACxB,iBAAO,UAAU,iBAAiB,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QACpD,CAAC;AAKD;AAAA,UACE,CAAC,QAAQ,GAAG;AAAA,UACZ,CAAC,sBAAsB,IAAI;AAAA,UAC3B,CAAC,mBAAmB,IAAI;AAAA,UACxB,CAAC,iBAAiB,MAAM;AAAA,UACxB,CAAC,sCAAsC,MAAM;AAAA,UAC7C,CAAC,gBAAgB,KAAK;AAAA,UACtB,CAAC,0CAA0C,IAAI;AAAA,UAC/C,CAAC,6FAA6F,KAAK;AAAA,UACnG,CAAC,iCAAiC,MAAM;AAAA,UACxC,CAAC,4BAA4B,MAAM;AAAA,UACnC,CAAC,kBAAkB,OAAO;AAAA,UAC1B,CAAC,yHAAyH,KAAK;AAAA,UAC/H,CAAC,sGAAsG,KAAK;AAAA,UAC5G,CAAC,SAAS,KAAK;AAAA,UACf,CAAC,4CAA4C,SAAS;AAAA,UACtD,CAAC,qBAAqB,OAAO;AAAA,UAC7B,CAAC,wBAAwB,OAAO;AAAA,UAChC,CAAC,qBAAqB,MAAM;AAAA,UAC5B,CAAC,iDAAiD,QAAQ;AAAA,UAC1D,CAAC,iCAAiC,OAAO;AAAA,UACzC,CAAC,uBAAuB,QAAQ;AAAA,UAChC,CAAC,qBAAqB,OAAO;AAAA,UAC7B,CAAC,UAAU,IAAI;AAAA,UACf,CAAC,YAAY,KAAK;AAAA,UAClB,CAAC,QAAQ,KAAK;AAAA,QAChB,EAAE,QAAQ,SAAU,MAAM;AACxB,iBAAO,UAAU,cAAc,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QACjD,CAAC;AAKD;AAAA,UACE,CAAC,OAAO,EAAE;AAAA,UACV,CAAC,UAAU,IAAI;AAAA,UACf,CAAC,iEAAiE,MAAM;AAAA,UACxE,CAAC,mCAAmC,KAAK;AAAA,UACzC,CAAC,SAAS,GAAG;AAAA,UACb,CAAC,wFAAwF,MAAM;AAAA,UAC/F,CAAC,qBAAqB,MAAM;AAAA,UAC5B,CAAC,wBAAwB,QAAQ;AAAA,UACjC,CAAC,uBAAuB,IAAI;AAAA,UAC5B,CAAC,4FAA4F,IAAI;AAAA,UACjG,CAAC,sEAAsE,OAAO;AAAA,UAC9E,CAAC,kCAAkC,IAAI;AAAA,UACvC,CAAC,qBAAqB,MAAM;AAAA,UAC5B,CAAC,6FAA6F,MAAM;AAAA,UACpG,CAAC,0GAA0G,MAAM;AAAA,UACjH,CAAC,+FAA+F,MAAM;AAAA,UACtG,CAAC,2BAA2B,KAAK;AAAA,UACjC,CAAC,gCAAgC,MAAM;AAAA,UACvC,CAAC,uBAAuB,MAAM;AAAA,UAC9B,CAAC,qBAAqB,QAAQ;AAAA,UAC9B,CAAC,gBAAgB,IAAI;AAAA,UACrB,CAAC,aAAa,IAAI;AAAA,UAClB,CAAC,SAAS,KAAK;AAAA,QACjB,EAAE,QAAQ,SAAU,MAAM;AACxB,iBAAO,UAAU,gBAAgB,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QACnD,CAAC;AAKD;AAAA;AAAA,UAEE;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA;AAAA,UAEA;AAAA;AAAA,UACA;AAAA;AAAA,UACA;AAAA;AAAA,UACA;AAAA,UACA;AAAA;AAAA,UACA;AAAA;AAAA,UACA;AAAA,QACF,EAAE,QAAQ,UAAU,kBAAkB;AAEtC,eAAO;AAAA,MACT,CAAC;AAAA;AAAA;;;ACtfD;AAAA;AACA,OAAC,SAASC,IAAE;AAAC,YAAIC,KAAE,WAAU;AAAC;AAAa,cAAID,KAAE,KAAIE,KAAE,EAAC,KAAI,OAAM,MAAK,MAAK,QAAO,KAAI,QAAO,KAAI,eAAc,MAAK,WAAU,OAAM,aAAY,EAAC,kBAAiB,CAAC,kBAAkB,GAAE,mBAAkB,CAAC,qBAAqB,GAAE,oBAAmB,CAAC,wBAAuB,kBAAkB,GAAE,sBAAqB,CAAC,qBAAoB,kBAAkB,GAAE,eAAc,CAAC,cAAa,kBAAiB,mBAAkB,iBAAgB,gBAAe,aAAY,gBAAe,iBAAiB,GAAE,oBAAmB,CAAC,cAAc,GAAE,uBAAsB,CAAC,sBAAsB,GAAE,oBAAmB,CAAC,gBAAgB,GAAE,mBAAkB,CAAC,mBAAmB,GAAE,mBAAkB,CAAC,kBAAkB,GAAE,cAAa,CAAC,cAAc,GAAE,gBAAe,CAAC,kBAAkB,GAAE,iBAAgB,CAAC,gBAAe,iBAAiB,GAAE,oBAAmB,CAAC,qBAAqB,GAAE,cAAa,CAAC,cAAc,GAAE,cAAa,CAAC,WAAW,GAAE,aAAY,CAAC,cAAc,GAAE,sBAAqB,CAAC,kBAAkB,GAAE,kBAAiB,CAAC,kBAAkB,GAAE,kBAAiB,CAAC,kBAAiB,cAAc,GAAE,qBAAoB,CAAC,cAAc,GAAE,gBAAe,CAAC,gBAAe,eAAe,GAAE,gBAAe,CAAC,oBAAoB,GAAE,uBAAsB,CAAC,aAAY,cAAc,EAAC,EAAC,GAAEC,KAAE,SAASH,IAAE;AAAC,gBAAIC,KAAE,CAACD,GAAE,kBAAkB;AAAE,mBAAO,SAAOC,KAAEA,KAAE;AAAA,UAAC,GAAEG,KAAE,WAAU;AAAC,qBAAQJ,KAAE,CAAC,GAAEC,KAAE,GAAEA,MAAG,IAAGA,KAAI,UAAQG,KAAE,GAAEA,MAAG,IAAGA,MAAI;AAAC,kBAAIC,KAAEF,GAAE,IAAI,KAAKD,GAAE,eAAcD,IAAEG,EAAC,CAAC;AAAE,cAAAJ,KAAEA,MAAGA,GAAEA,GAAE,SAAO,CAAC,MAAIK,MAAGL,GAAE,KAAKK,EAAC,IAAEL,GAAE,KAAK;AAAA,YAAC;AAAC,mBAAOA;AAAA,UAAC,GAAEK,KAAE,WAAU;AAAC,gBAAIJ,KAAE,GAAEC,KAAEE,GAAE;AAAE,mBAAOF,GAAE,SAAO,MAAID,KAAEC,GAAE,CAAC,IAAEA,GAAE,CAAC,IAAGA,GAAE,SAAO,IAAEA,GAAE,CAAC,IAAE,aAAWD,KAAE,IAAEC,GAAE,CAAC,IAAE,OAAKD,KAAE,IAAEC,GAAE,CAAC,IAAE,QAAMF,KAAEE,GAAE,CAAC,IAAE;AAAA,UAAI,GAAEI,KAAE,WAAU;AAAC,gBAAIN,IAAEC;AAAE,gBAAG,QAAM,eAAa,OAAO,QAAM,eAAa,OAAO,KAAK,mBAAiBD,KAAE,KAAK,eAAe,GAAE,eAAa,OAAOA,MAAG,eAAa,OAAOA,GAAE,iBAAiB,QAAOC,KAAED,GAAE,gBAAgB,EAAE,UAASC,OAAIA,GAAE,QAAQ,GAAG,IAAE,MAAI,UAAQA,MAAGA,KAAE;AAAA,UAAM,GAAEM,KAAE,SAASP,IAAE;AAAC,qBAAQC,KAAE,IAAI,KAAKD,IAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,EAAE,QAAQ,GAAEE,KAAE,IAAI,KAAKF,IAAE,IAAG,IAAG,IAAG,IAAG,EAAE,EAAE,QAAQ,GAAEG,KAAEF,IAAEG,KAAE,IAAI,KAAKD,EAAC,EAAE,kBAAkB,GAAEE,KAAE,MAAKC,KAAE,MAAKH,KAAED,KAAE,SAAO;AAAC,kBAAIK,KAAE,IAAI,KAAKJ,EAAC,GAAEK,KAAED,GAAE,kBAAkB;AAAE,cAAAC,OAAIJ,OAAII,KAAEJ,OAAIC,KAAEE,KAAGC,KAAEJ,OAAIE,KAAEC,KAAGH,KAAEI,KAAGL,MAAG;AAAA,YAAK;AAAC,mBAAM,EAAE,CAACE,MAAG,CAACC,OAAI,EAAC,GAAEG,GAAEJ,EAAC,EAAE,QAAQ,GAAE,GAAEI,GAAEH,EAAC,EAAE,QAAQ,EAAC;AAAA,UAAC,GAAEG,KAAE,SAASC,GAAEV,IAAEC,IAAEE,IAAE;AAAC,2BAAa,OAAOF,OAAIA,KAAEC,GAAE,KAAIC,KAAED,GAAE;AAAM,qBAAQE,KAAE,IAAI,KAAKJ,GAAE,QAAQ,IAAEC,EAAC,EAAE,QAAQ,GAAEI,KAAEL,GAAE,QAAQ,IAAEC,IAAEK,KAAE,IAAI,KAAKF,EAAC,EAAE,kBAAkB,GAAEG,KAAEH,IAAEK,KAAE,MAAKF,KAAEF,KAAEF,MAAG;AAAC,kBAAIK,KAAE,IAAI,KAAKD,EAAC,GAAEI,KAAEH,GAAE,kBAAkB;AAAE,kBAAGG,OAAIL,IAAE;AAAC,gBAAAG,KAAED;AAAE;AAAA,cAAK;AAAC,cAAAD,MAAGJ;AAAA,YAAC;AAAC,mBAAOF,OAAIC,GAAE,MAAIQ,GAAED,IAAEP,GAAE,MAAKA,GAAE,MAAM,IAAED,OAAIC,GAAE,OAAKQ,GAAED,IAAEP,GAAE,QAAOA,GAAE,MAAM,IAAEO;AAAA,UAAC,GAAED,KAAE,SAASR,IAAEC,IAAEC,IAAEC,IAAE;AAAC,gBAAG,UAAQD,GAAE,QAAOA;AAAE,gBAAG,kBAAgBD,IAAE;AAAC,kBAAG,mBAAiBE,GAAE,QAAM,eAAaH,GAAE,CAAC,EAAE,KAAG,eAAaA,GAAE,CAAC,EAAE,EAAE,QAAO;AAAE,kBAAG,qBAAmBG,GAAE,QAAM,eAAaH,GAAE,CAAC,EAAE,KAAG,eAAaA,GAAE,CAAC,EAAE,EAAE,QAAO;AAAA,YAAC,WAAS,uBAAqBC,IAAE;AAAC,kBAAG,uBAAqBE,GAAE,QAAM,eAAaH,GAAE,CAAC,EAAE,KAAG,cAAYA,GAAE,CAAC,EAAE,EAAE,QAAO;AAAE,kBAAG,2BAAyBG,GAAE,QAAM,eAAaH,GAAE,CAAC,EAAE,KAAG,eAAaA,GAAE,CAAC,EAAE,EAAE,QAAO;AAAA,YAAC,WAAS,yBAAuBC,IAAE;AAAC,kBAAG,wBAAsBE,GAAE,QAAM,eAAaH,GAAE,CAAC,EAAE,KAAG,cAAYA,GAAE,CAAC,EAAE,EAAE,QAAO;AAAA,YAAC,WAAS,uBAAqBC,MAAG,mBAAiBE,GAAE,QAAM,eAAaH,GAAE,CAAC,EAAE,KAAG,eAAaA,GAAE,CAAC,EAAE,EAAE,QAAO;AAAE,mBAAOE;AAAA,UAAC,GAAES,KAAE,SAASX,IAAEG,IAAE;AAAC,qBAAQC,KAAE,SAASH,IAAE;AAAC,uBAAQG,KAAE,GAAEC,KAAE,GAAEA,KAAEL,GAAE,QAAOK,KAAI,KAAGJ,GAAE,MAAMI,EAAC,KAAGL,GAAEK,EAAC,GAAE;AAAC,oBAAG,EAAEL,GAAEK,EAAC,EAAE,KAAGJ,GAAE,MAAMI,EAAC,EAAE,KAAGL,GAAEK,EAAC,EAAE,KAAGJ,GAAE,MAAMI,EAAC,EAAE,IAAG;AAAC,kBAAAD,KAAE;AAAM;AAAA,gBAAK;AAAC,oBAAGA,KAAE,GAAEA,MAAG,KAAK,IAAIJ,GAAEK,EAAC,EAAE,IAAEJ,GAAE,MAAMI,EAAC,EAAE,CAAC,GAAED,MAAG,KAAK,IAAIH,GAAE,MAAMI,EAAC,EAAE,IAAEL,GAAEK,EAAC,EAAE,CAAC,GAAED,KAAEF,GAAE,WAAU;AAAC,kBAAAE,KAAE;AAAM;AAAA,gBAAK;AAAA,cAAC;AAAC,qBAAOA,KAAEI,GAAER,IAAEG,IAAEC,IAAEH,EAAC;AAAA,YAAC,GAAEI,KAAE,CAAC,GAAEC,KAAEL,GAAE,MAAM,UAAU,OAAMM,KAAED,GAAE,QAAOG,KAAEP,GAAE,YAAYC,EAAC,GAAEQ,KAAE,GAAEA,KAAEJ,IAAEI,MAAI;AAAC,kBAAIC,KAAEN,GAAEK,EAAC,GAAEE,KAAET,GAAEE,GAAEK,EAAC,CAAC;AAAE,wBAAQE,OAAIR,GAAEO,GAAE,IAAI,IAAEC;AAAA,YAAE;AAAC,qBAAQH,MAAKL,GAAE,KAAGA,GAAE,eAAeK,EAAC;AAAE,uBAAQI,KAAE,GAAEA,KAAEL,GAAE,QAAOK,KAAI,KAAGL,GAAEK,EAAC,MAAIJ,GAAE,QAAOA;AAAA;AAAE,mBAAOP;AAAA,UAAC,GAAES,KAAE,SAASZ,IAAE;AAAC,gBAAIE,KAAE,WAAU;AAAC,uBAAQF,KAAE,CAAC,GAAEE,KAAE,GAAEA,KAAED,GAAE,MAAM,UAAU,MAAM,QAAOC,MAAI;AAAC,oBAAIC,KAAEI,GAAEN,GAAE,MAAM,UAAU,MAAMC,EAAC,CAAC;AAAE,gBAAAF,GAAE,KAAKG,EAAC;AAAA,cAAC;AAAC,qBAAOH;AAAA,YAAC,GAAEG,KAAE,SAASH,IAAE;AAAC,uBAAQC,KAAE,GAAEA,KAAED,GAAE,QAAOC,KAAI,KAAGD,GAAEC,EAAC,MAAI,MAAG,QAAM;AAAG,qBAAM;AAAA,YAAE,GAAEG,KAAEF,GAAE,GAAEG,KAAEF,GAAEC,EAAC;AAAE,mBAAOC,KAAEM,GAAEP,IAAEJ,EAAC,IAAEA;AAAA,UAAC,GAAEa,KAAE,SAASb,IAAE;AAAC,gBAAIG,KAAE,OAAGI,KAAEF,GAAE;AAAE,oBAAOL,MAAG,eAAa,OAAOA,QAAKG,KAAEG,GAAE,IAAGH,OAAIA,KAAEF,GAAE,MAAM,UAAUM,EAAC,GAAE,eAAa,OAAOL,GAAE,YAAYC,EAAC,MAAIA,KAAES,GAAET,EAAC,KAAI,EAAC,MAAK,WAAU;AAAC,qBAAOA;AAAA,YAAC,GAAE,YAAWH,MAAG,eAAa,OAAOA,IAAE,QAAOO,IAAE,SAAQH,GAAE,EAAC;AAAA,UAAC;AAAE,iBAAM,EAAC,WAAUS,GAAC;AAAA,QAAC,EAAE;AAAE,QAAAZ,GAAE,QAAMA,GAAE,SAAO,CAAC,GAAEA,GAAE,MAAM,YAAU,EAAC,UAAS,cAAa,UAAS,qBAAoB,YAAW,gBAAe,UAAS,gBAAe,UAAS,oBAAmB,UAAS,qBAAoB,UAAS,mBAAkB,UAAS,qBAAoB,UAAS,uBAAsB,UAAS,oBAAmB,UAAS,mBAAkB,UAAS,kBAAiB,UAAS,qBAAoB,UAAS,mBAAkB,YAAW,kBAAiB,UAAS,kBAAiB,UAAS,oBAAmB,UAAS,mBAAkB,UAAS,mBAAkB,UAAS,yBAAwB,YAAW,oBAAmB,UAAS,oBAAmB,UAAS,mBAAkB,UAAS,wBAAuB,YAAW,sBAAqB,UAAS,mBAAkB,UAAS,mBAAkB,SAAQ,mBAAkB,SAAQ,uBAAsB,OAAM,OAAM,OAAM,iBAAgB,aAAY,qBAAoB,QAAO,iBAAgB,QAAO,gBAAe,cAAa,qBAAoB,SAAQ,eAAc,eAAc,gBAAe,SAAQ,uBAAsB,SAAQ,gBAAe,SAAQ,iBAAgB,SAAQ,eAAc,SAAQ,cAAa,SAAQ,aAAY,SAAQ,cAAa,SAAQ,sBAAqB,SAAQ,gBAAe,SAAQ,iBAAgB,SAAQ,iBAAgB,SAAQ,cAAa,SAAQ,aAAY,SAAQ,gBAAe,SAAQ,oBAAmB,SAAQ,gBAAe,SAAQ,iBAAgB,SAAQ,gBAAe,SAAQ,mBAAkB,WAAU,mBAAkB,SAAQ,gBAAe,SAAQ,cAAa,SAAQ,oBAAmB,WAAU,sBAAqB,SAAQ,sBAAqB,SAAQ,oBAAmB,WAAU,oBAAmB,WAAU,uBAAsB,SAAQ,kBAAiB,SAAQ,kBAAiB,SAAQ,mBAAkB,WAAU,oBAAmB,SAAQ,kBAAiB,WAAU,mBAAkB,SAAQ,qBAAoB,WAAU,gBAAe,SAAQ,qBAAoB,GAAEA,GAAE,MAAM,YAAU,EAAC,OAAM,CAAC,MAAK,MAAK,MAAK,MAAK,MAAK,MAAK,IAAI,GAAE,OAAM,CAAC,EAAC,MAAK,gBAAe,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,EAAC,GAAE,YAAW,GAAE,UAAS,CAAC,EAAC,GAAE,EAAC,MAAK,oBAAmB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,wBAAuB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,UAAS,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,qBAAoB,OAAM,CAAC,EAAC,GAAE,aAAY,GAAE,YAAW,GAAE,EAAC,GAAE,aAAY,GAAE,YAAW,GAAE,EAAC,GAAE,aAAY,GAAE,YAAW,GAAE,EAAC,GAAE,YAAW,GAAE,YAAW,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,kBAAiB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,oBAAmB,OAAM,CAAC,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,uBAAsB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,oBAAmB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,wBAAuB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,UAAS,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,SAAQ,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,oBAAmB,OAAM,CAAC,EAAC,GAAE,WAAU,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,UAAS,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,qBAAoB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,cAAa,OAAM,CAAC,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,iBAAgB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,SAAQ,GAAE,EAAC,GAAE,UAAS,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,cAAa,OAAM,CAAC,OAAG,OAAG,OAAG,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,aAAY,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,YAAW,GAAE,EAAC,GAAE,WAAU,GAAE,YAAW,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,gBAAe,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,kBAAiB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,UAAS,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,kBAAiB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,oBAAmB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,aAAY,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,SAAQ,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,oBAAmB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,SAAQ,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,gBAAe,OAAM,CAAC,EAAC,GAAE,WAAU,GAAE,SAAQ,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,sBAAqB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,gBAAe,OAAM,CAAC,EAAC,GAAE,WAAU,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,uBAAsB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,UAAS,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,mBAAkB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,mBAAkB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,gBAAe,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,iBAAgB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,OAAG,OAAG,OAAG,KAAE,EAAC,GAAE,EAAC,MAAK,gBAAe,OAAM,CAAC,OAAG,OAAG,OAAG,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,gBAAe,OAAM,CAAC,OAAG,OAAG,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,UAAS,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,iBAAgB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,UAAS,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,GAAE,EAAC,MAAK,mBAAkB,OAAM,CAAC,EAAC,GAAE,YAAW,GAAE,SAAQ,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,WAAU,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,GAAE,EAAC,GAAE,YAAW,GAAE,WAAU,CAAC,EAAC,CAAC,EAAC,GAAE,eAAa,OAAO,UAAQ,eAAa,OAAO,OAAO,UAAQ,OAAO,UAAQA,KAAE,eAAa,OAAO,UAAQ,SAAO,UAAQ,QAAM,OAAO,MAAI,OAAO,CAAC,GAAE,WAAU;AAAC,iBAAOA;AAAA,QAAC,CAAC,IAAE,eAAa,OAAOD,KAAE,OAAO,OAAKC,KAAED,GAAE,OAAKC;AAAA,MAAC,EAAE;AAAA;AAAA;;;ACDnhY,MAAO;AAAP;AAAA;AAAA,MAAO,mBAAQ;AAAA,QACb,QAAQ,OAAO,YAAY,cAAc,UAAU;AAAA,QACnD,WAAW,OAAO,cAAc,cAAc,YAAY;AAAA,MAC5D;AAAA;AAAA;;;ACHA,MAcO;AAdP;AAAA;AAAA;AAcA,MAAO,iBAAQ;AAAA,QACb,OAAO,UAAU;AACf,cAAI,KAAK,SAAS;AAChB,qBAAS,KAAK,KAAK,IAAI,CAAC;AACxB,6BAAS,OAAO,IAAI,iBAAiB,GAAG,QAAQ;AAAA,UAClD;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;ACrBA,MAKM,KAEA,cAEA,mBAkHC;AA3HP;AAAA;AAAA;AAKA,MAAM,MAAM,OAAM,oBAAI,KAAK,GAAE,QAAQ;AAErC,MAAM,eAAe,WAAS,IAAI,IAAI,QAAQ;AAE9C,MAAM,oBAAN,MAAwB;AAAA,QACtB,YAAY,YAAY;AACtB,eAAK,sBAAsB,KAAK,oBAAoB,KAAK,IAAI;AAC7D,eAAK,aAAa;AAClB,eAAK,oBAAoB;AAAA,QAC3B;AAAA,QAEA,QAAQ;AACN,cAAI,CAAC,KAAK,UAAU,GAAG;AACrB,iBAAK,YAAY,IAAI;AACrB,mBAAO,KAAK;AACZ,iBAAK,aAAa;AAClB,6BAAiB,oBAAoB,KAAK,mBAAmB;AAC7D,2BAAO,IAAI,gDAAgD,KAAK,YAAY,cAAc,IAAI;AAAA,UAChG;AAAA,QACF;AAAA,QAEA,OAAO;AACL,cAAI,KAAK,UAAU,GAAG;AACpB,iBAAK,YAAY,IAAI;AACrB,iBAAK,YAAY;AACjB,gCAAoB,oBAAoB,KAAK,mBAAmB;AAChE,2BAAO,IAAI,2BAA2B;AAAA,UACxC;AAAA,QACF;AAAA,QAEA,YAAY;AACV,iBAAO,KAAK,aAAa,CAAC,KAAK;AAAA,QACjC;AAAA,QAEA,gBAAgB;AACd,eAAK,WAAW,IAAI;AAAA,QACtB;AAAA,QAEA,gBAAgB;AACd,eAAK,oBAAoB;AACzB,iBAAO,KAAK;AACZ,yBAAO,IAAI,oCAAoC;AAAA,QACjD;AAAA,QAEA,mBAAmB;AACjB,eAAK,iBAAiB,IAAI;AAC1B,yBAAO,IAAI,uCAAuC;AAAA,QACpD;AAAA;AAAA,QAIA,eAAe;AACb,eAAK,YAAY;AACjB,eAAK,KAAK;AAAA,QACZ;AAAA,QAEA,cAAc;AACZ,uBAAa,KAAK,WAAW;AAAA,QAC/B;AAAA,QAEA,OAAO;AACL,eAAK,cAAc;AAAA,YAAW,MAAM;AAClC,mBAAK,iBAAiB;AACtB,mBAAK,KAAK;AAAA,YACZ;AAAA,YACE,KAAK,gBAAgB;AAAA,UAAC;AAAA,QAC1B;AAAA,QAEA,kBAAkB;AAChB,gBAAM,EAAE,gBAAgB,wBAAwB,IAAI,KAAK;AACzD,gBAAM,UAAU,KAAK,IAAI,IAAI,yBAAyB,KAAK,IAAI,KAAK,mBAAmB,EAAE,CAAC;AAC1F,gBAAM,YAAY,KAAK,sBAAsB,IAAI,IAAM;AACvD,gBAAM,SAAS,YAAY,KAAK,OAAO;AACvC,iBAAO,iBAAiB,MAAO,WAAW,IAAI;AAAA,QAChD;AAAA,QAEA,mBAAmB;AACjB,cAAI,KAAK,kBAAkB,GAAG;AAC5B,2BAAO,IAAI,oEAAoE,KAAK,iBAAiB,kBAAkB,aAAa,KAAK,WAAW,CAAC,yBAAyB,KAAK,YAAY,cAAc,IAAI;AACjN,iBAAK;AACL,gBAAI,KAAK,qBAAqB,GAAG;AAC/B,6BAAO,IAAI,+EAA+E,aAAa,KAAK,cAAc,CAAC,IAAI;AAAA,YACjI,OAAO;AACL,6BAAO,IAAI,6BAA6B;AACxC,mBAAK,WAAW,OAAO;AAAA,YACzB;AAAA,UACF;AAAA,QACF;AAAA,QAEA,IAAI,cAAc;AAChB,iBAAO,KAAK,WAAW,KAAK,WAAW,KAAK;AAAA,QAC9C;AAAA,QAEA,oBAAoB;AAClB,iBAAO,aAAa,KAAK,WAAW,IAAI,KAAK,YAAY;AAAA,QAC3D;AAAA,QAEA,uBAAuB;AACrB,iBAAO,KAAK,kBAAmB,aAAa,KAAK,cAAc,IAAI,KAAK,YAAY;AAAA,QACtF;AAAA,QAEA,sBAAsB;AACpB,cAAI,SAAS,oBAAoB,WAAW;AAC1C;AAAA,cAAW,MAAM;AACf,oBAAI,KAAK,kBAAkB,KAAK,CAAC,KAAK,WAAW,OAAO,GAAG;AACzD,iCAAO,IAAI,uFAAuF,SAAS,eAAe,EAAE;AAC5H,uBAAK,WAAW,OAAO;AAAA,gBACzB;AAAA,cACF;AAAA,cACE;AAAA,YAAG;AAAA,UACP;AAAA,QACF;AAAA,MAEF;AAEA,wBAAkB,iBAAiB;AACnC,wBAAkB,0BAA0B;AAE5C,MAAO,6BAAQ;AAAA;AAAA;;;AC3Hf,MAAO;AAAP;AAAA;AAAA,MAAO,mBAAQ;AAAA,QACb,iBAAiB;AAAA,UACf,WAAW;AAAA,UACX,cAAc;AAAA,UACd,QAAQ;AAAA,UACR,gBAAgB;AAAA,UAChB,aAAa;AAAA,QACf;AAAA,QACA,sBAAsB;AAAA,UACpB,gBAAgB;AAAA,UAChB,mBAAmB;AAAA,UACnB,kBAAkB;AAAA,UAClB,UAAU;AAAA,QACZ;AAAA,QACA,sBAAsB;AAAA,QACtB,aAAa;AAAA,UACX;AAAA,UACA;AAAA,QACF;AAAA,MACF;AAAA;AAAA;;;ACnBA,MAOO,eAAe,WAChB,oBAEA,SAEA,YAwKC;AApLP;AAAA;AAAA;AACA;AACA;AACA;AAIA,OAAM,EAAC,eAAe,cAAa;AACnC,MAAM,qBAAqB,UAAU,MAAM,GAAG,UAAU,SAAS,CAAC;AAElE,MAAM,UAAU,CAAC,EAAE;AAEnB,MAAM,aAAN,MAAiB;AAAA,QACf,YAAYc,WAAU;AACpB,eAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAC/B,eAAK,WAAWA;AAChB,eAAK,gBAAgB,KAAK,SAAS;AACnC,eAAK,UAAU,IAAI,2BAAkB,IAAI;AACzC,eAAK,eAAe;AAAA,QACtB;AAAA,QAEA,KAAK,MAAM;AACT,cAAI,KAAK,OAAO,GAAG;AACjB,iBAAK,UAAU,KAAK,KAAK,UAAU,IAAI,CAAC;AACxC,mBAAO;AAAA,UACT,OAAO;AACL,mBAAO;AAAA,UACT;AAAA,QACF;AAAA,QAEA,OAAO;AACL,cAAI,KAAK,SAAS,GAAG;AACnB,2BAAO,IAAI,uDAAuD,KAAK,SAAS,CAAC,EAAE;AACnF,mBAAO;AAAA,UACT,OAAO;AACL,kBAAM,kBAAkB,CAAC,GAAG,WAAW,GAAG,KAAK,SAAS,gBAAgB,CAAC,CAAC;AAC1E,2BAAO,IAAI,uCAAuC,KAAK,SAAS,CAAC,mBAAmB,eAAe,EAAE;AACrG,gBAAI,KAAK,WAAW;AAAE,mBAAK,uBAAuB;AAAA,YAAE;AACpD,iBAAK,YAAY,IAAI,iBAAS,UAAU,KAAK,SAAS,KAAK,eAAe;AAC1E,iBAAK,qBAAqB;AAC1B,iBAAK,QAAQ,MAAM;AACnB,mBAAO;AAAA,UACT;AAAA,QACF;AAAA,QAEA,MAAM,EAAC,eAAc,IAAI,EAAC,gBAAgB,KAAI,GAAG;AAC/C,cAAI,CAAC,gBAAgB;AAAE,iBAAK,QAAQ,KAAK;AAAA,UAAE;AAE3C,cAAI,KAAK,OAAO,GAAG;AACjB,mBAAO,KAAK,UAAU,MAAM;AAAA,UAC9B;AAAA,QACF;AAAA,QAEA,SAAS;AACP,yBAAO,IAAI,yCAAyC,KAAK,SAAS,CAAC,EAAE;AACrE,cAAI,KAAK,SAAS,GAAG;AACnB,gBAAI;AACF,qBAAO,KAAK,MAAM;AAAA,YACpB,SAASC,QAAO;AACd,6BAAO,IAAI,8BAA8BA,MAAK;AAAA,YAChD,UACA;AACE,6BAAO,IAAI,0BAA0B,KAAK,YAAY,WAAW,IAAI;AACrE,yBAAW,KAAK,MAAM,KAAK,YAAY,WAAW;AAAA,YACpD;AAAA,UACF,OAAO;AACL,mBAAO,KAAK,KAAK;AAAA,UACnB;AAAA,QACF;AAAA,QAEA,cAAc;AACZ,cAAI,KAAK,WAAW;AAClB,mBAAO,KAAK,UAAU;AAAA,UACxB;AAAA,QACF;AAAA,QAEA,SAAS;AACP,iBAAO,KAAK,QAAQ,MAAM;AAAA,QAC5B;AAAA,QAEA,WAAW;AACT,iBAAO,KAAK,QAAQ,QAAQ,YAAY;AAAA,QAC1C;AAAA,QAEA,mBAAmB;AACjB,iBAAO,KAAK,QAAQ,oBAAoB;AAAA,QAC1C;AAAA;AAAA,QAIA,sBAAsB;AACpB,iBAAO,QAAQ,KAAK,oBAAoB,KAAK,YAAY,CAAC,KAAK;AAAA,QACjE;AAAA,QAEA,WAAW,QAAQ;AACjB,iBAAO,QAAQ,KAAK,QAAQ,KAAK,SAAS,CAAC,KAAK;AAAA,QAClD;AAAA,QAEA,WAAW;AACT,cAAI,KAAK,WAAW;AAClB,qBAAS,SAAS,iBAAS,WAAW;AACpC,kBAAI,iBAAS,UAAU,KAAK,MAAM,KAAK,UAAU,YAAY;AAC3D,uBAAO,MAAM,YAAY;AAAA,cAC3B;AAAA,YACF;AAAA,UACF;AACA,iBAAO;AAAA,QACT;AAAA,QAEA,uBAAuB;AACrB,mBAAS,aAAa,KAAK,QAAQ;AACjC,kBAAM,UAAU,KAAK,OAAO,SAAS,EAAE,KAAK,IAAI;AAChD,iBAAK,UAAU,KAAK,SAAS,EAAE,IAAI;AAAA,UACrC;AAAA,QACF;AAAA,QAEA,yBAAyB;AACvB,mBAAS,aAAa,KAAK,QAAQ;AACjC,iBAAK,UAAU,KAAK,SAAS,EAAE,IAAI,WAAW;AAAA,YAAC;AAAA,UACjD;AAAA,QACF;AAAA,MAEF;AAEA,iBAAW,cAAc;AAEzB,iBAAW,UAAU,SAAS;AAAA,QAC5B,QAAQ,OAAO;AACb,cAAI,CAAC,KAAK,oBAAoB,GAAG;AAAE;AAAA,UAAO;AAC1C,gBAAM,EAAC,YAAY,SAAS,QAAQ,WAAW,KAAI,IAAI,KAAK,MAAM,MAAM,IAAI;AAC5E,eAAK,QAAQ,cAAc;AAC3B,kBAAQ,MAAM;AAAA,YACZ,KAAK,cAAc;AACjB,kBAAI,KAAK,iBAAiB,GAAG;AAC3B,qBAAK,qBAAqB;AAAA,cAC5B;AACA,mBAAK,QAAQ,cAAc;AAC3B,qBAAO,KAAK,cAAc,OAAO;AAAA,YACnC,KAAK,cAAc;AACjB,6BAAO,IAAI,0BAA0B,MAAM,EAAE;AAC7C,qBAAO,KAAK,MAAM,EAAC,gBAAgB,UAAS,CAAC;AAAA,YAC/C,KAAK,cAAc;AACjB,qBAAO;AAAA,YACT,KAAK,cAAc;AACjB,mBAAK,cAAc,oBAAoB,UAAU;AACjD,kBAAI,KAAK,oBAAoB;AAC3B,qBAAK,qBAAqB;AAC1B,uBAAO,KAAK,cAAc,OAAO,YAAY,aAAa,EAAC,aAAa,KAAI,CAAC;AAAA,cAC/E,OAAO;AACL,uBAAO,KAAK,cAAc,OAAO,YAAY,aAAa,EAAC,aAAa,MAAK,CAAC;AAAA,cAChF;AAAA,YACF,KAAK,cAAc;AACjB,qBAAO,KAAK,cAAc,OAAO,UAAU;AAAA,YAC7C;AACE,qBAAO,KAAK,cAAc,OAAO,YAAY,YAAY,OAAO;AAAA,UACpE;AAAA,QACF;AAAA,QAEA,OAAO;AACL,yBAAO,IAAI,kCAAkC,KAAK,YAAY,CAAC,eAAe;AAC9E,eAAK,eAAe;AACpB,cAAI,CAAC,KAAK,oBAAoB,GAAG;AAC/B,2BAAO,IAAI,8DAA8D;AACzE,mBAAO,KAAK,MAAM,EAAC,gBAAgB,MAAK,CAAC;AAAA,UAC3C;AAAA,QACF;AAAA,QAEA,MAAM,OAAO;AACX,yBAAO,IAAI,yBAAyB;AACpC,cAAI,KAAK,cAAc;AAAE;AAAA,UAAO;AAChC,eAAK,eAAe;AACpB,eAAK,QAAQ,iBAAiB;AAC9B,iBAAO,KAAK,cAAc,UAAU,gBAAgB,EAAC,sBAAsB,KAAK,QAAQ,UAAU,EAAC,CAAC;AAAA,QACtG;AAAA,QAEA,QAAQ;AACN,yBAAO,IAAI,yBAAyB;AAAA,QACtC;AAAA,MACF;AAEA,MAAO,qBAAQ;AAAA;AAAA;;;ACpLf,MA0DMC,SAUe;AApErB;AAAA;AA0DA,MAAMA,UAAS,SAAS,QAAQ,YAAY;AAC1C,YAAI,cAAc,MAAM;AACtB,mBAAS,OAAO,YAAY;AAC1B,kBAAM,QAAQ,WAAW,GAAG;AAC5B,mBAAO,GAAG,IAAI;AAAA,UAChB;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAEA,MAAqB,eAArB,MAAkC;AAAA,QAChC,YAAYC,WAAU,SAAS,CAAC,GAAG,OAAO;AACxC,eAAK,WAAWA;AAChB,eAAK,aAAa,KAAK,UAAU,MAAM;AACvC,UAAAD,QAAO,MAAM,KAAK;AAAA,QACpB;AAAA;AAAA,QAGA,QAAQ,QAAQ,OAAO,CAAC,GAAG;AACzB,eAAK,SAAS;AACd,iBAAO,KAAK,KAAK,IAAI;AAAA,QACvB;AAAA,QAEA,KAAK,MAAM;AACT,iBAAO,KAAK,SAAS,KAAK,EAAC,SAAS,WAAW,YAAY,KAAK,YAAY,MAAM,KAAK,UAAU,IAAI,EAAC,CAAC;AAAA,QACzG;AAAA,QAEA,cAAc;AACZ,iBAAO,KAAK,SAAS,cAAc,OAAO,IAAI;AAAA,QAChD;AAAA,MACF;AAAA;AAAA;;;ACxFA,MAKM,uBA4CC;AAjDP;AAAA;AAAA;AAKA,MAAM,wBAAN,MAA4B;AAAA,QAC1B,YAAY,eAAe;AACzB,eAAK,gBAAgB;AACrB,eAAK,uBAAuB,CAAC;AAAA,QAC/B;AAAA,QAEA,UAAU,cAAc;AACtB,cAAG,KAAK,qBAAqB,QAAQ,YAAY,KAAK,IAAG;AACvD,2BAAO,IAAI,sCAAsC,aAAa,UAAU,EAAE;AAC1E,iBAAK,qBAAqB,KAAK,YAAY;AAAA,UAC7C,OACK;AACH,2BAAO,IAAI,8CAA8C,aAAa,UAAU,EAAE;AAAA,UACpF;AACA,eAAK,kBAAkB;AAAA,QACzB;AAAA,QAEA,OAAO,cAAc;AACnB,yBAAO,IAAI,oCAAoC,aAAa,UAAU,EAAE;AACxE,eAAK,uBAAwB,KAAK,qBAAqB,OAAO,CAACE,OAAMA,OAAM,YAAY;AAAA,QACzF;AAAA,QAEA,oBAAoB;AAClB,eAAK,iBAAiB;AACtB,eAAK,iBAAiB;AAAA,QACxB;AAAA,QAEA,mBAAmB;AACjB,uBAAa,KAAK,YAAY;AAAA,QAChC;AAAA,QAEA,mBAAmB;AACjB,eAAK,eAAe;AAAA,YAAW,MAAM;AACnC,kBAAI,KAAK,iBAAiB,OAAO,KAAK,cAAc,cAAe,YAAY;AAC7E,qBAAK,qBAAqB,IAAI,CAAC,iBAAiB;AAC9C,iCAAO,IAAI,uCAAuC,aAAa,UAAU,EAAE;AAC3E,uBAAK,cAAc,UAAU,YAAY;AAAA,gBAC3C,CAAC;AAAA,cACH;AAAA,YACF;AAAA,YACE;AAAA,UAAG;AAAA,QACP;AAAA,MACF;AAEA,MAAO,iCAAQ;AAAA;AAAA;;;ACjDf,MAcqB;AAdrB;AAAA;AAAA;AACA;AACA;AAYA,MAAqB,gBAArB,MAAmC;AAAA,QACjC,YAAYC,WAAU;AACpB,eAAK,WAAWA;AAChB,eAAK,YAAY,IAAI,+BAAsB,IAAI;AAC/C,eAAK,gBAAgB,CAAC;AAAA,QACxB;AAAA,QAEA,OAAO,aAAa,OAAO;AACzB,gBAAM,UAAU;AAChB,gBAAM,SAAS,OAAO,YAAY,WAAW,UAAU,EAAC,QAAO;AAC/D,gBAAM,eAAe,IAAI,aAAa,KAAK,UAAU,QAAQ,KAAK;AAClE,iBAAO,KAAK,IAAI,YAAY;AAAA,QAC9B;AAAA;AAAA,QAIA,IAAI,cAAc;AAChB,eAAK,cAAc,KAAK,YAAY;AACpC,eAAK,SAAS,uBAAuB;AACrC,eAAK,OAAO,cAAc,aAAa;AACvC,eAAK,UAAU,YAAY;AAC3B,iBAAO;AAAA,QACT;AAAA,QAEA,OAAO,cAAc;AACnB,eAAK,OAAO,YAAY;AACxB,cAAI,CAAC,KAAK,QAAQ,aAAa,UAAU,EAAE,QAAQ;AACjD,iBAAK,YAAY,cAAc,aAAa;AAAA,UAC9C;AACA,iBAAO;AAAA,QACT;AAAA,QAEA,OAAO,YAAY;AACjB,iBAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,CAAC,iBAAiB;AACpD,iBAAK,OAAO,YAAY;AACxB,iBAAK,OAAO,cAAc,UAAU;AACpC,mBAAO;AAAA,UACT,CAAC;AAAA,QACH;AAAA,QAEA,OAAO,cAAc;AACnB,eAAK,UAAU,OAAO,YAAY;AAClC,eAAK,gBAAiB,KAAK,cAAc,OAAO,CAACC,OAAMA,OAAM,YAAY;AACzE,iBAAO;AAAA,QACT;AAAA,QAEA,QAAQ,YAAY;AAClB,iBAAO,KAAK,cAAc,OAAO,CAACA,OAAMA,GAAE,eAAe,UAAU;AAAA,QACrE;AAAA,QAEA,SAAS;AACP,iBAAO,KAAK,cAAc,IAAI,CAAC,iBAC7B,KAAK,UAAU,YAAY,CAAC;AAAA,QAChC;AAAA,QAEA,UAAU,iBAAiB,MAAM;AAC/B,iBAAO,KAAK,cAAc,IAAI,CAAC,iBAC7B,KAAK,OAAO,cAAc,cAAc,GAAG,IAAI,CAAC;AAAA,QACpD;AAAA,QAEA,OAAO,cAAc,iBAAiB,MAAM;AAC1C,cAAI;AACJ,cAAI,OAAO,iBAAiB,UAAU;AACpC,4BAAgB,KAAK,QAAQ,YAAY;AAAA,UAC3C,OAAO;AACL,4BAAgB,CAAC,YAAY;AAAA,UAC/B;AAEA,iBAAO,cAAc,IAAI,CAACC,kBACvB,OAAOA,cAAa,YAAY,MAAM,aAAaA,cAAa,YAAY,EAAE,GAAG,IAAI,IAAI,MAAU;AAAA,QACxG;AAAA,QAEA,UAAU,cAAc;AACtB,cAAI,KAAK,YAAY,cAAc,WAAW,GAAG;AAC/C,iBAAK,UAAU,UAAU,YAAY;AAAA,UACvC;AAAA,QACF;AAAA,QAEA,oBAAoB,YAAY;AAC9B,yBAAO,IAAI,0BAA0B,UAAU,EAAE;AACjD,eAAK,QAAQ,UAAU,EAAE,IAAI,CAAC,iBAC5B,KAAK,UAAU,OAAO,YAAY,CAAC;AAAA,QACvC;AAAA,QAEA,YAAY,cAAc,SAAS;AACjC,gBAAM,EAAC,WAAU,IAAI;AACrB,iBAAO,KAAK,SAAS,KAAK,EAAC,SAAS,WAAU,CAAC;AAAA,QACjD;AAAA,MACF;AAAA;AAAA;;;ACtCO,WAAS,mBAAmB,KAAK;AACtC,QAAI,OAAO,QAAQ,YAAY;AAC7B,YAAM,IAAI;AAAA,IACZ;AAEA,QAAI,OAAO,CAAC,UAAU,KAAK,GAAG,GAAG;AAC/B,YAAMC,KAAI,SAAS,cAAc,GAAG;AACpC,MAAAA,GAAE,OAAO;AAET,MAAAA,GAAE,OAAOA,GAAE;AACX,MAAAA,GAAE,WAAWA,GAAE,SAAS,QAAQ,QAAQ,IAAI;AAC5C,aAAOA,GAAE;AAAA,IACX,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AA/EA,MA6BqB;AA7BrB;AAAA;AAAA;AACA;AA4BA,MAAqB,WAArB,MAA8B;AAAA,QAC5B,YAAY,KAAK;AACf,eAAK,OAAO;AACZ,eAAK,gBAAgB,IAAI,cAAc,IAAI;AAC3C,eAAK,aAAa,IAAI,mBAAW,IAAI;AACrC,eAAK,eAAe,CAAC;AAAA,QACvB;AAAA,QAEA,IAAI,MAAM;AACR,iBAAO,mBAAmB,KAAK,IAAI;AAAA,QACrC;AAAA,QAEA,KAAK,MAAM;AACT,iBAAO,KAAK,WAAW,KAAK,IAAI;AAAA,QAClC;AAAA,QAEA,UAAU;AACR,iBAAO,KAAK,WAAW,KAAK;AAAA,QAC9B;AAAA,QAEA,aAAa;AACX,iBAAO,KAAK,WAAW,MAAM,EAAC,gBAAgB,MAAK,CAAC;AAAA,QACtD;AAAA,QAEA,yBAAyB;AACvB,cAAI,CAAC,KAAK,WAAW,SAAS,GAAG;AAC/B,mBAAO,KAAK,WAAW,KAAK;AAAA,UAC9B;AAAA,QACF;AAAA,QAEA,eAAe,aAAa;AAC1B,eAAK,eAAe,CAAC,GAAG,KAAK,cAAc,WAAW;AAAA,QACxD;AAAA,MACF;AAAA;AAAA;;;AC9DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBO,WAAS,eAAe,MAAM,UAAU,KAAK,KAAK,iBAAS,oBAAoB;AACpF,WAAO,IAAI,SAAS,GAAG;AAAA,EACzB;AAEO,WAAS,UAAU,MAAM;AAC9B,UAAM,UAAU,SAAS,KAAK,cAAc,2BAA2B,IAAI,IAAI;AAC/E,QAAI,SAAS;AACX,aAAO,QAAQ,aAAa,SAAS;AAAA,IACvC;AAAA,EACF;AAhCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;ACJA,MAAM,gBAAN,MAAoB;AAAA,IAChB,YAAY,aAAa,WAAW,cAAc;AAC9C,WAAK,cAAc;AACnB,WAAK,YAAY;AACjB,WAAK,eAAe;AACpB,WAAK,oBAAoB,oBAAI,IAAI;AAAA,IACrC;AAAA,IACA,UAAU;AACN,WAAK,YAAY,iBAAiB,KAAK,WAAW,MAAM,KAAK,YAAY;AAAA,IAC7E;AAAA,IACA,aAAa;AACT,WAAK,YAAY,oBAAoB,KAAK,WAAW,MAAM,KAAK,YAAY;AAAA,IAChF;AAAA,IACA,iBAAiB,SAAS;AACtB,WAAK,kBAAkB,IAAI,OAAO;AAAA,IACtC;AAAA,IACA,oBAAoB,SAAS;AACzB,WAAK,kBAAkB,OAAO,OAAO;AAAA,IACzC;AAAA,IACA,YAAY,OAAO;AACf,YAAM,gBAAgB,YAAY,KAAK;AACvC,iBAAW,WAAW,KAAK,UAAU;AACjC,YAAI,cAAc,6BAA6B;AAC3C;AAAA,QACJ,OACK;AACD,kBAAQ,YAAY,aAAa;AAAA,QACrC;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,cAAc;AACV,aAAO,KAAK,kBAAkB,OAAO;AAAA,IACzC;AAAA,IACA,IAAI,WAAW;AACX,aAAO,MAAM,KAAK,KAAK,iBAAiB,EAAE,KAAK,CAACC,OAAMC,WAAU;AAC5D,cAAM,YAAYD,MAAK,OAAO,aAAaC,OAAM;AACjD,eAAO,YAAY,aAAa,KAAK,YAAY,aAAa,IAAI;AAAA,MACtE,CAAC;AAAA,IACL;AAAA,EACJ;AACA,WAAS,YAAY,OAAO;AACxB,QAAI,iCAAiC,OAAO;AACxC,aAAO;AAAA,IACX,OACK;AACD,YAAM,EAAE,yBAAyB,IAAI;AACrC,aAAO,OAAO,OAAO,OAAO;AAAA,QACxB,6BAA6B;AAAA,QAC7B,2BAA2B;AACvB,eAAK,8BAA8B;AACnC,mCAAyB,KAAK,IAAI;AAAA,QACtC;AAAA,MACJ,CAAC;AAAA,IACL;AAAA,EACJ;AAEA,MAAM,aAAN,MAAiB;AAAA,IACb,YAAYC,cAAa;AACrB,WAAK,cAAcA;AACnB,WAAK,oBAAoB,oBAAI,IAAI;AACjC,WAAK,UAAU;AAAA,IACnB;AAAA,IACA,QAAQ;AACJ,UAAI,CAAC,KAAK,SAAS;AACf,aAAK,UAAU;AACf,aAAK,eAAe,QAAQ,CAAC,kBAAkB,cAAc,QAAQ,CAAC;AAAA,MAC1E;AAAA,IACJ;AAAA,IACA,OAAO;AACH,UAAI,KAAK,SAAS;AACd,aAAK,UAAU;AACf,aAAK,eAAe,QAAQ,CAAC,kBAAkB,cAAc,WAAW,CAAC;AAAA,MAC7E;AAAA,IACJ;AAAA,IACA,IAAI,iBAAiB;AACjB,aAAO,MAAM,KAAK,KAAK,kBAAkB,OAAO,CAAC,EAAE,OAAO,CAAC,WAAW,QAAQ,UAAU,OAAO,MAAM,KAAK,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;AAAA,IAChI;AAAA,IACA,iBAAiB,SAAS;AACtB,WAAK,6BAA6B,OAAO,EAAE,iBAAiB,OAAO;AAAA,IACvE;AAAA,IACA,oBAAoB,SAAS,sBAAsB,OAAO;AACtD,WAAK,6BAA6B,OAAO,EAAE,oBAAoB,OAAO;AACtE,UAAI;AACA,aAAK,8BAA8B,OAAO;AAAA,IAClD;AAAA,IACA,YAAYC,QAAO,SAAS,SAAS,CAAC,GAAG;AACrC,WAAK,YAAY,YAAYA,QAAO,SAAS,OAAO,IAAI,MAAM;AAAA,IAClE;AAAA,IACA,8BAA8B,SAAS;AACnC,YAAM,gBAAgB,KAAK,6BAA6B,OAAO;AAC/D,UAAI,CAAC,cAAc,YAAY,GAAG;AAC9B,sBAAc,WAAW;AACzB,aAAK,6BAA6B,OAAO;AAAA,MAC7C;AAAA,IACJ;AAAA,IACA,6BAA6B,SAAS;AAClC,YAAM,EAAE,aAAa,WAAW,aAAa,IAAI;AACjD,YAAM,mBAAmB,KAAK,oCAAoC,WAAW;AAC7E,YAAM,WAAW,KAAK,SAAS,WAAW,YAAY;AACtD,uBAAiB,OAAO,QAAQ;AAChC,UAAI,iBAAiB,QAAQ;AACzB,aAAK,kBAAkB,OAAO,WAAW;AAAA,IACjD;AAAA,IACA,6BAA6B,SAAS;AAClC,YAAM,EAAE,aAAa,WAAW,aAAa,IAAI;AACjD,aAAO,KAAK,mBAAmB,aAAa,WAAW,YAAY;AAAA,IACvE;AAAA,IACA,mBAAmB,aAAa,WAAW,cAAc;AACrD,YAAM,mBAAmB,KAAK,oCAAoC,WAAW;AAC7E,YAAM,WAAW,KAAK,SAAS,WAAW,YAAY;AACtD,UAAI,gBAAgB,iBAAiB,IAAI,QAAQ;AACjD,UAAI,CAAC,eAAe;AAChB,wBAAgB,KAAK,oBAAoB,aAAa,WAAW,YAAY;AAC7E,yBAAiB,IAAI,UAAU,aAAa;AAAA,MAChD;AACA,aAAO;AAAA,IACX;AAAA,IACA,oBAAoB,aAAa,WAAW,cAAc;AACtD,YAAM,gBAAgB,IAAI,cAAc,aAAa,WAAW,YAAY;AAC5E,UAAI,KAAK,SAAS;AACd,sBAAc,QAAQ;AAAA,MAC1B;AACA,aAAO;AAAA,IACX;AAAA,IACA,oCAAoC,aAAa;AAC7C,UAAI,mBAAmB,KAAK,kBAAkB,IAAI,WAAW;AAC7D,UAAI,CAAC,kBAAkB;AACnB,2BAAmB,oBAAI,IAAI;AAC3B,aAAK,kBAAkB,IAAI,aAAa,gBAAgB;AAAA,MAC5D;AACA,aAAO;AAAA,IACX;AAAA,IACA,SAAS,WAAW,cAAc;AAC9B,YAAM,QAAQ,CAAC,SAAS;AACxB,aAAO,KAAK,YAAY,EACnB,KAAK,EACL,QAAQ,CAAC,QAAQ;AAClB,cAAM,KAAK,GAAG,aAAa,GAAG,IAAI,KAAK,GAAG,GAAG,GAAG,EAAE;AAAA,MACtD,CAAC;AACD,aAAO,MAAM,KAAK,GAAG;AAAA,IACzB;AAAA,EACJ;AAEA,MAAM,iCAAiC;AAAA,IACnC,KAAK,EAAE,OAAO,MAAM,GAAG;AACnB,UAAI;AACA,cAAM,gBAAgB;AAC1B,aAAO;AAAA,IACX;AAAA,IACA,QAAQ,EAAE,OAAO,MAAM,GAAG;AACtB,UAAI;AACA,cAAM,eAAe;AACzB,aAAO;AAAA,IACX;AAAA,IACA,KAAK,EAAE,OAAO,OAAO,QAAQ,GAAG;AAC5B,UAAI,OAAO;AACP,eAAO,YAAY,MAAM;AAAA,MAC7B,OACK;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,EACJ;AACA,MAAM,oBAAoB;AAC1B,WAAS,4BAA4B,kBAAkB;AACnD,UAAM,SAAS,iBAAiB,KAAK;AACrC,UAAM,UAAU,OAAO,MAAM,iBAAiB,KAAK,CAAC;AACpD,QAAI,YAAY,QAAQ,CAAC;AACzB,QAAI,YAAY,QAAQ,CAAC;AACzB,QAAI,aAAa,CAAC,CAAC,WAAW,SAAS,UAAU,EAAE,SAAS,SAAS,GAAG;AACpE,mBAAa,IAAI,SAAS;AAC1B,kBAAY;AAAA,IAChB;AACA,WAAO;AAAA,MACH,aAAa,iBAAiB,QAAQ,CAAC,CAAC;AAAA,MACxC;AAAA,MACA,cAAc,QAAQ,CAAC,IAAI,kBAAkB,QAAQ,CAAC,CAAC,IAAI,CAAC;AAAA,MAC5D,YAAY,QAAQ,CAAC;AAAA,MACrB,YAAY,QAAQ,CAAC;AAAA,MACrB,WAAW,QAAQ,CAAC,KAAK;AAAA,IAC7B;AAAA,EACJ;AACA,WAAS,iBAAiB,iBAAiB;AACvC,QAAI,mBAAmB,UAAU;AAC7B,aAAO;AAAA,IACX,WACS,mBAAmB,YAAY;AACpC,aAAO;AAAA,IACX;AAAA,EACJ;AACA,WAAS,kBAAkB,cAAc;AACrC,WAAO,aACF,MAAM,GAAG,EACT,OAAO,CAAC,SAAS,UAAU,OAAO,OAAO,SAAS,EAAE,CAAC,MAAM,QAAQ,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK,KAAK,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;AAAA,EAChH;AACA,WAAS,qBAAqB,aAAa;AACvC,QAAI,eAAe,QAAQ;AACvB,aAAO;AAAA,IACX,WACS,eAAe,UAAU;AAC9B,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,WAAS,SAAS,OAAO;AACrB,WAAO,MAAM,QAAQ,uBAAuB,CAACC,IAAG,SAAS,KAAK,YAAY,CAAC;AAAA,EAC/E;AACA,WAAS,kBAAkB,OAAO;AAC9B,WAAO,SAAS,MAAM,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG,CAAC;AAAA,EACjE;AACA,WAAS,WAAW,OAAO;AACvB,WAAO,MAAM,OAAO,CAAC,EAAE,YAAY,IAAI,MAAM,MAAM,CAAC;AAAA,EACxD;AACA,WAAS,UAAU,OAAO;AACtB,WAAO,MAAM,QAAQ,YAAY,CAACA,IAAG,SAAS,IAAI,KAAK,YAAY,CAAC,EAAE;AAAA,EAC1E;AACA,WAAS,SAAS,OAAO;AACrB,WAAO,MAAM,MAAM,SAAS,KAAK,CAAC;AAAA,EACtC;AAEA,WAAS,YAAY,QAAQ;AACzB,WAAO,WAAW,QAAQ,WAAW;AAAA,EACzC;AACA,WAAS,YAAY,QAAQ,UAAU;AACnC,WAAO,OAAO,UAAU,eAAe,KAAK,QAAQ,QAAQ;AAAA,EAChE;AAEA,MAAM,eAAe,CAAC,QAAQ,QAAQ,OAAO,OAAO;AACpD,MAAM,SAAN,MAAa;AAAA,IACT,YAAY,SAAS,OAAO,YAAY,QAAQ;AAC5C,WAAK,UAAU;AACf,WAAK,QAAQ;AACb,WAAK,cAAc,WAAW,eAAe;AAC7C,WAAK,YAAY,WAAW,aAAa,8BAA8B,OAAO,KAAK,MAAM,oBAAoB;AAC7G,WAAK,eAAe,WAAW,gBAAgB,CAAC;AAChD,WAAK,aAAa,WAAW,cAAc,MAAM,oBAAoB;AACrE,WAAK,aAAa,WAAW,cAAc,MAAM,qBAAqB;AACtE,WAAK,YAAY,WAAW,aAAa;AACzC,WAAK,SAAS;AAAA,IAClB;AAAA,IACA,OAAO,SAAS,OAAO,QAAQ;AAC3B,aAAO,IAAI,KAAK,MAAM,SAAS,MAAM,OAAO,4BAA4B,MAAM,OAAO,GAAG,MAAM;AAAA,IAClG;AAAA,IACA,WAAW;AACP,YAAM,cAAc,KAAK,YAAY,IAAI,KAAK,SAAS,KAAK;AAC5D,YAAM,cAAc,KAAK,kBAAkB,IAAI,KAAK,eAAe,KAAK;AACxE,aAAO,GAAG,KAAK,SAAS,GAAG,WAAW,GAAG,WAAW,KAAK,KAAK,UAAU,IAAI,KAAK,UAAU;AAAA,IAC/F;AAAA,IACA,0BAA0B,OAAO;AAC7B,UAAI,CAAC,KAAK,WAAW;AACjB,eAAO;AAAA,MACX;AACA,YAAM,UAAU,KAAK,UAAU,MAAM,GAAG;AACxC,UAAI,KAAK,sBAAsB,OAAO,OAAO,GAAG;AAC5C,eAAO;AAAA,MACX;AACA,YAAM,iBAAiB,QAAQ,OAAO,CAAC,QAAQ,CAAC,aAAa,SAAS,GAAG,CAAC,EAAE,CAAC;AAC7E,UAAI,CAAC,gBAAgB;AACjB,eAAO;AAAA,MACX;AACA,UAAI,CAAC,YAAY,KAAK,aAAa,cAAc,GAAG;AAChD,cAAM,gCAAgC,KAAK,SAAS,EAAE;AAAA,MAC1D;AACA,aAAO,KAAK,YAAY,cAAc,EAAE,YAAY,MAAM,MAAM,IAAI,YAAY;AAAA,IACpF;AAAA,IACA,uBAAuB,OAAO;AAC1B,UAAI,CAAC,KAAK,WAAW;AACjB,eAAO;AAAA,MACX;AACA,YAAM,UAAU,CAAC,KAAK,SAAS;AAC/B,UAAI,KAAK,sBAAsB,OAAO,OAAO,GAAG;AAC5C,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AAAA,IACA,IAAI,SAAS;AACT,YAAM,SAAS,CAAC;AAChB,YAAM,UAAU,IAAI,OAAO,SAAS,KAAK,UAAU,gBAAgB,GAAG;AACtE,iBAAW,EAAE,MAAM,MAAM,KAAK,MAAM,KAAK,KAAK,QAAQ,UAAU,GAAG;AAC/D,cAAMC,SAAQ,KAAK,MAAM,OAAO;AAChC,cAAM,MAAMA,UAASA,OAAM,CAAC;AAC5B,YAAI,KAAK;AACL,iBAAO,SAAS,GAAG,CAAC,IAAI,SAAS,KAAK;AAAA,QAC1C;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,IACA,IAAI,kBAAkB;AAClB,aAAO,qBAAqB,KAAK,WAAW;AAAA,IAChD;AAAA,IACA,IAAI,cAAc;AACd,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,sBAAsB,OAAO,SAAS;AAClC,YAAM,CAAC,MAAM,MAAM,KAAK,KAAK,IAAI,aAAa,IAAI,CAAC,aAAa,QAAQ,SAAS,QAAQ,CAAC;AAC1F,aAAO,MAAM,YAAY,QAAQ,MAAM,YAAY,QAAQ,MAAM,WAAW,OAAO,MAAM,aAAa;AAAA,IAC1G;AAAA,EACJ;AACA,MAAM,oBAAoB;AAAA,IACtB,GAAG,MAAM;AAAA,IACT,QAAQ,MAAM;AAAA,IACd,MAAM,MAAM;AAAA,IACZ,SAAS,MAAM;AAAA,IACf,OAAO,CAACC,OAAOA,GAAE,aAAa,MAAM,KAAK,WAAW,UAAU;AAAA,IAC9D,QAAQ,MAAM;AAAA,IACd,UAAU,MAAM;AAAA,EACpB;AACA,WAAS,8BAA8B,SAAS;AAC5C,UAAM,UAAU,QAAQ,QAAQ,YAAY;AAC5C,QAAI,WAAW,mBAAmB;AAC9B,aAAO,kBAAkB,OAAO,EAAE,OAAO;AAAA,IAC7C;AAAA,EACJ;AACA,WAAS,MAAM,SAAS;AACpB,UAAM,IAAI,MAAM,OAAO;AAAA,EAC3B;AACA,WAAS,SAAS,OAAO;AACrB,QAAI;AACA,aAAO,KAAK,MAAM,KAAK;AAAA,IAC3B,SACO,KAAK;AACR,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,MAAM,UAAN,MAAc;AAAA,IACV,YAAY,SAAS,QAAQ;AACzB,WAAK,UAAU;AACf,WAAK,SAAS;AAAA,IAClB;AAAA,IACA,IAAI,QAAQ;AACR,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,cAAc;AACd,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,eAAe;AACf,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,YAAY,OAAO;AACf,YAAM,cAAc,KAAK,mBAAmB,KAAK;AACjD,UAAI,KAAK,qBAAqB,KAAK,KAAK,KAAK,oBAAoB,WAAW,GAAG;AAC3E,aAAK,gBAAgB,WAAW;AAAA,MACpC;AAAA,IACJ;AAAA,IACA,IAAI,YAAY;AACZ,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,SAAS;AACT,YAAM,SAAS,KAAK,WAAW,KAAK,UAAU;AAC9C,UAAI,OAAO,UAAU,YAAY;AAC7B,eAAO;AAAA,MACX;AACA,YAAM,IAAI,MAAM,WAAW,KAAK,MAAM,kCAAkC,KAAK,UAAU,GAAG;AAAA,IAC9F;AAAA,IACA,oBAAoB,OAAO;AACvB,YAAM,EAAE,QAAQ,IAAI,KAAK;AACzB,YAAM,EAAE,wBAAwB,IAAI,KAAK,QAAQ;AACjD,YAAM,EAAE,WAAW,IAAI,KAAK;AAC5B,UAAI,SAAS;AACb,iBAAW,CAAC,MAAM,KAAK,KAAK,OAAO,QAAQ,KAAK,YAAY,GAAG;AAC3D,YAAI,QAAQ,yBAAyB;AACjC,gBAAM,SAAS,wBAAwB,IAAI;AAC3C,mBAAS,UAAU,OAAO,EAAE,MAAM,OAAO,OAAO,SAAS,WAAW,CAAC;AAAA,QACzE,OACK;AACD;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,IACA,mBAAmB,OAAO;AACtB,aAAO,OAAO,OAAO,OAAO,EAAE,QAAQ,KAAK,OAAO,OAAO,CAAC;AAAA,IAC9D;AAAA,IACA,gBAAgB,OAAO;AACnB,YAAM,EAAE,QAAQ,cAAc,IAAI;AAClC,UAAI;AACA,aAAK,OAAO,KAAK,KAAK,YAAY,KAAK;AACvC,aAAK,QAAQ,iBAAiB,KAAK,YAAY,EAAE,OAAO,QAAQ,eAAe,QAAQ,KAAK,WAAW,CAAC;AAAA,MAC5G,SACOH,QAAO;AACV,cAAM,EAAE,YAAY,YAAY,SAAS,MAAM,IAAI;AACnD,cAAM,SAAS,EAAE,YAAY,YAAY,SAAS,OAAO,MAAM;AAC/D,aAAK,QAAQ,YAAYA,QAAO,oBAAoB,KAAK,MAAM,KAAK,MAAM;AAAA,MAC9E;AAAA,IACJ;AAAA,IACA,qBAAqB,OAAO;AACxB,YAAM,cAAc,MAAM;AAC1B,UAAI,iBAAiB,iBAAiB,KAAK,OAAO,0BAA0B,KAAK,GAAG;AAChF,eAAO;AAAA,MACX;AACA,UAAI,iBAAiB,cAAc,KAAK,OAAO,uBAAuB,KAAK,GAAG;AAC1E,eAAO;AAAA,MACX;AACA,UAAI,KAAK,YAAY,aAAa;AAC9B,eAAO;AAAA,MACX,WACS,uBAAuB,WAAW,KAAK,QAAQ,SAAS,WAAW,GAAG;AAC3E,eAAO,KAAK,MAAM,gBAAgB,WAAW;AAAA,MACjD,OACK;AACD,eAAO,KAAK,MAAM,gBAAgB,KAAK,OAAO,OAAO;AAAA,MACzD;AAAA,IACJ;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,QAAQ;AACR,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,EACJ;AAEA,MAAM,kBAAN,MAAsB;AAAA,IAClB,YAAY,SAAS,UAAU;AAC3B,WAAK,uBAAuB,EAAE,YAAY,MAAM,WAAW,MAAM,SAAS,KAAK;AAC/E,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,WAAW,oBAAI,IAAI;AACxB,WAAK,mBAAmB,IAAI,iBAAiB,CAAC,cAAc,KAAK,iBAAiB,SAAS,CAAC;AAAA,IAChG;AAAA,IACA,QAAQ;AACJ,UAAI,CAAC,KAAK,SAAS;AACf,aAAK,UAAU;AACf,aAAK,iBAAiB,QAAQ,KAAK,SAAS,KAAK,oBAAoB;AACrE,aAAK,QAAQ;AAAA,MACjB;AAAA,IACJ;AAAA,IACA,MAAM,UAAU;AACZ,UAAI,KAAK,SAAS;AACd,aAAK,iBAAiB,WAAW;AACjC,aAAK,UAAU;AAAA,MACnB;AACA,eAAS;AACT,UAAI,CAAC,KAAK,SAAS;AACf,aAAK,iBAAiB,QAAQ,KAAK,SAAS,KAAK,oBAAoB;AACrE,aAAK,UAAU;AAAA,MACnB;AAAA,IACJ;AAAA,IACA,OAAO;AACH,UAAI,KAAK,SAAS;AACd,aAAK,iBAAiB,YAAY;AAClC,aAAK,iBAAiB,WAAW;AACjC,aAAK,UAAU;AAAA,MACnB;AAAA,IACJ;AAAA,IACA,UAAU;AACN,UAAI,KAAK,SAAS;AACd,cAAM,UAAU,IAAI,IAAI,KAAK,oBAAoB,CAAC;AAClD,mBAAW,WAAW,MAAM,KAAK,KAAK,QAAQ,GAAG;AAC7C,cAAI,CAAC,QAAQ,IAAI,OAAO,GAAG;AACvB,iBAAK,cAAc,OAAO;AAAA,UAC9B;AAAA,QACJ;AACA,mBAAW,WAAW,MAAM,KAAK,OAAO,GAAG;AACvC,eAAK,WAAW,OAAO;AAAA,QAC3B;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,iBAAiB,WAAW;AACxB,UAAI,KAAK,SAAS;AACd,mBAAW,YAAY,WAAW;AAC9B,eAAK,gBAAgB,QAAQ;AAAA,QACjC;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,gBAAgB,UAAU;AACtB,UAAI,SAAS,QAAQ,cAAc;AAC/B,aAAK,uBAAuB,SAAS,QAAQ,SAAS,aAAa;AAAA,MACvE,WACS,SAAS,QAAQ,aAAa;AACnC,aAAK,oBAAoB,SAAS,YAAY;AAC9C,aAAK,kBAAkB,SAAS,UAAU;AAAA,MAC9C;AAAA,IACJ;AAAA,IACA,uBAAuB,SAAS,eAAe;AAC3C,UAAI,KAAK,SAAS,IAAI,OAAO,GAAG;AAC5B,YAAI,KAAK,SAAS,2BAA2B,KAAK,aAAa,OAAO,GAAG;AACrE,eAAK,SAAS,wBAAwB,SAAS,aAAa;AAAA,QAChE,OACK;AACD,eAAK,cAAc,OAAO;AAAA,QAC9B;AAAA,MACJ,WACS,KAAK,aAAa,OAAO,GAAG;AACjC,aAAK,WAAW,OAAO;AAAA,MAC3B;AAAA,IACJ;AAAA,IACA,oBAAoB,OAAO;AACvB,iBAAW,QAAQ,MAAM,KAAK,KAAK,GAAG;AAClC,cAAM,UAAU,KAAK,gBAAgB,IAAI;AACzC,YAAI,SAAS;AACT,eAAK,YAAY,SAAS,KAAK,aAAa;AAAA,QAChD;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,kBAAkB,OAAO;AACrB,iBAAW,QAAQ,MAAM,KAAK,KAAK,GAAG;AAClC,cAAM,UAAU,KAAK,gBAAgB,IAAI;AACzC,YAAI,WAAW,KAAK,gBAAgB,OAAO,GAAG;AAC1C,eAAK,YAAY,SAAS,KAAK,UAAU;AAAA,QAC7C;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,aAAa,SAAS;AAClB,aAAO,KAAK,SAAS,aAAa,OAAO;AAAA,IAC7C;AAAA,IACA,oBAAoB,OAAO,KAAK,SAAS;AACrC,aAAO,KAAK,SAAS,oBAAoB,IAAI;AAAA,IACjD;AAAA,IACA,YAAY,MAAM,WAAW;AACzB,iBAAW,WAAW,KAAK,oBAAoB,IAAI,GAAG;AAClD,kBAAU,KAAK,MAAM,OAAO;AAAA,MAChC;AAAA,IACJ;AAAA,IACA,gBAAgB,MAAM;AAClB,UAAI,KAAK,YAAY,KAAK,cAAc;AACpC,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,gBAAgB,SAAS;AACrB,UAAI,QAAQ,eAAe,KAAK,QAAQ,aAAa;AACjD,eAAO;AAAA,MACX,OACK;AACD,eAAO,KAAK,QAAQ,SAAS,OAAO;AAAA,MACxC;AAAA,IACJ;AAAA,IACA,WAAW,SAAS;AAChB,UAAI,CAAC,KAAK,SAAS,IAAI,OAAO,GAAG;AAC7B,YAAI,KAAK,gBAAgB,OAAO,GAAG;AAC/B,eAAK,SAAS,IAAI,OAAO;AACzB,cAAI,KAAK,SAAS,gBAAgB;AAC9B,iBAAK,SAAS,eAAe,OAAO;AAAA,UACxC;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,cAAc,SAAS;AACnB,UAAI,KAAK,SAAS,IAAI,OAAO,GAAG;AAC5B,aAAK,SAAS,OAAO,OAAO;AAC5B,YAAI,KAAK,SAAS,kBAAkB;AAChC,eAAK,SAAS,iBAAiB,OAAO;AAAA,QAC1C;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAEA,MAAM,oBAAN,MAAwB;AAAA,IACpB,YAAY,SAAS,eAAe,UAAU;AAC1C,WAAK,gBAAgB;AACrB,WAAK,WAAW;AAChB,WAAK,kBAAkB,IAAI,gBAAgB,SAAS,IAAI;AAAA,IAC5D;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,gBAAgB;AAAA,IAChC;AAAA,IACA,IAAI,WAAW;AACX,aAAO,IAAI,KAAK,aAAa;AAAA,IACjC;AAAA,IACA,QAAQ;AACJ,WAAK,gBAAgB,MAAM;AAAA,IAC/B;AAAA,IACA,MAAM,UAAU;AACZ,WAAK,gBAAgB,MAAM,QAAQ;AAAA,IACvC;AAAA,IACA,OAAO;AACH,WAAK,gBAAgB,KAAK;AAAA,IAC9B;AAAA,IACA,UAAU;AACN,WAAK,gBAAgB,QAAQ;AAAA,IACjC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,gBAAgB;AAAA,IAChC;AAAA,IACA,aAAa,SAAS;AAClB,aAAO,QAAQ,aAAa,KAAK,aAAa;AAAA,IAClD;AAAA,IACA,oBAAoB,MAAM;AACtB,YAAME,SAAQ,KAAK,aAAa,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC;AAClD,YAAM,UAAU,MAAM,KAAK,KAAK,iBAAiB,KAAK,QAAQ,CAAC;AAC/D,aAAOA,OAAM,OAAO,OAAO;AAAA,IAC/B;AAAA,IACA,eAAe,SAAS;AACpB,UAAI,KAAK,SAAS,yBAAyB;AACvC,aAAK,SAAS,wBAAwB,SAAS,KAAK,aAAa;AAAA,MACrE;AAAA,IACJ;AAAA,IACA,iBAAiB,SAAS;AACtB,UAAI,KAAK,SAAS,2BAA2B;AACzC,aAAK,SAAS,0BAA0B,SAAS,KAAK,aAAa;AAAA,MACvE;AAAA,IACJ;AAAA,IACA,wBAAwB,SAAS,eAAe;AAC5C,UAAI,KAAK,SAAS,gCAAgC,KAAK,iBAAiB,eAAe;AACnF,aAAK,SAAS,6BAA6B,SAAS,aAAa;AAAA,MACrE;AAAA,IACJ;AAAA,EACJ;AAEA,WAAS,IAAI,KAAK,KAAK,OAAO;AAC1B,IAAAE,OAAM,KAAK,GAAG,EAAE,IAAI,KAAK;AAAA,EAC7B;AACA,WAAS,IAAI,KAAK,KAAK,OAAO;AAC1B,IAAAA,OAAM,KAAK,GAAG,EAAE,OAAO,KAAK;AAC5B,UAAM,KAAK,GAAG;AAAA,EAClB;AACA,WAASA,OAAM,KAAK,KAAK;AACrB,QAAI,SAAS,IAAI,IAAI,GAAG;AACxB,QAAI,CAAC,QAAQ;AACT,eAAS,oBAAI,IAAI;AACjB,UAAI,IAAI,KAAK,MAAM;AAAA,IACvB;AACA,WAAO;AAAA,EACX;AACA,WAAS,MAAM,KAAK,KAAK;AACrB,UAAM,SAAS,IAAI,IAAI,GAAG;AAC1B,QAAI,UAAU,QAAQ,OAAO,QAAQ,GAAG;AACpC,UAAI,OAAO,GAAG;AAAA,IAClB;AAAA,EACJ;AAEA,MAAM,WAAN,MAAe;AAAA,IACX,cAAc;AACV,WAAK,cAAc,oBAAI,IAAI;AAAA,IAC/B;AAAA,IACA,IAAI,OAAO;AACP,aAAO,MAAM,KAAK,KAAK,YAAY,KAAK,CAAC;AAAA,IAC7C;AAAA,IACA,IAAI,SAAS;AACT,YAAM,OAAO,MAAM,KAAK,KAAK,YAAY,OAAO,CAAC;AACjD,aAAO,KAAK,OAAO,CAAC,QAAQ,QAAQ,OAAO,OAAO,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;AAAA,IAC1E;AAAA,IACA,IAAI,OAAO;AACP,YAAM,OAAO,MAAM,KAAK,KAAK,YAAY,OAAO,CAAC;AACjD,aAAO,KAAK,OAAO,CAAC,MAAM,QAAQ,OAAO,IAAI,MAAM,CAAC;AAAA,IACxD;AAAA,IACA,IAAI,KAAK,OAAO;AACZ,UAAI,KAAK,aAAa,KAAK,KAAK;AAAA,IACpC;AAAA,IACA,OAAO,KAAK,OAAO;AACf,UAAI,KAAK,aAAa,KAAK,KAAK;AAAA,IACpC;AAAA,IACA,IAAI,KAAK,OAAO;AACZ,YAAM,SAAS,KAAK,YAAY,IAAI,GAAG;AACvC,aAAO,UAAU,QAAQ,OAAO,IAAI,KAAK;AAAA,IAC7C;AAAA,IACA,OAAO,KAAK;AACR,aAAO,KAAK,YAAY,IAAI,GAAG;AAAA,IACnC;AAAA,IACA,SAAS,OAAO;AACZ,YAAM,OAAO,MAAM,KAAK,KAAK,YAAY,OAAO,CAAC;AACjD,aAAO,KAAK,KAAK,CAAC,QAAQ,IAAI,IAAI,KAAK,CAAC;AAAA,IAC5C;AAAA,IACA,gBAAgB,KAAK;AACjB,YAAM,SAAS,KAAK,YAAY,IAAI,GAAG;AACvC,aAAO,SAAS,MAAM,KAAK,MAAM,IAAI,CAAC;AAAA,IAC1C;AAAA,IACA,gBAAgB,OAAO;AACnB,aAAO,MAAM,KAAK,KAAK,WAAW,EAC7B,OAAO,CAAC,CAAC,MAAM,MAAM,MAAM,OAAO,IAAI,KAAK,CAAC,EAC5C,IAAI,CAAC,CAAC,KAAK,OAAO,MAAM,GAAG;AAAA,IACpC;AAAA,EACJ;AA2BA,MAAM,mBAAN,MAAuB;AAAA,IACnB,YAAY,SAAS,UAAU,UAAU,SAAS;AAC9C,WAAK,YAAY;AACjB,WAAK,UAAU;AACf,WAAK,kBAAkB,IAAI,gBAAgB,SAAS,IAAI;AACxD,WAAK,WAAW;AAChB,WAAK,mBAAmB,IAAI,SAAS;AAAA,IACzC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,gBAAgB;AAAA,IAChC;AAAA,IACA,IAAI,WAAW;AACX,aAAO,KAAK;AAAA,IAChB;AAAA,IACA,IAAI,SAAS,UAAU;AACnB,WAAK,YAAY;AACjB,WAAK,QAAQ;AAAA,IACjB;AAAA,IACA,QAAQ;AACJ,WAAK,gBAAgB,MAAM;AAAA,IAC/B;AAAA,IACA,MAAM,UAAU;AACZ,WAAK,gBAAgB,MAAM,QAAQ;AAAA,IACvC;AAAA,IACA,OAAO;AACH,WAAK,gBAAgB,KAAK;AAAA,IAC9B;AAAA,IACA,UAAU;AACN,WAAK,gBAAgB,QAAQ;AAAA,IACjC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,gBAAgB;AAAA,IAChC;AAAA,IACA,aAAa,SAAS;AAClB,YAAM,EAAE,SAAS,IAAI;AACrB,UAAI,UAAU;AACV,cAAM,UAAU,QAAQ,QAAQ,QAAQ;AACxC,YAAI,KAAK,SAAS,sBAAsB;AACpC,iBAAO,WAAW,KAAK,SAAS,qBAAqB,SAAS,KAAK,OAAO;AAAA,QAC9E;AACA,eAAO;AAAA,MACX,OACK;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,oBAAoB,MAAM;AACtB,YAAM,EAAE,SAAS,IAAI;AACrB,UAAI,UAAU;AACV,cAAMC,SAAQ,KAAK,aAAa,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC;AAClD,cAAM,UAAU,MAAM,KAAK,KAAK,iBAAiB,QAAQ,CAAC,EAAE,OAAO,CAACA,WAAU,KAAK,aAAaA,MAAK,CAAC;AACtG,eAAOA,OAAM,OAAO,OAAO;AAAA,MAC/B,OACK;AACD,eAAO,CAAC;AAAA,MACZ;AAAA,IACJ;AAAA,IACA,eAAe,SAAS;AACpB,YAAM,EAAE,SAAS,IAAI;AACrB,UAAI,UAAU;AACV,aAAK,gBAAgB,SAAS,QAAQ;AAAA,MAC1C;AAAA,IACJ;AAAA,IACA,iBAAiB,SAAS;AACtB,YAAM,YAAY,KAAK,iBAAiB,gBAAgB,OAAO;AAC/D,iBAAW,YAAY,WAAW;AAC9B,aAAK,kBAAkB,SAAS,QAAQ;AAAA,MAC5C;AAAA,IACJ;AAAA,IACA,wBAAwB,SAAS,gBAAgB;AAC7C,YAAM,EAAE,SAAS,IAAI;AACrB,UAAI,UAAU;AACV,cAAM,UAAU,KAAK,aAAa,OAAO;AACzC,cAAM,gBAAgB,KAAK,iBAAiB,IAAI,UAAU,OAAO;AACjE,YAAI,WAAW,CAAC,eAAe;AAC3B,eAAK,gBAAgB,SAAS,QAAQ;AAAA,QAC1C,WACS,CAAC,WAAW,eAAe;AAChC,eAAK,kBAAkB,SAAS,QAAQ;AAAA,QAC5C;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,gBAAgB,SAAS,UAAU;AAC/B,WAAK,SAAS,gBAAgB,SAAS,UAAU,KAAK,OAAO;AAC7D,WAAK,iBAAiB,IAAI,UAAU,OAAO;AAAA,IAC/C;AAAA,IACA,kBAAkB,SAAS,UAAU;AACjC,WAAK,SAAS,kBAAkB,SAAS,UAAU,KAAK,OAAO;AAC/D,WAAK,iBAAiB,OAAO,UAAU,OAAO;AAAA,IAClD;AAAA,EACJ;AAEA,MAAM,oBAAN,MAAwB;AAAA,IACpB,YAAY,SAAS,UAAU;AAC3B,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,UAAU;AACf,WAAK,YAAY,oBAAI,IAAI;AACzB,WAAK,mBAAmB,IAAI,iBAAiB,CAAC,cAAc,KAAK,iBAAiB,SAAS,CAAC;AAAA,IAChG;AAAA,IACA,QAAQ;AACJ,UAAI,CAAC,KAAK,SAAS;AACf,aAAK,UAAU;AACf,aAAK,iBAAiB,QAAQ,KAAK,SAAS,EAAE,YAAY,MAAM,mBAAmB,KAAK,CAAC;AACzF,aAAK,QAAQ;AAAA,MACjB;AAAA,IACJ;AAAA,IACA,OAAO;AACH,UAAI,KAAK,SAAS;AACd,aAAK,iBAAiB,YAAY;AAClC,aAAK,iBAAiB,WAAW;AACjC,aAAK,UAAU;AAAA,MACnB;AAAA,IACJ;AAAA,IACA,UAAU;AACN,UAAI,KAAK,SAAS;AACd,mBAAW,iBAAiB,KAAK,qBAAqB;AAClD,eAAK,iBAAiB,eAAe,IAAI;AAAA,QAC7C;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,iBAAiB,WAAW;AACxB,UAAI,KAAK,SAAS;AACd,mBAAW,YAAY,WAAW;AAC9B,eAAK,gBAAgB,QAAQ;AAAA,QACjC;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,gBAAgB,UAAU;AACtB,YAAM,gBAAgB,SAAS;AAC/B,UAAI,eAAe;AACf,aAAK,iBAAiB,eAAe,SAAS,QAAQ;AAAA,MAC1D;AAAA,IACJ;AAAA,IACA,iBAAiB,eAAe,UAAU;AACtC,YAAM,MAAM,KAAK,SAAS,4BAA4B,aAAa;AACnE,UAAI,OAAO,MAAM;AACb,YAAI,CAAC,KAAK,UAAU,IAAI,aAAa,GAAG;AACpC,eAAK,kBAAkB,KAAK,aAAa;AAAA,QAC7C;AACA,cAAM,QAAQ,KAAK,QAAQ,aAAa,aAAa;AACrD,YAAI,KAAK,UAAU,IAAI,aAAa,KAAK,OAAO;AAC5C,eAAK,sBAAsB,OAAO,KAAK,QAAQ;AAAA,QACnD;AACA,YAAI,SAAS,MAAM;AACf,gBAAMC,YAAW,KAAK,UAAU,IAAI,aAAa;AACjD,eAAK,UAAU,OAAO,aAAa;AACnC,cAAIA;AACA,iBAAK,oBAAoB,KAAK,eAAeA,SAAQ;AAAA,QAC7D,OACK;AACD,eAAK,UAAU,IAAI,eAAe,KAAK;AAAA,QAC3C;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,kBAAkB,KAAK,eAAe;AAClC,UAAI,KAAK,SAAS,mBAAmB;AACjC,aAAK,SAAS,kBAAkB,KAAK,aAAa;AAAA,MACtD;AAAA,IACJ;AAAA,IACA,sBAAsB,OAAO,KAAK,UAAU;AACxC,UAAI,KAAK,SAAS,uBAAuB;AACrC,aAAK,SAAS,sBAAsB,OAAO,KAAK,QAAQ;AAAA,MAC5D;AAAA,IACJ;AAAA,IACA,oBAAoB,KAAK,eAAe,UAAU;AAC9C,UAAI,KAAK,SAAS,qBAAqB;AACnC,aAAK,SAAS,oBAAoB,KAAK,eAAe,QAAQ;AAAA,MAClE;AAAA,IACJ;AAAA,IACA,IAAI,sBAAsB;AACtB,aAAO,MAAM,KAAK,IAAI,IAAI,KAAK,sBAAsB,OAAO,KAAK,sBAAsB,CAAC,CAAC;AAAA,IAC7F;AAAA,IACA,IAAI,wBAAwB;AACxB,aAAO,MAAM,KAAK,KAAK,QAAQ,UAAU,EAAE,IAAI,CAAC,cAAc,UAAU,IAAI;AAAA,IAChF;AAAA,IACA,IAAI,yBAAyB;AACzB,aAAO,MAAM,KAAK,KAAK,UAAU,KAAK,CAAC;AAAA,IAC3C;AAAA,EACJ;AAEA,MAAM,oBAAN,MAAwB;AAAA,IACpB,YAAY,SAAS,eAAe,UAAU;AAC1C,WAAK,oBAAoB,IAAI,kBAAkB,SAAS,eAAe,IAAI;AAC3E,WAAK,WAAW;AAChB,WAAK,kBAAkB,IAAI,SAAS;AAAA,IACxC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,kBAAkB;AAAA,IAClC;AAAA,IACA,QAAQ;AACJ,WAAK,kBAAkB,MAAM;AAAA,IACjC;AAAA,IACA,MAAM,UAAU;AACZ,WAAK,kBAAkB,MAAM,QAAQ;AAAA,IACzC;AAAA,IACA,OAAO;AACH,WAAK,kBAAkB,KAAK;AAAA,IAChC;AAAA,IACA,UAAU;AACN,WAAK,kBAAkB,QAAQ;AAAA,IACnC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,kBAAkB;AAAA,IAClC;AAAA,IACA,IAAI,gBAAgB;AAChB,aAAO,KAAK,kBAAkB;AAAA,IAClC;AAAA,IACA,wBAAwB,SAAS;AAC7B,WAAK,cAAc,KAAK,qBAAqB,OAAO,CAAC;AAAA,IACzD;AAAA,IACA,6BAA6B,SAAS;AAClC,YAAM,CAAC,iBAAiB,aAAa,IAAI,KAAK,wBAAwB,OAAO;AAC7E,WAAK,gBAAgB,eAAe;AACpC,WAAK,cAAc,aAAa;AAAA,IACpC;AAAA,IACA,0BAA0B,SAAS;AAC/B,WAAK,gBAAgB,KAAK,gBAAgB,gBAAgB,OAAO,CAAC;AAAA,IACtE;AAAA,IACA,cAAc,QAAQ;AAClB,aAAO,QAAQ,CAAC,UAAU,KAAK,aAAa,KAAK,CAAC;AAAA,IACtD;AAAA,IACA,gBAAgB,QAAQ;AACpB,aAAO,QAAQ,CAAC,UAAU,KAAK,eAAe,KAAK,CAAC;AAAA,IACxD;AAAA,IACA,aAAa,OAAO;AAChB,WAAK,SAAS,aAAa,KAAK;AAChC,WAAK,gBAAgB,IAAI,MAAM,SAAS,KAAK;AAAA,IACjD;AAAA,IACA,eAAe,OAAO;AAClB,WAAK,SAAS,eAAe,KAAK;AAClC,WAAK,gBAAgB,OAAO,MAAM,SAAS,KAAK;AAAA,IACpD;AAAA,IACA,wBAAwB,SAAS;AAC7B,YAAM,iBAAiB,KAAK,gBAAgB,gBAAgB,OAAO;AACnE,YAAM,gBAAgB,KAAK,qBAAqB,OAAO;AACvD,YAAM,sBAAsB,IAAI,gBAAgB,aAAa,EAAE,UAAU,CAAC,CAAC,eAAe,YAAY,MAAM,CAAC,eAAe,eAAe,YAAY,CAAC;AACxJ,UAAI,uBAAuB,IAAI;AAC3B,eAAO,CAAC,CAAC,GAAG,CAAC,CAAC;AAAA,MAClB,OACK;AACD,eAAO,CAAC,eAAe,MAAM,mBAAmB,GAAG,cAAc,MAAM,mBAAmB,CAAC;AAAA,MAC/F;AAAA,IACJ;AAAA,IACA,qBAAqB,SAAS;AAC1B,YAAM,gBAAgB,KAAK;AAC3B,YAAM,cAAc,QAAQ,aAAa,aAAa,KAAK;AAC3D,aAAO,iBAAiB,aAAa,SAAS,aAAa;AAAA,IAC/D;AAAA,EACJ;AACA,WAAS,iBAAiB,aAAa,SAAS,eAAe;AAC3D,WAAO,YACF,KAAK,EACL,MAAM,KAAK,EACX,OAAO,CAAC,YAAY,QAAQ,MAAM,EAClC,IAAI,CAAC,SAAS,WAAW,EAAE,SAAS,eAAe,SAAS,MAAM,EAAE;AAAA,EAC7E;AACA,WAAS,IAAIC,OAAMC,QAAO;AACtB,UAAM,SAAS,KAAK,IAAID,MAAK,QAAQC,OAAM,MAAM;AACjD,WAAO,MAAM,KAAK,EAAE,OAAO,GAAG,CAACC,IAAG,UAAU,CAACF,MAAK,KAAK,GAAGC,OAAM,KAAK,CAAC,CAAC;AAAA,EAC3E;AACA,WAAS,eAAeD,OAAMC,QAAO;AACjC,WAAOD,SAAQC,UAASD,MAAK,SAASC,OAAM,SAASD,MAAK,WAAWC,OAAM;AAAA,EAC/E;AAEA,MAAM,oBAAN,MAAwB;AAAA,IACpB,YAAY,SAAS,eAAe,UAAU;AAC1C,WAAK,oBAAoB,IAAI,kBAAkB,SAAS,eAAe,IAAI;AAC3E,WAAK,WAAW;AAChB,WAAK,sBAAsB,oBAAI,QAAQ;AACvC,WAAK,yBAAyB,oBAAI,QAAQ;AAAA,IAC9C;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,kBAAkB;AAAA,IAClC;AAAA,IACA,QAAQ;AACJ,WAAK,kBAAkB,MAAM;AAAA,IACjC;AAAA,IACA,OAAO;AACH,WAAK,kBAAkB,KAAK;AAAA,IAChC;AAAA,IACA,UAAU;AACN,WAAK,kBAAkB,QAAQ;AAAA,IACnC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,kBAAkB;AAAA,IAClC;AAAA,IACA,IAAI,gBAAgB;AAChB,aAAO,KAAK,kBAAkB;AAAA,IAClC;AAAA,IACA,aAAa,OAAO;AAChB,YAAM,EAAE,QAAQ,IAAI;AACpB,YAAM,EAAE,MAAM,IAAI,KAAK,yBAAyB,KAAK;AACrD,UAAI,OAAO;AACP,aAAK,6BAA6B,OAAO,EAAE,IAAI,OAAO,KAAK;AAC3D,aAAK,SAAS,oBAAoB,SAAS,KAAK;AAAA,MACpD;AAAA,IACJ;AAAA,IACA,eAAe,OAAO;AAClB,YAAM,EAAE,QAAQ,IAAI;AACpB,YAAM,EAAE,MAAM,IAAI,KAAK,yBAAyB,KAAK;AACrD,UAAI,OAAO;AACP,aAAK,6BAA6B,OAAO,EAAE,OAAO,KAAK;AACvD,aAAK,SAAS,sBAAsB,SAAS,KAAK;AAAA,MACtD;AAAA,IACJ;AAAA,IACA,yBAAyB,OAAO;AAC5B,UAAI,cAAc,KAAK,oBAAoB,IAAI,KAAK;AACpD,UAAI,CAAC,aAAa;AACd,sBAAc,KAAK,WAAW,KAAK;AACnC,aAAK,oBAAoB,IAAI,OAAO,WAAW;AAAA,MACnD;AACA,aAAO;AAAA,IACX;AAAA,IACA,6BAA6B,SAAS;AAClC,UAAI,gBAAgB,KAAK,uBAAuB,IAAI,OAAO;AAC3D,UAAI,CAAC,eAAe;AAChB,wBAAgB,oBAAI,IAAI;AACxB,aAAK,uBAAuB,IAAI,SAAS,aAAa;AAAA,MAC1D;AACA,aAAO;AAAA,IACX;AAAA,IACA,WAAW,OAAO;AACd,UAAI;AACA,cAAM,QAAQ,KAAK,SAAS,mBAAmB,KAAK;AACpD,eAAO,EAAE,MAAM;AAAA,MACnB,SACOE,QAAO;AACV,eAAO,EAAE,OAAAA,OAAM;AAAA,MACnB;AAAA,IACJ;AAAA,EACJ;AAEA,MAAM,kBAAN,MAAsB;AAAA,IAClB,YAAY,SAAS,UAAU;AAC3B,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,mBAAmB,oBAAI,IAAI;AAAA,IACpC;AAAA,IACA,QAAQ;AACJ,UAAI,CAAC,KAAK,mBAAmB;AACzB,aAAK,oBAAoB,IAAI,kBAAkB,KAAK,SAAS,KAAK,iBAAiB,IAAI;AACvF,aAAK,kBAAkB,MAAM;AAAA,MACjC;AAAA,IACJ;AAAA,IACA,OAAO;AACH,UAAI,KAAK,mBAAmB;AACxB,aAAK,kBAAkB,KAAK;AAC5B,eAAO,KAAK;AACZ,aAAK,qBAAqB;AAAA,MAC9B;AAAA,IACJ;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,kBAAkB;AAClB,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,WAAW;AACX,aAAO,MAAM,KAAK,KAAK,iBAAiB,OAAO,CAAC;AAAA,IACpD;AAAA,IACA,cAAc,QAAQ;AAClB,YAAM,UAAU,IAAI,QAAQ,KAAK,SAAS,MAAM;AAChD,WAAK,iBAAiB,IAAI,QAAQ,OAAO;AACzC,WAAK,SAAS,iBAAiB,OAAO;AAAA,IAC1C;AAAA,IACA,iBAAiB,QAAQ;AACrB,YAAM,UAAU,KAAK,iBAAiB,IAAI,MAAM;AAChD,UAAI,SAAS;AACT,aAAK,iBAAiB,OAAO,MAAM;AACnC,aAAK,SAAS,oBAAoB,OAAO;AAAA,MAC7C;AAAA,IACJ;AAAA,IACA,uBAAuB;AACnB,WAAK,SAAS,QAAQ,CAAC,YAAY,KAAK,SAAS,oBAAoB,SAAS,IAAI,CAAC;AACnF,WAAK,iBAAiB,MAAM;AAAA,IAChC;AAAA,IACA,mBAAmB,OAAO;AACtB,YAAM,SAAS,OAAO,SAAS,OAAO,KAAK,MAAM;AACjD,UAAI,OAAO,cAAc,KAAK,YAAY;AACtC,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,oBAAoB,SAAS,QAAQ;AACjC,WAAK,cAAc,MAAM;AAAA,IAC7B;AAAA,IACA,sBAAsB,SAAS,QAAQ;AACnC,WAAK,iBAAiB,MAAM;AAAA,IAChC;AAAA,EACJ;AAEA,MAAM,gBAAN,MAAoB;AAAA,IAChB,YAAY,SAAS,UAAU;AAC3B,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,oBAAoB,IAAI,kBAAkB,KAAK,SAAS,IAAI;AACjE,WAAK,qBAAqB,KAAK,WAAW;AAAA,IAC9C;AAAA,IACA,QAAQ;AACJ,WAAK,kBAAkB,MAAM;AAC7B,WAAK,uCAAuC;AAAA,IAChD;AAAA,IACA,OAAO;AACH,WAAK,kBAAkB,KAAK;AAAA,IAChC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,4BAA4B,eAAe;AACvC,UAAI,iBAAiB,KAAK,oBAAoB;AAC1C,eAAO,KAAK,mBAAmB,aAAa,EAAE;AAAA,MAClD;AAAA,IACJ;AAAA,IACA,kBAAkB,KAAK,eAAe;AAClC,YAAM,aAAa,KAAK,mBAAmB,aAAa;AACxD,UAAI,CAAC,KAAK,SAAS,GAAG,GAAG;AACrB,aAAK,sBAAsB,KAAK,WAAW,OAAO,KAAK,SAAS,GAAG,CAAC,GAAG,WAAW,OAAO,WAAW,YAAY,CAAC;AAAA,MACrH;AAAA,IACJ;AAAA,IACA,sBAAsB,OAAO,MAAM,UAAU;AACzC,YAAM,aAAa,KAAK,uBAAuB,IAAI;AACnD,UAAI,UAAU;AACV;AACJ,UAAI,aAAa,MAAM;AACnB,mBAAW,WAAW,OAAO,WAAW,YAAY;AAAA,MACxD;AACA,WAAK,sBAAsB,MAAM,OAAO,QAAQ;AAAA,IACpD;AAAA,IACA,oBAAoB,KAAK,eAAe,UAAU;AAC9C,YAAM,aAAa,KAAK,uBAAuB,GAAG;AAClD,UAAI,KAAK,SAAS,GAAG,GAAG;AACpB,aAAK,sBAAsB,KAAK,WAAW,OAAO,KAAK,SAAS,GAAG,CAAC,GAAG,QAAQ;AAAA,MACnF,OACK;AACD,aAAK,sBAAsB,KAAK,WAAW,OAAO,WAAW,YAAY,GAAG,QAAQ;AAAA,MACxF;AAAA,IACJ;AAAA,IACA,yCAAyC;AACrC,iBAAW,EAAE,KAAK,MAAM,cAAc,OAAO,KAAK,KAAK,kBAAkB;AACrE,YAAI,gBAAgB,UAAa,CAAC,KAAK,WAAW,KAAK,IAAI,GAAG,GAAG;AAC7D,eAAK,sBAAsB,MAAM,OAAO,YAAY,GAAG,MAAS;AAAA,QACpE;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,sBAAsB,MAAM,UAAU,aAAa;AAC/C,YAAM,oBAAoB,GAAG,IAAI;AACjC,YAAM,gBAAgB,KAAK,SAAS,iBAAiB;AACrD,UAAI,OAAO,iBAAiB,YAAY;AACpC,cAAM,aAAa,KAAK,uBAAuB,IAAI;AACnD,YAAI;AACA,gBAAM,QAAQ,WAAW,OAAO,QAAQ;AACxC,cAAI,WAAW;AACf,cAAI,aAAa;AACb,uBAAW,WAAW,OAAO,WAAW;AAAA,UAC5C;AACA,wBAAc,KAAK,KAAK,UAAU,OAAO,QAAQ;AAAA,QACrD,SACOA,QAAO;AACV,cAAIA,kBAAiB,WAAW;AAC5B,YAAAA,OAAM,UAAU,mBAAmB,KAAK,QAAQ,UAAU,IAAI,WAAW,IAAI,OAAOA,OAAM,OAAO;AAAA,UACrG;AACA,gBAAMA;AAAA,QACV;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,IAAI,mBAAmB;AACnB,YAAM,EAAE,mBAAmB,IAAI;AAC/B,aAAO,OAAO,KAAK,kBAAkB,EAAE,IAAI,CAAC,QAAQ,mBAAmB,GAAG,CAAC;AAAA,IAC/E;AAAA,IACA,IAAI,yBAAyB;AACzB,YAAM,cAAc,CAAC;AACrB,aAAO,KAAK,KAAK,kBAAkB,EAAE,QAAQ,CAAC,QAAQ;AAClD,cAAM,aAAa,KAAK,mBAAmB,GAAG;AAC9C,oBAAY,WAAW,IAAI,IAAI;AAAA,MACnC,CAAC;AACD,aAAO;AAAA,IACX;AAAA,IACA,SAAS,eAAe;AACpB,YAAM,aAAa,KAAK,uBAAuB,aAAa;AAC5D,YAAM,gBAAgB,MAAM,WAAW,WAAW,IAAI,CAAC;AACvD,aAAO,KAAK,SAAS,aAAa;AAAA,IACtC;AAAA,EACJ;AAEA,MAAM,iBAAN,MAAqB;AAAA,IACjB,YAAY,SAAS,UAAU;AAC3B,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,gBAAgB,IAAI,SAAS;AAAA,IACtC;AAAA,IACA,QAAQ;AACJ,UAAI,CAAC,KAAK,mBAAmB;AACzB,aAAK,oBAAoB,IAAI,kBAAkB,KAAK,SAAS,KAAK,eAAe,IAAI;AACrF,aAAK,kBAAkB,MAAM;AAAA,MACjC;AAAA,IACJ;AAAA,IACA,OAAO;AACH,UAAI,KAAK,mBAAmB;AACxB,aAAK,qBAAqB;AAC1B,aAAK,kBAAkB,KAAK;AAC5B,eAAO,KAAK;AAAA,MAChB;AAAA,IACJ;AAAA,IACA,aAAa,EAAE,SAAS,SAAS,KAAK,GAAG;AACrC,UAAI,KAAK,MAAM,gBAAgB,OAAO,GAAG;AACrC,aAAK,cAAc,SAAS,IAAI;AAAA,MACpC;AAAA,IACJ;AAAA,IACA,eAAe,EAAE,SAAS,SAAS,KAAK,GAAG;AACvC,WAAK,iBAAiB,SAAS,IAAI;AAAA,IACvC;AAAA,IACA,cAAc,SAAS,MAAM;AACzB,UAAI;AACJ,UAAI,CAAC,KAAK,cAAc,IAAI,MAAM,OAAO,GAAG;AACxC,aAAK,cAAc,IAAI,MAAM,OAAO;AACpC,SAAC,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM,MAAM,KAAK,SAAS,gBAAgB,SAAS,IAAI,CAAC;AAAA,MAClI;AAAA,IACJ;AAAA,IACA,iBAAiB,SAAS,MAAM;AAC5B,UAAI;AACJ,UAAI,KAAK,cAAc,IAAI,MAAM,OAAO,GAAG;AACvC,aAAK,cAAc,OAAO,MAAM,OAAO;AACvC,SAAC,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM,MAAM,KAAK,SAAS,mBAAmB,SAAS,IAAI,CAAC;AAAA,MACrI;AAAA,IACJ;AAAA,IACA,uBAAuB;AACnB,iBAAW,QAAQ,KAAK,cAAc,MAAM;AACxC,mBAAW,WAAW,KAAK,cAAc,gBAAgB,IAAI,GAAG;AAC5D,eAAK,iBAAiB,SAAS,IAAI;AAAA,QACvC;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,IAAI,gBAAgB;AAChB,aAAO,QAAQ,KAAK,QAAQ,UAAU;AAAA,IAC1C;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,QAAQ;AACR,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,EACJ;AAEA,WAAS,iCAAiC,aAAa,cAAc;AACjE,UAAM,YAAY,2BAA2B,WAAW;AACxD,WAAO,MAAM,KAAK,UAAU,OAAO,CAAC,QAAQC,iBAAgB;AACxD,8BAAwBA,cAAa,YAAY,EAAE,QAAQ,CAAC,SAAS,OAAO,IAAI,IAAI,CAAC;AACrF,aAAO;AAAA,IACX,GAAG,oBAAI,IAAI,CAAC,CAAC;AAAA,EACjB;AACA,WAAS,iCAAiC,aAAa,cAAc;AACjE,UAAM,YAAY,2BAA2B,WAAW;AACxD,WAAO,UAAU,OAAO,CAAC,OAAOA,iBAAgB;AAC5C,YAAM,KAAK,GAAG,wBAAwBA,cAAa,YAAY,CAAC;AAChE,aAAO;AAAA,IACX,GAAG,CAAC,CAAC;AAAA,EACT;AACA,WAAS,2BAA2B,aAAa;AAC7C,UAAM,YAAY,CAAC;AACnB,WAAO,aAAa;AAChB,gBAAU,KAAK,WAAW;AAC1B,oBAAc,OAAO,eAAe,WAAW;AAAA,IACnD;AACA,WAAO,UAAU,QAAQ;AAAA,EAC7B;AACA,WAAS,wBAAwB,aAAa,cAAc;AACxD,UAAM,aAAa,YAAY,YAAY;AAC3C,WAAO,MAAM,QAAQ,UAAU,IAAI,aAAa,CAAC;AAAA,EACrD;AACA,WAAS,wBAAwB,aAAa,cAAc;AACxD,UAAM,aAAa,YAAY,YAAY;AAC3C,WAAO,aAAa,OAAO,KAAK,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC;AAAA,EACxF;AAEA,MAAM,iBAAN,MAAqB;AAAA,IACjB,YAAY,SAAS,UAAU;AAC3B,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,gBAAgB,IAAI,SAAS;AAClC,WAAK,uBAAuB,IAAI,SAAS;AACzC,WAAK,sBAAsB,oBAAI,IAAI;AACnC,WAAK,uBAAuB,oBAAI,IAAI;AAAA,IACxC;AAAA,IACA,QAAQ;AACJ,UAAI,CAAC,KAAK,SAAS;AACf,aAAK,kBAAkB,QAAQ,CAAC,eAAe;AAC3C,eAAK,+BAA+B,UAAU;AAC9C,eAAK,gCAAgC,UAAU;AAAA,QACnD,CAAC;AACD,aAAK,UAAU;AACf,aAAK,kBAAkB,QAAQ,CAAC,YAAY,QAAQ,QAAQ,CAAC;AAAA,MACjE;AAAA,IACJ;AAAA,IACA,UAAU;AACN,WAAK,oBAAoB,QAAQ,CAAC,aAAa,SAAS,QAAQ,CAAC;AACjE,WAAK,qBAAqB,QAAQ,CAAC,aAAa,SAAS,QAAQ,CAAC;AAAA,IACtE;AAAA,IACA,OAAO;AACH,UAAI,KAAK,SAAS;AACd,aAAK,UAAU;AACf,aAAK,qBAAqB;AAC1B,aAAK,sBAAsB;AAC3B,aAAK,uBAAuB;AAAA,MAChC;AAAA,IACJ;AAAA,IACA,wBAAwB;AACpB,UAAI,KAAK,oBAAoB,OAAO,GAAG;AACnC,aAAK,oBAAoB,QAAQ,CAAC,aAAa,SAAS,KAAK,CAAC;AAC9D,aAAK,oBAAoB,MAAM;AAAA,MACnC;AAAA,IACJ;AAAA,IACA,yBAAyB;AACrB,UAAI,KAAK,qBAAqB,OAAO,GAAG;AACpC,aAAK,qBAAqB,QAAQ,CAAC,aAAa,SAAS,KAAK,CAAC;AAC/D,aAAK,qBAAqB,MAAM;AAAA,MACpC;AAAA,IACJ;AAAA,IACA,gBAAgB,SAAS,WAAW,EAAE,WAAW,GAAG;AAChD,YAAM,SAAS,KAAK,UAAU,SAAS,UAAU;AACjD,UAAI,QAAQ;AACR,aAAK,cAAc,QAAQ,SAAS,UAAU;AAAA,MAClD;AAAA,IACJ;AAAA,IACA,kBAAkB,SAAS,WAAW,EAAE,WAAW,GAAG;AAClD,YAAM,SAAS,KAAK,iBAAiB,SAAS,UAAU;AACxD,UAAI,QAAQ;AACR,aAAK,iBAAiB,QAAQ,SAAS,UAAU;AAAA,MACrD;AAAA,IACJ;AAAA,IACA,qBAAqB,SAAS,EAAE,WAAW,GAAG;AAC1C,YAAM,WAAW,KAAK,SAAS,UAAU;AACzC,YAAM,YAAY,KAAK,UAAU,SAAS,UAAU;AACpD,YAAM,sBAAsB,QAAQ,QAAQ,IAAI,KAAK,OAAO,mBAAmB,KAAK,UAAU,GAAG;AACjG,UAAI,UAAU;AACV,eAAO,aAAa,uBAAuB,QAAQ,QAAQ,QAAQ;AAAA,MACvE,OACK;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,wBAAwB,UAAU,eAAe;AAC7C,YAAM,aAAa,KAAK,qCAAqC,aAAa;AAC1E,UAAI,YAAY;AACZ,aAAK,gCAAgC,UAAU;AAAA,MACnD;AAAA,IACJ;AAAA,IACA,6BAA6B,UAAU,eAAe;AAClD,YAAM,aAAa,KAAK,qCAAqC,aAAa;AAC1E,UAAI,YAAY;AACZ,aAAK,gCAAgC,UAAU;AAAA,MACnD;AAAA,IACJ;AAAA,IACA,0BAA0B,UAAU,eAAe;AAC/C,YAAM,aAAa,KAAK,qCAAqC,aAAa;AAC1E,UAAI,YAAY;AACZ,aAAK,gCAAgC,UAAU;AAAA,MACnD;AAAA,IACJ;AAAA,IACA,cAAc,QAAQ,SAAS,YAAY;AACvC,UAAI;AACJ,UAAI,CAAC,KAAK,qBAAqB,IAAI,YAAY,OAAO,GAAG;AACrD,aAAK,cAAc,IAAI,YAAY,MAAM;AACzC,aAAK,qBAAqB,IAAI,YAAY,OAAO;AACjD,SAAC,KAAK,KAAK,oBAAoB,IAAI,UAAU,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM,MAAM,KAAK,SAAS,gBAAgB,QAAQ,SAAS,UAAU,CAAC;AAAA,MAClK;AAAA,IACJ;AAAA,IACA,iBAAiB,QAAQ,SAAS,YAAY;AAC1C,UAAI;AACJ,UAAI,KAAK,qBAAqB,IAAI,YAAY,OAAO,GAAG;AACpD,aAAK,cAAc,OAAO,YAAY,MAAM;AAC5C,aAAK,qBAAqB,OAAO,YAAY,OAAO;AACpD,SAAC,KAAK,KAAK,oBACN,IAAI,UAAU,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM,MAAM,KAAK,SAAS,mBAAmB,QAAQ,SAAS,UAAU,CAAC;AAAA,MAC3I;AAAA,IACJ;AAAA,IACA,uBAAuB;AACnB,iBAAW,cAAc,KAAK,qBAAqB,MAAM;AACrD,mBAAW,WAAW,KAAK,qBAAqB,gBAAgB,UAAU,GAAG;AACzE,qBAAW,UAAU,KAAK,cAAc,gBAAgB,UAAU,GAAG;AACjE,iBAAK,iBAAiB,QAAQ,SAAS,UAAU;AAAA,UACrD;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,gCAAgC,YAAY;AACxC,YAAM,WAAW,KAAK,oBAAoB,IAAI,UAAU;AACxD,UAAI,UAAU;AACV,iBAAS,WAAW,KAAK,SAAS,UAAU;AAAA,MAChD;AAAA,IACJ;AAAA,IACA,+BAA+B,YAAY;AACvC,YAAM,WAAW,KAAK,SAAS,UAAU;AACzC,YAAM,mBAAmB,IAAI,iBAAiB,SAAS,MAAM,UAAU,MAAM,EAAE,WAAW,CAAC;AAC3F,WAAK,oBAAoB,IAAI,YAAY,gBAAgB;AACzD,uBAAiB,MAAM;AAAA,IAC3B;AAAA,IACA,gCAAgC,YAAY;AACxC,YAAM,gBAAgB,KAAK,2BAA2B,UAAU;AAChE,YAAM,oBAAoB,IAAI,kBAAkB,KAAK,MAAM,SAAS,eAAe,IAAI;AACvF,WAAK,qBAAqB,IAAI,YAAY,iBAAiB;AAC3D,wBAAkB,MAAM;AAAA,IAC5B;AAAA,IACA,SAAS,YAAY;AACjB,aAAO,KAAK,MAAM,QAAQ,yBAAyB,UAAU;AAAA,IACjE;AAAA,IACA,2BAA2B,YAAY;AACnC,aAAO,KAAK,MAAM,OAAO,wBAAwB,KAAK,YAAY,UAAU;AAAA,IAChF;AAAA,IACA,qCAAqC,eAAe;AAChD,aAAO,KAAK,kBAAkB,KAAK,CAAC,eAAe,KAAK,2BAA2B,UAAU,MAAM,aAAa;AAAA,IACpH;AAAA,IACA,IAAI,qBAAqB;AACrB,YAAM,eAAe,IAAI,SAAS;AAClC,WAAK,OAAO,QAAQ,QAAQ,CAAC,WAAW;AACpC,cAAM,cAAc,OAAO,WAAW;AACtC,cAAM,UAAU,iCAAiC,aAAa,SAAS;AACvE,gBAAQ,QAAQ,CAAC,WAAW,aAAa,IAAI,QAAQ,OAAO,UAAU,CAAC;AAAA,MAC3E,CAAC;AACD,aAAO;AAAA,IACX;AAAA,IACA,IAAI,oBAAoB;AACpB,aAAO,KAAK,mBAAmB,gBAAgB,KAAK,UAAU;AAAA,IAClE;AAAA,IACA,IAAI,iCAAiC;AACjC,aAAO,KAAK,mBAAmB,gBAAgB,KAAK,UAAU;AAAA,IAClE;AAAA,IACA,IAAI,oBAAoB;AACpB,YAAM,cAAc,KAAK;AACzB,aAAO,KAAK,OAAO,SAAS,OAAO,CAAC,YAAY,YAAY,SAAS,QAAQ,UAAU,CAAC;AAAA,IAC5F;AAAA,IACA,UAAU,SAAS,YAAY;AAC3B,aAAO,CAAC,CAAC,KAAK,UAAU,SAAS,UAAU,KAAK,CAAC,CAAC,KAAK,iBAAiB,SAAS,UAAU;AAAA,IAC/F;AAAA,IACA,UAAU,SAAS,YAAY;AAC3B,aAAO,KAAK,YAAY,qCAAqC,SAAS,UAAU;AAAA,IACpF;AAAA,IACA,iBAAiB,SAAS,YAAY;AAClC,aAAO,KAAK,cAAc,gBAAgB,UAAU,EAAE,KAAK,CAAC,WAAW,OAAO,YAAY,OAAO;AAAA,IACrG;AAAA,IACA,IAAI,QAAQ;AACR,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,cAAc;AACd,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,YAAY;AAAA,IAC5B;AAAA,EACJ;AAEA,MAAM,UAAN,MAAc;AAAA,IACV,YAAY,QAAQ,OAAO;AACvB,WAAK,mBAAmB,CAAC,cAAc,SAAS,CAAC,MAAM;AACnD,cAAM,EAAE,YAAY,YAAY,QAAQ,IAAI;AAC5C,iBAAS,OAAO,OAAO,EAAE,YAAY,YAAY,QAAQ,GAAG,MAAM;AAClE,aAAK,YAAY,iBAAiB,KAAK,YAAY,cAAc,MAAM;AAAA,MAC3E;AACA,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,WAAK,aAAa,IAAI,OAAO,sBAAsB,IAAI;AACvD,WAAK,kBAAkB,IAAI,gBAAgB,MAAM,KAAK,UAAU;AAChE,WAAK,gBAAgB,IAAI,cAAc,MAAM,KAAK,UAAU;AAC5D,WAAK,iBAAiB,IAAI,eAAe,MAAM,IAAI;AACnD,WAAK,iBAAiB,IAAI,eAAe,MAAM,IAAI;AACnD,UAAI;AACA,aAAK,WAAW,WAAW;AAC3B,aAAK,iBAAiB,YAAY;AAAA,MACtC,SACOD,QAAO;AACV,aAAK,YAAYA,QAAO,yBAAyB;AAAA,MACrD;AAAA,IACJ;AAAA,IACA,UAAU;AACN,WAAK,gBAAgB,MAAM;AAC3B,WAAK,cAAc,MAAM;AACzB,WAAK,eAAe,MAAM;AAC1B,WAAK,eAAe,MAAM;AAC1B,UAAI;AACA,aAAK,WAAW,QAAQ;AACxB,aAAK,iBAAiB,SAAS;AAAA,MACnC,SACOA,QAAO;AACV,aAAK,YAAYA,QAAO,uBAAuB;AAAA,MACnD;AAAA,IACJ;AAAA,IACA,UAAU;AACN,WAAK,eAAe,QAAQ;AAAA,IAChC;AAAA,IACA,aAAa;AACT,UAAI;AACA,aAAK,WAAW,WAAW;AAC3B,aAAK,iBAAiB,YAAY;AAAA,MACtC,SACOA,QAAO;AACV,aAAK,YAAYA,QAAO,0BAA0B;AAAA,MACtD;AACA,WAAK,eAAe,KAAK;AACzB,WAAK,eAAe,KAAK;AACzB,WAAK,cAAc,KAAK;AACxB,WAAK,gBAAgB,KAAK;AAAA,IAC9B;AAAA,IACA,IAAI,cAAc;AACd,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,YAAY;AAAA,IAC5B;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,YAAY;AAAA,IAC5B;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,gBAAgB;AAChB,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,YAAYA,QAAO,SAAS,SAAS,CAAC,GAAG;AACrC,YAAM,EAAE,YAAY,YAAY,QAAQ,IAAI;AAC5C,eAAS,OAAO,OAAO,EAAE,YAAY,YAAY,QAAQ,GAAG,MAAM;AAClE,WAAK,YAAY,YAAYA,QAAO,SAAS,OAAO,IAAI,MAAM;AAAA,IAClE;AAAA,IACA,gBAAgB,SAAS,MAAM;AAC3B,WAAK,uBAAuB,GAAG,IAAI,mBAAmB,OAAO;AAAA,IACjE;AAAA,IACA,mBAAmB,SAAS,MAAM;AAC9B,WAAK,uBAAuB,GAAG,IAAI,sBAAsB,OAAO;AAAA,IACpE;AAAA,IACA,gBAAgB,QAAQ,SAAS,MAAM;AACnC,WAAK,uBAAuB,GAAG,kBAAkB,IAAI,CAAC,mBAAmB,QAAQ,OAAO;AAAA,IAC5F;AAAA,IACA,mBAAmB,QAAQ,SAAS,MAAM;AACtC,WAAK,uBAAuB,GAAG,kBAAkB,IAAI,CAAC,sBAAsB,QAAQ,OAAO;AAAA,IAC/F;AAAA,IACA,uBAAuB,eAAe,MAAM;AACxC,YAAM,aAAa,KAAK;AACxB,UAAI,OAAO,WAAW,UAAU,KAAK,YAAY;AAC7C,mBAAW,UAAU,EAAE,GAAG,IAAI;AAAA,MAClC;AAAA,IACJ;AAAA,EACJ;AAEA,WAAS,MAAM,aAAa;AACxB,WAAO,OAAO,aAAa,qBAAqB,WAAW,CAAC;AAAA,EAChE;AACA,WAAS,OAAO,aAAa,YAAY;AACrC,UAAM,oBAAoB,OAAO,WAAW;AAC5C,UAAM,mBAAmB,oBAAoB,YAAY,WAAW,UAAU;AAC9E,WAAO,iBAAiB,kBAAkB,WAAW,gBAAgB;AACrE,WAAO;AAAA,EACX;AACA,WAAS,qBAAqB,aAAa;AACvC,UAAM,YAAY,iCAAiC,aAAa,WAAW;AAC3E,WAAO,UAAU,OAAO,CAAC,mBAAmB,aAAa;AACrD,YAAM,aAAa,SAAS,WAAW;AACvC,iBAAW,OAAO,YAAY;AAC1B,cAAM,aAAa,kBAAkB,GAAG,KAAK,CAAC;AAC9C,0BAAkB,GAAG,IAAI,OAAO,OAAO,YAAY,WAAW,GAAG,CAAC;AAAA,MACtE;AACA,aAAO;AAAA,IACX,GAAG,CAAC,CAAC;AAAA,EACT;AACA,WAAS,oBAAoB,WAAW,YAAY;AAChD,WAAO,WAAW,UAAU,EAAE,OAAO,CAAC,kBAAkB,QAAQ;AAC5D,YAAM,aAAa,sBAAsB,WAAW,YAAY,GAAG;AACnE,UAAI,YAAY;AACZ,eAAO,OAAO,kBAAkB,EAAE,CAAC,GAAG,GAAG,WAAW,CAAC;AAAA,MACzD;AACA,aAAO;AAAA,IACX,GAAG,CAAC,CAAC;AAAA,EACT;AACA,WAAS,sBAAsB,WAAW,YAAY,KAAK;AACvD,UAAM,sBAAsB,OAAO,yBAAyB,WAAW,GAAG;AAC1E,UAAM,kBAAkB,uBAAuB,WAAW;AAC1D,QAAI,CAAC,iBAAiB;AAClB,YAAM,aAAa,OAAO,yBAAyB,YAAY,GAAG,EAAE;AACpE,UAAI,qBAAqB;AACrB,mBAAW,MAAM,oBAAoB,OAAO,WAAW;AACvD,mBAAW,MAAM,oBAAoB,OAAO,WAAW;AAAA,MAC3D;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AACA,MAAM,cAAc,MAAM;AACtB,QAAI,OAAO,OAAO,yBAAyB,YAAY;AACnD,aAAO,CAAC,WAAW,CAAC,GAAG,OAAO,oBAAoB,MAAM,GAAG,GAAG,OAAO,sBAAsB,MAAM,CAAC;AAAA,IACtG,OACK;AACD,aAAO,OAAO;AAAA,IAClB;AAAA,EACJ,GAAG;AACH,MAAM,UAAU,MAAM;AAClB,aAAS,kBAAkB,aAAa;AACpC,eAAS,WAAW;AAChB,eAAO,QAAQ,UAAU,aAAa,WAAW,UAAU;AAAA,MAC/D;AACA,eAAS,YAAY,OAAO,OAAO,YAAY,WAAW;AAAA,QACtD,aAAa,EAAE,OAAO,SAAS;AAAA,MACnC,CAAC;AACD,cAAQ,eAAe,UAAU,WAAW;AAC5C,aAAO;AAAA,IACX;AACA,aAAS,uBAAuB;AAC5B,YAAME,KAAI,WAAY;AAClB,aAAK,EAAE,KAAK,IAAI;AAAA,MACpB;AACA,YAAMC,KAAI,kBAAkBD,EAAC;AAC7B,MAAAC,GAAE,UAAU,IAAI,WAAY;AAAA,MAAE;AAC9B,aAAO,IAAIA,GAAE;AAAA,IACjB;AACA,QAAI;AACA,2BAAqB;AACrB,aAAO;AAAA,IACX,SACOH,QAAO;AACV,aAAO,CAAC,gBAAgB,MAAM,iBAAiB,YAAY;AAAA,MAC3D;AAAA,IACJ;AAAA,EACJ,GAAG;AAEH,WAAS,gBAAgB,YAAY;AACjC,WAAO;AAAA,MACH,YAAY,WAAW;AAAA,MACvB,uBAAuB,MAAM,WAAW,qBAAqB;AAAA,IACjE;AAAA,EACJ;AAEA,MAAM,SAAN,MAAa;AAAA,IACT,YAAYI,cAAa,YAAY;AACjC,WAAK,cAAcA;AACnB,WAAK,aAAa,gBAAgB,UAAU;AAC5C,WAAK,kBAAkB,oBAAI,QAAQ;AACnC,WAAK,oBAAoB,oBAAI,IAAI;AAAA,IACrC;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,WAAW;AAAA,IAC3B;AAAA,IACA,IAAI,wBAAwB;AACxB,aAAO,KAAK,WAAW;AAAA,IAC3B;AAAA,IACA,IAAI,WAAW;AACX,aAAO,MAAM,KAAK,KAAK,iBAAiB;AAAA,IAC5C;AAAA,IACA,uBAAuB,OAAO;AAC1B,YAAM,UAAU,KAAK,qBAAqB,KAAK;AAC/C,WAAK,kBAAkB,IAAI,OAAO;AAClC,cAAQ,QAAQ;AAAA,IACpB;AAAA,IACA,0BAA0B,OAAO;AAC7B,YAAM,UAAU,KAAK,gBAAgB,IAAI,KAAK;AAC9C,UAAI,SAAS;AACT,aAAK,kBAAkB,OAAO,OAAO;AACrC,gBAAQ,WAAW;AAAA,MACvB;AAAA,IACJ;AAAA,IACA,qBAAqB,OAAO;AACxB,UAAI,UAAU,KAAK,gBAAgB,IAAI,KAAK;AAC5C,UAAI,CAAC,SAAS;AACV,kBAAU,IAAI,QAAQ,MAAM,KAAK;AACjC,aAAK,gBAAgB,IAAI,OAAO,OAAO;AAAA,MAC3C;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,MAAM,WAAN,MAAe;AAAA,IACX,YAAY,OAAO;AACf,WAAK,QAAQ;AAAA,IACjB;AAAA,IACA,IAAI,MAAM;AACN,aAAO,KAAK,KAAK,IAAI,KAAK,WAAW,IAAI,CAAC;AAAA,IAC9C;AAAA,IACA,IAAI,MAAM;AACN,aAAO,KAAK,OAAO,IAAI,EAAE,CAAC;AAAA,IAC9B;AAAA,IACA,OAAO,MAAM;AACT,YAAM,cAAc,KAAK,KAAK,IAAI,KAAK,WAAW,IAAI,CAAC,KAAK;AAC5D,aAAO,SAAS,WAAW;AAAA,IAC/B;AAAA,IACA,iBAAiB,MAAM;AACnB,aAAO,KAAK,KAAK,uBAAuB,KAAK,WAAW,IAAI,CAAC;AAAA,IACjE;AAAA,IACA,WAAW,MAAM;AACb,aAAO,GAAG,IAAI;AAAA,IAClB;AAAA,IACA,IAAI,OAAO;AACP,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,EACJ;AAEA,MAAM,UAAN,MAAc;AAAA,IACV,YAAY,OAAO;AACf,WAAK,QAAQ;AAAA,IACjB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,KAAK;AACL,YAAM,OAAO,KAAK,uBAAuB,GAAG;AAC5C,aAAO,KAAK,QAAQ,aAAa,IAAI;AAAA,IACzC;AAAA,IACA,IAAI,KAAK,OAAO;AACZ,YAAM,OAAO,KAAK,uBAAuB,GAAG;AAC5C,WAAK,QAAQ,aAAa,MAAM,KAAK;AACrC,aAAO,KAAK,IAAI,GAAG;AAAA,IACvB;AAAA,IACA,IAAI,KAAK;AACL,YAAM,OAAO,KAAK,uBAAuB,GAAG;AAC5C,aAAO,KAAK,QAAQ,aAAa,IAAI;AAAA,IACzC;AAAA,IACA,OAAO,KAAK;AACR,UAAI,KAAK,IAAI,GAAG,GAAG;AACf,cAAM,OAAO,KAAK,uBAAuB,GAAG;AAC5C,aAAK,QAAQ,gBAAgB,IAAI;AACjC,eAAO;AAAA,MACX,OACK;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,uBAAuB,KAAK;AACxB,aAAO,QAAQ,KAAK,UAAU,IAAI,UAAU,GAAG,CAAC;AAAA,IACpD;AAAA,EACJ;AAEA,MAAM,QAAN,MAAY;AAAA,IACR,YAAYC,SAAQ;AAChB,WAAK,qBAAqB,oBAAI,QAAQ;AACtC,WAAK,SAASA;AAAA,IAClB;AAAA,IACA,KAAK,QAAQ,KAAK,SAAS;AACvB,UAAI,aAAa,KAAK,mBAAmB,IAAI,MAAM;AACnD,UAAI,CAAC,YAAY;AACb,qBAAa,oBAAI,IAAI;AACrB,aAAK,mBAAmB,IAAI,QAAQ,UAAU;AAAA,MAClD;AACA,UAAI,CAAC,WAAW,IAAI,GAAG,GAAG;AACtB,mBAAW,IAAI,GAAG;AAClB,aAAK,OAAO,KAAK,SAAS,MAAM;AAAA,MACpC;AAAA,IACJ;AAAA,EACJ;AAEA,WAAS,4BAA4B,eAAe,OAAO;AACvD,WAAO,IAAI,aAAa,MAAM,KAAK;AAAA,EACvC;AAEA,MAAM,YAAN,MAAgB;AAAA,IACZ,YAAY,OAAO;AACf,WAAK,QAAQ;AAAA,IACjB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,YAAY;AACZ,aAAO,KAAK,KAAK,UAAU,KAAK;AAAA,IACpC;AAAA,IACA,QAAQ,aAAa;AACjB,aAAO,YAAY,OAAO,CAAC,QAAQ,eAAe,UAAU,KAAK,WAAW,UAAU,KAAK,KAAK,iBAAiB,UAAU,GAAG,MAAS;AAAA,IAC3I;AAAA,IACA,WAAW,aAAa;AACpB,aAAO,YAAY,OAAO,CAAC,SAAS,eAAe;AAAA,QAC/C,GAAG;AAAA,QACH,GAAG,KAAK,eAAe,UAAU;AAAA,QACjC,GAAG,KAAK,qBAAqB,UAAU;AAAA,MAC3C,GAAG,CAAC,CAAC;AAAA,IACT;AAAA,IACA,WAAW,YAAY;AACnB,YAAM,WAAW,KAAK,yBAAyB,UAAU;AACzD,aAAO,KAAK,MAAM,YAAY,QAAQ;AAAA,IAC1C;AAAA,IACA,eAAe,YAAY;AACvB,YAAM,WAAW,KAAK,yBAAyB,UAAU;AACzD,aAAO,KAAK,MAAM,gBAAgB,QAAQ;AAAA,IAC9C;AAAA,IACA,yBAAyB,YAAY;AACjC,YAAM,gBAAgB,KAAK,OAAO,wBAAwB,KAAK,UAAU;AACzE,aAAO,4BAA4B,eAAe,UAAU;AAAA,IAChE;AAAA,IACA,iBAAiB,YAAY;AACzB,YAAM,WAAW,KAAK,+BAA+B,UAAU;AAC/D,aAAO,KAAK,UAAU,KAAK,MAAM,YAAY,QAAQ,GAAG,UAAU;AAAA,IACtE;AAAA,IACA,qBAAqB,YAAY;AAC7B,YAAM,WAAW,KAAK,+BAA+B,UAAU;AAC/D,aAAO,KAAK,MAAM,gBAAgB,QAAQ,EAAE,IAAI,CAAC,YAAY,KAAK,UAAU,SAAS,UAAU,CAAC;AAAA,IACpG;AAAA,IACA,+BAA+B,YAAY;AACvC,YAAM,mBAAmB,GAAG,KAAK,UAAU,IAAI,UAAU;AACzD,aAAO,4BAA4B,KAAK,OAAO,iBAAiB,gBAAgB;AAAA,IACpF;AAAA,IACA,UAAU,SAAS,YAAY;AAC3B,UAAI,SAAS;AACT,cAAM,EAAE,WAAW,IAAI;AACvB,cAAM,gBAAgB,KAAK,OAAO;AAClC,cAAM,uBAAuB,KAAK,OAAO,wBAAwB,UAAU;AAC3E,aAAK,MAAM,KAAK,SAAS,UAAU,UAAU,IAAI,kBAAkB,aAAa,KAAK,UAAU,IAAI,UAAU,UAAU,oBAAoB,KAAK,UAAU,UAC/I,aAAa,+EAA+E;AAAA,MAC3G;AACA,aAAO;AAAA,IACX;AAAA,IACA,IAAI,QAAQ;AACR,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,EACJ;AAEA,MAAM,YAAN,MAAgB;AAAA,IACZ,YAAY,OAAO,mBAAmB;AAClC,WAAK,QAAQ;AACb,WAAK,oBAAoB;AAAA,IAC7B;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,YAAY;AACZ,aAAO,KAAK,KAAK,UAAU,KAAK;AAAA,IACpC;AAAA,IACA,QAAQ,aAAa;AACjB,aAAO,YAAY,OAAO,CAAC,QAAQ,eAAe,UAAU,KAAK,WAAW,UAAU,GAAG,MAAS;AAAA,IACtG;AAAA,IACA,WAAW,aAAa;AACpB,aAAO,YAAY,OAAO,CAAC,SAAS,eAAe,CAAC,GAAG,SAAS,GAAG,KAAK,eAAe,UAAU,CAAC,GAAG,CAAC,CAAC;AAAA,IAC3G;AAAA,IACA,yBAAyB,YAAY;AACjC,YAAM,gBAAgB,KAAK,OAAO,wBAAwB,KAAK,YAAY,UAAU;AACrF,aAAO,KAAK,kBAAkB,aAAa,aAAa;AAAA,IAC5D;AAAA,IACA,WAAW,YAAY;AACnB,YAAM,WAAW,KAAK,yBAAyB,UAAU;AACzD,UAAI;AACA,eAAO,KAAK,YAAY,UAAU,UAAU;AAAA,IACpD;AAAA,IACA,eAAe,YAAY;AACvB,YAAM,WAAW,KAAK,yBAAyB,UAAU;AACzD,aAAO,WAAW,KAAK,gBAAgB,UAAU,UAAU,IAAI,CAAC;AAAA,IACpE;AAAA,IACA,YAAY,UAAU,YAAY;AAC9B,YAAM,WAAW,KAAK,MAAM,cAAc,QAAQ;AAClD,aAAO,SAAS,OAAO,CAAC,YAAY,KAAK,eAAe,SAAS,UAAU,UAAU,CAAC,EAAE,CAAC;AAAA,IAC7F;AAAA,IACA,gBAAgB,UAAU,YAAY;AAClC,YAAM,WAAW,KAAK,MAAM,cAAc,QAAQ;AAClD,aAAO,SAAS,OAAO,CAAC,YAAY,KAAK,eAAe,SAAS,UAAU,UAAU,CAAC;AAAA,IAC1F;AAAA,IACA,eAAe,SAAS,UAAU,YAAY;AAC1C,YAAM,sBAAsB,QAAQ,aAAa,KAAK,MAAM,OAAO,mBAAmB,KAAK;AAC3F,aAAO,QAAQ,QAAQ,QAAQ,KAAK,oBAAoB,MAAM,GAAG,EAAE,SAAS,UAAU;AAAA,IAC1F;AAAA,EACJ;AAEA,MAAM,QAAN,MAAM,OAAM;AAAA,IACR,YAAY,QAAQ,SAAS,YAAYA,SAAQ;AAC7C,WAAK,UAAU,IAAI,UAAU,IAAI;AACjC,WAAK,UAAU,IAAI,SAAS,IAAI;AAChC,WAAK,OAAO,IAAI,QAAQ,IAAI;AAC5B,WAAK,kBAAkB,CAACC,aAAY;AAChC,eAAOA,SAAQ,QAAQ,KAAK,kBAAkB,MAAM,KAAK;AAAA,MAC7D;AACA,WAAK,SAAS;AACd,WAAK,UAAU;AACf,WAAK,aAAa;AAClB,WAAK,QAAQ,IAAI,MAAMD,OAAM;AAC7B,WAAK,UAAU,IAAI,UAAU,KAAK,eAAe,OAAO;AAAA,IAC5D;AAAA,IACA,YAAY,UAAU;AAClB,aAAO,KAAK,QAAQ,QAAQ,QAAQ,IAAI,KAAK,UAAU,KAAK,cAAc,QAAQ,EAAE,KAAK,KAAK,eAAe;AAAA,IACjH;AAAA,IACA,gBAAgB,UAAU;AACtB,aAAO;AAAA,QACH,GAAI,KAAK,QAAQ,QAAQ,QAAQ,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC;AAAA,QACvD,GAAG,KAAK,cAAc,QAAQ,EAAE,OAAO,KAAK,eAAe;AAAA,MAC/D;AAAA,IACJ;AAAA,IACA,cAAc,UAAU;AACpB,aAAO,MAAM,KAAK,KAAK,QAAQ,iBAAiB,QAAQ,CAAC;AAAA,IAC7D;AAAA,IACA,IAAI,qBAAqB;AACrB,aAAO,4BAA4B,KAAK,OAAO,qBAAqB,KAAK,UAAU;AAAA,IACvF;AAAA,IACA,IAAI,kBAAkB;AAClB,aAAO,KAAK,YAAY,SAAS;AAAA,IACrC;AAAA,IACA,IAAI,gBAAgB;AAChB,aAAO,KAAK,kBACN,OACA,IAAI,OAAM,KAAK,QAAQ,SAAS,iBAAiB,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,IAC7F;AAAA,EACJ;AAEA,MAAM,gBAAN,MAAoB;AAAA,IAChB,YAAY,SAAS,QAAQ,UAAU;AACnC,WAAK,UAAU;AACf,WAAK,SAAS;AACd,WAAK,WAAW;AAChB,WAAK,oBAAoB,IAAI,kBAAkB,KAAK,SAAS,KAAK,qBAAqB,IAAI;AAC3F,WAAK,8BAA8B,oBAAI,QAAQ;AAC/C,WAAK,uBAAuB,oBAAI,QAAQ;AAAA,IAC5C;AAAA,IACA,QAAQ;AACJ,WAAK,kBAAkB,MAAM;AAAA,IACjC;AAAA,IACA,OAAO;AACH,WAAK,kBAAkB,KAAK;AAAA,IAChC;AAAA,IACA,IAAI,sBAAsB;AACtB,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,mBAAmB,OAAO;AACtB,YAAM,EAAE,SAAS,SAAS,WAAW,IAAI;AACzC,aAAO,KAAK,kCAAkC,SAAS,UAAU;AAAA,IACrE;AAAA,IACA,kCAAkC,SAAS,YAAY;AACnD,YAAM,qBAAqB,KAAK,kCAAkC,OAAO;AACzE,UAAI,QAAQ,mBAAmB,IAAI,UAAU;AAC7C,UAAI,CAAC,OAAO;AACR,gBAAQ,KAAK,SAAS,mCAAmC,SAAS,UAAU;AAC5E,2BAAmB,IAAI,YAAY,KAAK;AAAA,MAC5C;AACA,aAAO;AAAA,IACX;AAAA,IACA,oBAAoB,SAAS,OAAO;AAChC,YAAM,kBAAkB,KAAK,qBAAqB,IAAI,KAAK,KAAK,KAAK;AACrE,WAAK,qBAAqB,IAAI,OAAO,cAAc;AACnD,UAAI,kBAAkB,GAAG;AACrB,aAAK,SAAS,eAAe,KAAK;AAAA,MACtC;AAAA,IACJ;AAAA,IACA,sBAAsB,SAAS,OAAO;AAClC,YAAM,iBAAiB,KAAK,qBAAqB,IAAI,KAAK;AAC1D,UAAI,gBAAgB;AAChB,aAAK,qBAAqB,IAAI,OAAO,iBAAiB,CAAC;AACvD,YAAI,kBAAkB,GAAG;AACrB,eAAK,SAAS,kBAAkB,KAAK;AAAA,QACzC;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,kCAAkC,SAAS;AACvC,UAAI,qBAAqB,KAAK,4BAA4B,IAAI,OAAO;AACrE,UAAI,CAAC,oBAAoB;AACrB,6BAAqB,oBAAI,IAAI;AAC7B,aAAK,4BAA4B,IAAI,SAAS,kBAAkB;AAAA,MACpE;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AAEA,MAAM,SAAN,MAAa;AAAA,IACT,YAAYD,cAAa;AACrB,WAAK,cAAcA;AACnB,WAAK,gBAAgB,IAAI,cAAc,KAAK,SAAS,KAAK,QAAQ,IAAI;AACtE,WAAK,qBAAqB,IAAI,SAAS;AACvC,WAAK,sBAAsB,oBAAI,IAAI;AAAA,IACvC;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,YAAY;AAAA,IAC5B;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,YAAY;AAAA,IAC5B;AAAA,IACA,IAAI,SAAS;AACT,aAAO,KAAK,YAAY;AAAA,IAC5B;AAAA,IACA,IAAI,sBAAsB;AACtB,aAAO,KAAK,OAAO;AAAA,IACvB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,MAAM,KAAK,KAAK,oBAAoB,OAAO,CAAC;AAAA,IACvD;AAAA,IACA,IAAI,WAAW;AACX,aAAO,KAAK,QAAQ,OAAO,CAAC,UAAU,WAAW,SAAS,OAAO,OAAO,QAAQ,GAAG,CAAC,CAAC;AAAA,IACzF;AAAA,IACA,QAAQ;AACJ,WAAK,cAAc,MAAM;AAAA,IAC7B;AAAA,IACA,OAAO;AACH,WAAK,cAAc,KAAK;AAAA,IAC5B;AAAA,IACA,eAAe,YAAY;AACvB,WAAK,iBAAiB,WAAW,UAAU;AAC3C,YAAM,SAAS,IAAI,OAAO,KAAK,aAAa,UAAU;AACtD,WAAK,cAAc,MAAM;AACzB,YAAM,YAAY,WAAW,sBAAsB;AACnD,UAAI,WAAW;AACX,kBAAU,KAAK,WAAW,uBAAuB,WAAW,YAAY,KAAK,WAAW;AAAA,MAC5F;AAAA,IACJ;AAAA,IACA,iBAAiB,YAAY;AACzB,YAAM,SAAS,KAAK,oBAAoB,IAAI,UAAU;AACtD,UAAI,QAAQ;AACR,aAAK,iBAAiB,MAAM;AAAA,MAChC;AAAA,IACJ;AAAA,IACA,kCAAkC,SAAS,YAAY;AACnD,YAAM,SAAS,KAAK,oBAAoB,IAAI,UAAU;AACtD,UAAI,QAAQ;AACR,eAAO,OAAO,SAAS,KAAK,CAAC,YAAY,QAAQ,WAAW,OAAO;AAAA,MACvE;AAAA,IACJ;AAAA,IACA,6CAA6C,SAAS,YAAY;AAC9D,YAAM,QAAQ,KAAK,cAAc,kCAAkC,SAAS,UAAU;AACtF,UAAI,OAAO;AACP,aAAK,cAAc,oBAAoB,MAAM,SAAS,KAAK;AAAA,MAC/D,OACK;AACD,gBAAQ,MAAM,kDAAkD,UAAU,kBAAkB,OAAO;AAAA,MACvG;AAAA,IACJ;AAAA,IACA,YAAYJ,QAAO,SAAS,QAAQ;AAChC,WAAK,YAAY,YAAYA,QAAO,SAAS,MAAM;AAAA,IACvD;AAAA,IACA,mCAAmC,SAAS,YAAY;AACpD,aAAO,IAAI,MAAM,KAAK,QAAQ,SAAS,YAAY,KAAK,MAAM;AAAA,IAClE;AAAA,IACA,eAAe,OAAO;AAClB,WAAK,mBAAmB,IAAI,MAAM,YAAY,KAAK;AACnD,YAAM,SAAS,KAAK,oBAAoB,IAAI,MAAM,UAAU;AAC5D,UAAI,QAAQ;AACR,eAAO,uBAAuB,KAAK;AAAA,MACvC;AAAA,IACJ;AAAA,IACA,kBAAkB,OAAO;AACrB,WAAK,mBAAmB,OAAO,MAAM,YAAY,KAAK;AACtD,YAAM,SAAS,KAAK,oBAAoB,IAAI,MAAM,UAAU;AAC5D,UAAI,QAAQ;AACR,eAAO,0BAA0B,KAAK;AAAA,MAC1C;AAAA,IACJ;AAAA,IACA,cAAc,QAAQ;AAClB,WAAK,oBAAoB,IAAI,OAAO,YAAY,MAAM;AACtD,YAAM,SAAS,KAAK,mBAAmB,gBAAgB,OAAO,UAAU;AACxE,aAAO,QAAQ,CAAC,UAAU,OAAO,uBAAuB,KAAK,CAAC;AAAA,IAClE;AAAA,IACA,iBAAiB,QAAQ;AACrB,WAAK,oBAAoB,OAAO,OAAO,UAAU;AACjD,YAAM,SAAS,KAAK,mBAAmB,gBAAgB,OAAO,UAAU;AACxE,aAAO,QAAQ,CAAC,UAAU,OAAO,0BAA0B,KAAK,CAAC;AAAA,IACrE;AAAA,EACJ;AAEA,MAAM,gBAAgB;AAAA,IAClB,qBAAqB;AAAA,IACrB,iBAAiB;AAAA,IACjB,iBAAiB;AAAA,IACjB,yBAAyB,CAAC,eAAe,QAAQ,UAAU;AAAA,IAC3D,yBAAyB,CAAC,YAAY,WAAW,QAAQ,UAAU,IAAI,MAAM;AAAA,IAC7E,aAAa,OAAO,OAAO,OAAO,OAAO,EAAE,OAAO,SAAS,KAAK,OAAO,KAAK,UAAU,OAAO,KAAK,IAAI,WAAW,MAAM,aAAa,MAAM,aAAa,OAAO,cAAc,MAAM,QAAQ,KAAK,OAAO,SAAS,UAAU,WAAW,WAAW,GAAG,kBAAkB,6BAA6B,MAAM,EAAE,EAAE,IAAI,CAACO,OAAM,CAACA,IAAGA,EAAC,CAAC,CAAC,CAAC,GAAG,kBAAkB,aAAa,MAAM,EAAE,EAAE,IAAI,CAACC,OAAM,CAACA,IAAGA,EAAC,CAAC,CAAC,CAAC;AAAA,EACjY;AACA,WAAS,kBAAkB,OAAO;AAC9B,WAAO,MAAM,OAAO,CAAC,MAAM,CAACC,IAAGC,EAAC,MAAO,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,IAAI,GAAG,EAAE,CAACD,EAAC,GAAGC,GAAE,CAAC,GAAI,CAAC,CAAC;AAAA,EAClG;AAEA,MAAM,cAAN,MAAkB;AAAA,IACd,YAAY,UAAU,SAAS,iBAAiB,SAAS,eAAe;AACpE,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,WAAK,mBAAmB,CAAC,YAAY,cAAc,SAAS,CAAC,MAAM;AAC/D,YAAI,KAAK,OAAO;AACZ,eAAK,oBAAoB,YAAY,cAAc,MAAM;AAAA,QAC7D;AAAA,MACJ;AACA,WAAK,UAAU;AACf,WAAK,SAAS;AACd,WAAK,aAAa,IAAI,WAAW,IAAI;AACrC,WAAK,SAAS,IAAI,OAAO,IAAI;AAC7B,WAAK,0BAA0B,OAAO,OAAO,CAAC,GAAG,8BAA8B;AAAA,IACnF;AAAA,IACA,OAAO,MAAM,SAAS,QAAQ;AAC1B,YAAMN,eAAc,IAAI,KAAK,SAAS,MAAM;AAC5C,MAAAA,aAAY,MAAM;AAClB,aAAOA;AAAA,IACX;AAAA,IACA,MAAM,QAAQ;AACV,YAAM,SAAS;AACf,WAAK,iBAAiB,eAAe,UAAU;AAC/C,WAAK,WAAW,MAAM;AACtB,WAAK,OAAO,MAAM;AAClB,WAAK,iBAAiB,eAAe,OAAO;AAAA,IAChD;AAAA,IACA,OAAO;AACH,WAAK,iBAAiB,eAAe,UAAU;AAC/C,WAAK,WAAW,KAAK;AACrB,WAAK,OAAO,KAAK;AACjB,WAAK,iBAAiB,eAAe,MAAM;AAAA,IAC/C;AAAA,IACA,SAAS,YAAY,uBAAuB;AACxC,WAAK,KAAK,EAAE,YAAY,sBAAsB,CAAC;AAAA,IACnD;AAAA,IACA,qBAAqB,MAAM,QAAQ;AAC/B,WAAK,wBAAwB,IAAI,IAAI;AAAA,IACzC;AAAA,IACA,KAAK,SAAS,MAAM;AAChB,YAAM,cAAc,MAAM,QAAQ,IAAI,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI;AAC/D,kBAAY,QAAQ,CAAC,eAAe;AAChC,YAAI,WAAW,sBAAsB,YAAY;AAC7C,eAAK,OAAO,eAAe,UAAU;AAAA,QACzC;AAAA,MACJ,CAAC;AAAA,IACL;AAAA,IACA,OAAO,SAAS,MAAM;AAClB,YAAM,cAAc,MAAM,QAAQ,IAAI,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI;AAC/D,kBAAY,QAAQ,CAAC,eAAe,KAAK,OAAO,iBAAiB,UAAU,CAAC;AAAA,IAChF;AAAA,IACA,IAAI,cAAc;AACd,aAAO,KAAK,OAAO,SAAS,IAAI,CAAC,YAAY,QAAQ,UAAU;AAAA,IACnE;AAAA,IACA,qCAAqC,SAAS,YAAY;AACtD,YAAM,UAAU,KAAK,OAAO,kCAAkC,SAAS,UAAU;AACjF,aAAO,UAAU,QAAQ,aAAa;AAAA,IAC1C;AAAA,IACA,YAAYJ,QAAO,SAAS,QAAQ;AAChC,UAAI;AACJ,WAAK,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA,KAAkB,SAASA,QAAO,MAAM;AAC1D,OAAC,KAAK,OAAO,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,QAAQ,SAAS,IAAI,GAAG,GAAGA,MAAK;AAAA,IACvG;AAAA,IACA,oBAAoB,YAAY,cAAc,SAAS,CAAC,GAAG;AACvD,eAAS,OAAO,OAAO,EAAE,aAAa,KAAK,GAAG,MAAM;AACpD,WAAK,OAAO,eAAe,GAAG,UAAU,KAAK,YAAY,EAAE;AAC3D,WAAK,OAAO,IAAI,YAAY,OAAO,OAAO,CAAC,GAAG,MAAM,CAAC;AACrD,WAAK,OAAO,SAAS;AAAA,IACzB;AAAA,EACJ;AACA,WAAS,WAAW;AAChB,WAAO,IAAI,QAAQ,CAAC,YAAY;AAC5B,UAAI,SAAS,cAAc,WAAW;AAClC,iBAAS,iBAAiB,oBAAoB,MAAM,QAAQ,CAAC;AAAA,MACjE,OACK;AACD,gBAAQ;AAAA,MACZ;AAAA,IACJ,CAAC;AAAA,EACL;AAEA,WAAS,wBAAwB,aAAa;AAC1C,UAAM,UAAU,iCAAiC,aAAa,SAAS;AACvE,WAAO,QAAQ,OAAO,CAAC,YAAY,oBAAoB;AACnD,aAAO,OAAO,OAAO,YAAY,6BAA6B,eAAe,CAAC;AAAA,IAClF,GAAG,CAAC,CAAC;AAAA,EACT;AACA,WAAS,6BAA6B,KAAK;AACvC,WAAO;AAAA,MACH,CAAC,GAAG,GAAG,OAAO,GAAG;AAAA,QACb,MAAM;AACF,gBAAM,EAAE,QAAQ,IAAI;AACpB,cAAI,QAAQ,IAAI,GAAG,GAAG;AAClB,mBAAO,QAAQ,IAAI,GAAG;AAAA,UAC1B,OACK;AACD,kBAAM,YAAY,QAAQ,iBAAiB,GAAG;AAC9C,kBAAM,IAAI,MAAM,sBAAsB,SAAS,GAAG;AAAA,UACtD;AAAA,QACJ;AAAA,MACJ;AAAA,MACA,CAAC,GAAG,GAAG,SAAS,GAAG;AAAA,QACf,MAAM;AACF,iBAAO,KAAK,QAAQ,OAAO,GAAG;AAAA,QAClC;AAAA,MACJ;AAAA,MACA,CAAC,MAAM,WAAW,GAAG,CAAC,OAAO,GAAG;AAAA,QAC5B,MAAM;AACF,iBAAO,KAAK,QAAQ,IAAI,GAAG;AAAA,QAC/B;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAEA,WAAS,yBAAyB,aAAa;AAC3C,UAAM,UAAU,iCAAiC,aAAa,SAAS;AACvE,WAAO,QAAQ,OAAO,CAAC,YAAY,qBAAqB;AACpD,aAAO,OAAO,OAAO,YAAY,8BAA8B,gBAAgB,CAAC;AAAA,IACpF,GAAG,CAAC,CAAC;AAAA,EACT;AACA,WAAS,oBAAoB,YAAY,SAAS,YAAY;AAC1D,WAAO,WAAW,YAAY,qCAAqC,SAAS,UAAU;AAAA,EAC1F;AACA,WAAS,qCAAqC,YAAY,SAAS,YAAY;AAC3E,QAAI,mBAAmB,oBAAoB,YAAY,SAAS,UAAU;AAC1E,QAAI;AACA,aAAO;AACX,eAAW,YAAY,OAAO,6CAA6C,SAAS,UAAU;AAC9F,uBAAmB,oBAAoB,YAAY,SAAS,UAAU;AACtE,QAAI;AACA,aAAO;AAAA,EACf;AACA,WAAS,8BAA8B,MAAM;AACzC,UAAM,gBAAgB,kBAAkB,IAAI;AAC5C,WAAO;AAAA,MACH,CAAC,GAAG,aAAa,QAAQ,GAAG;AAAA,QACxB,MAAM;AACF,gBAAM,gBAAgB,KAAK,QAAQ,KAAK,IAAI;AAC5C,gBAAM,WAAW,KAAK,QAAQ,yBAAyB,IAAI;AAC3D,cAAI,eAAe;AACf,kBAAM,mBAAmB,qCAAqC,MAAM,eAAe,IAAI;AACvF,gBAAI;AACA,qBAAO;AACX,kBAAM,IAAI,MAAM,gEAAgE,IAAI,mCAAmC,KAAK,UAAU,GAAG;AAAA,UAC7I;AACA,gBAAM,IAAI,MAAM,2BAA2B,IAAI,0BAA0B,KAAK,UAAU,uEAAuE,QAAQ,IAAI;AAAA,QAC/K;AAAA,MACJ;AAAA,MACA,CAAC,GAAG,aAAa,SAAS,GAAG;AAAA,QACzB,MAAM;AACF,gBAAM,UAAU,KAAK,QAAQ,QAAQ,IAAI;AACzC,cAAI,QAAQ,SAAS,GAAG;AACpB,mBAAO,QACF,IAAI,CAAC,kBAAkB;AACxB,oBAAM,mBAAmB,qCAAqC,MAAM,eAAe,IAAI;AACvF,kBAAI;AACA,uBAAO;AACX,sBAAQ,KAAK,gEAAgE,IAAI,mCAAmC,KAAK,UAAU,KAAK,aAAa;AAAA,YACzJ,CAAC,EACI,OAAO,CAAC,eAAe,UAAU;AAAA,UAC1C;AACA,iBAAO,CAAC;AAAA,QACZ;AAAA,MACJ;AAAA,MACA,CAAC,GAAG,aAAa,eAAe,GAAG;AAAA,QAC/B,MAAM;AACF,gBAAM,gBAAgB,KAAK,QAAQ,KAAK,IAAI;AAC5C,gBAAM,WAAW,KAAK,QAAQ,yBAAyB,IAAI;AAC3D,cAAI,eAAe;AACf,mBAAO;AAAA,UACX,OACK;AACD,kBAAM,IAAI,MAAM,2BAA2B,IAAI,0BAA0B,KAAK,UAAU,uEAAuE,QAAQ,IAAI;AAAA,UAC/K;AAAA,QACJ;AAAA,MACJ;AAAA,MACA,CAAC,GAAG,aAAa,gBAAgB,GAAG;AAAA,QAChC,MAAM;AACF,iBAAO,KAAK,QAAQ,QAAQ,IAAI;AAAA,QACpC;AAAA,MACJ;AAAA,MACA,CAAC,MAAM,WAAW,aAAa,CAAC,QAAQ,GAAG;AAAA,QACvC,MAAM;AACF,iBAAO,KAAK,QAAQ,IAAI,IAAI;AAAA,QAChC;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAEA,WAAS,yBAAyB,aAAa;AAC3C,UAAM,UAAU,iCAAiC,aAAa,SAAS;AACvE,WAAO,QAAQ,OAAO,CAAC,YAAY,qBAAqB;AACpD,aAAO,OAAO,OAAO,YAAY,8BAA8B,gBAAgB,CAAC;AAAA,IACpF,GAAG,CAAC,CAAC;AAAA,EACT;AACA,WAAS,8BAA8B,MAAM;AACzC,WAAO;AAAA,MACH,CAAC,GAAG,IAAI,QAAQ,GAAG;AAAA,QACf,MAAM;AACF,gBAAM,SAAS,KAAK,QAAQ,KAAK,IAAI;AACrC,cAAI,QAAQ;AACR,mBAAO;AAAA,UACX,OACK;AACD,kBAAM,IAAI,MAAM,2BAA2B,IAAI,UAAU,KAAK,UAAU,cAAc;AAAA,UAC1F;AAAA,QACJ;AAAA,MACJ;AAAA,MACA,CAAC,GAAG,IAAI,SAAS,GAAG;AAAA,QAChB,MAAM;AACF,iBAAO,KAAK,QAAQ,QAAQ,IAAI;AAAA,QACpC;AAAA,MACJ;AAAA,MACA,CAAC,MAAM,WAAW,IAAI,CAAC,QAAQ,GAAG;AAAA,QAC9B,MAAM;AACF,iBAAO,KAAK,QAAQ,IAAI,IAAI;AAAA,QAChC;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAEA,WAAS,wBAAwB,aAAa;AAC1C,UAAM,uBAAuB,iCAAiC,aAAa,QAAQ;AACnF,UAAM,wBAAwB;AAAA,MAC1B,oBAAoB;AAAA,QAChB,MAAM;AACF,iBAAO,qBAAqB,OAAO,CAAC,QAAQ,wBAAwB;AAChE,kBAAM,kBAAkB,yBAAyB,qBAAqB,KAAK,UAAU;AACrF,kBAAM,gBAAgB,KAAK,KAAK,uBAAuB,gBAAgB,GAAG;AAC1E,mBAAO,OAAO,OAAO,QAAQ,EAAE,CAAC,aAAa,GAAG,gBAAgB,CAAC;AAAA,UACrE,GAAG,CAAC,CAAC;AAAA,QACT;AAAA,MACJ;AAAA,IACJ;AACA,WAAO,qBAAqB,OAAO,CAAC,YAAY,wBAAwB;AACpE,aAAO,OAAO,OAAO,YAAY,iCAAiC,mBAAmB,CAAC;AAAA,IAC1F,GAAG,qBAAqB;AAAA,EAC5B;AACA,WAAS,iCAAiC,qBAAqB,YAAY;AACvE,UAAM,aAAa,yBAAyB,qBAAqB,UAAU;AAC3E,UAAM,EAAE,KAAK,MAAM,QAAQW,OAAM,QAAQC,OAAM,IAAI;AACnD,WAAO;AAAA,MACH,CAAC,IAAI,GAAG;AAAA,QACJ,MAAM;AACF,gBAAM,QAAQ,KAAK,KAAK,IAAI,GAAG;AAC/B,cAAI,UAAU,MAAM;AAChB,mBAAOD,MAAK,KAAK;AAAA,UACrB,OACK;AACD,mBAAO,WAAW;AAAA,UACtB;AAAA,QACJ;AAAA,QACA,IAAI,OAAO;AACP,cAAI,UAAU,QAAW;AACrB,iBAAK,KAAK,OAAO,GAAG;AAAA,UACxB,OACK;AACD,iBAAK,KAAK,IAAI,KAAKC,OAAM,KAAK,CAAC;AAAA,UACnC;AAAA,QACJ;AAAA,MACJ;AAAA,MACA,CAAC,MAAM,WAAW,IAAI,CAAC,EAAE,GAAG;AAAA,QACxB,MAAM;AACF,iBAAO,KAAK,KAAK,IAAI,GAAG,KAAK,WAAW;AAAA,QAC5C;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACA,WAAS,yBAAyB,CAAC,OAAO,cAAc,GAAG,YAAY;AACnE,WAAO,yCAAyC;AAAA,MAC5C;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAC;AAAA,EACL;AACA,WAAS,uBAAuB,UAAU;AACtC,YAAQ,UAAU;AAAA,MACd,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,IACf;AAAA,EACJ;AACA,WAAS,sBAAsB,cAAc;AACzC,YAAQ,OAAO,cAAc;AAAA,MACzB,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,IACf;AACA,QAAI,MAAM,QAAQ,YAAY;AAC1B,aAAO;AACX,QAAI,OAAO,UAAU,SAAS,KAAK,YAAY,MAAM;AACjD,aAAO;AAAA,EACf;AACA,WAAS,qBAAqB,SAAS;AACnC,UAAM,EAAE,YAAY,OAAO,WAAW,IAAI;AAC1C,UAAM,UAAU,YAAY,WAAW,IAAI;AAC3C,UAAM,aAAa,YAAY,WAAW,OAAO;AACjD,UAAM,aAAa,WAAW;AAC9B,UAAM,WAAW,WAAW,CAAC;AAC7B,UAAM,cAAc,CAAC,WAAW;AAChC,UAAM,iBAAiB,uBAAuB,WAAW,IAAI;AAC7D,UAAM,uBAAuB,sBAAsB,QAAQ,WAAW,OAAO;AAC7E,QAAI;AACA,aAAO;AACX,QAAI;AACA,aAAO;AACX,QAAI,mBAAmB,sBAAsB;AACzC,YAAM,eAAe,aAAa,GAAG,UAAU,IAAI,KAAK,KAAK;AAC7D,YAAM,IAAI,MAAM,uDAAuD,YAAY,kCAAkC,cAAc,qCAAqC,WAAW,OAAO,iBAAiB,oBAAoB,IAAI;AAAA,IACvO;AACA,QAAI;AACA,aAAO;AAAA,EACf;AACA,WAAS,yBAAyB,SAAS;AACvC,UAAM,EAAE,YAAY,OAAO,eAAe,IAAI;AAC9C,UAAM,aAAa,EAAE,YAAY,OAAO,YAAY,eAAe;AACnE,UAAM,iBAAiB,qBAAqB,UAAU;AACtD,UAAM,uBAAuB,sBAAsB,cAAc;AACjE,UAAM,mBAAmB,uBAAuB,cAAc;AAC9D,UAAM,OAAO,kBAAkB,wBAAwB;AACvD,QAAI;AACA,aAAO;AACX,UAAM,eAAe,aAAa,GAAG,UAAU,IAAI,cAAc,KAAK;AACtE,UAAM,IAAI,MAAM,uBAAuB,YAAY,UAAU,KAAK,SAAS;AAAA,EAC/E;AACA,WAAS,0BAA0B,gBAAgB;AAC/C,UAAM,WAAW,uBAAuB,cAAc;AACtD,QAAI;AACA,aAAO,oBAAoB,QAAQ;AACvC,UAAM,aAAa,YAAY,gBAAgB,SAAS;AACxD,UAAM,UAAU,YAAY,gBAAgB,MAAM;AAClD,UAAM,aAAa;AACnB,QAAI;AACA,aAAO,WAAW;AACtB,QAAI,SAAS;AACT,YAAM,EAAE,KAAK,IAAI;AACjB,YAAM,mBAAmB,uBAAuB,IAAI;AACpD,UAAI;AACA,eAAO,oBAAoB,gBAAgB;AAAA,IACnD;AACA,WAAO;AAAA,EACX;AACA,WAAS,yCAAyC,SAAS;AACvD,UAAM,EAAE,OAAO,eAAe,IAAI;AAClC,UAAM,MAAM,GAAG,UAAU,KAAK,CAAC;AAC/B,UAAM,OAAO,yBAAyB,OAAO;AAC7C,WAAO;AAAA,MACH;AAAA,MACA;AAAA,MACA,MAAM,SAAS,GAAG;AAAA,MAClB,IAAI,eAAe;AACf,eAAO,0BAA0B,cAAc;AAAA,MACnD;AAAA,MACA,IAAI,wBAAwB;AACxB,eAAO,sBAAsB,cAAc,MAAM;AAAA,MACrD;AAAA,MACA,QAAQ,QAAQ,IAAI;AAAA,MACpB,QAAQ,QAAQ,IAAI,KAAK,QAAQ;AAAA,IACrC;AAAA,EACJ;AACA,MAAM,sBAAsB;AAAA,IACxB,IAAI,QAAQ;AACR,aAAO,CAAC;AAAA,IACZ;AAAA,IACA,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,IAAI,SAAS;AACT,aAAO,CAAC;AAAA,IACZ;AAAA,IACA,QAAQ;AAAA,EACZ;AACA,MAAM,UAAU;AAAA,IACZ,MAAM,OAAO;AACT,YAAM,QAAQ,KAAK,MAAM,KAAK;AAC9B,UAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACvB,cAAM,IAAI,UAAU,yDAAyD,KAAK,cAAc,sBAAsB,KAAK,CAAC,GAAG;AAAA,MACnI;AACA,aAAO;AAAA,IACX;AAAA,IACA,QAAQ,OAAO;AACX,aAAO,EAAE,SAAS,OAAO,OAAO,KAAK,EAAE,YAAY,KAAK;AAAA,IAC5D;AAAA,IACA,OAAO,OAAO;AACV,aAAO,OAAO,MAAM,QAAQ,MAAM,EAAE,CAAC;AAAA,IACzC;AAAA,IACA,OAAO,OAAO;AACV,YAAM,SAAS,KAAK,MAAM,KAAK;AAC/B,UAAI,WAAW,QAAQ,OAAO,UAAU,YAAY,MAAM,QAAQ,MAAM,GAAG;AACvE,cAAM,IAAI,UAAU,0DAA0D,KAAK,cAAc,sBAAsB,MAAM,CAAC,GAAG;AAAA,MACrI;AACA,aAAO;AAAA,IACX;AAAA,IACA,OAAO,OAAO;AACV,aAAO;AAAA,IACX;AAAA,EACJ;AACA,MAAM,UAAU;AAAA,IACZ,SAAS;AAAA,IACT,OAAO;AAAA,IACP,QAAQ;AAAA,EACZ;AACA,WAAS,UAAU,OAAO;AACtB,WAAO,KAAK,UAAU,KAAK;AAAA,EAC/B;AACA,WAAS,YAAY,OAAO;AACxB,WAAO,GAAG,KAAK;AAAA,EACnB;AAEA,MAAM,aAAN,MAAiB;AAAA,IACb,YAAY,SAAS;AACjB,WAAK,UAAU;AAAA,IACnB;AAAA,IACA,WAAW,aAAa;AACpB,aAAO;AAAA,IACX;AAAA,IACA,OAAO,UAAU,aAAa,cAAc;AACxC;AAAA,IACJ;AAAA,IACA,IAAI,cAAc;AACd,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,QAAQ;AACR,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,aAAa;AACb,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,UAAU;AACV,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,IAAI,OAAO;AACP,aAAO,KAAK,MAAM;AAAA,IACtB;AAAA,IACA,aAAa;AAAA,IACb;AAAA,IACA,UAAU;AAAA,IACV;AAAA,IACA,aAAa;AAAA,IACb;AAAA,IACA,SAAS,WAAW,EAAE,SAAS,KAAK,SAAS,SAAS,CAAC,GAAG,SAAS,KAAK,YAAY,UAAU,MAAM,aAAa,KAAM,IAAI,CAAC,GAAG;AAC3H,YAAM,OAAO,SAAS,GAAG,MAAM,IAAI,SAAS,KAAK;AACjD,YAAM,QAAQ,IAAI,YAAY,MAAM,EAAE,QAAQ,SAAS,WAAW,CAAC;AACnE,aAAO,cAAc,KAAK;AAC1B,aAAO;AAAA,IACX;AAAA,EACJ;AACA,aAAW,YAAY;AAAA,IACnB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA,aAAW,UAAU,CAAC;AACtB,aAAW,UAAU,CAAC;AACtB,aAAW,SAAS,CAAC;;;AC9/ErB,MAAM,cAAc,YAAY,MAAM;AAGtC,cAAY,QAAQ;AACpB,SAAO,WAAW;;;ACNlB;AAAA;AAAA;AAAA;;;ACAO,MAAI,MAAM;AACV,MAAI,SAAS;AACb,MAAI,QAAQ;AACZ,MAAI,OAAO;AACX,MAAI,OAAO;AACX,MAAI,iBAAiB,CAAC,KAAK,QAAQ,OAAO,IAAI;AAC9C,MAAI,QAAQ;AACZ,MAAI,MAAM;AACV,MAAI,kBAAkB;AACtB,MAAI,WAAW;AACf,MAAI,SAAS;AACb,MAAI,YAAY;AAChB,MAAI,sBAAmC,+BAAe,OAAO,SAAU,KAAK,WAAW;AAC5F,WAAO,IAAI,OAAO,CAAC,YAAY,MAAM,OAAO,YAAY,MAAM,GAAG,CAAC;AAAA,EACpE,GAAG,CAAC,CAAC;AACE,MAAI,aAA0B,iBAAC,EAAE,OAAO,gBAAgB,CAAC,IAAI,CAAC,EAAE,OAAO,SAAU,KAAK,WAAW;AACtG,WAAO,IAAI,OAAO,CAAC,WAAW,YAAY,MAAM,OAAO,YAAY,MAAM,GAAG,CAAC;AAAA,EAC/E,GAAG,CAAC,CAAC;AAEE,MAAI,aAAa;AACjB,MAAI,OAAO;AACX,MAAI,YAAY;AAEhB,MAAI,aAAa;AACjB,MAAI,OAAO;AACX,MAAI,YAAY;AAEhB,MAAI,cAAc;AAClB,MAAI,QAAQ;AACZ,MAAI,aAAa;AACjB,MAAI,iBAAiB,CAAC,YAAY,MAAM,WAAW,YAAY,MAAM,WAAW,aAAa,OAAO,UAAU;;;AC9BtG,WAAR,YAA6B,SAAS;AAC3C,WAAO,WAAW,QAAQ,YAAY,IAAI,YAAY,IAAI;AAAA,EAC5D;;;ACFe,WAAR,UAA2B,MAAM;AACtC,QAAI,QAAQ,MAAM;AAChB,aAAO;AAAA,IACT;AAEA,QAAI,KAAK,SAAS,MAAM,mBAAmB;AACzC,UAAI,gBAAgB,KAAK;AACzB,aAAO,gBAAgB,cAAc,eAAe,SAAS;AAAA,IAC/D;AAEA,WAAO;AAAA,EACT;;;ACTA,WAAS,UAAU,MAAM;AACvB,QAAI,aAAa,UAAU,IAAI,EAAE;AACjC,WAAO,gBAAgB,cAAc,gBAAgB;AAAA,EACvD;AAEA,WAAS,cAAc,MAAM;AAC3B,QAAI,aAAa,UAAU,IAAI,EAAE;AACjC,WAAO,gBAAgB,cAAc,gBAAgB;AAAA,EACvD;AAEA,WAAS,aAAa,MAAM;AAE1B,QAAI,OAAO,eAAe,aAAa;AACrC,aAAO;AAAA,IACT;AAEA,QAAI,aAAa,UAAU,IAAI,EAAE;AACjC,WAAO,gBAAgB,cAAc,gBAAgB;AAAA,EACvD;;;AChBA,WAAS,YAAY,MAAM;AACzB,QAAI,QAAQ,KAAK;AACjB,WAAO,KAAK,MAAM,QAAQ,EAAE,QAAQ,SAAU,MAAM;AAClD,UAAI,QAAQ,MAAM,OAAO,IAAI,KAAK,CAAC;AACnC,UAAI,aAAa,MAAM,WAAW,IAAI,KAAK,CAAC;AAC5C,UAAI,UAAU,MAAM,SAAS,IAAI;AAEjC,UAAI,CAAC,cAAc,OAAO,KAAK,CAAC,YAAY,OAAO,GAAG;AACpD;AAAA,MACF;AAKA,aAAO,OAAO,QAAQ,OAAO,KAAK;AAClC,aAAO,KAAK,UAAU,EAAE,QAAQ,SAAUC,OAAM;AAC9C,YAAI,QAAQ,WAAWA,KAAI;AAE3B,YAAI,UAAU,OAAO;AACnB,kBAAQ,gBAAgBA,KAAI;AAAA,QAC9B,OAAO;AACL,kBAAQ,aAAaA,OAAM,UAAU,OAAO,KAAK,KAAK;AAAA,QACxD;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,WAAS,OAAO,OAAO;AACrB,QAAI,QAAQ,MAAM;AAClB,QAAI,gBAAgB;AAAA,MAClB,QAAQ;AAAA,QACN,UAAU,MAAM,QAAQ;AAAA,QACxB,MAAM;AAAA,QACN,KAAK;AAAA,QACL,QAAQ;AAAA,MACV;AAAA,MACA,OAAO;AAAA,QACL,UAAU;AAAA,MACZ;AAAA,MACA,WAAW,CAAC;AAAA,IACd;AACA,WAAO,OAAO,MAAM,SAAS,OAAO,OAAO,cAAc,MAAM;AAC/D,UAAM,SAAS;AAEf,QAAI,MAAM,SAAS,OAAO;AACxB,aAAO,OAAO,MAAM,SAAS,MAAM,OAAO,cAAc,KAAK;AAAA,IAC/D;AAEA,WAAO,WAAY;AACjB,aAAO,KAAK,MAAM,QAAQ,EAAE,QAAQ,SAAU,MAAM;AAClD,YAAI,UAAU,MAAM,SAAS,IAAI;AACjC,YAAI,aAAa,MAAM,WAAW,IAAI,KAAK,CAAC;AAC5C,YAAI,kBAAkB,OAAO,KAAK,MAAM,OAAO,eAAe,IAAI,IAAI,MAAM,OAAO,IAAI,IAAI,cAAc,IAAI,CAAC;AAE9G,YAAI,QAAQ,gBAAgB,OAAO,SAAUC,QAAO,UAAU;AAC5D,UAAAA,OAAM,QAAQ,IAAI;AAClB,iBAAOA;AAAA,QACT,GAAG,CAAC,CAAC;AAEL,YAAI,CAAC,cAAc,OAAO,KAAK,CAAC,YAAY,OAAO,GAAG;AACpD;AAAA,QACF;AAEA,eAAO,OAAO,QAAQ,OAAO,KAAK;AAClC,eAAO,KAAK,UAAU,EAAE,QAAQ,SAAU,WAAW;AACnD,kBAAQ,gBAAgB,SAAS;AAAA,QACnC,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA,EACF;AAGA,MAAO,sBAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI;AAAA,IACJ;AAAA,IACA,UAAU,CAAC,eAAe;AAAA,EAC5B;;;AClFe,WAAR,iBAAkC,WAAW;AAClD,WAAO,UAAU,MAAM,GAAG,EAAE,CAAC;AAAA,EAC/B;;;ACHO,MAAI,MAAM,KAAK;AACf,MAAI,MAAM,KAAK;AACf,MAAI,QAAQ,KAAK;;;ACFT,WAAR,cAA+B;AACpC,QAAI,SAAS,UAAU;AAEvB,QAAI,UAAU,QAAQ,OAAO,QAAQ;AACnC,aAAO,OAAO,OAAO,IAAI,SAAU,MAAM;AACvC,eAAO,KAAK,QAAQ,MAAM,KAAK;AAAA,MACjC,CAAC,EAAE,KAAK,GAAG;AAAA,IACb;AAEA,WAAO,UAAU;AAAA,EACnB;;;ACTe,WAAR,mBAAoC;AACzC,WAAO,CAAC,iCAAiC,KAAK,YAAY,CAAC;AAAA,EAC7D;;;ACCe,WAAR,sBAAuC,SAAS,cAAc,iBAAiB;AACpF,QAAI,iBAAiB,QAAQ;AAC3B,qBAAe;AAAA,IACjB;AAEA,QAAI,oBAAoB,QAAQ;AAC9B,wBAAkB;AAAA,IACpB;AAEA,QAAI,aAAa,QAAQ,sBAAsB;AAC/C,QAAI,SAAS;AACb,QAAI,SAAS;AAEb,QAAI,gBAAgB,cAAc,OAAO,GAAG;AAC1C,eAAS,QAAQ,cAAc,IAAI,MAAM,WAAW,KAAK,IAAI,QAAQ,eAAe,IAAI;AACxF,eAAS,QAAQ,eAAe,IAAI,MAAM,WAAW,MAAM,IAAI,QAAQ,gBAAgB,IAAI;AAAA,IAC7F;AAEA,QAAI,OAAO,UAAU,OAAO,IAAI,UAAU,OAAO,IAAI,QACjD,iBAAiB,KAAK;AAE1B,QAAI,mBAAmB,CAAC,iBAAiB,KAAK;AAC9C,QAAIC,MAAK,WAAW,QAAQ,oBAAoB,iBAAiB,eAAe,aAAa,MAAM;AACnG,QAAIC,MAAK,WAAW,OAAO,oBAAoB,iBAAiB,eAAe,YAAY,MAAM;AACjG,QAAI,QAAQ,WAAW,QAAQ;AAC/B,QAAI,SAAS,WAAW,SAAS;AACjC,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA,KAAKA;AAAA,MACL,OAAOD,KAAI;AAAA,MACX,QAAQC,KAAI;AAAA,MACZ,MAAMD;AAAA,MACN,GAAGA;AAAA,MACH,GAAGC;AAAA,IACL;AAAA,EACF;;;ACrCe,WAAR,cAA+B,SAAS;AAC7C,QAAI,aAAa,sBAAsB,OAAO;AAG9C,QAAI,QAAQ,QAAQ;AACpB,QAAI,SAAS,QAAQ;AAErB,QAAI,KAAK,IAAI,WAAW,QAAQ,KAAK,KAAK,GAAG;AAC3C,cAAQ,WAAW;AAAA,IACrB;AAEA,QAAI,KAAK,IAAI,WAAW,SAAS,MAAM,KAAK,GAAG;AAC7C,eAAS,WAAW;AAAA,IACtB;AAEA,WAAO;AAAA,MACL,GAAG,QAAQ;AAAA,MACX,GAAG,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,IACF;AAAA,EACF;;;ACvBe,WAAR,SAA0B,QAAQ,OAAO;AAC9C,QAAI,WAAW,MAAM,eAAe,MAAM,YAAY;AAEtD,QAAI,OAAO,SAAS,KAAK,GAAG;AAC1B,aAAO;AAAA,IACT,WACS,YAAY,aAAa,QAAQ,GAAG;AACzC,UAAI,OAAO;AAEX,SAAG;AACD,YAAI,QAAQ,OAAO,WAAW,IAAI,GAAG;AACnC,iBAAO;AAAA,QACT;AAGA,eAAO,KAAK,cAAc,KAAK;AAAA,MACjC,SAAS;AAAA,IACX;AAGF,WAAO;AAAA,EACT;;;ACrBe,WAAR,iBAAkC,SAAS;AAChD,WAAO,UAAU,OAAO,EAAE,iBAAiB,OAAO;AAAA,EACpD;;;ACFe,WAAR,eAAgC,SAAS;AAC9C,WAAO,CAAC,SAAS,MAAM,IAAI,EAAE,QAAQ,YAAY,OAAO,CAAC,KAAK;AAAA,EAChE;;;ACFe,WAAR,mBAAoC,SAAS;AAElD,aAAS,UAAU,OAAO,IAAI,QAAQ;AAAA;AAAA,MACtC,QAAQ;AAAA,UAAa,OAAO,UAAU;AAAA,EACxC;;;ACFe,WAAR,cAA+B,SAAS;AAC7C,QAAI,YAAY,OAAO,MAAM,QAAQ;AACnC,aAAO;AAAA,IACT;AAEA;AAAA;AAAA;AAAA;AAAA,MAGE,QAAQ;AAAA,MACR,QAAQ;AAAA,OACR,aAAa,OAAO,IAAI,QAAQ,OAAO;AAAA;AAAA,MAEvC,mBAAmB,OAAO;AAAA;AAAA,EAG9B;;;ACVA,WAAS,oBAAoB,SAAS;AACpC,QAAI,CAAC,cAAc,OAAO;AAAA,IAC1B,iBAAiB,OAAO,EAAE,aAAa,SAAS;AAC9C,aAAO;AAAA,IACT;AAEA,WAAO,QAAQ;AAAA,EACjB;AAIA,WAAS,mBAAmB,SAAS;AACnC,QAAI,YAAY,WAAW,KAAK,YAAY,CAAC;AAC7C,QAAI,OAAO,WAAW,KAAK,YAAY,CAAC;AAExC,QAAI,QAAQ,cAAc,OAAO,GAAG;AAElC,UAAI,aAAa,iBAAiB,OAAO;AAEzC,UAAI,WAAW,aAAa,SAAS;AACnC,eAAO;AAAA,MACT;AAAA,IACF;AAEA,QAAI,cAAc,cAAc,OAAO;AAEvC,QAAI,aAAa,WAAW,GAAG;AAC7B,oBAAc,YAAY;AAAA,IAC5B;AAEA,WAAO,cAAc,WAAW,KAAK,CAAC,QAAQ,MAAM,EAAE,QAAQ,YAAY,WAAW,CAAC,IAAI,GAAG;AAC3F,UAAI,MAAM,iBAAiB,WAAW;AAItC,UAAI,IAAI,cAAc,UAAU,IAAI,gBAAgB,UAAU,IAAI,YAAY,WAAW,CAAC,aAAa,aAAa,EAAE,QAAQ,IAAI,UAAU,MAAM,MAAM,aAAa,IAAI,eAAe,YAAY,aAAa,IAAI,UAAU,IAAI,WAAW,QAAQ;AACpP,eAAO;AAAA,MACT,OAAO;AACL,sBAAc,YAAY;AAAA,MAC5B;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAIe,WAAR,gBAAiC,SAAS;AAC/C,QAAIC,UAAS,UAAU,OAAO;AAC9B,QAAI,eAAe,oBAAoB,OAAO;AAE9C,WAAO,gBAAgB,eAAe,YAAY,KAAK,iBAAiB,YAAY,EAAE,aAAa,UAAU;AAC3G,qBAAe,oBAAoB,YAAY;AAAA,IACjD;AAEA,QAAI,iBAAiB,YAAY,YAAY,MAAM,UAAU,YAAY,YAAY,MAAM,UAAU,iBAAiB,YAAY,EAAE,aAAa,WAAW;AAC1J,aAAOA;AAAA,IACT;AAEA,WAAO,gBAAgB,mBAAmB,OAAO,KAAKA;AAAA,EACxD;;;ACpEe,WAAR,yBAA0C,WAAW;AAC1D,WAAO,CAAC,OAAO,QAAQ,EAAE,QAAQ,SAAS,KAAK,IAAI,MAAM;AAAA,EAC3D;;;ACDO,WAAS,OAAOC,MAAK,OAAOC,MAAK;AACtC,WAAO,IAAQD,MAAK,IAAQ,OAAOC,IAAG,CAAC;AAAA,EACzC;AACO,WAAS,eAAeD,MAAK,OAAOC,MAAK;AAC9C,QAAIC,KAAI,OAAOF,MAAK,OAAOC,IAAG;AAC9B,WAAOC,KAAID,OAAMA,OAAMC;AAAA,EACzB;;;ACPe,WAAR,qBAAsC;AAC3C,WAAO;AAAA,MACL,KAAK;AAAA,MACL,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,IACR;AAAA,EACF;;;ACNe,WAAR,mBAAoC,eAAe;AACxD,WAAO,OAAO,OAAO,CAAC,GAAG,mBAAmB,GAAG,aAAa;AAAA,EAC9D;;;ACHe,WAAR,gBAAiC,OAAO,MAAM;AACnD,WAAO,KAAK,OAAO,SAAU,SAAS,KAAK;AACzC,cAAQ,GAAG,IAAI;AACf,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AAAA,EACP;;;ACMA,MAAI,kBAAkB,SAASC,iBAAgB,SAAS,OAAO;AAC7D,cAAU,OAAO,YAAY,aAAa,QAAQ,OAAO,OAAO,CAAC,GAAG,MAAM,OAAO;AAAA,MAC/E,WAAW,MAAM;AAAA,IACnB,CAAC,CAAC,IAAI;AACN,WAAO,mBAAmB,OAAO,YAAY,WAAW,UAAU,gBAAgB,SAAS,cAAc,CAAC;AAAA,EAC5G;AAEA,WAAS,MAAM,MAAM;AACnB,QAAI;AAEJ,QAAI,QAAQ,KAAK,OACb,OAAO,KAAK,MACZ,UAAU,KAAK;AACnB,QAAI,eAAe,MAAM,SAAS;AAClC,QAAIC,iBAAgB,MAAM,cAAc;AACxC,QAAI,gBAAgB,iBAAiB,MAAM,SAAS;AACpD,QAAI,OAAO,yBAAyB,aAAa;AACjD,QAAI,aAAa,CAAC,MAAM,KAAK,EAAE,QAAQ,aAAa,KAAK;AACzD,QAAI,MAAM,aAAa,WAAW;AAElC,QAAI,CAAC,gBAAgB,CAACA,gBAAe;AACnC;AAAA,IACF;AAEA,QAAI,gBAAgB,gBAAgB,QAAQ,SAAS,KAAK;AAC1D,QAAI,YAAY,cAAc,YAAY;AAC1C,QAAI,UAAU,SAAS,MAAM,MAAM;AACnC,QAAI,UAAU,SAAS,MAAM,SAAS;AACtC,QAAI,UAAU,MAAM,MAAM,UAAU,GAAG,IAAI,MAAM,MAAM,UAAU,IAAI,IAAIA,eAAc,IAAI,IAAI,MAAM,MAAM,OAAO,GAAG;AACrH,QAAI,YAAYA,eAAc,IAAI,IAAI,MAAM,MAAM,UAAU,IAAI;AAChE,QAAI,oBAAoB,gBAAgB,YAAY;AACpD,QAAI,aAAa,oBAAoB,SAAS,MAAM,kBAAkB,gBAAgB,IAAI,kBAAkB,eAAe,IAAI;AAC/H,QAAI,oBAAoB,UAAU,IAAI,YAAY;AAGlD,QAAIC,OAAM,cAAc,OAAO;AAC/B,QAAIC,OAAM,aAAa,UAAU,GAAG,IAAI,cAAc,OAAO;AAC7D,QAAI,SAAS,aAAa,IAAI,UAAU,GAAG,IAAI,IAAI;AACnD,QAAIC,UAAS,OAAOF,MAAK,QAAQC,IAAG;AAEpC,QAAI,WAAW;AACf,UAAM,cAAc,IAAI,KAAK,wBAAwB,CAAC,GAAG,sBAAsB,QAAQ,IAAIC,SAAQ,sBAAsB,eAAeA,UAAS,QAAQ;AAAA,EAC3J;AAEA,WAASC,QAAO,OAAO;AACrB,QAAI,QAAQ,MAAM,OACd,UAAU,MAAM;AACpB,QAAI,mBAAmB,QAAQ,SAC3B,eAAe,qBAAqB,SAAS,wBAAwB;AAEzE,QAAI,gBAAgB,MAAM;AACxB;AAAA,IACF;AAGA,QAAI,OAAO,iBAAiB,UAAU;AACpC,qBAAe,MAAM,SAAS,OAAO,cAAc,YAAY;AAE/D,UAAI,CAAC,cAAc;AACjB;AAAA,MACF;AAAA,IACF;AAEA,QAAI,MAAuC;AACzC,UAAI,CAAC,cAAc,YAAY,GAAG;AAChC,gBAAQ,MAAM,CAAC,uEAAuE,uEAAuE,YAAY,EAAE,KAAK,GAAG,CAAC;AAAA,MACtL;AAAA,IACF;AAEA,QAAI,CAAC,SAAS,MAAM,SAAS,QAAQ,YAAY,GAAG;AAClD,UAAI,MAAuC;AACzC,gBAAQ,MAAM,CAAC,uEAAuE,UAAU,EAAE,KAAK,GAAG,CAAC;AAAA,MAC7G;AAEA;AAAA,IACF;AAEA,UAAM,SAAS,QAAQ;AAAA,EACzB;AAGA,MAAO,gBAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,QAAQA;AAAA,IACR,UAAU,CAAC,eAAe;AAAA,IAC1B,kBAAkB,CAAC,iBAAiB;AAAA,EACtC;;;ACpGe,WAAR,aAA8B,WAAW;AAC9C,WAAO,UAAU,MAAM,GAAG,EAAE,CAAC;AAAA,EAC/B;;;ACOA,MAAI,aAAa;AAAA,IACf,KAAK;AAAA,IACL,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AAIA,WAAS,kBAAkB,MAAM;AAC/B,QAAIC,KAAI,KAAK,GACTC,KAAI,KAAK;AACb,QAAI,MAAM;AACV,QAAI,MAAM,IAAI,oBAAoB;AAClC,WAAO;AAAA,MACL,GAAG,MAAMD,KAAI,GAAG,IAAI,OAAO;AAAA,MAC3B,GAAG,MAAMC,KAAI,GAAG,IAAI,OAAO;AAAA,IAC7B;AAAA,EACF;AAEO,WAAS,YAAY,OAAO;AACjC,QAAI;AAEJ,QAAIC,UAAS,MAAM,QACf,aAAa,MAAM,YACnB,YAAY,MAAM,WAClB,YAAY,MAAM,WAClB,UAAU,MAAM,SAChB,WAAW,MAAM,UACjB,kBAAkB,MAAM,iBACxB,WAAW,MAAM,UACjB,eAAe,MAAM,cACrB,UAAU,MAAM;AACpB,QAAI,aAAa,QAAQ,GACrBF,KAAI,eAAe,SAAS,IAAI,YAChC,aAAa,QAAQ,GACrBC,KAAI,eAAe,SAAS,IAAI;AAEpC,QAAI,QAAQ,OAAO,iBAAiB,aAAa,aAAa;AAAA,MAC5D,GAAGD;AAAA,MACH,GAAGC;AAAA,IACL,CAAC,IAAI;AAAA,MACH,GAAGD;AAAA,MACH,GAAGC;AAAA,IACL;AAEA,IAAAD,KAAI,MAAM;AACV,IAAAC,KAAI,MAAM;AACV,QAAI,OAAO,QAAQ,eAAe,GAAG;AACrC,QAAI,OAAO,QAAQ,eAAe,GAAG;AACrC,QAAI,QAAQ;AACZ,QAAI,QAAQ;AACZ,QAAI,MAAM;AAEV,QAAI,UAAU;AACZ,UAAI,eAAe,gBAAgBC,OAAM;AACzC,UAAI,aAAa;AACjB,UAAI,YAAY;AAEhB,UAAI,iBAAiB,UAAUA,OAAM,GAAG;AACtC,uBAAe,mBAAmBA,OAAM;AAExC,YAAI,iBAAiB,YAAY,EAAE,aAAa,YAAY,aAAa,YAAY;AACnF,uBAAa;AACb,sBAAY;AAAA,QACd;AAAA,MACF;AAGA,qBAAe;AAEf,UAAI,cAAc,QAAQ,cAAc,QAAQ,cAAc,UAAU,cAAc,KAAK;AACzF,gBAAQ;AACR,YAAI,UAAU,WAAW,iBAAiB,OAAO,IAAI,iBAAiB,IAAI,eAAe;AAAA;AAAA,UACzF,aAAa,UAAU;AAAA;AACvB,QAAAD,MAAK,UAAU,WAAW;AAC1B,QAAAA,MAAK,kBAAkB,IAAI;AAAA,MAC7B;AAEA,UAAI,cAAc,SAAS,cAAc,OAAO,cAAc,WAAW,cAAc,KAAK;AAC1F,gBAAQ;AACR,YAAI,UAAU,WAAW,iBAAiB,OAAO,IAAI,iBAAiB,IAAI,eAAe;AAAA;AAAA,UACzF,aAAa,SAAS;AAAA;AACtB,QAAAD,MAAK,UAAU,WAAW;AAC1B,QAAAA,MAAK,kBAAkB,IAAI;AAAA,MAC7B;AAAA,IACF;AAEA,QAAI,eAAe,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,GAAG,YAAY,UAAU;AAEzB,QAAI,QAAQ,iBAAiB,OAAO,kBAAkB;AAAA,MACpD,GAAGA;AAAA,MACH,GAAGC;AAAA,IACL,CAAC,IAAI;AAAA,MACH,GAAGD;AAAA,MACH,GAAGC;AAAA,IACL;AAEA,IAAAD,KAAI,MAAM;AACV,IAAAC,KAAI,MAAM;AAEV,QAAI,iBAAiB;AACnB,UAAI;AAEJ,aAAO,OAAO,OAAO,CAAC,GAAG,eAAe,iBAAiB,CAAC,GAAG,eAAe,KAAK,IAAI,OAAO,MAAM,IAAI,eAAe,KAAK,IAAI,OAAO,MAAM,IAAI,eAAe,aAAa,IAAI,oBAAoB,MAAM,IAAI,eAAeD,KAAI,SAASC,KAAI,QAAQ,iBAAiBD,KAAI,SAASC,KAAI,UAAU,eAAe;AAAA,IAClT;AAEA,WAAO,OAAO,OAAO,CAAC,GAAG,eAAe,kBAAkB,CAAC,GAAG,gBAAgB,KAAK,IAAI,OAAOA,KAAI,OAAO,IAAI,gBAAgB,KAAK,IAAI,OAAOD,KAAI,OAAO,IAAI,gBAAgB,YAAY,IAAI,gBAAgB;AAAA,EAC9M;AAEA,WAAS,cAAc,OAAO;AAC5B,QAAI,QAAQ,MAAM,OACd,UAAU,MAAM;AACpB,QAAI,wBAAwB,QAAQ,iBAChC,kBAAkB,0BAA0B,SAAS,OAAO,uBAC5D,oBAAoB,QAAQ,UAC5B,WAAW,sBAAsB,SAAS,OAAO,mBACjD,wBAAwB,QAAQ,cAChC,eAAe,0BAA0B,SAAS,OAAO;AAE7D,QAAI,MAAuC;AACzC,UAAI,qBAAqB,iBAAiB,MAAM,SAAS,MAAM,EAAE,sBAAsB;AAEvF,UAAI,YAAY,CAAC,aAAa,OAAO,SAAS,UAAU,MAAM,EAAE,KAAK,SAAU,UAAU;AACvF,eAAO,mBAAmB,QAAQ,QAAQ,KAAK;AAAA,MACjD,CAAC,GAAG;AACF,gBAAQ,KAAK,CAAC,qEAAqE,kEAAkE,QAAQ,sEAAsE,mEAAmE,sEAAsE,4CAA4C,QAAQ,sEAAsE,qEAAqE,EAAE,KAAK,GAAG,CAAC;AAAA,MACxjB;AAAA,IACF;AAEA,QAAI,eAAe;AAAA,MACjB,WAAW,iBAAiB,MAAM,SAAS;AAAA,MAC3C,WAAW,aAAa,MAAM,SAAS;AAAA,MACvC,QAAQ,MAAM,SAAS;AAAA,MACvB,YAAY,MAAM,MAAM;AAAA,MACxB;AAAA,MACA,SAAS,MAAM,QAAQ,aAAa;AAAA,IACtC;AAEA,QAAI,MAAM,cAAc,iBAAiB,MAAM;AAC7C,YAAM,OAAO,SAAS,OAAO,OAAO,CAAC,GAAG,MAAM,OAAO,QAAQ,YAAY,OAAO,OAAO,CAAC,GAAG,cAAc;AAAA,QACvG,SAAS,MAAM,cAAc;AAAA,QAC7B,UAAU,MAAM,QAAQ;AAAA,QACxB;AAAA,QACA;AAAA,MACF,CAAC,CAAC,CAAC;AAAA,IACL;AAEA,QAAI,MAAM,cAAc,SAAS,MAAM;AACrC,YAAM,OAAO,QAAQ,OAAO,OAAO,CAAC,GAAG,MAAM,OAAO,OAAO,YAAY,OAAO,OAAO,CAAC,GAAG,cAAc;AAAA,QACrG,SAAS,MAAM,cAAc;AAAA,QAC7B,UAAU;AAAA,QACV,UAAU;AAAA,QACV;AAAA,MACF,CAAC,CAAC,CAAC;AAAA,IACL;AAEA,UAAM,WAAW,SAAS,OAAO,OAAO,CAAC,GAAG,MAAM,WAAW,QAAQ;AAAA,MACnE,yBAAyB,MAAM;AAAA,IACjC,CAAC;AAAA,EACH;AAGA,MAAO,wBAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,MAAM,CAAC;AAAA,EACT;;;AClLA,MAAI,UAAU;AAAA,IACZ,SAAS;AAAA,EACX;AAEA,WAASG,QAAO,MAAM;AACpB,QAAI,QAAQ,KAAK,OACb,WAAW,KAAK,UAChB,UAAU,KAAK;AACnB,QAAI,kBAAkB,QAAQ,QAC1B,SAAS,oBAAoB,SAAS,OAAO,iBAC7C,kBAAkB,QAAQ,QAC1B,SAAS,oBAAoB,SAAS,OAAO;AACjD,QAAIC,UAAS,UAAU,MAAM,SAAS,MAAM;AAC5C,QAAI,gBAAgB,CAAC,EAAE,OAAO,MAAM,cAAc,WAAW,MAAM,cAAc,MAAM;AAEvF,QAAI,QAAQ;AACV,oBAAc,QAAQ,SAAU,cAAc;AAC5C,qBAAa,iBAAiB,UAAU,SAAS,QAAQ,OAAO;AAAA,MAClE,CAAC;AAAA,IACH;AAEA,QAAI,QAAQ;AACV,MAAAA,QAAO,iBAAiB,UAAU,SAAS,QAAQ,OAAO;AAAA,IAC5D;AAEA,WAAO,WAAY;AACjB,UAAI,QAAQ;AACV,sBAAc,QAAQ,SAAU,cAAc;AAC5C,uBAAa,oBAAoB,UAAU,SAAS,QAAQ,OAAO;AAAA,QACrE,CAAC;AAAA,MACH;AAEA,UAAI,QAAQ;AACV,QAAAA,QAAO,oBAAoB,UAAU,SAAS,QAAQ,OAAO;AAAA,MAC/D;AAAA,IACF;AAAA,EACF;AAGA,MAAO,yBAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI,SAAS,KAAK;AAAA,IAAC;AAAA,IACnB,QAAQD;AAAA,IACR,MAAM,CAAC;AAAA,EACT;;;AChDA,MAAI,OAAO;AAAA,IACT,MAAM;AAAA,IACN,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,KAAK;AAAA,EACP;AACe,WAAR,qBAAsC,WAAW;AACtD,WAAO,UAAU,QAAQ,0BAA0B,SAAU,SAAS;AACpE,aAAO,KAAK,OAAO;AAAA,IACrB,CAAC;AAAA,EACH;;;ACVA,MAAIE,QAAO;AAAA,IACT,OAAO;AAAA,IACP,KAAK;AAAA,EACP;AACe,WAAR,8BAA+C,WAAW;AAC/D,WAAO,UAAU,QAAQ,cAAc,SAAU,SAAS;AACxD,aAAOA,MAAK,OAAO;AAAA,IACrB,CAAC;AAAA,EACH;;;ACPe,WAAR,gBAAiC,MAAM;AAC5C,QAAI,MAAM,UAAU,IAAI;AACxB,QAAI,aAAa,IAAI;AACrB,QAAI,YAAY,IAAI;AACpB,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;;;ACNe,WAAR,oBAAqC,SAAS;AAQnD,WAAO,sBAAsB,mBAAmB,OAAO,CAAC,EAAE,OAAO,gBAAgB,OAAO,EAAE;AAAA,EAC5F;;;ACRe,WAAR,gBAAiC,SAAS,UAAU;AACzD,QAAI,MAAM,UAAU,OAAO;AAC3B,QAAI,OAAO,mBAAmB,OAAO;AACrC,QAAI,iBAAiB,IAAI;AACzB,QAAI,QAAQ,KAAK;AACjB,QAAI,SAAS,KAAK;AAClB,QAAIC,KAAI;AACR,QAAIC,KAAI;AAER,QAAI,gBAAgB;AAClB,cAAQ,eAAe;AACvB,eAAS,eAAe;AACxB,UAAI,iBAAiB,iBAAiB;AAEtC,UAAI,kBAAkB,CAAC,kBAAkB,aAAa,SAAS;AAC7D,QAAAD,KAAI,eAAe;AACnB,QAAAC,KAAI,eAAe;AAAA,MACrB;AAAA,IACF;AAEA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA,GAAGD,KAAI,oBAAoB,OAAO;AAAA,MAClC,GAAGC;AAAA,IACL;AAAA,EACF;;;ACvBe,WAAR,gBAAiC,SAAS;AAC/C,QAAI;AAEJ,QAAI,OAAO,mBAAmB,OAAO;AACrC,QAAI,YAAY,gBAAgB,OAAO;AACvC,QAAI,QAAQ,wBAAwB,QAAQ,kBAAkB,OAAO,SAAS,sBAAsB;AACpG,QAAI,QAAQ,IAAI,KAAK,aAAa,KAAK,aAAa,OAAO,KAAK,cAAc,GAAG,OAAO,KAAK,cAAc,CAAC;AAC5G,QAAI,SAAS,IAAI,KAAK,cAAc,KAAK,cAAc,OAAO,KAAK,eAAe,GAAG,OAAO,KAAK,eAAe,CAAC;AACjH,QAAIC,KAAI,CAAC,UAAU,aAAa,oBAAoB,OAAO;AAC3D,QAAIC,KAAI,CAAC,UAAU;AAEnB,QAAI,iBAAiB,QAAQ,IAAI,EAAE,cAAc,OAAO;AACtD,MAAAD,MAAK,IAAI,KAAK,aAAa,OAAO,KAAK,cAAc,CAAC,IAAI;AAAA,IAC5D;AAEA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA,GAAGA;AAAA,MACH,GAAGC;AAAA,IACL;AAAA,EACF;;;AC3Be,WAAR,eAAgC,SAAS;AAE9C,QAAI,oBAAoB,iBAAiB,OAAO,GAC5C,WAAW,kBAAkB,UAC7B,YAAY,kBAAkB,WAC9B,YAAY,kBAAkB;AAElC,WAAO,6BAA6B,KAAK,WAAW,YAAY,SAAS;AAAA,EAC3E;;;ACLe,WAAR,gBAAiC,MAAM;AAC5C,QAAI,CAAC,QAAQ,QAAQ,WAAW,EAAE,QAAQ,YAAY,IAAI,CAAC,KAAK,GAAG;AAEjE,aAAO,KAAK,cAAc;AAAA,IAC5B;AAEA,QAAI,cAAc,IAAI,KAAK,eAAe,IAAI,GAAG;AAC/C,aAAO;AAAA,IACT;AAEA,WAAO,gBAAgB,cAAc,IAAI,CAAC;AAAA,EAC5C;;;ACJe,WAAR,kBAAmC,SAAS,MAAM;AACvD,QAAI;AAEJ,QAAI,SAAS,QAAQ;AACnB,aAAO,CAAC;AAAA,IACV;AAEA,QAAI,eAAe,gBAAgB,OAAO;AAC1C,QAAI,SAAS,mBAAmB,wBAAwB,QAAQ,kBAAkB,OAAO,SAAS,sBAAsB;AACxH,QAAI,MAAM,UAAU,YAAY;AAChC,QAAI,SAAS,SAAS,CAAC,GAAG,EAAE,OAAO,IAAI,kBAAkB,CAAC,GAAG,eAAe,YAAY,IAAI,eAAe,CAAC,CAAC,IAAI;AACjH,QAAI,cAAc,KAAK,OAAO,MAAM;AACpC,WAAO,SAAS;AAAA;AAAA,MAChB,YAAY,OAAO,kBAAkB,cAAc,MAAM,CAAC,CAAC;AAAA;AAAA,EAC7D;;;ACzBe,WAAR,iBAAkC,MAAM;AAC7C,WAAO,OAAO,OAAO,CAAC,GAAG,MAAM;AAAA,MAC7B,MAAM,KAAK;AAAA,MACX,KAAK,KAAK;AAAA,MACV,OAAO,KAAK,IAAI,KAAK;AAAA,MACrB,QAAQ,KAAK,IAAI,KAAK;AAAA,IACxB,CAAC;AAAA,EACH;;;ACQA,WAAS,2BAA2B,SAAS,UAAU;AACrD,QAAI,OAAO,sBAAsB,SAAS,OAAO,aAAa,OAAO;AACrE,SAAK,MAAM,KAAK,MAAM,QAAQ;AAC9B,SAAK,OAAO,KAAK,OAAO,QAAQ;AAChC,SAAK,SAAS,KAAK,MAAM,QAAQ;AACjC,SAAK,QAAQ,KAAK,OAAO,QAAQ;AACjC,SAAK,QAAQ,QAAQ;AACrB,SAAK,SAAS,QAAQ;AACtB,SAAK,IAAI,KAAK;AACd,SAAK,IAAI,KAAK;AACd,WAAO;AAAA,EACT;AAEA,WAAS,2BAA2B,SAAS,gBAAgB,UAAU;AACrE,WAAO,mBAAmB,WAAW,iBAAiB,gBAAgB,SAAS,QAAQ,CAAC,IAAI,UAAU,cAAc,IAAI,2BAA2B,gBAAgB,QAAQ,IAAI,iBAAiB,gBAAgB,mBAAmB,OAAO,CAAC,CAAC;AAAA,EAC9O;AAKA,WAAS,mBAAmB,SAAS;AACnC,QAAIC,mBAAkB,kBAAkB,cAAc,OAAO,CAAC;AAC9D,QAAI,oBAAoB,CAAC,YAAY,OAAO,EAAE,QAAQ,iBAAiB,OAAO,EAAE,QAAQ,KAAK;AAC7F,QAAI,iBAAiB,qBAAqB,cAAc,OAAO,IAAI,gBAAgB,OAAO,IAAI;AAE9F,QAAI,CAAC,UAAU,cAAc,GAAG;AAC9B,aAAO,CAAC;AAAA,IACV;AAGA,WAAOA,iBAAgB,OAAO,SAAU,gBAAgB;AACtD,aAAO,UAAU,cAAc,KAAK,SAAS,gBAAgB,cAAc,KAAK,YAAY,cAAc,MAAM;AAAA,IAClH,CAAC;AAAA,EACH;AAIe,WAAR,gBAAiC,SAAS,UAAU,cAAc,UAAU;AACjF,QAAI,sBAAsB,aAAa,oBAAoB,mBAAmB,OAAO,IAAI,CAAC,EAAE,OAAO,QAAQ;AAC3G,QAAIA,mBAAkB,CAAC,EAAE,OAAO,qBAAqB,CAAC,YAAY,CAAC;AACnE,QAAI,sBAAsBA,iBAAgB,CAAC;AAC3C,QAAI,eAAeA,iBAAgB,OAAO,SAAU,SAAS,gBAAgB;AAC3E,UAAI,OAAO,2BAA2B,SAAS,gBAAgB,QAAQ;AACvE,cAAQ,MAAM,IAAI,KAAK,KAAK,QAAQ,GAAG;AACvC,cAAQ,QAAQ,IAAI,KAAK,OAAO,QAAQ,KAAK;AAC7C,cAAQ,SAAS,IAAI,KAAK,QAAQ,QAAQ,MAAM;AAChD,cAAQ,OAAO,IAAI,KAAK,MAAM,QAAQ,IAAI;AAC1C,aAAO;AAAA,IACT,GAAG,2BAA2B,SAAS,qBAAqB,QAAQ,CAAC;AACrE,iBAAa,QAAQ,aAAa,QAAQ,aAAa;AACvD,iBAAa,SAAS,aAAa,SAAS,aAAa;AACzD,iBAAa,IAAI,aAAa;AAC9B,iBAAa,IAAI,aAAa;AAC9B,WAAO;AAAA,EACT;;;ACjEe,WAAR,eAAgC,MAAM;AAC3C,QAAIC,aAAY,KAAK,WACjB,UAAU,KAAK,SACf,YAAY,KAAK;AACrB,QAAI,gBAAgB,YAAY,iBAAiB,SAAS,IAAI;AAC9D,QAAI,YAAY,YAAY,aAAa,SAAS,IAAI;AACtD,QAAI,UAAUA,WAAU,IAAIA,WAAU,QAAQ,IAAI,QAAQ,QAAQ;AAClE,QAAI,UAAUA,WAAU,IAAIA,WAAU,SAAS,IAAI,QAAQ,SAAS;AACpE,QAAI;AAEJ,YAAQ,eAAe;AAAA,MACrB,KAAK;AACH,kBAAU;AAAA,UACR,GAAG;AAAA,UACH,GAAGA,WAAU,IAAI,QAAQ;AAAA,QAC3B;AACA;AAAA,MAEF,KAAK;AACH,kBAAU;AAAA,UACR,GAAG;AAAA,UACH,GAAGA,WAAU,IAAIA,WAAU;AAAA,QAC7B;AACA;AAAA,MAEF,KAAK;AACH,kBAAU;AAAA,UACR,GAAGA,WAAU,IAAIA,WAAU;AAAA,UAC3B,GAAG;AAAA,QACL;AACA;AAAA,MAEF,KAAK;AACH,kBAAU;AAAA,UACR,GAAGA,WAAU,IAAI,QAAQ;AAAA,UACzB,GAAG;AAAA,QACL;AACA;AAAA,MAEF;AACE,kBAAU;AAAA,UACR,GAAGA,WAAU;AAAA,UACb,GAAGA,WAAU;AAAA,QACf;AAAA,IACJ;AAEA,QAAI,WAAW,gBAAgB,yBAAyB,aAAa,IAAI;AAEzE,QAAI,YAAY,MAAM;AACpB,UAAI,MAAM,aAAa,MAAM,WAAW;AAExC,cAAQ,WAAW;AAAA,QACjB,KAAK;AACH,kBAAQ,QAAQ,IAAI,QAAQ,QAAQ,KAAKA,WAAU,GAAG,IAAI,IAAI,QAAQ,GAAG,IAAI;AAC7E;AAAA,QAEF,KAAK;AACH,kBAAQ,QAAQ,IAAI,QAAQ,QAAQ,KAAKA,WAAU,GAAG,IAAI,IAAI,QAAQ,GAAG,IAAI;AAC7E;AAAA,QAEF;AAAA,MACF;AAAA,IACF;AAEA,WAAO;AAAA,EACT;;;AC3De,WAAR,eAAgC,OAAO,SAAS;AACrD,QAAI,YAAY,QAAQ;AACtB,gBAAU,CAAC;AAAA,IACb;AAEA,QAAI,WAAW,SACX,qBAAqB,SAAS,WAC9B,YAAY,uBAAuB,SAAS,MAAM,YAAY,oBAC9D,oBAAoB,SAAS,UAC7B,WAAW,sBAAsB,SAAS,MAAM,WAAW,mBAC3D,oBAAoB,SAAS,UAC7B,WAAW,sBAAsB,SAAS,kBAAkB,mBAC5D,wBAAwB,SAAS,cACjC,eAAe,0BAA0B,SAAS,WAAW,uBAC7D,wBAAwB,SAAS,gBACjC,iBAAiB,0BAA0B,SAAS,SAAS,uBAC7D,uBAAuB,SAAS,aAChC,cAAc,yBAAyB,SAAS,QAAQ,sBACxD,mBAAmB,SAAS,SAC5B,UAAU,qBAAqB,SAAS,IAAI;AAChD,QAAI,gBAAgB,mBAAmB,OAAO,YAAY,WAAW,UAAU,gBAAgB,SAAS,cAAc,CAAC;AACvH,QAAI,aAAa,mBAAmB,SAAS,YAAY;AACzD,QAAI,aAAa,MAAM,MAAM;AAC7B,QAAI,UAAU,MAAM,SAAS,cAAc,aAAa,cAAc;AACtE,QAAI,qBAAqB,gBAAgB,UAAU,OAAO,IAAI,UAAU,QAAQ,kBAAkB,mBAAmB,MAAM,SAAS,MAAM,GAAG,UAAU,cAAc,QAAQ;AAC7K,QAAI,sBAAsB,sBAAsB,MAAM,SAAS,SAAS;AACxE,QAAIC,iBAAgB,eAAe;AAAA,MACjC,WAAW;AAAA,MACX,SAAS;AAAA,MACT,UAAU;AAAA,MACV;AAAA,IACF,CAAC;AACD,QAAI,mBAAmB,iBAAiB,OAAO,OAAO,CAAC,GAAG,YAAYA,cAAa,CAAC;AACpF,QAAI,oBAAoB,mBAAmB,SAAS,mBAAmB;AAGvE,QAAI,kBAAkB;AAAA,MACpB,KAAK,mBAAmB,MAAM,kBAAkB,MAAM,cAAc;AAAA,MACpE,QAAQ,kBAAkB,SAAS,mBAAmB,SAAS,cAAc;AAAA,MAC7E,MAAM,mBAAmB,OAAO,kBAAkB,OAAO,cAAc;AAAA,MACvE,OAAO,kBAAkB,QAAQ,mBAAmB,QAAQ,cAAc;AAAA,IAC5E;AACA,QAAI,aAAa,MAAM,cAAc;AAErC,QAAI,mBAAmB,UAAU,YAAY;AAC3C,UAAIC,UAAS,WAAW,SAAS;AACjC,aAAO,KAAK,eAAe,EAAE,QAAQ,SAAU,KAAK;AAClD,YAAI,WAAW,CAAC,OAAO,MAAM,EAAE,QAAQ,GAAG,KAAK,IAAI,IAAI;AACvD,YAAI,OAAO,CAAC,KAAK,MAAM,EAAE,QAAQ,GAAG,KAAK,IAAI,MAAM;AACnD,wBAAgB,GAAG,KAAKA,QAAO,IAAI,IAAI;AAAA,MACzC,CAAC;AAAA,IACH;AAEA,WAAO;AAAA,EACT;;;AC5De,WAAR,qBAAsC,OAAO,SAAS;AAC3D,QAAI,YAAY,QAAQ;AACtB,gBAAU,CAAC;AAAA,IACb;AAEA,QAAI,WAAW,SACX,YAAY,SAAS,WACrB,WAAW,SAAS,UACpB,eAAe,SAAS,cACxB,UAAU,SAAS,SACnB,iBAAiB,SAAS,gBAC1B,wBAAwB,SAAS,uBACjC,wBAAwB,0BAA0B,SAAS,aAAgB;AAC/E,QAAI,YAAY,aAAa,SAAS;AACtC,QAAIC,cAAa,YAAY,iBAAiB,sBAAsB,oBAAoB,OAAO,SAAUC,YAAW;AAClH,aAAO,aAAaA,UAAS,MAAM;AAAA,IACrC,CAAC,IAAI;AACL,QAAI,oBAAoBD,YAAW,OAAO,SAAUC,YAAW;AAC7D,aAAO,sBAAsB,QAAQA,UAAS,KAAK;AAAA,IACrD,CAAC;AAED,QAAI,kBAAkB,WAAW,GAAG;AAClC,0BAAoBD;AAEpB,UAAI,MAAuC;AACzC,gBAAQ,MAAM,CAAC,gEAAgE,mEAAmE,8BAA8B,+DAA+D,2BAA2B,EAAE,KAAK,GAAG,CAAC;AAAA,MACvR;AAAA,IACF;AAGA,QAAI,YAAY,kBAAkB,OAAO,SAAU,KAAKC,YAAW;AACjE,UAAIA,UAAS,IAAI,eAAe,OAAO;AAAA,QACrC,WAAWA;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC,EAAE,iBAAiBA,UAAS,CAAC;AAC9B,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AACL,WAAO,OAAO,KAAK,SAAS,EAAE,KAAK,SAAUC,IAAGC,IAAG;AACjD,aAAO,UAAUD,EAAC,IAAI,UAAUC,EAAC;AAAA,IACnC,CAAC;AAAA,EACH;;;ACtCA,WAAS,8BAA8B,WAAW;AAChD,QAAI,iBAAiB,SAAS,MAAM,MAAM;AACxC,aAAO,CAAC;AAAA,IACV;AAEA,QAAI,oBAAoB,qBAAqB,SAAS;AACtD,WAAO,CAAC,8BAA8B,SAAS,GAAG,mBAAmB,8BAA8B,iBAAiB,CAAC;AAAA,EACvH;AAEA,WAAS,KAAK,MAAM;AAClB,QAAI,QAAQ,KAAK,OACb,UAAU,KAAK,SACf,OAAO,KAAK;AAEhB,QAAI,MAAM,cAAc,IAAI,EAAE,OAAO;AACnC;AAAA,IACF;AAEA,QAAI,oBAAoB,QAAQ,UAC5B,gBAAgB,sBAAsB,SAAS,OAAO,mBACtD,mBAAmB,QAAQ,SAC3B,eAAe,qBAAqB,SAAS,OAAO,kBACpD,8BAA8B,QAAQ,oBACtC,UAAU,QAAQ,SAClB,WAAW,QAAQ,UACnB,eAAe,QAAQ,cACvB,cAAc,QAAQ,aACtB,wBAAwB,QAAQ,gBAChC,iBAAiB,0BAA0B,SAAS,OAAO,uBAC3D,wBAAwB,QAAQ;AACpC,QAAI,qBAAqB,MAAM,QAAQ;AACvC,QAAI,gBAAgB,iBAAiB,kBAAkB;AACvD,QAAI,kBAAkB,kBAAkB;AACxC,QAAI,qBAAqB,gCAAgC,mBAAmB,CAAC,iBAAiB,CAAC,qBAAqB,kBAAkB,CAAC,IAAI,8BAA8B,kBAAkB;AAC3L,QAAIC,cAAa,CAAC,kBAAkB,EAAE,OAAO,kBAAkB,EAAE,OAAO,SAAU,KAAKC,YAAW;AAChG,aAAO,IAAI,OAAO,iBAAiBA,UAAS,MAAM,OAAO,qBAAqB,OAAO;AAAA,QACnF,WAAWA;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC,IAAIA,UAAS;AAAA,IAChB,GAAG,CAAC,CAAC;AACL,QAAI,gBAAgB,MAAM,MAAM;AAChC,QAAI,aAAa,MAAM,MAAM;AAC7B,QAAI,YAAY,oBAAI,IAAI;AACxB,QAAI,qBAAqB;AACzB,QAAI,wBAAwBD,YAAW,CAAC;AAExC,aAASE,KAAI,GAAGA,KAAIF,YAAW,QAAQE,MAAK;AAC1C,UAAI,YAAYF,YAAWE,EAAC;AAE5B,UAAI,iBAAiB,iBAAiB,SAAS;AAE/C,UAAI,mBAAmB,aAAa,SAAS,MAAM;AACnD,UAAI,aAAa,CAAC,KAAK,MAAM,EAAE,QAAQ,cAAc,KAAK;AAC1D,UAAI,MAAM,aAAa,UAAU;AACjC,UAAI,WAAW,eAAe,OAAO;AAAA,QACnC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AACD,UAAI,oBAAoB,aAAa,mBAAmB,QAAQ,OAAO,mBAAmB,SAAS;AAEnG,UAAI,cAAc,GAAG,IAAI,WAAW,GAAG,GAAG;AACxC,4BAAoB,qBAAqB,iBAAiB;AAAA,MAC5D;AAEA,UAAI,mBAAmB,qBAAqB,iBAAiB;AAC7D,UAAI,SAAS,CAAC;AAEd,UAAI,eAAe;AACjB,eAAO,KAAK,SAAS,cAAc,KAAK,CAAC;AAAA,MAC3C;AAEA,UAAI,cAAc;AAChB,eAAO,KAAK,SAAS,iBAAiB,KAAK,GAAG,SAAS,gBAAgB,KAAK,CAAC;AAAA,MAC/E;AAEA,UAAI,OAAO,MAAM,SAAU,OAAO;AAChC,eAAO;AAAA,MACT,CAAC,GAAG;AACF,gCAAwB;AACxB,6BAAqB;AACrB;AAAA,MACF;AAEA,gBAAU,IAAI,WAAW,MAAM;AAAA,IACjC;AAEA,QAAI,oBAAoB;AAEtB,UAAI,iBAAiB,iBAAiB,IAAI;AAE1C,UAAI,QAAQ,SAASC,OAAMC,KAAI;AAC7B,YAAI,mBAAmBJ,YAAW,KAAK,SAAUC,YAAW;AAC1D,cAAII,UAAS,UAAU,IAAIJ,UAAS;AAEpC,cAAII,SAAQ;AACV,mBAAOA,QAAO,MAAM,GAAGD,GAAE,EAAE,MAAM,SAAU,OAAO;AAChD,qBAAO;AAAA,YACT,CAAC;AAAA,UACH;AAAA,QACF,CAAC;AAED,YAAI,kBAAkB;AACpB,kCAAwB;AACxB,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,eAASA,MAAK,gBAAgBA,MAAK,GAAGA,OAAM;AAC1C,YAAI,OAAO,MAAMA,GAAE;AAEnB,YAAI,SAAS,QAAS;AAAA,MACxB;AAAA,IACF;AAEA,QAAI,MAAM,cAAc,uBAAuB;AAC7C,YAAM,cAAc,IAAI,EAAE,QAAQ;AAClC,YAAM,YAAY;AAClB,YAAM,QAAQ;AAAA,IAChB;AAAA,EACF;AAGA,MAAO,eAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,kBAAkB,CAAC,QAAQ;AAAA,IAC3B,MAAM;AAAA,MACJ,OAAO;AAAA,IACT;AAAA,EACF;;;AC/IA,WAAS,eAAe,UAAU,MAAM,kBAAkB;AACxD,QAAI,qBAAqB,QAAQ;AAC/B,yBAAmB;AAAA,QACjB,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,IACF;AAEA,WAAO;AAAA,MACL,KAAK,SAAS,MAAM,KAAK,SAAS,iBAAiB;AAAA,MACnD,OAAO,SAAS,QAAQ,KAAK,QAAQ,iBAAiB;AAAA,MACtD,QAAQ,SAAS,SAAS,KAAK,SAAS,iBAAiB;AAAA,MACzD,MAAM,SAAS,OAAO,KAAK,QAAQ,iBAAiB;AAAA,IACtD;AAAA,EACF;AAEA,WAAS,sBAAsB,UAAU;AACvC,WAAO,CAAC,KAAK,OAAO,QAAQ,IAAI,EAAE,KAAK,SAAU,MAAM;AACrD,aAAO,SAAS,IAAI,KAAK;AAAA,IAC3B,CAAC;AAAA,EACH;AAEA,WAAS,KAAK,MAAM;AAClB,QAAI,QAAQ,KAAK,OACb,OAAO,KAAK;AAChB,QAAI,gBAAgB,MAAM,MAAM;AAChC,QAAI,aAAa,MAAM,MAAM;AAC7B,QAAI,mBAAmB,MAAM,cAAc;AAC3C,QAAI,oBAAoB,eAAe,OAAO;AAAA,MAC5C,gBAAgB;AAAA,IAClB,CAAC;AACD,QAAI,oBAAoB,eAAe,OAAO;AAAA,MAC5C,aAAa;AAAA,IACf,CAAC;AACD,QAAI,2BAA2B,eAAe,mBAAmB,aAAa;AAC9E,QAAI,sBAAsB,eAAe,mBAAmB,YAAY,gBAAgB;AACxF,QAAI,oBAAoB,sBAAsB,wBAAwB;AACtE,QAAI,mBAAmB,sBAAsB,mBAAmB;AAChE,UAAM,cAAc,IAAI,IAAI;AAAA,MAC1B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AACA,UAAM,WAAW,SAAS,OAAO,OAAO,CAAC,GAAG,MAAM,WAAW,QAAQ;AAAA,MACnE,gCAAgC;AAAA,MAChC,uBAAuB;AAAA,IACzB,CAAC;AAAA,EACH;AAGA,MAAO,eAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,kBAAkB,CAAC,iBAAiB;AAAA,IACpC,IAAI;AAAA,EACN;;;ACzDO,WAAS,wBAAwB,WAAW,OAAOE,SAAQ;AAChE,QAAI,gBAAgB,iBAAiB,SAAS;AAC9C,QAAI,iBAAiB,CAAC,MAAM,GAAG,EAAE,QAAQ,aAAa,KAAK,IAAI,KAAK;AAEpE,QAAI,OAAO,OAAOA,YAAW,aAAaA,QAAO,OAAO,OAAO,CAAC,GAAG,OAAO;AAAA,MACxE;AAAA,IACF,CAAC,CAAC,IAAIA,SACF,WAAW,KAAK,CAAC,GACjB,WAAW,KAAK,CAAC;AAErB,eAAW,YAAY;AACvB,gBAAY,YAAY,KAAK;AAC7B,WAAO,CAAC,MAAM,KAAK,EAAE,QAAQ,aAAa,KAAK,IAAI;AAAA,MACjD,GAAG;AAAA,MACH,GAAG;AAAA,IACL,IAAI;AAAA,MACF,GAAG;AAAA,MACH,GAAG;AAAA,IACL;AAAA,EACF;AAEA,WAAS,OAAO,OAAO;AACrB,QAAI,QAAQ,MAAM,OACd,UAAU,MAAM,SAChB,OAAO,MAAM;AACjB,QAAI,kBAAkB,QAAQ,QAC1BA,UAAS,oBAAoB,SAAS,CAAC,GAAG,CAAC,IAAI;AACnD,QAAI,OAAO,WAAW,OAAO,SAAU,KAAK,WAAW;AACrD,UAAI,SAAS,IAAI,wBAAwB,WAAW,MAAM,OAAOA,OAAM;AACvE,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AACL,QAAI,wBAAwB,KAAK,MAAM,SAAS,GAC5CC,KAAI,sBAAsB,GAC1BC,KAAI,sBAAsB;AAE9B,QAAI,MAAM,cAAc,iBAAiB,MAAM;AAC7C,YAAM,cAAc,cAAc,KAAKD;AACvC,YAAM,cAAc,cAAc,KAAKC;AAAA,IACzC;AAEA,UAAM,cAAc,IAAI,IAAI;AAAA,EAC9B;AAGA,MAAO,iBAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,UAAU,CAAC,eAAe;AAAA,IAC1B,IAAI;AAAA,EACN;;;ACnDA,WAAS,cAAc,MAAM;AAC3B,QAAI,QAAQ,KAAK,OACb,OAAO,KAAK;AAKhB,UAAM,cAAc,IAAI,IAAI,eAAe;AAAA,MACzC,WAAW,MAAM,MAAM;AAAA,MACvB,SAAS,MAAM,MAAM;AAAA,MACrB,UAAU;AAAA,MACV,WAAW,MAAM;AAAA,IACnB,CAAC;AAAA,EACH;AAGA,MAAO,wBAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,MAAM,CAAC;AAAA,EACT;;;ACxBe,WAAR,WAA4B,MAAM;AACvC,WAAO,SAAS,MAAM,MAAM;AAAA,EAC9B;;;ACUA,WAAS,gBAAgB,MAAM;AAC7B,QAAI,QAAQ,KAAK,OACb,UAAU,KAAK,SACf,OAAO,KAAK;AAChB,QAAI,oBAAoB,QAAQ,UAC5B,gBAAgB,sBAAsB,SAAS,OAAO,mBACtD,mBAAmB,QAAQ,SAC3B,eAAe,qBAAqB,SAAS,QAAQ,kBACrD,WAAW,QAAQ,UACnB,eAAe,QAAQ,cACvB,cAAc,QAAQ,aACtB,UAAU,QAAQ,SAClB,kBAAkB,QAAQ,QAC1B,SAAS,oBAAoB,SAAS,OAAO,iBAC7C,wBAAwB,QAAQ,cAChC,eAAe,0BAA0B,SAAS,IAAI;AAC1D,QAAI,WAAW,eAAe,OAAO;AAAA,MACnC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AACD,QAAI,gBAAgB,iBAAiB,MAAM,SAAS;AACpD,QAAI,YAAY,aAAa,MAAM,SAAS;AAC5C,QAAI,kBAAkB,CAAC;AACvB,QAAI,WAAW,yBAAyB,aAAa;AACrD,QAAI,UAAU,WAAW,QAAQ;AACjC,QAAIC,iBAAgB,MAAM,cAAc;AACxC,QAAI,gBAAgB,MAAM,MAAM;AAChC,QAAI,aAAa,MAAM,MAAM;AAC7B,QAAI,oBAAoB,OAAO,iBAAiB,aAAa,aAAa,OAAO,OAAO,CAAC,GAAG,MAAM,OAAO;AAAA,MACvG,WAAW,MAAM;AAAA,IACnB,CAAC,CAAC,IAAI;AACN,QAAI,8BAA8B,OAAO,sBAAsB,WAAW;AAAA,MACxE,UAAU;AAAA,MACV,SAAS;AAAA,IACX,IAAI,OAAO,OAAO;AAAA,MAChB,UAAU;AAAA,MACV,SAAS;AAAA,IACX,GAAG,iBAAiB;AACpB,QAAI,sBAAsB,MAAM,cAAc,SAAS,MAAM,cAAc,OAAO,MAAM,SAAS,IAAI;AACrG,QAAI,OAAO;AAAA,MACT,GAAG;AAAA,MACH,GAAG;AAAA,IACL;AAEA,QAAI,CAACA,gBAAe;AAClB;AAAA,IACF;AAEA,QAAI,eAAe;AACjB,UAAI;AAEJ,UAAI,WAAW,aAAa,MAAM,MAAM;AACxC,UAAI,UAAU,aAAa,MAAM,SAAS;AAC1C,UAAI,MAAM,aAAa,MAAM,WAAW;AACxC,UAAIC,UAASD,eAAc,QAAQ;AACnC,UAAIE,OAAMD,UAAS,SAAS,QAAQ;AACpC,UAAIE,OAAMF,UAAS,SAAS,OAAO;AACnC,UAAI,WAAW,SAAS,CAAC,WAAW,GAAG,IAAI,IAAI;AAC/C,UAAI,SAAS,cAAc,QAAQ,cAAc,GAAG,IAAI,WAAW,GAAG;AACtE,UAAI,SAAS,cAAc,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,GAAG;AAGxE,UAAI,eAAe,MAAM,SAAS;AAClC,UAAI,YAAY,UAAU,eAAe,cAAc,YAAY,IAAI;AAAA,QACrE,OAAO;AAAA,QACP,QAAQ;AAAA,MACV;AACA,UAAI,qBAAqB,MAAM,cAAc,kBAAkB,IAAI,MAAM,cAAc,kBAAkB,EAAE,UAAU,mBAAmB;AACxI,UAAI,kBAAkB,mBAAmB,QAAQ;AACjD,UAAI,kBAAkB,mBAAmB,OAAO;AAMhD,UAAI,WAAW,OAAO,GAAG,cAAc,GAAG,GAAG,UAAU,GAAG,CAAC;AAC3D,UAAI,YAAY,kBAAkB,cAAc,GAAG,IAAI,IAAI,WAAW,WAAW,kBAAkB,4BAA4B,WAAW,SAAS,WAAW,kBAAkB,4BAA4B;AAC5M,UAAI,YAAY,kBAAkB,CAAC,cAAc,GAAG,IAAI,IAAI,WAAW,WAAW,kBAAkB,4BAA4B,WAAW,SAAS,WAAW,kBAAkB,4BAA4B;AAC7M,UAAI,oBAAoB,MAAM,SAAS,SAAS,gBAAgB,MAAM,SAAS,KAAK;AACpF,UAAI,eAAe,oBAAoB,aAAa,MAAM,kBAAkB,aAAa,IAAI,kBAAkB,cAAc,IAAI;AACjI,UAAI,uBAAuB,wBAAwB,uBAAuB,OAAO,SAAS,oBAAoB,QAAQ,MAAM,OAAO,wBAAwB;AAC3J,UAAI,YAAYA,UAAS,YAAY,sBAAsB;AAC3D,UAAI,YAAYA,UAAS,YAAY;AACrC,UAAI,kBAAkB,OAAO,SAAS,IAAQC,MAAK,SAAS,IAAIA,MAAKD,SAAQ,SAAS,IAAQE,MAAK,SAAS,IAAIA,IAAG;AACnH,MAAAH,eAAc,QAAQ,IAAI;AAC1B,WAAK,QAAQ,IAAI,kBAAkBC;AAAA,IACrC;AAEA,QAAI,cAAc;AAChB,UAAI;AAEJ,UAAI,YAAY,aAAa,MAAM,MAAM;AAEzC,UAAI,WAAW,aAAa,MAAM,SAAS;AAE3C,UAAI,UAAUD,eAAc,OAAO;AAEnC,UAAI,OAAO,YAAY,MAAM,WAAW;AAExC,UAAI,OAAO,UAAU,SAAS,SAAS;AAEvC,UAAI,OAAO,UAAU,SAAS,QAAQ;AAEtC,UAAI,eAAe,CAAC,KAAK,IAAI,EAAE,QAAQ,aAAa,MAAM;AAE1D,UAAI,wBAAwB,yBAAyB,uBAAuB,OAAO,SAAS,oBAAoB,OAAO,MAAM,OAAO,yBAAyB;AAE7J,UAAI,aAAa,eAAe,OAAO,UAAU,cAAc,IAAI,IAAI,WAAW,IAAI,IAAI,uBAAuB,4BAA4B;AAE7I,UAAI,aAAa,eAAe,UAAU,cAAc,IAAI,IAAI,WAAW,IAAI,IAAI,uBAAuB,4BAA4B,UAAU;AAEhJ,UAAI,mBAAmB,UAAU,eAAe,eAAe,YAAY,SAAS,UAAU,IAAI,OAAO,SAAS,aAAa,MAAM,SAAS,SAAS,aAAa,IAAI;AAExK,MAAAA,eAAc,OAAO,IAAI;AACzB,WAAK,OAAO,IAAI,mBAAmB;AAAA,IACrC;AAEA,UAAM,cAAc,IAAI,IAAI;AAAA,EAC9B;AAGA,MAAO,0BAAQ;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,kBAAkB,CAAC,QAAQ;AAAA,EAC7B;;;AC7Ie,WAAR,qBAAsC,SAAS;AACpD,WAAO;AAAA,MACL,YAAY,QAAQ;AAAA,MACpB,WAAW,QAAQ;AAAA,IACrB;AAAA,EACF;;;ACDe,WAAR,cAA+B,MAAM;AAC1C,QAAI,SAAS,UAAU,IAAI,KAAK,CAAC,cAAc,IAAI,GAAG;AACpD,aAAO,gBAAgB,IAAI;AAAA,IAC7B,OAAO;AACL,aAAO,qBAAqB,IAAI;AAAA,IAClC;AAAA,EACF;;;ACDA,WAAS,gBAAgB,SAAS;AAChC,QAAI,OAAO,QAAQ,sBAAsB;AACzC,QAAI,SAAS,MAAM,KAAK,KAAK,IAAI,QAAQ,eAAe;AACxD,QAAI,SAAS,MAAM,KAAK,MAAM,IAAI,QAAQ,gBAAgB;AAC1D,WAAO,WAAW,KAAK,WAAW;AAAA,EACpC;AAIe,WAAR,iBAAkC,yBAAyB,cAAc,SAAS;AACvF,QAAI,YAAY,QAAQ;AACtB,gBAAU;AAAA,IACZ;AAEA,QAAI,0BAA0B,cAAc,YAAY;AACxD,QAAI,uBAAuB,cAAc,YAAY,KAAK,gBAAgB,YAAY;AACtF,QAAI,kBAAkB,mBAAmB,YAAY;AACrD,QAAI,OAAO,sBAAsB,yBAAyB,sBAAsB,OAAO;AACvF,QAAI,SAAS;AAAA,MACX,YAAY;AAAA,MACZ,WAAW;AAAA,IACb;AACA,QAAI,UAAU;AAAA,MACZ,GAAG;AAAA,MACH,GAAG;AAAA,IACL;AAEA,QAAI,2BAA2B,CAAC,2BAA2B,CAAC,SAAS;AACnE,UAAI,YAAY,YAAY,MAAM;AAAA,MAClC,eAAe,eAAe,GAAG;AAC/B,iBAAS,cAAc,YAAY;AAAA,MACrC;AAEA,UAAI,cAAc,YAAY,GAAG;AAC/B,kBAAU,sBAAsB,cAAc,IAAI;AAClD,gBAAQ,KAAK,aAAa;AAC1B,gBAAQ,KAAK,aAAa;AAAA,MAC5B,WAAW,iBAAiB;AAC1B,gBAAQ,IAAI,oBAAoB,eAAe;AAAA,MACjD;AAAA,IACF;AAEA,WAAO;AAAA,MACL,GAAG,KAAK,OAAO,OAAO,aAAa,QAAQ;AAAA,MAC3C,GAAG,KAAK,MAAM,OAAO,YAAY,QAAQ;AAAA,MACzC,OAAO,KAAK;AAAA,MACZ,QAAQ,KAAK;AAAA,IACf;AAAA,EACF;;;ACvDA,WAAS,MAAM,WAAW;AACxB,QAAI,MAAM,oBAAI,IAAI;AAClB,QAAI,UAAU,oBAAI,IAAI;AACtB,QAAI,SAAS,CAAC;AACd,cAAU,QAAQ,SAAU,UAAU;AACpC,UAAI,IAAI,SAAS,MAAM,QAAQ;AAAA,IACjC,CAAC;AAED,aAAS,KAAK,UAAU;AACtB,cAAQ,IAAI,SAAS,IAAI;AACzB,UAAI,WAAW,CAAC,EAAE,OAAO,SAAS,YAAY,CAAC,GAAG,SAAS,oBAAoB,CAAC,CAAC;AACjF,eAAS,QAAQ,SAAU,KAAK;AAC9B,YAAI,CAAC,QAAQ,IAAI,GAAG,GAAG;AACrB,cAAI,cAAc,IAAI,IAAI,GAAG;AAE7B,cAAI,aAAa;AACf,iBAAK,WAAW;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AACD,aAAO,KAAK,QAAQ;AAAA,IACtB;AAEA,cAAU,QAAQ,SAAU,UAAU;AACpC,UAAI,CAAC,QAAQ,IAAI,SAAS,IAAI,GAAG;AAE/B,aAAK,QAAQ;AAAA,MACf;AAAA,IACF,CAAC;AACD,WAAO;AAAA,EACT;AAEe,WAAR,eAAgC,WAAW;AAEhD,QAAI,mBAAmB,MAAM,SAAS;AAEtC,WAAO,eAAe,OAAO,SAAU,KAAK,OAAO;AACjD,aAAO,IAAI,OAAO,iBAAiB,OAAO,SAAU,UAAU;AAC5D,eAAO,SAAS,UAAU;AAAA,MAC5B,CAAC,CAAC;AAAA,IACJ,GAAG,CAAC,CAAC;AAAA,EACP;;;AC3Ce,WAAR,SAA0BI,KAAI;AACnC,QAAI;AACJ,WAAO,WAAY;AACjB,UAAI,CAAC,SAAS;AACZ,kBAAU,IAAI,QAAQ,SAAU,SAAS;AACvC,kBAAQ,QAAQ,EAAE,KAAK,WAAY;AACjC,sBAAU;AACV,oBAAQA,IAAG,CAAC;AAAA,UACd,CAAC;AAAA,QACH,CAAC;AAAA,MACH;AAEA,aAAO;AAAA,IACT;AAAA,EACF;;;ACde,WAAR,OAAwB,KAAK;AAClC,aAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,OAAO,IAAI,OAAO,IAAI,CAAC,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AAC1G,WAAK,OAAO,CAAC,IAAI,UAAU,IAAI;AAAA,IACjC;AAEA,WAAO,CAAC,EAAE,OAAO,IAAI,EAAE,OAAO,SAAUC,IAAGC,IAAG;AAC5C,aAAOD,GAAE,QAAQ,MAAMC,EAAC;AAAA,IAC1B,GAAG,GAAG;AAAA,EACR;;;ACNA,MAAI,yBAAyB;AAC7B,MAAI,2BAA2B;AAC/B,MAAI,mBAAmB,CAAC,QAAQ,WAAW,SAAS,MAAM,UAAU,YAAY,SAAS;AAC1E,WAAR,kBAAmC,WAAW;AACnD,cAAU,QAAQ,SAAU,UAAU;AACpC,OAAC,EAAE,OAAO,OAAO,KAAK,QAAQ,GAAG,gBAAgB,EAChD,OAAO,SAAU,OAAO,OAAOC,OAAM;AACpC,eAAOA,MAAK,QAAQ,KAAK,MAAM;AAAA,MACjC,CAAC,EAAE,QAAQ,SAAU,KAAK;AACxB,gBAAQ,KAAK;AAAA,UACX,KAAK;AACH,gBAAI,OAAO,SAAS,SAAS,UAAU;AACrC,sBAAQ,MAAM,OAAO,wBAAwB,OAAO,SAAS,IAAI,GAAG,UAAU,YAAY,MAAO,OAAO,SAAS,IAAI,IAAI,GAAI,CAAC;AAAA,YAChI;AAEA;AAAA,UAEF,KAAK;AACH,gBAAI,OAAO,SAAS,YAAY,WAAW;AACzC,sBAAQ,MAAM,OAAO,wBAAwB,SAAS,MAAM,aAAa,aAAa,MAAO,OAAO,SAAS,OAAO,IAAI,GAAI,CAAC;AAAA,YAC/H;AAEA;AAAA,UAEF,KAAK;AACH,gBAAI,eAAe,QAAQ,SAAS,KAAK,IAAI,GAAG;AAC9C,sBAAQ,MAAM,OAAO,wBAAwB,SAAS,MAAM,WAAW,YAAY,eAAe,KAAK,IAAI,GAAG,MAAO,OAAO,SAAS,KAAK,IAAI,GAAI,CAAC;AAAA,YACrJ;AAEA;AAAA,UAEF,KAAK;AACH,gBAAI,OAAO,SAAS,OAAO,YAAY;AACrC,sBAAQ,MAAM,OAAO,wBAAwB,SAAS,MAAM,QAAQ,cAAc,MAAO,OAAO,SAAS,EAAE,IAAI,GAAI,CAAC;AAAA,YACtH;AAEA;AAAA,UAEF,KAAK;AACH,gBAAI,SAAS,UAAU,QAAQ,OAAO,SAAS,WAAW,YAAY;AACpE,sBAAQ,MAAM,OAAO,wBAAwB,SAAS,MAAM,YAAY,cAAc,MAAO,OAAO,SAAS,EAAE,IAAI,GAAI,CAAC;AAAA,YAC1H;AAEA;AAAA,UAEF,KAAK;AACH,gBAAI,SAAS,YAAY,QAAQ,CAAC,MAAM,QAAQ,SAAS,QAAQ,GAAG;AAClE,sBAAQ,MAAM,OAAO,wBAAwB,SAAS,MAAM,cAAc,WAAW,MAAO,OAAO,SAAS,QAAQ,IAAI,GAAI,CAAC;AAAA,YAC/H;AAEA;AAAA,UAEF,KAAK;AACH,gBAAI,CAAC,MAAM,QAAQ,SAAS,gBAAgB,GAAG;AAC7C,sBAAQ,MAAM,OAAO,wBAAwB,SAAS,MAAM,sBAAsB,WAAW,MAAO,OAAO,SAAS,gBAAgB,IAAI,GAAI,CAAC;AAAA,YAC/I;AAEA;AAAA,UAEF,KAAK;AAAA,UACL,KAAK;AACH;AAAA,UAEF;AACE,oBAAQ,MAAM,6DAA8D,SAAS,OAAO,sCAAuC,iBAAiB,IAAI,SAAUC,IAAG;AACnK,qBAAO,MAAOA,KAAI;AAAA,YACpB,CAAC,EAAE,KAAK,IAAI,IAAI,YAAa,MAAM,iBAAkB;AAAA,QACzD;AAEA,iBAAS,YAAY,SAAS,SAAS,QAAQ,SAAU,aAAa;AACpE,cAAI,UAAU,KAAK,SAAU,KAAK;AAChC,mBAAO,IAAI,SAAS;AAAA,UACtB,CAAC,KAAK,MAAM;AACV,oBAAQ,MAAM,OAAO,0BAA0B,OAAO,SAAS,IAAI,GAAG,aAAa,WAAW,CAAC;AAAA,UACjG;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAAA,IACH,CAAC;AAAA,EACH;;;AChFe,WAAR,SAA0B,KAAKC,KAAI;AACxC,QAAI,cAAc,oBAAI,IAAI;AAC1B,WAAO,IAAI,OAAO,SAAU,MAAM;AAChC,UAAI,aAAaA,IAAG,IAAI;AAExB,UAAI,CAAC,YAAY,IAAI,UAAU,GAAG;AAChC,oBAAY,IAAI,UAAU;AAC1B,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;;;ACVe,WAAR,YAA6B,WAAW;AAC7C,QAAI,SAAS,UAAU,OAAO,SAAUC,SAAQ,SAAS;AACvD,UAAI,WAAWA,QAAO,QAAQ,IAAI;AAClC,MAAAA,QAAO,QAAQ,IAAI,IAAI,WAAW,OAAO,OAAO,CAAC,GAAG,UAAU,SAAS;AAAA,QACrE,SAAS,OAAO,OAAO,CAAC,GAAG,SAAS,SAAS,QAAQ,OAAO;AAAA,QAC5D,MAAM,OAAO,OAAO,CAAC,GAAG,SAAS,MAAM,QAAQ,IAAI;AAAA,MACrD,CAAC,IAAI;AACL,aAAOA;AAAA,IACT,GAAG,CAAC,CAAC;AAEL,WAAO,OAAO,KAAK,MAAM,EAAE,IAAI,SAAU,KAAK;AAC5C,aAAO,OAAO,GAAG;AAAA,IACnB,CAAC;AAAA,EACH;;;ACCA,MAAI,wBAAwB;AAC5B,MAAI,sBAAsB;AAC1B,MAAI,kBAAkB;AAAA,IACpB,WAAW;AAAA,IACX,WAAW,CAAC;AAAA,IACZ,UAAU;AAAA,EACZ;AAEA,WAAS,mBAAmB;AAC1B,aAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,WAAK,IAAI,IAAI,UAAU,IAAI;AAAA,IAC7B;AAEA,WAAO,CAAC,KAAK,KAAK,SAAU,SAAS;AACnC,aAAO,EAAE,WAAW,OAAO,QAAQ,0BAA0B;AAAA,IAC/D,CAAC;AAAA,EACH;AAEO,WAAS,gBAAgB,kBAAkB;AAChD,QAAI,qBAAqB,QAAQ;AAC/B,yBAAmB,CAAC;AAAA,IACtB;AAEA,QAAI,oBAAoB,kBACpB,wBAAwB,kBAAkB,kBAC1CC,oBAAmB,0BAA0B,SAAS,CAAC,IAAI,uBAC3D,yBAAyB,kBAAkB,gBAC3CC,kBAAiB,2BAA2B,SAAS,kBAAkB;AAC3E,WAAO,SAASC,cAAaC,YAAWC,SAAQ,SAAS;AACvD,UAAI,YAAY,QAAQ;AACtB,kBAAUH;AAAA,MACZ;AAEA,UAAI,QAAQ;AAAA,QACV,WAAW;AAAA,QACX,kBAAkB,CAAC;AAAA,QACnB,SAAS,OAAO,OAAO,CAAC,GAAG,iBAAiBA,eAAc;AAAA,QAC1D,eAAe,CAAC;AAAA,QAChB,UAAU;AAAA,UACR,WAAWE;AAAA,UACX,QAAQC;AAAA,QACV;AAAA,QACA,YAAY,CAAC;AAAA,QACb,QAAQ,CAAC;AAAA,MACX;AACA,UAAI,mBAAmB,CAAC;AACxB,UAAI,cAAc;AAClB,UAAI,WAAW;AAAA,QACb;AAAA,QACA,YAAY,SAAS,WAAW,kBAAkB;AAChD,cAAIC,WAAU,OAAO,qBAAqB,aAAa,iBAAiB,MAAM,OAAO,IAAI;AACzF,iCAAuB;AACvB,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAGJ,iBAAgB,MAAM,SAASI,QAAO;AACxE,gBAAM,gBAAgB;AAAA,YACpB,WAAW,UAAUF,UAAS,IAAI,kBAAkBA,UAAS,IAAIA,WAAU,iBAAiB,kBAAkBA,WAAU,cAAc,IAAI,CAAC;AAAA,YAC3I,QAAQ,kBAAkBC,OAAM;AAAA,UAClC;AAGA,cAAI,mBAAmB,eAAe,YAAY,CAAC,EAAE,OAAOJ,mBAAkB,MAAM,QAAQ,SAAS,CAAC,CAAC;AAEvG,gBAAM,mBAAmB,iBAAiB,OAAO,SAAUM,IAAG;AAC5D,mBAAOA,GAAE;AAAA,UACX,CAAC;AAGD,cAAI,MAAuC;AACzC,gBAAI,YAAY,SAAS,CAAC,EAAE,OAAO,kBAAkB,MAAM,QAAQ,SAAS,GAAG,SAAU,MAAM;AAC7F,kBAAI,OAAO,KAAK;AAChB,qBAAO;AAAA,YACT,CAAC;AACD,8BAAkB,SAAS;AAE3B,gBAAI,iBAAiB,MAAM,QAAQ,SAAS,MAAM,MAAM;AACtD,kBAAI,eAAe,MAAM,iBAAiB,KAAK,SAAU,OAAO;AAC9D,oBAAI,OAAO,MAAM;AACjB,uBAAO,SAAS;AAAA,cAClB,CAAC;AAED,kBAAI,CAAC,cAAc;AACjB,wBAAQ,MAAM,CAAC,4DAA4D,8BAA8B,EAAE,KAAK,GAAG,CAAC;AAAA,cACtH;AAAA,YACF;AAEA,gBAAI,oBAAoB,iBAAiBF,OAAM,GAC3C,YAAY,kBAAkB,WAC9B,cAAc,kBAAkB,aAChC,eAAe,kBAAkB,cACjC,aAAa,kBAAkB;AAInC,gBAAI,CAAC,WAAW,aAAa,cAAc,UAAU,EAAE,KAAK,SAAU,QAAQ;AAC5E,qBAAO,WAAW,MAAM;AAAA,YAC1B,CAAC,GAAG;AACF,sBAAQ,KAAK,CAAC,+DAA+D,6DAA6D,8DAA8D,4DAA4D,YAAY,EAAE,KAAK,GAAG,CAAC;AAAA,YAC7R;AAAA,UACF;AAEA,6BAAmB;AACnB,iBAAO,SAAS,OAAO;AAAA,QACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMA,aAAa,SAAS,cAAc;AAClC,cAAI,aAAa;AACf;AAAA,UACF;AAEA,cAAI,kBAAkB,MAAM,UACxBD,aAAY,gBAAgB,WAC5BC,UAAS,gBAAgB;AAG7B,cAAI,CAAC,iBAAiBD,YAAWC,OAAM,GAAG;AACxC,gBAAI,MAAuC;AACzC,sBAAQ,MAAM,qBAAqB;AAAA,YACrC;AAEA;AAAA,UACF;AAGA,gBAAM,QAAQ;AAAA,YACZ,WAAW,iBAAiBD,YAAW,gBAAgBC,OAAM,GAAG,MAAM,QAAQ,aAAa,OAAO;AAAA,YAClG,QAAQ,cAAcA,OAAM;AAAA,UAC9B;AAMA,gBAAM,QAAQ;AACd,gBAAM,YAAY,MAAM,QAAQ;AAKhC,gBAAM,iBAAiB,QAAQ,SAAU,UAAU;AACjD,mBAAO,MAAM,cAAc,SAAS,IAAI,IAAI,OAAO,OAAO,CAAC,GAAG,SAAS,IAAI;AAAA,UAC7E,CAAC;AACD,cAAI,kBAAkB;AAEtB,mBAAS,QAAQ,GAAG,QAAQ,MAAM,iBAAiB,QAAQ,SAAS;AAClE,gBAAI,MAAuC;AACzC,iCAAmB;AAEnB,kBAAI,kBAAkB,KAAK;AACzB,wBAAQ,MAAM,mBAAmB;AACjC;AAAA,cACF;AAAA,YACF;AAEA,gBAAI,MAAM,UAAU,MAAM;AACxB,oBAAM,QAAQ;AACd,sBAAQ;AACR;AAAA,YACF;AAEA,gBAAI,wBAAwB,MAAM,iBAAiB,KAAK,GACpDG,MAAK,sBAAsB,IAC3B,yBAAyB,sBAAsB,SAC/C,WAAW,2BAA2B,SAAS,CAAC,IAAI,wBACpD,OAAO,sBAAsB;AAEjC,gBAAI,OAAOA,QAAO,YAAY;AAC5B,sBAAQA,IAAG;AAAA,gBACT;AAAA,gBACA,SAAS;AAAA,gBACT;AAAA,gBACA;AAAA,cACF,CAAC,KAAK;AAAA,YACR;AAAA,UACF;AAAA,QACF;AAAA;AAAA;AAAA,QAGA,QAAQ,SAAS,WAAY;AAC3B,iBAAO,IAAI,QAAQ,SAAU,SAAS;AACpC,qBAAS,YAAY;AACrB,oBAAQ,KAAK;AAAA,UACf,CAAC;AAAA,QACH,CAAC;AAAA,QACD,SAAS,SAAS,UAAU;AAC1B,iCAAuB;AACvB,wBAAc;AAAA,QAChB;AAAA,MACF;AAEA,UAAI,CAAC,iBAAiBJ,YAAWC,OAAM,GAAG;AACxC,YAAI,MAAuC;AACzC,kBAAQ,MAAM,qBAAqB;AAAA,QACrC;AAEA,eAAO;AAAA,MACT;AAEA,eAAS,WAAW,OAAO,EAAE,KAAK,SAAUI,QAAO;AACjD,YAAI,CAAC,eAAe,QAAQ,eAAe;AACzC,kBAAQ,cAAcA,MAAK;AAAA,QAC7B;AAAA,MACF,CAAC;AAMD,eAAS,qBAAqB;AAC5B,cAAM,iBAAiB,QAAQ,SAAU,OAAO;AAC9C,cAAI,OAAO,MAAM,MACb,gBAAgB,MAAM,SACtBH,WAAU,kBAAkB,SAAS,CAAC,IAAI,eAC1CI,UAAS,MAAM;AAEnB,cAAI,OAAOA,YAAW,YAAY;AAChC,gBAAI,YAAYA,QAAO;AAAA,cACrB;AAAA,cACA;AAAA,cACA;AAAA,cACA,SAASJ;AAAA,YACX,CAAC;AAED,gBAAI,SAAS,SAASK,UAAS;AAAA,YAAC;AAEhC,6BAAiB,KAAK,aAAa,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAEA,eAAS,yBAAyB;AAChC,yBAAiB,QAAQ,SAAUH,KAAI;AACrC,iBAAOA,IAAG;AAAA,QACZ,CAAC;AACD,2BAAmB,CAAC;AAAA,MACtB;AAEA,aAAO;AAAA,IACT;AAAA,EACF;;;ACrPA,MAAI,mBAAmB,CAAC,wBAAgB,uBAAe,uBAAe,qBAAa,gBAAQ,cAAM,yBAAiB,eAAO,YAAI;AAC7H,MAAI,eAA4B,gCAAgB;AAAA,IAC9C;AAAA,EACF,CAAC;;;ACVM,MAAMI,YAAS;AACf,MAAMC,gBAAa;AACnB,MAAMC,iBAAc;AACpB,MAAMC,cAAW;AACjB,MAAMC,kBAAe;AAErB,MAAMC,gBAAgB;IAACC,SAAS;IAAMC,SAAS;EAAzB;AAEtB,MAAMC,0BAA0B,SAA1BA,2BAA0B;AAAA,WAAMC,SAASC;EAAf;ACThC,WAASC,eACdC,KACAC,KACS;AACT,WAAO,CAAA,EAAGF,eAAeG,KAAKF,KAAKC,GAA5B;EACR;AAEM,WAASE,wBACdC,OACAC,OACAC,cACG;AACH,QAAIC,MAAMC,QAAQJ,KAAd,GAAsB;AACxB,UAAMK,KAAIL,MAAMC,KAAD;AACf,aAAOI,MAAK,OACRF,MAAMC,QAAQF,YAAd,IACEA,aAAaD,KAAD,IACZC,eACFG;IACL;AAED,WAAOL;EACR;AAEM,WAASM,OAAON,OAAYO,MAAuB;AACxD,QAAMC,MAAM,CAAA,EAAGC,SAASX,KAAKE,KAAjB;AACZ,WAAOQ,IAAIE,QAAQ,SAAZ,MAA2B,KAAKF,IAAIE,QAAWH,OAAf,GAAA,IAA0B;EAClE;AAEM,WAASI,uBAAuBX,OAAYY,MAAkB;AACnE,WAAO,OAAOZ,UAAU,aAAaA,MAAK,MAAL,QAASY,IAAT,IAAiBZ;EACvD;AAEM,WAASa,UACdC,KACAC,IACkB;AAElB,QAAIA,OAAO,GAAG;AACZ,aAAOD;IACR;AAED,QAAIE;AAEJ,WAAO,SAACC,KAAc;AACpBC,mBAAaF,OAAD;AACZA,gBAAUG,WAAW,WAAM;AACzBL,QAAAA,IAAGG,GAAD;MACH,GAAEF,EAFiB;IAGrB;EACF;AAEM,WAASK,iBAAoBxB,KAAQyB,MAA4B;AACtE,QAAMC,QAAK,OAAA,OAAA,CAAA,GAAO1B,GAAP;AACXyB,SAAKE,QAAQ,SAAC1B,KAAQ;AACpB,aAAQyB,MAAczB,GAAf;IACR,CAFD;AAGA,WAAOyB;EACR;AAEM,WAASE,cAAcxB,OAAyB;AACrD,WAAOA,MAAMyB,MAAM,KAAZ,EAAmBC,OAAOC,OAA1B;EACR;AAEM,WAASC,iBAAoB5B,OAAqB;AACvD,WAAQ,CAAA,EAAW6B,OAAO7B,KAAnB;EACR;AAEM,WAAS8B,aAAgBC,KAAU/B,OAAgB;AACxD,QAAI+B,IAAIrB,QAAQV,KAAZ,MAAuB,IAAI;AAC7B+B,UAAIC,KAAKhC,KAAT;IACD;EACF;AAMM,WAASiC,OAAUF,KAAe;AACvC,WAAOA,IAAIL,OAAO,SAACQ,MAAMjC,OAAP;AAAA,aAAiB8B,IAAIrB,QAAQwB,IAAZ,MAAsBjC;IAAvC,CAAX;EACR;AAMM,WAASkC,kBAAiBC,WAAqC;AACpE,WAAOA,UAAUX,MAAM,GAAhB,EAAqB,CAArB;EACR;AAEM,WAASY,UAAUrC,OAA8B;AACtD,WAAO,CAAA,EAAGsC,MAAMxC,KAAKE,KAAd;EACR;AAEM,WAASuC,qBACd3C,KACkC;AAClC,WAAO4C,OAAOnB,KAAKzB,GAAZ,EAAiB6C,OAAO,SAACC,KAAK7C,KAAQ;AAC3C,UAAID,IAAIC,GAAD,MAAU8C,QAAW;AACzBD,YAAY7C,GAAb,IAAoBD,IAAIC,GAAD;MACxB;AAED,aAAO6C;IACR,GAAE,CAAA,CANI;EAOR;ACtGM,WAASE,MAAsB;AACpC,WAAOnD,SAASoD,cAAc,KAAvB;EACR;AAEM,WAASC,WAAU9C,OAAqD;AAC7E,WAAO,CAAC,WAAW,UAAZ,EAAwB+C,KAAK,SAACxC,MAAD;AAAA,aAAUD,OAAON,OAAOO,IAAR;IAAhB,CAA7B;EACR;AAEM,WAASyC,WAAWhD,OAAmC;AAC5D,WAAOM,OAAON,OAAO,UAAR;EACd;AAEM,WAASiD,aAAajD,OAAqC;AAChE,WAAOM,OAAON,OAAO,YAAR;EACd;AAEM,WAASkD,mBAAmBlD,OAAuC;AACxE,WAAO,CAAC,EAAEA,SAASA,MAAMmD,UAAUnD,MAAMmD,OAAOC,cAAcpD;EAC/D;AAEM,WAASqD,mBAAmBrD,OAA2B;AAC5D,QAAI8C,WAAU9C,KAAD,GAAS;AACpB,aAAO,CAACA,KAAD;IACR;AAED,QAAIgD,WAAWhD,KAAD,GAAS;AACrB,aAAOqC,UAAUrC,KAAD;IACjB;AAED,QAAIG,MAAMC,QAAQJ,KAAd,GAAsB;AACxB,aAAOA;IACR;AAED,WAAOqC,UAAU5C,SAAS6D,iBAAiBtD,KAA1B,CAAD;EACjB;AAEM,WAASuD,sBACdC,KACAxD,OACM;AACNwD,QAAIjC,QAAQ,SAACkC,IAAO;AAClB,UAAIA,IAAI;AACNA,WAAGC,MAAMC,qBAAwB3D,QAAjC;MACD;IACF,CAJD;EAKD;AAEM,WAAS4D,mBACdJ,KACAK,OACM;AACNL,QAAIjC,QAAQ,SAACkC,IAAO;AAClB,UAAIA,IAAI;AACNA,WAAGK,aAAa,cAAcD,KAA9B;MACD;IACF,CAJD;EAKD;AAEM,WAASE,iBACdC,mBACU;AAAA,QAAA;AACV,QAAA,oBAAkBpC,iBAAiBoC,iBAAD,GAA3BC,UAAP,kBAAA,CAAA;AAGA,WAAOA,WAAO,SAAP,wBAAAA,QAASC,kBAAT,QAAA,sBAAwBxE,OAAOuE,QAAQC,gBAAgBzE;EAC/D;AAEM,WAAS0E,iCACdC,gBACAC,OACS;AACT,QAAOC,UAAoBD,MAApBC,SAASC,UAAWF,MAAXE;AAEhB,WAAOH,eAAeI,MAAM,SAAA,MAAsC;AAAA,UAApCC,aAAoC,KAApCA,YAAYC,cAAwB,KAAxBA,aAAaC,QAAW,KAAXA;AACrD,UAAOC,oBAAqBD,MAArBC;AACP,UAAMC,gBAAgB1C,kBAAiBuC,YAAYtC,SAAb;AACtC,UAAM0C,aAAaJ,YAAYK,cAAcC;AAE7C,UAAI,CAACF,YAAY;AACf,eAAO;MACR;AAED,UAAMG,cAAcJ,kBAAkB,WAAWC,WAAWI,IAAKC,IAAI;AACrE,UAAMC,iBAAiBP,kBAAkB,QAAQC,WAAWO,OAAQF,IAAI;AACxE,UAAMG,eAAeT,kBAAkB,UAAUC,WAAWS,KAAMC,IAAI;AACtE,UAAMC,gBAAgBZ,kBAAkB,SAASC,WAAWY,MAAOF,IAAI;AAEvE,UAAMG,aACJlB,WAAWS,MAAMX,UAAUU,cAAcL;AAC3C,UAAMgB,gBACJrB,UAAUE,WAAWY,SAASD,iBAAiBR;AACjD,UAAMiB,cACJpB,WAAWc,OAAOjB,UAAUgB,eAAeV;AAC7C,UAAMkB,eACJxB,UAAUG,WAAWiB,QAAQD,gBAAgBb;AAE/C,aAAOe,cAAcC,iBAAiBC,eAAeC;IACtD,CAxBM;EAyBR;AAEM,WAASC,4BACdC,KACAC,QACAC,UACM;AACN,QAAMC,SAAYF,SAAN;AAMZ,KAAC,iBAAiB,qBAAlB,EAAyC1E,QAAQ,SAAC8C,OAAU;AAC1D2B,UAAIG,MAAD,EAAS9B,OAAO6B,QAAnB;IACD,CAFD;EAGD;AAMM,WAASE,eAAeC,QAAiBC,OAAyB;AACvE,QAAIC,SAASD;AACb,WAAOC,QAAQ;AAAA,UAAA;AACb,UAAIF,OAAOG,SAASD,MAAhB,GAAyB;AAC3B,eAAO;MACR;AACDA,eAAUA,OAAOE,eAAX,OAAA,UAAA,sBAAIF,OAAOE,YAAP,MAAJ,OAAA,SAAG,oBAAiCC;IAC3C;AACD,WAAO;EACR;AClIM,MAAMC,eAAe;IAACC,SAAS;EAAV;AAC5B,MAAIC,oBAAoB;AAQjB,WAASC,uBAA6B;AAC3C,QAAIH,aAAaC,SAAS;AACxB;IACD;AAEDD,iBAAaC,UAAU;AAEvB,QAAIG,OAAOC,aAAa;AACtBvH,eAASwH,iBAAiB,aAAaC,mBAAvC;IACD;EACF;AAOM,WAASA,sBAA4B;AAC1C,QAAMC,OAAMH,YAAYG,IAAZ;AAEZ,QAAIA,OAAMN,oBAAoB,IAAI;AAChCF,mBAAaC,UAAU;AAEvBnH,eAAS2H,oBAAoB,aAAaF,mBAA1C;IACD;AAEDL,wBAAoBM;EACrB;AAQM,WAASE,eAAqB;AACnC,QAAMC,gBAAgB7H,SAAS6H;AAE/B,QAAIpE,mBAAmBoE,aAAD,GAAiB;AACrC,UAAMC,WAAWD,cAAcnE;AAE/B,UAAImE,cAAcE,QAAQ,CAACD,SAAS1D,MAAM4D,WAAW;AACnDH,sBAAcE,KAAd;MACD;IACF;EACF;AAEc,WAASE,2BAAiC;AACvDjI,aAASwH,iBAAiB,cAAcH,sBAAsBzH,aAA9D;AACA0H,WAAOE,iBAAiB,QAAQI,YAAhC;EACD;AC9DM,MAAMM,YACX,OAAOZ,WAAW,eAAe,OAAOtH,aAAa;AAEhD,MAAMmI,SAASD;;IAElB,CAAC,CAACZ,OAAOc;MACT;ACJG,WAASC,wBAAwB3B,QAAwB;AAC9D,QAAM4B,MAAM5B,WAAW,YAAY,eAAe;AAElD,WAAO,CACFA,SADE,uBACyB4B,MADzB,2CAEL,oCAFK,EAGLC,KAAK,GAHA;EAIR;AAEM,WAASC,MAAMjI,OAAuB;AAC3C,QAAMkI,gBAAgB;AACtB,QAAMC,sBAAsB;AAE5B,WAAOnI,MACJoI,QAAQF,eAAe,GADnB,EAEJE,QAAQD,qBAAqB,EAFzB,EAGJE,KAHI;EAIR;AAED,WAASC,cAAcC,SAAyB;AAC9C,WAAON,MAAK,2BAGRA,MAAMM,OAAD,IAHG,mGAAA;EAOb;AAEM,WAASC,oBAAoBD,SAA2B;AAC7D,WAAO;MACLD,cAAcC,OAAD;;MAEb;;MAEA;;MAEA;IAPK;EASR;AAGD,MAAIE;AACJ,MAAA,MAAa;AACXC,yBAAoB;EACrB;AAEM,WAASA,uBAA6B;AAC3CD,sBAAkB,oBAAIE,IAAJ;EACnB;AAEM,WAASC,SAASC,WAAoBN,SAAuB;AAClE,QAAIM,aAAa,CAACJ,gBAAgBK,IAAIP,OAApB,GAA8B;AAAA,UAAA;AAC9CE,sBAAgBM,IAAIR,OAApB;AACA,OAAA,WAAAS,SAAQC,KAAR,MAAA,UAAgBT,oBAAoBD,OAAD,CAAnC;IACD;EACF;AAEM,WAASW,UAAUL,WAAoBN,SAAuB;AACnE,QAAIM,aAAa,CAACJ,gBAAgBK,IAAIP,OAApB,GAA8B;AAAA,UAAA;AAC9CE,sBAAgBM,IAAIR,OAApB;AACA,OAAA,YAAAS,SAAQG,MAAR,MAAA,WAAiBX,oBAAoBD,OAAD,CAApC;IACD;EACF;AAEM,WAASa,gBAAgBC,SAAwB;AACtD,QAAMC,oBAAoB,CAACD;AAC3B,QAAME,qBACJ/G,OAAOgH,UAAU/I,SAASX,KAAKuJ,OAA/B,MAA4C,qBAC5C,CAAEA,QAAgBpC;AAEpBiC,cACEI,mBACA,CACE,sBACA,MAAMG,OAAOJ,OAAD,IAAY,KACxB,sEACA,yBAJF,EAKErB,KAAK,GALP,CAFO;AAUTkB,cACEK,oBACA,CACE,2EACA,oEAFF,EAGEvB,KAAK,GAHP,CAFO;EAOV;ACjFD,MAAM0B,cAAc;IAClBC,aAAa;IACbC,cAAc;IACdC,mBAAmB;IACnBC,QAAQ;EAJU;AAOpB,MAAMC,cAAc;IAClBC,WAAW;IACXC,WAAW;IACXC,OAAO;IACPC,SAAS;IACTC,SAAS;IACTC,UAAU;IACVC,MAAM;IACNC,OAAO;IACPC,QAAQ;EATU;AAYb,MAAMC,eAA0B,OAAA,OAAA;IACrCC,UAAUlL;IACVmL,MAAM;MACJR,SAAS;MACTS,UAAU;IAFN;IAINC,OAAO;IACPC,UAAU,CAAC,KAAK,GAAN;IACVC,wBAAwB;IACxBC,aAAa;IACbC,kBAAkB;IAClBC,aAAa;IACbtG,mBAAmB;IACnBuG,qBAAqB;IACrBC,gBAAgB;IAChBpG,QAAQ,CAAC,GAAG,EAAJ;IACRqG,eAhBqC,SAAA,gBAgBrB;IAAA;IAChBC,gBAjBqC,SAAA,iBAiBpB;IAAA;IACjBC,UAlBqC,SAAA,WAkB1B;IAAA;IACXC,WAnBqC,SAAA,YAmBzB;IAAA;IACZC,UApBqC,SAAA,WAoB1B;IAAA;IACXC,QArBqC,SAAA,SAqB5B;IAAA;IACTC,SAtBqC,SAAA,UAsB3B;IAAA;IACVC,QAvBqC,SAAA,SAuB5B;IAAA;IACTC,SAxBqC,SAAA,UAwB3B;IAAA;IACVC,WAzBqC,SAAA,YAyBzB;IAAA;IACZC,aA1BqC,SAAA,cA0BvB;IAAA;IACdC,gBA3BqC,SAAA,iBA2BpB;IAAA;IACjB5J,WAAW;IACX6J,SAAS,CAAA;IACTC,eAAe,CAAA;IACfC,QAAQ;IACRC,cAAc;IACdC,OAAO;IACPC,SAAS;IACTC,eAAe;EAnCsB,GAoClC7C,aACAK,WArCkC;AAwCvC,MAAMyC,cAAchK,OAAOnB,KAAKoJ,YAAZ;AAEb,MAAMgC,kBAA4C,SAA5CA,iBAA6CC,cAAiB;AAEzE,QAAA,MAAa;AACXC,oBAAcD,cAAc,CAAA,CAAf;IACd;AAED,QAAMrL,OAAOmB,OAAOnB,KAAKqL,YAAZ;AACbrL,SAAKE,QAAQ,SAAC1B,KAAQ;AACnB4K,mBAAqB5K,GAAtB,IAA6B6M,aAAa7M,GAAD;IAC1C,CAFD;EAGD;AAEM,WAAS+M,uBACdC,aACgB;AAChB,QAAMZ,UAAUY,YAAYZ,WAAW,CAAA;AACvC,QAAMvC,eAAcuC,QAAQxJ,OAAgC,SAACC,KAAKoK,QAAW;AAC3E,UAAOC,OAAsBD,OAAtBC,MAAM7M,eAAgB4M,OAAhB5M;AAEb,UAAI6M,MAAM;AAAA,YAAA;AACRrK,YAAIqK,IAAD,IACDF,YAAYE,IAAD,MAAWpK,SAClBkK,YAAYE,IAAD,KADf,QAEKtC,aAAqBsC,IAAtB,MAFJ,OAAA,QAEmC7M;MACtC;AAED,aAAOwC;IACR,GAAE,CAAA,CAXiB;AAapB,WAAA,OAAA,OAAA,CAAA,GACKmK,aACAnD,YAFL;EAID;AAEM,WAASsD,sBACd5J,YACA6I,SACyB;AACzB,QAAMgB,WAAWhB,UACbzJ,OAAOnB,KAAKuL,uBAAsB,OAAA,OAAA,CAAA,GAAKnC,cAAL;MAAmBwB;IAAnB,CAAA,CAAA,CAAlC,IACAO;AAEJ,QAAM7H,QAAQsI,SAASxK,OACrB,SAACC,KAA+C7C,KAAQ;AACtD,UAAMqN,iBACJ9J,WAAU+J,aAAV,gBAAqCtN,GAArC,KAA+C,IAC/CwI,KAFoB;AAItB,UAAI,CAAC6E,eAAe;AAClB,eAAOxK;MACR;AAED,UAAI7C,QAAQ,WAAW;AACrB6C,YAAI7C,GAAD,IAAQqN;MACZ,OAAM;AACL,YAAI;AACFxK,cAAI7C,GAAD,IAAQuN,KAAKC,MAAMH,aAAX;QACZ,SAAQI,IAAG;AACV5K,cAAI7C,GAAD,IAAQqN;QACZ;MACF;AAED,aAAOxK;IACR,GACD,CAAA,CAtBY;AAyBd,WAAOiC;EACR;AAEM,WAAS4I,cACdnK,YACAuB,OACO;AACP,QAAM6I,MAAG,OAAA,OAAA,CAAA,GACJ7I,OADI;MAEPwF,SAASxJ,uBAAuBgE,MAAMwF,SAAS,CAAC/G,UAAD,CAAhB;IAFxB,GAGHuB,MAAMsG,mBACN,CAAA,IACA+B,sBAAsB5J,YAAWuB,MAAMsH,OAAlB,CALlB;AAQTuB,QAAI7C,OAAJ,OAAA,OAAA,CAAA,GACKF,aAAaE,MACb6C,IAAI7C,IAFT;AAKA6C,QAAI7C,OAAO;MACTC,UACE4C,IAAI7C,KAAKC,aAAa,SAASjG,MAAMuG,cAAcsC,IAAI7C,KAAKC;MAC9DT,SACEqD,IAAI7C,KAAKR,YAAY,SACjBxF,MAAMuG,cACJ,OACA,gBACFsC,IAAI7C,KAAKR;IARN;AAWX,WAAOqD;EACR;AAEM,WAASb,cACdD,cACAT,SACM;AAAA,QAFNS,iBAEM,QAAA;AAFNA,qBAA+B,CAAA;IAEzB;AAAA,QADNT,YACM,QAAA;AADNA,gBAAoB,CAAA;IACd;AACN,QAAM5K,OAAOmB,OAAOnB,KAAKqL,YAAZ;AACbrL,SAAKE,QAAQ,SAACkM,MAAS;AACrB,UAAMC,iBAAiBtM,iBACrBqJ,cACAjI,OAAOnB,KAAKqI,WAAZ,CAFqC;AAKvC,UAAIiE,qBAAqB,CAAChO,eAAe+N,gBAAgBD,IAAjB;AAGxC,UAAIE,oBAAoB;AACtBA,6BACE1B,QAAQvK,OAAO,SAACoL,QAAD;AAAA,iBAAYA,OAAOC,SAASU;QAA5B,CAAf,EAAiDG,WAAW;MAC/D;AAEDhF,eACE+E,oBACA,CAAA,MACOF,OADP,KAEE,wEACA,6DACA,QACA,gEACA,wDANF,EAOEzF,KAAK,GAPP,CAFM;IAWT,CAzBD;EA0BD;AC9LD,MAAM6F,YAAY,SAAZA,aAAY;AAAA,WAAmB;EAAnB;AAElB,WAASC,wBAAwB7J,SAAkB8J,MAAoB;AACrE9J,YAAQ4J,UAAS,CAAV,IAAgBE;EACxB;AAED,WAASC,mBAAmBhO,OAAuC;AACjE,QAAMkK,SAAQtH,IAAG;AAEjB,QAAI5C,UAAU,MAAM;AAClBkK,MAAAA,OAAM+D,YAAY9O;IACnB,OAAM;AACL+K,MAAAA,OAAM+D,YAAY7O;AAElB,UAAI0D,WAAU9C,KAAD,GAAS;AACpBkK,QAAAA,OAAMgE,YAAYlO,KAAlB;MACD,OAAM;AACL8N,gCAAwB5D,QAAOlK,KAAR;MACxB;IACF;AAED,WAAOkK;EACR;AAEM,WAASiE,WAAWhE,SAAyBxF,OAAoB;AACtE,QAAI7B,WAAU6B,MAAMwF,OAAP,GAAiB;AAC5B2D,8BAAwB3D,SAAS,EAAV;AACvBA,cAAQ+D,YAAYvJ,MAAMwF,OAA1B;IACD,WAAU,OAAOxF,MAAMwF,YAAY,YAAY;AAC9C,UAAIxF,MAAMqF,WAAW;AACnB8D,gCAAwB3D,SAASxF,MAAMwF,OAAhB;MACxB,OAAM;AACLA,gBAAQiE,cAAczJ,MAAMwF;MAC7B;IACF;EACF;AAEM,WAASkE,YAAYC,SAAuC;AACjE,QAAMtI,MAAMsI,QAAOC;AACnB,QAAMC,cAAcnM,UAAU2D,IAAIyI,QAAL;AAE7B,WAAO;MACLzI;MACAmE,SAASqE,YAAYE,KAAK,SAACC,MAAD;AAAA,eAAUA,KAAKC,UAAUpI,SAASvH,aAAxB;MAAV,CAAjB;MACTiL,OAAOsE,YAAYE,KACjB,SAACC,MAAD;AAAA,eACEA,KAAKC,UAAUpI,SAASrH,WAAxB,KACAwP,KAAKC,UAAUpI,SAASpH,eAAxB;MAFF,CADK;MAKPyP,UAAUL,YAAYE,KAAK,SAACC,MAAD;AAAA,eACzBA,KAAKC,UAAUpI,SAAStH,cAAxB;MADyB,CAAjB;IARL;EAYR;AAEM,WAASiN,OACd5E,UAIA;AACA,QAAM+G,UAAS1L,IAAG;AAElB,QAAMoD,MAAMpD,IAAG;AACfoD,QAAIiI,YAAYjP;AAChBgH,QAAIlC,aAAa,cAAc,QAA/B;AACAkC,QAAIlC,aAAa,YAAY,IAA7B;AAEA,QAAMqG,UAAUvH,IAAG;AACnBuH,YAAQ8D,YAAYhP;AACpBkL,YAAQrG,aAAa,cAAc,QAAnC;AAEAqK,eAAWhE,SAAS5C,SAAS5C,KAAnB;AAEV2J,IAAAA,QAAOJ,YAAYlI,GAAnB;AACAA,QAAIkI,YAAY/D,OAAhB;AAEA2E,aAASvH,SAAS5C,OAAO4C,SAAS5C,KAA1B;AAER,aAASmK,SAASC,WAAkBC,WAAwB;AAC1D,UAAA,eAA8BX,YAAYC,OAAD,GAAlCtI,OAAP,aAAOA,KAAKmE,WAAZ,aAAYA,SAASD,SAArB,aAAqBA;AAErB,UAAI8E,UAAUzE,OAAO;AACnBvE,QAAAA,KAAIlC,aAAa,cAAckL,UAAUzE,KAAzC;MACD,OAAM;AACLvE,QAAAA,KAAIiJ,gBAAgB,YAApB;MACD;AAED,UAAI,OAAOD,UAAU/E,cAAc,UAAU;AAC3CjE,QAAAA,KAAIlC,aAAa,kBAAkBkL,UAAU/E,SAA7C;MACD,OAAM;AACLjE,QAAAA,KAAIiJ,gBAAgB,gBAApB;MACD;AAED,UAAID,UAAU5E,SAAS;AACrBpE,QAAAA,KAAIlC,aAAa,gBAAgB,EAAjC;MACD,OAAM;AACLkC,QAAAA,KAAIiJ,gBAAgB,cAApB;MACD;AAEDjJ,MAAAA,KAAItC,MAAM2G,WACR,OAAO2E,UAAU3E,aAAa,WACvB2E,UAAU3E,WADjB,OAEI2E,UAAU3E;AAEhB,UAAI2E,UAAU1E,MAAM;AAClBtE,QAAAA,KAAIlC,aAAa,QAAQkL,UAAU1E,IAAnC;MACD,OAAM;AACLtE,QAAAA,KAAIiJ,gBAAgB,MAApB;MACD;AAED,UACEF,UAAU5E,YAAY6E,UAAU7E,WAChC4E,UAAU/E,cAAcgF,UAAUhF,WAClC;AACAmE,mBAAWhE,UAAS5C,SAAS5C,KAAnB;MACX;AAED,UAAIqK,UAAU9E,OAAO;AACnB,YAAI,CAACA,QAAO;AACVlE,UAAAA,KAAIkI,YAAYF,mBAAmBgB,UAAU9E,KAAX,CAAlC;QACD,WAAU6E,UAAU7E,UAAU8E,UAAU9E,OAAO;AAC9ClE,UAAAA,KAAIkJ,YAAYhF,MAAhB;AACAlE,UAAAA,KAAIkI,YAAYF,mBAAmBgB,UAAU9E,KAAX,CAAlC;QACD;MACF,WAAUA,QAAO;AAChBlE,QAAAA,KAAIkJ,YAAYhF,MAAhB;MACD;IACF;AAED,WAAO;MACLoE,QAAAA;MACAQ;IAFK;EAIR;AAID3C,SAAOgD,UAAU;ACjHjB,MAAIC,YAAY;AAChB,MAAIC,qBAAsD,CAAA;AAGnD,MAAIC,mBAA+B,CAAA;AAE3B,WAASC,YACtBnM,YACAyJ,aACU;AACV,QAAMlI,QAAQ4I,cAAcnK,YAAD,OAAA,OAAA,CAAA,GACtBqH,cACAmC,uBAAuBrK,qBAAqBsK,WAAD,CAArB,CAFA,CAAA;AAQ3B,QAAI2C;AACJ,QAAIC;AACJ,QAAIC;AACJ,QAAIC,qBAAqB;AACzB,QAAIC,gCAAgC;AACpC,QAAIC,eAAe;AACnB,QAAIC,sBAAsB;AAC1B,QAAIC;AACJ,QAAIC;AACJ,QAAIC;AACJ,QAAIC,YAA8B,CAAA;AAClC,QAAIC,uBAAuBtP,UAASuP,aAAazL,MAAMwG,mBAApB;AACnC,QAAIkF;AAKJ,QAAMC,OAAKlB;AACX,QAAMmB,iBAAiB;AACvB,QAAMtE,UAAUhK,OAAO0C,MAAMsH,OAAP;AAEtB,QAAMpI,QAAQ;;MAEZ2M,WAAW;;MAEX/I,WAAW;;MAEXgJ,aAAa;;MAEbC,WAAW;;MAEXC,SAAS;IAVG;AAad,QAAMpJ,WAAqB;;MAEzB+I,IAAAA;MACAlN,WAAAA;MACAkL,QAAQ1L,IAAG;MACX2N;MACA5L;MACAd;MACAoI;;MAEA2E;MACAC;MACA1C,YAAAA;MACA2C;MACAC,MAAAA;MACAC;MACAC;MACAC;MACAC;MACAC;IAnByB;AAyB3B,QAAI,CAACzM,MAAMwH,QAAQ;AACjB,UAAA,MAAa;AACXjD,kBAAU,MAAM,0CAAP;MACV;AAED,aAAO3B;IACR;AAKD,QAAA,gBAA2B5C,MAAMwH,OAAO5E,QAAb,GAApB+G,UAAP,cAAOA,QAAQQ,WAAf,cAAeA;AAEfR,IAAAA,QAAOxK,aAAa,mBAAkC,EAAtD;AACAwK,IAAAA,QAAOgC,KAAP,WAAoC/I,SAAS+I;AAE7C/I,aAAS+G,SAASA;AAClBlL,IAAAA,WAAUD,SAASoE;AACnB+G,IAAAA,QAAOnL,SAASoE;AAEhB,QAAM8J,eAAepF,QAAQqF,IAAI,SAACxE,QAAD;AAAA,aAAYA,OAAOhM,GAAGyG,QAAV;IAAZ,CAAZ;AACrB,QAAMgK,kBAAkBnO,WAAUoO,aAAa,eAAvB;AAExBC,iBAAY;AACZC,gCAA2B;AAC3BC,iBAAY;AAEZC,eAAW,YAAY,CAACrK,QAAD,CAAb;AAEV,QAAI5C,MAAMyH,cAAc;AACtByF,mBAAY;IACb;AAIDvD,IAAAA,QAAOrH,iBAAiB,cAAc,WAAM;AAC1C,UAAIM,SAAS5C,MAAMuG,eAAe3D,SAAS1D,MAAM4D,WAAW;AAC1DF,iBAASqJ,mBAAT;MACD;IACF,CAJD;AAMAtC,IAAAA,QAAOrH,iBAAiB,cAAc,WAAM;AAC1C,UACEM,SAAS5C,MAAMuG,eACf3D,SAAS5C,MAAM2H,QAAQ5L,QAAQ,YAA/B,KAAgD,GAChD;AACAoR,oBAAW,EAAG7K,iBAAiB,aAAakJ,oBAA5C;MACD;IACF,CAPD;AASA,WAAO5I;AAKP,aAASwK,6BAAyD;AAChE,UAAO1F,QAAS9E,SAAS5C,MAAlB0H;AACP,aAAOlM,MAAMC,QAAQiM,KAAd,IAAuBA,QAAQ,CAACA,OAAO,CAAR;IACvC;AAED,aAAS2F,2BAAoC;AAC3C,aAAOD,2BAA0B,EAAG,CAAH,MAAU;IAC5C;AAED,aAASE,uBAAgC;AAAA,UAAA;AAEvC,aAAO,CAAC,GAAA,wBAAC1K,SAAS5C,MAAMwH,WAAhB,QAAC,sBAAuBgD;IACjC;AAED,aAAS+C,mBAA4B;AACnC,aAAO7B,iBAAiBjN;IACzB;AAED,aAAS0O,cAAwB;AAC/B,UAAMzL,SAAS6L,iBAAgB,EAAGC;AAClC,aAAO9L,SAAStC,iBAAiBsC,MAAD,IAAW5G;IAC5C;AAED,aAAS2S,6BAA6C;AACpD,aAAO/D,YAAYC,OAAD;IACnB;AAED,aAAS+D,SAASC,QAAyB;AAIzC,UACG/K,SAAS1D,MAAM6M,aAAa,CAACnJ,SAAS1D,MAAM4D,aAC7Cd,aAAaC,WACZmJ,oBAAoBA,iBAAiBxP,SAAS,SAC/C;AACA,eAAO;MACR;AAED,aAAOR,wBACLwH,SAAS5C,MAAMkG,OACfyH,SAAS,IAAI,GACb7H,aAAaI,KAHe;IAK/B;AAED,aAAS8G,aAAaY,UAAwB;AAAA,UAAxBA,aAAwB,QAAA;AAAxBA,mBAAW;MAAa;AAC5CjE,MAAAA,QAAO5K,MAAM8O,gBACXjL,SAAS5C,MAAMuG,eAAe,CAACqH,WAAW,KAAK;AACjDjE,MAAAA,QAAO5K,MAAM8G,SAAb,KAAyBjD,SAAS5C,MAAM6F;IACzC;AAED,aAASoH,WACPa,MACA7R,MACA8R,uBACM;AAAA,UADNA,0BACM,QAAA;AADNA,gCAAwB;MAClB;AACNrB,mBAAa9P,QAAQ,SAACoR,aAAgB;AACpC,YAAIA,YAAYF,IAAD,GAAQ;AACrBE,sBAAYF,IAAD,EAAX,MAAAE,aAAsB/R,IAAX;QACZ;MACF,CAJD;AAMA,UAAI8R,uBAAuB;AAAA,YAAA;AACzB,SAAA,kBAAAnL,SAAS5C,OAAM8N,IAAf,EAAA,MAAA,iBAAwB7R,IAAxB;MACD;IACF;AAED,aAASgS,6BAAmC;AAC1C,UAAOjI,OAAQpD,SAAS5C,MAAjBgG;AAEP,UAAI,CAACA,KAAKR,SAAS;AACjB;MACD;AAED,UAAM0I,OAAI,UAAWlI,KAAKR;AAC1B,UAAMmG,OAAKhC,QAAOgC;AAClB,UAAMwC,QAAQlR,iBAAiB2F,SAAS5C,MAAM4H,iBAAiBnJ,UAAjC;AAE9B0P,YAAMvR,QAAQ,SAACoN,MAAS;AACtB,YAAMoE,eAAepE,KAAKxB,aAAa0F,IAAlB;AAErB,YAAItL,SAAS1D,MAAM4D,WAAW;AAC5BkH,eAAK7K,aAAa+O,MAAME,eAAkBA,eAAN,MAAsBzC,OAAOA,IAAjE;QACD,OAAM;AACL,cAAM0C,YAAYD,gBAAgBA,aAAa3K,QAAQkI,MAAI,EAAzB,EAA6BjI,KAA7B;AAElC,cAAI2K,WAAW;AACbrE,iBAAK7K,aAAa+O,MAAMG,SAAxB;UACD,OAAM;AACLrE,iBAAKM,gBAAgB4D,IAArB;UACD;QACF;MACF,CAdD;IAeD;AAED,aAASnB,8BAAoC;AAC3C,UAAIH,mBAAmB,CAAChK,SAAS5C,MAAMgG,KAAKC,UAAU;AACpD;MACD;AAED,UAAMkI,QAAQlR,iBAAiB2F,SAAS5C,MAAM4H,iBAAiBnJ,UAAjC;AAE9B0P,YAAMvR,QAAQ,SAACoN,MAAS;AACtB,YAAIpH,SAAS5C,MAAMuG,aAAa;AAC9ByD,eAAK7K,aACH,iBACAyD,SAAS1D,MAAM4D,aAAakH,SAASuD,iBAAgB,IACjD,SACA,OAJN;QAMD,OAAM;AACLvD,eAAKM,gBAAgB,eAArB;QACD;MACF,CAXD;IAYD;AAED,aAASgE,mCAAyC;AAChDnB,kBAAW,EAAG1K,oBAAoB,aAAa+I,oBAA/C;AACAd,2BAAqBA,mBAAmB3N,OACtC,SAACwE,UAAD;AAAA,eAAcA,aAAaiK;MAA3B,CADmB;IAGtB;AAED,aAAS+C,gBAAgB7O,OAAsC;AAE7D,UAAIsC,aAAaC,SAAS;AACxB,YAAIiJ,gBAAgBxL,MAAM9D,SAAS,aAAa;AAC9C;QACD;MACF;AAED,UAAM4S,eACH9O,MAAM+O,gBAAgB/O,MAAM+O,aAAN,EAAqB,CAArB,KAA4B/O,MAAMkC;AAG3D,UACEgB,SAAS5C,MAAMuG,eACf9E,eAAekI,SAAQ6E,YAAT,GACd;AACA;MACD;AAGD,UACEvR,iBAAiB2F,SAAS5C,MAAM4H,iBAAiBnJ,UAAjC,EAA4CL,KAAK,SAACU,IAAD;AAAA,eAC/D2C,eAAe3C,IAAI0P,YAAL;MADiD,CAAjE,GAGA;AACA,YAAIxM,aAAaC,SAAS;AACxB;QACD;AAED,YACEW,SAAS1D,MAAM4D,aACfF,SAAS5C,MAAM2H,QAAQ5L,QAAQ,OAA/B,KAA2C,GAC3C;AACA;QACD;MACF,OAAM;AACLkR,mBAAW,kBAAkB,CAACrK,UAAUlD,KAAX,CAAnB;MACX;AAED,UAAIkD,SAAS5C,MAAMqG,gBAAgB,MAAM;AACvCzD,iBAASqJ,mBAAT;AACArJ,iBAASwJ,KAAT;AAKAnB,wCAAgC;AAChCzO,mBAAW,WAAM;AACfyO,0CAAgC;QACjC,CAFS;AAOV,YAAI,CAACrI,SAAS1D,MAAM6M,WAAW;AAC7B2C,8BAAmB;QACpB;MACF;IACF;AAED,aAASC,cAAoB;AAC3BzD,qBAAe;IAChB;AAED,aAAS0D,eAAqB;AAC5B1D,qBAAe;IAChB;AAED,aAAS2D,mBAAyB;AAChC,UAAMC,MAAM3B,YAAW;AACvB2B,UAAIxM,iBAAiB,aAAaiM,iBAAiB,IAAnD;AACAO,UAAIxM,iBAAiB,YAAYiM,iBAAiB7T,aAAlD;AACAoU,UAAIxM,iBAAiB,cAAcsM,cAAclU,aAAjD;AACAoU,UAAIxM,iBAAiB,aAAaqM,aAAajU,aAA/C;IACD;AAED,aAASgU,sBAA4B;AACnC,UAAMI,MAAM3B,YAAW;AACvB2B,UAAIrM,oBAAoB,aAAa8L,iBAAiB,IAAtD;AACAO,UAAIrM,oBAAoB,YAAY8L,iBAAiB7T,aAArD;AACAoU,UAAIrM,oBAAoB,cAAcmM,cAAclU,aAApD;AACAoU,UAAIrM,oBAAoB,aAAakM,aAAajU,aAAlD;IACD;AAED,aAASqU,kBAAkB5I,UAAkB6I,UAA4B;AACvEC,sBAAgB9I,UAAU,WAAM;AAC9B,YACE,CAACvD,SAAS1D,MAAM4D,aAChB6G,QAAO6D,cACP7D,QAAO6D,WAAW3L,SAAS8H,OAA3B,GACA;AACAqF,mBAAQ;QACT;MACF,CARc;IAShB;AAED,aAASE,iBAAiB/I,UAAkB6I,UAA4B;AACtEC,sBAAgB9I,UAAU6I,QAAX;IAChB;AAED,aAASC,gBAAgB9I,UAAkB6I,UAA4B;AACrE,UAAM3N,MAAMoM,2BAA0B,EAAGpM;AAEzC,eAASE,SAAS7B,OAA8B;AAC9C,YAAIA,MAAMkC,WAAWP,KAAK;AACxBD,sCAA4BC,KAAK,UAAUE,QAAhB;AAC3ByN,mBAAQ;QACT;MACF;AAID,UAAI7I,aAAa,GAAG;AAClB,eAAO6I,SAAQ;MAChB;AAED5N,kCAA4BC,KAAK,UAAUgK,4BAAhB;AAC3BjK,kCAA4BC,KAAK,OAAOE,QAAb;AAE3B8J,qCAA+B9J;IAChC;AAED,aAAS4N,IACPC,WACAC,SACAC,SACM;AAAA,UADNA,YACM,QAAA;AADNA,kBAA6C;MACvC;AACN,UAAMnB,QAAQlR,iBAAiB2F,SAAS5C,MAAM4H,iBAAiBnJ,UAAjC;AAC9B0P,YAAMvR,QAAQ,SAACoN,MAAS;AACtBA,aAAK1H,iBAAiB8M,WAAWC,SAASC,OAA1C;AACA/D,kBAAUlO,KAAK;UAAC2M;UAAMoF;UAAWC;UAASC;QAA3B,CAAf;MACD,CAHD;IAID;AAED,aAASxC,eAAqB;AAC5B,UAAIO,yBAAwB,GAAI;AAC9B8B,QAAAA,IAAG,cAAchI,YAAW;UAACxM,SAAS;QAAV,CAA1B;AACFwU,QAAAA,IAAG,YAAYI,cAA+B;UAAC5U,SAAS;QAAV,CAA5C;MACH;AAEDkC,oBAAc+F,SAAS5C,MAAM2H,OAAhB,EAAyB/K,QAAQ,SAACwS,WAAc;AAC3D,YAAIA,cAAc,UAAU;AAC1B;QACD;AAEDD,QAAAA,IAAGC,WAAWjI,UAAZ;AAEF,gBAAQiI,WAAR;UACE,KAAK;AACHD,YAAAA,IAAG,cAAcI,YAAf;AACF;UACF,KAAK;AACHJ,YAAAA,IAAGlM,SAAS,aAAa,QAAQuM,gBAA/B;AACF;UACF,KAAK;AACHL,YAAAA,IAAG,YAAYK,gBAAb;AACF;QATJ;MAWD,CAlBD;IAmBD;AAED,aAASC,kBAAwB;AAC/BlE,gBAAU3O,QAAQ,SAAA,MAAyD;AAAA,YAAvDoN,OAAuD,KAAvDA,MAAMoF,YAAiD,KAAjDA,WAAWC,UAAsC,KAAtCA,SAASC,UAA6B,KAA7BA;AAC5CtF,aAAKvH,oBAAoB2M,WAAWC,SAASC,OAA7C;MACD,CAFD;AAGA/D,kBAAY,CAAA;IACb;AAED,aAASpE,WAAUzH,OAAoB;AAAA,UAAA;AACrC,UAAIgQ,0BAA0B;AAE9B,UACE,CAAC9M,SAAS1D,MAAM2M,aAChB8D,uBAAuBjQ,KAAD,KACtBuL,+BACA;AACA;MACD;AAED,UAAM2E,eAAa,oBAAAxE,qBAAgB,OAAhB,SAAA,kBAAkBxP,UAAS;AAE9CwP,yBAAmB1L;AACnBgM,sBAAgBhM,MAAMgM;AAEtBqB,kCAA2B;AAE3B,UAAI,CAACnK,SAAS1D,MAAM4D,aAAaxE,aAAaoB,KAAD,GAAS;AAKpDgL,2BAAmB9N,QAAQ,SAAC2E,UAAD;AAAA,iBAAcA,SAAS7B,KAAD;QAAtB,CAA3B;MACD;AAGD,UACEA,MAAM9D,SAAS,YACdgH,SAAS5C,MAAM2H,QAAQ5L,QAAQ,YAA/B,IAA+C,KAC9CiP,uBACFpI,SAAS5C,MAAMqG,gBAAgB,SAC/BzD,SAAS1D,MAAM4D,WACf;AACA4M,kCAA0B;MAC3B,OAAM;AACLxC,qBAAaxN,KAAD;MACb;AAED,UAAIA,MAAM9D,SAAS,SAAS;AAC1BoP,6BAAqB,CAAC0E;MACvB;AAED,UAAIA,2BAA2B,CAACE,YAAY;AAC1CC,qBAAanQ,KAAD;MACb;IACF;AAED,aAAS+L,YAAY/L,OAAyB;AAC5C,UAAMkC,SAASlC,MAAMkC;AACrB,UAAMkO,gCACJvC,iBAAgB,EAAG1L,SAASD,MAA5B,KAAuC+H,QAAO9H,SAASD,MAAhB;AAEzC,UAAIlC,MAAM9D,SAAS,eAAekU,+BAA+B;AAC/D;MACD;AAED,UAAMrQ,iBAAiBsQ,oBAAmB,EACvC7S,OAAOyM,OADa,EAEpBgD,IAAI,SAAChD,SAAW;AAAA,YAAA;AACf,YAAM/G,YAAW+G,QAAOnL;AACxB,YAAMU,UAAK,wBAAG0D,UAASgJ,mBAAZ,OAAA,SAAG,sBAAyB1M;AAEvC,YAAIA,QAAO;AACT,iBAAO;YACLY,YAAY6J,QAAOqG,sBAAP;YACZjQ,aAAab;YACbc;UAHK;QAKR;AAED,eAAO;MACR,CAfoB,EAgBpBjD,OAAOC,OAhBa;AAkBvB,UAAIwC,iCAAiCC,gBAAgBC,KAAjB,GAAyB;AAC3D4O,yCAAgC;AAChCuB,qBAAanQ,KAAD;MACb;IACF;AAED,aAAS6P,aAAa7P,OAAyB;AAC7C,UAAMuQ,aACJN,uBAAuBjQ,KAAD,KACrBkD,SAAS5C,MAAM2H,QAAQ5L,QAAQ,OAA/B,KAA2C,KAAKiP;AAEnD,UAAIiF,YAAY;AACd;MACD;AAED,UAAIrN,SAAS5C,MAAMuG,aAAa;AAC9B3D,iBAASyJ,sBAAsB3M,KAA/B;AACA;MACD;AAEDmQ,mBAAanQ,KAAD;IACb;AAED,aAAS8P,iBAAiB9P,OAAyB;AACjD,UACEkD,SAAS5C,MAAM2H,QAAQ5L,QAAQ,SAA/B,IAA4C,KAC5C2D,MAAMkC,WAAW2L,iBAAgB,GACjC;AACA;MACD;AAGD,UACE3K,SAAS5C,MAAMuG,eACf7G,MAAMwQ,iBACNvG,QAAO9H,SAASnC,MAAMwQ,aAAtB,GACA;AACA;MACD;AAEDL,mBAAanQ,KAAD;IACb;AAED,aAASiQ,uBAAuBjQ,OAAuB;AACrD,aAAOsC,aAAaC,UAChBoL,yBAAwB,MAAO3N,MAAM9D,KAAKG,QAAQ,OAAnB,KAA+B,IAC9D;IACL;AAED,aAASoU,uBAA6B;AACpCC,4BAAqB;AAErB,UAAA,mBAMIxN,SAAS5C,OALXuH,gBADF,iBACEA,eACA9J,YAFF,iBAEEA,WACA4C,UAHF,iBAGEA,QACA+F,yBAJF,iBAIEA,wBACAK,iBALF,iBAKEA;AAGF,UAAMlB,SAAQ+H,qBAAoB,IAAK5D,YAAYC,OAAD,EAASpE,QAAQ;AAEnE,UAAM8K,oBAAoBjK,yBACtB;QACE4J,uBAAuB5J;QACvBkK,gBACElK,uBAAuBkK,kBAAkB/C,iBAAgB;MAH7D,IAKA9O;AAEJ,UAAM8R,gBAA8D;QAClEnI,MAAM;QACNoI,SAAS;QACTC,OAAO;QACPC,UAAU,CAAC,eAAD;QACVvU,IALkE,SAAAA,IAAA,OAKtD;AAAA,cAAR+C,SAAQ,MAARA;AACF,cAAIoO,qBAAoB,GAAI;AAC1B,gBAAA,wBAAcG,2BAA0B,GAAjCpM,MAAP,sBAAOA;AAEP,aAAC,aAAa,oBAAoB,SAAlC,EAA6CzE,QAAQ,SAACsR,MAAS;AAC7D,kBAAIA,SAAS,aAAa;AACxB7M,oBAAIlC,aAAa,kBAAkBD,OAAMzB,SAAzC;cACD,OAAM;AACL,oBAAIyB,OAAMyR,WAAWhH,OAAjB,iBAAuCuE,IAAvC,GAAgD;AAClD7M,sBAAIlC,aAAJ,UAAyB+O,MAAQ,EAAjC;gBACD,OAAM;AACL7M,sBAAIiJ,gBAAJ,UAA4B4D,IAA5B;gBACD;cACF;YACF,CAVD;AAYAhP,YAAAA,OAAMyR,WAAWhH,SAAS,CAAA;UAC3B;QACF;MAvBiE;AA6BpE,UAAMiH,YAAsC,CAC1C;QACExI,MAAM;QACNkH,SAAS;UACPjP,QAAAA;QADO;MAFX,GAMA;QACE+H,MAAM;QACNkH,SAAS;UACPuB,SAAS;YACPtQ,KAAK;YACLG,QAAQ;YACRE,MAAM;YACNG,OAAO;UAJA;QADF;MAFX,GAWA;QACEqH,MAAM;QACNkH,SAAS;UACPuB,SAAS;QADF;MAFX,GAMA;QACEzI,MAAM;QACNkH,SAAS;UACPwB,UAAU,CAACrK;QADJ;MAFX,GAMA8J,aA9B0C;AAiC5C,UAAIjD,qBAAoB,KAAM/H,QAAO;AACnCqL,kBAAUvT,KAAK;UACb+K,MAAM;UACNkH,SAAS;YACPhQ,SAASiG;YACTsL,SAAS;UAFF;QAFI,CAAf;MAOD;AAEDD,gBAAUvT,KAAV,MAAAuT,YAAmBrJ,iBAAa,OAAb,SAAAA,cAAeqJ,cAAa,CAAA,CAAtC;AAEThO,eAASgJ,iBAAiBmF,aACxBV,mBACA1G,SAFoC,OAAA,OAAA,CAAA,GAI/BpC,eAJ+B;QAKlC9J;QACA6N;QACAsF;MAPkC,CAAA,CAAA;IAUvC;AAED,aAASR,wBAA8B;AACrC,UAAIxN,SAASgJ,gBAAgB;AAC3BhJ,iBAASgJ,eAAea,QAAxB;AACA7J,iBAASgJ,iBAAiB;MAC3B;IACF;AAED,aAASoF,QAAc;AACrB,UAAOjL,WAAYnD,SAAS5C,MAArB+F;AAEP,UAAIyH;AAOJ,UAAMxD,OAAOuD,iBAAgB;AAE7B,UACG3K,SAAS5C,MAAMuG,eAAeR,aAAalL,2BAC5CkL,aAAa,UACb;AACAyH,qBAAaxD,KAAKwD;MACnB,OAAM;AACLA,qBAAaxR,uBAAuB+J,UAAU,CAACiE,IAAD,CAAX;MACpC;AAID,UAAI,CAACwD,WAAW3L,SAAS8H,OAApB,GAA6B;AAChC6D,mBAAWjE,YAAYI,OAAvB;MACD;AAED/G,eAAS1D,MAAM6M,YAAY;AAE3BoE,2BAAoB;AAGpB,UAAA,MAAa;AAEXlM,iBACErB,SAAS5C,MAAMuG,eACbR,aAAaD,aAAaC,YAC1BiE,KAAKiH,uBAAuBtH,SAC9B,CACE,gEACA,qEACA,4BACA,QACA,oEACA,qDACA,QACA,sEACA,+DACA,wBACA,QACA,wEAZF,EAaEtG,KAAK,GAbP,CAJM;MAmBT;IACF;AAED,aAAS0M,sBAAuC;AAC9C,aAAOrS,UACLiM,QAAOhL,iBAAiB,mBAAxB,CADc;IAGjB;AAED,aAASuO,aAAaxN,OAAqB;AACzCkD,eAASqJ,mBAAT;AAEA,UAAIvM,OAAO;AACTuN,mBAAW,aAAa,CAACrK,UAAUlD,KAAX,CAAd;MACX;AAEDmP,uBAAgB;AAEhB,UAAI3I,QAAQwH,SAAS,IAAD;AACpB,UAAA,wBAAiCN,2BAA0B,GAApD8D,aAAP,sBAAA,CAAA,GAAmBC,aAAnB,sBAAA,CAAA;AAEA,UAAInP,aAAaC,WAAWiP,eAAe,UAAUC,YAAY;AAC/DjL,gBAAQiL;MACT;AAED,UAAIjL,OAAO;AACT2E,sBAAcrO,WAAW,WAAM;AAC7BoG,mBAASuJ,KAAT;QACD,GAAEjG,KAFqB;MAGzB,OAAM;AACLtD,iBAASuJ,KAAT;MACD;IACF;AAED,aAAS0D,aAAanQ,OAAoB;AACxCkD,eAASqJ,mBAAT;AAEAgB,iBAAW,eAAe,CAACrK,UAAUlD,KAAX,CAAhB;AAEV,UAAI,CAACkD,SAAS1D,MAAM4D,WAAW;AAC7B4L,4BAAmB;AAEnB;MACD;AAMD,UACE9L,SAAS5C,MAAM2H,QAAQ5L,QAAQ,YAA/B,KAAgD,KAChD6G,SAAS5C,MAAM2H,QAAQ5L,QAAQ,OAA/B,KAA2C,KAC3C,CAAC,cAAc,WAAf,EAA4BA,QAAQ2D,MAAM9D,IAA1C,KAAmD,KACnDoP,oBACA;AACA;MACD;AAED,UAAM9E,QAAQwH,SAAS,KAAD;AAEtB,UAAIxH,OAAO;AACT4E,sBAActO,WAAW,WAAM;AAC7B,cAAIoG,SAAS1D,MAAM4D,WAAW;AAC5BF,qBAASwJ,KAAT;UACD;QACF,GAAElG,KAJqB;MAKzB,OAAM;AAGL6E,qCAA6BqG,sBAAsB,WAAM;AACvDxO,mBAASwJ,KAAT;QACD,CAFiD;MAGnD;IACF;AAKD,aAASE,SAAe;AACtB1J,eAAS1D,MAAM2M,YAAY;IAC5B;AAED,aAASU,UAAgB;AAGvB3J,eAASwJ,KAAT;AACAxJ,eAAS1D,MAAM2M,YAAY;IAC5B;AAED,aAASI,qBAA2B;AAClC1P,mBAAasO,WAAD;AACZtO,mBAAauO,WAAD;AACZuG,2BAAqBtG,0BAAD;IACrB;AAED,aAASmB,SAASnE,cAAoC;AAEpD,UAAA,MAAa;AACX9D,iBAASrB,SAAS1D,MAAM4M,aAAa3I,wBAAwB,UAAD,CAApD;MACT;AAED,UAAIP,SAAS1D,MAAM4M,aAAa;AAC9B;MACD;AAEDmB,iBAAW,kBAAkB,CAACrK,UAAUmF,YAAX,CAAnB;AAEV0H,sBAAe;AAEf,UAAMrF,YAAYxH,SAAS5C;AAC3B,UAAMqK,YAAYzB,cAAcnK,YAAD,OAAA,OAAA,CAAA,GAC1B2L,WACAxM,qBAAqBmK,YAAD,GAFM;QAG7BzB,kBAAkB;MAHW,CAAA,CAAA;AAM/B1D,eAAS5C,QAAQqK;AAEjByC,mBAAY;AAEZ,UAAI1C,UAAU5D,wBAAwB6D,UAAU7D,qBAAqB;AACnE8H,yCAAgC;AAChC9C,+BAAuBtP,UACrBuP,aACApB,UAAU7D,mBAFmB;MAIhC;AAGD,UAAI4D,UAAUxC,iBAAiB,CAACyC,UAAUzC,eAAe;AACvD3K,yBAAiBmN,UAAUxC,aAAX,EAA0BhL,QAAQ,SAACoN,MAAS;AAC1DA,eAAKM,gBAAgB,eAArB;QACD,CAFD;MAGD,WAAUD,UAAUzC,eAAe;AAClCnJ,QAAAA,WAAU6L,gBAAgB,eAA1B;MACD;AAEDyC,kCAA2B;AAC3BC,mBAAY;AAEZ,UAAI7C,UAAU;AACZA,iBAASC,WAAWC,SAAZ;MACT;AAED,UAAIzH,SAASgJ,gBAAgB;AAC3BuE,6BAAoB;AAMpBJ,4BAAmB,EAAGnT,QAAQ,SAAC0U,cAAiB;AAG9CF,gCAAsBE,aAAa9S,OAAQoN,eAAgB2F,WAAtC;QACtB,CAJD;MAKD;AAEDtE,iBAAW,iBAAiB,CAACrK,UAAUmF,YAAX,CAAlB;IACX;AAED,aAASyB,YAAWhE,SAAwB;AAC1C5C,eAASsJ,SAAS;QAAC1G;MAAD,CAAlB;IACD;AAED,aAAS2G,OAAa;AAEpB,UAAA,MAAa;AACXlI,iBAASrB,SAAS1D,MAAM4M,aAAa3I,wBAAwB,MAAD,CAApD;MACT;AAGD,UAAMqO,mBAAmB5O,SAAS1D,MAAM4D;AACxC,UAAMgJ,cAAclJ,SAAS1D,MAAM4M;AACnC,UAAM2F,aAAa,CAAC7O,SAAS1D,MAAM2M;AACnC,UAAM6F,0BACJ1P,aAAaC,WAAW,CAACW,SAAS5C,MAAM0H;AAC1C,UAAMvB,WAAW/K,wBACfwH,SAAS5C,MAAMmG,UACf,GACAL,aAAaK,QAHyB;AAMxC,UACEqL,oBACA1F,eACA2F,cACAC,yBACA;AACA;MACD;AAKD,UAAInE,iBAAgB,EAAGV,aAAa,UAAhC,GAA6C;AAC/C;MACD;AAEDI,iBAAW,UAAU,CAACrK,QAAD,GAAY,KAAvB;AACV,UAAIA,SAAS5C,MAAMiH,OAAOrE,QAAtB,MAAoC,OAAO;AAC7C;MACD;AAEDA,eAAS1D,MAAM4D,YAAY;AAE3B,UAAIwK,qBAAoB,GAAI;AAC1B3D,QAAAA,QAAO5K,MAAM4S,aAAa;MAC3B;AAED3E,mBAAY;AACZ6B,uBAAgB;AAEhB,UAAI,CAACjM,SAAS1D,MAAM6M,WAAW;AAC7BpC,QAAAA,QAAO5K,MAAM6S,aAAa;MAC3B;AAID,UAAItE,qBAAoB,GAAI;AAC1B,YAAA,yBAAuBG,2BAA0B,GAA1CpM,MAAP,uBAAOA,KAAKmE,UAAZ,uBAAYA;AACZ5G,8BAAsB,CAACyC,KAAKmE,OAAN,GAAgB,CAAjB;MACtB;AAED8F,sBAAgB,SAAAA,iBAAY;AAAA,YAAA;AAC1B,YAAI,CAAC1I,SAAS1D,MAAM4D,aAAaqI,qBAAqB;AACpD;QACD;AAEDA,8BAAsB;AAGtB,aAAKxB,QAAOkI;AAEZlI,QAAAA,QAAO5K,MAAM6S,aAAahP,SAAS5C,MAAMyG;AAEzC,YAAI6G,qBAAoB,KAAM1K,SAAS5C,MAAMsF,WAAW;AACtD,cAAA,yBAAuBmI,2BAA0B,GAA1CpM,OAAP,uBAAOA,KAAKmE,WAAZ,uBAAYA;AACZ5G,gCAAsB,CAACyC,MAAKmE,QAAN,GAAgBW,QAAjB;AACrBlH,6BAAmB,CAACoC,MAAKmE,QAAN,GAAgB,SAAjB;QACnB;AAEDyI,mCAA0B;AAC1BlB,oCAA2B;AAE3B5P,qBAAawN,kBAAkB/H,QAAnB;AAIZ,SAAA,yBAAAA,SAASgJ,mBAAT,OAAA,SAAA,uBAAyB2F,YAAzB;AAEAtE,mBAAW,WAAW,CAACrK,QAAD,CAAZ;AAEV,YAAIA,SAAS5C,MAAMsF,aAAagI,qBAAoB,GAAI;AACtD4B,2BAAiB/I,UAAU,WAAM;AAC/BvD,qBAAS1D,MAAM8M,UAAU;AACzBiB,uBAAW,WAAW,CAACrK,QAAD,CAAZ;UACX,CAHe;QAIjB;MACF;AAEDoO,YAAK;IACN;AAED,aAAS5E,QAAa;AAEpB,UAAA,MAAa;AACXnI,iBAASrB,SAAS1D,MAAM4M,aAAa3I,wBAAwB,MAAD,CAApD;MACT;AAGD,UAAM2O,kBAAkB,CAAClP,SAAS1D,MAAM4D;AACxC,UAAMgJ,cAAclJ,SAAS1D,MAAM4M;AACnC,UAAM2F,aAAa,CAAC7O,SAAS1D,MAAM2M;AACnC,UAAM1F,WAAW/K,wBACfwH,SAAS5C,MAAMmG,UACf,GACAL,aAAaK,QAHyB;AAMxC,UAAI2L,mBAAmBhG,eAAe2F,YAAY;AAChD;MACD;AAEDxE,iBAAW,UAAU,CAACrK,QAAD,GAAY,KAAvB;AACV,UAAIA,SAAS5C,MAAM+G,OAAOnE,QAAtB,MAAoC,OAAO;AAC7C;MACD;AAEDA,eAAS1D,MAAM4D,YAAY;AAC3BF,eAAS1D,MAAM8M,UAAU;AACzBb,4BAAsB;AACtBH,2BAAqB;AAErB,UAAIsC,qBAAoB,GAAI;AAC1B3D,QAAAA,QAAO5K,MAAM4S,aAAa;MAC3B;AAEDrD,uCAAgC;AAChCI,0BAAmB;AACnB1B,mBAAa,IAAD;AAEZ,UAAIM,qBAAoB,GAAI;AAC1B,YAAA,yBAAuBG,2BAA0B,GAA1CpM,MAAP,uBAAOA,KAAKmE,UAAZ,uBAAYA;AAEZ,YAAI5C,SAAS5C,MAAMsF,WAAW;AAC5B1G,gCAAsB,CAACyC,KAAKmE,OAAN,GAAgBW,QAAjB;AACrBlH,6BAAmB,CAACoC,KAAKmE,OAAN,GAAgB,QAAjB;QACnB;MACF;AAEDyI,iCAA0B;AAC1BlB,kCAA2B;AAE3B,UAAInK,SAAS5C,MAAMsF,WAAW;AAC5B,YAAIgI,qBAAoB,GAAI;AAC1ByB,4BAAkB5I,UAAUvD,SAAS4J,OAApB;QAClB;MACF,OAAM;AACL5J,iBAAS4J,QAAT;MACD;IACF;AAED,aAASH,sBAAsB3M,OAAyB;AAEtD,UAAA,MAAa;AACXuE,iBACErB,SAAS1D,MAAM4M,aACf3I,wBAAwB,uBAAD,CAFjB;MAIT;AAEDgK,kBAAW,EAAG7K,iBAAiB,aAAakJ,oBAA5C;AACArO,mBAAauN,oBAAoBc,oBAArB;AACZA,2BAAqB9L,KAAD;IACrB;AAED,aAAS8M,UAAgB;AAEvB,UAAA,MAAa;AACXvI,iBAASrB,SAAS1D,MAAM4M,aAAa3I,wBAAwB,SAAD,CAApD;MACT;AAED,UAAIP,SAAS1D,MAAM4D,WAAW;AAC5BF,iBAASwJ,KAAT;MACD;AAED,UAAI,CAACxJ,SAAS1D,MAAM6M,WAAW;AAC7B;MACD;AAEDqE,4BAAqB;AAKrBL,0BAAmB,EAAGnT,QAAQ,SAAC0U,cAAiB;AAC9CA,qBAAa9S,OAAQgO,QAArB;MACD,CAFD;AAIA,UAAI7C,QAAO6D,YAAY;AACrB7D,QAAAA,QAAO6D,WAAWjD,YAAYZ,OAA9B;MACD;AAEDgB,yBAAmBA,iBAAiB5N,OAAO,SAACgV,IAAD;AAAA,eAAOA,OAAMnP;MAAb,CAAxB;AAEnBA,eAAS1D,MAAM6M,YAAY;AAC3BkB,iBAAW,YAAY,CAACrK,QAAD,CAAb;IACX;AAED,aAAS6J,UAAgB;AAEvB,UAAA,MAAa;AACXxI,iBAASrB,SAAS1D,MAAM4M,aAAa3I,wBAAwB,SAAD,CAApD;MACT;AAED,UAAIP,SAAS1D,MAAM4M,aAAa;AAC9B;MACD;AAEDlJ,eAASqJ,mBAAT;AACArJ,eAAS4J,QAAT;AAEAiD,sBAAe;AAEf,aAAOhR,WAAUD;AAEjBoE,eAAS1D,MAAM4M,cAAc;AAE7BmB,iBAAW,aAAa,CAACrK,QAAD,CAAd;IACX;EACF;AC/mCD,WAASoP,OACPtN,SACAuN,eACuB;AAAA,QADvBA,kBACuB,QAAA;AADvBA,sBAAgC,CAAA;IACT;AACvB,QAAM3K,UAAUxB,aAAawB,QAAQpK,OAAO+U,cAAc3K,WAAW,CAAA,CAArD;AAGhB,QAAA,MAAa;AACX7C,sBAAgBC,OAAD;AACfsD,oBAAciK,eAAe3K,OAAhB;IACd;AAEDvE,6BAAwB;AAExB,QAAMmF,cAA2B,OAAA,OAAA,CAAA,GAAO+J,eAAP;MAAsB3K;IAAtB,CAAA;AAEjC,QAAM4K,WAAWxT,mBAAmBgG,OAAD;AAGnC,QAAA,MAAa;AACX,UAAMyN,yBAAyBhU,WAAU+J,YAAY1C,OAAb;AACxC,UAAM4M,gCAAgCF,SAASjJ,SAAS;AACxDhF,eACEkO,0BAA0BC,+BAC1B,CACE,sEACA,qEACA,qEACA,QACA,uEACA,oDACA,QACA,mCACA,2CATF,EAUE/O,KAAK,GAVP,CAFM;IAcT;AAED,QAAMgP,YAAYH,SAASpU,OACzB,SAACC,KAAKU,YAA0B;AAC9B,UAAMmE,WAAWnE,cAAamM,YAAYnM,YAAWyJ,WAAZ;AAEzC,UAAItF,UAAU;AACZ7E,YAAIV,KAAKuF,QAAT;MACD;AAED,aAAO7E;IACR,GACD,CAAA,CAVgB;AAalB,WAAOI,WAAUuG,OAAD,IAAY2N,UAAU,CAAD,IAAMA;EAC5C;AAEDL,EAAAA,OAAMlM,eAAeA;AACrBkM,EAAAA,OAAMlK,kBAAkBA;AACxBkK,EAAAA,OAAMhQ,eAAeA;AC9CrB,MAAMsQ,sBAAqE,OAAA,OAAA,CAAA,GACtEC,qBADsE;IAEzEC,QAFyE,SAAAA,QAAA,MAEzD;AAAA,UAARC,QAAQ,KAARA;AACN,UAAMC,gBAAgB;QACpBC,QAAQ;UACNC,UAAUH,MAAMI,QAAQC;UACxBC,MAAM;UACNC,KAAK;UACLC,QAAQ;QAJF;QAMRC,OAAO;UACLN,UAAU;QADL;QAGPO,WAAW,CAAA;MAVS;AAatBC,aAAOC,OAAOZ,MAAMa,SAASX,OAAOY,OAAOb,cAAcC,MAAzD;AACAF,YAAMe,SAASd;AAEf,UAAID,MAAMa,SAASJ,OAAO;AACxBE,eAAOC,OAAOZ,MAAMa,SAASJ,MAAMK,OAAOb,cAAcQ,KAAxD;MACD;IAIF;EAzBwE,CAAA;AMhB3EO,EAAAA,OAAMC,gBAAgB;IAACC;EAAD,CAAtB;;;;A1EGA,MAAO,0BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,SAAS;AAAA,MACd,gBAAgB,EAAE,MAAM,QAAQ,SAAS,UAAU;AAAA,MACnD,cAAc,EAAE,MAAM,QAAQ,SAAS,UAAU;AAAA,MACjD,UAAU;AAAA,MACV,aAAa,EAAE,MAAM,OAAO,SAAS,CAAC,GAAG,EAAE,EAAE;AAAA,IAC/C;AAAA,IAEA,QAAQ,SAAS;AACf,wBAAM,KAAK,SAAS;AAAA,QAClB,SAAS;AAAA,QACT,cAAc;AAAA,QACd,QAAQ,KAAK;AAAA,QACb,SAAS,UAAU;AACjB,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,YAAY,OAAO;AACjB,UAAI,aAAa;AACjB,UAAI,KAAK,eAAe;AACtB,kBAAU,UAAU,UAAU,KAAK,aAAa,EAAE;AAAA,UAChD,WAAY;AACV,uBAAW,QAAQ,WAAW,mBAAmB;AAAA,UACnD;AAAA,UACA,WAAY;AACV,uBAAW,QAAQ,WAAW,iBAAiB;AAAA,UACjD;AAAA,QACF;AAAA,MACF,OAAO;AACL,kBAAU,UAAU,UAAU,MAAM,cAAc,SAAS,EAAE;AAAA,UAC3D,WAAY;AACV,uBAAW,QAAQ,WAAW,mBAAmB;AAAA,UACnD;AAAA,UACA,WAAY;AACV,uBAAW,QAAQ,WAAW,iBAAiB;AAAA,UACjD;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;;;A2E/CA;AAAA;AAAA;AAAA;;;ACAM,MAAO,UAAP,cAAuB,MAAK;EAEjC;MAEY,sBAAa;IAA1B,cAAA;AACU,WAAI,OAAG;AAyKf,WAAsB,yBAAG;AAMzB,WAAkB,qBAAG;;;;;;;IAvKrB,iBAAiB,YAAkB;AACjC,YAAMC,SAAQ,IAAI,QAChB,GAAG,KAAK,IAAI,uBAAuB,UAAU,iCAAiC;AAEhF,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;IAOR,kBAAkB,YAAoB;AACpC,YAAMA,SAAQ,IAAI,QAAQ,GAAG,KAAK,IAAI,KAAK,WAAW,KAAK,IAAI,CAAC,EAAE;AAClE,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;;;;;IAWR,sBACE,YACA,UACA,cAAsB;AAEtB,YAAMA,SAAQ,IAAI,QAChB,GACE,KAAK,IACP,6BAA6B,UAAU,gCAAgC,QAAQ,wBAAwB,aAAa,KAClH,IAAI,CACL,EAAE;AAEL,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;;;;;IAWR,aAAa,YAAoB,SAAiB,cAAoB;AACpE,YAAMA,SAAQ,IAAI,QAChB,GAAG,KAAK,IAAI,oBAAoB,UAAU,kBAAkB,OAAO,4BAA4B,YAAY,EAAE;AAE/G,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;;;;IAUR,kBAAkB,YAAoB,OAAe,OAAa;AAChE,YAAMA,SAAQ,IAAI,QAChB,GAAG,KAAK,IAAI,IAAI,UAAU,wCAAwC,KAAK,QAAQ,KAAK,GAAG;AAEzF,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;;;;;IAWR,kBAAkB,YAAoB,MAAW,OAAO,OAAK;AAC3D,YAAMA,SAAQ,IAAI,QAChB,GAAG,KAAK,IAAI,+BAA+B,IAAI,mBAAmB,UAAU,GAAG;AAEjF,MAAAA,OAAM,OAAO;AACb,UAAI,CAAC;AAAM,cAAMA;AACjB,cAAQ,KAAKA,MAAK;;;;;IAMpB,qBAAkB;AAChB,YAAMA,SAAQ,IAAI,QAAQ,GAAG,KAAK,IAAI,2BAA2B;AACjE,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;IAOR,oBAAiB;AACf,YAAMA,SAAQ,IAAI,QAChB,GAAG,KAAK,IAAI,+DAA+D;AAE7E,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;IAMR,yBAAyB,SAAgB;AACvC,YAAMA,SAAQ,IAAI,QAChB,GAAG,KAAK,IAAI,uDAAuD,OAAO,EAAE;AAE9E,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;IAMR,sBAAsB,SAAgB;AACpC,YAAMA,SAAQ,IAAI,QAAQ,GAAG,KAAK,IAAI,wBAAwB,OAAO,EAAE;AACvE,MAAAA,OAAM,OAAO;AACb,YAAMA;;;;;;IAOR,aAAU;AACR,cAAQ,KACN,GAAG,KAAK,IAAI,0HAA0H;;IAI1I,kBAAkB,SAAiB,aAAoB;AACrD,cAAQ,KACN,GAAG,KAAK,IAAI,YAAY,OAAO,2DAA2D,WAAW,EAAE;;IAI3G,WAAW,SAAO;AAChB,YAAMA,SAAQ,IAAI,QAAQ,GAAG,KAAK,IAAI,IAAI,OAAO,EAAE;AACnD,MAAAA,OAAM,OAAO;AACb,YAAMA;;EAoBT;ACrLD,MAAM,OAAO;AAAb,MACE,UAAU;AAKZ,MAAM,SAAN,MAAY;IAAZ,cAAA;AACE,WAAA,MAAM,IAAI,OAAO;AAMjB,WAAA,SAAS,SAAS,KAAK,GAAG;AAM1B,WAAA,SAAS,SAAS,KAAK,GAAG;AAM1B,WAAA,QAAQ,QAAQ,KAAK,GAAG;AAMxB,WAAA,OAAO,OAAO,KAAK,GAAG;AAMtB,WAAA,OAAO,OAAO,KAAK,GAAG;AAKtB,WAAA,OAAO,OAAO,KAAK,GAAG;AACtB,WAAA,QAAQ,QAAQ,KAAK,GAAG;AACxB,WAAA,QAAQ,QAAQ,KAAK,GAAG;AACxB,WAAA,UAAU,UAAU,KAAK,GAAG;;EAC7B;AAED,MAAM,MAAN,MAAS;IAAT,cAAA;AAIE,WAAA,SAAS,GAAG,IAAI;AAKhB,WAAc,iBAAG;AAKjB,WAAM,SAAG;AAKT,WAAO,UAAG;AAKV,WAAW,cAAG;AAKd,WAAU,aAAG;AAKb,WAAQ,WAAG;AAKX,WAAI,OAAG;AAMP,WAAQ,WAAG;AAMX,WAAG,MAAG;AAMN,WAAG,MAAG;AAKN,WAAM,SAAG;AAOT,WAAa,gBAAG;AAKhB,WAAA,mBAAmB,GAAG,KAAK,aAAa;AAKxC,WAAM,SAAG;AAKT,WAAA,iBAAiB,GAAG,KAAK,aAAa;AAKtC,WAAI,OAAG;AAKP,WAAA,kBAAkB,GAAG,KAAK,aAAa;AAKvC,WAAK,QAAG;AAKR,WAAA,gBAAgB,GAAG,KAAK,aAAa;AAKrC,WAAG,MAAG;AAMN,WAAa,gBAAG;AAKhB,WAAY,eAAG;AAKf,WAAK,QAAG;AAKR,WAAO,UAAG;AAEV,WAAO,UAAG;AACV,WAAU,aAAG;AACb,WAAQ,WAAG;AASX,WAAa,gBAAG;AAKhB,WAAS,YAAG;AAKZ,WAAA,iBAAiB,GAAG,KAAK,aAAa;AAKtC,WAAA,gBAAgB,GAAG,KAAK,aAAa;AAKrC,WAAA,kBAAkB,GAAG,KAAK,aAAa;AAKvC,WAAA,kBAAkB,GAAG,KAAK,aAAa;AAKvC,WAAI,OAAG;AAKP,WAAM,SAAG;AAKT,WAAM,SAAG;AAKT,WAAc,iBAAG;AASjB,WAAI,OAAG;AAMP,WAAU,aAAG;AAKb,WAAQ,WAAG;AAOX,WAAM,SAAG;AAKT,WAAU,aAAG;AAKb,WAAS,YAAG;AAKZ,WAAoB,uBAAG;;EACxB;AAEa,MAAO,YAAP,MAAgB;;AACrB,YAAI,OAAG;AAEP,YAAO,UAAG;AAEV,YAAA,SAAS,IAAI,OAAM;AAEnB,YAAA,MAAM,IAAI,IAAG;AAEb,YAAA,gBAAgB,IAAI,cAAa;AClS1C,MAAM,4BAAgD;IACpD,aAAa;MACX,KAAK;MACL,IAAI;MACJ,GAAG;MACH,IAAI;MACJ,KAAK;MACL,MAAM;IACP;IACD,QAAQ;IACR,QAAQ;IACR,WAAW;IACX,SAAS,CAACC,OAAK;AACb,YAAMC,KAAI,CAAC,MAAM,MAAM,MAAM,IAAI;AACjC,YAAMC,KAAIF,KAAI;AACd,aAAO,IAAIA,EAAC,GAAGC,IAAGC,KAAI,MAAM,EAAE,KAAKD,GAAEC,EAAC,KAAKD,GAAE,CAAC,CAAC;;;AAInD,MAAA,8BAAe,EAAE,GAAG,0BAAyB;MCHjC;AAAZ,GAAA,SAAYE,OAAI;AACd,IAAAA,MAAA,SAAA,IAAA;AACA,IAAAA,MAAA,SAAA,IAAA;AACA,IAAAA,MAAA,OAAA,IAAA;AACA,IAAAA,MAAA,MAAA,IAAA;AACA,IAAAA,MAAA,OAAA,IAAA;AACA,IAAAA,MAAA,MAAA,IAAA;EACF,GAPY,SAAA,OAOX,CAAA,EAAA;AAED,MAAM,mBAAmB;IACvB,OAAO;IACP,KAAK;IACL,MAAM;IACN,MAAM;IACN,QAAQ;IACR,QAAQ;;AAaH,MAAM,kBAAkB,CAAC,SAAsB;AACpD,YAAQ,MAAI;MACV,KAAK;AACH,eAAO,EAAE,WAAW,QAAO;MAC7B,KAAK;AACH,eAAO;UACL,OAAO;UACP,MAAM;;MAEV,KAAK;AACH,eAAO,EAAE,MAAM,UAAS;IAC3B;EACH;AAMO,MAAM,iBAAiB,CAACC,YAA2C;AACxE,QAAI,CAACA;AAAQ,aAAO;AAGpB,UAAM,WAAW;MACf,MAAM;MACN,QAAQ;MACR,iBAAiB;;AAGnB,UAAMC,MAAK,IAAI,SAAQ,EAAG,gBAAgB,EAAE,QAAAD,QAAM,CAAE;AACpD,IAAAC,IAAG,QAAQ;AAEX,UAAMC,SAAQD,IAAG,MAAM,QAAW,QAAQ,EAAE;AAG5C,QAAIC,WAAU;AAAM,aAAO;AAE3B,QAAIA,WAAU;AAAM,aAAO;AAE3B,IAAAD,IAAG,QAAQ;AACX,UAAME,OAAMF,IAAG,MAAM,QAAW,QAAQ,EAAE;AAG1C,QAAIC,WAAU,QAAQC,SAAQ;AAAM,aAAO;AAE3C,QAAID,WAAU,QAAQC,SAAQ;AAAM,aAAO;AAE3C,YAAQ,KACN,qCAAqCH,OAAM,YAAYE,MAAK,UAAUC,IAAG,EAAE;AAG7E,WAAO;EACT;AAwCM,MAAO,WAAP,MAAO,kBAAiB,KAAI;IAAlC,cAAA;;AACE,WAAY,eAAuBC;AA4e3B,WAAA,gBAAgB;QACtB;QAAG;QAAI;QAAI;QAAI;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;;AAE5C,WAAU,aAAG,CAAC,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAInE,WAAa;MAEnB;AAEM,WAAA,mBACN;AAgCM,WAAA,SAAS;AACT,WAAA,SAAS;AACT,WAAA,SAAS;AACT,WAAA,YAAY;AACZ,WAAA,cAAc;AACd,WAAA,cAAc;AACd,WAAA,YAAY;AAqCZ,WAAA,kBAAkB;QACxB,KAAK;QACL,CAAC,KAAK,UAAS;AACb,cAAI,SAAS,KAAK,iBAAiB,KAAK;;;AAwBpC,WAAA,cAAgC;QACtC,GAAG;UACD,SAAS;UACT,QAAQ,CAAC,KAAK,UAAS;AACrB,gBAAI,YAAY,KAAK,cAAc,KAAK;;QAE3C;QACD,GAAG;UACD,SAAS;UACT,QAAQ,CAAC,KAAK,UAAS;AACrB,gBAAI,YAAY,KAAK,cAAc,KAAK;;QAE3C;QACD,KAAK;UACH,SAAS,KAAK;UACd,QAAQ,CAAC,KAAK,UAAS;AACrB,gBAAI,eAAe,CAAC;;QAEvB;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,SAAS;QAChC;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,SAAS;QAChC;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,SAAS;QAChC;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,SAAS;QAChC;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,OAAO;QAC9B;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,OAAO;QAC9B;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,OAAO;QAC9B;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,OAAO;QAC9B;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,KAAK;QAC5B;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,KAAK;QAC5B;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,CAAC,KAAK,UAAS;AACrB,gBAAI,MAAM,EAAE,MAAM,MAAM,KAAK,EAAE,CAAC,KAAK;AACrC,gBAAI,CAAC,KAAK,aAAa;AAAS;AAChC,qBAASC,KAAI,GAAGA,MAAK,IAAIA,MAAK,GAAG;AAC/B,kBAAI,KAAK,aAAa,QAAQA,EAAC,EAAE,QAAQ,UAAU,EAAE,MAAM,OAAO;AAChE,oBAAI,MAAMA;cACX;YACF;;QAEJ;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,OAAO;QAC9B;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,OAAO;QAC9B;QACD,KAAK;UACH,SAAS,KAAK;UACd,QAAQ,CAAC,KAAK,UAAS;AACrB,kBAAM,SAAS,KAAK,aAAY;AAChC,kBAAM,cAAc,KAAK,aAAa,OAAO;AAC7C,kBAAM,cACH,eAAe,OAAO,IAAI,CAACC,OAAMA,GAAE,MAAM,GAAG,CAAC,CAAC,GAAG,QAAQ,KAAK,IAAI;AACrE,gBAAI,aAAa,GAAG;AAClB,oBAAM,IAAI,MAAK;YAChB;AACD,gBAAI,QAAQ,aAAa,MAAM;;QAElC;QACD,MAAM;UACJ,SAAS,KAAK;UACd,QAAQ,CAAC,KAAK,UAAS;AACrB,kBAAM,SAAS,KAAK,aAAY;AAChC,kBAAM,aAAa,OAAO,QAAQ,KAAK,IAAI;AAC3C,gBAAI,aAAa,GAAG;AAClB,oBAAM,IAAI,MAAK;YAChB;AACD,gBAAI,QAAQ,aAAa,MAAM;;QAElC;QACD,GAAG;UACD,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,MAAM;QAC7B;QACD,IAAI;UACF,SAAS,KAAK;UACd,QAAQ,CAAC,KAAK,UAAS;AACrB,gBAAI,OAAO,KAAK,kBAAkB,CAAC,KAAK;;QAE3C;QACD,MAAM;UACJ,SAAS,KAAK;UACd,QAAQ,KAAK,SAAS,MAAM;QAC7B;;;;;;;;;;;IA3sBH,UAAU,OAAa;AACrB,UAAI,CAAC,KAAK,cAAc;AACtB,aAAK,eAAeF;AACpB,aAAK,aAAa,SAAS;MAC5B;AACD,aAAO;;;;;;IAOT,gBAAgB,OAAyB;AACvC,WAAK,eAAe;AACpB,aAAO;;;;;;;;;IAUT,OAAO,QACL,MACAJ,UAAS,WACT,qBAAyC,QAAS;AAElD,UAAI,CAAC;AAAM,cAAM,IAAI,MAAM,oBAAoB;AAE/C,UAAI,CAAC,oBAAoB;AACvB,6BAAqBI;AACrB,2BAAmB,SAASJ;MAC7B;AAED,aAAO,IAAI,UACT,KAAK,YAAW,GAChB,KAAK,SAAQ,GACb,KAAK,QAAO,GACZ,KAAK,SAAQ,GACb,KAAK,WAAU,GACf,KAAK,WAAU,GACf,KAAK,gBAAe,CAAE,EACtB,gBAAgB,kBAAkB;;;;;IAMtC,IAAI,QAAK;AACP,aAAO,IAAI,UACT,KAAK,MACL,KAAK,OACL,KAAK,MACL,KAAK,OACL,KAAK,SACL,KAAK,SACL,KAAK,gBAAe,CAAE,EACtB,gBAAgB,KAAK,YAAY;;IAGrC,OAAO,QAAQO,IAAC;AACd,UAAIA,OAAM,UAAa,KAAK,UAAUA,EAAC,MAAM;AAAQ,eAAO;AAC5D,UAAIA,GAAE,YAAY,SAAS,UAAS;AAAM,eAAO;AACjD,aAAO;;;;;;;;;IAUT,QAAQ,MAAwB,iBAAiB,GAAC;AAChD,UAAI,KAAK,IAAI,MAAM;AACjB,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;AAC/C,cAAQ,MAAI;QACV,KAAK;AACH,eAAK,gBAAgB,CAAC;AACtB;QACF,KAAK;AACH,eAAK,WAAW,GAAG,CAAC;AACpB;QACF,KAAK;AACH,eAAK,WAAW,GAAG,GAAG,CAAC;AACvB;QACF,KAAK;AACH,eAAK,SAAS,GAAG,GAAG,GAAG,CAAC;AACxB;QACF,KAAK,WAAW;AACd,eAAK,QAAQ,KAAK,IAAI;AACtB,cAAI,KAAK,YAAY;AAAgB;AACrC,gBAAM,UAAU,KAAK,UAAU,iBAAiB,KAAK;AACrD,eAAK,WAAW,SAAS,IAAI,KAAK,IAAI;AACtC;QACD;QACD,KAAK;AACH,eAAK,QAAQ,KAAK,IAAI;AACtB,eAAK,QAAQ,CAAC;AACd;QACF,KAAK;AACH,eAAK,QAAQ,KAAK,IAAI;AACtB,eAAK,SAAS,GAAG,CAAC;AAClB;MACH;AACD,aAAO;;;;;;;;;IAUT,MAAM,MAAwB,iBAAiB,GAAC;AAC9C,UAAI,KAAK,IAAI,MAAM;AACjB,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;AAC/C,cAAQ,MAAI;QACV,KAAK;AACH,eAAK,gBAAgB,GAAG;AACxB;QACF,KAAK;AACH,eAAK,WAAW,IAAI,GAAG;AACvB;QACF,KAAK;AACH,eAAK,WAAW,IAAI,IAAI,GAAG;AAC3B;QACF,KAAK;AACH,eAAK,SAAS,IAAI,IAAI,IAAI,GAAG;AAC7B;QACF,KAAK,WAAW;AACd,eAAK,MAAM,KAAK,IAAI;AACpB,gBAAM,YAAY,IAAI;AACtB,cAAI,KAAK,YAAY;AAAW;AAChC,eAAK,WAAW,YAAY,KAAK,SAAS,KAAK,IAAI;AACnD;QACD;QACD,KAAK;AACH,eAAK,MAAM,KAAK,IAAI;AACpB,eAAK,WAAW,GAAG,KAAK,KAAK;AAC7B,eAAK,QAAQ,CAAC;AACd;QACF,KAAK;AACH,eAAK,MAAM,KAAK,IAAI;AACpB,eAAK,SAAS,IAAI,EAAE;AACpB;MACH;AACD,aAAO;;;;;;;;;IAUT,WAAW,OAAe,MAAU;AAClC,UAAI,KAAK,IAAI,MAAM;AACjB,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;AAC/C,WAAK,IAAI,KAAK;AACd,aAAO;;;;;;;;IAST,SAAS,SAAmB,MAAW;AAErC,UAAI,CAAC,UAAS,QAAQ,OAAO;AAAG,eAAO;AAEvC,UAAI,CAAC;AAAM,eAAO,KAAK,QAAO,IAAK,QAAQ,QAAO;AAClD,UAAI,KAAK,IAAI,MAAM;AACjB,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;AAC/C,aACE,KAAK,MAAM,QAAQ,IAAI,EAAE,QAAO,IAAK,QAAQ,MAAM,QAAQ,IAAI,EAAE,QAAO;;;;;;;;IAU5E,QAAQ,SAAmB,MAAW;AAEpC,UAAI,CAAC,UAAS,QAAQ,OAAO;AAAG,eAAO;AAEvC,UAAI,CAAC;AAAM,eAAO,KAAK,QAAO,IAAK,QAAQ,QAAO;AAClD,UAAI,KAAK,IAAI,MAAM;AACjB,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;AAC/C,aACE,KAAK,MAAM,QAAQ,IAAI,EAAE,QAAO,IAAK,QAAQ,MAAM,QAAQ,IAAI,EAAE,QAAO;;;;;;;;IAU5E,OAAO,SAAmB,MAAW;AAEnC,UAAI,CAAC,UAAS,QAAQ,OAAO;AAAG,eAAO;AAEvC,UAAI,CAAC;AAAM,eAAO,KAAK,QAAO,MAAO,QAAQ,QAAO;AACpD,UAAI,KAAK,IAAI,MAAM;AACjB,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;AAC/C,gBAAU,UAAS,QAAQ,OAAO;AAClC,aACE,KAAK,MAAM,QAAQ,IAAI,EAAE,QAAO,MAAO,QAAQ,QAAQ,IAAI,EAAE,QAAO;;;;;;;;;;IAYxE,UACEC,OACAC,QACA,MACA,cAAyC,MAAI;AAG7C,UAAI,CAAC,UAAS,QAAQD,KAAI,KAAK,CAAC,UAAS,QAAQC,MAAK;AAAG,eAAO;AAEhE,UAAI,QAAQ,KAAK,IAAI,MAAM,QAAW;AACpC,cAAM,IAAI,MAAM,SAAS,IAAI,gBAAgB;MAC9C;AAED,YAAM,kBAAkB,YAAY,CAAC,MAAM;AAC3C,YAAM,mBAAmB,YAAY,CAAC,MAAM;AAE5C,YAAM,gBAAgB,kBAClB,KAAK,QAAQD,OAAM,IAAI,IACvB,CAAC,KAAK,SAASA,OAAM,IAAI;AAC7B,YAAM,iBAAiB,mBACnB,KAAK,SAASC,QAAO,IAAI,IACzB,CAAC,KAAK,QAAQA,QAAO,IAAI;AAE7B,aAAO,iBAAiB;;;;;;;IAQ1B,MACET,UAAS,KAAK,aAAa,QAC3B,WAAoC,EAAE,WAAW,QAAQ,WAAW,OAAM,GAAE;AAE5E,YAAM,QAAQ,CAAA;AACd,UAAI,KAAK,eAAeA,SAAQ,QAAQ,EACrC,cAAc,IAAI,EAClB,OAAO,CAACU,OAAMA,GAAE,SAAS,SAAS,EAClC,QAAQ,CAACA,OAAO,MAAMA,GAAE,IAAI,IAAIA,GAAE,KAAM;AAC3C,aAAO;;;;;IAMT,IAAI,UAAO;AACT,aAAO,KAAK,WAAU;;;;;IAMxB,IAAI,QAAQ,OAAa;AACvB,WAAK,WAAW,KAAK;;;;;IAMvB,IAAI,mBAAgB;AAClB,aAAO,KAAK,MAAM,QAAW,gBAAgB,EAAE;;;;;IAMjD,IAAI,UAAO;AACT,aAAO,KAAK,WAAU;;;;;IAMxB,IAAI,QAAQ,OAAa;AACvB,WAAK,WAAW,KAAK;;;;;IAMvB,IAAI,mBAAgB;AAClB,aAAO,KAAK,MAAM,QAAW,gBAAgB,EAAE;;;;;IAMjD,IAAI,QAAK;AACP,aAAO,KAAK,SAAQ;;;;;IAMtB,IAAI,MAAM,OAAa;AACrB,WAAK,SAAS,KAAK;;;;;;IAOrB,kBAAkB,YAAqC,OAAK;AAC1D,aAAO,KAAK,MAAM,QAAW,EAAE,GAAG,kBAAkB,UAAoB,CAAE,EACvE;;;;;;;;IASL,SAASV,UAAiB,KAAK,aAAa,QAAM;AAChD,aAAO,IAAI,KAAK,eAAeA,SAAQ;QACrC,MAAM;QACN,QAAQ;OACT,EACE,cAAc,IAAI,EAClB,KAAK,CAACW,OAAMA,GAAE,SAAS,WAAW,GAAG;;;;;IAM1C,IAAI,OAAI;AACN,aAAO,KAAK,QAAO;;;;;IAMrB,IAAI,KAAK,OAAa;AACpB,WAAK,QAAQ,KAAK;;;;;IAMpB,IAAI,gBAAa;AACf,aAAO,KAAK,MAAM,QAAW,gBAAgB,EAAE;;;;;IAMjD,IAAI,UAAO;AACT,aAAO,KAAK,OAAM;;;;;IAMpB,IAAI,QAAK;AACP,aAAO,KAAK,SAAQ;;;;;IAMtB,IAAI,MAAM,OAAa;AACrB,YAAM,cAAc,IAAI,KAAK,KAAK,MAAM,QAAQ,CAAC;AACjD,kBAAY,QAAQ,CAAC;AACrB,YAAM,aAAa,YAAY,QAAO;AACtC,UAAI,KAAK,OAAO,YAAY;AAC1B,aAAK,OAAO;MACb;AACD,WAAK,SAAS,KAAK;;;;;IAMrB,IAAI,iBAAc;AAChB,aAAO,KAAK,MAAM,QAAW,gBAAgB,EAAE;;;;;IAMjD,IAAI,OAAI;AACN,aAAO,KAAK,YAAW;;;;;IAMzB,IAAI,KAAK,OAAa;AACpB,WAAK,YAAY,KAAK;;;;;;IAOxB,IAAI,OAAI;AACN,YAAM,UAAU,KAAK,eAAc,GACjC,UAAU,KAAK,UAAS;AAE1B,UAAI,aAAa,KAAK,OAAO,UAAU,UAAU,MAAM,CAAC;AAExD,UAAI,aAAa,GAAG;AAClB,qBAAa,KAAK,gBAAe;MAClC,WAAU,aAAa,KAAK,gBAAe,GAAI;AAC9C,qBAAa;MACd;AAED,aAAO;;;;;IAMT,kBAAe;AACb,YAAM,MACD,KAAK,OACJ,KAAK,MAAM,KAAK,OAAO,CAAC,IACxB,KAAK,MAAM,KAAK,OAAO,GAAG,IAC1B,KAAK,MAAM,KAAK,OAAO,GAAG,KAC5B,GACF,OAAO,KAAK,OAAO,GACnBC,OACG,OACC,KAAK,MAAM,OAAO,CAAC,IACnB,KAAK,MAAM,OAAO,GAAG,IACrB,KAAK,MAAM,OAAO,GAAG,KACvB;AACJ,aAAO,OAAO,KAAKA,QAAO,IAAI,KAAK;;IAGrC,kBAAe;AACb,UAAI,CAAC,UAAS,QAAQ,IAAI;AAAG,eAAO;AAEpC,aAAO,GAAG,KAAK,IAAI,IAAI,KAAK,MAAM,SAAQ,EAAG,SAAS,GAAG,GAAG,CAAC,IAAI,KAAK,KACnE,SAAQ,EACR,SAAS,GAAG,GAAG,CAAC;;;;;IAMrB,IAAI,aAAU;AACZ,aACE,KAAK,OAAO,MAAM,MAAM,KAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ;;IAIjE,iBAAc;AACpB,aACE,KAAK,QACJ,KAAK,aAAa,KAAK,aAAa,KAAK,eAAe,KAAK,KAAK;;;;;IAqB/D,aACNC,UAA8D,QAAM;AAEpE,YAAM,cAAc,IAAI,KAAK,eAAe,KAAK,aAAa,QAAQ;QACpE,OAAOA;OACR,EAAE;AACH,aAAO,CAAC,GAAG,MAAM,EAAE,EAAE,KAAI,CAAE,EAAE,IAAI,CAACC,OAAM,YAAY,IAAI,KAAK,MAAMA,EAAC,CAAC,CAAC;;;;;IAMhE,cAAc,WAAW,SAAO;AAMtC,aAAO,UAAU,QACf,sCACA,CAACR,IAAGS,IAAGC,OAAK;AACV,cAAMC,KAAID,MAAKA,GAAE,YAAW;AAC5B,eAAOD,MAAK,QAAQE,EAAC,KAAKb,4BAA0B,YAAYa,EAAC;MACnE,CAAC;;IAYG,kBAAkB,OAAa;AACrC,aAAO,SAAS,QAAQ,KAAK,OAAO;;IAG9B,iBAAiB,OAAa;AACpC,UAAI,CAAC;AAAO,eAAO;AACnB,UAAI,UAAU;AAAK,eAAO;AAC1B,YAAM,CAAC,OAAO,QAAQ,KAAK,IAAI,MAAM,MAAM,cAAc;AACzD,YAAM,UAAU,CAAC,SAAS,MAAM,CAAC,SAAS;AAC1C,YAAM,SAAS,UAAU,MAAM,CAAC,UAAU;AAC1C,aAAO,YAAY,IAAI,IAAI;;;;;;;;IASrB,gBAAgB,MAAgB,OAAyB;AAC/D,UAAI,OAAO,KACR,MAAM,KAAK,aAAa,QAAQ,EAAE,cAAc,aAAY,CAAE,EAC9D,aAAa,QAAQ,OAAO,EAAE,EAC9B,QAAQ,KAAK,EAAE;AAElB,YAAM,WAAW,KAAK,SAAS,GAAG;AAElC,aAAO,KAAK,QAAQ,KAAK,EAAE;AAE3B,UAAI,UAAU;AAAK,eAAO,KAAK,UAAU,GAAG,CAAC;eACpC,UAAU;AAAM,eAAO,KAAK,UAAU,GAAG,CAAC;AAEnD,aAAO,GAAG,WAAW,MAAM,EAAE,GAAG,IAAI;;IAU9B,SAAS,UAAQ;AACvB,aAAO,CAAC,KAAK,UAAS;AACpB,YAAI,QAAQ,IAAI,CAAC;MACnB;;IAGM,qBAAkB;AACxB,aAAO,IAAI,KAAK,eAAe,KAAK,aAAa,QAAQ;QACvD,MAAM;QACN,QAAQ;OACT,EACE,cAAc,IAAI,KAAK,MAAM,GAAG,GAAG,EAAE,CAAC,EACtC,KAAK,CAACN,OAAMA,GAAE,SAAS,WAAW,GACjC,OAAO,QAAQ,QAAQ,GAAG;;IAGxB,cAAc,OAAa;AACjC,aAAO,MAAM,YAAW,MAAO,KAAK,mBAAkB,EAAG,YAAW;;IA6H9D,aAAa,MAAI;AACvB,YAAM,EAAE,UAAS,IAAK;AACtB,UAAI,cAAc,QAAW;AAC3B,cAAM,EAAE,MAAK,IAAK;AAClB,YAAI,WAAW;AACb,cAAI,QAAQ,IAAI;AACd,iBAAK,SAAS;UACf;QACF,WAAU,UAAU,IAAI;AACvB,eAAK,QAAQ;QACd;AACD,eAAO,KAAK;MACb;;IAGK,WAAWE,SAAc;AAC/B,MAAAA,UAAS,KAAK,cAAcA,SAAQ,KAAK,aAAa,WAAW;AACjE,YAAM,aAAaA,QAAO,MAAM,KAAK,gBAAgB;AACrD,YAAM,EAAE,OAAM,IAAK;AACnB,YAAM,kBAA4C,CAAA;AAClD,eAASR,KAAI,GAAGA,KAAI,QAAQA,MAAK,GAAG;AAClC,cAAM,QAAQ,WAAWA,EAAC;AAC1B,cAAM,aAAa,KAAK,YAAY,KAAK;AACzC,YAAI,YAAY,QAAQ;AACtB,0BAAgBA,EAAC,IAAI;QACtB,OAAM;AACL,0BAAgBA,EAAC,IAAK,MAAiB,QAAQ,iBAAiB,EAAE;QACnE;MACF;AAED,aAAO,CAAC,UAA6B;AACnC,cAAM,OAAO;UACX,OAAO;UACP,SAAS;UACT,SAAS;UACT,cAAc;;AAEhB,iBAASA,KAAI,GAAGH,SAAQ,GAAGG,KAAI,QAAQA,MAAK,GAAG;AAC7C,gBAAM,QAAQ,gBAAgBA,EAAC;AAC/B,cAAI,OAAO,UAAU,UAAU;AAC7B,YAAAH,UAAS,MAAM;UAChB,OAAM;AACL,kBAAM,OAAO,MAAM,MAAMA,MAAK;AAC9B,gBAAI,QAAQ;AAEZ,gBAAI,MAAM,SAAS;AACjB,oBAAMgB,SAAQ,MAAM,QAAQ,KAAK,IAAI;AACrC,sBAAQA,OAAM,CAAC;YAChB;AACD,kBAAM,OAAO,KAAK,MAAM,MAAM,KAAK;AACnC,oBAAQ,MAAM,QAAQ,OAAO,EAAE;UAChC;QACF;AACD,aAAK,aAAa,IAAI;AACtB,eAAO;MACT;;;;;;;;IASF,OAAO,WAAW,OAAe,cAAgC;AAC/D,UAAI,CAAC,cAAc,QAAQ;AACzB,kBAAU,cAAc,sBAAsB,wBAAwB;MACvE;AACD,UAAI;AACF,cAAMjB,MAAK,IAAI,UAAQ;AACvB,QAAAA,IAAG,gBAAgB,YAAY;AAC/B,YAAI,CAAC,KAAK,GAAG,EAAE,QAAQ,aAAa,MAAM,IAAI;AAC5C,iBAAO,IAAI,WAAU,aAAa,WAAW,MAAM,MAAO,KAAK,CAAC,KAAK;AAEvE,gBAAQ,MAAM,QAAQ,QAAQ,GAAG;AACjC,cAAM,SAASA,IAAG,WAAW,aAAa,MAAM;AAChD,cAAM,EAAE,MAAM,OAAO,KAAK,OAAO,SAAS,SAAS,cAAc,KAAI,IACnE,OAAO,KAAK;AACd,cAAMM,KAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQN,IAAG,QAAO,IAAK;AACnD,cAAMkB,KAAI,QAAQlB,IAAG,YAAW;AAChC,YAAImB,KAAI;AACR,YAAI,EAAE,QAAQ,CAAC,QAAQ;AACrB,UAAAA,KAAI,QAAQ,IAAI,QAAQ,IAAInB,IAAG,SAAQ;QACxC;AACD,YAAI,MAAM;AACR,iBAAO,IAAI,UACT,KAAK,IACHkB,IACAC,IACAb,IACA,OACA,SACA,SACA,eAAe,KAAK,SAAS,KAAK,GAAI,CACvC;QAEJ;AACD,eAAO,IAAI,UAASY,IAAGC,IAAGb,IAAG,OAAO,SAAS,SAAS,YAAY;MACnE,SAAQc,IAAG;AACV,kBAAU,cAAc,sBACtB,mCAAmC,KAAK,aAAa,aAAa,MAAM,EAAE;MAE7E;;;;;;;;;IAUH,OACE,UACArB,UAAS,KAAK,aAAa,QAAM;AAEjC,UAAI,YAAY,OAAO,aAAa;AAClC,eAAO,IAAI,KAAK,eAAeA,SAAQ,QAAQ,EAAE,OAAO,IAAI;AAE9D,YAAM,eAAe,KAAK;;QAExB;QAEE,KAAK,aAAa;QAElB,GAAGI,4BAA0B,YAAY,CAAC,KAAKA,4BAA0B,YAAY,EAAE;QACzF,KAAK,aAAa;MAAW;AAG/B,YAAM,YAAY,CAACkB,cACjB,IAAI,KAAK,eAAe,KAAK,aAAa,QAAQA,SAAQ,EAAE,OAAO,IAAI;AAEzE,UAAI,CAAC,KAAK,aAAa;AACrB,aAAK,aAAa,YAAY,eAAe,KAAK,aAAa,MAAM;AAGvE,YAAM,UAAU,KAAK,aAAa,UAAU,WAAW,IAAI,IACvD,QACA,KAAK,aAAa;AACtB,YAAM,UAAU,KAAK,aAAa,UAAU,WAAW,IAAI,IACvD,QACA,KAAK,aAAa;AAEtB,YAAM,UAAU;QACd,GAAG,KAAK;QACR,IAAI,UAAU,EAAE,MAAM,UAAS,CAAE;QACjC,MAAM,KAAK;QACX,GAAG,UAAU,EAAE,OAAO,UAAS,CAAE;QACjC,IAAI,KAAK;QACT,KAAK,KAAK,aAAa,OAAO,EAAE,KAAK,SAAQ,CAAE;QAC/C,MAAM,KAAK,aAAY,EAAG,KAAK,SAAQ,CAAE;QACzC,GAAG,KAAK;QACR,IAAI,KAAK;QACT,KAAK,UAAU,EAAE,SAAS,QAAO,CAAE;QACnC,MAAM,UAAU,EAAE,SAAS,OAAM,CAAE;QACnC,GAAG,KAAK,SAAQ;QAChB,IAAI,KAAK,kBAAkB,OAAO;QAClC,GAAG,KAAK,QAAQ,KAAK,KAAK,QAAQ,KAAK,KAAK;QAC5C,IAAI,KAAK,kBAAkB,OAAO;QAClC,GAAG,KAAK,SAAQ;QAChB,GAAG,KAAK,SAAQ,EAAG,YAAW;QAC9B,GAAG,KAAK;QACR,IAAI,KAAK;QACT,GAAG,KAAK;QACR,IAAI,KAAK;QACT,KAAK,KAAK,gBAAe;;;;;AAM3B,aAAO,aACJ,QAAQ,KAAK,eAAe,CAACJ,QAAO,OAAM;AACzC,eAAO,MAAM,QAAQA,MAAK;MAC5B,CAAC,EACA,QAAQ,OAAO,EAAE,EACjB,QAAQ,MAAM,EAAE;;EAItB;ACnhCD,MAAM,iBAAN,MAAoB;IAApB,cAAA;AACU,WAAA,QAAuD,oBAAI,IAAG;;IAEtE,OAAU,YAA4B;AACpC,YAAM,UAAU,KAAK,MAAM,IAAI,UAAU;AACzC,UAAI;AAAS,eAAO;AACpB,YAAM,QAAQ,IAAI,WAAU;AAC5B,WAAK,MAAM,IAAI,YAAY,KAAK;AAChC,aAAO;;EAEV;AACM,MAAM,sBAAsB,MAAK;AACtC,qBAAiB,IAAI,eAAc;EACrC;AAEO,MAAI;ACdX,MAAM,gBAKA;IACJ;MACE,MAAM;MACN,WAAW,UAAU,IAAI;MACzB,MAAM,KAAK;MACX,MAAM;IACP;IACD;MACE,MAAM;MACN,WAAW,UAAU,IAAI;MACzB,MAAM,KAAK;MACX,MAAM;IACP;IACD;MACE,MAAM;MACN,WAAW,UAAU,IAAI;MACzB,MAAM,KAAK;MACX,MAAM;IACP;IACD;MACE,MAAM;MACN,WAAW,UAAU,IAAI;MACzB,MAAM,KAAK;MACX,MAAM;IACP;;MC5BU,qBAAY;IAAzB,cAAA;AAMU,WAAwB,2BAAG;AAWnC,WAAA,YAAY,IAAI,SAAQ;AAmBxB,WAAuB,0BAAG;AAC1B,WAAW,cAAmB;;IA7B9B,IAAI,0BAAuB;AACzB,aAAO,KAAK;;IAGd,IAAI,wBAAwB,OAAK;AAC/B,WAAK,2BAA2B;AAChC,WAAK,cAAc,cAAc,KAAK,EAAE;;IAK1C,IAAI,WAAQ;AACV,aAAO,KAAK;;IAGd,IAAI,SAASpB,IAAC;AACZ,WAAK,YAAYA;AACjB,UAAI,KAAK;AAAS,aAAK,QAAQ,WAAWA;;;;;;IAO5C,qBAAkB;AAChB,WAAK,cAAc,cAAc,KAAK,uBAAuB,EAAE;;IAMjE,IAAI,eAAY;AACd,aAAO,CAAC,OAAO,KAAK,EAAE,SAAS,KAAK,QAAQ,aAAa,SAAS;;EAErE;ACxCa,MAAO,aAAP,MAAiB;IAG7B,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;;;;;;;;IASxD,QAAQ,YAAsB,aAAkB;AAC9C,UAAI,CAAC,KAAK,6BAA6B,aAAa,UAAU;AAC5D,eAAO;AAET,UACE,gBAAgB,KAAK,SACrB,gBAAgB,KAAK,QACrB,KAAK,aAAa,QAAQ,aAAa,oBAAoB,SAAS,KACpE,KAAK,aAAa,QAAQ,aAAa,mBAAmB,QACxD,WAAW,OAAO,MACd;AAEN,eAAO;AAET,UAAI,CAAC,KAAK,eAAe,aAAa,UAAU;AAAG,eAAO;AAE1D,UACE,gBAAgB,KAAK,SACrB,gBAAgB,KAAK,WACrB,gBAAgB,KAAK,SACrB;AACA,YAAI,CAAC,KAAK,6BAA6B,UAAU;AAAG,iBAAO;AAE3D,YACE,KAAK,aAAa,QAAQ,aAAa,uBAAuB,OAC5D,CAAC,aAAa,WAAW,UAAU,SAAS,MAAM,SAAS,EAAE,CAAC,EAC9D,WAAW;AAEb,iBAAO;MACV;AAED,aAAO;;IAGD,6BACN,aACA,YAAoB;AAEpB,UAAI,gBAAgB,KAAK;AAAM,eAAO;AAEtC,UACE,KAAK,aAAa,QAAQ,aAAa,cAAc,SAAS,KAC9D,KAAK,mBAAmB,UAAU,GAClC;AACA,eAAO;MACR;AAGD,UACE,KAAK,aAAa,QAAQ,aAAa,aAAa,SAAS,KAC7D,CAAC,KAAK,kBAAkB,UAAU,GAClC;AACA,eAAO;MACR;AAED,aAAO;;;;;;;;IASD,mBAAmB,UAAkB;AAC3C,UACE,CAAC,KAAK,aAAa,QAAQ,aAAa,iBACxC,KAAK,aAAa,QAAQ,aAAa,cAAc,WAAW;AAEhE,eAAO;AAET,aAAO,CAAC,CAAC,KAAK,aAAa,QAAQ,aAAa,cAAc,KAAK,CAACY,OAClEA,GAAE,OAAO,UAAU,KAAK,IAAI,CAAC;;;;;;;;IAUzB,kBAAkB,UAAkB;AAC1C,UACE,CAAC,KAAK,aAAa,QAAQ,aAAa,gBACxC,KAAK,aAAa,QAAQ,aAAa,aAAa,WAAW;AAE/D,eAAO;AAET,aAAO,CAAC,CAAC,KAAK,aAAa,QAAQ,aAAa,aAAa,KAAK,CAACA,OACjEA,GAAE,OAAO,UAAU,KAAK,IAAI,CAAC;;IAIzB,eAAe,aAAmB,YAAoB;AAC5D,UACE,KAAK,aAAa,QAAQ,aAAa,WACvC,WAAW,SACT,KAAK,aAAa,QAAQ,aAAa,SACvC,WAAW,GAEb;AACA,eAAO;MACR;AAGD,UACE,KAAK,aAAa,QAAQ,aAAa,WACvC,WAAW,QACT,KAAK,aAAa,QAAQ,aAAa,SACvC,WAAW,GAEb;AACA,eAAO;MACR;AAED,aAAO;;IAGD,6BAA6B,YAAoB;AACvD,UACE,KAAK,aAAa,QAAQ,aAAa,cAAc,SAAS,KAC9D,KAAK,mBAAmB,UAAU,GAClC;AACA,eAAO;MACR;AAGD,UACE,KAAK,aAAa,QAAQ,aAAa,aAAa,SAAS,KAC7D,CAAC,KAAK,kBAAkB,UAAU,GAClC;AACA,eAAO;MACR;AAED,aAAO;;;;;;;;IASD,mBAAmB,UAAkB;AAC3C,UACE,CAAC,KAAK,aAAa,QAAQ,aAAa,iBACxC,KAAK,aAAa,QAAQ,aAAa,cAAc,WAAW;AAEhE,eAAO;AAET,YAAM,gBAAgB,SAAS;AAC/B,aAAO,KAAK,aAAa,QAAQ,aAAa,cAAc,SAC1D,aAAa;;;;;;;;IAUT,kBAAkB,UAAkB;AAC1C,UACE,CAAC,KAAK,aAAa,QAAQ,aAAa,gBACxC,KAAK,aAAa,QAAQ,aAAa,aAAa,WAAW;AAE/D,eAAO;AAET,YAAM,gBAAgB,SAAS;AAC/B,aAAO,KAAK,aAAa,QAAQ,aAAa,aAAa,SACzD,aAAa;;IAIjB,iBAAiB,OAAmB,OAAe,QAAgB;AAEjE,UAAI,CAAC,KAAK,aAAa,QAAQ;AAAW,eAAO;AAKjD,UAAI,MAAM,WAAW,KAAK,UAAU;AAAG,eAAO;AAG9C,YAAMR,SAAQ,MAAM,CAAC,EAAE;AAEvB,UAAIA,OAAM,OAAO,QAAQ,KAAK,IAAI;AAAG,eAAO;AAG5C,MAAAA,OAAM,WAAW,GAAG,KAAK,IAAI;AAG7B,aAAO,CAACA,OAAM,OAAO,QAAQ,KAAK,IAAI,GAAG;AACvC,cAAM,QAAQ,KAAK,QAAQA,QAAO,KAAK,IAAI;AAC3C,YAAI,CAAC;AAAO,iBAAO;AACnB,QAAAA,OAAM,WAAW,GAAG,KAAK,IAAI;MAC9B;AAED,aAAO;;EAEV;ACxND,MAAM,eAAN,MAAkB;IAAlB,cAAA;AACU,WAAW,cAA4B,CAAA;;IAE/C,UAAU,UAA4B;AACpC,WAAK,YAAY,KAAK,QAAQ;AAC9B,aAAO,KAAK,YAAY,KAAK,MAAM,KAAK,YAAY,SAAS,CAAC;;IAGhE,YAAY,OAAa;AACvB,WAAK,YAAY,OAAO,OAAO,CAAC;;IAGlC,KAAK,OAAS;AACZ,WAAK,YAAY,QAAQ,CAAC,aAAY;AACpC,iBAAS,KAAK;MAChB,CAAC;;IAGH,UAAO;AACL,WAAK,cAAc;AACnB,WAAK,cAAc,CAAA;;EAEtB;MAEY,sBAAa;IAA1B,cAAA;AACE,WAAA,eAAe,IAAI,aAAY;AAC/B,WAAA,aAAa,IAAI,aAAY;AAC7B,WAAA,gBAAgB,IAAI,aAAY;AAChC,WAAA,SAAS,IAAI,aAAY;AACzB,WAAA,iBAAiB,IAAI,aAAY;;IAEjC,UAAO;AACL,WAAK,aAAa,QAAO;AACzB,WAAK,WAAW,QAAO;AACvB,WAAK,cAAc,QAAO;AAC1B,WAAK,OAAO,QAAO;AACnB,WAAK,eAAe,QAAO;;EAE9B;ACxCD,MAAM,wBAAsC;IAC1C,OAAO;IACP,OAAO;IACP,aAAaE,4BAA0B;IACvC,qBAAqB,EAAE,OAAO,QAAQ,MAAM,UAAS;IACrD,eAAe;IACf,iBAAiB;IACjB,iBAAiB;IACjB,QAAQA,4BAA0B;IAClC,WAAWA,4BAA0B;IACrC,eAAe;IACf,iBAAiB;IACjB,iBAAiB;IACjB,QAAQA,4BAA0B;IAClC,kBAAkB;IAClB,aAAa;IACb,YAAY;IACZ,WAAW;IACX,UAAU;IACV,SAASA,4BAA0B;IACnC,UAAU;IACV,YAAY;IACZ,YAAY;IACZ,iBAAiB;IACjB,gBAAgB;IAChB,eAAe;IACf,cAAc;IACd,YAAY;IACZ,cAAc;IACd,aAAa;IACb,YAAY;IACZ,YAAY;IACZ,gBAAgB;IAChB,OAAO;IACP,gBAAgB;IAChB,iBAAiB;;AAGnB,MAAM,iBAA0B;IAC9B,kBAAkB;IAClB,WAAW;IACX,WAAW;IACX,OAAO;IACP,aAAa;IACb,SAAS;MACP,OAAO;QACL,MAAM;QACN,MAAM;QACN,MAAM;QACN,IAAI;QACJ,MAAM;QACN,UAAU;QACV,MAAM;QACN,OAAO;QACP,OAAO;QACP,OAAO;MACR;MACD,YAAY;MACZ,eAAe;MACf,UAAU;MACV,kBAAkB;MAClB,UAAU;MACV,SAAS;QACP,OAAO;QACP,OAAO;QACP,OAAO;MACR;MACD,YAAY;QACV,UAAU;QACV,MAAM;QACN,OAAO;QACP,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,SAAS;QACT,SAAS;QACT,mBAAmB;MACpB;MACD,QAAQ;MACR,OAAO;MACP,WAAW;MACX,oBAAoB;IACrB;IACD,aAAa;IACb,cAAc;IACd,MAAM,CAAA;IACN,eAAe;IACf,wBAAwB;IACxB,wBAAwB;IACxB,uCAAuC;IACvC,cAAc;MACZ,SAAS;MACT,SAAS;MACT,eAAe,CAAA;MACf,cAAc,CAAA;MACd,oBAAoB,CAAA;MACpB,uBAAuB,CAAA;MACvB,eAAe,CAAA;MACf,cAAc,CAAA;IACf;IACD,UAAU;IACV,YAAY;IACZ,UAAU,IAAI,SAAQ;;MAIX,wBAAwB,EAAE,GAAG,sBAAqB;ACpG/C,WAAA,qBAEdG,IACA,cAAgC;AAEhC,QAAI,CAACA;AAAG,aAAO;AACf,QAAIA,GAAE,YAAY,SAAS,SAAS;AAAM,aAAOA;AACjD,QAAIA,GAAE,YAAY,SAAS,KAAK,MAAM;AACpC,aAAO,SAAS,QAAQA,EAAS;IAClC;AACD,QAAI,OAAOA,OAAM,UAAW;AAC1B,YAAM,WAAW,SAAS,WAAWA,IAAwB,YAAY;AACzE,UAAI,KAAK,UAAU,QAAQ,MAAM,QAAQ;AACvC,eAAO;MACR;AACD,aAAO;IACR;AACD,WAAO;EACT;WAQgB,kBAEdA,IACA,YACA,cAAgC;AAEhC,QAAI,OAAOA,OAAM,YAAa,eAAe,SAAS;AACpD,gBAAU,cAAc,WAAU;IACnC;AAED,UAAM,YAAY,qBAAqBA,IAAG,YAAY;AAEtD,QAAI,CAAC,WAAW;AACd,gBAAU,cAAc,kBACtB,YACAA,IACA,eAAe,OAAO;IAEzB;AACD,WAAO;EACT;WASgB,mBAEd,YACA,OACA,cACA,eAAmCH,6BAAyB;AAE5D,QAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACzB,gBAAU,cAAc,aACtB,YACA,cACA,2BAA2B;IAE9B;AACD,aAASC,KAAI,GAAGA,KAAI,MAAM,QAAQA,MAAK;AACrC,YAAME,KAAI,MAAMF,EAAC;AACjB,YAAM,WAAW,kBAAkBE,IAAG,YAAY,YAAY;AAC9D,eAAS,gBAAgB,YAAY;AACrC,YAAMF,EAAC,IAAI;IACZ;EACH;WAQgB,qBAEd,YACA,OACA,cAAoB;AAEpB,QAAI,CAAC,MAAM,QAAQ,KAAK,KAAK,MAAM,KAAK,CAACK,OAAM,OAAOA,OAAM,QAAQ,GAAG;AACrE,gBAAU,cAAc,aACtB,YACA,cACA,kBAAkB;IAErB;EACH;ACrFA,WAAS,cAAc,KAAW;AAChC,WAAO,CAAC,EAAE,OAAO,aAAY,MAAM;AACjC,YAAM,WAAW,kBAAkB,OAAO,KAAK,YAAY;AAC3D,UAAI,aAAa,QAAW;AAC1B,iBAAS,gBAAgB,YAAY;AACrC,eAAO;MACR;IACH;EACF;AAEA,WAAS,aAAa,KAAW;AAC/B,UAAM,YAAY,cAAc,GAAG;AACnC,WAAO,CAAC,SAAQ;AACd,UAAI,KAAK,UAAU,QAAW;AAC5B,eAAO,KAAK;MACb;AACD,aAAO,UAAU,IAAI;IACvB;EACF;AAEA,WAAS,eACP,KACA,OACA,OAAa;AAEb,WAAO,CAAC,EAAE,OAAO,aAAY,MAAM;AACjC,UAAI,UAAU,QAAW;AACvB,eAAO,CAAA;MACR;AACD,2BAAqB,KAAK,OAAO,YAAY;AAC7C,UAAK,MAAmB,KAAK,CAACA,OAAMA,KAAI,SAASA,KAAI,KAAK;AACxD,kBAAU,cAAc,kBAAkB,KAAK,OAAO,KAAK;AAC7D,aAAO;IACT;EACF;AAEA,WAAS,eAAe,KAAW;AACjC,WAAO,eAAe,KAAK,GAAG,EAAE;EAClC;AAEA,WAAS,eAAe,KAAW;AACjC,WAAO,CAAC,EAAE,OAAO,cAAc,aAAY,MAAM;AAC/C,UAAI,UAAU,QAAW;AACvB,eAAO,CAAA;MACR;AACD,yBAAmB,KAAK,OAAO,cAAc,YAAY;AACzD,aAAO;IACT;EACF;AAEA,WAAS,eAAe,YAAoB;AAC1C,WAAO,CAAC,EAAE,OAAO,KAAI,MAAM;AACzB,UAAI,CAAC,WAAW,SAAS,KAAK;AAC5B,kBAAU,cAAc,sBACtB,KAAK,UAAU,CAAC,GAChB,OACA,UAAU;AAEd,aAAO;IACT;EACF;AAEA,MAAM,mBACJ,OAAO,OAAO;IACZ,aAAa,cAAc,aAAa;IACxC,UAAU,cAAc,UAAU;IAClC,SAAS,aAAa,sBAAsB;IAC5C,SAAS,aAAa,sBAAsB;IAC5C,eAAe,eAAe,4BAA4B;IAC1D,cAAc,eAAe,2BAA2B;IACxD,eAAe,eAAe,4BAA4B;IAC1D,cAAc,eAAe,2BAA2B;IACxD,oBAAoB,eAAe,mCAAmC,GAAG,CAAC;IAC1E,uBAAuB,CAAC,EAAE,KAAK,OAAO,cAAc,aAAY,MAAM;AACpE,UAAI,UAAU,QAAW;AACvB,eAAO,CAAA;MACR;AACD,UAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACzB,kBAAU,cAAc,aACtB,KACA,cACA,qDAAqD;MAExD;AACD,YAAM,cAAc;AACpB,eAASL,KAAI,GAAGA,KAAI,YAAY,QAAQA,MAAK;AAC3C,eAAO,KAAK,YAAYA,EAAC,CAAC,EAAE,QAAQ,CAAC,OAAM;AACzC,gBAAM,gBAAgB,GAAG,GAAG,IAAIA,EAAC,KAAK,EAAE;AACxC,gBAAME,KAAI,YAAYF,EAAC,EAAE,EAAE;AAC3B,gBAAM,WAAW,kBAAkBE,IAAG,eAAe,YAAY;AACjE,mBAAS,gBAAgB,YAAY;AACrC,sBAAYF,EAAC,EAAE,EAAE,IAAI;QACvB,CAAC;MACF;AACD,aAAO;;IAET,kBAAkB,eAAe,CAAC,OAAO,UAAU,SAAS,CAAC;IAC7D,MAAM,eAAe,CAAC,SAAS,SAAS,CAAC;IACzC,UAAU,eAAe;MACvB;MACA;MACA;MACA;MACA;KACD;IACD,OAAO,eAAe,CAAC,SAAS,QAAQ,MAAM,CAAC;IAC/C,WAAW,eAAe,CAAC,OAAO,QAAQ,CAAC;IAC3C,MAAM,CAAC,EAAE,MAAK,MAAO;IACrB,qBAAqB,CAAC,EAAE,MAAK,MAAO;IACpC,WAAW,CAAC,EAAE,OAAO,KAAI,MAAM;AAC7B,UACE,SACA,EACE,iBAAiB,eACjB,iBAAiB,WACjB,OAAO,cAET;AACA,kBAAU,cAAc,aACtB,KAAK,UAAU,CAAC,GAChB,OAAO,OACP,aAAa;MAEhB;AACD,aAAO;;IAET,mBAAmB,CAAC,EAAE,OAAO,MAAM,cAAc,YAAW,MAAM;AAChE,gBAAU,cAAc,kBACtB,qBACA,qDAAqD;AAEvD,UAAI,UAAU,UAAa,iBAAiB;AAAW,eAAO;AAC9D,gBAAU,cAAc,aAAa,MAAM,cAAc,WAAW;;IAEtE,WAAW,eAAe,CAAC,OAAO,OAAO,OAAO,KAAK,CAAC;EACvD,CAAA;AAEH,MAAM,mBAA4C,CAAC,EACjD,OACA,aACA,cACA,KAAI,MACD;AACH,YAAQ,aAAW;MACjB,KAAK;AACH,eAAO,UAAU,UAAU,UAAU;MACvC,KAAK;AACH,eAAO,CAAC;MACV,KAAK;AACH,eAAO,MAAM,SAAQ;MACvB,KAAK;AACH,eAAO,CAAA;MACT,KAAK;AACH,eAAO;MACT;AACE,kBAAU,cAAc,aAAa,MAAM,cAAc,WAAW;IACvE;EACH;AAEM,WAAU,WAAuB,MAAsC;AAC3E,YAAQ,iBAAiB,KAAK,GAAG,KAAK,kBAAkB,IAAI;EAC9D;MC3Ka,wBAAA,iBAAe;IAS1B,OAAO,SAAS,OAAK;AACnB,YAAMkB,KAAI,CAAA;AAEV,aAAO,KAAK,KAAK,EAAE,QAAQ,CAAC,QAAO;AACjC,cAAM,eAAe,MAAM,GAAG;AAE9B,YAAI,wBAAwB,UAAU;AACpC,UAAAA,GAAE,GAAG,IAAI,aAAa;AACtB;QACD,WAAU,wBAAwB,MAAM;AACvC,UAAAA,GAAE,GAAG,IAAI,IAAI,KAAK,aAAa,QAAO,CAAE;AACxC;QACD;AAED,QAAAA,GAAE,GAAG,IAAI;AACT,YACE,OAAO,iBAAiB,YACxB,wBAAwB,eACxB,wBAAwB;AAExB;AACF,YAAI,CAAC,MAAM,QAAQ,YAAY,GAAG;AAChC,UAAAA,GAAE,GAAG,IAAI,iBAAgB,SAAS,YAAY;QAC/C;MACH,CAAC;AAED,aAAOA;;;;;;;IAUT,OAAO,WAAW,OAAe,KAAG;AAClC,UAAI,MAAM,OAAO,CAAC,MAAM;AAAK,gBAAQ,MAAM,MAAM,CAAC;AAClD,UAAI,CAAC;AAAO,eAAO;AACnB,aAAO,MACJ,MAAM,GAAG,EACT,OACC,CAAC,OAAO,QACN,iBAAgB,QAAQ,KAAK,KAAK,iBAAgB,QAAQ,MAAM,GAAG,CAAC,IAChE,MAAM,GAAG,IACT,QACN,GAAG;;;;;;;;;;;IAaT,OAAO,OAAO,UAAU,QAAQ,cAAkC,OAAO,IAAE;AACzE,YAAMC,kBAAiB,iBAAgB,WAAW,MAAM,cAAc;AAEtE,YAAM,qBAAqB,OAAO,KAAK,QAAQ,EAAE,OAC/C,CAACd,OAAM,CAAC,OAAO,KAAKc,eAAc,EAAE,SAASd,EAAC,CAAC;AAGjD,UAAI,mBAAmB,SAAS,GAAG;AACjC,cAAM,mBAAmB,iBAAgB,yBAAwB;AAEjE,cAAM,SAAS,mBAAmB,IAAI,CAACA,OAAK;AAC1C,gBAAMH,KAAI,OAAO,MAAM;AACvB,cAAIZ,SAAQ,IAAI,IAAI,GAAGY,EAAC,GAAGG,EAAC;AAC5B,gBAAM,aAAa,iBAAiB,KAAK,CAACS,OAAMA,GAAE,SAAST,EAAC,CAAC;AAC7D,cAAI;AAAY,YAAAf,UAAS,kBAAkB,UAAU;AACrD,iBAAOA;QACT,CAAC;AACD,kBAAU,cAAc,kBAAkB,MAAM;MACjD;AAED,aAAO,KAAK,QAAQ,EACjB,OAAO,CAAC,QAAQ,QAAQ,eAAe,QAAQ,aAAa,EAC5D,QAAQ,CAAC,QAAO;AACf,gBAAQ,IAAI,GAAG;AACf,YAAI,KAAK,OAAO,CAAC,MAAM;AAAK,iBAAO,KAAK,MAAM,CAAC;AAE/C,cAAM,qBAAqB6B,gBAAe,GAAG;AAC7C,cAAM,eAAe,OAAO,SAAS,GAAG;AACxC,cAAM,cAAc,OAAO;AAC3B,cAAM,QAAQ,SAAS,GAAG;AAE1B,YAAI,UAAU,UAAa,UAAU,MAAM;AACzC,iBAAO,GAAG,IAAI;AACd,iBAAO,KAAK,UAAU,GAAG,KAAK,YAAY,IAAI,GAAG,EAAE,CAAC;AACpD;QACD;AAED,YACE,OAAO,uBAAuB,YAC9B,CAAC,MAAM,QAAQ,SAAS,GAAG,CAAC,KAC5B,EACE,8BAA8B,QAC9B,iBAAgB,iBAAiB,SAAS,GAAG,IAE/C;AACA,2BAAgB,OACd,SAAS,GAAG,GACZ,OAAO,GAAG,GACV,cACA,IAAI;QAEP,OAAM;AACL,iBAAO,GAAG,IAAI,iBAAgB,WAC5B,KACA,OACA,cACA,aACA,MACA,YAAY;QAEf;AAED,eAAO,KAAK,UAAU,GAAG,KAAK,YAAY,IAAI,GAAG,EAAE,CAAC;MACtD,CAAC;;IAGL,OAAO,WACL,KACA,OACA,cACA,aACA,MACA,cAAgC;AAEhC,aAAO,WAAW;QAChB;QACA;QACA;QACA;QACA;QACA;MACD,CAAA;;IAGH,OAAO,cAAc,iBAA0B,SAAgB;AAC7D,YAAM,YAAY,iBAAgB,SAAS,OAAO;AAElD,YAAM,eACJ,QAAQ,cAAc,WAAW,YAC7B,QAAQ,eACR,iBAAiB,gBAAgB,eAAe;AAEtD,uBAAgB,OAAO,iBAAiB,WAAW,cAAc,EAAE;AAEnE,aAAO;;IAGT,OAAO,eAAe,SAAS,SAAgB;AAC7C,YAAM,QAAQ,KAAK,MAAM,KAAK,UAAU,QAAQ,OAAO,CAAC;AAExD,UAAI,OAAO;AAAe,eAAO,MAAM;AACvC,UAAI,OAAO;AAAgB,eAAO,MAAM;AAExC,UAAI,CAAC,SAAS,OAAO,KAAK,KAAK,EAAE,WAAW;AAAG,eAAO;AACtD,YAAM,cAAc,CAAA;AAIpB,YAAM,qBAAqB,CAAC,WAAU;AACpC,cAAM,UAAU,CAAA;AAChB,eAAO,KAAK,MAAM,EAAE,QAAQ,CAACd,OAAK;AAChC,kBAAQA,GAAE,YAAW,CAAE,IAAIA;QAC7B,CAAC;AAED,eAAO;MACT;AAEA,YAAM,kBAAkB,KAAK,gBAAgB,kBAAkB;AAC/D,YAAM,eAAe,mBAAmB,OAAO;AAE/C,aAAO,KAAK,KAAK,EACd,OAAO,CAACA,OAAMA,GAAE,WAAW,UAAU,OAAO,CAAC,EAC7C,IAAI,CAACA,OAAMA,GAAE,UAAU,CAAC,CAAC,EACzB,QAAQ,CAAC,QAAO;AACf,YAAI,YAAY,aAAa,IAAI,YAAW,CAAE;AAI9C,YAAI,IAAI,SAAS,GAAG,GAAG;AAErB,gBAAM,QAAQ,IAAI,MAAM,GAAG;AAE3B,sBAAY,aAAa,MAAM,CAAC,EAAE,YAAW,CAAE;AAC/C,cACE,cAAc,UACd,QAAQ,SAAS,EAAE,gBAAgB,QACnC;AACA,wBAAY,SAAS,IAAI,gBACvB,OACA,GACA,QAAQ,SAAS,GACjB,MAAM,KAAK,GAAG,EAAE,CAAC;UAEpB;QACF,WAEQ,cAAc,QAAW;AAChC,sBAAY,SAAS,IAAI,MAAM,KAAK,GAAG,EAAE;QAC1C;MACH,CAAC;AAEH,aAAO,KAAK,cAAc,aAAa,OAAO;;;IAIxC,OAAO,gBAAgB,oBAAsC;AACnE,YAAM,kBAAkB,CACtB,OACA,OACA,gBACA,UACE;AAEF,cAAM,oBAAoB,mBAAmB,cAAc;AAE3D,cAAM,YAAY,kBAAkB,MAAM,KAAK,EAAE,YAAW,CAAE;AAC9D,cAAM,iBAAiB,CAAA;AAEvB,YAAI,cAAc;AAAW,iBAAO;AAGpC,YAAI,eAAe,SAAS,GAAG,gBAAgB,QAAQ;AACrD;AACA,yBAAe,SAAS,IAAI,gBAC1B,OACA,OACA,eAAe,SAAS,GACxB,KAAK;QAER,OAAM;AACL,yBAAe,SAAS,IAAI;QAC7B;AACD,eAAO;MACT;AACA,aAAO;;;;;;;;IAST,OAAO,eACLH,IACA,cAAgC;AAEhC,aAAO,qBAAqBA,IAAG,YAAY;;;;;;;;;IAU7C,OAAO,oBACL,YACA,OACA,cACA,cAAgC;AAEhC,aAAO,mBAAmB,YAAY,OAAO,cAAc,YAAY;;;;;;;;IASzE,OAAO,sBACL,YACA,OACA,cAAoB;AAEpB,aAAO,qBAAqB,YAAY,OAAO,YAAY;;;;;;;;IAS7D,OAAO,eACLA,IACA,YACA,cAAgC;AAEhC,aAAO,kBAAkBA,IAAG,YAAY,YAAY;;IAK9C,OAAO,2BAAwB;AACrC,UAAI,KAAK;AAAkB,eAAO,KAAK;AACvC,YAAM,WAAW,CAACkB,IAAG,MAAM,CAAA,MAAM;AAC/B,YAAI,MAAM,QAAQA,EAAC;AAAG,iBAAO,CAAA;AAC7B,YAAI,OAAOA,EAAC,MAAMA,IAAG;AACnB,iBAAO,OAAO,QAAQA,EAAC,EAAE,QAAQ,CAAC,CAACC,IAAG5B,EAAC,MAAM,SAASA,IAAG,CAAC,GAAG,KAAK4B,EAAC,CAAC,CAAC;QACtE,OAAM;AACL,iBAAO,IAAI,KAAK,GAAG;QACpB;MACH;AAEA,WAAK,mBAAmB,SAAS,cAAc;AAE/C,aAAO,KAAK;;;;;;;IAQd,OAAO,mBAAmBC,SAAe;AACvC,UACEA,QAAO,QAAQ,eACd,CAACA,QAAO,QAAQ,WAAW,SAC1B,EACEA,QAAO,QAAQ,WAAW,SAC1BA,QAAO,QAAQ,WAAW,WAC1BA,QAAO,QAAQ,WAAW,WAE9B;AACA,kBAAU,cAAc,yBACtB,2DAA2D;MAE9D;AAED,UAAIA,QAAO,aAAa,WAAWA,QAAO,aAAa,SAAS;AAC9D,YAAIA,QAAO,aAAa,QAAQ,QAAQA,QAAO,aAAa,OAAO,GAAG;AACpE,oBAAU,cAAc,yBACtB,0BAA0B;QAE7B;AAED,YAAIA,QAAO,aAAa,QAAQ,SAASA,QAAO,aAAa,OAAO,GAAG;AACrE,oBAAU,cAAc,yBACtB,2BAA2B;QAE9B;MACF;AAED,UAAIA,QAAO,iBAAiBA,QAAO,WAAW;AAC5C,kBAAU,cAAc,yBACtB,oDAAoD;MAEvD;;;AA/WY,kBAAA,mBAAmB;IAChC;IACA;IACA;IACA;IACA;;AAgCa,kBAAO,UAAG,CAACZ,OAAMA,MAAK;ACrCzB,MAAO,QAAP,MAAY;IAMxB,cAAA;AALQ,WAAM,SAAe,CAAA;AAM3B,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,aAAa,eAAe,OAAO,UAAU;AAClD,WAAK,iBAAiB,eAAe,OAAO,aAAa;;;;;IAM3D,IAAI,SAAM;AACR,aAAO,CAAC,GAAG,KAAK,MAAM;;;;;IAMxB,IAAI,aAAU;AACZ,aAAO,KAAK,OAAO,KAAK,eAAe,GAAG;;;;;IAM5C,IAAI,kBAAe;AACjB,UAAI,KAAK,OAAO,WAAW;AAAG,eAAO;AACrC,aAAO,KAAK,OAAO,SAAS;;;;;;IAO9B,YAAY,MAAc;AACxB,UAAI,CAAC;AAAM,eAAO;AAClB,WAAK,eAAe,KAAK,aAAa,QAAQ;AAC9C,aAAO,KAAK,OAAM;;;;;;;IAQpB,WAAW,OAAU;AACnB,UAAI;AACF,eAAO,gBAAgB,eACrB,OACA,SACA,KAAK,aAAa,QAAQ,YAAY;MAEzC,SAAQM,IAAG;AACV,aAAK,eAAe,aAAa,KAAK;UACpC,MAAM,UAAU,OAAO;UACvB,QAAQ,UAAU,cAAc;UAChC,QAAQ,KAAK,aAAa,QAAQ,aAAa;UAC/C;QACkB,CAAA;AACpB,eAAO;MACR;;;;;;;;;IAUH,aAAa,OAAY,OAAc;AACrC,UAAI,CAAC,OAAO;AACV,aAAK,SAAS,QAAW,KAAK;AAC9B;MACD;AACD,YAAM,YAAY,KAAK,WAAW,KAAK;AACvC,UAAI,WAAW;AACb,kBAAU,gBAAgB,KAAK,aAAa,QAAQ,YAAY;AAChE,aAAK,SAAS,WAAW,KAAK;MAC/B;;;;;;IAOH,IAAI,MAAc;AAChB,WAAK,OAAO,KAAK,IAAI;;;;;;;;IASvB,SAAS,YAAsB,MAAW;AACxC,UAAI,CAAC,SAAS,QAAQ,UAAU;AAAG,eAAO;AAC1C,UAAI,CAAC;AACH,eAAO,KAAK,OAAO,KAAK,CAACX,OAAMA,GAAE,OAAO,UAAU,CAAC,MAAM;AAE3D,YAAMG,UAAS,gBAAgB,IAAI;AAEnC,YAAM,qBAAqB,WAAW,OAAOA,OAAM;AAEnD,aACE,KAAK,OACF,IAAI,CAACH,OAAMA,GAAE,OAAOG,OAAM,CAAC,EAC3B,KAAK,CAACH,OAAMA,OAAM,kBAAkB,MAAM;;;;;;;;;IAWjD,YAAY,YAAsB,MAAW;AAC3C,UAAI,CAAC,SAAS,QAAQ,UAAU;AAAG,eAAO;AAC1C,UAAI,CAAC;AACH,eAAO,KAAK,OAAO,IAAI,CAACA,OAAMA,GAAE,QAAO,CAAE,EAAE,QAAQ,WAAW,QAAO,CAAE;AAEzE,YAAMG,UAAS,gBAAgB,IAAI;AAEnC,YAAM,qBAAqB,WAAW,OAAOA,OAAM;AAEnD,aAAO,KAAK,OAAO,IAAI,CAACH,OAAMA,GAAE,OAAOG,OAAM,CAAC,EAAE,QAAQ,kBAAkB;;;;;IAM5E,QAAK;AACH,WAAK,aAAa,QAAQ;AAC1B,WAAK,eAAe,aAAa,KAAK;QACpC,MAAM,UAAU,OAAO;QACvB,MAAM;QACN,SAAS,KAAK;QACd,SAAS;QACT,SAAS;MACK,CAAA;AAChB,WAAK,SAAS,CAAA;AACd,UAAI,KAAK,aAAa;AAAO,aAAK,aAAa,MAAM,QAAQ;AAC7D,WAAK,eAAe,cAAc,KAAK,KAAK;;;;;;;IAQ9C,OAAO,gBACL,QACA,MAAY;AAEZ,YAAM,OAAO,SAAS,IACpB,YAAY,KAAK,MAAM,OAAO,MAAM,IAAI,QACxC,UAAU,YAAY,OAAO,GAC7B,aAAa,KAAK,MAAM,OAAO,IAAI,IAAI;AACzC,aAAO,CAAC,WAAW,SAAS,UAAU;;IAGxC,YAAY,QAAiB;AAC3B,UAAI,CAAC,KAAK,aAAa;AAAO;AAE9B,UAAI,WAAW,KAAK,YAAY,MAAM;AACtC,UACE,KAAK,aAAa,QAAQ,iBAC1B,KAAK,aAAa,QAAQ,WAC1B;AACA,mBAAW,KAAK,OACb,IAAI,CAACN,OAAM,KAAK,YAAYA,EAAC,CAAC,EAC9B,KAAK,KAAK,aAAa,QAAQ,sBAAsB;MACzD;AACD,UAAI,KAAK,aAAa,MAAM,SAAS;AACnC,aAAK,aAAa,MAAM,QAAQ;;;;;;;;;;;IAYpC,SAAS,QAAmB,OAAc;AACxC,YAAM,UAAU,OAAO,UAAU,aAC/B,UAAU,CAAC,UAAU;AACvB,UAAI,UAAU,KAAK,aAAa,QAAQ,OAAO,KAAK,OAAO,KAAK,GAAG;AACnE,UAAI,CAAC,WAAW,CAAC,KAAK,aAAa,SAAS,WAAW,SAAS;AAC9D,kBAAU,KAAK;MAChB;AAED,UAAI,UAAU,SAAS,OAAO,MAAM,GAAG;AACrC,aAAK,YAAY,MAAM;AACvB;MACD;AAGD,UAAI,CAAC,QAAQ;AACX,aAAK,cAAc,SAAS,OAAO,OAAO;AAC1C;MACD;AAED,cAAQ,SAAS;AACjB,eAAS,OAAO;AAGhB,UAAI,KAAK,aAAa,QAAQ,aAAa,GAAG;AAC5C,eAAO,UACL,KAAK,MAAM,OAAO,UAAU,KAAK,aAAa,QAAQ,QAAQ,IAC9D,KAAK,aAAa,QAAQ;AAC5B,eAAO,QAAQ,KAAK,OAAO;MAC5B;AAED,YAAM,WAAW,CAAC,YAAoB;AACpC,aAAK,OAAO,KAAK,IAAI;AACrB,aAAK,eAAe,eAAe,KAAK,OAAO,KAAK;AAEpD,aAAK,YAAY,MAAM;AAEvB,aAAK,aAAa,QAAQ;AAC1B,aAAK,eAAe,cAAc,KAAK,KAAK;AAC5C,aAAK,eAAe,aAAa,KAAK;UACpC,MAAM,UAAU,OAAO;UACvB,MAAM;UACN;UACA;UACA;QACc,CAAA;MAClB;AAEA,UACE,KAAK,WAAW,QAAQ,MAAM,KAC9B,KAAK,WAAW,iBAAiB,KAAK,QAAQ,OAAO,MAAM,GAC3D;AACA,iBAAS,IAAI;AACb;MACD;AAED,UAAI,KAAK,aAAa,QAAQ,aAAa;AACzC,iBAAS,KAAK;MACf;AAED,WAAK,eAAe,aAAa,KAAK;QACpC,MAAM,UAAU,OAAO;QACvB,QAAQ,UAAU,cAAc;QAChC,MAAM;QACN;MACY,CAAA;;IAGR,cAAc,SAAkB,OAAe,SAAiB;AACtE,UACE,CAAC,KAAK,aAAa,QAAQ,iBAC3B,KAAK,OAAO,WAAW,KACvB,SACA;AACA,aAAK,aAAa,QAAQ;AAC1B,aAAK,SAAS,CAAA;MACf,OAAM;AACL,aAAK,OAAO,OAAO,OAAO,CAAC;MAC5B;AAED,WAAK,YAAW;AAEhB,WAAK,eAAe,aAAa,KAAK;QACpC,MAAM,UAAU,OAAO;QACvB,MAAM;QACN;QACA;QACA,SAAS;MACK,CAAA;AAEhB,WAAK,eAAe,cAAc,KAAK,KAAK;;EAE/C;ACzSD,MAAK;AAAL,GAAA,SAAKqB,cAAW;AACd,IAAAA,aAAA,MAAA,IAAA;AACA,IAAAA,aAAA,UAAA,IAAA;AACA,IAAAA,aAAA,oBAAA,IAAA;AACA,IAAAA,aAAA,aAAA,IAAA;AACA,IAAAA,aAAA,YAAA,IAAA;AACA,IAAAA,aAAA,cAAA,IAAA;AACA,IAAAA,aAAA,WAAA,IAAA;AACA,IAAAA,aAAA,YAAA,IAAA;AACA,IAAAA,aAAA,cAAA,IAAA;AACA,IAAAA,aAAA,cAAA,IAAA;AACA,IAAAA,aAAA,gBAAA,IAAA;AACA,IAAAA,aAAA,kBAAA,IAAA;AACA,IAAAA,aAAA,kBAAA,IAAA;AACA,IAAAA,aAAA,gBAAA,IAAA;AACA,IAAAA,aAAA,kBAAA,IAAA;AACA,IAAAA,aAAA,kBAAA,IAAA;AACA,IAAAA,aAAA,gBAAA,IAAA;AACA,IAAAA,aAAA,cAAA,IAAA;AACA,IAAAA,aAAA,WAAA,IAAA;AACA,IAAAA,aAAA,WAAA,IAAA;AACA,IAAAA,aAAA,aAAA,IAAA;AACA,IAAAA,aAAA,aAAA,IAAA;AACA,IAAAA,aAAA,OAAA,IAAA;AACA,IAAAA,aAAA,OAAA,IAAA;AACA,IAAAA,aAAA,OAAA,IAAA;EACF,GA1BK,gBAAA,cA0BJ,CAAA,EAAA;AAED,MAAA,gBAAe;AChBD,MAAO,cAAP,MAAkB;IAK9B,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAOpD,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,aAAa;AACnD,gBAAU,OAAO;AAEjB,gBAAU,OAAO,GAAG,KAAK,eAAc,CAAE;AAEzC,UAAI,KAAK,aAAa,QAAQ,QAAQ,eAAe;AACnD,cAAMC,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,UAAU,IAAI,UAAU,IAAI,eAAe,UAAU,IAAI,WAAW;AACxE,kBAAU,YAAYA,IAAG;MAC1B;AAED,YAAM,EAAE,iBAAiB,mBAAkB,IACzC,KAAK,kBAAkB,SAAS;AAElC,eAASxB,KAAI,GAAGA,KAAI,IAAIA,MAAK;AAC3B,YAAIA,OAAM,KAAKA,KAAI,MAAM,GAAG;AAC1B,cAAI,KAAK,aAAa,QAAQ,QAAQ,eAAe;AACnD,kBAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,YAAAA,KAAI,UAAU,IACZ,UAAU,IAAI,eACd,UAAU,IAAI,WAAW;AAE3B,YAAAA,KAAI,WAAW;AACf,sBAAU,YAAYA,IAAG;UAC1B;QACF;AAED,cAAMA,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,aAAa,eAAeD,cAAY,SAAS;AACrD,QAAAC,KAAI,OAAO;AACX,QAAAA,KAAI,WAAW;AACf,kBAAU,YAAYA,IAAG;AAGzB,YACE,WAAW,gBAAgB,EAAE,WAC7B,KAAK,aAAa,QAAQ,WAC1B;AACA,UAAAA,KAAI,iBAAiB,aAAa,eAAe;AACjD,UAAAA,KAAI,iBAAiB,YAAY,kBAAkB;QACpD;MACF;AAED,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,aAAa,EAC3B,CAAC;AAEH,WAAK,oBAAoB,SAAS;AAElC,YAAM,YAAY,KAAK,aAAa,SAAS,MAC1C,QAAQ,KAAK,KAAK,EAClB,QAAQ,WAAW,KAAK,aAAa,QAAQ,aAAa,cAAc,EACxE,WAAW,IAAI,KAAK,KAAK;AAE5B,WAAK,qBAAqB,WAAW,UAAU,KAAK;AAEpD,gBACG,iBAAiB,iBAAiBD,cAAY,SAAS,IAAI,EAC3D,QAAQ,CAAC,YAAwB;AAChC,cAAM,UAAoB,CAAA;AAC1B,gBAAQ,KAAK,UAAU,IAAI,GAAG;AAE9B,YAAI,UAAU,SAAS,KAAK,aAAa,UAAU,KAAK,KAAK,GAAG;AAC9D,kBAAQ,KAAK,UAAU,IAAI,GAAG;QAC/B;AACD,YAAI,UAAU,QAAQ,KAAK,aAAa,UAAU,KAAK,KAAK,GAAG;AAC7D,kBAAQ,KAAK,UAAU,IAAI,GAAG;QAC/B;AAED,YACE,CAAC,KAAK,aAAa,SACnB,CAAC,KAAK,aAAa,QAAQ,aAC3B,KAAK,MAAM,SAAS,WAAW,KAAK,IAAI,GACxC;AACA,kBAAQ,KAAK,UAAU,IAAI,MAAM;QAClC;AACD,YAAI,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,IAAI,GAAG;AAClD,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AACD,YAAI,UAAU,OAAO,IAAI,SAAQ,GAAI,KAAK,IAAI,GAAG;AAC/C,kBAAQ,KAAK,UAAU,IAAI,KAAK;QACjC;AACD,YAAI,UAAU,YAAY,KAAK,UAAU,YAAY,GAAG;AACtD,kBAAQ,KAAK,UAAU,IAAI,OAAO;QACnC;AAED,aAAK,iBAAiB,WAAW,OAAO;AAExC,cAAM,KAAK,MAAM,WAAW,SAAS,OAAO;AAE5C,gBAAQ,UAAU,OAAO,GAAG,QAAQ,SAAS;AAC7C,gBAAQ,UAAU,IAAI,GAAG,OAAO;AAChC,gBAAQ,aAAa,cAAc,UAAU,gBAAe,CAAE;AAC9D,gBAAQ,aAAa,YAAY,GAAG,UAAU,IAAI,EAAE;AACpD,gBAAQ,YAAY,UAAU,MAAM,QAAW;UAC7C,KAAK;SACN,EAAE;AACH,gBAAQ,YAAY,UAAU,OAAO,eAAe;AAEpD,kBAAU,WAAW,GAAG,KAAK,IAAI;MACnC,CAAC;;IAGG,iBAAiB,WAAqB,SAAiB;AAC7D,YAAM,aAAa,KAAK,MAAM,OAAO,CAAC;AACtC,YAAM,WAAW,KAAK,MAAM,OAAO,CAAC;AAEpC,UAAI,KAAK,aAAa,QAAQ,WAAW;AACvC,YAAI,UAAU,UAAU,YAAY,UAAU,KAAK,IAAI,GAAG;AACxD,kBAAQ,KAAK,UAAU,IAAI,OAAO;QACnC;AAED,YAAI,UAAU,OAAO,YAAY,KAAK,IAAI,GAAG;AAC3C,kBAAQ,KAAK,UAAU,IAAI,UAAU;QACtC;AAED,YAAI,UAAU,OAAO,UAAU,KAAK,IAAI,GAAG;AACzC,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;MACF;;IAGK,kBAAkB,WAAsB;AAC9C,YAAM,kBAAkB,CAACP,OAAiB;AACxC,cAAM,gBAAgBA,IAAG;AAGzB,YACE,KAAK,MAAM,OAAO,WAAW,KAC7B,cAAc,UAAU,SAAS,UAAU,IAAI,QAAQ;AAEvD;AAGF,cAAM,UAAU,CAAC,GAAG,UAAU,iBAAiB,MAAM,CAAC;AAGtD,cAAM,iBAAiB,cAAc,aAAa,YAAY;AAG9D,cAAM,YAAY,SAAS,WAAW,gBAAgB;UACpD,QAAQ;QACT,CAAA;AAGD,cAAM,WAAW,QAAQ,UACvB,CAACA,OAAMA,GAAE,aAAa,YAAY,MAAM,cAAc;AAIxD,cAAM,aAAa,KAAK,MAAM,OAAO,CAAC;AACtC,cAAM,WAAW,KAAK,MAAM,OAAO,CAAC;AAGpC,cAAM,sBAAsB,WAAW,gBAAe;AACtD,cAAM,kBAAkB,QAAQ,UAC9B,CAACA,OAAMA,GAAE,aAAa,YAAY,MAAM,mBAAmB;AAE7D,cAAM,oBAAoB,QAAQ,eAAe;AAGjD,YAAI,CAAC,UAAU,OAAO,YAAY,KAAK,IAAI,GAAG;AAC5C,wBAAc,UAAU,OAAO,UAAU,IAAI,UAAU;QACxD;AAED,YAAI,CAAC,UAAU,OAAO,UAAU,KAAK,IAAI,GAAG;AAC1C,wBAAc,UAAU,OAAO,UAAU,IAAI,QAAQ;QACtD;AAOD,YAAI;AAEJ,YAAI,UAAU,SAAS,UAAU,GAAG;AAClC,wBAAc,UAAU,IAAI,UAAU,IAAI,UAAU;AACpD,6BAAmB,UAAU,OAAO,UAAU,IAAI,UAAU;AAC5D,6BAAmB,UAAU,IAAI,UAAU,IAAI,QAAQ;AACvD,mBAAS,CAACf,IAAG,UAAU,QAAQ,YAAY,QAAQ;QACpD,OAAM;AACL,wBAAc,UAAU,IAAI,UAAU,IAAI,QAAQ;AAClD,6BAAmB,UAAU,OAAO,UAAU,IAAI,QAAQ;AAC1D,6BAAmB,UAAU,IAAI,UAAU,IAAI,UAAU;AACzD,mBAAS,CAACA,IAAG,UAAU,QAAQ,YAAY,QAAQ;QACpD;AAED,gBAAQ,OAAO,MAAM,EAAE,QAAQ,CAACe,OAAK;AACnC,UAAAA,GAAE,UAAU,IAAI,UAAU,IAAI,OAAO;QACvC,CAAC;MACH;AAEA,YAAM,qBAAqB,CAACA,OAAiB;AAE3C,cAAM,UAAU,CAAC,GAAG,UAAU,iBAAiB,MAAM,CAAC;AAItD,YAAI,KAAK,MAAM,OAAO,WAAW;AAC/B,kBAAQ,QAAQ,CAACA,OAAMA,GAAE,UAAU,OAAO,UAAU,IAAI,OAAO,CAAC;AAGlE,YAAI,KAAK,MAAM,OAAO,WAAW;AAAG;AAEpC,cAAM,gBAAgBA,IAAG;AAGzB,cAAM,YAAY,IAAI,SAAS,cAAc,aAAa,YAAY,CAAC;AAGvE,YAAI,CAAC,UAAU,OAAO,KAAK,MAAM,OAAO,CAAC,GAAG,KAAK,IAAI,GAAG;AACtD,wBAAc,UAAU,OAAO,UAAU,IAAI,UAAU;QACxD;AAED,YAAI,CAAC,UAAU,OAAO,KAAK,MAAM,OAAO,CAAC,GAAG,KAAK,IAAI,GAAG;AACtD,wBAAc,UAAU,OAAO,UAAU,IAAI,QAAQ;QACtD;MACH;AAEA,aAAO,EAAE,iBAAiB,mBAAkB;;IAGtC,oBAAoB,WAAkB;AAC5C,UAAI,KAAK,aAAa,gBAAgB;AAAY;AAClD,YAAM,CAAC,UAAU,UAAU,IAAI,IAAI,UAAU,cAC1C,uBAAuB,UAAU,IAAI,cAAc,EAAE,CAAC,EACtD,qBAAqB,KAAK;AAC7B,eAAS,aACP,UAAU,IAAI,eACd,KAAK,aAAa,SAAS,OACzB,KAAK,aAAa,QAAQ,aAAa,mBAAmB,CAC3D;AAEH,WAAK,aAAa,QAAQ,QAAQ,WAAW,QACzC,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AAEjD,WAAK,WAAW,QACd,KAAK,aAAa,SAAS,MAAM,WAAW,IAAI,KAAK,KAAK,GAC1D,KAAK,KAAK,IAER,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AACjD,WAAK,WAAW,QACd,KAAK,aAAa,SAAS,MAAM,WAAW,GAAG,KAAK,KAAK,GACzD,KAAK,KAAK,IAER,KAAK,UAAU,OAAO,UAAU,IAAI,QAAQ,IAC5C,KAAK,UAAU,IAAI,UAAU,IAAI,QAAQ;;;;;;IAOvC,iBAAc;AACpB,YAAM,YAAY,KAAK,aAAa,SAAS,MAC1C,QAAQ,WAAW,KAAK,aAAa,QAAQ,aAAa,cAAc,EACxE,QAAQ,KAAK,IAAI;AACpB,YAAM,MAAM,CAAA;AACZ,eAAS,cAAc,KAAK;AAE5B,UAAI,KAAK,aAAa,QAAQ,QAAQ,eAAe;AACnD,cAAM,iBAAiB,SAAS,cAAc,KAAK;AACnD,uBAAe,UAAU,IACvB,UAAU,IAAI,eACd,UAAU,IAAI,WAAW;AAE3B,uBAAe,YAAY;AAC3B,YAAI,KAAK,cAAc;MACxB;AAED,eAAShB,KAAI,GAAGA,KAAI,GAAGA,MAAK;AAC1B,cAAM,iBAAiB,SAAS,cAAc,KAAK;AACnD,uBAAe,UAAU,IACvB,UAAU,IAAI,cACd,UAAU,IAAI,WAAW;AAE3B,YAAI,UAAU,UAAU,OAAO,EAAE,SAAS,QAAO,CAAE;AACnD,YAAI,KAAK,aAAa,QAAQ,aAAa,mBAAmB;AAC5D,oBAAU,QAAQ,UAChB,GACA,KAAK,aAAa,QAAQ,aAAa,gBAAgB;AAE3D,uBAAe,YAAY;AAC3B,uBAAe,YAAY,UAAU,OAAO,EAAE,SAAS,OAAM,CAAE;AAC/D,kBAAU,WAAW,GAAG,KAAK,IAAI;AACjC,YAAI,KAAK,cAAc;MACxB;AAED,aAAO;;IAGD,qBAAqB,WAAwB,WAAmB;AACtE,OAAC,GAAG,UAAU,iBAAiB,IAAI,UAAU,IAAI,aAAa,EAAE,CAAC,EAC9D,OAAO,CAACgB,OAAmBA,GAAE,cAAc,GAAG,EAC9C,QAAQ,CAAC,YAAwB;AAChC,gBAAQ,YAAY,GAAG,UAAU,IAAI;AACrC,kBAAU,WAAW,GAAG,KAAK,IAAI;MACnC,CAAC;;EAEN;ACvUa,MAAO,eAAP,MAAmB;IAK/B,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAMpD,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,eAAe;AAErD,eAAShB,KAAI,GAAGA,KAAI,IAAIA,MAAK;AAC3B,cAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,WAAW;AACvD,kBAAU,YAAYC,IAAG;MAC1B;AAED,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,eAAe,EAC7B,CAAC;AAEH,UAAI,KAAK,aAAa,gBAAgB,UAAU;AAC9C,cAAM,CAAC,UAAU,UAAU,IAAI,IAAI,UAAU,cAC1C,uBAAuB,UAAU,IAAI,cAAc,EAAE,CAAC,EACtD,qBAAqB,KAAK;AAE7B,iBAAS,aACP,UAAU,IAAI,iBACd,KAAK,aAAa,SAAS,OAAO,EAAE,MAAM,UAAS,CAAE,CAAC;AAGxD,aAAK,aAAa,QAAQ,QAAQ,WAAW,OACzC,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AAEjD,aAAK,WAAW,QACd,KAAK,aAAa,SAAS,MAAM,WAAW,IAAI,KAAK,IAAI,GACzD,KAAK,IAAI,IAEP,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AAEjD,aAAK,WAAW,QACd,KAAK,aAAa,SAAS,MAAM,WAAW,GAAG,KAAK,IAAI,GACxD,KAAK,IAAI,IAEP,KAAK,UAAU,OAAO,UAAU,IAAI,QAAQ,IAC5C,KAAK,UAAU,IAAI,UAAU,IAAI,QAAQ;MAC9C;AAED,YAAM,YAAY,KAAK,aAAa,SAAS,MAAM,QAAQ,KAAK,IAAI;AAEpE,gBACG,iBAAiB,iBAAiBD,cAAY,WAAW,IAAI,EAC7D,QAAQ,CAAC,gBAA6B,UAAS;AAC9C,cAAM,UAAU,CAAA;AAChB,gBAAQ,KAAK,UAAU,IAAI,KAAK;AAEhC,YACE,CAAC,KAAK,aAAa,SACnB,KAAK,MAAM,SAAS,WAAW,KAAK,KAAK,GACzC;AACA,kBAAQ,KAAK,UAAU,IAAI,MAAM;QAClC;AACD,YAAI,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,KAAK,GAAG;AACnD,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AAED,cAAM,KAAK,OAAO,WAAW,SAAS,cAAc;AAEpD,uBAAe,UAAU,OAAO,GAAG,eAAe,SAAS;AAC3D,uBAAe,UAAU,IAAI,GAAG,OAAO;AACvC,uBAAe,aAAa,cAAc,GAAG,KAAK,EAAE;AACpD,uBAAe,YAAY,GAAG,UAAU,OAAO,EAAE,OAAO,QAAO,CAAE,CAAC;AAClE,kBAAU,WAAW,GAAG,KAAK,KAAK;MACpC,CAAC;;EAEN;AC7Fa,MAAO,cAAP,MAAkB;IAO9B,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAOpD,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,cAAc;AAEpD,eAASvB,KAAI,GAAGA,KAAI,IAAIA,MAAK;AAC3B,cAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,UAAU;AACtD,kBAAU,YAAYC,IAAG;MAC1B;AAED,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,WAAK,aAAa,KAAK,aAAa,SAAS,MAAM,WACjD,IACA,KAAK,IAAI;AAEX,WAAK,WAAW,KAAK,aAAa,SAAS,MAAM,WAAW,IAAI,KAAK,IAAI;AAEzE,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,cAAc,EAC5B,CAAC;AAEH,UAAI,KAAK,aAAa,gBAAgB,SAAS;AAC7C,cAAM,CAAC,UAAU,UAAU,IAAI,IAAI,UAAU,cAC1C,uBAAuB,UAAU,IAAI,cAAc,EAAE,CAAC,EACtD,qBAAqB,KAAK;AAE7B,iBAAS,aACP,UAAU,IAAI,gBACd,GAAG,KAAK,WAAW,OAAO,EAAE,MAAM,UAAS,CAAE,CAAC,IAAI,KAAK,SAAS,OAAO;UACrE,MAAM;SACP,CAAC,EAAE;AAGN,aAAK,aAAa,QAAQ,QAAQ,WAAW,UACzC,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AAEjD,aAAK,WAAW,QAAQ,KAAK,YAAY,KAAK,IAAI,IAC9C,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AACjD,aAAK,WAAW,QAAQ,KAAK,UAAU,KAAK,IAAI,IAC5C,KAAK,UAAU,OAAO,UAAU,IAAI,QAAQ,IAC5C,KAAK,UAAU,IAAI,UAAU,IAAI,QAAQ;MAC9C;AAED,YAAM,YAAY,KAAK,aAAa,SAAS,MAC1C,QAAQ,KAAK,IAAI,EACjB,WAAW,IAAI,KAAK,IAAI;AAE3B,gBACG,iBAAiB,iBAAiBD,cAAY,UAAU,IAAI,EAC5D,QAAQ,CAAC,mBAA+B;AACvC,cAAM,UAAU,CAAA;AAChB,gBAAQ,KAAK,UAAU,IAAI,IAAI;AAE/B,YACE,CAAC,KAAK,aAAa,SACnB,KAAK,MAAM,SAAS,WAAW,KAAK,IAAI,GACxC;AACA,kBAAQ,KAAK,UAAU,IAAI,MAAM;QAClC;AACD,YAAI,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,IAAI,GAAG;AAClD,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AAED,cAAM,KAAK,MAAM,WAAW,SAAS,cAAc;AAEnD,uBAAe,UAAU,OAAO,GAAG,eAAe,SAAS;AAC3D,uBAAe,UAAU,IAAI,GAAG,OAAO;AACvC,uBAAe,aAAa,cAAc,GAAG,UAAU,IAAI,EAAE;AAC7D,uBAAe,YAAY,UAAU,OAAO,EAAE,MAAM,UAAS,CAAE;AAE/D,kBAAU,WAAW,GAAG,KAAK,IAAI;MACnC,CAAC;;EAEN;ACpGa,MAAO,gBAAP,MAAoB;IAOhC,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAOpD,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,gBAAgB;AAEtD,eAASvB,KAAI,GAAGA,KAAI,IAAIA,MAAK;AAC3B,cAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,YAAY;AACxD,kBAAU,YAAYC,IAAG;MAC1B;AACD,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,YAAM,CAAC3B,QAAOC,IAAG,IAAI,MAAM,gBACzB,KACA,KAAK,aAAa,SAAS,IAAI;AAEjC,WAAK,eAAe,KAAK,aAAa,SAAS,MAAM,QAAQ,KAAK,IAAI;AACtE,WAAK,aAAa,OAAOD;AACzB,WAAK,aAAa,KAAK,aAAa,SAAS,MAAM,QAAQ,KAAK,IAAI;AACpE,WAAK,WAAW,OAAOC;AAEvB,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,gBAAgB,EAC9B,CAAC;AAEH,YAAM,CAAC,UAAU,UAAU,IAAI,IAAI,UAAU,cAC1C,uBAAuB,UAAU,IAAI,cAAc,EAAE,CAAC,EACtD,qBAAqB,KAAK;AAE7B,YAAM,oBAAoB,KAAK,WAAW,QACxC,KAAK,cACL,KAAK,IAAI;AAEX,UAAI,KAAK,aAAa,gBAAgB,WAAW;AAC/C,iBAAS,aACP,UAAU,IAAI,kBACd,GAAG,KAAK,aAAa,OAAO;UAC1B,MAAM;QACP,CAAA,CAAC,IAAI,KAAK,WAAW,OAAO,EAAE,MAAM,UAAS,CAAE,CAAC,EAAE;AAGrD,4BACI,SAAS,UAAU,OAAO,UAAU,IAAI,QAAQ,IAChD,SAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AACjD,aAAK,WAAW,QAAQ,KAAK,YAAY,KAAK,IAAI,IAC9C,KAAK,UAAU,OAAO,UAAU,IAAI,QAAQ,IAC5C,KAAK,UAAU,IAAI,UAAU,IAAI,QAAQ;MAC9C;AAED,YAAM,cAAc,KAAK,MAAM,OAAO,IAAI,CAACO,OAAMA,GAAE,IAAI;AAEvD,gBACG,iBAAiB,iBAAiBkB,cAAY,YAAY,IAAI,EAC9D,QAAQ,CAAC,gBAA6B,UAAS;AAC9C,YAAI,UAAU,GAAG;AACf,yBAAe,UAAU,IAAI,UAAU,IAAI,GAAG;AAC9C,cAAI,KAAK,aAAa,OAAO,KAAK,GAAG;AACnC,2BAAe,cAAc;AAC7B,qBAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AAC7C,2BAAe,UAAU,IAAI,UAAU,IAAI,QAAQ;AACnD,2BAAe,aAAa,cAAc,EAAE;UAC7C;AACD;QACD;AAED,cAAM,UAAU,CAAA;AAChB,gBAAQ,KAAK,UAAU,IAAI,MAAM;AACjC,cAAM,kBAAkB,KAAK,aAAa;AAC1C,cAAM,gBAAgB,KAAK,aAAa,OAAO;AAE/C,YACE,CAAC,KAAK,aAAa,SACnB,YAAY,OAAO,CAAClB,OAAMA,MAAK,mBAAmBA,MAAK,aAAa,EACjE,SAAS,GACZ;AACA,kBAAQ,KAAK,UAAU,IAAI,MAAM;QAClC;AACD,YACE,CAAC,qBACD,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,MAAM,WAAW,IAAI,KAAK,IAAI,GAChD,KAAK,IAAI,GAEX;AACA,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AAED,cAAM,UAAU,KAAK,cAAc,SAAS,cAAc;AAE1D,uBAAe,UAAU,OAAO,GAAG,eAAe,SAAS;AAC3D,uBAAe,UAAU,IAAI,GAAG,OAAO;AACvC,uBAAe,aAAa,cAAc,GAAG,KAAK,aAAa,IAAI,EAAE;AACrE,uBAAe,YAAY,GAAG,KAAK,aAAa,OAAO;UACrD,MAAM;QACP,CAAA,CAAC;AAEF,aAAK,aAAa,WAAW,IAAI,KAAK,IAAI;MAC5C,CAAC;;EAEN;AC3Ha,MAAO,cAAP,MAAkB;IAM9B,cAAA;AALQ,WAAY,eAAG;AAMrB,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAOpD,UAAU,SAA2C;AACnD,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,cAAc;AAEpD,gBAAU,OAAO,GAAG,KAAK,MAAM,OAAO,CAAC;AAEvC,aAAO;;;;;;;IAQT,QAAQ,QAAmB;AACzB,YAAM,WACJ,OAAO,uBAAuB,UAAU,IAAI,cAAc,EAAE,CAAC;AAG/D,UAAI,aAAa,KAAK,MAAM,YAAY;AACxC,UAAI,CAAC,cAAc,KAAK,aAAa,QAAQ;AAC3C,qBAAa,KAAK,aAAa,SAAS;AAE1C,eACG,iBAAiB,WAAW,EAC5B,QAAQ,CAAC,YAAY,QAAQ,UAAU,OAAO,UAAU,IAAI,QAAQ,CAAC;AAExE,UAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,OAAO;AACtD,YACE,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,SAAS,MAAM,WAAW,GAAG,KAAK,KAAK,GACzD,KAAK,KAAK,GAEZ;AACA,mBACG,cAAc,gBAAgBkB,cAAY,cAAc,GAAG,EAC3D,UAAU,IAAI,UAAU,IAAI,QAAQ;QACxC;AAED,YACE,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,SAAS,MAAM,WAAW,IAAI,KAAK,KAAK,GAC1D,KAAK,KAAK,GAEZ;AACA,mBACG,cAAc,gBAAgBA,cAAY,cAAc,GAAG,EAC3D,UAAU,IAAI,UAAU,IAAI,QAAQ;QACxC;AAED,iBAAS,cACP,wBAAwB,KAAK,KAAK,GAAG,EACrC,YAAY,aACV,WAAW,kBACT,KAAK,aAAa,QAAQ,aAAa,SAAS,IAElD;MACL;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAAS;AACxD,YACE,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,SAAS,MAAM,WAAW,GAAG,KAAK,OAAO,GAC3D,KAAK,OAAO,GAEd;AACA,mBACG,cAAc,gBAAgBA,cAAY,gBAAgB,GAAG,EAC7D,UAAU,IAAI,UAAU,IAAI,QAAQ;QACxC;AAED,YACE,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,SAAS,MAAM,WAAW,IAAI,KAAK,OAAO,GAC5D,KAAK,OAAO,GAEd;AACA,mBACG,cAAc,gBAAgBA,cAAY,gBAAgB,GAAG,EAC7D,UAAU,IAAI,UAAU,IAAI,QAAQ;QACxC;AACD,iBAAS,cACP,wBAAwB,KAAK,OAAO,GAAG,EACvC,YAAY,aAAa,WAAW,mBAAmB;MAC1D;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAAS;AACxD,YACE,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,SAAS,MAAM,WAAW,GAAG,KAAK,OAAO,GAC3D,KAAK,OAAO,GAEd;AACA,mBACG,cAAc,gBAAgBA,cAAY,gBAAgB,GAAG,EAC7D,UAAU,IAAI,UAAU,IAAI,QAAQ;QACxC;AAED,YACE,CAAC,KAAK,WAAW,QACf,KAAK,aAAa,SAAS,MAAM,WAAW,IAAI,KAAK,OAAO,GAC5D,KAAK,OAAO,GAEd;AACA,mBACG,cAAc,gBAAgBA,cAAY,gBAAgB,GAAG,EAC7D,UAAU,IAAI,UAAU,IAAI,QAAQ;QACxC;AACD,iBAAS,cACP,wBAAwB,KAAK,OAAO,GAAG,EACvC,YAAY,aAAa,WAAW,mBAAmB;MAC1D;AAED,UAAI,KAAK,aAAa,cAAc;AAClC,cAAM,SAAS,SAAS,cACtB,gBAAgBA,cAAY,cAAc,GAAG;AAG/C,cAAM,gBAAgB,cAAc,KAAK,aAAa,UAAU;AAEhE,eAAO,YAAY,aAAa,SAAQ;AAExC,YACE,CAAC,KAAK,WAAW,QACf,aAAa,WACX,aAAa,SAAS,KAAK,MAAM,IACjC,KAAK,KAAK,CACX,GAEH;AACA,iBAAO,UAAU,IAAI,UAAU,IAAI,QAAQ;QAC5C,OAAM;AACL,iBAAO,UAAU,OAAO,UAAU,IAAI,QAAQ;QAC/C;MACF;AAED,eAAS,MAAM,oBAAoB,IAAI,KAAK,YAAY;;;;;;IAOlD,MAAM,SAA2C;AACvD,WAAK,eAAe;AACpB,YAAME,OAAM,CAAA,GACV,SAAS,CAAA,GACTC,UAAS,CAAA,GACT,YAAY,SAAS,cAAc,KAAK,GACxC,SAAS,QAAQ,KAAK,aAAa,QAAQ,QAAQ,MAAM,EAAE,GAC3D,WAAW,QAAQ,KAAK,aAAa,QAAQ,QAAQ,MAAM,IAAI;AAEjE,gBAAU,UAAU,IAAI,UAAU,IAAI,WAAW,UAAU,IAAI,WAAW;AAC1E,YAAM,iBAA8B,UAAU,UAAU,IAAI;AAC5D,qBAAe,YAAY;AAE3B,YAAM,eAAe,CAAC,QAAQ,UAAsB;AAClD,eAAO,QACU,eAAe,UAAU,IAAI,IAC7B,UAAU,UAAU,IAAI;MAC3C;AAEA,UAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,OAAO;AACtD,YAAI,aAAa,SAAS,cAAc,KAAK;AAC7C,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,aAAa;AAEtD,mBAAW,aAAa,eAAeH,cAAY,cAAc;AACjE,mBAAW,YAAY,OAAO,UAAU,IAAI,CAAC;AAC7C,QAAAE,KAAI,KAAK,UAAU;AAEnB,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,QAAQ;AAEjD,mBAAW,aAAa,eAAeF,cAAY,SAAS;AAC5D,mBAAW,aAAa,uBAAuB,KAAK,KAAK;AACzD,eAAO,KAAK,UAAU;AAEtB,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,aAAa;AAEtD,mBAAW,aAAa,eAAeA,cAAY,cAAc;AACjE,mBAAW,YAAY,SAAS,UAAU,IAAI,CAAC;AAC/C,QAAAG,QAAO,KAAK,UAAU;AACtB,aAAK,gBAAgB;MACtB;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAAS;AACxD,aAAK,gBAAgB;AACrB,YAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,OAAO;AACtD,UAAAD,KAAI,KAAK,aAAY,CAAE;AACvB,iBAAO,KAAK,aAAa,IAAI,CAAC;AAC9B,UAAAC,QAAO,KAAK,aAAY,CAAE;AAC1B,eAAK,gBAAgB;QACtB;AACD,YAAI,aAAa,SAAS,cAAc,KAAK;AAC7C,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,eAAe;AAExD,mBAAW,aAAa,eAAeH,cAAY,gBAAgB;AACnE,mBAAW,YAAY,OAAO,UAAU,IAAI,CAAC;AAC7C,QAAAE,KAAI,KAAK,UAAU;AAEnB,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,UAAU;AAEnD,mBAAW,aAAa,eAAeF,cAAY,WAAW;AAC9D,mBAAW,aAAa,uBAAuB,KAAK,OAAO;AAC3D,eAAO,KAAK,UAAU;AAEtB,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,eAAe;AAExD,mBAAW,aAAa,eAAeA,cAAY,gBAAgB;AACnE,mBAAW,YAAY,SAAS,UAAU,IAAI,CAAC;AAC/C,QAAAG,QAAO,KAAK,UAAU;MACvB;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAAS;AACxD,aAAK,gBAAgB;AACrB,YAAI,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAAS;AACxD,UAAAD,KAAI,KAAK,aAAY,CAAE;AACvB,iBAAO,KAAK,aAAa,IAAI,CAAC;AAC9B,UAAAC,QAAO,KAAK,aAAY,CAAE;AAC1B,eAAK,gBAAgB;QACtB;AACD,YAAI,aAAa,SAAS,cAAc,KAAK;AAC7C,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,eAAe;AAExD,mBAAW,aAAa,eAAeH,cAAY,gBAAgB;AACnE,mBAAW,YAAY,OAAO,UAAU,IAAI,CAAC;AAC7C,QAAAE,KAAI,KAAK,UAAU;AAEnB,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,UAAU;AAEnD,mBAAW,aAAa,eAAeF,cAAY,WAAW;AAC9D,mBAAW,aAAa,uBAAuB,KAAK,OAAO;AAC3D,eAAO,KAAK,UAAU;AAEtB,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,WAAW;AACtB,mBAAW,aACT,SACA,KAAK,aAAa,QAAQ,aAAa,eAAe;AAExD,mBAAW,aAAa,eAAeA,cAAY,gBAAgB;AACnE,mBAAW,YAAY,SAAS,UAAU,IAAI,CAAC;AAC/C,QAAAG,QAAO,KAAK,UAAU;MACvB;AAED,UAAI,KAAK,aAAa,cAAc;AAClC,aAAK,gBAAgB;AACrB,YAAI,aAAa,aAAY;AAC7B,QAAAD,KAAI,KAAK,UAAU;AAEnB,cAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,eAAO,WAAW;AAClB,eAAO,aAAa,QAAQ,QAAQ;AACpC,eAAO,aACL,SACA,KAAK,aAAa,QAAQ,aAAa,cAAc;AAEvD,eAAO,aAAa,eAAeF,cAAY,cAAc;AAC7D,eAAO,aAAa,YAAY,IAAI;AACpC,YAAI,UAAU,IAAI,eAAe,SAAS,GAAG,GAAG;AAE9C,iBAAO,UAAU,IAAI,GAAG,UAAU,IAAI,eAAe,MAAM,GAAG,CAAC;QAChE;AAAM,iBAAO,UAAU,IAAI,UAAU,IAAI,cAAc;AAExD,qBAAa,SAAS,cAAc,KAAK;AACzC,mBAAW,UAAU,IAAI,UAAU,IAAI,WAAW;AAClD,mBAAW,YAAY,MAAM;AAC7B,eAAO,KAAK,UAAU;AAEtB,qBAAa,aAAY;AACzB,QAAAG,QAAO,KAAK,UAAU;MACvB;AAED,WAAK,eAAe,KAAK,aAAa,KAAI;AAE1C,aAAO,CAAC,GAAGD,MAAK,GAAG,QAAQ,GAAGC,OAAM;;EAEvC;AChUa,MAAO,cAAP,MAAkB;IAK9B,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,aAAa,eAAe,OAAO,UAAU;AAClD,WAAK,QAAQ,eAAe,OAAO,KAAK;;;;;;IAM1C,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,aAAa;AAEnD,eAAS1B,KAAI,GAAGA,MAAK,KAAK,aAAa,eAAe,KAAK,KAAKA,MAAK;AACnE,cAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,UAAU;AACtD,kBAAU,YAAYC,IAAG;MAC1B;AAED,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,aAAa,EAC3B,CAAC;AAEH,YAAM,YAAY,KAAK,aAAa,SAAS,MAAM,QAAQ,KAAK,IAAI;AAEpE,gBACG,iBAAiB,iBAAiBD,cAAY,UAAU,IAAI,EAC5D,QAAQ,CAAC,mBAA+B;AACvC,cAAM,UAAU,CAAA;AAChB,gBAAQ,KAAK,UAAU,IAAI,IAAI;AAE/B,YAAI,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,KAAK,GAAG;AACnD,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AAED,cAAM,KAAK,OAAO,WAAW,SAAS,cAAc;AAEpD,uBAAe,UAAU,OAAO,GAAG,eAAe,SAAS;AAC3D,uBAAe,UAAU,IAAI,GAAG,OAAO;AACvC,uBAAe,aAAa,cAAc,GAAG,UAAU,KAAK,EAAE;AAC9D,uBAAe,YAAY,UAAU,kBACnC,KAAK,aAAa,QAAQ,aAAa,SAAS;AAElD,kBAAU,WAAW,GAAG,KAAK,KAAK;MACpC,CAAC;;EAEN;AC7Da,MAAO,gBAAP,MAAoB;IAIhC,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAMpD,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,eAAe;AAErD,YAAM,OACJ,KAAK,aAAa,QAAQ,aAAa,IACnC,IACA,KAAK,aAAa,QAAQ;AAChC,eAASvB,KAAI,GAAGA,KAAI,KAAK,MAAMA,MAAK;AAClC,cAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,YAAY;AACxD,kBAAU,YAAYC,IAAG;MAC1B;AAED,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,eAAe,EAC7B,CAAC;AAEH,YAAM,YAAY,KAAK,aAAa,SAAS,MAAM,QAAQ,KAAK,KAAK;AACrE,YAAM,OACJ,KAAK,aAAa,QAAQ,aAAa,IACnC,IACA,KAAK,aAAa,QAAQ;AAEhC,gBACG,iBAAiB,iBAAiBD,cAAY,YAAY,IAAI,EAC9D,QAAQ,CAAC,mBAA+B;AACvC,cAAM,UAAU,CAAA;AAChB,gBAAQ,KAAK,UAAU,IAAI,MAAM;AAEjC,YAAI,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,OAAO,GAAG;AACrD,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AAED,cAAM,KAAK,SAAS,WAAW,SAAS,cAAc;AAEtD,uBAAe,UAAU,OAAO,GAAG,eAAe,SAAS;AAC3D,uBAAe,UAAU,IAAI,GAAG,OAAO;AACvC,uBAAe,aAAa,cAAc,GAAG,UAAU,OAAO,EAAE;AAChE,uBAAe,YAAY,UAAU;AACrC,kBAAU,WAAW,MAAM,KAAK,OAAO;MACzC,CAAC;;EAEN;AChEa,MAAO,gBAAP,MAAoB;IAIhC,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,aAAa,eAAe,OAAO,UAAU;;;;;;IAMpD,YAAS;AACP,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,UAAU,IAAI,UAAU,IAAI,eAAe;AAErD,eAASvB,KAAI,GAAGA,KAAI,IAAIA,MAAK;AAC3B,cAAMwB,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,aAAa,eAAeD,cAAY,YAAY;AACxD,QAAAC,KAAI,WAAW;AACf,kBAAU,YAAYA,IAAG;MAC1B;AAED,aAAO;;;;;;IAOT,QAAQ,QAAqB,OAAY;AACvC,YAAM,YAAY,OAAO,uBACvB,UAAU,IAAI,eAAe,EAC7B,CAAC;AAEH,YAAM,YAAY,KAAK,aAAa,SAAS,MAAM,QAAQ,KAAK,OAAO;AAEvE,gBACG,iBAAiB,iBAAiBD,cAAY,YAAY,IAAI,EAC9D,QAAQ,CAAC,mBAA+B;AACvC,cAAM,UAAU,CAAA;AAChB,gBAAQ,KAAK,UAAU,IAAI,MAAM;AAEjC,YAAI,CAAC,KAAK,WAAW,QAAQ,WAAW,KAAK,OAAO,GAAG;AACrD,kBAAQ,KAAK,UAAU,IAAI,QAAQ;QACpC;AAED,cAAM,KAAK,SAAS,WAAW,SAAS,cAAc;AAEtD,uBAAe,UAAU,OAAO,GAAG,eAAe,SAAS;AAC3D,uBAAe,UAAU,IAAI,GAAG,OAAO;AACvC,uBAAe,aAAa,cAAc,GAAG,UAAU,OAAO,EAAE;AAChE,uBAAe,YAAY,UAAU;AACrC,kBAAU,WAAW,GAAG,KAAK,OAAO;MACtC,CAAC;;EAEN;AC9Da,MAAO,WAAP,MAAO,UAAQ;;;;;IAK3B,OAAO,OAAO,QAAmB;AAC/B,UAAI,OAAO,UAAU,SAAS,UAAU,IAAI,IAAI,GAAG;AACjD,aAAK,KAAK,MAAM;MACjB,OAAM;AACL,aAAK,KAAK,MAAM;MACjB;;;;;;IAOH,OAAO,gBAAgB,QAAmB;AACxC,aAAO,UAAU,OAAO,UAAU,IAAI,UAAU;AAChD,aAAO,UAAU,IAAI,UAAU,IAAI,UAAU,UAAU,IAAI,IAAI;AAC/D,aAAO,MAAM,SAAS;;;;;;IAOxB,OAAO,KAAK,QAAmB;AAC7B,UACE,OAAO,UAAU,SAAS,UAAU,IAAI,UAAU,KAClD,OAAO,UAAU,SAAS,UAAU,IAAI,IAAI;AAE5C;AAGF,YAAM,WAAW,MAAK;AACpB,kBAAS,gBAAgB,MAAM;MAEjC;AAEA,aAAO,MAAM,SAAS;AACtB,aAAO,UAAU,OAAO,UAAU,IAAI,QAAQ;AAC9C,aAAO,UAAU,IAAI,UAAU,IAAI,UAAU;AAGnC,iBACR,UACA,KAAK,iCAAiC,MAAM,CAAC;AAE/C,aAAO,MAAM,SAAS,GAAG,OAAO,YAAY;;;;;;IAO9C,OAAO,gBAAgB,QAAmB;AACxC,UAAI,CAAC;AAAQ;AACb,aAAO,UAAU,OAAO,UAAU,IAAI,YAAY,UAAU,IAAI,IAAI;AACpE,aAAO,UAAU,IAAI,UAAU,IAAI,QAAQ;;;;;;IAO7C,OAAO,KAAK,QAAmB;AAC7B,UACE,OAAO,UAAU,SAAS,UAAU,IAAI,UAAU,KAClD,CAAC,OAAO,UAAU,SAAS,UAAU,IAAI,IAAI;AAE7C;AAGF,YAAM,WAAW,MAAK;AACpB,kBAAS,gBAAgB,MAAM;MAEjC;AAEA,aAAO,MAAM,SAAS,GAAG,OAAO,sBAAqB,EAAG,QAAQ,CAAC;AAEjE,YAAM,SAAS,CAAC,YAAY,QAAQ;AAEpC,aAAO,MAAM;AAEb,aAAO,UAAU,OAAO,UAAU,IAAI,UAAU,UAAU,IAAI,IAAI;AAClE,aAAO,UAAU,IAAI,UAAU,IAAI,UAAU;AAC7C,aAAO,MAAM,SAAS;AAGZ,iBACR,UACA,KAAK,iCAAiC,MAAM,CAAC;;;AASlC,WAAA,mCAAmC,CAAC,YAAwB;AACzE,QAAI,CAAC,SAAS;AACZ,aAAO;IACR;AAGD,QAAI,EAAE,oBAAoB,gBAAe,IACvC,OAAO,iBAAiB,OAAO;AAEjC,UAAM,0BAA0B,OAAO,WAAW,kBAAkB;AACpE,UAAM,uBAAuB,OAAO,WAAW,eAAe;AAG9D,QAAI,CAAC,2BAA2B,CAAC,sBAAsB;AACrD,aAAO;IACR;AAGD,yBAAqB,mBAAmB,MAAM,GAAG,EAAE,CAAC;AACpD,sBAAkB,gBAAgB,MAAM,GAAG,EAAE,CAAC;AAE9C,YACG,OAAO,WAAW,kBAAkB,IACnC,OAAO,WAAW,eAAe,KACnC;EAEJ;AC7GY,MAAO,UAAP,MAAc;IAoB1B,cAAA;AAhBQ,WAAU,aAAG;AAKb,WAAmB,sBAAG,KAAK,eAAe,KAAK,IAAI;AAgyBnD,WAAA,sBAAsB,CAACP,OAAiB;AAC9C,YAAI,KAAK,aAAa,QAAQ,SAAU,OAAe;AAAO;AAE9D,YACE,KAAK,cACL,CAACA,GAAE,aAAY,EAAG,SAAS,KAAK,MAAM;QACtC,CAACA,GAAE,aAAY,GAAI,SAAS,KAAK,aAAa,OAAO,GACrD;AACA,eAAK,KAAI;QACV;MACH;AAOQ,WAAA,qBAAqB,CAACA,OAAiB;AAC7C,aAAK,eAAe,OAAO,KAAK,EAAE,GAAGA,GAAC,CAAE;MAC1C;AAvyBE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,aAAa,eAAe,OAAO,UAAU;AAClD,WAAK,QAAQ,eAAe,OAAO,KAAK;AAExC,WAAK,cAAc,eAAe,OAAO,WAAW;AACpD,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,cAAc,eAAe,OAAO,WAAW;AACpD,WAAK,gBAAgB,eAAe,OAAO,aAAa;AACxD,WAAK,cAAc,eAAe,OAAO,WAAW;AACpD,WAAK,cAAc,eAAe,OAAO,WAAW;AACpD,WAAK,gBAAgB,eAAe,OAAO,aAAa;AACxD,WAAK,gBAAgB,eAAe,OAAOW,aAAa;AACxD,WAAK,iBAAiB,eAAe,OAAO,aAAa;AACzD,WAAK,UAAU;AAEf,WAAK,eAAe,cAAc,UAAU,CAAC,WAA4B;AACvE,aAAK,QAAQ,MAAM;MACrB,CAAC;;;;;;IAOH,IAAI,SAAM;AACR,aAAO,KAAK;;IAGd,IAAI,gBAAa;AACf,aAAO,KAAK,QAAQ,cAAc,OAAO,UAAU,IAAI,aAAa,EAAE;;IAGxE,IAAI,gBAAa;AACf,aAAO,KAAK,QAAQ,cAAc,OAAO,UAAU,IAAI,aAAa,EAAE;;;;;IAMxE,IAAI,YAAS;AACX,aAAO,KAAK;;;;;;;;IASd,QAAQ,MAAsB;AAC5B,UAAI,CAAC,KAAK;AAAQ;AAClB,cAAQ,MAAI;QACV,KAAK,KAAK;AACR,eAAK,cAAc,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAClD;QACF,KAAK,KAAK;AACR,eAAK,cAAc,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAClD;QACF,KAAK,KAAK;AACR,eAAK,YAAY,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAChD;QACF,KAAK,KAAK;AACR,eAAK,YAAY,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAChD;QACF,KAAK,KAAK;AACR,eAAK,aAAa,QAAQ,KAAK,QAAQ,KAAK,KAAK;AACjD;QACF,KAAK,KAAK;AACR,eAAK,YAAY,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAChD;QACF,KAAK;AACH,eAAK,cAAc,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAClD;QACF,KAAK;AACH,cAAI,CAAC,KAAK;AAAU;AACpB,eAAK,YAAY,QAAQ,KAAK,MAAM;AACpC,eAAK,QAAQ,KAAK,KAAK;AACvB,eAAK,QAAQ,KAAK,OAAO;AACzB,eAAK,QAAQ,KAAK,OAAO;AACzB;QACF,KAAK;AACH,eAAK,QAAQ,KAAK,IAAI;AACtB,eAAK,QAAQ,KAAK,IAAI;AACtB,eAAK,QAAQ,KAAK,KAAK;AACvB,eAAK,cAAc,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAClD,eAAK,sBAAqB;AAC1B;QACF,KAAK;AACH,cAAI,KAAK,UAAU;AACjB,iBAAK,QAAQ,OAAO;UACrB;AACD,cAAI,KAAK,UAAU;AACjB,iBAAK,QAAQ,UAAU;UACxB;MACJ;;;;;;;;;;;IAaH,MACE,OACA,OACA,UACA,UAAqB;;;;;;;IAUvB,OAAI;AACF,UAAI,KAAK,UAAU,QAAW;AAC5B,aAAK,wBAAuB;AAE5B,aAAK,aAAY;AACjB,aAAK,aAAY;AAEjB,aAAK,mBAAkB;AAEvB,YAAI,CAAC,KAAK,aAAa,QAAQ,QAAQ,QAAQ;AAE7C,gBAAM,YAAY,KAAK,aAAa,SAAS,aAAa,SAAS;AACnE,gBAAM,YACJ,KAAK,aAAa,SAAS,SAAS,aAAa;AAEnD,oBAAU,YAAY,KAAK,MAAM;AACjC,gBAAM,cAAc,KAAK,aAAa,KAAK,IAAI;AAC/C,eAAK,YAAY,KAAK,aAAa,SAAS,KAAK,QAAQ;YACvD,WAAW;cACT,EAAE,MAAM,kBAAkB,SAAS,KAAI;cACvC;gBACE,MAAM;gBACN,SAAS;gBACT,OAAO;gBACP,KAAE;AACA,8BAAW;;cAEd;YACF;;YAED,WACE,SAAS,gBAAgB,QAAQ,QAC7B,GAAG,SAAS,SACZ,GAAG,SAAS;UACnB,CAAA,EAAE,KAAK,MAAK;AACX,iBAAK,aAAY;UACnB,CAAC;QACF,OAAM;AACL,eAAK,aAAa,QAAQ,YAAY,KAAK,MAAM;QAClD;AAED,YAAI,KAAK,aAAa,QAAQ,QAAQ,YAAY,SAAS;AACzD,eAAK,eAAe,OAAO,KAAK;YAC9B,GAAG;YACH,QAAQJ,cAAY;UACrB,CAAA;QACF;AAED,aAAK,OACF,iBAAiB,eAAe,EAChC,QAAQ,CAAC,YACR,QAAQ,iBAAiB,SAAS,KAAK,kBAAkB,CAAC;AAI9D,YAAI,KAAK,YAAY,KAAK,aAAa,QAAQ,QAAQ,YAAY;AACjE,eAAK,YAAY,QAAQ,KAAK,MAAM;AAElC,eAAK,OAAO,uBACV,UAAU,IAAI,cAAc,EAC5B,CAAC,EACH,MAAM,UAAU;QACnB;MACF;AAED,WAAK,OAAO,UAAU,IAAI,UAAU,IAAI,IAAI;AAC5C,UAAI,CAAC,KAAK,aAAa,QAAQ,QAAQ,QAAQ;AAC7C,aAAK,YAAW;AAChB,iBAAS,iBAAiB,SAAS,KAAK,mBAAmB;MAC5D;AACD,WAAK,eAAe,aAAa,KAAK,EAAE,MAAM,UAAU,OAAO,KAAI,CAAE;AACrE,WAAK,aAAa;AAElB,UAAI,KAAK,aAAa,QAAQ,QAAQ,oBAAoB;AACxD,aAAK,OAAO,iBAAiB,WAAW,KAAK,mBAAmB;MACjE;;IAGK,qBAAkB;AAExB,YAAM,YAAY,KAAK,YAAY,CAAC,KAAK;AAGzC,UAAI,WAAW;AACb,aAAK,aAAa,cAAc;AAChC,aAAK,eAAe,OAAO,KAAK;UAC9B,GAAG;UACH,QAAQA,cAAY;QACrB,CAAA;MACF,WAEQ,CAAC,KAAK,aAAa,yBAAyB;AACnD,aAAK,aAAa,0BAChB,KAAK,aAAa;MACrB;AAED,UAAI,CAAC,aAAa,KAAK,aAAa,QAAQ,QAAQ,aAAa,SAAS;AACxE,YAAI,KAAK,UAAU;AACjB,cAAI,CAAC,KAAK,aAAa,QAAQ,QAAQ,YAAY;AACjD,qBAAS,gBAAgB,KAAK,aAAa;UAC5C,OAAM;AACL,qBAAS,KAAK,KAAK,aAAa;UACjC;QACF;AACD,iBAAS,KAAK,KAAK,aAAa;MACjC;AAED,UAAI,KAAK,UAAU;AACjB,aAAK,UAAS;MACf;;IAGK,0BAAuB;AAC7B,UAAI,KAAK,MAAM,OAAO,UAAU;AAAG;AAEnC,UACE,KAAK,aAAa,QAAQ,cAC1B,CAAC,KAAK,aAAa,QAAQ,aAC3B;AACA,cAAM,OAAO,IAAI,SAAQ,EAAG,gBAC1B,KAAK,aAAa,QAAQ,YAAY;AAExC,YAAI,CAAC,KAAK,aAAa,QAAQ,aAAa;AAC1C,cAAI,QAAQ;AACZ,cAAI,YAAY;AAChB,cAAI,KAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,IAAI,GAAG;AAClE,wBAAY;UACb;AACD,iBAAO,CAAC,KAAK,WAAW,QAAQ,IAAI,KAAK,QAAQ,IAAI;AACnD,iBAAK,WAAW,WAAW,KAAK,IAAI;AACpC;UACD;QACF;AACD,aAAK,MAAM,SAAS,IAAI;MACzB;AAED,UAAI,KAAK,aAAa,QAAQ,aAAa;AACzC,aAAK,MAAM,SAAS,KAAK,aAAa,QAAQ,WAAW;MAC1D;;IAGH,MAAM,YACJ,SACA,QAEA,SAAY;AAEZ,UAAI;AAEJ,UAAK,QAAgB,QAAQ;AAE3B,+BAAwB,QAAgB,QAAQ;MACjD,OAAM;AACL,cAAM,EAAE,cAAAK,cAAY,IAAK,MAAM;AAC/B,+BAAuBA;MACxB;AACD,UAAI,sBAAsB;AACxB,aAAK,kBAAkB,qBAAqB,SAAS,QAAQ,OAAO;MACrE;;IAGH,cAAW;AACT,UAAI,CAAC,KAAK;AAAiB;AAC3B,WAAK,gBAAgB,OAAM;;;;;;;IAS7B,UAAU,WAAkB;AAC1B,UAAI,CAAC,KAAK,QAAQ;AAChB;MACD;AACD,UAAI,WAAW;AACb,cAAMC,OAAM,KAAK,IACf,KAAK,aAAa,yBAClB,KAAK,IAAI,GAAG,KAAK,aAAa,0BAA0B,SAAS,CAAC;AAEpE,YAAI,KAAK,aAAa,2BAA2BA;AAAK;AACtD,aAAK,aAAa,0BAA0BA;MAC7C;AAED,WAAK,OACF,iBACC,IAAI,UAAU,IAAI,aAAa,eAAe,UAAU,IAAI,cAAc,OAAO,UAAU,IAAI,aAAa,eAAe,UAAU,IAAI,cAAc,GAAG,EAE3J,QAAQ,CAACb,OAAoBA,GAAE,MAAM,UAAU,MAAO;AAEzD,YAAM,iBACJ,cAAc,KAAK,aAAa,uBAAuB;AACzD,YAAM,SAAsB,KAAK,OAAO,cACtC,IAAI,eAAe,SAAS,EAAE;AAGhC,cAAQ,eAAe,WAAS;QAC9B,KAAK,UAAU,IAAI;AACjB,eAAK,cAAc,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAClD;QACF,KAAK,UAAU,IAAI;AACjB,eAAK,YAAY,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAChD;QACF,KAAK,UAAU,IAAI;AACjB,eAAK,aAAa,QAAQ,KAAK,QAAQ,KAAK,KAAK;AACjD;QACF,KAAK,UAAU,IAAI;AACjB,eAAK,YAAY,QAAQ,KAAK,QAAQ,KAAK,KAAK;AAChD;MACH;AAED,aAAO,MAAM,UAAU;AAEvB,UAAI,KAAK,aAAa,QAAQ,QAAQ;AACtB,QACZ,KAAK,OAAO,iBAAiB,IAAI,UAAU,IAAI,cAAc,EAAE,EAAE,CAAC,EACjE,MAAM,UAAU;AAErB,WAAK,sBAAqB;AAC1B,WAAK,eAAe,WAAW,KAAI;AACnC,WAAK,oBAAmB,GAAI,MAAK;;;;;;;IAQnC,aAAa,OAAiC;AAC5C,UAAI,CAAC,KAAK,QAAQ;AAChB;MACD;AACD,UAAI,OAAO;AACT,YAAI,KAAK,aAAa,QAAQ,QAAQ,UAAU;AAAO;AACvD,aAAK,aAAa,QAAQ,QAAQ,QAAQ;MAC3C;AAED,WAAK,OAAO,UAAU,OAAO,SAAS,MAAM;AAC5C,WAAK,OAAO,UAAU,IAAI,KAAK,eAAc,CAAE;AAE/C,UAAI,KAAK,aAAa,QAAQ,QAAQ,UAAU,QAAQ;AACtD,eACG,WAAW,UAAU,IAAI,oBAAoB,EAC7C,iBAAiB,UAAU,MAAM,KAAK,aAAY,CAAE;MACxD,OAAM;AACL,eACG,WAAW,UAAU,IAAI,oBAAoB,EAC7C,oBAAoB,UAAU,MAAM,KAAK,aAAY,CAAE;MAC3D;;IAGH,iBAAc;AACZ,YAAM,eAAe,KAAK,aAAa,QAAQ,QAAQ,SAAS;AAEhE,YAAM,aACJ,OAAO,cACP,OAAO,WAAW,UAAU,IAAI,oBAAoB,EAAE;AAExD,cAAQ,cAAY;QAClB,KAAK;AACH,iBAAO,UAAU,IAAI;QACvB,KAAK;AACH,iBAAO,UAAU,IAAI;QACvB,KAAK;AACH,iBAAO,aAAa,UAAU,IAAI,YAAY,UAAU,IAAI;MAC/D;;IAGH,wBAAqB;AACnB,UAAI,CAAC,KAAK;AAAU;AACpB,YAAM,UAAU;QACd,GAAG,KAAK,OAAO,cACb,IAAI,UAAU,IAAI,aAAa,8BAA8B,EAC7D;MACH,EAAC,KAAK,CAACX,OAAMA,GAAE,WAAW,UAAU,IAAI,aAAa,CAAC;AAEvD,YAAM,CAAC,UAAU,UAAU,IAAI,IAAI,KAAK,OACrC,uBAAuB,UAAU,IAAI,cAAc,EAAE,CAAC,EACtD,qBAAqB,KAAK;AAE7B,cAAQ,SAAO;QACb,KAAK,UAAU,IAAI;AACjB,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,eAAe;AAExD,mBAAS,aAAa,SAAS,EAAE;AACjC,eAAK,aACH,SACA,KAAK,aAAa,QAAQ,aAAa,WAAW;AAEpD;QACF,KAAK,UAAU,IAAI;AACjB,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,cAAc;AAEvD,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,YAAY;AAErD,eAAK,aACH,SACA,KAAK,aAAa,QAAQ,aAAa,UAAU;AAEnD;QACF,KAAK,UAAU,IAAI;AACjB,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,YAAY;AAErD,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,UAAU;AAEnD,eAAK,aACH,SACA,KAAK,aAAa,QAAQ,aAAa,QAAQ;AAEjD;QACF,KAAK,UAAU,IAAI;AACjB,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,aAAa;AAEtD,mBAAS,aACP,SACA,KAAK,aAAa,QAAQ,aAAa,WAAW;AAEpD,eAAK,aACH,SACA,KAAK,aAAa,QAAQ,aAAa,SAAS;AAElD,mBAAS,aACP,SACA,KAAK,aAAa,SAAS,OACzB,KAAK,aAAa,QAAQ,aAAa,mBAAmB,CAC3D;AAEH;MACH;AACD,eAAS,YAAY,SAAS,aAAa,OAAO;;;;;;;IAQpD,OAAI;AACF,UAAI,CAAC,KAAK,UAAU,CAAC,KAAK;AAAY;AAEtC,WAAK,OAAO,UAAU,OAAO,UAAU,IAAI,IAAI;AAE/C,UAAI,KAAK,YAAY;AACnB,aAAK,eAAe,aAAa,KAAK;UACpC,MAAM,UAAU,OAAO;UACvB,MAAM,KAAK,aAAa,QAAQ,OAAO,KAAK,MAAM,YAAY;QAClD,CAAA;AACd,aAAK,aAAa;MACnB;AAED,eAAS,oBAAoB,SAAS,KAAK,mBAAmB;AAC9D,UAAI,KAAK,aAAa,QAAQ,QAAQ,oBAAoB;AACxD,aAAK,OAAO,oBAAoB,WAAW,KAAK,mBAAmB;MACpE;AACD,UAAI,KAAK,aAAa;AAAQ,aAAK,aAAa,OAAO,MAAK;eACnD,KAAK,aAAa;AAAO,aAAK,aAAa,MAAM,MAAK;;;;;IAMjE,SAAM;AACJ,aAAO,KAAK,aAAa,KAAK,KAAI,IAAK,KAAK,KAAI;;;;;;IAOlD,WAAQ;AACN,eAAS,oBAAoB,SAAS,KAAK,mBAAmB;AAC9D,UAAI,KAAK;AAAiB,aAAK,gBAAgB,QAAO;AACtD,UAAI,CAAC,KAAK;AAAQ;AAClB,WAAK,OACF,iBAAiB,eAAe,EAChC,QAAQ,CAAC,YACR,QAAQ,oBAAoB,SAAS,KAAK,kBAAkB,CAAC;AAEjE,WAAK,OAAO,WAAW,YAAY,KAAK,MAAM;AAC9C,WAAK,UAAU;;;;;;IAOT,eAAY;AAClB,YAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,eAAS,WAAW;AACpB,eAAS,UAAU,IAAI,UAAU,IAAI,MAAM;AAC3C,eAAS,aAAa,QAAQ,QAAQ;AAEtC,YAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,eAAS,WAAW;AACpB,eAAS,UAAU,IAAI,UAAU,IAAI,aAAa;AAClD,eAAS,OACP,KAAK,gBAAe,GACpB,KAAK,cAAc,UAAS,GAC5B,KAAK,YAAY,UAAS,GAC1B,KAAK,aAAa,UAAS,GAC3B,KAAK,YAAY,UAAS,CAAE;AAG9B,YAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,eAAS,WAAW;AACpB,eAAS,UAAU,IAAI,UAAU,IAAI,aAAa;AAClD,eAAS,YAAY,KAAK,YAAY,UAAU,KAAK,SAAS,KAAK,IAAI,CAAC,CAAC;AACzE,eAAS,YAAY,KAAK,YAAY,UAAS,CAAE;AACjD,eAAS,YAAY,KAAK,cAAc,UAAS,CAAE;AACnD,eAAS,YAAY,KAAK,cAAc,UAAS,CAAE;AAEnD,YAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,cAAQ,WAAW;AACnB,cAAQ,UAAU,IAAI,UAAU,IAAI,OAAO;AAC3C,cAAQ,OAAO,GAAG,KAAK,mBAAkB,CAAE;AAE3C,UAAI,KAAK,aAAa,QAAQ,QAAQ,QAAQ;AAC5C,iBAAS,UAAU,IAAI,UAAU,IAAI,MAAM;MAC5C;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,eAAe;AACnD,iBAAS,UAAU,IAAI,eAAe;MACvC;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,cAAc,KAAK,iBAAiB;AACxE,aAAK,uBAAuB,UAAU,UAAU,UAAU,OAAO;AACjE;MACD;AAED,UAAI,KAAK,aAAa,QAAQ,QAAQ,qBAAqB,OAAO;AAChE,iBAAS,YAAY,OAAO;MAC7B;AAED,YAAM,qBAAqB,CACzB,UACA,WACA,SACA,eACE;AACF,YAAI,CAAC;AAAU;AACf,YAAI,WAAW;AACb,kBAAQ,UAAU,IAAI,UAAU,IAAI,QAAQ;AAC5C,cAAI;AAAY,oBAAQ,UAAU,IAAI,UAAU,IAAI,IAAI;QACzD;AACD,iBAAS,YAAY,OAAO;MAC9B;AAEA,yBACE,KAAK,UACL,KAAK,UACL,UACA,KAAK,aAAa,QAAQ,QAAQ,aAAa,OAAO;AAGxD,yBACE,KAAK,UACL,KAAK,UACL,UACA,KAAK,aAAa,QAAQ,QAAQ,aAAa,OAAO;AAGxD,UAAI,KAAK,aAAa,QAAQ,QAAQ,qBAAqB,UAAU;AACnE,iBAAS,YAAY,OAAO;MAC7B;AAED,YAAMyB,SAAQ,SAAS,cAAc,KAAK;AAC1C,MAAAA,OAAM,UAAU,IAAI,OAAO;AAC3B,MAAAA,OAAM,aAAa,qBAAqB,EAAE;AAC1C,eAAS,YAAYA,MAAK;AAE1B,WAAK,UAAU;;IAGT,uBACN,UACA,UACA,UACA,SAAuB;AAEvB,eAAS,UAAU,IAAI,UAAU,IAAI,UAAU;AAC/C,UAAI,KAAK,aAAa,QAAQ,QAAQ,qBAAqB,OAAO;AAChE,iBAAS,YAAY,OAAO;MAC7B;AACD,YAAM,MAAM,SAAS,cAAc,KAAK;AACxC,UAAI,UAAU,IAAI,QAAQ;AAC1B,eAAS,UAAU,IAAI,SAAS;AAChC,eAAS,UAAU,IAAI,SAAS;AAEhC,UAAI,YAAY,QAAQ;AACxB,UAAI,YAAY,QAAQ;AACxB,eAAS,YAAY,GAAG;AACxB,UAAI,KAAK,aAAa,QAAQ,QAAQ,qBAAqB,UAAU;AACnE,iBAAS,YAAY,OAAO;MAC7B;AACD,WAAK,UAAU;;;;;IAMjB,IAAI,WAAQ;AACV,aACE,KAAK,aAAa,QAAQ,QAAQ,WAAW,UAC5C,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAC5C,KAAK,aAAa,QAAQ,QAAQ,WAAW,WAC7C,KAAK,aAAa,QAAQ,QAAQ,WAAW;;;;;IAOnD,IAAI,WAAQ;AACV,aACE,KAAK,aAAa,QAAQ,QAAQ,WAAW,aAC5C,KAAK,aAAa,QAAQ,QAAQ,WAAW,QAC5C,KAAK,aAAa,QAAQ,QAAQ,WAAW,SAC7C,KAAK,aAAa,QAAQ,QAAQ,WAAW;;IAInD,IAAI,kBAAe;AACjB,aAAO,KAAK,YAAY,KAAK;;;;;;IAO/B,qBAAkB;AAChB,YAAM,UAAU,CAAA;AAEhB,UAAI,KAAK,aAAa,QAAQ,QAAQ,QAAQ,OAAO;AACnD,cAAMN,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,KAAK;AACjD,QAAAC,KAAI,aAAa,SAAS,KAAK,aAAa,QAAQ,aAAa,KAAK;AAEtE,QAAAA,KAAI,YACF,KAAK,SAAS,KAAK,aAAa,QAAQ,QAAQ,MAAM,KAAK,CAAC;AAE9D,gBAAQ,KAAKA,IAAG;MACjB;AACD,UACE,CAAC,KAAK,aAAa,QAAQ,QAAQ,cACnC,KAAK,YACL,KAAK,UACL;AACA,YAAI,OAAO;AACX,YAAI,KAAK,aAAa,QAAQ,QAAQ,aAAa,SAAS;AAC1D,kBAAQ,KAAK,aAAa,QAAQ,aAAa;AAC/C,iBAAO,KAAK,aAAa,QAAQ,QAAQ,MAAM;QAChD,OAAM;AACL,kBAAQ,KAAK,aAAa,QAAQ,aAAa;AAC/C,iBAAO,KAAK,aAAa,QAAQ,QAAQ,MAAM;QAChD;AAED,cAAMA,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,YAAY;AACxD,QAAAC,KAAI,aAAa,SAAS,KAAK;AAE/B,QAAAA,KAAI,YAAY,KAAK,SAAS,IAAI,CAAC;AACnC,gBAAQ,KAAKA,IAAG;MACjB;AACD,UAAI,KAAK,aAAa,QAAQ,QAAQ,QAAQ,OAAO;AACnD,cAAMA,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,KAAK;AACjD,QAAAC,KAAI,aAAa,SAAS,KAAK,aAAa,QAAQ,aAAa,KAAK;AAEtE,QAAAA,KAAI,YACF,KAAK,SAAS,KAAK,aAAa,QAAQ,QAAQ,MAAM,KAAK,CAAC;AAE9D,gBAAQ,KAAKA,IAAG;MACjB;AACD,UAAI,KAAK,aAAa,QAAQ,QAAQ,QAAQ,OAAO;AACnD,cAAMA,OAAM,SAAS,cAAc,KAAK;AACxC,QAAAA,KAAI,WAAW;AACf,QAAAA,KAAI,aAAa,eAAeD,cAAY,KAAK;AACjD,QAAAC,KAAI,aAAa,SAAS,KAAK,aAAa,QAAQ,aAAa,KAAK;AAEtE,QAAAA,KAAI,YACF,KAAK,SAAS,KAAK,aAAa,QAAQ,QAAQ,MAAM,KAAK,CAAC;AAE9D,gBAAQ,KAAKA,IAAG;MACjB;AAED,aAAO;;;;;;IAOT,kBAAe;AACb,YAAM,iBAAiB,SAAS,cAAc,KAAK;AACnD,qBAAe,UAAU,IAAI,UAAU,IAAI,cAAc;AAEzD,YAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,eAAS,UAAU,IAAI,UAAU,IAAI,QAAQ;AAC7C,eAAS,aAAa,eAAeD,cAAY,QAAQ;AACzD,eAAS,YACP,KAAK,SAAS,KAAK,aAAa,QAAQ,QAAQ,MAAM,QAAQ,CAAC;AAEjE,eAAS,WAAW;AAEpB,YAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,eAAS,UAAU,IAAI,UAAU,IAAI,MAAM;AAC3C,eAAS,aAAa,eAAeA,cAAY,kBAAkB;AACnE,eAAS,WAAW;AAEpB,YAAM,OAAO,SAAS,cAAc,KAAK;AACzC,WAAK,UAAU,IAAI,UAAU,IAAI,IAAI;AACrC,WAAK,aAAa,eAAeA,cAAY,IAAI;AACjD,WAAK,YACH,KAAK,SAAS,KAAK,aAAa,QAAQ,QAAQ,MAAM,IAAI,CAAC;AAE7D,WAAK,WAAW;AAEhB,qBAAe,OAAO,UAAU,UAAU,IAAI;AAC9C,aAAO;;;;;;;;IAST,SAAS,WAAiB;AACxB,UAAI,KAAK,aAAa,QAAQ,QAAQ,MAAM,SAAS,WAAW;AAC9D,cAAM,MAAM,SAAS,gBAAgB,8BAA8B,KAAK;AAExE,cAAMQ,QAAO,SAAS,gBACpB,8BACA,KAAK;AAEP,QAAAA,MAAK,aAAa,cAAc,SAAS;AACzC,QAAAA,MAAK,aAAa,QAAQ,SAAS;AACnC,YAAI,YAAYA,KAAI;AAEpB,eAAO;MACR;AACD,YAAM,OAAO,SAAS,cAAc,GAAG;AACvC,WAAK,UAAU,IAAI,GAAG,UAAU,MAAM,GAAG,CAAC;AAC1C,aAAO;;;;;;;IAkCT,WAAQ;AACN,YAAM,aAAa,KAAK;AACxB,WAAK,SAAQ;AACb,UAAI;AAAY,aAAK,KAAI;;IAG3B,qBAAkB;AAEhB,UAAI,CAAC,KAAK;AAAY,aAAK,SAAQ;AAEnC,cAAQ,KAAK,aAAa,aAAW;QACnC,KAAK;AACH,eAAK,QAAQ,OAAO;AACpB;QACF,KAAK;AACH,eAAK,QAAQ,KAAK,IAAI;AACtB;QACF,KAAK;AACH,eAAK,QAAQ,KAAK,KAAK;AACvB;QACF,KAAK;AACH,eAAK,QAAQ,KAAK,IAAI;AACtB;QACF,KAAK;AACH,eAAK,QAAQ,QAAQ;AACrB;MACH;;IAGK,eAAe,OAAoB;AACzC,UAAI,KAAK,aAAa,gBAAgB,SAAS;AAC7C,aAAK,oBAAoB,KAAK;AAC9B;MACD;AACD,WAAK,mBAAmB,KAAK;AAC7B,aAAO;;IAGF,sBAAmB;AACxB,UAAI,WAAW;AACf,UAAI,YAAY;AAEhB,cAAQ,KAAK,aAAa,aAAW;QACnC,KAAK;AACH;QACF,KAAK;AACH,qBAAW,UAAU,IAAI;AACzB,sBAAY,KAAK,aAAa,SAAS,gBAAe;AACtD;QACF,KAAK;AACH,qBAAW,UAAU,IAAI;AACzB,sBAAY,KAAK,aAAa,SAAS,MAAM,SAAQ;AACrD;QACF,KAAK;AACH,qBAAW,UAAU,IAAI;AACzB,sBAAY,KAAK,aAAa,SAAS,KAAK,SAAQ;AACpD;QACF,KAAK;AACH,qBAAW,UAAU,IAAI;AACzB,uBACE,KAAK,MAAM,KAAK,aAAa,SAAS,OAAO,EAAE,IAAI,IACnD,SAAQ;AACV;MACH;AAED,aAAO,KAAK,OAAO,cACjB,IAAI,QAAQ,sBAAsB,SAAS,IAAI;;IAI3C,mBAAmB,OAAoB;AAC7C,UAAI,OAAO;AACX,YAAM,gBAAgB,SAAS;AAE/B,UAAI,OAAO;AACX,UAAI,iBAAiB;AACrB,UAAI,mBAAmB;AACvB,UAAI,SAAS;AACb,YAAM,cAAc,KAAK,aAAa;AACtC,cAAQ,aAAW;QACjB,KAAK;AACH,iBAAO,KAAK;AACZ;QACF,KAAK;AACH,iBAAO,KAAK;AACZ,2BAAiB;AACjB,6BAAmB;AACnB;QACF,KAAK;AACH,iBAAO,KAAK;AACZ,2BAAiB;AACjB,6BAAmB;AACnB;QACF,KAAK;AACH,iBAAO,KAAK;AACZ,2BAAiB;AACjB,6BAAmB;AACnB;MACH;AAED,cAAQ,MAAM,KAAG;QACf,KAAK;QACL,KAAK;AACH,eAAK,eAAe,OAAO,KAAK,EAAE,GAAG,MAAM,QAAQR,cAAY,MAAK,CAAE;AACtE;QAEF,KAAK;QACL,KAAK;AACH,wBAAc,MAAK;AAEnB,gBAAM,gBAAe;AACrB,gBAAM,eAAc;AACpB;QAEF,KAAK;AACH,eAAK,WAAW,eAAe,KAAK;AACpC;QAEF,KAAK;QACL,KAAK;AACH,mBAAS;AACT,iBAAO;AACP;QAEF,KAAK;QACL,KAAK;AACH,iBAAO;AACP,mBAAS,CAAC;AACV;QAEF,KAAK;QACL,KAAK;AACH,iBAAO;AACP,mBAAS;AACT;QAEF,KAAK;QACL,KAAK;AACH,iBAAO;AACP,mBAAS,CAAC;AACV;QAEF,KAAK;AACH,kBAAQ,aAAW;YACjB,KAAK;AACH,qBAAO,MAAM,WAAW,KAAK,OAAO,KAAK;AACzC,uBAAS;AACT;YACF,KAAK;AACH,qBAAO,KAAK;AACZ,uBAAS,MAAM,WAAW,KAAK;AAC/B;YACF,KAAK;YACL,KAAK;AACH,qBAAO,KAAK;AACZ,uBAAS,MAAM,WAAW,MAAM;AAChC;UACH;AACD,iBAAO;AACP;QAEF,KAAK;AACH,kBAAQ,aAAW;YACjB,KAAK;AACH,qBAAO,MAAM,WAAW,KAAK,OAAO,KAAK;AACzC,uBAAS;AACT;YACF,KAAK;AACH,qBAAO,KAAK;AACZ,uBAAS,EAAE,MAAM,WAAW,KAAK;AACjC;YACF,KAAK;YACL,KAAK;AACH,qBAAO,KAAK;AACZ,uBAAS,EAAE,MAAM,WAAW,MAAM;AAClC;UACH;AACD,iBAAO;AACP;QAEF,KAAK;AACH,eAAK,aAAa,WAAW,KAAK,aAAa,SAAS,MAAM,QAC5D,WACA,KAAK,aAAa,QAAQ,aAAa,cAAc;AAEvD,iBAAO;AACP,iBAAO;AACP;QAEF,KAAK;AACH,eAAK,aAAa,WAAW,KAAK,aAAa,SAAS,MAAM,MAC5D,WACA,KAAK,aAAa,QAAQ,aAAa,cAAc;AAEvD,iBAAO;AACP,iBAAO;AACP;MACH;AAED,UAAI,CAAC;AAAM;AAEX,UAAI,cAAc,KAAK,aAAa;AAEpC,UAAI,MAAM;AACR,sBAAc,YAAY,MAAM,WAAW,QAAQ,IAAI;MACxD;AAED,WAAK,eAAe,eAAe,KAAK,WAAW;AAEnD,YAAM,eAAe,KAAK,oBAAmB;AAC7C,UAAI,cAAc;AAChB,qBAAa,MAAK;MACnB;AAED,YAAM,gBAAe;AACrB,YAAM,eAAc;;IAGd,oBAAoB,OAAoB;AAC9C,UAAI,OAAO;AACX,YAAM,gBAAgB,SAAS;AAG/B,YAAM,iBAAiB,KAAK,OAAO,cACjC,IAAI,UAAU,IAAI,aAAa,gCAAgC;AAGjE,UAAI,UAAU,UAAU,IAAI;AAE5B,UAAI,eAAe,UAAU,SAAS,UAAU,IAAI,aAAa,GAAG;AAClE,kBAAU,UAAU,IAAI;MACzB;AACD,UAAI,eAAe,UAAU,SAAS,UAAU,IAAI,eAAe,GAAG;AACpE,kBAAU,UAAU,IAAI;MACzB;AACD,UAAI,eAAe,UAAU,SAAS,UAAU,IAAI,eAAe,GAAG;AACpE,kBAAU,UAAU,IAAI;MACzB;AAED,cAAQ,MAAM,KAAG;QACf,KAAK;QACL,KAAK;AACH,eAAK,eAAe,OAAO,KAAK,EAAE,GAAG,MAAM,QAAQA,cAAY,MAAK,CAAE;AACtE;QAEF,KAAK;QACL,KAAK;AACH,wBAAc,MAAK;AAEnB,gBAAM,gBAAe;AACrB,gBAAM,eAAc;AACpB;QAEF,KAAK;AACH,eAAK,WAAW,eAAe,KAAK;AACpC;MACH;AAED,UAAI,YAAY,UAAU,IAAI;AAAgB;AAE9C,YAAM,QAAQ,CAAC,GAAG,eAAe,iBAAiB,KAAK,CAAC;AACxD,YAAM,eAAe,MAAM,QACzB,SAAS,aAA+B;AAE1C,YAAM,cAAc;AAEpB,UAAI;AACJ,cAAQ,MAAM,KAAG;QACf,KAAK;QACL,KAAK;AACH,wBAAc,eAAe,MAAM,SAAS,IAAI,eAAe,IAAI;AACnE,iBAAO;AACP;QAEF,KAAK;QACL,KAAK;AACH,iBAAO;AACP,wBAAc,eAAe,IAAI,eAAe,IAAI;AACpD;QAEF,KAAK;QACL,KAAK;AACH,wBACE,eAAe,cAAc,MAAM,SAC/B,eAAe,cACf;AACN,iBAAO;AACP;QAEF,KAAK;QACL,KAAK;AACH,wBACE,eAAe,eAAe,IAAI,eAAe,cAAc;AACjE,iBAAO;AACP;MACH;AAED,UAAI,CAAC;AAAM;AAEX,UAAI,gBAAgB,UAAa,gBAAgB,MAAM;AACrD,cAAM,WAAW,EAAE,MAAK;MACzB;AAED,YAAM,gBAAe;AACrB,YAAM,eAAc;;IAGd,WAAW,eAA4B,OAAoB;AACjE,YAAM,WAAW,MAAM;AAEvB,YAAM,2BAA2B,MAAK;AACpC,cAAM,sBAAsB,KAAK,OAAO,iBACtC,IAAI,UAAU,IAAI,cAAc,QAAQ;AAE1C,mBAAW,KAAK,GAAG,mBAAmB;MACxC;AAEA,YAAM,aAA4B,CAAA;AAClC,cAAQ,IAAI,KAAK,aAAa,WAAW;AACzC,cAAQ,KAAK,aAAa,aAAW;QACnC,KAAK;AACH;AACE,uBAAW,KACT,GAAI,KAAK,OAAO,iBACd,IAAI,UAAU,IAAI,aAAa,mDAAmD,CACvD;AAG/B,kBAAM,QAAQ,KAAK,OAAO,iBACxB,IAAI,UAAU,IAAI,cAAc,EAAE,EAClC,CAAC;AAGH,gBAAI,OAAO,MAAM,YAAY,QAAQ;AACnC,yBAAW,KACT,GAAI,KAAK,OAAO,iBACd,IAAI,UAAU,IAAI,cAAc,EAAE,CACP;YAEhC;UACF;AACD;QACF,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;AACH,mCAAwB;AACxB,qBAAW,KAAK,KAAK,oBAAmB,CAAE;AAC1C;MACH;AAED,YAAM,eAAe,KAAK,OAAO,iBAC/B,IAAI,UAAU,IAAI,OAAO,QAAQ;AAEnC,iBAAW,KAAK,GAAG,YAAY;AAE/B,YAAM,QAAQ,WAAW,QAAQ,aAAa;AAC9C,UAAI,UAAU;AAAI;AAElB,UAAI,UAAU;AACZ,YAAI,UAAU,GAAG;AACf,qBAAW,WAAW,SAAS,CAAC,EAAE,MAAK;QACxC,OAAM;AACL,qBAAW,QAAQ,CAAC,EAAE,MAAK;QAC5B;MACF,OAAM;AACL,YAAI,UAAU,WAAW,SAAS,GAAG;AACnC,qBAAW,CAAC,EAAE,MAAK;QACpB,OAAM;AACL,qBAAW,QAAQ,CAAC,EAAE,MAAK;QAC5B;MACF;AACD,YAAM,gBAAe;AACrB,YAAM,eAAc;;IAGd,eAAY;AAClB,UAAI,KAAK,aAAa,gBAAgB;AAAS,aAAK,kBAAiB;;AAChE,aAAK,oBAAmB,EAAG,MAAK;;IAG/B,oBAAiB;AAErB,WAAK,OAAO,cACV,IAAI,UAAU,IAAI,aAAa,gCAAgC,EAC/D,SAAS,CAAC,EACZ,MAAK;;EAEV;AC/sCa,MAAO,UAAP,MAAc;IAO1B,cAAA;AACE,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,aAAa,eAAe,OAAO,UAAU;AAClD,WAAK,UAAU,eAAe,OAAO,OAAO;AAC5C,WAAK,iBAAiB,eAAe,OAAO,aAAa;AAEzD,WAAK,eAAe,OAAO,UAAU,CAAC,WAAU;AAC9C,aAAK,GAAG,OAAO,GAAG,OAAO,MAAM;MACjC,CAAC;;;;;;;;IASH,GAAGP,IAAQ,QAAoB;AAC7B,YAAM,gBAAgBA,IAAG;AACzB,UAAI,eAAe,WAAW,SAAS,UAAU,IAAI,QAAQ;AAAG;AAChE,eAAS,UAAW,eAAe,SAAS;AAC5C,YAAM,cAAc,KAAK,MAAM,cAAc,KAAK,aAAa,UAC5D;AAEH,cAAQ,QAAM;QACZ,KAAKO,cAAY;QACjB,KAAKA,cAAY;AACf,eAAK,mBAAmB,MAAM;AAC9B;QACF,KAAKA,cAAY;AACf,eAAK,QAAQ,UAAU,CAAC;AACxB,eAAK,QAAQ,sBAAqB;AAClC;QACF,KAAKA,cAAY;QACjB,KAAKA,cAAY;QACjB,KAAKA,cAAY;AACf,eAAK,yBAAyB,QAAQ,aAAa;AACnD;QACF,KAAKA,cAAY;AACf,eAAK,gBAAgB,aAAa;AAClC;QACF,KAAKA,cAAY,YAAY;AAC3B,cAAI,OAAO,CAAC,cAAc,QAAQ;AAClC,cAAI,WAAW,SAAS,MAAM,KAAK,aAAa;AAC9C,oBAAQ;AACV,qBAAW,QAAQ;AACnB,eAAK,MAAM,SAAS,YAAY,KAAK,MAAM,eAAe;AAC1D,eAAK,YAAYP,EAAC;AAClB;QACD;QACD,KAAKO,cAAY,cAAc;AAC7B,qBAAW,UAAU,CAAC,cAAc,QAAQ;AAC5C,eAAK,MAAM,SAAS,YAAY,KAAK,MAAM,eAAe;AAC1D,eAAK,YAAYP,EAAC;AAClB;QACD;QACD,KAAKO,cAAY,cAAc;AAC7B,qBAAW,UAAU,CAAC,cAAc,QAAQ;AAC5C,eAAK,MAAM,SAAS,YAAY,KAAK,MAAM,eAAe;AAC1D,eAAK,YAAYP,EAAC;AAClB;QACD;QACD,KAAKO,cAAY;AACf,eAAK,iBAAiB,YAAY,KAAK,KAAK;AAC5C;QACF,KAAKA,cAAY;AACf,eAAK,iBACH,YACA,KAAK,SACL,KAAK,aAAa,QAAQ,QAAQ;AAEpC;QACF,KAAKA,cAAY;AACf,eAAK,iBAAiB,YAAY,KAAK,OAAO;AAC9C;QACF,KAAKA,cAAY;AACf,eAAK,iBAAiB,YAAY,KAAK,OAAO,EAAE;AAChD;QACF,KAAKA,cAAY;AACf,eAAK,iBACH,YACA,KAAK,SACL,KAAK,aAAa,QAAQ,WAAW,EAAE;AAEzC;QACF,KAAKA,cAAY;AACf,eAAK,iBAAiB,YAAY,KAAK,SAAS,EAAE;AAClD;QACF,KAAKA,cAAY;AACf,eAAK,iBACH,YACA,KAAK,OACL,KAAK,MAAM,WAAW,SAAS,KAAK,MAAM,EAAE;AAE9C;QACF,KAAKA,cAAY;AACf,eAAK,aAAa,aAAa;AAC/B;QACF,KAAKA,cAAY;QACjB,KAAKA,cAAY;QACjB,KAAKA,cAAY;QACjB,KAAKA,cAAY;AAEf,cACE,CAAC,KAAK,aAAa,QAAQ,QAAQ,cACnC,KAAK,aAAa,gBAAgB,SAClC;AAEA,qBAAS,gBAAgB,KAAK,QAAQ,aAAa;AAEnD,qBAAS,gBAAgB,KAAK,QAAQ,aAAa;UACpD;AACD,eAAK,0BAA0B,MAAM;AACrC;QACF,KAAKA,cAAY;AACf,eAAK,MAAM,SAAS,IAAI;AACxB,eAAK,QAAQ,sBAAqB;AAClC;QACF,KAAKA,cAAY;AACf,eAAK,QAAQ,KAAI;AACjB;QACF,KAAKA,cAAY,OAAO;AACtB,gBAAM,MAAM,IAAI,SAAQ,EAAG,gBACzB,KAAK,aAAa,QAAQ,YAAY;AAExC,eAAK,eAAe,eAAe,KAAK,GAAG;AAE3C,cAAI,CAAC,KAAK,WAAW,QAAQ,KAAK,KAAK,IAAI;AAAG;AAE9C,cAAI,KAAK,aAAa,QAAQ;AAAW,iBAAK,gBAAgB,GAAG;mBACxD,KAAK,aAAa,QAAQ,eAAe;AAChD,iBAAK,gBAAgB,GAAG;UACzB,OAAM;AACL,iBAAK,MAAM,SAAS,KAAK,KAAK,MAAM,eAAe;UACpD;AACD;QACD;MACF;;IAGK,0BAA0B,QAAmB;AACnD,UAAI,CAAC,KAAK,QAAQ,UAAU;AAC1B,kBAAU,cAAc,WACtB,qDAAqD;AAGvD;MACD;AAED,WAAK,aAAa,cAAc;AAChC,WAAK,QAAQ,OACV,iBAAiB,IAAI,UAAU,IAAI,aAAa,QAAQ,EACxD,QACC,CAAC,gBAA8B,YAAY,MAAM,UAAU,MAAO;AAGtE,UAAI,aAAa;AACjB,cAAQ,QAAM;QACZ,KAAKA,cAAY;AACf,uBAAa,UAAU,IAAI;AAC3B,eAAK,QAAQ,QAAQ,OAAO;AAC5B;QACF,KAAKA,cAAY;AACf,uBAAa,UAAU,IAAI;AAC3B,eAAK,QAAQ,QAAQ,KAAK,KAAK;AAC/B;QACF,KAAKA,cAAY;AACf,uBAAa,UAAU,IAAI;AAC3B,eAAK,QAAQ,QAAQ,KAAK,OAAO;AACjC;QACF,KAAKA,cAAY;AACf,uBAAa,UAAU,IAAI;AAC3B,eAAK,QAAQ,QAAQ,KAAK,OAAO;AACjC;MACH;AAED,YAAM,UAAU,KAAK,QAAQ,OAAO,uBAClC,UAAU,EACV,CAAC;AACH,cAAQ,MAAM,UAAU;AACV,cAAQ,SAAS,CAAC,GAAI,MAAK;;IAGnC,mBAAmB,QAAmB;AAC5C,YAAM,EAAE,MAAM,KAAI,IAChB,cAAc,KAAK,aAAa,uBAAuB;AACzD,UAAI,WAAWA,cAAY;AACzB,aAAK,aAAa,SAAS,WAAW,MAAM,IAAI;;AAC7C,aAAK,aAAa,SAAS,WAAW,OAAO,IAAI,IAAI;AAC1D,WAAK,eAAe,WAAW,KAAI;AAEnC,WAAK,QAAQ,UAAS;;;;;;IAOhB,YAAYP,IAAC;AACnB,UACE,CAAC,KAAK,aAAa,gBACnB,CAAC,KAAK,aAAa,QAAQ,QAAQ,WAAW,WAC9C,CAAC,KAAK,aAAa,QAAQ,QAAQ,YACnC,CAAC,KAAK,aAAa,QAAQ,QAAQ,QACnC;AACA,aAAK,QAAQ,KAAI;MAClB,OAAM;AACL,aAAK,GAAGA,IAAGO,cAAY,SAAS;MACjC;;;;;;;;IASK,iBAAiB,YAAsB,MAAY,QAAQ,GAAC;AAClE,YAAM,UAAU,WAAW,WAAW,OAAO,IAAI;AACjD,UAAI,KAAK,WAAW,QAAQ,SAAS,IAAI,GAAG;AAC1C,aAAK,MAAM,SAAS,SAAS,KAAK,MAAM,eAAe;MACxD;;IAGK,yBACN,QAIA,eAA0B;AAE1B,YAAM,QAAQ,CAAC,cAAc,QAAQ;AACrC,cAAQ,QAAM;QACZ,KAAKA,cAAY;AACf,eAAK,aAAa,SAAS,QAAQ;AACnC;QACF,KAAKA,cAAY;QACjB,KAAKA,cAAY;AACf,eAAK,aAAa,SAAS,OAAO;AAClC;MACH;AAED,UACE,KAAK,aAAa,4BAClB,KAAK,aAAa,yBAClB;AACA,aAAK,MAAM,SACT,KAAK,aAAa,UAClB,KAAK,MAAM,eAAe;AAG5B,YAAI,CAAC,KAAK,aAAa,QAAQ,QAAQ,QAAQ;AAC7C,eAAK,QAAQ,KAAI;QAClB;MACF,OAAM;AACL,aAAK,QAAQ,UAAU,EAAE;MAC1B;;IAGK,aAAa,eAA0B;AAC7C,UACE,cAAc,aAAa,OAAO,MAClC,KAAK,aAAa,QAAQ,aAAa,YACvC;AACA,sBAAc,aACZ,SACA,KAAK,aAAa,QAAQ,aAAa,UAAU;AAEnD,sBAAc,YAAY,KAAK,QAAQ,SACrC,KAAK,aAAa,QAAQ,QAAQ,MAAM,IAAI,EAC5C;AAEF,aAAK,QAAQ,sBAAqB;AAClC,aAAK,aAAa,mBAAkB;MACrC,OAAM;AACL,sBAAc,aACZ,SACA,KAAK,aAAa,QAAQ,aAAa,UAAU;AAEnD,sBAAc,YAAY,KAAK,QAAQ,SACrC,KAAK,aAAa,QAAQ,QAAQ,MAAM,IAAI,EAC5C;AACF,YAAI,KAAK,QAAQ,UAAU;AACzB,eAAK,0BAA0BA,cAAY,SAAS;AACpD,eAAK,QAAQ,QAAQ,OAAO;QAC7B;MACF;AAED,WAAK,QAAQ,OACV,iBACC,IAAI,UAAU,IAAI,aAAa,MAAM,UAAU,IAAI,aAAa,EAAE,EAEnE,QAAQ,CAAC,gBAA6B,SAAS,OAAO,WAAW,CAAC;AACrE,WAAK,eAAe,WAAW,KAAI;AACnC,YAAM,UAAU,KAAK,QAAQ,OAAO,cAClC,IAAI,UAAU,IAAI,UAAU,gCAAgC;AAE9D,eAAS,MAAK;;IAGR,gBAAgB,eAA0B;AAChD,YAAM,MAAM,KAAK,aAAa,SAAS;AACvC,UAAI,cAAc,UAAU,SAAS,UAAU,IAAI,GAAG,GAAG;AACvD,YAAI,WAAW,IAAI,KAAK,KAAK;MAC9B;AACD,UAAI,cAAc,UAAU,SAAS,UAAU,IAAI,GAAG,GAAG;AACvD,YAAI,WAAW,GAAG,KAAK,KAAK;MAC7B;AAED,UAAI,OAAO,CAAC,cAAc,QAAQ;AAClC,UAAI,KAAK,aAAa,QAAQ;AAAW,aAAK,gBAAgB,GAAG;eACxD,KAAK,aAAa,QAAQ,eAAe;AAChD,aAAK,gBAAgB,GAAG;MACzB,OAAM;AACL,aAAK,MAAM,SAAS,KAAK,KAAK,MAAM,eAAe;MACpD;AAED,UACE,CAAC,KAAK,QAAQ,YACd,CAAC,KAAK,aAAa,QAAQ,QAAQ,YACnC,CAAC,KAAK,aAAa,QAAQ,QAAQ,UACnC,CAAC,KAAK,aAAa,QAAQ,iBAC3B,CAAC,KAAK,aAAa,QAAQ,WAC3B;AACA,aAAK,QAAQ,KAAI;MAClB;;IAGK,gBAAgB,KAAa;AACnC,UAAI,QAAQ,KAAK,MAAM,YAAY,KAAK,KAAK,IAAI;AACjD,UAAI,UAAU,IAAI;AAChB,aAAK,MAAM,SAAS,MAAM,KAAK;MAChC,OAAM;AACL,gBAAQ,KAAK,MAAM,kBAAkB;AACrC,YAAI,KAAK,MAAM,OAAO,WAAW;AAAG,kBAAQ;AAE5C,aAAK,MAAM,SAAS,KAAK,KAAK;MAC/B;;IAGK,gBAAgB,KAAa;AACnC,cAAQ,KAAK,MAAM,OAAO,QAAM;QAC9B,KAAK,GAAG;AACN,eAAK,MAAM,MAAK;AAChB;QACD;QACD,KAAK,GAAG;AACN,gBAAM,QAAQ,KAAK,MAAM,OAAO,CAAC;AACjC,cAAI,IAAI,QAAO,MAAO,MAAM,QAAO,GAAI;AACrC,iBAAK,MAAM,MAAK;AAChB;UACD;AACD,cAAI,IAAI,SAAS,KAAK,GAAG;AACvB,iBAAK,MAAM,SAAS,KAAK,CAAC;AAC1B,iBAAK,MAAM,SAAS,OAAO,CAAC;AAC5B;UACD,OAAM;AACL,iBAAK,MAAM,SAAS,KAAK,CAAC;AAC1B;UACD;QACF;MACF;AAED,WAAK,MAAM,SAAS,KAAK,CAAC;;EAE7B;ACpWD,MAAM,gBAAN,MAAmB;IAYjB,YAAY,SAAsB,UAAmB,CAAA,GAAa;AAVlE,WAAY,eACV,CAAA;AACM,WAAW,cAAG;AA6gBd,WAAA,oBAAoB,CAAC,UAAe;AAC1C,cAAM,sBAAsB,OAAO;AACnC,YAAI;AAAqB;AAEzB,cAAM,cAAc,MAAK;AACvB,cAAI,KAAK,MAAM;AACb,iBAAK,aAAa,WAAW,KAAK,MAAM,WAAW;QACvD;AAEA,cAAM,QAAQ,KAAK,aAAa,MAAM;AACtC,YACE,KAAK,aAAa,QAAQ,iBAC1B,KAAK,aAAa,QAAQ,WAC1B;AACA,cAAI;AACF,kBAAM,aAAa,MAAM,MACvB,KAAK,aAAa,QAAQ,sBAAsB;AAElD,qBAASvB,KAAI,GAAGA,KAAI,WAAW,QAAQA,MAAK;AAC1C,mBAAK,MAAM,aAAa,WAAWA,EAAC,GAAGA,EAAC;YACzC;AACD,wBAAW;UACZ,QAAO;AACN,oBAAQ,KACN,uFAAuF;UAE1F;QACF,OAAM;AACL,eAAK,MAAM,aAAa,OAAO,CAAC;AAChC,sBAAW;QACZ;MACH;AAOQ,WAAiB,oBAAG,MAAK;AAC/B,YACG,KAAK,aAAa,SAA8B,YACjD,KAAK,aAAa,OAAO;QAExB,KAAK,aAAa,OAAO,aAAa,WACpC,KAAK,aAAa,QAA6B,SAAS,UACzD,KAAK,aAAa,QAAQ;AAE5B;AACF,aAAK,OAAM;MACb;AAgBQ,WAAe,kBAAG,MAAK;AAC7B,YACG,KAAK,aAAa,SAA8B,YACjD,KAAK,aAAa,OAAO;AAEzB;AACF,YAAI,CAAC,KAAK,QAAQ;AAAW,eAAK,KAAI;MACxC;AA5kBE,0BAAmB;AACnB,WAAK,iBAAiB,eAAe,OAAO,aAAa;AACzD,WAAK,eAAe,eAAe,OAAO,YAAY;AACtD,WAAK,UAAU,eAAe,OAAO,OAAO;AAC5C,WAAK,QAAQ,eAAe,OAAO,KAAK;AACxC,WAAK,UAAU,eAAe,OAAO,OAAO;AAE5C,UAAI,CAAC,SAAS;AACZ,kBAAU,cAAc,mBAAkB;MAC3C;AAED,WAAK,aAAa,UAAU;AAC5B,WAAK,mBAAmB,SAAS,gBAAgB,IAAI;AACrD,WAAK,aAAa,SAAS,gBACzB,KAAK,aAAa,QAAQ,YAAY;AAExC,WAAK,aAAa,QAAQ;AAE1B,WAAK,iBAAgB;AACrB,WAAK,kBAAiB;AAEtB,UAAI,KAAK,aAAa,QAAQ,QAAQ;AAAQ,aAAK,QAAQ,KAAI;AAE/D,WAAK,eAAe,aAAa,UAAU,CAACgB,OAAK;AAC/C,aAAK,cAAcA,EAAC;MACtB,CAAC;AAED,WAAK,eAAe,WAAW,UAAU,MAAK;AAC5C,aAAK,YAAW;MAClB,CAAC;AAED,WAAK,eAAe,eAAe,UAAU,CAAC,aAAY;AACxD,aAAK,WAAW;MAClB,CAAC;;IAGH,IAAI,WAAQ;AACV,aAAO,KAAK,aAAa;;IAG3B,IAAI,SAAS,OAAK;AAChB,WAAK,aAAa,WAAW;AAC7B,WAAK,aAAa,SAAS,gBACzB,KAAK,aAAa,QAAQ,YAAY;AAExC,WAAK,QAAQ,QACX,KAAK,aAAa,gBAAgB,UAAU,UAAU,UAAU;;;;;;;;;IAWpE,cAAc,SAAS,QAAQ,OAAK;AAClC,UAAI;AAAO,aAAK,mBAAmB,SAAS,cAAc;;AACrD,aAAK,mBAAmB,SAAS,KAAK,aAAa,OAAO;AAE/D,WAAK,aAAa,SAAS,gBACzB,KAAK,aAAa,QAAQ,YAAY;AAExC,WAAK,QAAQ,mBAAkB;;;;;;;IAQjC,SAAM;AACJ,UAAI,KAAK;AAAa;AACtB,WAAK,QAAQ,OAAM;;;;;;;IAQrB,OAAI;AACF,UAAI,KAAK;AAAa;AACtB,WAAK,QAAQ,KAAI;;;;;;;IAQnB,OAAI;AACF,WAAK,QAAQ,KAAI;;;;;;;IAQnB,UAAO;AACL,WAAK,cAAc;AAGnB,WAAK,aAAa,OAAO,aAAa,YAAY,UAAU;AAC5D,WAAK,QAAQ,KAAI;;;;;;;IAQnB,SAAM;AACJ,WAAK,cAAc;AACnB,WAAK,aAAa,OAAO,gBAAgB,UAAU;;;;;;;IAQrD,QAAK;AACH,WAAK,aAAa,MAAM,QAAQ;AAChC,WAAK,MAAM,MAAK;;;;;;;;;IAUlB,UACE,YACA;AAEA,UAAI,OAAO,eAAe,UAAU;AAClC,qBAAa,CAAC,UAAU;MACzB;AACD,UAAI;AACJ,UAAI,CAAC,MAAM,QAAQ,SAAS,GAAG;AAC7B,wBAAgB,CAAC,SAAS;MAC3B,OAAM;AACL,wBAAgB;MACjB;AAED,UAAI,WAAW,WAAW,cAAc,QAAQ;AAC9C,kBAAU,cAAc,kBAAiB;MAC1C;AAED,YAAM,cAAc,CAAA;AAEpB,eAAShB,KAAI,GAAGA,KAAI,WAAW,QAAQA,MAAK;AAC1C,cAAM,YAAY,WAAWA,EAAC;AAC9B,YAAI,CAAC,MAAM,QAAQ,KAAK,aAAa,SAAS,CAAC,GAAG;AAChD,eAAK,aAAa,SAAS,IAAI,CAAA;QAChC;AAED,aAAK,aAAa,SAAS,EAAE,KAAK,cAAcA,EAAC,CAAC;AAElD,oBAAY,KAAK;UACf,aAAa,KAAK,aAAa,KAC7B,MACA,WACA,KAAK,aAAa,SAAS,EAAE,SAAS,CAAC;QAE1C,CAAA;AAED,YAAI,WAAW,WAAW,GAAG;AAC3B,iBAAO,YAAY,CAAC;QACrB;MACF;AAED,aAAO;;;;;;IAOT,UAAO;AACL,WAAK,QAAQ,KAAI;AAEjB,WAAK,QAAQ,SAAQ;AACrB,WAAK,eAAe,QAAO;AAC3B,WAAK,aAAa,OAAO,oBACvB,UACA,KAAK,iBAAiB;AAExB,UAAI,KAAK,aAAa,QAAQ,kBAAkB;AAC9C,aAAK,aAAa,OAAO,oBACvB,SACA,KAAK,eAAe;AAEtB,aAAK,aAAa,OAAO,oBACvB,SACA,KAAK,eAAe;MAEvB;AACD,WAAK,aAAa,QAAQ,oBACxB,SACA,KAAK,iBAAiB;AAExB,WAAK,aAAa,QAAQ,oBACxB,WACA,KAAK,oBAAoB;AAE3B,WAAK,eAAe,CAAA;;;;;;;IAQtB,OAAO,UAAgB;AACrB,YAAM,QAAQ,cAAc,QAAQ;AACpC,UAAI,CAAC;AAAO;AACZ,WAAK,cAAc;QACjB,cAAc;MACf,CAAA;;;;;;;;IASK,cAAc,OAAgB;AACpC,YAAM,WAAW,KAAK,aAAa;AAEnC,YAAM,gBAAgB,MAAM,SAAS,UAAU,OAAO;AACtD,UAAI,eAAe;AACjB,cAAM,EAAE,MAAM,SAAS,QAAO,IAAK;AACnC,YACG,QAAQ,WAAW,KAAK,OAAO,OAAO,KACtC,CAAC,WAAW,CAAC,QAAQ,CAAC,SACvB;AACA;QACD;AACD,aAAK,wBAAwB,KAAoB;AAEjD,aAAK,aAAa,OAAO;;UAEvB,IAAI,YAAY,UAAU,EAAE,QAAQ,MAAY,CAAE;QAAC;AAGrD,YAAI,KAAK,aAAa,QAAQ;AAC5B,cAAI,QAAQ,KAAK,aAAa,QAAQ,aAAa;AACnD,cAAI,KAAK,MAAM,OAAO,SAAS,GAAG;AAChC,kBAAM,SAAS,KAAK,MAAM,OAAO,IAAI,CAACK,OAAMA,GAAE,OAAM,CAAE,EAAE,KAAK,IAAI;AACjE,oBAAQ,GAAG,KAAK,KAAK,MAAM;UAC5B;AAED,eAAK,aAAa,OAAO,YAAY;QACtC;MACF;AAED,WAAK,aAAa,QAAQ;;QAExB,IAAI,YAAY,MAAM,MAAM,EAAE,QAAQ,MAAY,CAAE;MAAC;AAIvD,UAAK,OAAe,QAAQ;AAE1B,cAAM2B,KAAK,OAAe;AAE1B,YAAI,iBAAiB,KAAK,aAAa,OAAO;AAC5C,UAAAA,GAAE,KAAK,aAAa,KAAK,EAAE,QAAQ,KAAK;QACzC,OAAM;AACL,UAAAA,GAAE,KAAK,aAAa,OAAO,EAAE,QAAQ,KAAK;QAC3C;MACF;AAED,WAAK,SAAS,KAAK;;IAGb,SAAS,OAAgB;AAE/B,UAAI,CAAC,MAAM,QAAQ,KAAK,aAAa,MAAM,IAAI,CAAC,GAAG;AACjD;MACD;AAGD,WAAK,aAAa,MAAM,IAAI,EAAE,QAAQ,CAAC,aAAY;AACjD,iBAAS,KAAK;MAChB,CAAC;;;;;;IAOK,cAAW;AACjB,WAAK,cAAc;QACjB,MAAM,UAAU,OAAO;QACvB,UAAU,KAAK,aAAa,SAAS;MACnB,CAAA;;IAGd,aAAa,WAAW,OAAK;AACnC,WAAK,aAAa,SAAS,EAAE,OAAO,OAAO,CAAC;;;;;;;;;IAUtC,mBACNV,SACA,SACA,iBAAiB,OAAK;AAEtB,UAAI,YAAY,gBAAgB,SAASA,OAAM;AAC/C,kBAAY,gBAAgB,cAAc,WAAW,OAAO;AAC5D,UAAI;AACF,oBAAY,gBAAgB,eAC1B,KAAK,aAAa,SAClB,SAAS;AAGb,sBAAgB,mBAAmB,SAAS;AAE5C,gBAAU,WAAW,UAAU,SAAS,gBACtC,UAAU,YAAY;AAGxB,UAAI,CAAC,KAAK,aAAa,SAAS,OAAO,UAAU,QAAQ,GAAG;AAC1D,aAAK,aAAa,WAAW,UAAU;MACxC;AAMD,UAAI,UAAU,QAAQ,WAAW,MAAM;AACrC,aAAK,aAAa,0BAA0B;MAC7C;AACD,UAAI,UAAU,QAAQ,WAAW,OAAO;AACtC,aAAK,aAAa,0BAA0B;MAC7C;AACD,UAAI,UAAU,QAAQ,WAAW,MAAM;AACrC,aAAK,aAAa,0BAA0B;MAC7C;AAED,WAAK,aAAa,0BAA0B,KAAK,IAC/C,KAAK,aAAa,yBAClB,KAAK,aAAa,uBAAuB;AAI3C,UACE,cAAc,KAAK,aAAa,uBAAuB,EAAE,SACzD,UAAU,QAAQ,UAClB;AACA,aAAK,aAAa,0BAA0B,KAAK,IAC/C,cAAc,UAAU,CAACjB,OAAMA,GAAE,SAAS,UAAU,QAAQ,QAAQ,GACpE,KAAK,aAAa,uBAAuB;MAE5C;AAED,UAAI,KAAK,SAAS,WAAW;AAC3B,aAAK,QAAQ,QAAQ,KAAK;MAC3B;AAED,UACE,UAAU,QAAQ,WAAW,qBAC7B,UAAU,aAAa,cAAc;AAErC,kBAAU,aAAa,YAAY;eAC5B,UAAU,aAAa,cAAc,QAAW;AACvD,kBAAU,aAAa,YAAY,eACjC,UAAU,aAAa,MAAM;MAEhC;AAED,WAAK,aAAa,UAAU;AAE5B,UACE,UAAU,aAAa,WACvB,KAAK,SAAS,QAAQ,UAAU,aAAa,OAAO;AAEpD,aAAK,WAAW,UAAU,aAAa,QAAQ;AAEjD,UACE,UAAU,aAAa,WACvB,KAAK,SAAS,SAAS,UAAU,aAAa,OAAO;AAErD,aAAK,WAAW,UAAU,aAAa,QAAQ;;;;;;;IAQ3C,mBAAgB;AACtB,UAAI,KAAK,aAAa,QAAQ,WAAW,SAAS;AAChD,aAAK,aAAa,QAAQ,KAAK,aAAa;MAC7C,OAAM;AACL,cAAM,QAAQ,KAAK,aAAa,QAAQ,QAAQ;AAChD,YAAI,SAAS,UAAa,SAAS,WAAW;AAC5C,eAAK,aAAa,QAChB,KAAK,aAAa,QAAQ,cAAc,OAAO;QAClD,OAAM;AACL,eAAK,aAAa,QAChB,KAAK,aAAa,QAAQ,cAAc,KAAK;QAChD;MACF;AAED,UAAI,CAAC,KAAK,aAAa;AAAO;AAE9B,UAAI,CAAC,KAAK,aAAa,MAAM,SAAS,KAAK,aAAa,QAAQ;AAC9D,aAAK,aAAa,MAAM,QAAQ,KAAK,MAAM,YACzC,KAAK,aAAa,QAAQ,WAAW;AAGzC,WAAK,aAAa,MAAM,iBAAiB,UAAU,KAAK,iBAAiB;AACzE,UAAI,KAAK,aAAa,QAAQ,kBAAkB;AAC9C,aAAK,aAAa,MAAM,iBAAiB,SAAS,KAAK,eAAe;AACtE,aAAK,aAAa,MAAM,iBAAiB,SAAS,KAAK,eAAe;MACvE;AAED,UAAI,KAAK,aAAa,MAAM,OAAO;AACjC,aAAK,kBAAiB;MACvB;;;;;;IAOK,oBAAiB;AACvB,UAAI,KAAK,aAAa,QAAQ,QAAQ;AAAQ;AAC9C,UAAI,QAAQ,KAAK,aAAa,QAAQ,QAAQ;AAC9C,UAAI,SAAS,WAAW;AACtB,gBAAQ;MACT;AACD,WAAK,aAAa,SAChB,SAAS,SACL,KAAK,aAAa,UAClB,KAAK,aAAa,QAAQ,cAAc,KAAK;AAEnD,UAAI,KAAK,aAAa,UAAU;AAAW;AAE3C,WAAK,aAAa,OAAO,iBAAiB,SAAS,KAAK,iBAAiB;AAEzE,UAAI,KAAK,aAAa,WAAW,KAAK,aAAa,SAAS;AAC1D,aAAK,aAAa,OAAO,iBACvB,WACA,KAAK,qBAAqB,KAAK,IAAI,CAAC;MAEvC;;;;;;;IAQK,wBAAwBW,IAAc;AAC5C;;QAEE,CAAC,KAAK,aAAa,QAAQ,0BAC3B,KAAK,aAAa,QAAQ,iBAC1B,KAAK,aAAa,QAAQ,QAAQ,UAClC,KAAK,aAAa,QAAQ,QAAQ;QAElC,CAAC,KAAK,QAAQ;QAEd,KAAK,QAAQ,QACT,uBAAuB,UAAU,IAAI,IAAI,EAAE,CAAC,EAC7C,UAAU,SAAS,UAAU,IAAI,aAAa;;AAEjD;AAKF,UACG,CAACA,GAAE,WAAW,KAAK,aAAa,QAAQ,cACxCA,GAAE,WAAWA,GAAE,MAAM,OAAOA,GAAE,OAAO,GACtC;AACA;MACD;AAED,mBAAa,KAAK,yBAAyB;AAC3C,WAAK,4BAA4B,WAAW,MAAK;AAC/C,YAAI,KAAK,QAAQ,QAAQ;AACvB,eAAK,eAAe,OAAO,KAAK;YAC9B,GAAG;cACD,eAAe,KAAK,QAAQ,OAAO,cACjC,8BAA8B;YAEjC;YACD,QAAQO,cAAY;UACrB,CAAA;QACF;SACA,KAAK,aAAa,QAAQ,qCAAqC;;IA4D5D,qBAAqB,OAAoB;AAC/C,UAAI,MAAM,QAAQ,OAAO,MAAM,QAAQ;AAAS;AAEhD,WAAK,aAAa,OAAO,MAAK;AAE9B,YAAM,gBAAe;AACrB,YAAM,eAAc;;EAgBvB;AAMD,MAAM,gBAAgB,CAAA;AAOtB,MAAM,aAAa,CAACU,OAAK;AACvB,QAAI,cAAcA,GAAE,IAAI;AAAG;AAC3B,kBAAcA,GAAE,IAAI,IAAIA,GAAE;EAC5B;AAOA,MAAM,SAAS,CAACA,OAAa;AAC3B,UAAM,QAAQ,cAAcA,EAAC;AAC7B,QAAI,CAAC;AAAO;AACZ,mBAAe,eAAe;EAChC;AAQA,MAAMC,UAAS,SAAU,QAAQ,SAAS,QAAS;AACjD,QAAI,CAAC;AAAQ,aAAO;AACpB,QAAI,CAAC,OAAO,WAAW;AAErB,aACE,QACA,EAAE,eAAe,OAAO,SAAS,UAAU,UAAS,GACpD,aAAa;AAEf,aAAO,YAAY;IACpB;AACD,WAAO;EACT;AAEM,MAAA,UAAU;AAEhB,MAAM,gBAAgB;IACpB;IACA,QAAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;A3BrrBF,uBAAqB;AACrB,qBAAkB;AAClB,iCAA8B;AAC9B,gCAA6B;AAC7B,EAAAC,QAAO,wBAAAC,OAAgB;AACvB,EAAAD,QAAO,mBAAI;AAqBX,MAAO,gCAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,QAAQ,eAAe,eAAe,YAAY,mBAAmB,mBAAmB,gBAAgB;AAAA;AAAA,IAG1H,oBAAoB,QAAQ;AAC1B,UAAI,mBAAmB,OAAO,aAAa,cAAc,KAAK,OAAO,QAAQ,WAAW;AACxF,WAAK,aAAa,QAAQ,gBAAgB;AAAA,IAC5C;AAAA,IAEA,2BAA2B,QAAQ;AACjC,UAAI,mBAAmB,OAAO,aAAa,cAAc,KAAK,OAAO,QAAQ,WAAW;AACxF,WAAK,aAAa,QAAQ,gBAAgB;AAAA,IAC5C;AAAA,IAEA,2BAA2B,QAAQ;AACjC,mBAAAE,QAAM,OAAO,yBAAAC,OAAiB;AAE9B,UAAI,mBAAmB,OAAO,aAAa,cAAc,KAAK,OAAO,QAAQ,WAAW;AACxF,UAAI,UAAU,KAAK,aAAa,QAAQ,gBAAgB;AAExD,WAAK,mBAAmB,QAAQ,CAAC,YAAY;AAC3C,aAAK,gBAAgB,SAAS,QAAQ,OAAO;AAAA,MAC/C,CAAC;AAAA,IACH;AAAA;AAAA,IAGA,wBAAwB,QAAQ;AAC9B,UAAI,mBAAmB,OAAO,aAAa,cAAc,KAAK,OAAO,QAAQ,WAAW;AACxF,WAAK,iBAAiB,QAAQ,gBAAgB;AAAA,IAChD;AAAA,IAEA,+BAA+B,QAAQ;AACrC,UAAI,mBAAmB,OAAO,aAAa,cAAc,KAAK,OAAO,QAAQ,WAAW;AACxF,WAAK,iBAAiB,QAAQ,gBAAgB;AAAA,IAChD;AAAA,IAEA,+BAA+B,QAAQ;AACrC,mBAAAD,QAAM,OAAO,yBAAAC,OAAiB;AAE9B,UAAI,mBAAmB,OAAO,aAAa,cAAc,KAAK,OAAO,QAAQ,WAAW;AACxF,UAAI,UAAU,KAAK,iBAAiB,QAAQ,gBAAgB;AAE5D,WAAK,uBAAuB,QAAQ,CAAC,YAAY;AAC/C,aAAK,gBAAgB,SAAS,QAAQ,OAAO;AAAA,MAC/C,CAAC;AAAA,IACH;AAAA,IAEA,aAAa,QAAQ,kBAAkB;AACrC,YAAM,OAAO,SAAS,OAAO,QAAQ,QAAQ,KAAK,EAAE;AAEpD,UAAI,UAAU;AAAA,QACZ,SAAS;AAAA,UACP,YAAY;AAAA,YACV,OAAO;AAAA,YACP,OAAO;AAAA,YACP,SAAS;AAAA,YACT,SAAS;AAAA,UACX;AAAA,QACF;AAAA,QACA,cAAc;AAAA,UACZ,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,gBAAgB;AAAA,QAClB;AAAA,QACA,aAAa,SAAS,YAAQ,aAAAD,SAAM,EAAE,QAAQ,KAAK,EAAE,IAAI,MAAM,OAAO,EAAE,OAAO,GAAG,OAAO;AAAA,MAC3F;AAEA,UAAI,kBAAkB;AACpB,eAAO,QAAQ;AAAA,MACjB;AAEA,aAAO,IAAI,cAAc,QAAQ,OAAO;AAAA,IAC1C;AAAA,IAEA,iBAAiB,QAAQ,kBAAkB;AACzC,YAAM,OAAO,SAAS,OAAO,QAAQ,QAAQ,KAAK,EAAE;AACpD,YAAM,SAAS,SAAS,OAAO,QAAQ,UAAU,KAAK,EAAE;AAExD,UAAI,UAAU;AAAA,QACZ,SAAS;AAAA,UACP,UAAU,KAAK;AAAA,QACjB;AAAA,QACA,cAAc;AAAA,UACZ,QAAQ;AAAA,UACR,WAAW;AAAA,UACX,QAAQ;AAAA,UACR,gBAAgB;AAAA,QAClB;AAAA,QACA,aAAa,SAAS,YAAQ,aAAAA,SAAM,EAAE,QAAQ,KAAK,EAAE,IAAI,MAAM,OAAO,EAAE,IAAI,QAAQ,SAAS,EAAE,OAAO,GAAG,OAAO;AAAA,MAClH;AAEA,UAAI,OAAO,aAAa,mBAAmB,GAAG;AAC5C,gBAAQ,UAAU;AAAA,UAChB,UAAU,OAAO,QAAQ;AAAA,QAC3B;AAAA,MACF;AAEA,UAAI,kBAAkB;AACpB,eAAO,QAAQ;AAAA,MACjB;AAEA,aAAO,IAAI,cAAc,QAAQ,OAAO;AAAA,IAC1C;AAAA,IAEA,gBAAgB,SAAS,QAAQ,SAAS;AACxC,UAAI,QAAQ,QAAQ,SAAS,OAAO,QAAQ,MAAM;AAChD,YAAI,QAAQ,SAAS,IAAI;AACvB,kBAAQ,cAAc;AAAA,YACpB,cAAc;AAAA,cACZ,SAAS,QAAQ;AAAA,YACnB;AAAA,UACF,CAAC;AAAA,QACH;AAEA,gBAAQ,iBAAiB,aAAa,CAACE,OAAM;AAC3C,eAAK,qBAAqB,SAAS,QAAQ,SAASA,GAAE,OAAO,IAAI;AAAA,QACnE,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,qBAAqB,SAAS,QAAQ,WAAW,MAAM;AACrD,cAAQ,cAAc;AAAA,QACpB,cAAc;AAAA,UACZ,SAAS;AAAA,QACX;AAAA,MACF,CAAC;AAKD,UAAI,iBAAiB;AAErB,UAAI,OAAO,aAAa,qBAAqB,GAAG;AAC9C,yBAAiB,OAAO,QAAQ;AAAA,MAClC;AAEA,UAAI,UAAU,aAAa,QAAQ,cAAc,EAAE,GAAG;AACpD,mBAAO,aAAAF,SAAM,IAAI,EACd,IAAI,UAAU,aAAa,QAAQ,cAAc,EAAE,GAAG,OAAO,EAC7D,OAAO;AAEV,gBAAQ,MAAM,SAAS,SAAS,QAAQ,MAAM,OAAO,CAAC;AAAA,MACxD;AAAA,IACF;AAAA,EACF;;;A4B5KA;AAAA;AAAA;AAAA;AAEA,MAAO,4BAAP,cAA6B,WAAW;AAAA,IACtC,UAAU;AAER,UAAI,aAAa;AACjB,eAAS,iBAAiB,SAAS,EAAE,QAAQ,SAAU,QAAQ;AAC7D,mBAAW,iBAAiB,MAAM;AAAA,MACpC,CAAC;AAAA,IACH;AAAA,IAEA,iBAAiB,OAAO;AAEtB,YAAM,gBAAgB;AAGtB,eAAS,iBAAiB,wBAAwB,EAAE,QAAQ,SAAU,YAAY;AAChF,mBAAW,UAAU,OAAO,MAAM;AAAA,MACpC,CAAC;AAGD,UAAI,aAAa,KAAK,QAAQ,cAAc,8BAA8B;AAG1E,eAAS,iBAAiB,eAAe,EAAE,QAAQ,SAAU,QAAQ;AACnE,eAAO,UAAU,OAAO,gBAAgB;AAAA,MAC1C,CAAC;AAGD,UAAI,gBAAgB,MAAM,OAAO,QAAQ,SAAS,EAAE,cAAc,eAAe;AAGjF,UAAI,cAAc,eAAe;AAE/B,sBAAc,UAAU,OAAO,gBAAgB;AAAA,MACjD;AAAA,IACF;AAAA,IAEA,aAAa,OAAO;AAElB,UAAI,aAAa,KAAK,QAAQ,cAAc,8BAA8B;AAC1E,UAAI,iBAAiB,SAAS,uBAAuB,uBAAuB;AAG5E,UAAI,cAAc,SAAS,eAAe,MAAM,UAAU,WAAW,SAAS,MAAM,MAAM,GAAI;AAG9F,UAAI,kBAAkB,MAAM;AAC1B,mBAAW,cAAc,gBAAgB;AACvC,cAAI,eAAe,MAAM,UAAU,WAAW,SAAS,MAAM,MAAM,GAAG;AACpE,gBAAI,MAAM,OAAO,UAAU,SAAS,KAAK,GAAG;AAC1C,yBAAW,UAAU,OAAO,MAAM;AAAA,YACpC;AACA;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,eAAS,iBAAiB,eAAe,EAAE,QAAQ,SAAU,QAAQ;AACnE,eAAO,UAAU,OAAO,gBAAgB;AAAA,MAC1C,CAAC;AAAA,IACH;AAAA,IAEA,kBAAkB,OAAO;AAEvB,UAAI,SAAS,MAAM,OAAO,QAAQ,SAAS;AAC3C,WAAK,iBAAiB,MAAM;AAAA,IAC9B;AAAA,IAEA,iBAAiB,QAAQ;AAEvB,UAAI,QAAQ;AAEZ,aAAO,iBAAiB,SAAS,UAAU,UAAU,EAAE,QAAQ,SAAU,OAAO;AAC9E,YAAI,MAAM,QAAQ,YAAY;AAC5B,cAAI,MAAM,SAAS;AACjB,oBAAQ;AAAA,UACV;AAAA,QACF,WAAW,MAAM,QAAQ,qBAAqB,MAAM,QAAQ,YAAY,MAAM,QAAQ,QAAQ;AAC5F,cAAI,MAAM,MAAM,SAAS,GAAG;AAC1B,oBAAQ;AAAA,UACV;AAAA,QACF;AAAA,MACF,CAAC;AAGD,UAAI,OAAO;AACT,eAAO,cAAc,eAAe,EAAE,UAAU,IAAI,sBAAsB;AAAA,MAC5E,OAAO;AACL,eAAO,cAAc,eAAe,EAAE,UAAU,OAAO,sBAAsB;AAAA,MAC/E;AAAA,IACF;AAAA,EACF;;;AC7FA;AAAA;AAAA;AAAA;AA6BA,MAAO,0BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,gBAAgB,eAAe,OAAO;AAAA,IAExD,aAAa;AACX,WAAK,sBAAsB,CAAC;AAC5B,WAAK,kBAAkB,CAAC;AAAA,IAC1B;AAAA;AAAA,IAGA,4BAA4B,QAAQ;AAElC,WAAK,oBAAoB,OAAO,QAAQ,QAAQ,IAAI,OAAO,gBAAgB,CAAC,EAAE;AAAA,IAChF;AAAA,IAEA,2BAA2B,QAAQ;AAEjC,WAAK,gBAAgB,OAAO,QAAQ,OAAO,IAAI,MAAM,KAAK,OAAO,OAAO;AACxE,YAAM,SAAS,KAAK,QAAQ,cAAc,oBAAoB,OAAO,QAAQ,OAAO,IAAI;AACxF,WAAK,cAAc,OAAO,QAAQ,SAAS,OAAO,gBAAgB,CAAC,EAAE,KAAK;AAAA,IAC5E;AAAA,IAEA,mBAAmB,OAAO;AACxB,WAAK,cAAc,MAAM,cAAc,QAAQ,UAAU,MAAM,cAAc,KAAK;AAAA,IACpF;AAAA,IAEA,cAAc,UAAU,kBAAkB;AACxC,YAAM,WAAW,KAAK,QAAQ,iBAAiB,mBAAmB,QAAQ,IAAI;AAC9E,YAAM,SAAS,KAAK,QAAQ,cAAc,oBAAoB,QAAQ,IAAI;AAE1E,eAAS,QAAQ,CAAC,UAAU;AAC1B,aAAK,gBAAgB,QAAQ,EAAE,QAAQ,CAAC,WAAW;AACjD,cAAI,OAAO,QAAQ,qBAAqB,oBAAoB,OAAO,QAAQ,qBAAqB,QAAW;AACzG,kBAAM,sBAAsB,aAAa,MAAM;AAAA,UACjD,OAAO;AACL,gBAAI,OAAO,gBAAgB,CAAC,EAAE,UAAU,KAAK,oBAAoB,QAAQ,GAAG;AAE1E,oBAAM,QAAQ;AAAA,YAChB;AAGA,mBAAO,OAAO;AAAA,UAChB;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA;AAAA,IAGA,oBAAoB,OAAO;AACzB,WAAK,YAAY,QAAQ,MAAM,cAAc,gBAAgB,CAAC,EAAE,QAAQ;AAAA,IAC1E;AAAA,EACF;;;AC/EA;AAAA;AAAA;AAAA;AAmCA,MAAO,0BAAP,cAA6B,WAAW;AAAA,IACtC,gBAAgB,OAAO;AAGrB,YAAM,OAAO,QAAQ,YAAY,EAAE,UAAU,OAAO,WAAW;AAC/D,eAAS,cAAc,eAAe,EAAE,UAAU,OAAO,WAAW;AAAA,IACtE;AAAA,IAEA,cAAc,OAAO;AAEnB,YAAM,gBAAgB;AAGtB,UAAI,WAAW,KAAK,QAAQ,cAAc,2BAA2B;AAGrE,WAAK,cAAc;AAGnB,UAAI,cAAc,MAAM,OAAO,QAAQ,iBAAiB,EAAE,cAAc,YAAY;AAEpF,UAAI,iBAAiB,MAAM,OAAO,QAAQ,iBAAiB,EAAE,cAAc,qBAAqB;AAGhG,UAAI,YAAY,aAAa;AAE3B,oBAAY,UAAU,OAAO,gBAAgB;AAE7C,uBAAe,UAAU,OAAO,0BAA0B;AAAA,MAC5D;AAAA,IACF;AAAA,IAEA,iBAAiB,OAAO;AAGtB,UAAI,aAAa,MAAM,OAAO,QAAQ,cAAc;AAGpD,WAAK,cAAc,UAAU;AAG7B,iBAAW,UAAU,OAAO,mBAAmB;AAAA,IACjD;AAAA,IAEA,aAAa,OAAO;AAElB,UAAI,WAAW,KAAK,QAAQ,cAAc,yGAAyG;AAInJ,WAAK,YAAY,QAAQ,aAAa,MAAM,UAAU,SAAS,SAAS,MAAM,MAAM,MAAM,CAAC,KAAK,uBAAuB,MAAM,MAAM,GAAG;AACpI;AAAA,MACF;AAGA,WAAK,cAAc;AAAA,IACrB;AAAA,IAEA,cAAc,WAAW;AACvB,eAAS,iBAAiB,+CAA+C,EAAE,QAAQ,CAAC,SAAS;AAC3F,YAAI,SAAS,WAAW;AACtB,eAAK,UAAU,OAAO,kBAAkB,4BAA4B,mBAAmB;AAAA,QACzF;AAAA,MACF,CAAC;AAAA,IACH;AAAA;AAAA,IAGA,uBAAuB,SAAS;AAC9B,aAAO,CAAC,KAAK,QAAQ,EAAE,SAAS,QAAQ,OAAO,KAAK,QAAQ,QAAQ,GAAG,KAAK,QAAQ,QAAQ,QAAQ;AAAA,IACtG;AAAA,EACF;;;ACzGA;AAAA;AAAA;AAAA;AA2BA,MAAO,2BAAP,cAA6B,WAAW;AAAA,IACtC,UAAU;AACR,UAAI,KAAK,QAAQ,UAAU,SAAS,cAAc,KAAK,CAAC,KAAK,QAAQ,UAAU,SAAS,eAAe,GAAG;AAExG,iBAAS,KAAK,MAAM,WAAW;AAAA,MACjC;AAAA,IACF;AAAA,IAEA,aAAa;AACX,eAAS,KAAK,MAAM,WAAW;AAAA,IACjC;AAAA,IAEA,UAAU,OAAO;AACf,eAAS,eAAe,MAAM,cAAc,QAAQ,OAAO,EAAE,UAAU,OAAO,eAAe;AAAA,IAC/F;AAAA,IAEA,YAAY,OAAO;AACjB,eAAS,eAAe,MAAM,cAAc,QAAQ,OAAO,EAAE,UAAU,OAAO,eAAe;AAAA,IAC/F;AAAA,IAEA,SAAS;AACP,WAAK,QAAQ,OAAO;AAAA,IACtB;AAAA,IAEA,cAAc;AACZ,WAAK,QAAQ,WAAW,OAAO;AAAA,IACjC;AAAA,EACF;;;ACtDA;AAAA;AAAA;AAAA;;;ACAe,WAAR,IAAqB,QAAQ,KAAK;AACvC,WAAO,OAAO,UAAU,eAAe,KAAK,QAAQ,GAAG;AAAA,EACzD;;;ACFA,WAAS,4BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAI,KAAK;AAET,WAAS,2BAA2B,MAAM;AAAE,WAAO,eAAe,OAAO,MAAM;AAAA,EAAM;AAIrF,WAAS,kBAAkB,QAAQ,IAAI,aAAa;AAClD,UAAM,WAAW,CAAC;AAClB,WAAO,QAAQ,WAAS;AAKtB,UAAI,OAAO,UAAU,UAAU;AAC7B,eAAO,SAAS,KAAK,KAAK;AAAA,MAC5B;AAEA,aAAO,GAAG,OAAO,KAAK,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAKG,IAAG,SAAS;AACvD,YAAI,QAAQ,IAAI;AACd,mBAAS,KAAK,GAAG;AAAA,QACnB;AAGA,YAAIA,KAAI,KAAK,SAAS,GAAG;AACvB,mBAAS,KAAK,WAAW;AAAA,QAC3B;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,WAAO;AAAA,EACT;AAcA,WAAS,YAAY,QAAQ,SAAS;AACpC,UAAM,cAAc;AACpB,UAAM,kBAAkB;AACxB,QAAI,eAAe,CAAC,MAAM;AAC1B,QAAI,WAAW,KAAM,QAAO;AAE5B,eAAW,OAAO,OAAO,KAAK,OAAO,GAAG;AACtC,UAAI,QAAQ,KAAK;AAIf,YAAI,cAAc,QAAQ,GAAG;AAE7B,YAAI,OAAO,gBAAgB,UAAU;AACnC,wBAAc,YAAY,OAAO,OAAO,EAAE,aAAa,eAAe;AAAA,QACxE;AAKA,uBAAe,kBAAkB,cAAc,IAAI,OAAO,OAAO,GAAG,OAAO,GAAG,GAAG,WAAW;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAcA,MAAI,SAAsB,2CAA2B,OAAO;AAE5D,MAAqB,aAArB,MAAgC;AAAA;AAAA;AAAA;AAAA,IAI9B,YAAY,SAAS;AACnB,aAAO,eAAe,MAAM,QAAQ;AAAA,QAClC,OAAO;AAAA,MACT,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,SAAS,CAAC;AAAA,QAEV,UAAUC,IAAG;AACX,cAAIA,OAAM,GAAG;AACX,mBAAO;AAAA,UACT;AAEA,iBAAO;AAAA,QACT;AAAA,MAEF;AAEA,UAAI,MAAM,QAAQ,OAAO,GAAG;AAC1B,gBAAQ,QAAQ,4BAA4B,MAAM,MAAM,EAAE,MAAM,GAAG,IAAI;AAAA,MACzE,OAAO;AACL,oCAA4B,MAAM,MAAM,EAAE,MAAM,EAAE,OAAO;AAAA,MAC3D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,UAAU,KAAK,SAAS;AACtB,aAAO,KAAK,eAAe,KAAK,OAAO,EAAE,KAAK,EAAE;AAAA,IAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,eAAe,KAAK,SAAS;AAC3B,UAAI,CAAC,IAAI,KAAK,OAAO,SAAS,GAAG,GAAG;AAClC,cAAM,IAAI,MAAM,mBAAmB,GAAG,EAAE;AAAA,MAC1C;AAEA,YAAM,SAAS,KAAK,OAAO,QAAQ,GAAG;AACtC,YAAM,iBAAiB,OAAO,WAAW;AAEzC,UAAI,gBAAgB;AAClB,YAAI,WAAW,OAAO,QAAQ,gBAAgB,aAAa;AACzD,gBAAM,SAAS,KAAK,OAAO,UAAU,QAAQ,WAAW;AACxD,iBAAO,YAAY,OAAO,MAAM,GAAG,OAAO;AAAA,QAC5C;AAEA,cAAM,IAAI,MAAM,wFAAwF;AAAA,MAC1G;AAEA,aAAO,YAAY,QAAQ,OAAO;AAAA,IACpC;AAAA,EAEF;AAEA,WAAS,QAAQC,SAAQ;AACvB,QAAI,EAAEA,WAAU,QAAQA,QAAO,UAAU;AACvC;AAAA,IACF;AAEA,UAAM,aAAa,KAAK;AACxB,SAAK,SAAS;AAAA,MAAE,GAAG;AAAA,MACjB,SAAS;AAAA,QAAE,GAAG,WAAW;AAAA,QACvB,GAAGA,QAAO;AAAA,MACZ;AAAA,IACF;AACA,SAAK,OAAO,YAAYA,QAAO,aAAa,WAAW;AAAA,EACzD;;;AC3JA,iCAAe;;;ACZf,MAAI,cACF;AAWK,MAAI,SAAS,CAAC,OAAO,OAAO;AACjC,QAAIC,OAAK;AACT,QAAIC,KAAI;AACR,WAAOA,MAAK;AACV,MAAAD,QAAM,YAAa,KAAK,OAAO,IAAI,KAAM,CAAC;AAAA,IAC5C;AACA,WAAOA;AAAA,EACT;;;ADLA,sBAAqB;;;AEdrB,WAASE,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAErF,MAAM,cAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAKA,MAAI,aAA0B,gBAAAC,4BAA2B,WAAW;AAEpE,MAAI,WAAwB,gBAAAA,4BAA2B,SAAS;AAEhE,MAAM,eAAN,MAAmB;AAAA,IACjB,cAAc;AACZ,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,UAAU;AAAA,QACV,OAAO,oBAAI,IAAI;AAAA,MACjB,CAAC;AACD,WAAK,QAAQ,CAAC;AAAA,IAChB;AAAA,IAEA,WAAW;AACT,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,SAAS,OAAO;AACd,YAAM,YAAY;AAAA,QAAE,GAAG,KAAK;AAAA,MAC5B;AACA,YAAM,YAAY;AAAA,QAAE,GAAG,KAAK;AAAA,QAC1B,GAAG;AAAA,MACL;AACA,WAAK,QAAQ;AAEb,MAAAF,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,WAAW,WAAW,KAAK;AAAA,IACnF;AAAA,IAEA,UAAU,UAAU;AAClB,MAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,IAAI,QAAQ;AAEtE,aAAO,MAAM;AACX,QAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,OAAO,QAAQ;AAAA,MAC3E;AAAA,IACF;AAAA,EAEF;AAEA,WAAS,YAAY;AACnB,aAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,WAAK,IAAI,IAAI,UAAU,IAAI;AAAA,IAC7B;AAEA,IAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,QAAQ,cAAY;AAC5E,eAAS,GAAG,IAAI;AAAA,IAClB,CAAC;AAAA,EACH;AAEA,eAAa,UAAU,YAAY;AACnC,MAAO,cAAQ;;;AC3DA,WAAR,wBAAyC,cAAc;AAC5D,UAAM,UAAU,aAAa,YAAY,GAAG;AAE5C,QAAI,YAAY,MAAM,YAAY,aAAa,SAAS,GAAG;AACzD,aAAO;AAAA,QACL,MAAM;AAAA,QACN,WAAW;AAAA,MACb;AAAA,IACF;AAEA,WAAO;AAAA,MACL,MAAM,aAAa,MAAM,GAAG,OAAO;AAAA,MACnC,WAAW,aAAa,MAAM,UAAU,CAAC;AAAA,IAC3C;AAAA,EACF;;;AChBA,MAAO,oBAAQ;AAAA,IACb,IAAI;AAAA,IACJ,UAAU;AAAA,IACV,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,MAAM;AAAA,IACN,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,OAAO;AAAA,IACP,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,IACL,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,IACL,IAAI;AAAA,IACJ,KAAK;AAAA,EACP;;;ACtDe,WAAR,YAA6B,MAAM;AACxC,QAAI;AAEJ,QAAI,KAAK,KAAM,QAAO,KAAK;AAC3B,UAAM,gBAAgB,KAAK,QAAQ,wBAAwB,wBAAwB,KAAK,IAAI,EAAE,cAAc,OAAO,SAAS,sBAAsB,YAAY,IAAI;AAElK,QAAI,iBAAiB,iBAAiB,mBAAW;AAE/C,aAAO,kBAAU,aAAa;AAAA,IAChC;AAGA,WAAO;AAAA,EACT;;;ACfA,WAAS,gBAAgB,WAAW;AAClC,WAAO,UAAU,WAAW,CAAC,EAAE,SAAS,EAAE;AAAA,EAC5C;AAEA,WAAS,eAAe,MAAM;AAC5B,QAAI,SAAS;AACb,WAAO,KAAK,QAAQ,eAAe,eAAa;AAC9C,gBAAU,IAAI,gBAAgB,SAAS,CAAC;AACxC,aAAO;AAAA,IACT,CAAC,IAAI;AAAA,EACP;AAUe,WAAR,eAAgC,MAAM;AAG3C,QAAIG,OAAK;AAET,QAAI,OAAO,KAAK,SAAS,UAAU;AACjC,MAAAA,QAAM,IAAI,eAAe,KAAK,KAAK,YAAY,CAAC,CAAC;AAAA,IACnD;AAEA,QAAI,KAAK,SAAS,QAAW;AAC3B,MAAAA,QAAM,IAAI,KAAK,IAAI;AAAA,IACrB;AAEA,QAAI,KAAK,QAAQ,OAAO,KAAK,KAAK,iBAAiB,UAAU;AAC3D,MAAAA,QAAM,IAAI,eAAe,KAAK,KAAK,aAAa,YAAY,CAAC,CAAC;AAAA,IAChE;AAEA,QAAI,KAAK,KAAK,SAAS,QAAW;AAChC,MAAAA,QAAM,IAAI,KAAK,KAAK,IAAI;AAAA,IAC1B;AAEA,QAAI,KAAK,KAAK,iBAAiB,QAAW;AACxC,MAAAA,QAAM,IAAI,KAAK,KAAK,YAAY;AAAA,IAClC;AAEA,WAAOA;AAAA,EACT;;;AC3Ce,WAAR,uBAAwC,WAAW;AAExD,QAAI,aAAa,QAAQ,OAAO,cAAc,aAAa;AAEzD,kBAAY,UAAU;AAAA,IACxB;AAGA,QAAI,CAAC,UAAW,QAAO;AACvB,UAAMC,KAAI,mBAAmB,KAAK,SAAS;AAC3C,QAAI,CAACA,GAAG,QAAO;AACf,UAAM,cAAcA,GAAE,CAAC;AACvB,QAAI,CAAC,OAAO,KAAK,IAAI,YAAY,MAAM,GAAG;AAC1C,YAAQ,SAAS,OAAO,EAAE;AAC1B,YAAQ,SAAS,OAAO,EAAE;AAI1B,QAAI,QAAQ,MAAM,UAAU,MAAM,QAAQ,OAAO;AAC/C,aAAO;AAAA,IACT;AAIA,QAAI,QAAQ,MAAM,UAAU,MAAM,SAAS,OAAO;AAChD,aAAO;AAAA,IACT;AAGA,WAAO;AAAA,EACT;;;ACjCe,WAAR,YAA6B,UAAU,gBAAgB;AAC5D,QAAI,eAAe,MAAM;AACvB,aAAO,eAAe;AAAA,IACxB;AAEA,QAAI,SAAS,MAAM,GAAG,EAAE,CAAC,MAAM,SAAS;AACtC,aAAO,GAAG,SAAS,MAAM,GAAG,EAAE,CAAC,CAAC,IAAI,SAAS,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA,IAC5D;AAEA,WAAO;AAAA,EACT;;;ACJA,WAAS,IAAI,QAAQ;AACnB,WAAO,SAAS,KAAK,IAAI,MAAM,KAAK,OAAO,SAAS;AAAA,EACtD;AAMe,WAAR,eAAgC;AACrC,UAAM,OAAO,oBAAI,KAAK;AACtB,UAAM,QAAQ,IAAI,KAAK,SAAS,CAAC;AACjC,UAAM,UAAU,IAAI,KAAK,WAAW,CAAC;AACrC,UAAM,UAAU,IAAI,KAAK,WAAW,CAAC;AACrC,WAAO,GAAG,KAAK,IAAI,OAAO,IAAI,OAAO;AAAA,EACvC;;;AChBA,MAAM,mBAAmB;AAAA,IACvB,OAAO,MAAM;AAAA,IAAC;AAAA,IACd,MAAM,MAAM;AAAA,IAAC;AAAA,IACb,OAAO,WAAY;AACjB,eAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,aAAK,IAAI,IAAI,UAAU,IAAI;AAAA,MAC7B;AAEA,aAAO,QAAQ,MAAM,WAAW,aAAa,CAAC,KAAK,GAAG,IAAI;AAAA,IAC5D;AAAA,EACF;AAGA,MAAM,cAAc;AAAA,IAClB,OAAO,WAAY;AACjB,eAAS,QAAQ,UAAU,QAAQ,OAAO,IAAI,MAAM,KAAK,GAAG,QAAQ,GAAG,QAAQ,OAAO,SAAS;AAC7F,aAAK,KAAK,IAAI,UAAU,KAAK;AAAA,MAC/B;AAEA,aAAO,QAAQ,MAAM,WAAW,aAAa,CAAC,KAAK,GAAG,IAAI;AAAA,IAC5D;AAAA,IACA,MAAM,WAAY;AAChB,eAAS,QAAQ,UAAU,QAAQ,OAAO,IAAI,MAAM,KAAK,GAAG,QAAQ,GAAG,QAAQ,OAAO,SAAS;AAC7F,aAAK,KAAK,IAAI,UAAU,KAAK;AAAA,MAC/B;AAEA,aAAO,QAAQ,KAAK,WAAW,aAAa,CAAC,KAAK,GAAG,IAAI;AAAA,IAC3D;AAAA,IACA,OAAO,WAAY;AACjB,eAAS,QAAQ,UAAU,QAAQ,OAAO,IAAI,MAAM,KAAK,GAAG,QAAQ,GAAG,QAAQ,OAAO,SAAS;AAC7F,aAAK,KAAK,IAAI,UAAU,KAAK;AAAA,MAC/B;AAEA,aAAO,QAAQ,MAAM,WAAW,aAAa,CAAC,KAAK,GAAG,IAAI;AAAA,IAC5D;AAAA,EACF;;;ACtCA,8BAA0B;AAC1B,0BAAkB;AAClB,MAAM,iBAAiB;AAAA,IACrB,aAAa;AAAA,IACb,aAAa;AAAA,IACb,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,oBAAoB,CAAC;AAAA,EACvB;AAEA,MAAM,mBAAN,cAA+B,MAAM;AAAA,IACnC,cAAc;AACZ,YAAM,GAAG,SAAS;AAClB,WAAK,gBAAgB;AAAA,IACvB;AAAA,EAEF;AAEA,MAAM,aAAN,MAAiB;AAAA,IACf,YAAY,SAAS,MAAM;AACzB,WAAK,OAAO;AAEZ,WAAK,UAAU,MAAM;AACnB,cAAM,OAAO,QAAQ;AAErB,YAAI,KAAK,aAAa,oBAAoB,QAAQ,CAAC,MAAM,QAAQ,KAAK,aAAa,gBAAgB,GAAG;AACpG,gBAAM,IAAI,UAAU,kDAAkD;AAAA,QACxE;AAEA,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,SAAS,MAAM,OAAO;AACpB,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,IAAI,KAAK,QAAQ,EAAE;AAEnB,UAAI,kBAAkB;AACpB,cAAM,gBAAgB,MAAM,OAAO,CAAAC,OAAK,CAACA,GAAE,OAAO;AAElD,YAAI,cAAc,SAAS,IAAI,kBAAkB;AAC/C,gBAAM,IAAI,iBAAiB,GAAG,KAAK,KAAK,qBAAqB;AAAA,YAC3D,aAAa;AAAA,UACf,CAAC,CAAC,EAAE;AAAA,QACN;AAAA,MACF;AAEA,UAAI,kBAAkB;AACpB,cAAM,oBAAoB,iBAAiB,KAAK,UAAQ;AAEtD,cAAI,KAAK,SAAS,GAAG,GAAG;AACtB,gBAAI,CAAC,KAAK,KAAM,QAAO;AACvB,uBAAO,kBAAAC,SAAM,KAAK,KAAK,QAAQ,SAAS,EAAE,GAAG,IAAI;AAAA,UACnD;AAGA,cAAI,KAAK,CAAC,MAAM,OAAO,KAAK,WAAW;AACrC,mBAAO,KAAK,UAAU,YAAY,MAAM,KAAK,MAAM,CAAC,EAAE,YAAY;AAAA,UACpE;AAEA,iBAAO;AAAA,QACT,CAAC;AAED,YAAI,CAAC,mBAAmB;AACtB,gBAAM,yBAAyB,iBAAiB,KAAK,IAAI;AACzD,gBAAM,IAAI,iBAAiB,KAAK,KAAK,6BAA6B;AAAA,YAChE,OAAO;AAAA,UACT,CAAC,CAAC;AAAA,QACJ;AAAA,MACF;AAGA,UAAI,oBAAoB,KAAK,QAAQ,MAAM;AACzC,cAAM,iBAAiB,MAAM,OAAO,CAAC,OAAOD,OAAM,QAAQA,GAAE,MAAM,KAAK,IAAI;AAE3E,YAAI,iBAAiB,kBAAkB;AACrC,gBAAM,IAAI,iBAAiB,KAAK,KAAK,eAAe;AAAA,YAClD,UAAM,sBAAAE,SAAc,gBAAgB;AAAA,YACpC,MAAM,KAAK;AAAA,UACb,CAAC,CAAC;AAAA,QACJ;AAAA,MACF;AAGA,UAAI,eAAe,KAAK,QAAQ,QAAQ,KAAK,OAAO,aAAa;AAC/D,cAAM,IAAI,iBAAiB,KAAK,KAAK,eAAe;AAAA,UAClD,UAAM,sBAAAA,SAAc,WAAW;AAAA,UAC/B,MAAM,KAAK;AAAA,QACb,CAAC,CAAC;AAAA,MACJ;AAGA,UAAI,eAAe,KAAK,QAAQ,QAAQ,KAAK,OAAO,aAAa;AAC/D,cAAM,IAAI,iBAAiB,KAAK,KAAK,gBAAgB;AAAA,UACnD,UAAM,sBAAAA,SAAc,WAAW;AAAA,QACjC,CAAC,CAAC;AAAA,MACJ;AAAA,IACF;AAAA,IAEA,yBAAyB,OAAO;AAC9B,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,QAAQ,EAAE;AAEnB,UAAI,OAAO,KAAK,KAAK,EAAE,SAAS,kBAAkB;AAChD,cAAM,IAAI,iBAAiB,KAAK,KAAK,2BAA2B;AAAA,UAC9D,aAAa;AAAA,QACf,CAAC,CAAC;AAAA,MACJ;AAAA,IACF;AAAA,IAEA,6BAA6B,MAAM;AACjC,YAAMC,SAAQ,IAAI,iBAAiB,KAAK,KAAK,kCAAkC;AAAA,QAC7E,UAAU,KAAK;AAAA,MACjB,CAAC,CAAC;AACF,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,QAAQ,EAAE;AACnB,YAAM,gBAAgB,CAAC;AAEvB,iBAAW,SAAS,oBAAoB;AACtC,YAAI,CAAC,OAAO,OAAO,KAAK,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IAAI;AAC/D,wBAAc,KAAK,KAAK;AAAA,QAC1B;AAAA,MACF;AAEA,aAAO;AAAA,QACL;AAAA,QACA,OAAAA;AAAA,MACF;AAAA,IACF;AAAA,EAEF;;;AC5IA,MAAO,iBAAQ;AAAA,IACb,SAAS;AAAA,MACP,oBAAoB;AAAA,QAClB,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,MACA,mBAAmB;AAAA,QACjB,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,MACA,yBAAyB;AAAA,QACvB,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,MACA,aAAa;AAAA,MACb,0BAA0B;AAAA,MAC1B,gCAAgC;AAAA,MAChC,cAAc;AAAA,MACd,2BAA2B;AAAA,MAC3B,oBAAoB;AAAA,MACpB,cAAc;AAAA,MACd,gBAAgB;AAAA,MAChB,aAAa;AAAA,MACb,0BAA0B;AAAA,MAC1B,gBAAgB;AAAA,MAChB,sBAAsB;AAAA,MACtB,qBAAqB;AAAA;AAAA,MAErB,cAAc;AAAA,MACd,SAAS;AAAA,QACP,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,MACA,yBAAyB;AAAA,MACzB,iBAAiB;AAAA,MACjB,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,SAAS;AAAA,MACT,uBAAuB;AAAA,MACvB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,cAAc;AAAA,MACd,mBAAmB;AAAA,MACnB,QAAQ;AAAA,MACR,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,aAAa;AAAA,QACX,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,IACF;AAAA,EACF;;;AZrDA,MAAI;AAAJ,MAAiB;AAEjB,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAiBrF,MAAME,eAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAQA,MAAI,WAAwB,gBAAAD,4BAA2B,SAAS;AAEhE,MAAI,cAA2B,gBAAAA,4BAA2B,YAAY;AAEtE,MAAI,oBAAiC,gBAAAA,4BAA2B,kBAAkB;AAElF,MAAI,WAAwB,gBAAAA,4BAA2B,SAAS;AAEhE,MAAI,iBAA8B,gBAAAA,4BAA2B,eAAe;AAE5E,MAAI,aAA0B,gBAAAA,4BAA2B,WAAW;AAEpE,MAAI,kBAA+B,gBAAAA,4BAA2B,gBAAgB;AAE9E,MAAI,iBAA8B,gBAAAA,4BAA2B,eAAe;AAE5E,MAAI,iCAA8C,gBAAAA,4BAA2B,+BAA+B;AAE5G,MAAI,2BAAwC,gBAAAA,4BAA2B,yBAAyB;AAEhG,MAAI,0BAAuC,gBAAAA,4BAA2B,wBAAwB;AAE9F,MAAI,iCAA8C,gBAAAA,4BAA2B,+BAA+B;AAE5G,MAAI,sBAAmC,gBAAAA,4BAA2B,oBAAoB;AAEtF,MAAI,gBAA6B,gBAAAA,4BAA2B,cAAc;AAE1E,MAAI,sBAAmC,gBAAAA,4BAA2B,oBAAoB;AAEtF,MAAI,gBAA6B,gBAAAA,4BAA2B,cAAc;AAE1E,MAAI,aAA0B,gBAAAA,4BAA2B,WAAW;AAEpE,MAAI,gBAA6B,gBAAAA,4BAA2B,cAAc;AAE1E,MAAI,aAA0B,gBAAAA,4BAA2B,WAAW;AAEpE,gBAAc,OAAO,IAAI,uBAAuB;AAChD,iBAAe,OAAO,IAAI,yBAAyB;AAEnD,MAAM,OAAN,MAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQT,YAAY,OAAO;AACjB,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,eAAe;AAAA,QACzC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,eAAe;AAAA,QACzC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,eAAe;AAAA,QACzC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,qBAAqB;AAAA,QAC/C,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,gCAAgC;AAAA,QAC1D,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,yBAAyB;AAAA,QACnD,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,0BAA0B;AAAA,QACpD,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,gCAAgC;AAAA,QAC1D,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QAC1C,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,UAAU;AAAA,QACV,OAAO,uBAAO,OAAO,IAAI;AAAA,MAC3B,CAAC;AACD,aAAO,eAAe,MAAM,aAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC7C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,UAAU;AAAA,QACV,WAAO,yBAAAE,SAAG;AAAA,MACZ,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QAC1C,UAAU;AAAA,QACV,OAAO,oBAAI,IAAI;AAAA,MACjB,CAAC;AACD,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,UAAU;AAAA,QACV,OAAO,oBAAI,IAAI;AAAA,MACjB,CAAC;AACD,aAAO,eAAe,MAAM,iBAAiB;AAAA,QAC3C,UAAU;AAAA,QACV,OAAO,oBAAI,IAAI;AAAA,MACjB,CAAC;AACD,aAAO,eAAe,MAAM,qBAAqB;AAAA,QAC/C,UAAU;AAAA,QACV,OAAO,KAAK,mBAAmB,KAAK,IAAI;AAAA,MAC1C,CAAC;AACD,WAAK,gBAAgB;AACrB,YAAMC,kBAAiB;AAAA,QACrB,IAAI;AAAA,QACJ,aAAa;AAAA,QACb,4BAA4B;AAAA,QAC5B,OAAO;AAAA,QACP,cAAc;AAAA,QACd,MAAM,CAAC;AAAA,QACP,mBAAmB,iBAAe;AAAA,QAClC,gBAAgB,WAAS;AAAA,QACzB,OAAO,IAAI,YAAa;AAAA,QACxB,QAAQ;AAAA,QACR,aAAa;AAAA,MACf;AAGA,WAAK,OAAO;AAAA,QAAE,GAAGA;AAAA,QACf,GAAG;AAAA,QACH,cAAc;AAAA,UAAE,GAAGA,gBAAe;AAAA,UAChC,GAAI,SAAS,MAAM;AAAA,QACrB;AAAA,MACF;AAGA,UAAI,SAAS,MAAM,UAAU,MAAM,OAAO;AACxC,aAAK,IAAI,6KAA6K,SAAS;AAAA,MACjM,WAAW,SAAS,MAAM,OAAO;AAC/B,aAAK,KAAK,SAAS;AAAA,MACrB;AAEA,WAAK,IAAI,eAAe,KAAK,YAAY,OAAO,EAAE;AAClD,WAAK,SAAS;AAQd,WAAK,wBAAoB,cAAAC,SAAS,KAAK,kBAAkB,KAAK,IAAI,GAAG,KAAK;AAAA,QACxE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ,CAAC;AACD,WAAK,QAAQ,KAAK,KAAK;AACvB,WAAK,SAAS;AAAA,QACZ,SAAS,CAAC;AAAA,QACV,OAAO,CAAC;AAAA,QACR,gBAAgB,CAAC;AAAA,QACjB,gBAAgB;AAAA,QAChB,cAAc;AAAA,UACZ,gBAAgB,uBAAuB;AAAA,UACvC,wBAAwB;AAAA,UACxB,kBAAkB;AAAA,QACpB;AAAA,QACA,eAAe;AAAA,QACf,MAAM;AAAA,UAAE,GAAG,KAAK,KAAK;AAAA,QACrB;AAAA,QACA,MAAM,CAAC;AAAA,QACP,gBAAgB;AAAA,MAClB,CAAC;AACD,MAAAN,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAI,IAAI,WAAW,MAAM,KAAK,MAAM,KAAK,IAAI;AACvG,MAAAA,6BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,IAAI,KAAK,MAAM,UAAU,CAAC,WAAW,WAAW,UAAU;AAC9H,aAAK,KAAK,gBAAgB,WAAW,WAAW,KAAK;AACrD,aAAK,UAAU,SAAS;AAAA,MAC1B,CAAC;AAED,UAAI,KAAK,KAAK,SAAS,OAAO,WAAW,aAAa;AACpD,eAAO,KAAK,KAAK,EAAE,IAAI;AAAA,MACzB;AAEA,MAAAA,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE;AAAA,IAClE;AAAA,IAEA,KAAK,OAAO;AACV,eAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,OAAO,IAAI,OAAO,IAAI,CAAC,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AAC1G,aAAK,OAAO,CAAC,IAAI,UAAU,IAAI;AAAA,MACjC;AAEA,MAAAA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,KAAK,OAAO,GAAG,IAAI;AAAA,IAC3E;AAAA,IAEA,GAAG,OAAO,UAAU;AAClB,MAAAA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,QAAQ;AAExE,aAAO;AAAA,IACT;AAAA,IAEA,KAAK,OAAO,UAAU;AACpB,MAAAA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,KAAK,OAAO,QAAQ;AAE1E,aAAO;AAAA,IACT;AAAA,IAEA,IAAI,OAAO,UAAU;AACnB,MAAAA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,IAAI,OAAO,QAAQ;AAEzE,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,UAAU,OAAO;AACf,WAAK,eAAe,YAAU;AAC5B,eAAO,OAAO,KAAK;AAAA,MACrB,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,SAAS,OAAO;AACd,WAAK,MAAM,SAAS,KAAK;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,WAAW;AACT,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA;AAAA;AAAA;AAAA,IAMA,aAAa,QAAQ,OAAO;AAC1B,UAAI,CAAC,KAAK,SAAS,EAAE,MAAM,MAAM,GAAG;AAClC,cAAM,IAAI,MAAM,4BAAuB,MAAM,qCAAqC;AAAA,MACpF;AAEA,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,UAAE,GAAG,KAAK,SAAS,EAAE;AAAA,UAC1B,CAAC,MAAM,GAAG;AAAA,YAAE,GAAG,KAAK,SAAS,EAAE,MAAM,MAAM;AAAA,YACzC,GAAG;AAAA,UACL;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,WAAW;AACT,YAAM,aAAa,IAAI,WAAW,CAAC,KAAK,eAAe,KAAK,KAAK,MAAM,CAAC;AACxE,WAAK,OAAO,WAAW,UAAU,KAAK,UAAU;AAChD,WAAK,YAAY,WAAW,eAAe,KAAK,UAAU;AAC1D,WAAK,SAAS,WAAW;AAAA,IAC3B;AAAA,IAEA,WAAW,SAAS;AAClB,WAAK,OAAO;AAAA,QAAE,GAAG,KAAK;AAAA,QACpB,GAAG;AAAA,QACH,cAAc;AAAA,UAAE,GAAG,KAAK,KAAK;AAAA,UAC3B,GAAI,WAAW,QAAQ;AAAA,QACzB;AAAA,MACF;AAEA,UAAI,QAAQ,MAAM;AAChB,aAAK,QAAQ,QAAQ,IAAI;AAAA,MAC3B;AAEA,WAAK,SAAS;AAEd,UAAI,QAAQ,QAAQ;AAClB,aAAK,eAAe,YAAU;AAC5B,iBAAO,WAAW;AAAA,QACpB,CAAC;AAAA,MACH;AAGA,WAAK,SAAS;AAAA,IAChB;AAAA,IAEA,gBAAgB;AACd,YAAM,kBAAkB;AAAA,QACtB,YAAY;AAAA,QACZ,eAAe;AAAA,QACf,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB;AACA,YAAM,QAAQ;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MACnC;AACA,YAAM,eAAe,CAAC;AACtB,aAAO,KAAK,KAAK,EAAE,QAAQ,YAAU;AACnC,cAAM,cAAc;AAAA,UAAE,GAAG,MAAM,MAAM;AAAA,QACrC;AACA,oBAAY,WAAW;AAAA,UAAE,GAAG,YAAY;AAAA,UACtC,GAAG;AAAA,QACL;AACA,qBAAa,MAAM,IAAI;AAAA,MACzB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,QACP,eAAe;AAAA,MACjB,CAAC;AACD,WAAK,KAAK,gBAAgB;AAAA,IAC5B;AAAA,IAEA,gBAAgBO,KAAI;AAClB,MAAAP,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAE,IAAIO,GAAE;AAAA,IAC1E;AAAA,IAEA,mBAAmBA,KAAI;AACrB,aAAOP,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAE,OAAOO,GAAE;AAAA,IACpF;AAAA,IAEA,iBAAiBA,KAAI;AACnB,MAAAP,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,IAAIO,GAAE;AAAA,IAC5E;AAAA,IAEA,oBAAoBA,KAAI;AACtB,aAAOP,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,OAAOO,GAAE;AAAA,IACtF;AAAA,IAEA,YAAYA,KAAI;AACd,MAAAP,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,IAAIO,GAAE;AAAA,IAClE;AAAA,IAEA,eAAeA,KAAI;AACjB,aAAOP,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,OAAOO,GAAE;AAAA,IAC5E;AAAA,IAEA,QAAQ,MAAM;AACZ,YAAM,cAAc;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,QACvC,GAAG;AAAA,MACL;AACA,YAAM,eAAe;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MAC1C;AACA,aAAO,KAAK,YAAY,EAAE,QAAQ,YAAU;AAC1C,qBAAa,MAAM,IAAI;AAAA,UAAE,GAAG,aAAa,MAAM;AAAA,UAC7C,MAAM;AAAA,YAAE,GAAG,aAAa,MAAM,EAAE;AAAA,YAC9B,GAAG;AAAA,UACL;AAAA,QACF;AAAA,MACF,CAAC;AACD,WAAK,IAAI,kBAAkB;AAC3B,WAAK,IAAI,IAAI;AACb,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,QACN,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA,IAEA,YAAY,QAAQ,MAAM;AACxB,YAAM,eAAe;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MAC1C;AAEA,UAAI,CAAC,aAAa,MAAM,GAAG;AACzB,aAAK,IAAI,iEAAiE,MAAM;AAChF;AAAA,MACF;AAEA,YAAM,UAAU;AAAA,QAAE,GAAG,aAAa,MAAM,EAAE;AAAA,QACxC,GAAG;AAAA,MACL;AACA,mBAAa,MAAM,IAAI;AAAA,QAAE,GAAG,aAAa,MAAM;AAAA,QAC7C,MAAM;AAAA,MACR;AACA,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,QAAQ,QAAQ;AACd,aAAO,KAAK,SAAS,EAAE,MAAM,MAAM;AAAA,IACrC;AAAA;AAAA;AAAA;AAAA,IAMA,WAAW;AACT,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,aAAO,OAAO,OAAO,KAAK;AAAA,IAC5B;AAAA,IAEA,2BAA2B;AACzB,YAAM;AAAA,QACJ,OAAO;AAAA,QACP;AAAA,QACA,OAAAC;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,YAAM,QAAQ,OAAO,OAAO,WAAW;AACvC,YAAM,kBAAkB,MAAM,OAAO,UAAQ;AAC3C,YAAI;AAAA,UACF;AAAA,QACF,IAAI;AACJ,eAAO,CAAC,SAAS,kBAAkB,SAAS;AAAA,MAC9C,CAAC;AACD,YAAM,WAAW,MAAM,OAAO,UAAQ,CAAC,KAAK,SAAS,aAAa;AAClE,YAAM,eAAe,MAAM,OAAO,UAAQ,KAAK,SAAS,iBAAiB,KAAK,SAAS,cAAc,KAAK,SAAS,WAAW;AAC9H,YAAM,qBAAqB,MAAM,OAAO,UAAQ,KAAK,SAAS,aAAa;AAC3E,YAAM,cAAc,MAAM,OAAO,UAAQ,KAAK,QAAQ;AACtD,YAAM,gBAAgB,MAAM,OAAO,UAAQ,KAAK,SAAS,cAAc;AACvE,YAAM,eAAe,MAAM,OAAO,UAAQ,KAAK,KAAK;AACpD,YAAM,2BAA2B,gBAAgB,OAAO,UAAQ,CAAC,KAAK,QAAQ;AAC9E,YAAM,kBAAkB,MAAM,OAAO,UAAQ,KAAK,SAAS,cAAc,KAAK,SAAS,WAAW;AAClG,aAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,iBAAiB,mBAAmB,SAAS;AAAA,QAC7C,eAAe,kBAAkB,OAAO,cAAc,WAAW,MAAM,UAAU,gBAAgB,WAAW;AAAA,QAC5G,cAAc,CAAC,CAACA,UAAS,aAAa,WAAW,MAAM;AAAA,QACvD,aAAa,gBAAgB,WAAW,KAAK,YAAY,WAAW,gBAAgB;AAAA,QACpF,oBAAoB,gBAAgB,SAAS;AAAA,QAC7C,aAAa,MAAM,KAAK,UAAQ,KAAK,OAAO;AAAA,MAC9C;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcA,qBAAqB,MAAM,OAAO;AAChC,UAAI,UAAU,QAAQ;AACpB,gBAAQ,KAAK,SAAS;AAAA,MACxB;AAEA,UAAI;AACF,QAAAR,6BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,SAAS,MAAM,KAAK;AAAA,MAClF,SAAS,KAAK;AACZ,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT;AAAA,IAEA,yBAAyB,QAAQ;AAC/B,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAElB,UAAI,MAAM,MAAM,KAAK,CAAC,MAAM,MAAM,EAAE,SAAS;AAC3C,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAmBA,QAAQ,MAAM;AACZ,MAAAA,6BAA4B,MAAM,uBAAuB,EAAE,uBAAuB,EAAE,IAAI;AAExF,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAElB,UAAI,UAAUA,6BAA4B,MAAM,8BAA8B,EAAE,8BAA8B,EAAE,OAAO,IAAI;AAI3H,UAAI,MAAM,QAAQ,EAAE,KAAK,MAAM,QAAQ,EAAE,EAAE,SAAS;AAClD,kBAAU;AAAA,UAAE,GAAG,MAAM,QAAQ,EAAE;AAAA,UAC7B,MAAM,KAAK;AAAA,UACX,SAAS;AAAA,QACX;AACA,aAAK,IAAI,iDAAiD,QAAQ,IAAI,KAAK,QAAQ,EAAE,EAAE;AAAA,MACzF;AAEA,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,UAAE,GAAG;AAAA,UACV,CAAC,QAAQ,EAAE,GAAG;AAAA,QAChB;AAAA,MACF,CAAC;AACD,WAAK,KAAK,cAAc,OAAO;AAC/B,WAAK,KAAK,eAAe,CAAC,OAAO,CAAC;AAClC,WAAK,IAAI,eAAe,QAAQ,IAAI,KAAK,QAAQ,EAAE,gBAAgB,QAAQ,IAAI,EAAE;AAEjF,MAAAA,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,EAAE;AAE5E,aAAO,QAAQ;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,SAAS,iBAAiB;AACxB,MAAAA,6BAA4B,MAAM,uBAAuB,EAAE,uBAAuB,EAAE;AAGpF,YAAM,QAAQ;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MACnC;AACA,YAAM,WAAW,CAAC;AAClB,YAAM,SAAS,CAAC;AAEhB,eAASS,KAAI,GAAGA,KAAI,gBAAgB,QAAQA,MAAK;AAC/C,YAAI;AACF,cAAI,UAAUT,6BAA4B,MAAM,8BAA8B,EAAE,8BAA8B,EAAE,OAAO,gBAAgBS,EAAC,CAAC;AAIzI,cAAI,MAAM,QAAQ,EAAE,KAAK,MAAM,QAAQ,EAAE,EAAE,SAAS;AAClD,sBAAU;AAAA,cAAE,GAAG,MAAM,QAAQ,EAAE;AAAA,cAC7B,MAAM,gBAAgBA,EAAC,EAAE;AAAA,cACzB,SAAS;AAAA,YACX;AACA,iBAAK,IAAI,kCAAkC,QAAQ,IAAI,KAAK,QAAQ,EAAE,EAAE;AAAA,UAC1E;AAEA,gBAAM,QAAQ,EAAE,IAAI;AACpB,mBAAS,KAAK,OAAO;AAAA,QACvB,SAAS,KAAK;AACZ,cAAI,CAAC,IAAI,eAAe;AACtB,mBAAO,KAAK,GAAG;AAAA,UACjB;AAAA,QACF;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AACD,eAAS,QAAQ,aAAW;AAC1B,aAAK,KAAK,cAAc,OAAO;AAAA,MACjC,CAAC;AACD,WAAK,KAAK,eAAe,QAAQ;AAEjC,UAAI,SAAS,SAAS,GAAG;AACvB,aAAK,IAAI,kBAAkB,SAAS,MAAM,QAAQ;AAAA,MACpD,OAAO;AACL,eAAO,KAAK,QAAQ,EAAE,QAAQ,YAAU;AACtC,eAAK,IAAI,eAAe,SAAS,MAAM,EAAE,IAAI;AAAA,OAAU,SAAS,MAAM,EAAE,EAAE;AAAA,SAAY,SAAS,MAAM,EAAE,IAAI,EAAE;AAAA,QAC/G,CAAC;AAAA,MACH;AAEA,UAAI,SAAS,SAAS,GAAG;AACvB,QAAAT,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,EAAE;AAAA,MAC9E;AAEA,UAAI,OAAO,SAAS,GAAG;AACrB,YAAI,UAAU;AACd,eAAO,QAAQ,cAAY;AACzB,qBAAW;AAAA,KAAQ,SAAS,OAAO;AAAA,QACrC,CAAC;AACD,aAAK,KAAK;AAAA,UACR,SAAS,KAAK,KAAK,sBAAsB;AAAA,YACvC,aAAa,OAAO;AAAA,UACtB,CAAC;AAAA,UACD,SAAS;AAAA,QACX,GAAG,SAAS,KAAK,KAAK,WAAW;AAEjC,YAAI,OAAO,mBAAmB,YAAY;AACxC,gBAAM,IAAI,eAAe,QAAQ,OAAO;AAAA,QAC1C,OAAO;AACL,gBAAM,MAAM,IAAI,MAAM,OAAO;AAC7B,cAAI,SAAS;AACb,gBAAM;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,IAEA,YAAY,SAAS,QAAQ;AAC3B,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,YAAM,eAAe;AAAA,QAAE,GAAG;AAAA,MAC1B;AACA,YAAM,iBAAiB;AAAA,QAAE,GAAG;AAAA,MAC5B;AACA,YAAM,eAAe,uBAAO,OAAO,IAAI;AACvC,cAAQ,QAAQ,YAAU;AACxB,YAAI,MAAM,MAAM,GAAG;AACjB,uBAAa,MAAM,IAAI,MAAM,MAAM;AACnC,iBAAO,aAAa,MAAM;AAAA,QAC5B;AAAA,MACF,CAAC;AAED,eAAS,iBAAiB,cAAc;AACtC,eAAO,aAAa,YAAY,MAAM;AAAA,MACxC;AAEA,aAAO,KAAK,cAAc,EAAE,QAAQ,cAAY;AAC9C,cAAM,aAAa,eAAe,QAAQ,EAAE,QAAQ,OAAO,gBAAgB;AAE3E,YAAI,WAAW,WAAW,GAAG;AAC3B,iBAAO,eAAe,QAAQ;AAC9B;AAAA,QACF;AAEA,cAAM;AAAA,UACJ;AAAA,QACF,IAAI,KAAK,SAAS;AAElB,YAAI,WAAW,WAAW,eAAe,QAAQ,EAAE,QAAQ,UAAU,CAAC,aAAa,wBAAwB;AACzG,gBAAM,IAAI,MAAM,oCAAoC;AAAA,QACtD;AAEA,uBAAe,QAAQ,IAAI;AAAA,UAAE,GAAG,eAAe,QAAQ;AAAA,UACrD,SAAS;AAAA,QACX;AAAA,MACF,CAAC;AACD,YAAM,cAAc;AAAA,QAClB,gBAAgB;AAAA,QAChB,OAAO;AAAA,MACT;AAGA,UAAI,OAAO,KAAK,YAAY,EAAE,WAAW,GAAG;AAC1C,oBAAY,iBAAiB;AAC7B,oBAAY,QAAQ;AACpB,oBAAY,iBAAiB;AAAA,MAC/B;AAEA,WAAK,SAAS,WAAW;AACzB,WAAK,uBAAuB;AAC5B,YAAM,iBAAiB,OAAO,KAAK,YAAY;AAC/C,qBAAe,QAAQ,YAAU;AAC/B,aAAK,KAAK,gBAAgB,aAAa,MAAM,GAAG,MAAM;AAAA,MACxD,CAAC;AAED,UAAI,eAAe,SAAS,GAAG;AAC7B,aAAK,IAAI,WAAW,eAAe,MAAM,QAAQ;AAAA,MACnD,OAAO;AACL,aAAK,IAAI,kBAAkB,eAAe,KAAK,IAAI,CAAC,EAAE;AAAA,MACxD;AAAA,IACF;AAAA,IAEA,WAAW,QAAQ,QAAQ;AACzB,UAAI,WAAW,QAAQ;AACrB,iBAAS;AAAA,MACX;AAEA,WAAK,YAAY,CAAC,MAAM,GAAG,MAAM;AAAA,IACnC;AAAA,IAEA,YAAY,QAAQ;AAClB,UAAI,CAAC,KAAK,SAAS,EAAE,aAAa,oBAAoB,KAAK,QAAQ,MAAM,EAAE,gBAAgB;AACzF,eAAO;AAAA,MACT;AAEA,YAAM,YAAY,KAAK,QAAQ,MAAM,EAAE,YAAY;AACnD,YAAM,WAAW,CAAC;AAClB,WAAK,aAAa,QAAQ;AAAA,QACxB;AAAA,MACF,CAAC;AACD,WAAK,KAAK,gBAAgB,QAAQ,QAAQ;AAC1C,aAAO;AAAA,IACT;AAAA,IAEA,WAAW;AACT,YAAM,eAAe;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MAC1C;AACA,YAAM,yBAAyB,OAAO,KAAK,YAAY,EAAE,OAAO,UAAQ;AACtE,eAAO,CAAC,aAAa,IAAI,EAAE,SAAS,kBAAkB,aAAa,IAAI,EAAE,SAAS;AAAA,MACpF,CAAC;AACD,6BAAuB,QAAQ,UAAQ;AACrC,cAAM,cAAc;AAAA,UAAE,GAAG,aAAa,IAAI;AAAA,UACxC,UAAU;AAAA,QACZ;AACA,qBAAa,IAAI,IAAI;AAAA,MACvB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AACD,WAAK,KAAK,WAAW;AAAA,IACvB;AAAA,IAEA,YAAY;AACV,YAAM,eAAe;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MAC1C;AACA,YAAM,yBAAyB,OAAO,KAAK,YAAY,EAAE,OAAO,UAAQ;AACtE,eAAO,CAAC,aAAa,IAAI,EAAE,SAAS,kBAAkB,aAAa,IAAI,EAAE,SAAS;AAAA,MACpF,CAAC;AACD,6BAAuB,QAAQ,UAAQ;AACrC,cAAM,cAAc;AAAA,UAAE,GAAG,aAAa,IAAI;AAAA,UACxC,UAAU;AAAA,UACV,OAAO;AAAA,QACT;AACA,qBAAa,IAAI,IAAI;AAAA,MACvB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AACD,WAAK,KAAK,YAAY;AAAA,IACxB;AAAA,IAEA,WAAW;AACT,YAAM,eAAe;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MAC1C;AACA,YAAM,eAAe,OAAO,KAAK,YAAY,EAAE,OAAO,UAAQ;AAC5D,eAAO,aAAa,IAAI,EAAE;AAAA,MAC5B,CAAC;AACD,mBAAa,QAAQ,UAAQ;AAC3B,cAAM,cAAc;AAAA,UAAE,GAAG,aAAa,IAAI;AAAA,UACxC,UAAU;AAAA,UACV,OAAO;AAAA,QACT;AACA,qBAAa,IAAI,IAAI;AAAA,MACvB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,QACP,OAAO;AAAA,MACT,CAAC;AACD,WAAK,KAAK,aAAa,YAAY;AAEnC,UAAI,aAAa,WAAW,GAAG;AAC7B,eAAO,QAAQ,QAAQ;AAAA,UACrB,YAAY,CAAC;AAAA,UACb,QAAQ,CAAC;AAAA,QACX,CAAC;AAAA,MACH;AAEA,YAAM,WAAWA,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,cAAc;AAAA,QAC7F,qBAAqB;AAAA;AAAA,MAEvB,CAAC;AAED,aAAOA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,QAAQ;AAAA,IAC3E;AAAA,IAEA,UAAU,OAAO;AACf,UAAI;AAAA,QACF,SAAS;AAAA,MACX,IAAI,UAAU,SAAS,CAAC,IAAI;AAC5B,WAAK,KAAK,cAAc;AAAA,QACtB;AAAA,MACF,CAAC;AAED,UAAI,WAAW,QAAQ;AACrB,cAAM;AAAA,UACJ;AAAA,QACF,IAAI,KAAK,SAAS;AAClB,cAAM,UAAU,OAAO,KAAK,KAAK;AAEjC,YAAI,QAAQ,QAAQ;AAClB,eAAK,YAAY,SAAS,YAAY;AAAA,QACxC;AAEA,aAAK,SAAS;AAAA,UACZ,eAAe;AAAA,UACf,OAAO;AAAA,UACP,gBAAgB;AAAA,QAClB,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,YAAY,QAAQ;AAClB,WAAK,aAAa,QAAQ;AAAA,QACxB,OAAO;AAAA,QACP,UAAU;AAAA,MACZ,CAAC;AACD,WAAK,KAAK,gBAAgB,MAAM;AAEhC,YAAM,WAAWA,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,CAAC,MAAM,GAAG;AAAA,QACzF,qBAAqB;AAAA;AAAA,MAEvB,CAAC;AAED,aAAOA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,QAAQ;AAAA,IAC3E;AAAA,IAEA,SAAS;AACP,WAAK,eAAe,YAAU;AAC5B,YAAI,OAAO,YAAY,OAAO,SAAS,QAAQ;AAC7C,iBAAO,SAAS,OAAO;AAAA,QACzB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,kBAAkB,MAAM,MAAM;AAC5B,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAGA,YAAM,oBAAoB,OAAO,SAAS,KAAK,UAAU,KAAK,KAAK,aAAa;AAChF,WAAK,aAAa,KAAK,IAAI;AAAA,QACzB,UAAU;AAAA,UAAE,GAAG,KAAK,QAAQ,KAAK,EAAE,EAAE;AAAA,UACnC,eAAe,KAAK;AAAA,UACpB,YAAY,KAAK;AAAA,UACjB,YAAY,oBAAoB,KAAK,MAAM,KAAK,gBAAgB,KAAK,aAAa,GAAG,IAAI;AAAA,QAC3F;AAAA,MACF,CAAC;AACD,WAAK,uBAAuB;AAAA,IAC9B;AAAA,IAEA,yBAAyB;AAGvB,YAAM,QAAQ,KAAK,SAAS;AAC5B,YAAM,aAAa,MAAM,OAAO,UAAQ;AACtC,eAAO,KAAK,SAAS,iBAAiB,KAAK,SAAS,cAAc,KAAK,SAAS;AAAA,MAClF,CAAC;AAED,UAAI,WAAW,WAAW,GAAG;AAC3B,aAAK,KAAK,YAAY,CAAC;AACvB,aAAK,SAAS;AAAA,UACZ,eAAe;AAAA,QACjB,CAAC;AACD;AAAA,MACF;AAEA,YAAM,aAAa,WAAW,OAAO,UAAQ,KAAK,SAAS,cAAc,IAAI;AAC7E,YAAM,eAAe,WAAW,OAAO,UAAQ,KAAK,SAAS,cAAc,IAAI;AAE/E,UAAI,WAAW,WAAW,GAAG;AAC3B,cAAM,cAAc,WAAW,SAAS;AACxC,cAAM,kBAAkB,aAAa,OAAO,CAAC,KAAK,SAAS;AACzD,iBAAO,MAAM,KAAK,SAAS;AAAA,QAC7B,GAAG,CAAC;AACJ,cAAMU,iBAAgB,KAAK,MAAM,kBAAkB,cAAc,GAAG;AACpE,aAAK,SAAS;AAAA,UACZ,eAAAA;AAAA,QACF,CAAC;AACD;AAAA,MACF;AAEA,UAAI,YAAY,WAAW,OAAO,CAAC,KAAK,SAAS;AAC/C,eAAO,MAAM,KAAK,SAAS;AAAA,MAC7B,GAAG,CAAC;AACJ,YAAM,cAAc,YAAY,WAAW;AAC3C,mBAAa,cAAc,aAAa;AACxC,UAAI,eAAe;AACnB,iBAAW,QAAQ,UAAQ;AACzB,wBAAgB,KAAK,SAAS;AAAA,MAChC,CAAC;AACD,mBAAa,QAAQ,UAAQ;AAC3B,wBAAgB,eAAe,KAAK,SAAS,cAAc,KAAK;AAAA,MAClE,CAAC;AACD,UAAI,gBAAgB,cAAc,IAAI,IAAI,KAAK,MAAM,eAAe,YAAY,GAAG;AAGnF,UAAI,gBAAgB,KAAK;AACvB,wBAAgB;AAAA,MAClB;AAEA,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AACD,WAAK,KAAK,YAAY,aAAa;AAAA,IACrC;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,qBAAqB;AACnB,YAAM,SAAS,OAAO,OAAO,UAAU,WAAW,cAAc,OAAO,UAAU,SAAS;AAE1F,UAAI,CAAC,QAAQ;AACX,aAAK,KAAK,YAAY;AACtB,aAAK,KAAK,KAAK,KAAK,sBAAsB,GAAG,SAAS,CAAC;AACvD,aAAK,aAAa;AAAA,MACpB,OAAO;AACL,aAAK,KAAK,WAAW;AAErB,YAAI,KAAK,YAAY;AACnB,eAAK,KAAK,aAAa;AACvB,eAAK,KAAK,KAAK,KAAK,qBAAqB,GAAG,WAAW,GAAI;AAC3D,eAAK,aAAa;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAAA,IAEA,QAAQ;AACN,aAAO,KAAK,KAAK;AAAA,IACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWA,IAAI,QAAQ,MAAM;AAChB,UAAI,OAAO,WAAW,YAAY;AAChC,cAAM,MAAM,oCAAoC,WAAW,OAAO,SAAS,OAAO,MAAM;AACxF,cAAM,IAAI,UAAU,GAAG;AAAA,MACzB;AAGA,YAAM,SAAS,IAAI,OAAO,MAAM,IAAI;AACpC,YAAM,WAAW,OAAO;AAExB,UAAI,CAAC,UAAU;AACb,cAAM,IAAI,MAAM,6BAA6B;AAAA,MAC/C;AAEA,UAAI,CAAC,OAAO,MAAM;AAChB,cAAM,IAAI,MAAM,8BAA8B;AAAA,MAChD;AAEA,YAAM,sBAAsB,KAAK,UAAU,QAAQ;AAEnD,UAAI,qBAAqB;AACvB,cAAM,MAAM,iCAAiC,oBAAoB,EAAE,qBAA0B,QAAQ;AAAA;AACrG,cAAM,IAAI,MAAM,GAAG;AAAA,MACrB;AAEA,UAAI,OAAO,SAAS;AAClB,aAAK,IAAI,SAAS,QAAQ,KAAK,OAAO,OAAO,EAAE;AAAA,MACjD;AAEA,UAAI,OAAO,QAAQV,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,GAAG;AACxE,QAAAA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAE,KAAK,MAAM;AAAA,MAChF,OAAO;AACL,QAAAA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,OAAO,IAAI,IAAI,CAAC,MAAM;AAAA,MAC9E;AAEA,aAAO,QAAQ;AACf,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,UAAUC,MAAI;AACZ,iBAAW,WAAW,OAAO,OAAOD,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,CAAC,GAAG;AAC1F,cAAM,cAAc,QAAQ,KAAK,YAAU,OAAO,OAAOC,IAAE;AAC3D,YAAI,eAAe,KAAM,QAAO;AAAA,MAClC;AAEA,aAAO;AAAA,IACT;AAAA,IAEA,CAAC,WAAW,EAAE,MAAM;AAClB,aAAOD,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,IAAI;AAAA,IACnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,eAAe,QAAQ;AACrB,aAAO,OAAOA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,CAAC,EAAE,KAAK,CAAC,EAAE,QAAQ,MAAM;AAAA,IAC7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,aAAa,UAAU;AACrB,WAAK,IAAI,mBAAmB,SAAS,EAAE,EAAE;AACzC,WAAK,KAAK,iBAAiB,QAAQ;AAEnC,UAAI,SAAS,WAAW;AACtB,iBAAS,UAAU;AAAA,MACrB;AAEA,YAAM,OAAOA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,SAAS,IAAI;AAKhF,YAAM,QAAQ,KAAK,UAAU,UAAQ,KAAK,OAAO,SAAS,EAAE;AAE5D,UAAI,UAAU,IAAI;AAChB,aAAK,OAAO,OAAO,CAAC;AAAA,MACtB;AAEA,YAAM,QAAQ,KAAK,SAAS;AAC5B,YAAM,eAAe;AAAA,QACnB,SAAS;AAAA,UAAE,GAAG,MAAM;AAAA,UAClB,CAAC,SAAS,EAAE,GAAG;AAAA,QACjB;AAAA,MACF;AACA,WAAK,SAAS,YAAY;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA,IAMA,MAAM,QAAQ;AACZ,UAAI;AAAA,QACF;AAAA,MACF,IAAI,WAAW,SAAS,CAAC,IAAI;AAC7B,WAAK,IAAI,yBAAyB,KAAK,KAAK,EAAE,+CAA+C;AAC7F,WAAK,UAAU;AAAA,QACb;AAAA,MACF,CAAC;AAED,MAAAA,6BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,EAAE;AAExE,WAAK,eAAe,YAAU;AAC5B,aAAK,aAAa,MAAM;AAAA,MAC1B,CAAC;AAED,UAAI,OAAO,WAAW,eAAe,OAAO,qBAAqB;AAC/D,eAAO,oBAAoB,UAAUA,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,CAAC;AAChH,eAAO,oBAAoB,WAAWA,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,CAAC;AAAA,MACnH;AAAA,IACF;AAAA,IAEA,WAAW;AACT,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,WAAK,SAAS;AAAA,QACZ,MAAM,KAAK,MAAM,CAAC;AAAA,MACpB,CAAC;AACD,WAAK,KAAK,aAAa;AAAA,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWA,KAAK,SAAS,MAAM,UAAU;AAC5B,UAAI,SAAS,QAAQ;AACnB,eAAO;AAAA,MACT;AAEA,UAAI,aAAa,QAAQ;AACvB,mBAAW;AAAA,MACb;AAEA,YAAM,mBAAmB,OAAO,YAAY;AAC5C,WAAK,SAAS;AAAA,QACZ,MAAM,CAAC,GAAG,KAAK,SAAS,EAAE,MAAM;AAAA,UAC9B;AAAA,UACA,SAAS,mBAAmB,QAAQ,UAAU;AAAA,UAC9C,SAAS,mBAAmB,QAAQ,UAAU;AAAA,QAChD,CAAC;AAAA,MACH,CAAC;AACD,iBAAW,MAAM,KAAK,SAAS,GAAG,QAAQ;AAC1C,WAAK,KAAK,cAAc;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,IAAI,SAAS,MAAM;AACjB,YAAM;AAAA,QACJ,QAAAW;AAAA,MACF,IAAI,KAAK;AAET,cAAQ,MAAM;AAAA,QACZ,KAAK;AACH,UAAAA,QAAO,MAAM,OAAO;AACpB;AAAA,QAEF,KAAK;AACH,UAAAA,QAAO,KAAK,OAAO;AACnB;AAAA,QAEF;AACE,UAAAA,QAAO,MAAM,OAAO;AACpB;AAAA,MACJ;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ,UAAU;AAChB,WAAK,IAAI,uCAAuC,QAAQ,GAAG;AAE3D,UAAI,CAAC,KAAK,SAAS,EAAE,eAAe,QAAQ,GAAG;AAC7C,QAAAX,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,QAAQ;AAExE,eAAO,QAAQ,OAAO,IAAI,MAAM,oBAAoB,CAAC;AAAA,MACvD;AAEA,aAAOA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,QAAQ;AAAA,IAC3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,CAAC,YAAY,IAAI;AACf,aAAOA,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,GAAG,SAAS;AAAA,IACrF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,cAAc,UAAU,MAAM;AAC5B,UAAI,CAACA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,QAAQ,GAAG;AACxE,aAAK,IAAI,2DAA2D,QAAQ,EAAE;AAC9E;AAAA,MACF;AAEA,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,YAAM,gBAAgB;AAAA,QAAE,GAAG,eAAe,QAAQ;AAAA,QAChD,QAAQ;AAAA,UAAE,GAAG,eAAe,QAAQ,EAAE;AAAA,UACpC,GAAG;AAAA,QACL;AAAA,MACF;AACA,WAAK,SAAS;AAAA,QACZ,gBAAgB;AAAA,UAAE,GAAG;AAAA,UACnB,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaA,SAAS;AACP,UAAI;AAEJ,UAAI,GAAG,wBAAwBA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,aAAa,QAAQ,sBAAsB,SAAS;AACvI,aAAK,IAAI,qCAAqC,SAAS;AAAA,MACzD;AAEA,UAAI;AAAA,QACF;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,YAAM,uBAAuB,KAAK,KAAK,eAAe,KAAK;AAE3D,UAAI,yBAAyB,OAAO;AAClC,eAAO,QAAQ,OAAO,IAAI,MAAM,+DAA+D,CAAC;AAAA,MAClG;AAEA,UAAI,wBAAwB,OAAO,yBAAyB,UAAU;AACpE,gBAAQ;AAGR,aAAK,SAAS;AAAA,UACZ;AAAA,QACF,CAAC;AAAA,MACH;AAEA,aAAO,QAAQ,QAAQ,EAAE,KAAK,MAAMA,6BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,yBAAyB,KAAK,CAAC,EAAE,MAAM,SAAO;AAC5I,QAAAA,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAE,GAAG;AAErE,cAAM;AAAA,MACR,CAAC,EAAE,KAAK,MAAM;AACZ,YAAI,CAACA,6BAA4B,MAAM,wBAAwB,EAAE,wBAAwB,EAAE,KAAK,GAAG;AACjG,gBAAM,IAAI,iBAAiB,KAAK,KAAK,0BAA0B,CAAC;AAAA,QAClE;AAAA,MACF,CAAC,EAAE,MAAM,SAAO;AAId,cAAM;AAAA,MACR,CAAC,EAAE,KAAK,MAAM;AACZ,cAAM;AAAA,UACJ;AAAA,QACF,IAAI,KAAK,SAAS;AAElB,cAAM,0BAA0B,OAAO,OAAO,cAAc,EAAE,QAAQ,UAAQ,KAAK,OAAO;AAC1F,cAAM,iBAAiB,CAAC;AACxB,eAAO,KAAK,KAAK,EAAE,QAAQ,YAAU;AACnC,gBAAM,OAAO,KAAK,QAAQ,MAAM;AAEhC,cAAI,CAAC,KAAK,SAAS,iBAAiB,wBAAwB,QAAQ,MAAM,MAAM,IAAI;AAClF,2BAAe,KAAK,KAAK,EAAE;AAAA,UAC7B;AAAA,QACF,CAAC;AAED,cAAM,WAAWA,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,cAAc;AAE/F,eAAOA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE,QAAQ;AAAA,MAC3E,CAAC,EAAE,MAAM,SAAO;AACd,aAAK,KAAK,SAAS,GAAG;AACtB,aAAK,IAAI,KAAK,OAAO;AACrB,cAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EAEF;AAEA,WAAS,gBAAgBQ,QAAO,MAAM;AACpC,UAAM;AAAA,MACJ;AAAA,MACA,UAAU;AAAA,IACZ,IAAIA;AAEJ,QAAIA,OAAM,eAAe;AACvB,WAAK,KAAK,sBAAsB,MAAMA,MAAK;AAAA,IAC7C,OAAO;AACL,WAAK,KAAK,SAASA,MAAK;AAAA,IAC1B;AAEA,SAAK,KAAK;AAAA,MACR;AAAA,MACA;AAAA,IACF,GAAG,SAAS,KAAK,KAAK,WAAW;AACjC,SAAK,IAAIA,QAAO,SAAS;AAAA,EAC3B;AAEA,WAAS,gCAAgC,MAAM;AAC7C,UAAM;AAAA,MACJ;AAAA,MACA,OAAAA;AAAA,IACF,IAAIR,6BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,6BAA6B,IAAI;AAEjG,QAAI,cAAc,SAAS,GAAG;AAC5B,WAAK,aAAa,KAAK,IAAI;AAAA,QACzB,2BAA2B;AAAA,MAC7B,CAAC;AACD,WAAK,IAAIQ,OAAM,OAAO;AACtB,WAAK,KAAK,sBAAsB,MAAMA,MAAK;AAC3C,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,0BAA0B,OAAO;AACxC,QAAI,UAAU;AAEd,eAAW,QAAQ,OAAO,OAAO,KAAK,GAAG;AACvC,UAAI,CAACR,6BAA4B,MAAM,8BAA8B,EAAE,8BAA8B,EAAE,IAAI,GAAG;AAC5G,kBAAU;AAAA,MACZ;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,yBAAyB,MAAM;AACtC,UAAM;AAAA,MACJ;AAAA,IACF,IAAI,KAAK,SAAS;AAElB,QAAI,mBAAmB,OAAO;AAC5B,YAAMQ,SAAQ,IAAI,iBAAiB,KAAK,KAAK,oBAAoB,CAAC;AAElE,MAAAR,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAEQ,QAAO,IAAI;AAE7E,YAAMA;AAAA,IACR;AAAA,EACF;AAEA,WAAS,gCAAgC,OAAO,gBAAgB;AAI9D,QAAI,0BAA0B,MAAM;AAElC,uBAAiB;AAAA,QACf,MAAM,eAAe;AAAA,QACrB,MAAM,eAAe;AAAA,QACrB,MAAM,eAAe;AAAA,QACrB,MAAM;AAAA,MACR;AAAA,IACF;AAEA,UAAM,WAAW,YAAY,cAAc;AAC3C,UAAM,WAAW,YAAY,UAAU,cAAc;AACrD,UAAM,gBAAgB,wBAAwB,QAAQ,EAAE;AACxD,UAAM,WAAW,QAAQ,eAAe,QAAQ;AAChD,UAAM,SAAS,eAAe;AAAA,MAAE,GAAG;AAAA,MACjC,MAAM;AAAA,IACR,CAAC;AAED,QAAI,KAAK,yBAAyB,MAAM,GAAG;AACzC,YAAMA,SAAQ,IAAI,iBAAiB,KAAK,KAAK,gBAAgB;AAAA,QAC3D;AAAA,MACF,CAAC,CAAC;AAEF,MAAAR,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAEQ,QAAO,cAAc;AAEvF,YAAMA;AAAA,IACR;AAEA,UAAM,OAAO,eAAe,QAAQ,CAAC;AACrC,SAAK,OAAO;AACZ,SAAK,OAAO;AAEZ,UAAM,OAAO,OAAO,SAAS,eAAe,KAAK,IAAI,IAAI,eAAe,KAAK,OAAO;AACpF,QAAI,UAAU;AAAA,MACZ,QAAQ,eAAe,UAAU;AAAA,MACjC,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,WAAW,iBAAiB;AAAA,MAC5B,MAAM;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,QACzB,GAAG;AAAA,MACL;AAAA,MACA,MAAM;AAAA,MACN,MAAM,eAAe;AAAA,MACrB,UAAU;AAAA,QACR,YAAY;AAAA,QACZ,eAAe;AAAA,QACf,YAAY;AAAA,QACZ,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACjB;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAQ,eAAe,UAAU;AAAA,MACjC,SAAS,eAAe;AAAA,IAC1B;AACA,UAAM,0BAA0B,KAAK,KAAK,kBAAkB,SAAS,KAAK;AAE1E,QAAI,4BAA4B,OAAO;AAErC,YAAMA,SAAQ,IAAI,iBAAiB,+DAA+D;AAClG,WAAK,KAAK,sBAAsB,gBAAgBA,MAAK;AACrD,YAAMA;AAAA,IACR,WAAW,OAAO,4BAA4B,YAAY,4BAA4B,MAAM;AAC1F,gBAAU;AAAA,IACZ;AAEA,QAAI;AACF,YAAM,aAAa,OAAO,KAAK,KAAK,EAAE,IAAI,CAAAC,OAAK,MAAMA,EAAC,CAAC;AAEvD,MAAAT,6BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,SAAS,SAAS,UAAU;AAAA,IAC1F,SAAS,KAAK;AACZ,MAAAA,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAE,KAAK,OAAO;AAE9E,YAAM;AAAA,IACR;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,uBAAuB;AAC9B,QAAI,KAAK,KAAK,eAAe,CAAC,KAAK,sBAAsB;AACvD,WAAK,uBAAuB,WAAW,MAAM;AAC3C,aAAK,uBAAuB;AAC5B,aAAK,OAAO,EAAE,MAAM,SAAO;AACzB,cAAI,CAAC,IAAI,eAAe;AACtB,iBAAK,IAAI,IAAI,SAAS,IAAI,WAAW,GAAG;AAAA,UAC1C;AAAA,QACF,CAAC;AAAA,MACH,GAAG,CAAC;AAAA,IACN;AAAA,EACF;AAEA,WAAS,iBAAiB;AAMxB,UAAM,eAAe,CAACQ,QAAO,MAAM,aAAa;AAC9C,UAAI,WAAWA,OAAM,WAAW;AAEhC,UAAIA,OAAM,SAAS;AACjB,oBAAY,IAAIA,OAAM,OAAO;AAAA,MAC/B;AAEA,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAED,UAAI,QAAQ,QAAQ,KAAK,MAAM,KAAK,SAAS,EAAE,OAAO;AACpD,aAAK,aAAa,KAAK,IAAI;AAAA,UACzB,OAAO;AAAA,UACP;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAEA,SAAK,GAAG,SAAS,YAAY;AAC7B,SAAK,GAAG,gBAAgB,CAAC,MAAMA,QAAO,aAAa;AACjD,mBAAaA,QAAO,MAAM,QAAQ;AAElC,UAAI,OAAOA,WAAU,YAAYA,OAAM,SAAS;AAC9C,cAAM,WAAW,IAAI,MAAMA,OAAM,OAAO;AACxC,iBAAS,UAAUA,OAAM;AAEzB,YAAIA,OAAM,SAAS;AACjB,mBAAS,WAAW,IAAIA,OAAM,OAAO;AAAA,QACvC;AAEA,iBAAS,UAAU,KAAK,KAAK,kBAAkB;AAAA,UAC7C,MAAM,QAAQ,OAAO,SAAS,KAAK;AAAA,QACrC,CAAC;AAED,QAAAR,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAE,QAAQ;AAAA,MAC5E,OAAO;AACL,QAAAA,6BAA4B,MAAM,cAAc,EAAE,cAAc,EAAEQ,MAAK;AAAA,MACzE;AAAA,IACF,CAAC;AACD,QAAI;AACJ,SAAK,GAAG,kBAAkB,CAACA,QAAO,UAAU;AAC1C,YAAM;AAAA,QACJ;AAAA,MACF,IAAIA;AACJ,YAAM,UAAU,MAAM,IAAI,UAAQ,KAAK,KAAK,IAAI,EAAE,KAAK,IAAI;AAE3D,UAAI,CAAC,qCAAqC;AACxC,aAAK,KAAK;AAAA,UACR;AAAA,UACA;AAAA,QACF,GAAG,WAAW,KAAK,KAAK,WAAW;AACnC,8CAAsC,WAAW,MAAM;AACrD,gDAAsC;AAAA,QACxC,GAAG,KAAK,KAAK,WAAW;AAAA,MAC1B;AAEA,WAAK,IAAI,GAAG,OAAO,IAAI,OAAO,GAAG,KAAK,GAAG,SAAS;AAAA,IACpD,CAAC;AACD,SAAK,GAAG,UAAU,MAAM;AACtB,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AACD,SAAK,GAAG,kBAAkB,UAAQ;AAChC,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAEA,WAAK,aAAa,KAAK,IAAI;AAAA,QACzB,UAAU;AAAA,UACR,eAAe,KAAK,IAAI;AAAA,UACxB,gBAAgB;AAAA,UAChB,YAAY;AAAA,UACZ,eAAe;AAAA,UACf,YAAY,KAAK;AAAA,QACnB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,SAAK,GAAG,mBAAmB,KAAK,iBAAiB;AACjD,SAAK,GAAG,kBAAkB,CAAC,MAAM,eAAe;AAC9C,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAEA,YAAM,kBAAkB,KAAK,QAAQ,KAAK,EAAE,EAAE;AAC9C,WAAK,aAAa,KAAK,IAAI;AAAA,QACzB,UAAU;AAAA,UAAE,GAAG;AAAA,UACb,aAAaR,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,OAAO,IAAI;AAAA,YAC1F,MAAM;AAAA,UACR,IAAI;AAAA,UACJ,gBAAgB;AAAA,UAChB,YAAY;AAAA,UACZ,eAAe,gBAAgB;AAAA,QACjC;AAAA,QACA,UAAU;AAAA,QACV,WAAW,WAAW;AAAA,QACtB,UAAU;AAAA,MACZ,CAAC;AAGD,UAAI,KAAK,QAAQ,MAAM;AACrB,aAAK,aAAa,KAAK,IAAI;AAAA,UACzB,MAAM,WAAW,iBAAiB,gBAAgB;AAAA,QACpD,CAAC;AAAA,MACH;AAEA,WAAK,uBAAuB;AAAA,IAC9B,CAAC;AACD,SAAK,GAAG,uBAAuB,CAAC,MAAM,aAAa;AACjD,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAEA,WAAK,aAAa,KAAK,IAAI;AAAA,QACzB,UAAU;AAAA,UAAE,GAAG,KAAK,QAAQ,KAAK,EAAE,EAAE;AAAA,UACnC,YAAY;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,SAAK,GAAG,uBAAuB,UAAQ;AACrC,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAEA,YAAM,QAAQ;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MACnC;AACA,YAAM,KAAK,EAAE,IAAI;AAAA,QAAE,GAAG,MAAM,KAAK,EAAE;AAAA,QACjC,UAAU;AAAA,UAAE,GAAG,MAAM,KAAK,EAAE,EAAE;AAAA,QAC9B;AAAA,MACF;AACA,aAAO,MAAM,KAAK,EAAE,EAAE,SAAS;AAC/B,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,SAAK,GAAG,wBAAwB,CAAC,MAAM,aAAa;AAClD,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAEA,WAAK,aAAa,KAAK,IAAI;AAAA,QACzB,UAAU;AAAA,UAAE,GAAG,KAAK,SAAS,EAAE,MAAM,KAAK,EAAE,EAAE;AAAA,UAC5C,aAAa;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,SAAK,GAAG,wBAAwB,UAAQ;AACtC,UAAI,QAAQ,QAAQ,CAAC,KAAK,QAAQ,KAAK,EAAE,GAAG;AAC1C,aAAK,IAAI,0DAA0D,QAAQ,OAAO,SAAS,KAAK,EAAE,EAAE;AACpG;AAAA,MACF;AAEA,YAAM,QAAQ;AAAA,QAAE,GAAG,KAAK,SAAS,EAAE;AAAA,MACnC;AACA,YAAM,KAAK,EAAE,IAAI;AAAA,QAAE,GAAG,MAAM,KAAK,EAAE;AAAA,QACjC,UAAU;AAAA,UAAE,GAAG,MAAM,KAAK,EAAE,EAAE;AAAA,QAC9B;AAAA,MACF;AACA,aAAO,MAAM,KAAK,EAAE,EAAE,SAAS;AAC/B,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,SAAK,GAAG,YAAY,MAAM;AAExB,WAAK,uBAAuB;AAAA,IAC9B,CAAC;AACD,SAAK,GAAG,gCAAgC,UAAQ;AAC9C,UAAI,MAAM;AACR,QAAAA,6BAA4B,MAAM,8BAA8B,EAAE,8BAA8B,EAAE,IAAI;AAAA,MACxG;AAAA,IACF,CAAC;AAED,QAAI,OAAO,WAAW,eAAe,OAAO,kBAAkB;AAC5D,aAAO,iBAAiB,UAAUA,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,CAAC;AAC7G,aAAO,iBAAiB,WAAWA,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,CAAC;AAC9G,iBAAWA,6BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,GAAG,GAAI;AAAA,IAC9F;AAAA,EACF;AAEA,WAAS,eAAe,SAAS,MAAM;AACrC,QAAI,SAAS,QAAQ;AACnB,aAAO,CAAC;AAAA,IACV;AAGA,UAAM;AAAA,MACJ,sBAAsB;AAAA,IACxB,IAAI;AACJ,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,IACF,IAAI,KAAK,SAAS;AAElB,QAAI,CAAC,kBAAkB,CAAC,qBAAqB;AAC3C,YAAM,IAAI,MAAM,gDAAgD;AAAA,IAClE;AAEA,UAAM,WAAW,OAAO;AACxB,SAAK,KAAK,UAAU;AAAA,MAClB,IAAI;AAAA,MACJ;AAAA,IACF,CAAC;AACD,SAAK,SAAS;AAAA,MACZ,gBAAgB,KAAK,KAAK,+BAA+B,SAAS,KAAK,KAAK,yBAAyB;AAAA,MACrG,gBAAgB;AAAA,QAAE,GAAG;AAAA,QACnB,CAAC,QAAQ,GAAG;AAAA,UACV;AAAA,UACA,MAAM;AAAA,UACN,QAAQ,CAAC;AAAA,QACX;AAAA,MACF;AAAA,IACF,CAAC;AACD,WAAO;AAAA,EACT;AAEA,WAAS,YAAY,UAAU;AAC7B,UAAM;AAAA,MACJ;AAAA,IACF,IAAI,KAAK,SAAS;AAClB,WAAO,eAAe,QAAQ;AAAA,EAChC;AAEA,WAAS,eAAe,UAAU;AAChC,UAAM,iBAAiB;AAAA,MAAE,GAAG,KAAK,SAAS,EAAE;AAAA,IAC5C;AACA,WAAO,eAAe,QAAQ;AAC9B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAEA,iBAAe,YAAY,UAAU;AACnC,QAAI;AAAA,MACF;AAAA,IACF,IAAI,KAAK,SAAS;AAClB,QAAI,gBAAgB,eAAe,QAAQ;AAC3C,UAAM,cAAc,cAAc,QAAQ;AAC1C,UAAM,QAAQ,CAAC,GAAGA,6BAA4B,MAAM,cAAc,EAAE,cAAc,GAAG,GAAGA,6BAA4B,MAAM,UAAU,EAAE,UAAU,GAAG,GAAGA,6BAA4B,MAAM,eAAe,EAAE,eAAe,CAAC;AAEzN,QAAI;AACF,eAAS,OAAO,aAAa,OAAO,MAAM,QAAQ,QAAQ;AACxD,YAAI,CAAC,eAAe;AAClB;AAAA,QACF;AAEA,cAAMO,MAAK,MAAM,IAAI;AACrB,cAAM,gBAAgB;AAAA,UAAE,GAAG;AAAA,UACzB;AAAA,QACF;AACA,aAAK,SAAS;AAAA,UACZ,gBAAgB;AAAA,YAAE,GAAG;AAAA,YACnB,CAAC,QAAQ,GAAG;AAAA,UACd;AAAA,QACF,CAAC;AAGD,cAAMA,IAAG,cAAc,SAAS,QAAQ;AAExC,yBAAiB,KAAK,SAAS,EAAE;AACjC,wBAAgB,eAAe,QAAQ;AAAA,MACzC;AAAA,IACF,SAAS,KAAK;AACZ,MAAAP,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,QAAQ;AAExE,YAAM;AAAA,IACR;AAGA,QAAI,eAAe;AAWjB,oBAAc,QAAQ,QAAQ,YAAU;AACtC,cAAM,OAAO,KAAK,QAAQ,MAAM;AAEhC,YAAI,QAAQ,KAAK,SAAS,aAAa;AACrC,eAAK,KAAK,wBAAwB,IAAI;AAAA,QACxC;AAAA,MACF,CAAC;AACD,YAAM,QAAQ,cAAc,QAAQ,IAAI,YAAU,KAAK,QAAQ,MAAM,CAAC;AACtE,YAAM,aAAa,MAAM,OAAO,UAAQ,CAAC,KAAK,KAAK;AACnD,YAAM,SAAS,MAAM,OAAO,UAAQ,KAAK,KAAK;AAC9C,YAAM,KAAK,cAAc,UAAU;AAAA,QACjC;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AAED,uBAAiB,KAAK,SAAS,EAAE;AACjC,sBAAgB,eAAe,QAAQ;AAAA,IACzC;AAMA,QAAI;AAEJ,QAAI,eAAe;AACjB,eAAS,cAAc;AACvB,WAAK,KAAK,YAAY,MAAM;AAE5B,MAAAA,6BAA4B,MAAM,aAAa,EAAE,aAAa,EAAE,QAAQ;AAAA,IAC1E;AAEA,QAAI,UAAU,MAAM;AAClB,WAAK,IAAI,2DAA2D,QAAQ,EAAE;AAAA,IAChF;AAEA,WAAO;AAAA,EACT;AAEA,OAAK,UAAUG,aAAY;AAC3B,MAAO,eAAQ;;;MahuDFS;MCfPC;MCRFC;MA6FSC;MCiDFC;MC4BPC;MAWAC;MAEEC;MCxLKC;MCFEC,IAAY,CAAlB;MACMC,IAAY,CAAA;MACZC,IAAqB;ANOlBC,WAAAA,EAAOC,IAAKC,IAAAA;AAE3B,aAASN,MAAKM,GAAOD,CAAAA,GAAIL,EAAAA,IAAKM,GAAMN,EAAAA;AACpC,WAA6BK;EAC7B;AAQM,WAASE,EAAWC,IAAAA;AAC1B,QAAIC,KAAaD,GAAKC;AAClBA,IAAAA,MAAYA,GAAWC,YAAYF,EAAAA;EACvC;AEXM,WAASG,EAAcC,IAAMN,IAAOO,IAAAA;AAC1C,QACCC,IACAC,IACAf,IAHGgB,KAAkB,CAAA;AAItB,SAAKhB,MAAKM,GACA,UAALN,KAAYc,KAAMR,GAAMN,EAAAA,IACd,SAALA,KAAYe,KAAMT,GAAMN,EAAAA,IAC5BgB,GAAgBhB,EAAAA,IAAKM,GAAMN,EAAAA;AAUjC,QAPIiB,UAAUC,SAAS,MACtBF,GAAgBH,WACfI,UAAUC,SAAS,IAAI1B,EAAM2B,KAAKF,WAAW,CAAA,IAAKJ,KAKjC,cAAA,OAARD,MAA2C,QAArBA,GAAKQ,aACrC,MAAKpB,MAAKY,GAAKQ,aAAAA,YACVJ,GAAgBhB,EAAAA,MACnBgB,GAAgBhB,EAAAA,IAAKY,GAAKQ,aAAapB,EAAAA;AAK1C,WAAOqB,EAAYT,IAAMI,IAAiBF,IAAKC,IAAK,IAAA;EACpD;AAAA,WAceM,EAAYT,IAAMN,IAAOQ,IAAKC,IAAKO,IAAAA;AAGlD,QAAMC,KAAQ,EACbX,MAAAA,IACAN,OAAAA,IACAQ,KAAAA,IACAC,KAAAA,IACAS,KAAW,MACXC,IAAS,MACTC,KAAQ,GACRC,KAAM,MAKNC,KAAAA,QACAC,KAAY,MACZC,KAAY,MACZC,aAAAA,QACAC,KAAuB,QAAZV,KAAAA,EAAqB5B,IAAU4B,GAAAA;AAM3C,WAFgB,QAAZA,MAAqC,QAAjB7B,EAAQ8B,SAAe9B,EAAQ8B,MAAMA,EAAAA,GAEtDA;EACP;AAEM,WAASU,IAAAA;AACf,WAAO,EAAEC,SAAS,KAAA;EAClB;AAEM,WAASC,EAAS7B,IAAAA;AACxB,WAAOA,GAAMO;EACb;AC7EM,WAASuB,EAAUC,IAAKC,IAAUC,IAAUC,IAAOC,IAAAA;AACzD,QAAIzC;AAEJ,SAAKA,MAAKuC,GACC,gBAANvC,MAA0B,UAANA,MAAiBA,MAAKsC,MAC7CI,EAAYL,IAAKrC,IAAG,MAAMuC,GAASvC,EAAAA,GAAIwC,EAAAA;AAIzC,SAAKxC,MAAKsC,GAENG,CAAAA,MAAiC,cAAA,OAAfH,GAAStC,EAAAA,KACvB,eAANA,MACM,UAANA,MACM,YAANA,MACM,cAANA,MACAuC,GAASvC,EAAAA,MAAOsC,GAAStC,EAAAA,KAEzB0C,EAAYL,IAAKrC,IAAGsC,GAAStC,EAAAA,GAAIuC,GAASvC,EAAAA,GAAIwC,EAAAA;EAGhD;AAED,WAASG,EAASC,IAAO9B,IAAK+B,IAAAA;AACd,YAAX/B,GAAI,CAAA,IACP8B,GAAMF,YAAY5B,IAAc,QAAT+B,KAAgB,KAAKA,EAAAA,IAE5CD,GAAM9B,EAAAA,IADa,QAAT+B,KACG,KACa,YAAA,OAATA,MAAqB1C,EAAmB2C,KAAKhC,EAAAA,IACjD+B,KAEAA,KAAQ;EAEtB;AAAA,WAUeH,EAAYL,IAAKU,IAAMF,IAAOG,IAAUR,IAAAA;AAAAA,QACnDS;AAEJC,MAAG,KAAa,YAATH,GACN,KAAoB,YAAA,OAATF,GACVR,CAAAA,GAAIO,MAAMO,UAAUN;SACd;AAKN,UAJuB,YAAA,OAAZG,OACVX,GAAIO,MAAMO,UAAUH,KAAW,KAG5BA,GACH,MAAKD,MAAQC,GACNH,CAAAA,MAASE,MAAQF,MACtBF,EAASN,GAAIO,OAAOG,IAAM,EAAA;AAK7B,UAAIF,GACH,MAAKE,MAAQF,GACPG,CAAAA,MAAYH,GAAME,EAAAA,MAAUC,GAASD,EAAAA,KACzCJ,EAASN,GAAIO,OAAOG,IAAMF,GAAME,EAAAA,CAAAA;IAInC;aAGmB,QAAZA,GAAK,CAAA,KAA0B,QAAZA,GAAK,CAAA,EAChCE,CAAAA,KAAaF,QAAUA,KAAOA,GAAKK,QAAQ,YAAY,EAAA,IAGxBL,KAA3BA,GAAKM,YAAAA,KAAiBhB,KAAYU,GAAKM,YAAAA,EAAc7D,MAAM,CAAA,IACnDuD,GAAKvD,MAAM,CAAA,GAElB6C,GAALiB,MAAqBjB,GAAGiB,IAAc,CAAA,IACtCjB,GAAAiB,EAAeP,KAAOE,EAAAA,IAAcJ,IAEhCA,KACEG,MAEJX,GAAIkB,iBAAiBR,IADLE,KAAaO,IAAoBC,GACbR,EAAAA,IAIrCZ,GAAIqB,oBAAoBX,IADRE,KAAaO,IAAoBC,GACVR,EAAAA;aAErB,8BAATF,IAAoC;AAC9C,UAAIP,GAIHO,CAAAA,KAAOA,GAAKK,QAAQ,eAAe,GAAA,EAAKA,QAAQ,UAAU,GAAA;eAEjD,YAATL,MACS,aAATA,MACS,WAATA,MACS,WAATA,MACS,WAATA,MAGS,eAATA,MACS,eAATA,MACAA,MAAQV,GAER,KAAA;AACCA,QAAAA,GAAIU,EAAAA,IAAiB,QAATF,KAAgB,KAAKA;AAEjC,cAAMK;MACK,SAAHS,IAAAA;MAAG;AAUQ,oBAAA,OAAVd,OAES,QAATA,MAAAA,UAAkBA,MAAAA,MAAmBE,GAAKa,QAAQ,GAAA,IAG5DvB,GAAIwB,gBAAgBd,EAAAA,IAFpBV,GAAIyB,aAAaf,IAAMF,EAAAA;IAIxB;EACD;AASD,WAASY,EAAWE,IAAAA;AACnB/D,QAAAA;AACA,QAAA;AACC,aAAOmE,KAAAT,EAAgBK,GAAE/C,OAAAA,KAAO,EAC/BnB,EAAQuE,QAAQvE,EAAQuE,MAAML,EAAAA,IAAKA,EAAAA;IAIpC,UAND;AAKC/D,UAAAA;IACA;EACD;AAED,WAAS4D,EAAkBG,IAAAA;AAC1B/D,QAAAA;AACA,QAAA;AACC,aAAuB+D,KAAAA,EAAAA,GAAE/C,OAAAA,IAAO,EAAMnB,EAAQuE,QAAQvE,EAAQuE,MAAML,EAAAA,IAAKA,EAAAA;IAGzE,UAJD;AAGC/D,UAAAA;IACA;EACD;AC7JeqE,WAAAA,EAAU3D,IAAO4D,IAAAA;AAChCH,SAAKzD,QAAQA,IACbyD,KAAKG,UAAUA;EACf;AA0EM,WAASC,EAAc5C,IAAO6C,IAAAA;AACpC,QAAkB,QAAdA,GAEH,QAAO7C,GAAAE,KACJ0C,EAAc5C,GAAeA,IAAAA,GAAAA,GAAwBqC,IAAAA,QAAQrC,EAAAA,IAAS,CAAA,IACtE;AAIJ,aADI8C,IACGD,KAAa7C,GAAKC,IAAWN,QAAQkD,KAG3C,KAAe,SAFfC,KAAU9C,GAAKC,IAAW4C,EAAAA,MAEa,QAAhBC,GAAO1C,IAI7B,QAAO0C,GAAP1C;AASF,WAA4B,cAAA,OAAdJ,GAAMX,OAAqBuD,EAAc5C,EAAAA,IAAS;EAChE;AAsCD,WAAS+C,EAAwB/C,IAAAA;AAAjC,QAGWvB,IACJuE;AAHN,QAA+B,SAA1BhD,KAAQA,GAAAA,OAA8C,QAApBA,GAAKM,KAAqB;AAEhE,WADAN,GAAAA,MAAaA,GAAAA,IAAiBiD,OAAO,MAC5BxE,KAAI,GAAGA,KAAIuB,GAAAC,IAAgBN,QAAQlB,KAE3C,KAAa,SADTuE,KAAQhD,GAAAA,IAAgBvB,EAAAA,MACO,QAAduE,GAAAA,KAAoB;AACxChD,QAAAA,GAAAA,MAAaA,GAAAM,IAAiB2C,OAAOD,GAAAA;AACrC;MACA;AAGF,aAAOD,EAAwB/C,EAAAA;IAC/B;EACD;AAuBD,WAASkD,EAAMC,IAAAA;AACV9E,QACH+E,WAAWD,EAAAA,IAEX3E,EAAU2E,EAAAA;EAEX;AAMeE,WAAAA,EAAcC,IAAAA;AAAAA,KAAAA,CAE1BA,GAAAA,QACAA,GAACjD,MAAAA,SACF/B,EAAciF,KAAKD,EAAAA,KAAAA,CAClBE,GAAAC,SACFlF,MAAiBL,EAAQwF,wBAEzBnF,IAAeL,EAAQwF,sBACNR,GAAOM,EAAAA;EAEzB;AAGD,WAASA,KAAAA;AAAT,QACKF,IAMEK,IArGkBC,IAMnBC,IACEC,IANH9D,IACH+D,IACAC;AAgGD,SAHA1F,EAAc2F,KAAK,SAACC,IAAGC,IAAAA;AAAJ,aAAUD,GAACzD,IAAAA,MAAiB0D,GAAlB1D,IAAAN;IAAV,CAAA,GAGXmD,KAAIhF,EAAc8F,MAAAA,IACrBd,CAAAA,GAAAA,QACCK,KAAoBrF,EAAcqB,QA/FnCkE,KAAAA,QACEC,KAAAA,QALNC,MADG/D,MADoB4D,KAsGNN,IAAAA,KApGXlD,MACN4D,KAAYJ,GAAHS,SAGLR,KAAc,CAAA,IACZC,KAAWjF,EAAO,CAAA,GAAImB,EAAAA,GAC5BS,MAAqBT,GAAAS,MAAkB,GAEvC6D,EACCN,IACAhE,IACA8D,IACAF,GACAI,KAAAA,WAAAA,GAAUO,iBACU,QAApBvE,GAAAO,MAA2B,CAACwD,EAAAA,IAAU,MACtCF,IACU,QAAVE,KAAiBnB,EAAc5C,EAAAA,IAAS+D,IACxC/D,GATDO,GAAAA,GAWAiE,EAAWX,IAAa7D,EAAAA,GAEpBA,GAAAI,OAAc2D,MACjBhB,EAAwB/C,EAAAA,IA+EpB1B,EAAcqB,SAASgE,MAI1BrF,EAAc2F,KAAK,SAACC,IAAGC,IAAAA;AAAMD,aAAAA,GAAAzD,IAAAN,MAAkBgE,GAA5B1D,IAAAN;IAAA,CAAA;AAItBqD,IAAAA,GAAAA,MAAyB;EACzB;AGjNM,WAASiB,EACfT,IACAU,IACAC,IACAC,IACAC,IACA5D,IACA6D,IACAjB,IACAE,IACAgB,IAAAA;AAVM,QAYFtG,IAAGuG,IAAGlB,IAAUmB,IAAYC,IAAQC,IAAeC,IAInDC,KAAeT,MAAkBA,GAAnB3E,OAAgDtB,GAE9D2G,KAAoBD,GAAY1F;AAGpC,SADAgF,GAAA1E,MAA2B,CAAA,GACtBxB,KAAI,GAAGA,KAAIiG,GAAa/E,QAAQlB,KAgDpC,KAAkB,SA5CjBwG,KAAaN,GAAA1E,IAAyBxB,EAAAA,IADrB,SAFlBwG,KAAaP,GAAajG,EAAAA,MAEqB,aAAA,OAAdwG,KACW,OAMtB,YAAA,OAAdA,MACc,YAAA,OAAdA,MAEc,YAAA,OAAdA,KAEoCnF,EAC1C,MACAmF,IACA,MACA,MACAA,EAAAA,IAESM,MAAMC,QAAQP,EAAAA,IACmBnF,EAC1Cc,GACA,EAAEtB,UAAU2F,GAAAA,GACZ,MACA,MACA,IAAA,IAESA,GAAA9E,MAAoB,IAKaL,EAC1CmF,GAAW5F,MACX4F,GAAWlG,OACXkG,GAAW1F,KACX0F,GAAWzF,MAAMyF,GAAWzF,MAAM,MAClCyF,GALqDxE,GAAAA,IAQXwE,KAK5C;AAaA,UATAA,GAAA/E,KAAqByE,IACrBM,GAAU9E,MAAUwE,GAAAxE,MAAwB,GAS9B,UAHd2D,KAAWuB,GAAY5G,EAAAA,MAIrBqF,MACAmB,GAAW1F,OAAOuE,GAASvE,OAC3B0F,GAAW5F,SAASyE,GAASzE,KAE9BgG,CAAAA,GAAY5G,EAAAA,IAAAA;UAIZ,MAAKuG,KAAI,GAAGA,KAAIM,IAAmBN,MAAK;AAIvC,aAHAlB,KAAWuB,GAAYL,EAAAA,MAKtBC,GAAW1F,OAAOuE,GAASvE,OAC3B0F,GAAW5F,SAASyE,GAASzE,MAC5B;AACDgG,UAAAA,GAAYL,EAAAA,IAAAA;AACZ;QACA;AACDlB,QAAAA,KAAW;MACX;AAMFQ,QACCN,IACAiB,IALDnB,KAAWA,MAAYpF,GAOtBmG,IACA5D,IACA6D,IACAjB,IACAE,IACAgB,EAAAA,GAGDG,KAASD,GAAH7E,MAED4E,KAAIC,GAAWzF,QAAQsE,GAAStE,OAAOwF,OACtCI,OAAMA,KAAO,CAAA,IACdtB,GAAStE,OAAK4F,GAAK7B,KAAKO,GAAStE,KAAK,MAAMyF,EAAAA,GAChDG,GAAK7B,KAAKyB,IAAGC,GAAAA,OAAyBC,IAAQD,EAAAA,IAGjC,QAAVC,MACkB,QAAjBC,OACHA,KAAgBD,KAIU,cAAA,OAAnBD,GAAW5F,QAClB4F,GAAAhF,QAAyB6D,GAF1B7D,MAICgF,GAAA5E,MAAsB0D,KAAS0B,EAC9BR,IACAlB,IACAC,EAAAA,IAGDD,KAAS2B,EACR1B,IACAiB,IACAnB,IACAuB,IACAH,IACAnB,EAAAA,GAIgC,cAAA,OAAvBY,GAAetF,SAQzBsF,GAAAtE,MAA0B0D,OAG3BA,MACAD,GAAQ1D,OAAS2D,MACjBA,GAAO7E,cAAc8E,OAIrBD,KAASnB,EAAckB,EAAAA;IAtGvB;AA6GF,SAHAa,GAAAvE,MAAsB+E,IAGjB1G,KAAI6G,IAAmB7G,OACL,SAAlB4G,GAAY5G,EAAAA,MAEgB,cAAA,OAAvBkG,GAAetF,QACC,QAAvBgG,GAAY5G,EAAAA,EAAZ2B,OACAiF,GAAY5G,EAAAA,EAAAA,OAAWkG,GAAvBtE,QAKAsE,GAActE,MAAYsF,EAAWf,EAAAA,EAAgBgB,cAGtDC,EAAQR,GAAY5G,EAAAA,GAAI4G,GAAY5G,EAAAA,CAAAA;AAKtC,QAAI2G,GACH,MAAK3G,KAAI,GAAGA,KAAI2G,GAAKzF,QAAQlB,KAC5BqH,GAASV,GAAK3G,EAAAA,GAAI2G,GAAAA,EAAO3G,EAAAA,GAAI2G,GAAAA,EAAO3G,EAAAA,CAAAA;EAGtC;AAED,WAASgH,EAAgBR,IAAYlB,IAAQC,IAAAA;AAI5C,aACKhE,IAHDsD,KAAI2B,GAAAA,KACJc,KAAM,GACHzC,MAAKyC,KAAMzC,GAAE3D,QAAQoG,KAAAA,EACvB/F,KAAQsD,GAAEyC,EAAAA,OAMb/F,GAAAE,KAAgB+E,IAGflB,KADwB,cAAA,OAAd/D,GAAMX,OACPoG,EAAgBzF,IAAO+D,IAAQC,EAAAA,IAE/B0B,EAAW1B,IAAWhE,IAAOA,IAAOsD,IAAGtD,GAA7BI,KAAyC2D,EAAAA;AAK/D,WAAOA;EACP;AAAA,WAQeiC,EAAa1G,IAAU2G,IAAAA;AAUtC,WATAA,KAAMA,MAAO,CAAA,GACG,QAAZ3G,MAAuC,aAAA,OAAZA,OACpBiG,MAAMC,QAAQlG,EAAAA,IACxBA,GAAS4G,KAAK,SAAAlD,IAAAA;AACbgD,QAAahD,IAAOiD,EAAAA;IACpB,CAAA,IAEDA,GAAI1C,KAAKjE,EAAAA,IAEH2G;EACP;AAED,WAASP,EACR1B,IACAiB,IACAnB,IACAuB,IACAH,IACAnB,IAAAA;AAND,QAQKoC,IAuBGC,IAAiBpB;AAtBxB,QAAA,WAAIC,GAAA5E,IAIH8F,CAAAA,KAAUlB,GAAV5E,KAMA4E,GAAU5E,MAAAA;aAEE,QAAZyD,MACAoB,MAAUnB,MACW,QAArBmB,GAAOhG,WAEPmH,GAAO,KAAc,QAAVtC,MAAkBA,GAAO7E,eAAe8E,GAClDA,CAAAA,GAAUsC,YAAYpB,EAAAA,GACtBiB,KAAU;SACJ;AAEN,WACKC,KAASrC,IAAQiB,KAAI,IACxBoB,KAASA,GAAOR,gBAAgBZ,KAAIK,GAAY1F,QACjDqF,MAAK,EAEL,KAAIoB,MAAUlB,GACb,OAAMmB;AAGRrC,MAAAA,GAAUuC,aAAarB,IAAQnB,EAAAA,GAC/BoC,KAAUpC;IACV;AAYF,WAAA,WANIoC,KACMA,KAEAjB,GAAOU;EAIjB;AAKD,WAASD,EAAW3F,IAAAA;AAApB,QAMWvB,IACJuE,IAECwD;AARP,QAAkB,QAAdxG,GAAMX,QAAsC,YAAA,OAAfW,GAAMX,KACtC,QAAOW,GACPI;AAED,QAAIJ,GAAiBC;AACpB,WAASxB,KAAIuB,GAAKC,IAAWN,SAAS,GAAGlB,MAAK,GAAGA,KAEhD,MADIuE,KAAQhD,GAAKC,IAAWxB,EAAAA,OAEvB+H,KAAUb,EAAW3C,EAAAA,GAExB,QAAOwD;;AAMX,WACA;EAAA;ACtUelC,WAAAA,EACfN,IACAyC,IACA3C,IACAe,IACA5D,IACA6D,IACAjB,IACAE,IACAgB,IAAAA;AATeT,QAWXyB,IAoBEzC,IAAGoD,IAAO1F,IAAU2F,IAAUC,IAAUC,IACxC9F,IAKA+F,IACAC,IAmGOtI,IA2BPuI,IACHC,IASSxI,IA6BNiG,IA/LLwC,KAAUT,GAASpH;AAIpB,QAAA,WAAIoH,GAASjG,YAA2B,QAAA;AAGb,YAAvBsD,GAAAvD,QACHwE,KAAcjB,GAAHvD,KACXwD,KAAS0C,GAAArG,MAAgB0D,GAAhB1D,KAETqG,GAAAlG,MAAsB,MACtBuE,KAAoB,CAACf,EAAAA,KAGjBgC,KAAM7H,EAAAA,QAAgB6H,GAAIU,EAAAA;AAE/B,QAAA;AACCJ,QAAO,KAAsB,cAAA,OAAXa,IAAuB;AA6DxC,YA3DInG,KAAW0F,GAAS1H,OAKpB+H,MADJf,KAAMmB,GAAQC,gBACQtC,GAAckB,GAApCzF,GAAAA,GACIyG,KAAmBhB,KACpBe,KACCA,GAAS/H,MAAMuC,QACfyE,GAHsB7F,KAIvB2E,IAGCf,GAAqBxD,MAExBuG,MADAvD,KAAImD,GAAQnG,MAAcwD,GAA1BxD,KAC4BJ,KAAwBoD,GACpD8D,OAEI,eAAeF,MAAWA,GAAQG,UAAUC,SAE/Cb,GAAQnG,MAAcgD,KAAI,IAAI4D,GAAQnG,IAAUgG,EAAAA,KAGhDN,GAAAnG,MAAsBgD,KAAI,IAAIZ,EAAU3B,IAAUgG,EAAAA,GAClDzD,GAAE9C,cAAc0G,IAChB5D,GAAEgE,SAASC,IAERT,MAAUA,GAASU,IAAIlE,EAAAA,GAE3BA,GAAEvE,QAAQgC,IACLuC,GAAEmE,UAAOnE,GAAEmE,QAAQ,CAAA,IACxBnE,GAAEX,UAAUoE,IACZzD,GAAAA,MAAmBuB,IACnB6B,KAAQpD,GAAAjD,MAAAA,MACRiD,GAAC/C,MAAoB,CAAA,GACrB+C,GAAAoE,MAAoB,CAAA,IAID,QAAhBpE,GAAAqE,QACHrE,GAAAqE,MAAerE,GAAEmE,QAGsB,QAApCP,GAAQU,6BACPtE,GAACqE,OAAerE,GAAEmE,UACrBnE,GAACqE,MAAc9I,EAAO,CAAA,GAAIyE,GAC1BqE,GAAAA,IAED9I,EACCyE,GACA4D,KAAAA,GAAQU,yBAAyB7G,IAAUuC,GAFtCqE,GAAAA,CAAAA,IAMP3G,KAAWsC,GAAEvE,OACb4H,KAAWrD,GAAEmE,OACbnE,GAAA7C,MAAWgG,IAGPC,GAEkC,SAApCQ,GAAQU,4BACgB,QAAxBtE,GAAEuE,sBAEFvE,GAAEuE,mBAAAA,GAGwB,QAAvBvE,GAAEwE,qBACLxE,GAAA/C,IAAmBgD,KAAKD,GAAEwE,iBAAAA;aAErB;AASN,cAPqC,QAApCZ,GAAQU,4BACR7G,OAAaC,MACkB,QAA/BsC,GAAEyE,6BAEFzE,GAAEyE,0BAA0BhH,IAAUgG,EAAAA,GAAAA,CAIpCzD,GACDA,OAA2B,QAA3BA,GAAE0E,yBAAAA,UACF1E,GAAE0E,sBACDjH,IACAuC,GACAyD,KAAAA,EAAAA,KAEFN,GAAAA,QAAuB3C,GARxBrD,KASE;AAiBD,iBAfIgG,GAAQhG,QAAeqD,GAA3BrD,QAKC6C,GAAEvE,QAAQgC,IACVuC,GAAEmE,QAAQnE,GACVA,KAAAA,GAAAjD,MAAAA,QAEDoG,GAAArG,MAAgB0D,GAAhB1D,KACAqG,GAAQxG,MAAa6D,GACrB2C,KAAAA,GAAAxG,IAAmBgI,QAAQ,SAAAjI,IAAAA;AACtBA,cAAAA,OAAOA,GAAAE,KAAgBuG;YAC3B,CAAA,GAEQhI,KAAI,GAAGA,KAAI6E,GAAAoE,IAAkB/H,QAAQlB,KAC7C6E,CAAAA,GAAC/C,IAAkBgD,KAAKD,GAAAoE,IAAkBjJ,EAAAA,CAAAA;AAE3C6E,YAAAA,GAACoE,MAAmB,CAAA,GAEhBpE,GAAA/C,IAAmBZ,UACtBkE,GAAYN,KAAKD,EAAAA;AAGlB,kBAAM+C;UACN;AAE4B,kBAAzB/C,GAAE4E,uBACL5E,GAAE4E,oBAAoBnH,IAAUuC,GAAcyD,KAAAA,EAAAA,GAGnB,QAAxBzD,GAAE6E,sBACL7E,GAAC/C,IAAkBgD,KAAK,WAAA;AACvBD,YAAAA,GAAE6E,mBAAmBnH,IAAU2F,IAAUC,EAAAA;UACzC,CAAA;QAEF;AAQD,YANAtD,GAAEX,UAAUoE,IACZzD,GAAEvE,QAAQgC,IACVuC,GAACe,MAAcL,IAEXgD,KAAa9I,EAAjBuF,KACCwD,KAAQ,GACL,eAAeC,MAAWA,GAAQG,UAAUC,QAAQ;AAQvD,eAPAhE,GAAEmE,QAAQnE,GACVA,KAAAA,GAAAjD,MAAAA,OAEI2G,MAAYA,GAAWP,EAAAA,GAE3BV,KAAMzC,GAAEgE,OAAOhE,GAAEvE,OAAOuE,GAAEmE,OAAOnE,GAAEX,OAAAA,GAE1BlE,KAAI,GAAGA,KAAI6E,GAACoE,IAAiB/H,QAAQlB,KAC7C6E,CAAAA,GAAC/C,IAAkBgD,KAAKD,GAAAoE,IAAkBjJ,EAAAA,CAAAA;AAE3C6E,UAAAA,GAACoE,MAAmB,CAAA;QACpB,MACA,IAAA;AACCpE,UAAAA,GAAAjD,MAAAA,OACI2G,MAAYA,GAAWP,EAAAA,GAE3BV,KAAMzC,GAAEgE,OAAOhE,GAAEvE,OAAOuE,GAAEmE,OAAOnE,GAAEX,OAAAA,GAGnCW,GAAEmE,QAAQnE,GACVqE;QAAAA,SAAQrE,GAAAjD,OAAAA,EAAc4G,KAAQ;AAIhC3D,QAAAA,GAAEmE,QAAQnE,GAAVqE,KAEyB,QAArBrE,GAAE8E,oBACLvD,KAAgBhG,EAAOA,EAAO,CAAA,GAAIgG,EAAAA,GAAgBvB,GAAE8E,gBAAAA,CAAAA,IAGhD1B,MAAsC,QAA7BpD,GAAE+E,4BACfzB,KAAWtD,GAAE+E,wBAAwBrH,IAAU2F,EAAAA,IAK5CjC,KADI,QAAPqB,MAAeA,GAAI1G,SAASuB,KAAuB,QAAXmF,GAAIxG,MACLwG,GAAIhH,MAAMO,WAAWyG,IAE7DtB,EACCT,IACAuB,MAAMC,QAAQd,EAAAA,IAAgBA,KAAe,CAACA,EAAAA,GAC9C+B,IACA3C,IACAe,IACA5D,IACA6D,IACAjB,IACAE,IACAgB,EAAAA,GAGDzB,GAAEL,OAAOwD,GAGTA,KAAAA,GAAAlG,MAAsB,MAElB+C,GAAA/C,IAAmBZ,UACtBkE,GAAYN,KAAKD,EAAAA,GAGduD,OACHvD,GAAC8D,MAAiB9D,GAAApD,KAAyB,OAG5CoD,GAAClD,MAAAA;MACD,MACqB,SAArB0E,MACA2B,GAAAhG,QAAuBqD,GAAvBrD,OAEAgG,GAAAxG,MAAqB6D,GAArB7D,KACAwG,GAAQrG,MAAQ0D,GAChB1D,OACAqG,GAAQrG,MAAQkI,EACfxE,GACA2C,KAAAA,IACA3C,IACAe,IACA5D,IACA6D,IACAjB,IACAkB,EAAAA;AAAAA,OAIGgB,KAAM7H,EAAQqK,WAASxC,GAAIU,EAAAA;IAYhC,SAXQrE,IAAAA;AACRqE,MAAAA,GAAAhG,MAAqB,OAEjBsE,MAAoC,QAArBD,QAClB2B,GAAArG,MAAgB2D,IAChB0C,GAAQlG,MAAAA,CAAAA,CAAgBwE,IACxBD,GAAkBA,GAAkBzC,QAAQ0B,EAAAA,CAAAA,IAAW,OAIxD7F,EAAAkC,IAAoBgC,IAAGqE,IAAU3C,EAAAA;IACjC;EACD;AAOeU,WAAAA,EAAWX,IAAa2E,IAAAA;AACnCtK,MAAJoC,OAAqBpC,EAAOoC,IAASkI,IAAM3E,EAAAA,GAE3CA,GAAYqC,KAAK,SAAA5C,IAAAA;AAChB,UAAA;AAECO,QAAAA,KAAcP,GAAH/C,KACX+C,GAAA/C,MAAqB,CAAA,GACrBsD,GAAYqC,KAAK,SAAA/C,IAAAA;AAEhBA,UAAAA,GAAGvD,KAAK0D,EAAAA;QACR,CAAA;MAGD,SAFQlB,IAAAA;AACRlE,UAAOkC,IAAagC,IAAGkB,GACvB7C,GAAAA;MAAA;IACD,CAAA;EACD;AAgBD,WAAS6H,EACRxH,IACA2F,IACA3C,IACAe,IACA5D,IACA6D,IACAjB,IACAkB,IAAAA;AARD,QAoBS/B,IAsDHyF,IACAC,IAjED1H,KAAW8C,GAAS/E,OACpBgC,KAAW0F,GAAS1H,OACpB4J,KAAWlC,GAASpH,MACpBZ,KAAI;AAKR,QAFiB,UAAbkK,OAAoB1H,KAAAA,OAEC,QAArB6D;AACH,aAAOrG,KAAIqG,GAAkBnF,QAAQlB,KAMpC,MALMuE,KAAQ8B,GAAkBrG,EAAAA,MAO/B,kBAAkBuE,MAAAA,CAAAA,CAAY2F,OAC7BA,KAAW3F,GAAM4F,cAAcD,KAA8B,MAAnB3F,GAAM2F,WAChD;AACD7H,QAAAA,KAAMkC,IACN8B,GAAkBrG,EAAAA,IAAK;AACvB;MACA;;AAIH,QAAW,QAAPqC,IAAa;AAChB,UAAiB,SAAb6H,GAEH,QAAOE,SAASC,eAAe/H,EAAAA;AAI/BD,MAAAA,KADGG,KACG4H,SAASE,gBACd,8BAEAJ,EAAAA,IAGKE,SAASzJ,cAEduJ,IACA5H,GAASiI,MAAMjI,EAAAA,GAKjB+D,KAAoB,MAEpBC,KAAAA;IACA;AAED,QAAiB,SAAb4D,GAEC3H,CAAAA,OAAaD,MAAcgE,MAAejE,GAAImI,SAASlI,OAC1DD,GAAImI,OAAOlI;SAEN;AAWN,UATA+D,KAAoBA,MAAqB7G,EAAM2B,KAAKkB,GAAIoI,UAAAA,GAIpDT,MAFJzH,KAAW8C,GAAS/E,SAASL,GAENyK,yBACnBT,KAAU3H,GAASoI,yBAAAA,CAIlBpE,IAAa;AAGjB,YAAyB,QAArBD,GAEH,MADA9D,KAAW,CAAX,GACKvC,KAAI,GAAGA,KAAIqC,GAAIsI,WAAWzJ,QAAQlB,KACtCuC,CAAAA,GAASF,GAAIsI,WAAW3K,EAAAA,EAAG+C,IAAAA,IAAQV,GAAIsI,WAAW3K,EAAAA,EAAG6C;AAAAA,SAInDoH,MAAWD,QAGZC,OACED,MAAWC,GAAAW,UAAkBZ,GAA/BY,UACAX,GAAOW,WAAYvI,GAAIwI,eAExBxI,GAAIwI,YAAaZ,MAAWA,GAAJW,UAAuB;MAGjD;AAKD,UAHAxI,EAAUC,IAAKC,IAAUC,IAAUC,IAAO8D,EAAAA,GAGtC2D,GACHjC,CAAAA,GAAAxG,MAAqB,CAAA;eAErBxB,KAAIgI,GAAS1H,MAAMO,UACnBmF,EACC3D,IACAyE,MAAMC,QAAQ/G,EAAAA,IAAKA,KAAI,CAACA,EAAAA,GACxBgI,IACA3C,IACAe,IACA5D,MAAsB,oBAAb0H,IACT7D,IACAjB,IACAiB,KACGA,GAAkB,CAAA,IAClBhB,GAAA7D,OAAsB2C,EAAckB,IAAU,CAAA,GACjDiB,EAAAA,GAIwB,QAArBD,GACH,MAAKrG,KAAIqG,GAAkBnF,QAAQlB,OACN,SAAxBqG,GAAkBrG,EAAAA,KAAYO,EAAW8F,GAAkBrG,EAAAA,CAAAA;AAM7DsG,MAAAA,OAEH,WAAWhE,MAAAA,YACVtC,KAAIsC,GAASO,WAKb7C,OAAMqC,GAAIQ,SACI,eAAbqH,MAAAA,CAA4BlK,MAIf,aAAbkK,MAAyBlK,OAAMuC,GAASM,UAE1CH,EAAYL,IAAK,SAASrC,IAAGuC,GAASM,OAAAA,KAAO,GAG7C,aAAaP,MAAAA,YACZtC,KAAIsC,GAASwI,YACd9K,OAAMqC,GAAIyI,WAEVpI,EAAYL,IAAK,WAAWrC,IAAGuC,GAASuI,SAAAA,KAAS;IAGnD;AAED,WAAOzI;EACP;AAQegF,WAAAA,EAAStG,IAAK8B,IAAOtB,IAAAA;AACpC,QAAA;AACmB,oBAAA,OAAPR,KAAmBA,GAAI8B,EAAAA,IAC7B9B,GAAImB,UAAUW;IAGnB,SAFQc,IAAAA;AACRlE,QAAAkC,IAAoBgC,IAAGpC,EAAAA;IACvB;EACD;AAUM,WAAS6F,EAAQ7F,IAAOwJ,IAAaC,IAAAA;AAArC,QACFC,IAuBMjL;AAdV,QARIP,EAAQ2H,WAAS3H,EAAQ2H,QAAQ7F,EAAAA,IAEhC0J,KAAI1J,GAAMR,SACTkK,GAAE/I,WAAW+I,GAAE/I,YAAYX,GAAdI,OACjB0F,EAAS4D,IAAG,MAAMF,EAAAA,IAIU,SAAzBE,KAAI1J,GAAHM,MAA8B;AACnC,UAAIoJ,GAAEC,qBACL,KAAA;AACCD,QAAAA,GAAEC,qBAAAA;MAGF,SAFQvH,IAAAA;AACRlE,UAAOkC,IAAagC,IAAGoH,EAAAA;MACvB;AAGFE,MAAAA,GAAEzG,OAAOyG,GAAArF,MAAe,MACxBrE,GAAKM,MAAAA;IACL;AAED,QAAKoJ,KAAI1J,GAAHC,IACL,MAASxB,KAAI,GAAGA,KAAIiL,GAAE/J,QAAQlB,KACzBiL,CAAAA,GAAEjL,EAAAA,KACLoH,EACC6D,GAAEjL,EAAAA,GACF+K,IACAC,MAAoC,cAAA,OAAfzJ,GAAMX,IAAAA;AAM1BoK,IAAAA,MAA4B,QAAdzJ,GAAKI,OACvBpB,EAAWgB,GAADI,GAAAA,GAKXJ,GAAAE,KAAgBF,GAAKI,MAAQJ,GAAAK,MAAAA;EAC7B;AAGD,WAASkH,EAASxI,IAAO0I,IAAO9E,IAAAA;AAC/B,WAAYnC,KAAAA,YAAYzB,IAAO4D,EAAAA;EAC/B;ACjiBM,WAAS2E,EAAOtH,IAAOgE,IAAW4F,IAAAA;AAAlC,QAMF7E,IAOAjB,IAUAD;AAtBA3F,MAAeA,MAAAA,EAAAgC,GAAcF,IAAOgE,EAAAA,GAYpCF,MAPAiB,KAAqC,cAAA,OAAhB6E,MAQtB,OACCA,MAAeA,GAAAA,OAA0B5F,GAAAA,KAQzCH,KAAc,CAAA,GAClBS,EACCN,IARDhE,MAAAA,CACG+E,MAAe6E,MACjB5F,IAFO/D,MAGMb,EAAcwB,GAAU,MAAM,CAACZ,EAAAA,CAAAA,GAS5C8D,MAAYpF,GACZA,GAAAA,WACAsF,GAAUO,iBAAAA,CACTQ,MAAe6E,KACb,CAACA,EAAAA,IACD9F,KACA,OACAE,GAAU6F,aACV5L,EAAM2B,KAAKoE,GAAUkF,UAAAA,IACrB,MACHrF,IAAAA,CACCkB,MAAe6E,KACbA,KACA9F,KACAA,GACAE,MAAAA,GAAU6F,YACb9E,EAAAA,GAIDP,EAAWX,IAAa7D,EAAAA;EACxB;AAUA,WChEe8J,EAAaC,IAAOC,IAAOC,IAAAA;AAC1C,QACCC,IACAC,IACAC,IAHGC,KAAkBC,EAAO,CAAA,GAAIP,GAAMC,KAAAA;AAIvC,SAAKI,MAAKJ,GACA,UAALI,KAAYF,KAAMF,GAAMI,EAAAA,IACd,SAALA,KAAYD,KAAMH,GAAMI,EAAAA,IAC5BC,GAAgBD,EAAAA,IAAKJ,GAAMI,EAAAA;AAQjC,WALIG,UAAUC,SAAS,MACtBH,GAAgBJ,WACfM,UAAUC,SAAS,IAAIC,EAAMC,KAAKH,WAAW,CAAA,IAAKN,KAG7CU,EACNZ,GAAMa,MACNP,IACAH,MAAOH,GAAMG,KACbC,MAAOJ,GAAMI,KACb,IAAA;EAED;AVPYU,MAAQC,EAAUD,OCfzBE,IAAU,EACfC,KUHM,SAAqBC,IAAOC,IAAOC,IAAUC,IAAAA;AAInD,aAFIC,IAAWC,IAAMC,IAEbL,KAAQA,GAAhBM,KACC,MAAKH,KAAYH,GAAHO,QAAAA,CAAyBJ,GAADG,GACrC,KAAA;AAcC,WAbAF,KAAOD,GAAUK,gBAE4B,QAAjCJ,GAAKK,6BAChBN,GAAUO,SAASN,GAAKK,yBAAyBV,EAAAA,CAAAA,GACjDM,KAAUF,GAAHQ,MAG2B,QAA/BR,GAAUS,sBACbT,GAAUS,kBAAkBb,IAAOG,MAAa,CAAhD,CAAA,GACAG,KAAUF,GACVQ,MAGGN,GACH,QAAQF,GAASU,MAAiBV;IAInC,SAFQW,IAAAA;AACRf,MAAAA,KAAQe;IACR;AAIH,UAAMf;EACN,EAAA,GTpCGgB,IAAU,GA6FDC,IAAiB,SAAAhB,IAAAA;AAAAA,WACpB,QAATA,MAAAA,WAAiBA,GAAMQ;EADW,GCiDxBS,IAAAA,OCtHXC,EAAUC,UAAUT,WAAW,SAASU,IAAQC,IAAAA;AAE/C,QAAIC;AAEHA,IAAAA,KADsB,QAAnBC,KAAAC,OAA2BD,KAAAC,QAAoBD,KAAKE,QACnDF,KAAHC,MAEGD,KAAAC,MAAkBE,EAAO,CAAA,GAAIH,KAAKE,KAAAA,GAGlB,cAAA,OAAVL,OAGVA,KAASA,GAAOM,EAAO,CAAD,GAAKJ,EAAAA,GAAIC,KAAKI,KAAAA,IAGjCP,MACHM,EAAOJ,IAAGF,EAAAA,GAIG,QAAVA,MAEAG,KAAJK,QACKP,MACHE,KAAAM,IAAqBC,KAAKT,EAAAA,GAE3BU,EAAcR,IAAAA;EAEf,GAQDL,EAAUC,UAAUa,cAAc,SAASX,IAAAA;AACtCE,SAAAA,QAIHA,KAAAzB,MAAAA,MACIuB,MAAUE,KAAAU,IAAsBH,KAAKT,EAAAA,GACzCU,EAAcR,IAAAA;EAEf,GAYDL,EAAUC,UAAUe,SAASC,GAyFzBC,IAAgB,CAAA,GAadC,IACa,cAAA,OAAXC,UACJA,QAAQnB,UAAUoB,KAAKC,KAAKF,QAAQG,QAAAA,CAAAA,IACpCC,YA+CJC,GAAOC,MAAkB,GC1OdC,IAAI;;;AOGA,WAAR,aAA8B,KAAK;AACxC,YAAQ,OAAO,OAAO,SAAS,IAAI,cAAc,KAAK;AAAA,EACxD;;;ACCe,WAAR,eAAgC,SAAS,SAAS;AACvD,QAAI,YAAY,QAAQ;AACtB,gBAAU;AAAA,IACZ;AAEA,QAAI,OAAO,YAAY,UAAU;AAC/B,aAAO,QAAQ,cAAc,OAAO;AAAA,IACtC;AAEA,QAAI,aAAa,OAAO,GAAG;AACzB,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;;;AChBA,WAAS,iBAAiB,SAAS;AACjC,QAAI;AAQJ,WAAO,WAAW,CAAC,QAAQ,KAAK;AAE9B,gBAAU,QAAQ;AAAA,IACpB;AAEA,YAAQ,WAAW,YAAY,OAAO,SAAS,SAAS;AAAA,EAC1D;AAEA,MAAO,2BAAQ;;;ACdf,MAAqB,aAArB,MAAgC;AAAA,IAC9B,YAAY,MAAM,MAAM;AACtB,UAAI,SAAS,QAAQ;AACnB,eAAO,CAAC;AAAA,MACV;AAEA,WAAK,OAAO;AACZ,WAAK,OAAO;AAAA,IACd;AAAA,IAEA,iBAAiB;AACf,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,KAAK,SAAS;AACvB,aAAO,QAAQ,KAAK,EAAE,KAAK,CAAC;AAAA,IAC9B;AAAA,IAEA,eAAe,QAAQ;AACrB,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,KAAK,SAAS;AACvB,WAAK,KAAK,SAAS;AAAA,QACjB,SAAS;AAAA,UAAE,GAAG;AAAA,UACZ,CAAC,KAAK,EAAE,GAAG;AAAA,YAAE,GAAG,QAAQ,KAAK,EAAE;AAAA,YAC7B,GAAG;AAAA,UACL;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,WAAW,SAAS;AAClB,WAAK,OAAO;AAAA,QAAE,GAAG,KAAK;AAAA,QACpB,GAAG;AAAA,MACL;AACA,WAAK,eAAe;AAEpB,WAAK,SAAS;AAAA,IAChB;AAAA,IAEA,WAAW;AACT,YAAM,aAAa,IAAI,WAAW,CAAC,KAAK,eAAe,KAAK,KAAK,QAAQ,KAAK,KAAK,MAAM,CAAC;AAC1F,WAAK,OAAO,WAAW,UAAU,KAAK,UAAU;AAChD,WAAK,YAAY,WAAW,eAAe,KAAK,UAAU;AAC1D,WAAK,eAAe;AAAA,IACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUA,YAAY;AACV,YAAM,IAAI,MAAM,2EAA4E;AAAA,IAC9F;AAAA;AAAA,IAGA,UAAU;AAAA,IAAC;AAAA;AAAA,IAGX,YAAY;AAAA,IAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASb,SAAS;AACP,YAAM,IAAI,MAAM,8DAA8D;AAAA,IAChF;AAAA;AAAA,IAGA,SAAS;AAAA,IAAC;AAAA;AAAA;AAAA,IAIV,cAAc;AAAA,IAAC;AAAA,EAEjB;;;AC3FA,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAarF,WAASE,UAASC,KAAI;AACpB,QAAI,UAAU;AACd,QAAI,aAAa;AACjB,WAAO,WAAY;AACjB,eAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,aAAK,IAAI,IAAI,UAAU,IAAI;AAAA,MAC7B;AAEA,mBAAa;AAEb,UAAI,CAAC,SAAS;AACZ,kBAAU,QAAQ,QAAQ,EAAE,KAAK,MAAM;AACrC,oBAAU;AAKV,iBAAOA,IAAG,GAAG,UAAU;AAAA,QACzB,CAAC;AAAA,MACH;AAEA,aAAO;AAAA,IACT;AAAA,EACF;AASA,MAAI,YAAyB,gBAAAF,4BAA2B,UAAU;AAElE,MAAM,WAAN,MAAM,kBAAiB,WAAW;AAAA,IAChC,cAAc;AACZ,YAAM,GAAG,SAAS;AAClB,aAAO,eAAe,MAAM,WAAW;AAAA,QACrC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA,IAEA,gBAAgB,QAAQ;AACtB,UAAI;AAEJ,UAAI,OAAO,WAAW,YAAY,kBAAkB,WAAU;AAE5D,uBAAe;AAAA,MACjB,WAAW,OAAO,WAAW,YAAY;AAEvC,cAAM,SAAS;AAEf,aAAK,KAAK,eAAe,CAAAG,OAAK;AAC5B,cAAIA,cAAa,QAAQ;AACvB,2BAAeA;AAAA,UACjB;AAAA,QACF,CAAC;AAAA,MACH;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,MAAM,QAAQ,QAAQ;AACpB,YAAM,mBAAmB,OAAO;AAChC,YAAM,gBAAgB,eAAe,MAAM;AAE3C,UAAI,eAAe;AACjB,aAAK,gBAAgB;AAIrB,cAAM,kBAAkB,SAAS,cAAc,KAAK;AACpD,wBAAgB,UAAU,IAAI,WAAW;AAEzC,QAAAL,6BAA4B,MAAM,SAAS,EAAE,SAAS,IAAIG,UAAS,WAAS;AAI1E,cAAI,CAAC,KAAK,KAAK,UAAU,KAAK,EAAE,EAAG;AACnC,YAAO,KAAK,OAAO,KAAK,GAAG,eAAe;AAC1C,eAAK,YAAY;AAAA,QACnB,CAAC;AACD,aAAK,KAAK,IAAI,cAAc,gBAAgB,sBAAsB,MAAM,GAAG;AAE3E,YAAI,KAAK,KAAK,sBAAsB;AAIlC,wBAAc,YAAY;AAAA,QAC5B;AAEA,UAAO,KAAK,OAAO,KAAK,KAAK,SAAS,CAAC,GAAG,eAAe;AACzD,aAAK,KAAK;AACV,sBAAc,YAAY,eAAe;AAEzC,wBAAgB,MAAM,KAAK,KAAK,aAAa,yBAAiB,eAAe,KAAK;AAClF,aAAK,QAAQ;AACb,eAAO,KAAK;AAAA,MACd;AAEA,YAAM,eAAe,KAAK,gBAAgB,MAAM;AAEhD,UAAI,cAAc;AAChB,aAAK,KAAK,IAAI,cAAc,gBAAgB,OAAO,aAAa,EAAE,EAAE;AACpE,aAAK,SAAS;AACd,aAAK,KAAK,aAAa,UAAU,MAAM;AACvC,aAAK,QAAQ;AACb,eAAO,KAAK;AAAA,MACd;AAEA,WAAK,KAAK,IAAI,kBAAkB,gBAAgB,EAAE;AAClD,UAAI,UAAU,kCAAkC,gBAAgB;AAEhE,UAAI,OAAO,WAAW,YAAY;AAChC,mBAAW;AAAA,MACb,OAAO;AACL,mBAAW;AAAA,MACb;AAEA,YAAM,IAAI,MAAM,OAAO;AAAA,IACzB;AAAA,IAEA,OAAO,OAAO;AACZ,UAAI,KAAK,MAAM,MAAM;AACnB,YAAI,uBAAuB;AAE3B,SAAC,yBAAyB,yBAAyBH,6BAA4B,MAAM,SAAS,GAAG,SAAS,MAAM,OAAO,SAAS,sBAAsB,KAAK,wBAAwB,KAAK;AAAA,MAC1L;AAAA,IACF;AAAA,IAEA,UAAU;AACR,UAAI,KAAK,eAAe;AACtB,YAAI;AAEJ,SAAC,WAAW,KAAK,OAAO,OAAO,SAAS,SAAS,OAAO;AAAA,MAC1D;AAEA,WAAK,UAAU;AAAA,IACjB;AAAA;AAAA,IAGA,UAAU;AAAA,IAAC;AAAA;AAAA,IAGX,YAAY;AAAA,IAAC;AAAA,EAEf;AAEA,MAAO,mBAAQ;;;ACzKf,MAAO,kBAAQ,MAAM;;;ACAN,WAAR,sBAAuC;AAC5C,UAAMM,OAAM,SAAS;AACrB,QAAI,EAAE,eAAeA,SAAQ,EAAE,iBAAiBA,QAAO,YAAYA,OAAM;AACvE,aAAO;AAAA,IACT;AACA,QAAI,EAAE,cAAc,SAAS;AAC3B,aAAO;AAAA,IACT;AACA,QAAI,EAAE,gBAAgB,SAAS;AAC7B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;;;ACZe,WAAR,oCAAqD,iBAAiB,YAAY,cAAc,MAAM;AAC3G,QAAI;AAAA,MACF;AAAA,IACF,IAAI;AACJ,oBAAgB;AAAA,MAAY,aAAW;AACrC,cAAM,aAAa,CAAC,GAAG,YAAY,GAAG,OAAO;AAG7C,YAAI,QAAQ,QAAQ;AAClB,yBAAe,MAAM;AACnB,gDAAoC,iBAAiB,YAAY,cAAc;AAAA,cAC7E;AAAA,YACF,CAAC;AAAA,UACH,CAAC;AAAA,QAEH,OAAO;AACL,oBAAU,UAAU;AAAA,QACtB;AAAA,MACF;AAAA;AAAA,MAEA,CAAAC,WAAS;AACP,qBAAaA,MAAK;AAClB,kBAAU,UAAU;AAAA,MACtB;AAAA,IAAC;AAAA,EACH;;;ACtBA,WAAS,+BAA+B,OAAO,cAAc;AAC3D,QAAI,SAAS,KAAM,QAAO;AAC1B,WAAO;AAAA,MACL;AAAA;AAAA,QAEA,MAAM,SAAS,SAAS,MAAM,cAAc,cAAc;AAAA;AAAA,MAC1D,MAAM,MAAM;AAAA,MACZ,UAAU;AACR,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAW,MAAM,KAAK,SAAS,MAAM,CAAC;AAAA,MACrE;AAAA,MACA,OAAO,SAAS;AAEd,cAAM,kBAAkB,MAAM,aAAa;AAC3C,cAAM,UAAU,MAAM,IAAI,QAAQ,aAAW;AAC3C,8CAAoC,iBAAiB,CAAC,GAAG,cAAc;AAAA,YACrE,WAAW,gBAAc,QAAQ,WAAW,IAAI,UAAQ,+BAA+B,MAAM,YAAY,CAAC,CAAC;AAAA,UAC7G,CAAC;AAAA,QACH,CAAC;AACD,eAAO;AAAA,MACT;AAAA,MACA,aAAa;AAAA,IACf;AAAA,EACF;AACA,WAAS,uCAAuC,OAAO,cAAc,gBAAgB;AACnF,QAAI;AACF,UAAI,mBAAmB,QAAQ;AAC7B,yBAAiB;AAAA,MACnB;AACA,aAAO,mBAAmB;AACxB,cAAM,sBAAsB,MAAM,GAAG,YAAY,IAAI,MAAM,IAAI;AAG/D,YAAI,MAAM,SAAS,QAAQ;AACzB,gBAAM,OAAO,MAAM,MAAM,QAAQ;AACjC,cAAI,QAAQ,MAAM;AAChB;AACA,iBAAK,eAAe,eAAe,oBAAoB,IAAI;AAC3D,kBAAM;AAAA,UACR,WAAW,kBAAkB,KAAM,OAAM;AAAA,QAC3C,WAAW,MAAM,SAAS,aAAa;AACrC,2BAAiB,UAAU,MAAM,OAAO,GAAG;AAEzC,mBAAO,uCAAuC,QAAQ,eAAe,oBAAoB,IAAI,MAAM,IAAI;AAAA,UACzG;AAAA,QACF,WAAW,kBAAkB,KAAM,OAAM;AAAA,MAC3C,EAAE;AAAA,IACJ,SAASC,IAAG;AACV,aAAO,QAAQ,OAAOA,EAAC;AAAA,IACzB;AAAA,EACF;AASA,kBAAO,yBAAiD,cAAc,cAAc;AAIlF,UAAM,oBAAoB,MAAM,QAAQ,IAAI,MAAM,KAAK,aAAa,OAAO,OAAM,SAAQ;AACvF,UAAI;AACJ,UAAI;AAWJ,YAAM,aAAa,MAAM,OAAO,KAAK,eAAe,aAAa,KAAK,WAAW,IAAI,KAAK,iBAAiB;AAE3G,OAAC,oBAAoB,qBAAqB,OAAO,oBAAoB,mBAAmB,+BAA+B,WAAW,GAAG,YAAY;AACjJ,aAAO;AAAA,QACL;AAAA,QACA,gBAAgB,KAAK,UAAU;AAAA;AAAA,MACjC;AAAA,IACF,CAAC,CAAC;AACF,eAAW;AAAA,MACT;AAAA,MACA;AAAA,IACF,KAAK,mBAAmB;AAEtB,UAAI,oBAAoB,MAAM;AAC5B,YAAI;AACF,iBAAO,uCAAuC,kBAAkB,IAAI,cAAc;AAAA,QACpF,SAAS,KAAK;AAIZ,cAAI,kBAAkB,MAAM;AAC1B,kBAAM;AAAA,UACR,OAAO;AACL,yBAAa,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,WAAW,kBAAkB,KAAM,OAAM;AAAA,IAC3C;AAAA,EACF;;;ACzGe,WAAR,YAA6B,cAAc;AAChD,UAAM,QAAQ,gBAAQ,aAAa,KAAK;AACxC,WAAO,QAAQ,QAAQ,KAAK;AAAA,EAC9B;;;ACYA,iBAAO,gBAAuC,cAAc,SAAS;AACnE,QAAI;AAEJ,UAAM,gBAAgB,wBAAwB,WAAW,OAAO,SAAS,QAAQ,iBAAiB,OAAO,wBAAwB,SAAS;AAC1I,QAAI;AACF,YAAM,cAAc,CAAC;AACrB,uBAAiB,QAAQ,yBAAoB,cAAc,YAAY,GAAG;AACxE,oBAAY,KAAK,IAAI;AAAA,MACvB;AACA,aAAO;AAAA,IAET,QAAQ;AACN,aAAO,YAAY,YAAY;AAAA,IACjC;AAAA,EACF;;;AChCA,MAAOC,kBAAQ;AAAA,IACb,SAAS;AAAA;AAAA;AAAA,MAGP,YAAY;AAAA;AAAA,MAEZ,QAAQ;AAAA,IACV;AAAA,EACF;;;ACAA,MAAMC,eAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAGA,MAAMC,kBAAiB;AAAA,IACrB,WAAW;AAAA,IACX,OAAO;AAAA,IACP,QAAQ;AAAA,EACV;AAMA,MAAqB,WAArB,MAAqB,kBAAiB,iBAAS;AAAA,IAC7C,YAAY,MAAM,MAAM;AACtB,YAAM,MAAM;AAAA,QACV,GAAGA;AAAA,QACH,GAAG;AAAA,MACL,CAAC;AAED,WAAK,sBAAsB,oBAAoB;AAC/C,WAAK,WAAW,WAAS;AACvB,cAAM,cAAc,MAAM,IAAI,WAAS;AAAA,UACrC,QAAQ,KAAK;AAAA,UACb,MAAM,KAAK;AAAA,UACX,MAAM,KAAK;AAAA,UACX,MAAM;AAAA,UACN,MAAM;AAAA;AAAA;AAAA,YAGJ,cAAc,KAAK,gBAAgB;AAAA,UACrC;AAAA,QACF,EAAE;AACF,YAAI;AACF,eAAK,KAAK,SAAS,WAAW;AAAA,QAChC,SAAS,KAAK;AACZ,eAAK,KAAK,IAAI,GAAG;AAAA,QACnB;AAAA,MACF;AACA,WAAK,gBAAgB,WAAS;AAC5B,cAAM,QAAQ,gBAAQ,MAAM,OAAO,KAAK;AACxC,YAAI,MAAM,SAAS,GAAG;AACpB,eAAK,KAAK,IAAI,yCAAyC;AACvD,eAAK,SAAS,KAAK;AAAA,QACrB;AAUA,cAAM,OAAO,QAAQ;AAAA,MACvB;AACA,WAAK,iBAAiB,WAAS;AAC7B,YAAI,uBAAuB;AAC3B,cAAM,eAAe;AACrB,cAAM,gBAAgB;AAGtB,cAAM;AAAA,UACJ;AAAA,QACF,IAAI,MAAM;AACV,cAAM,WAAW,MAAM,KAAK,UAAQ,SAAS,OAAO;AACpD,cAAM;AAAA,UACJ;AAAA,QACF,IAAI,KAAK,KAAK,SAAS;AACvB,YAAI,CAAC,YAAY,CAAC,gBAAgB;AAEhC,gBAAM,aAAa,aAAa;AAChC,uBAAa,KAAK,0BAA0B;AAC5C;AAAA,QACF;AAOA,cAAM,aAAa,aAAa;AAChC,qBAAa,KAAK,0BAA0B;AAC5C,aAAK,eAAe;AAAA,UAClB,gBAAgB;AAAA,QAClB,CAAC;AACD,SAAC,yBAAyB,aAAa,KAAK,MAAM,eAAe,QAAQ,sBAAsB,KAAK,YAAY,KAAK;AAAA,MACvH;AACA,WAAK,kBAAkB,WAAS;AAC9B,YAAI,uBAAuB;AAC3B,cAAM,eAAe;AACrB,cAAM,gBAAgB;AACtB,qBAAa,KAAK,0BAA0B;AAG5C,aAAK,6BAA6B,WAAW,MAAM;AACjD,eAAK,eAAe;AAAA,YAClB,gBAAgB;AAAA,UAClB,CAAC;AAAA,QACH,GAAG,EAAE;AACL,SAAC,yBAAyB,cAAc,KAAK,MAAM,gBAAgB,QAAQ,sBAAsB,KAAK,aAAa,KAAK;AAAA,MAC1H;AACA,WAAK,aAAa,OAAM,UAAS;AAC/B,YAAI,mBAAmB;AACvB,cAAM,eAAe;AACrB,cAAM,gBAAgB;AACtB,qBAAa,KAAK,0BAA0B;AAG5C,aAAK,eAAe;AAAA,UAClB,gBAAgB;AAAA,QAClB,CAAC;AACD,cAAM,eAAe,CAAAC,WAAS;AAC5B,eAAK,KAAK,IAAIA,QAAO,OAAO;AAAA,QAC9B;AAGA,cAAM,QAAQ,MAAM,gBAAgB,MAAM,cAAc;AAAA,UACtD;AAAA,QACF,CAAC;AACD,YAAI,MAAM,SAAS,GAAG;AACpB,eAAK,KAAK,IAAI,0BAA0B;AACxC,eAAK,SAAS,KAAK;AAAA,QACrB;AACA,SAAC,qBAAqB,cAAc,KAAK,MAAM,WAAW,QAAQ,kBAAkB,KAAK,aAAa,KAAK;AAAA,MAC7G;AACA,WAAK,OAAO;AACZ,WAAK,KAAK,KAAK,KAAK,MAAM;AAC1B,WAAK,QAAQ;AACb,WAAK,gBAAgBC;AACrB,WAAK,SAAS;AAAA,IAChB;AAAA,IACA,wBAAwB;AACtB,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,KAAK;AACd,aAAO,EAAE,SAAS;AAAA,QAChB,WAAW;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,KAAK,SAAO;AACV,eAAK,eAAe;AAAA,QACtB;AAAA,QACA,MAAM,KAAK,KAAK;AAAA,QAChB,UAAU,aAAa,qBAAqB;AAAA,QAG5C,QAAQ,aAAa;AAAA,QACrB,UAAU,KAAK;AAAA,MACjB,CAAC;AAAA,IACH;AAAA,IACA,OAAO,iBAAiB;AACtB,aAAO,EAAE,OAAO;AAAA,QACd,eAAe;AAAA,QACf,WAAW;AAAA,QACX,WAAW;AAAA,QACX,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,SAAS;AAAA,MACX,GAAG,EAAE,QAAQ;AAAA,QACX,GAAG;AAAA,QACH,UAAU;AAAA,MACZ,CAAC,CAAC;AAAA,IACJ;AAAA,IACA,cAAc;AACZ,aAAO,EAAE,OAAO;AAAA,QACd,WAAW;AAAA,MACb,GAAG,KAAK,UAAU,cAAc;AAAA,QAC9B,QAAQ,EAAE,QAAQ;AAAA,UAChB,WAAW;AAAA,QACb,GAAG,KAAK,KAAK,QAAQ,CAAC;AAAA,MACxB,CAAC,CAAC;AAAA,IACJ;AAAA,IACA,aAAa;AACX,aAAO,EAAE,QAAQ;AAAA,QACf,WAAW;AAAA,MACb,GAAG,KAAK,KAAK,IAAI;AAAA,IACnB;AAAA,IACA,SAAS;AACP,YAAM,gBAAgB;AAAA;AAAA,QAElB,KAAK,sBAAsB,uCAAuC,EAAE;AAAA,QACpE,KAAK,eAAe,EAAE,iBAAiB,kCAAkC,EAAE;AAAA;AAE/E,YAAM,gBAAgB;AAAA,QACpB,OAAO,KAAK,KAAK;AAAA,QACjB,QAAQ,KAAK,KAAK;AAAA,MACpB;AACA,aAAO,EAAE,UAAU;AAAA,QACjB,MAAM;AAAA,QACN,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS,MAAM,KAAK,aAAa,MAAM;AAAA,QACvC,YAAY,KAAK;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,QAAQ,KAAK;AAAA,MACf,GAAG,KAAK,sBAAsB,GAAG,EAAE,OAAO;AAAA,QACxC,WAAW;AAAA,MACb,GAAG,UAAS,eAAe,GAAG,KAAK,YAAY,GAAG,KAAK,WAAW,CAAC,CAAC;AAAA,IACtE;AAAA,IACA,UAAU;AACR,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK;AACT,WAAK,eAAe;AAAA,QAClB,gBAAgB;AAAA,MAClB,CAAC;AACD,UAAI,QAAQ;AACV,aAAK,MAAM,QAAQ,IAAI;AAAA,MACzB;AAAA,IACF;AAAA,IACA,YAAY;AACV,WAAK,QAAQ;AAAA,IACf;AAAA,EACF;AACA,WAAS,UAAUH,aAAY;;;AChO/B,MAAM,gBAAgB;AACtB,MAAqB,SAArB,cAAoC,EAAU;AAAA,IAC5C,cAAc;AACZ,YAAM,GAAG,SAAS;AAClB,WAAK,MAAM,EAAU;AAAA,IACvB;AAAA,IACA,mBAAmB,UAAU;AAC3B,WAAK,IAAI,QAAQ,MAAM,UAAU;AACjC,WAAK,IAAI,QAAQ,MAAM,YAAY;AACnC,iBAAW,UAAU,aAAa;AAAA,IACpC;AAAA,IACA,mBAAmB,UAAU;AAC3B,WAAK,IAAI,QAAQ,MAAM,UAAU;AACjC,WAAK,IAAI,QAAQ,MAAM,YAAY;AACnC,iBAAW,UAAU,aAAa;AAAA,IACpC;AAAA,IACA,SAAS;AACP,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK;AACT,aAAO,EAAE,OAAO;AAAA,QACd,WAAW;AAAA,QACX,KAAK,KAAK;AAAA,MACZ,GAAG,QAAQ;AAAA,IACb;AAAA,EACF;;;ACjBA,WAAS,OAAO,KAAK,OAAO;AAC1B,WAAO,OAAO,OAAO,KAAK,KAAK;AAAA,EACjC;AACA,WAAS,OAAO,OAAO,UAAU;AAC/B,QAAI;AACJ,YAAQ,aAAa,SAAS,OAAO,SAAS,MAAM,QAAQ,OAAO,aAAa;AAAA,EAClF;AACA,WAAS,QAAQ,WAAW,MAAM;AAChC,UAAMI,SAAQ,UAAU,mBAAmB,UAAU,iBAAiB,CAAC;AACvE,WAAOA,OAAM,IAAI,MAAMA,OAAM,IAAI,IAAI,CAAAC,OAAK;AACxC,gBAAU,KAAK,IAAI,IAAIA;AAAA,IACzB;AAAA,EACF;AACA,WAAS,gBAAgB,UAAU;AACjC,UAAM,MAAM,CAAC;AACb,aAASC,KAAI,GAAGA,KAAI,SAAS,QAAQA,MAAK;AACxC,UAAI,SAASA,EAAC,KAAK,MAAM;AACvB,cAAM,MAAM,OAAO,SAASA,EAAC,GAAGA,GAAE,SAAS,EAAE,CAAC;AAC9C,YAAI,GAAG,IAAI,SAASA,EAAC;AAAA,MACvB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,WAAS,mBAAmB,MAAM,MAAM;AACtC,WAAO,QAAQ,CAAC;AAChB,WAAO,QAAQ,CAAC;AAChB,UAAM,iBAAiB,SAAO,KAAK,eAAe,GAAG,IAAI,KAAK,GAAG,IAAI,KAAK,GAAG;AAI7E,UAAM,kBAAkB,CAAC;AACzB,QAAI,cAAc,CAAC;AACnB,eAAW,WAAW,MAAM;AAC1B,UAAI,KAAK,eAAe,OAAO,GAAG;AAChC,YAAI,YAAY,QAAQ;AACtB,0BAAgB,OAAO,IAAI;AAC3B,wBAAc,CAAC;AAAA,QACjB;AAAA,MACF,OAAO;AACL,oBAAY,KAAK,OAAO;AAAA,MAC1B;AAAA,IACF;AACA,UAAM,eAAe,CAAC;AACtB,eAAW,WAAW,MAAM;AAC1B,UAAI,gBAAgB,eAAe,OAAO,GAAG;AAC3C,iBAASA,KAAI,GAAGA,KAAI,gBAAgB,OAAO,EAAE,QAAQA,MAAK;AACxD,gBAAM,iBAAiB,gBAAgB,OAAO,EAAEA,EAAC;AACjD,uBAAa,gBAAgB,OAAO,EAAEA,EAAC,CAAC,IAAI,eAAe,cAAc;AAAA,QAC3E;AAAA,MACF;AACA,mBAAa,OAAO,IAAI,eAAe,OAAO;AAAA,IAChD;AAGA,aAASA,KAAI,GAAGA,KAAI,YAAY,QAAQA,MAAK;AAC3C,mBAAa,YAAYA,EAAC,CAAC,IAAI,eAAe,YAAYA,EAAC,CAAC;AAAA,IAC9D;AACA,WAAO;AAAA,EACT;AACA,MAAM,WAAW,CAAAA,OAAKA;AACtB,MAAM,kBAAN,cAA8B,EAAU;AAAA,IACtC,YAAY,OAAO,SAAS;AAC1B,YAAM,OAAO,OAAO;AACpB,WAAK,OAAO,CAAC;AACb,WAAK,QAAQ;AAAA,QACX,UAAU,gBAAgB,EAAa,EAAa,KAAK,MAAM,QAAQ,CAAC,KAAK,CAAC,CAAC;AAAA,MACjF;AACA,WAAK,gBAAgB,KAAK,cAAc,KAAK,IAAI;AACjD,WAAK,eAAe,KAAK,aAAa,KAAK,IAAI;AAC/C,WAAK,eAAe,KAAK,aAAa,KAAK,IAAI;AAAA,IACjD;AAAA,IACA,qBAAqB;AACnB,WAAK,6BAA6B,CAAC;AACnC,WAAK,mBAAmB,CAAC;AACzB,WAAK,cAAc,CAAC;AACpB,WAAK,cAAc,CAAC;AAAA,IACtB;AAAA,IACA,oBAAoB;AAClB,YAAM,sBAAsB,KAAK,MAAM;AACvC,iBAAW,OAAO,qBAAqB;AACrC,YAAI,oBAAoB,GAAG,GAAG;AAE5B,eAAK,cAAc,GAAG;AAAA,QACxB;AAAA,MACF;AAAA,IACF;AAAA,IACA,0BAA0B,WAAW;AACnC,YAAM,mBAAmB,gBAAgB,EAAa,UAAU,QAAQ,KAAK,CAAC,CAAC;AAC/E,YAAM,mBAAmB,KAAK,MAAM;AACpC,WAAK,SAAS,gBAAc;AAAA,QAC1B,UAAU,mBAAmB,UAAU,UAAU,gBAAgB;AAAA,MACnE,EAAE;AACF,UAAI;AACJ,WAAK,OAAO,kBAAkB;AAC5B,YAAI,iBAAiB,eAAe,GAAG,GAAG;AACxC,gBAAM,UAAU,oBAAoB,iBAAiB,eAAe,GAAG;AAEvE,cAAI,iBAAiB,GAAG,KAAK,WAAW,KAAK,2BAA2B,GAAG,GAAG;AAC5E,iBAAK,YAAY,KAAK,GAAG;AACzB,iBAAK,iBAAiB,KAAK,GAAG;AAAA,UAChC,WAAW,iBAAiB,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,2BAA2B,GAAG,GAAG;AACrF,iBAAK,YAAY,KAAK,GAAG;AAAA,UAC3B;AAAA,QACF;AAAA,MACF;AACA,WAAK,OAAO,kBAAkB;AAC5B,YAAI,iBAAiB,eAAe,GAAG,GAAG;AACxC,gBAAM,UAAU,oBAAoB,iBAAiB,eAAe,GAAG;AACvE,cAAI,iBAAiB,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,2BAA2B,GAAG,GAAG;AAC9E,iBAAK,YAAY,KAAK,GAAG;AAAA,UAC3B;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA,qBAAqB;AACnB,YAAM;AAAA,QACJ;AAAA,MACF,IAAI;AACJ,WAAK,cAAc,CAAC;AACpB,kBAAY,QAAQ,KAAK,YAAY;AACrC,YAAM;AAAA,QACJ;AAAA,MACF,IAAI;AACJ,WAAK,cAAc,CAAC;AACpB,kBAAY,QAAQ,KAAK,YAAY;AAAA,IACvC;AAAA,IACA,aAAa,KAAK;AAChB,YAAM,MAAM,KAAK,iBAAiB,QAAQ,GAAG;AAC7C,UAAI,QAAQ,IAAI;AACd,aAAK,iBAAiB,OAAO,KAAK,CAAC;AAAA,MACrC;AAAA,IACF;AAAA,IACA,cAAc,KAAK;AACjB,WAAK,2BAA2B,GAAG,IAAI;AACvC,YAAM,YAAY,KAAK,KAAK,GAAG;AAC/B,UAAI,aAAa,QAAQ,UAAU,qBAAqB;AACtD,kBAAU,oBAAoB,KAAK,qBAAqB,KAAK,MAAM,GAAG,CAAC;AAAA,MACzE,OAAO;AACL,aAAK,qBAAqB,GAAG;AAAA,MAC/B;AAAA,IACF;AAAA,IACA,qBAAqB,KAAK;AACxB,YAAM,YAAY,KAAK,KAAK,GAAG;AAC/B,UAAI,aAAa,QAAQ,UAAU,oBAAoB;AACrD,kBAAU,mBAAmB;AAAA,MAC/B;AACA,aAAO,KAAK,2BAA2B,GAAG;AAC1C,WAAK,aAAa,GAAG;AACrB,YAAM,sBAAsB,gBAAgB,EAAa,KAAK,MAAM,QAAQ,KAAK,CAAC,CAAC;AACnF,UAAI,CAAC,uBAAuB,CAAC,oBAAoB,eAAe,GAAG,GAAG;AAEpE,aAAK,aAAa,GAAG;AAAA,MACvB;AAAA,IACF;AAAA,IACA,aAAa,KAAK;AAChB,WAAK,2BAA2B,GAAG,IAAI;AACvC,YAAM,YAAY,KAAK,KAAK,GAAG;AAC/B,UAAI,aAAa,QAAQ,UAAU,oBAAoB;AACrD,kBAAU,mBAAmB,KAAK,oBAAoB,KAAK,MAAM,GAAG,CAAC;AAAA,MACvE,OAAO;AACL,aAAK,oBAAoB,GAAG;AAAA,MAC9B;AAAA,IACF;AAAA,IACA,oBAAoB,KAAK;AACvB,YAAM,YAAY,KAAK,KAAK,GAAG;AAC/B,UAAI,aAAa,QAAQ,UAAU,mBAAmB;AACpD,kBAAU,kBAAkB;AAAA,MAC9B;AACA,aAAO,KAAK,2BAA2B,GAAG;AAC1C,WAAK,aAAa,GAAG;AACrB,YAAM,sBAAsB,gBAAgB,EAAa,KAAK,MAAM,QAAQ,KAAK,CAAC,CAAC;AACnF,UAAI,CAAC,uBAAuB,CAAC,oBAAoB,eAAe,GAAG,GAAG;AAEpE,aAAK,aAAa,GAAG;AAAA,MACvB;AAAA,IACF;AAAA,IACA,aAAa,KAAK;AAGhB,YAAM,MAAM,KAAK,iBAAiB,QAAQ,GAAG;AAC7C,UAAI,QAAQ,IAAI;AACd;AAAA,MACF;AACA,WAAK,2BAA2B,GAAG,IAAI;AACvC,YAAM,YAAY,KAAK,KAAK,GAAG;AAC/B,UAAI,aAAa,QAAQ,UAAU,oBAAoB;AACrD,kBAAU,mBAAmB,KAAK,mBAAmB,KAAK,MAAM,GAAG,CAAC;AAAA,MACtE,OAAO;AAIL,aAAK,mBAAmB,GAAG;AAAA,MAC7B;AAAA,IACF;AAAA,IACA,mBAAmB,KAAK;AAGtB,YAAM,MAAM,KAAK,iBAAiB,QAAQ,GAAG;AAC7C,UAAI,QAAQ,IAAI;AACd;AAAA,MACF;AACA,YAAM,YAAY,KAAK,KAAK,GAAG;AAC/B,UAAI,aAAa,QAAQ,UAAU,mBAAmB;AACpD,kBAAU,kBAAkB;AAAA,MAC9B;AACA,aAAO,KAAK,2BAA2B,GAAG;AAC1C,YAAM,sBAAsB,gBAAgB,EAAa,KAAK,MAAM,QAAQ,KAAK,CAAC,CAAC;AACnF,UAAI,uBAAuB,oBAAoB,eAAe,GAAG,GAAG;AAElE,aAAK,aAAa,GAAG;AAAA,MACvB,OAAO;AACL,cAAM,WAAW,OAAO,CAAC,GAAG,KAAK,MAAM,QAAQ;AAC/C,eAAO,SAAS,GAAG;AACnB,aAAK,SAAS;AAAA,UACZ;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IACA,OAAO,MAAM,OAAO;AAClB,UAAI;AAAA,QACF;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,GAAG;AAAA,MACL,IAAI;AACJ,UAAI;AAAA,QACF;AAAA,MACF,IAAI;AAGJ,YAAM,mBAAmB,OAAO,QAAQ,QAAQ,EAAE,IAAI,WAAS;AAC7D,YAAI,CAAC,KAAK,KAAK,IAAI;AACnB,YAAI,CAAC,MAAO,QAAO;AACnB,cAAM,MAAM,QAAQ,MAAM,GAAG;AAC7B,eAAO,EAAa,aAAa,KAAK,GAAG;AAAA,UACvC;AAAA,UACA;AAAA,QACF,CAAC;AAAA,MACH,CAAC,EAAE,OAAO,OAAO;AACjB,aAAO,EAAE,WAAW,OAAO,gBAAgB;AAAA,IAC7C;AAAA,EACF;AACA,kBAAgB,eAAe;AAAA,IAC7B,WAAW;AAAA,IACX,cAAc;AAAA,EAChB;AACA,MAAO,0BAAQ;;;AC5Pf,MAAMC,eAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAQA,MAAqB,WAArB,cAAsC,iBAAS;AAAA,IAC7C,YAAY,MAAM,MAAM;AACtB,YAAM,MAAM,IAAI;AAChB,WAAK,SAAS,WAAS;AACrB,eAAO,EAAE,OAAO;AAAA,UACd,WAAW;AAAA,QACb,GAAG,EAAE,yBAAiB,MAAM,MAAM,KAAK,IAAI,UAAQ,EAAE,QAAQ;AAAA,UAC3D,KAAK,KAAK;AAAA,QACZ,GAAG,EAAE,KAAK;AAAA,UACR,MAAM;AAAA,QACR,GAAG,KAAK,SAAS,KAAK,KAAK,WAAW,EAAE,QAAQ;AAAA,UAC9C,cAAc,KAAK;AAAA,UACnB,0BAA0B;AAAA,UAC1B,sBAAsB;AAAA,UACtB,MAAM;AAAA,UACN,SAAS;AAAA;AAAA,YAET,MAAM,GAAG,KAAK,OAAO;AAAA;AAAA,GAAS,KAAK,OAAO,EAAE;AAAA;AAAA,QAC9C,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA,MACb;AACA,WAAK,OAAO;AACZ,WAAK,KAAK,KAAK,KAAK,MAAM;AAC1B,WAAK,QAAQ;AAAA,IACf;AAAA,IACA,UAAU;AACR,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK;AACT,UAAI,QAAQ;AACV,aAAK,MAAM,QAAQ,IAAI;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AACA,WAAS,UAAUA,aAAY;;;ACpD/B,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAErF,WAAS,kBAAkB,OAAO;AAChC,WAAO,IAAI,MAAM,aAAa;AAAA,MAC5B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,WAAS,QAAQ,QAAQ;AACvB,QAAI,UAAU,MAAM;AAClB,YAAM,eAAe,MAAM,KAAK,MAAM,OAAO,MAAM;AAEnD,aAAO,iBAAiB,SAAS,cAAc;AAAA,QAC7C,MAAM;AAAA,MACR,CAAC;AAED,YAAM,sBAAsB,MAAM;AAChC,eAAO,oBAAoB,SAAS,YAAY;AAAA,MAClD;AAEA,WAAK,KAAK,qBAAqB,mBAAmB;AAAA,IACpD;AAEA,WAAO;AAAA,EACT;AAEA,MAAI,kBAA+B,gBAAAC,4BAA2B,gBAAgB;AAE9E,MAAI,kBAA+B,gBAAAA,4BAA2B,gBAAgB;AAE9E,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAE9D,MAAI,cAA2B,gBAAAA,4BAA2B,YAAY;AAEtE,MAAI,aAA0B,gBAAAA,4BAA2B,WAAW;AAEpE,MAAI,cAA2B,gBAAAA,4BAA2B,YAAY;AAEtE,MAAI,qBAAkC,gBAAAA,4BAA2B,mBAAmB;AAEpF,MAAI,QAAqB,gBAAAA,4BAA2B,MAAM;AAE1D,MAAI,aAA0B,gBAAAA,4BAA2B,WAAW;AAEpE,MAAI,QAAqB,gBAAAA,4BAA2B,MAAM;AAE1D,MAAI,SAAsB,gBAAAA,4BAA2B,OAAO;AAE5D,MAAI,WAAwB,gBAAAA,4BAA2B,SAAS;AAEhE,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAE9D,MAAI,iBAA8B,gBAAAA,4BAA2B,eAAe;AAErE,MAAM,mBAAN,MAAuB;AAAA,IAC5B,YAAY,OAAO;AACjB,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,QAAQ;AAAA,QAClC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,OAAO;AAAA,QACjC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,OAAO;AAAA,QACjC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,iBAAiB;AAAA,QAC3C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,iBAAiB;AAAA,QAC3C,UAAU;AAAA,QACV,OAAO,CAAC;AAAA,MACV,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,aAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,aAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,oBAAoB;AAAA,QAC9C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO,MAAM,KAAK,OAAO;AAAA,MAC3B,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QAC1C,UAAU;AAAA,QACV,OAAO,MAAM;AACX,cAAIF,6BAA4B,MAAM,OAAO,EAAE,OAAO,GAAG;AACvD,YAAAA,6BAA4B,MAAM,kBAAkB,EAAE,kBAAkB,IAAI,WAAWA,6BAA4B,MAAM,cAAc,EAAE,cAAc,GAAG,CAAC;AAC3J;AAAA,UACF;AAEA,UAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,IAAI,KAAK;AACjE,eAAK,QAAQ,KAAK,MAAMA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAIA,6BAA4B,MAAM,UAAU,EAAE,UAAU,KAAK,CAAC;AAEpJ,mBAASG,KAAIH,6BAA4B,MAAM,UAAU,EAAE,UAAU,GAAGG,MAAK,KAAK,OAAOA,MAAK;AAC5F,YAAAH,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE;AAAA,UAC5D;AAEA,cAAIA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAIA,6BAA4B,MAAM,UAAU,EAAE,UAAU,IAAI,GAAG;AAC/H,YAAAA,6BAA4B,MAAM,kBAAkB,EAAE,kBAAkB,IAAI,WAAWA,6BAA4B,MAAM,cAAc,EAAE,cAAc,GAAG,GAAI;AAAA,UAChK,OAAO;AACL,YAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,IAAI,KAAK,MAAMA,6BAA4B,MAAM,UAAU,EAAE,UAAU,IAAI,CAAC;AAAA,UACtI;AAAA,QACF;AAAA,MACF,CAAC;AAED,UAAI,OAAO,UAAU,YAAY,UAAU,GAAG;AAC5C,aAAK,QAAQ;AAAA,MACf,OAAO;AACL,aAAK,QAAQ;AAAA,MACf;AAAA,IACF;AAAA,IAEA,IAAII,KAAI,cAAc;AACpB,UAAI,CAACJ,6BAA4B,MAAM,OAAO,EAAE,OAAO,KAAKA,6BAA4B,MAAM,eAAe,EAAE,eAAe,IAAI,KAAK,OAAO;AAC5I,eAAOA,6BAA4B,MAAM,KAAK,EAAE,KAAK,EAAEI,GAAE;AAAA,MAC3D;AAEA,aAAOJ,6BAA4B,MAAM,MAAM,EAAE,MAAM,EAAEI,KAAI,YAAY;AAAA,IAC3E;AAAA,IAEA,oBAAoBA,KAAI,cAAc;AACpC,UAAI,QAAQ;AAEZ,aAAO,WAAY;AACjB,iBAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,eAAK,IAAI,IAAI,UAAU,IAAI;AAAA,QAC7B;AAEA,YAAI;AACJ,cAAM,eAAe,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpD,0BAAgB,MAAM,IAAI,MAAM;AAC9B,gBAAI;AACJ,gBAAI;AAEJ,gBAAI;AACF,6BAAe,QAAQ,QAAQA,IAAG,GAAG,IAAI,CAAC;AAAA,YAC5C,SAAS,KAAK;AACZ,6BAAe,QAAQ,OAAO,GAAG;AAAA,YACnC;AAEA,yBAAa,KAAK,YAAU;AAC1B,kBAAI,aAAa;AACf,uBAAO,WAAW;AAAA,cACpB,OAAO;AACL,8BAAc,KAAK;AACnB,wBAAQ,MAAM;AAAA,cAChB;AAAA,YACF,GAAG,SAAO;AACR,kBAAI,aAAa;AACf,uBAAO,WAAW;AAAA,cACpB,OAAO;AACL,8BAAc,KAAK;AACnB,uBAAO,GAAG;AAAA,cACZ;AAAA,YACF,CAAC;AACD,mBAAO,WAAS;AACd,4BAAc,kBAAkB,KAAK;AAAA,YACvC;AAAA,UACF,GAAG,YAAY;AAAA,QACjB,CAAC;AAED,qBAAa,QAAQ,WAAS;AAC5B,wBAAc,MAAM,KAAK;AAAA,QAC3B;AAEA,qBAAa,UAAU;AACvB,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,SAAS;AACP,MAAAJ,6BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI;AACtD,mBAAaA,6BAA4B,MAAM,WAAW,EAAE,WAAW,CAAC;AAExE,eAASG,KAAI,GAAGA,KAAI,KAAK,OAAOA,MAAK;AACnC,QAAAH,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE;AAAA,MAC5D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,MAAM,UAAU;AACd,UAAI,aAAa,QAAQ;AACvB,mBAAW;AAAA,MACb;AAEA,MAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI;AACtD,mBAAaA,6BAA4B,MAAM,WAAW,EAAE,WAAW,CAAC;AAExE,UAAI,YAAY,MAAM;AACpB,QAAAA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAI,WAAWA,6BAA4B,MAAM,OAAO,EAAE,OAAO,GAAG,QAAQ;AAAA,MACxI;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaA,UAAU,UAAU;AAClB,mBAAaA,6BAA4B,MAAM,kBAAkB,EAAE,kBAAkB,CAAC;AACtF,WAAK,MAAM,QAAQ;AAEnB,UAAI,KAAK,QAAQ,KAAK,OAAO,SAAS,KAAK,KAAK,GAAG;AACjD,QAAAA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAI,KAAK,QAAQ;AAC3E,aAAK,QAAQA,6BAA4B,MAAM,UAAU,EAAE,UAAU;AACrE,QAAAA,6BAA4B,MAAM,kBAAkB,EAAE,kBAAkB,IAAI,WAAWA,6BAA4B,MAAM,cAAc,EAAE,cAAc,GAAG,QAAQ;AAAA,MACpK;AAAA,IACF;AAAA,IAEA,IAAI,WAAW;AACb,aAAOA,6BAA4B,MAAM,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA,EAEF;AAEA,WAAS,OAAOI,KAAI;AAClB,IAAAJ,6BAA4B,MAAM,eAAe,EAAE,eAAe,KAAK;AACvE,QAAI,OAAO;AACX,QAAI;AAEJ,QAAI;AACF,qBAAeI,IAAG;AAAA,IACpB,SAAS,KAAK;AACZ,MAAAJ,6BAA4B,MAAM,eAAe,EAAE,eAAe,KAAK;AACvE,YAAM;AAAA,IACR;AAEA,WAAO;AAAA,MACL,OAAO,WAAS;AACd,YAAI,KAAM;AACV,eAAO;AACP,QAAAA,6BAA4B,MAAM,eAAe,EAAE,eAAe,KAAK;AACvE,qBAAa,KAAK;AAElB,QAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE;AAAA,MAC5D;AAAA,MACA,MAAM,MAAM;AACV,YAAI,KAAM;AACV,eAAO;AACP,QAAAA,6BAA4B,MAAM,eAAe,EAAE,eAAe,KAAK;AAEvE,QAAAA,6BAA4B,MAAM,UAAU,EAAE,UAAU,EAAE;AAAA,MAC5D;AAAA,IACF;AAAA,EACF;AAEA,WAAS,cAAc;AAIrB,mBAAe,MAAMA,6BAA4B,MAAM,KAAK,EAAE,KAAK,EAAE,CAAC;AAAA,EACxE;AAEA,WAAS,SAAS;AAChB,QAAIA,6BAA4B,MAAM,OAAO,EAAE,OAAO,KAAKA,6BAA4B,MAAM,eAAe,EAAE,eAAe,KAAK,KAAK,OAAO;AAC5I;AAAA,IACF;AAEA,QAAIA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,WAAW,GAAG;AACpF;AAAA,IACF;AAKA,UAAM,OAAOA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,MAAM;AAEvF,UAAM,UAAUA,6BAA4B,MAAM,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;AAEvE,SAAK,QAAQ,QAAQ;AACrB,SAAK,OAAO,QAAQ;AAAA,EACtB;AAEA,WAAS,QAAQI,KAAI,SAAS;AAC5B,QAAI,YAAY,QAAQ;AACtB,gBAAU,CAAC;AAAA,IACb;AAEA,UAAM,UAAU;AAAA,MACd,IAAAA;AAAA,MACA,UAAU,QAAQ,YAAY;AAAA,MAC9B,OAAO,MAAM;AACX,QAAAJ,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE,OAAO;AAAA,MAC/D;AAAA,MACA,MAAM,MAAM;AACV,cAAM,IAAI,MAAM,4DAA4D;AAAA,MAC9E;AAAA,IACF;AAEA,UAAM,QAAQA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,UAAU,WAAS;AACnG,aAAO,QAAQ,WAAW,MAAM;AAAA,IAClC,CAAC;AAED,QAAI,UAAU,IAAI;AAChB,MAAAA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,KAAK,OAAO;AAAA,IAClF,OAAO;AACL,MAAAA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,OAAO,OAAO,GAAG,OAAO;AAAA,IAC9F;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,UAAU,SAAS;AAC1B,UAAM,QAAQA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,QAAQ,OAAO;AAEjG,QAAI,UAAU,IAAI;AAChB,MAAAA,6BAA4B,MAAM,eAAe,EAAE,eAAe,EAAE,OAAO,OAAO,CAAC;AAAA,IACrF;AAAA,EACF;AAEO,MAAM,2BAA2B,OAAO,SAAS;;;AC1VxD,MAAM,eAAN,cAA2B,MAAM;AAAA,IAC/B,YAAYK,QAAO,KAAK;AACtB,UAAI,QAAQ,QAAQ;AAClB,cAAM;AAAA,MACR;AAEA,YAAM,uGAAuG;AAC7G,WAAK,QAAQA;AACb,WAAK,iBAAiB;AACtB,WAAK,UAAU;AAAA,IACjB;AAAA,EAEF;AAEA,MAAO,uBAAQ;;;ACTA,WAAR,wBAAyC;AAC9C,WAAO,MAAM,GAAG,SAAS,EAAE,MAAM,SAAO;AACtC,UAAI,IAAI,SAAS,cAAc;AAC7B,cAAM;AAAA,MACR,OAAO;AACL,cAAM,IAAI,qBAAa,GAAG;AAAA,MAC5B;AAAA,IACF,CAAC;AAAA,EACH;;;ACXA,MAAM,iBAAN,cAA6B,MAAM;AAAA,IACjC,YAAY,SAAS,SAAS;AAC5B,UAAI,YAAY,QAAQ;AACtB,kBAAU,CAAC;AAAA,MACb;AAEA,YAAM,OAAO;AACb,WAAK,QAAQ,QAAQ;AAErB,UAAI,KAAK,SAAS,IAAY,KAAK,OAAO,gBAAgB,GAAG;AAC3D,aAAK,iBAAiB,KAAK,MAAM;AAAA,MACnC;AAAA,IACF;AAAA,EAEF;AAEA,MAAO,yBAAQ;;;AChBf,MAAM,YAAN,cAAwB,MAAM;AAAA,IAC5B,cAAc;AACZ,YAAM,wBAAwB;AAC9B,WAAK,OAAO;AACZ,WAAK,cAAc;AAAA,IACrB;AAAA,EAEF;AAEA,MAAO,oBAAQ;;;ACTf,MAAIC;AAEJ,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAKrF,MAAME,eAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAEA,WAAS,WAAW,KAAK;AACvB,WAAO,IAAI,QAAQ,OAAO,EAAE;AAAA,EAC9B;AAEA,iBAAe,mBAAmB,KAAK;AACrC,QAAI,IAAI,WAAW,KAAK;AACtB,YAAM,IAAI,kBAAU;AAAA,IACtB;AAEA,UAAM,cAAc,IAAI,KAAK;AAE7B,QAAI,IAAI,IAAI;AACV,aAAO;AAAA,IACT;AAEA,QAAI,SAAS,+BAA+B,IAAI,MAAM,KAAK,IAAI,UAAU;AAEzE,QAAI;AACF,YAAM,UAAU,MAAM;AACtB,eAAS,QAAQ,UAAU,GAAG,MAAM,aAAa,QAAQ,OAAO,KAAK;AACrE,eAAS,QAAQ,YAAY,GAAG,MAAM,gBAAgB,QAAQ,SAAS,KAAK;AAAA,IAC9E,QAAQ;AAAA,IAER;AAEA,UAAM,IAAI,MAAM,MAAM;AAAA,EACxB;AAGA,MAAM,sBAAsB,oBAAI,IAAI;AAEpC,MAAI,oBAAiC,gBAAAD,4BAA2B,kBAAkB;AAElF,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAE9D,MAAI,WAAwB,gBAAAA,4BAA2B,SAAS;AAEhE,EAAAH,eAAc,OAAO,IAAI,gCAAgC;AACzD,MAAqB,gBAArB,MAAqB,eAAc;AAAA,IACjC,YAAY,MAAM,MAAM;AACtB,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC7C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,WAAK,oBAAoB,KAAK,kBAAkB,KAAK,IAAI;AACzD,MAAAC,6BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,IAAI,QAAQ,OAAO,SAAS,KAAK;AAAA,IACzG;AAAA,IAEA,oBAAoB,SAAS;AAC3B,MAAAA,6BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,IAAI;AAAA,IAC5E;AAAA,IAEA,CAACD,YAAW,IAAI;AACd,aAAOC,6BAA4B,MAAM,iBAAiB,EAAE,iBAAiB;AAAA,IAC/E;AAAA,IAEA,IAAI,WAAW;AACb,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,KAAK,SAAS;AACvB,YAAM,OAAO,KAAK,KAAK;AACvB,aAAO,WAAW,aAAa,UAAU,IAAI,IAAI,UAAU,IAAI,IAAI,IAAI;AAAA,IACzE;AAAA,IAEA,MAAM,UAAU;AACd,YAAM,iBAAiB;AAAA,QACrB,QAAQ;AAAA,QACR,gBAAgB;AAAA,QAChB,iBAAiB,0BAA0B,eAAc,OAAO;AAAA,MAClE;AACA,aAAO;AAAA,QAAE,GAAG;AAAA,QACV,GAAGA,6BAA4B,MAAM,iBAAiB,EAAE,iBAAiB;AAAA,MAC3E;AAAA,IACF;AAAA,IAEA,kBAAkB,MAAM;AACtB,UAAI;AAAA,QACF;AAAA,MACF,IAAI;AACJ,YAAM,QAAQ,KAAK,KAAK,SAAS;AACjC,YAAM,YAAY,MAAM,aAAa,CAAC;AACtC,YAAM,OAAO,KAAK,KAAK;AAEvB,UAAI,QAAQ,IAAI,MAAM,KAAK,QAAQ,IAAI,MAAM,MAAM,UAAU,IAAI,GAAG;AAClE,aAAK,KAAK,SAAS;AAAA,UACjB,WAAW;AAAA,YAAE,GAAG;AAAA,YACd,CAAC,IAAI,GAAG,QAAQ,IAAI,MAAM;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeA,MAAM,UAAU,MAAM;AACpB,YAAM,uBAAuB,oBAAoB,IAAI,KAAK,QAAQ;AAClE,UAAI,wBAAwB,KAAM,QAAO;AACzC,YAAM,yBAAyB,CAAC,UAAU,gBAAgB,iBAAiB;AAE3E,YAAM,WAAW,YAAY;AAC3B,YAAI;AACF,gBAAM,WAAW,MAAM,MAAMA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,IAAI,GAAG;AAAA,YACtF,QAAQ;AAAA,UACV,CAAC;AACD,gBAAM,SAAS,SAAS,QAAQ,IAAI,8BAA8B;AAElE,cAAI,UAAU,QAAQ,WAAW,KAAK;AACpC,gCAAoB,IAAI,KAAK,UAAU,sBAAsB;AAC7D,mBAAO;AAAA,UACT;AAEA,eAAK,KAAK,IAAI,0EAA0E,KAAK,QAAQ,IAAI,MAAM,EAAE;AACjH,gBAAM,iBAAiB,OAAO,MAAM,GAAG,EAAE,IAAI,gBAAc,WAAW,KAAK,EAAE,YAAY,CAAC;AAC1F,8BAAoB,IAAI,KAAK,UAAU,cAAc;AACrD,iBAAO;AAAA,QACT,SAAS,KAAK;AACZ,eAAK,KAAK,IAAI,sDAAsD,GAAG,IAAI,SAAS;AAGpF,8BAAoB,OAAO,KAAK,QAAQ;AAExC,iBAAO;AAAA,QACT;AAAA,MACF,GAAG;AAEH,0BAAoB,IAAI,KAAK,UAAU,OAAO;AAC9C,aAAO;AAAA,IACT;AAAA,IAEA,MAAM,oBAAoB,MAAM;AAC9B,YAAM,CAAC,gBAAgB,OAAO,IAAI,MAAM,QAAQ,IAAI,CAAC,KAAK,UAAU,IAAI,GAAG,KAAK,QAAQ,CAAC,CAAC;AAE1F,aAAO,OAAO,YAAY,OAAO,QAAQ,OAAO,EAAE,OAAO,WAAS;AAChE,YAAI,CAAC,MAAM,IAAI;AAEf,YAAI,CAAC,eAAe,SAAS,OAAO,YAAY,CAAC,GAAG;AAClD,eAAK,KAAK,IAAI,iDAAiD,MAAM,EAAE;AACvE,iBAAO;AAAA,QACT;AAEA,eAAO;AAAA,MACT,CAAC,CAAC;AAAA,IACJ;AAAA,IAEA,MAAM,IAAI,MAAM,SAAS;AACvB,UAAI,YAAY,QAAQ;AACtB,kBAAU;AAAA,MACZ;AAIA,UAAI,OAAO,YAAY,UAAW,WAAU;AAAA,QAC1C,kBAAkB;AAAA,MACpB;AACA,aAAOA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE;AAAA,QAAE,GAAG;AAAA,QAChE;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,MAAM,KAAK,MAAM,MAAM,SAAS;AAC9B,UAAI,YAAY,QAAQ;AACtB,kBAAU;AAAA,MACZ;AAIA,UAAI,OAAO,YAAY,UAAW,WAAU;AAAA,QAC1C,kBAAkB;AAAA,MACpB;AACA,aAAOA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE;AAAA,QAAE,GAAG;AAAA,QAChE;AAAA,QACA,QAAQ;AAAA,QACR;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,MAAM,OAAO,MAAM,MAAM,SAAS;AAChC,UAAI,SAAS,QAAQ;AACnB,eAAO;AAAA,MACT;AAIA,UAAI,OAAO,YAAY,UAAW,WAAU;AAAA,QAC1C,kBAAkB;AAAA,MACpB;AACA,aAAOA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,EAAE;AAAA,QAAE,GAAG;AAAA,QAChE;AAAA,QACA,QAAQ;AAAA,QACR;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EAEF;AAEA,WAAS,SAAS,KAAK;AACrB,QAAI,kBAAkB,KAAK,GAAG,GAAG;AAC/B,aAAO;AAAA,IACT;AAEA,WAAO,GAAG,KAAK,QAAQ,IAAI,GAAG;AAAA,EAChC;AAEA,iBAAe,UAAU,OAAO;AAC9B,QAAI;AAAA,MACF;AAAA,MACA,SAAS;AAAA,MACT;AAAA,MACA;AAAA,MACA;AAAA,IACF,IAAI;AAEJ,QAAI;AACF,YAAM,UAAU,MAAM,KAAK,oBAAoB,IAAI;AACnD,YAAM,WAAW,MAAM,sBAAsBA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,IAAI,GAAG;AAAA,QACtG;AAAA,QACA;AAAA,QACA;AAAA,QACA,aAAa,KAAK,KAAK,wBAAwB;AAAA,QAC/C,MAAM,OAAO,KAAK,UAAU,IAAI,IAAI;AAAA,MACtC,CAAC;AACD,UAAI,CAAC,iBAAkB,MAAK,kBAAkB,QAAQ;AACtD,aAAO,mBAAmB,QAAQ;AAAA,IACpC,SAAS,KAAK;AACZ,UAAI,OAAO,QAAQ,IAAI,YAAa,OAAM;AAC1C,YAAM,IAAI,uBAAe,aAAa,MAAM,IAAIA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,IAAI;AAAA,QAC3G,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA,EACF;AAEA,gBAAc,UAAUG,aAAY;;;AC3QpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAKO,WAAS,QAAQ,KAAK,OAAO;AAClC,WAAO,IAAI,QAAQ,aAAW;AAC5B,mBAAa,QAAQ,KAAK,KAAK;AAC/B,cAAQ;AAAA,IACV,CAAC;AAAA,EACH;AACO,WAAS,QAAQ,KAAK;AAC3B,WAAO,QAAQ,QAAQ,aAAa,QAAQ,GAAG,CAAC;AAAA,EAClD;AACO,WAAS,WAAW,KAAK;AAC9B,WAAO,IAAI,QAAQ,aAAW;AAC5B,mBAAa,WAAW,GAAG;AAC3B,cAAQ;AAAA,IACV,CAAC;AAAA,EACH;;;ACdA,MAAM,UAAU,CAAAC,SAAM;AACpB,WAAOA,KAAG,MAAM,GAAG,EAAE,IAAI,CAAAC,OAAKA,GAAE,OAAO,CAAC,EAAE,YAAY,IAAIA,GAAE,MAAM,CAAC,CAAC,EAAE,KAAK,GAAG;AAAA,EAChF;AAEA,MAAqB,WAArB,cAAsC,cAAc;AAAA,IAClD,YAAY,MAAM,MAAM;AACtB,YAAM,MAAM,IAAI;AAChB,WAAK,WAAW,KAAK;AACrB,WAAK,KAAK,KAAK;AACf,WAAK,OAAO,KAAK,KAAK,QAAQ,QAAQ,KAAK,EAAE;AAC7C,WAAK,WAAW,KAAK,KAAK;AAC1B,WAAK,WAAW,aAAa,KAAK,QAAQ;AAC1C,WAAK,sBAAsB,KAAK,KAAK;AACrC,WAAK,eAAe;AAAA,IACtB;AAAA,IAEA,MAAM,UAAU;AACd,YAAM,CAAC,SAAS,KAAK,IAAI,MAAM,QAAQ,IAAI,CAAC,MAAM,QAAQ,GAAG,KAAK,aAAa,CAAC,CAAC;AACjF,YAAM,cAAc,CAAC;AAErB,UAAI,OAAO;AACT,oBAAY,iBAAiB,IAAI;AAAA,MACnC;AAEA,UAAI,KAAK,qBAAqB;AAC5B,oBAAY,yBAAyB,IAAI,KAAK,KAAK,UAAU;AAAA,UAC3D,QAAQ,KAAK;AAAA,QACf,CAAC,CAAC;AAAA,MACJ;AAEA,aAAO;AAAA,QAAE,GAAG;AAAA,QACV,GAAG;AAAA,MACL;AAAA,IACF;AAAA,IAEA,kBAAkB,UAAU;AAC1B,YAAM,kBAAkB,QAAQ;AAChC,YAAM,SAAS,KAAK,KAAK,UAAU,KAAK,QAAQ;AAChD,YAAM,mBAAmB,OAAO,eAAe,EAAE;AACjD,YAAM,gBAAgB,mBAAmB,SAAS,WAAW,MAAM,SAAS,SAAS;AACrF,aAAO,eAAe;AAAA,QACpB;AAAA,MACF,CAAC;AACD,aAAO;AAAA,IACT;AAAA,IAEA,aAAa,OAAO;AAClB,aAAO,KAAK,KAAK,UAAU,KAAK,QAAQ,EAAE,QAAQ,QAAQ,KAAK,UAAU,KAAK;AAAA,IAChF;AAAA,IAEA,eAAe;AACb,aAAO,KAAK,KAAK,UAAU,KAAK,QAAQ,EAAE,QAAQ,QAAQ,KAAK,QAAQ;AAAA,IACzE;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,MAAM,gBAAgB;AACpB,UAAI,KAAK,uBAAuB,CAAC,KAAK,cAAc;AAClD,cAAM,KAAK,kBAAkB;AAE7B,YAAI,CAAC,KAAK,cAAc;AACtB,gBAAM,IAAI,MAAM,4FAA4F;AAAA,QAC9G;AAAA,MACF;AAAA,IACF;AAAA,IAEA,QAAQ,SAAS;AACf,UAAI,YAAY,QAAQ;AACtB,kBAAU,CAAC;AAAA,MACb;AAEA,YAAM,SAAS,IAAI,gBAAgB,OAAO;AAE1C,UAAI,KAAK,cAAc;AACrB,eAAO,IAAI,oBAAoB,KAAK,YAAY;AAAA,MAClD;AAEA,aAAO,GAAG,KAAK,QAAQ,IAAI,KAAK,EAAE,YAAY,MAAM;AAAA,IACtD;AAAA,IAEA,QAAQD,MAAI;AACV,aAAO,GAAG,KAAK,QAAQ,IAAI,KAAK,EAAE,QAAQA,IAAE;AAAA,IAC9C;AAAA,IAEA,MAAM,oBAAoB;AACxB,UAAI,CAAC,KAAK,qBAAqB;AAC7B;AAAA,MACF;AAEA,UAAI;AACF,cAAM,MAAM,MAAM,KAAK,KAAK,GAAG,KAAK,EAAE,aAAa;AAAA,UACjD,QAAQ,KAAK;AAAA,QACf,CAAC;AACD,aAAK,eAAe,IAAI;AAAA,MAC1B,SAAS,KAAK;AACZ,aAAK,KAAK,IAAI,kDAAkD,GAAG,IAAI,SAAS;AAAA,MAClF;AAAA,IACF;AAAA,IAEA,KAAK,WAAW;AACd,aAAO,KAAK,IAAI,GAAG,KAAK,EAAE,SAAS,aAAa,EAAE,EAAE;AAAA,IACtD;AAAA,IAEA,SAAS;AACP,aAAO,KAAK,IAAI,GAAG,KAAK,EAAE,SAAS,EAAE,KAAK,cAAY,QAAQ,IAAI,CAAC,UAAU,KAAK,KAAK,UAAU,KAAK,QAAQ,EAAE,QAAQ,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE,KAAK,UAAQ;AAChK,YAAI,CAAC,QAAQ,IAAI;AACjB,eAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA,IAEA,OAAO,WAAW,QAAQ,MAAM,aAAa;AAE3C,aAAO,OAAO;AACd,aAAO,QAAQ,CAAC;AAEhB,UAAI,aAAa;AACf,eAAO,OAAO;AAAA,UAAE,GAAG;AAAA,UACjB,GAAG;AAAA,QACL;AAAA,MACF;AAEA,UAAI,KAAK,aAAa,KAAK,eAAe;AACxC,cAAM,IAAI,MAAM,mQAAmQ;AAAA,MACrR;AAEA,UAAI,KAAK,uBAAuB;AAC9B,cAAM,UAAU,KAAK;AAErB,YAAI,OAAO,YAAY,YAAY,CAAC,MAAM,QAAQ,OAAO,KAAK,EAAE,mBAAmB,SAAS;AAC1F,gBAAM,IAAI,UAAU,GAAG,OAAO,EAAE,2EAA2E;AAAA,QAC7G;AAEA,eAAO,KAAK,wBAAwB;AAAA,MACtC,WAAW,uBAAuB,KAAK,KAAK,YAAY,GAAG;AAEzD,eAAO,KAAK,wBAAwB,WAAW,KAAK,aAAa,QAAQ,SAAS,EAAE,CAAC;AAAA,MACvF,OAAO;AACL,eAAO,KAAK,wBAAwB,IAAI,IAAI,KAAK,YAAY,EAAE;AAAA,MACjE;AAEA,aAAO,UAAU,OAAO,KAAK,WAAW;AAAA,IAE1C;AAAA,EAEF;;;AChJA,MAAAE,4BAAe;AARf,MAAIC;AAAJ,MAAiBC;AAEjB,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAIrF,MAAI,UAAuB,gBAAAC,4BAA2B,QAAQ;AAE9D,MAAIC,YAAwB,gBAAAD,4BAA2B,SAAS;AAEhE,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAE9D,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAE9D,MAAI,iBAA8B,gBAAAA,4BAA2B,eAAe;AAE5E,EAAAJ,eAAc,OAAO,IAAI,sBAAsB;AAC/C,EAAAC,gBAAe,OAAO,IAAI,sBAAsB;AAChD,MAAqB,aAArB,MAAgC;AAAA,IAC9B,YAAY,MAAM;AAChB,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO,CAAC;AAAA,MACV,CAAC;AACD,aAAO,eAAe,MAAMI,WAAU;AAAA,QACpC,UAAU;AAAA,QACV,WAAO,0BAAAC,SAAG;AAAA,MACZ,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QAC1C,UAAU;AAAA,QACV,OAAO,CAAAC,OAAK;AACV,cAAI;AACF,kBAAM,UAAU,KAAK,MAAMA,GAAE,IAAI;AACjC,iBAAK,KAAK,QAAQ,QAAQ,QAAQ,OAAO;AAAA,UAC3C,SAAS,KAAK;AAEZ,oBAAQ,IAAI,GAAG;AAAA,UACjB;AAAA,QACF;AAAA,MACF,CAAC;AACD,WAAK,OAAO;AAEZ,UAAI,CAAC,QAAQ,KAAK,aAAa,OAAO;AACpC,aAAK,KAAK;AAAA,MACZ;AAAA,IACF;AAAA,IAEA,IAAI,SAAS;AACX,aAAOL,6BAA4B,MAAM,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA,IAEA,CAACF,YAAW,IAAI;AACd,aAAOE,6BAA4B,MAAM,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA,IAEA,CAACD,aAAY,IAAI;AACf,aAAOC,6BAA4B,MAAM,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA,IAEA,OAAO;AACL,MAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI,IAAI,UAAU,KAAK,KAAK,MAAM;AAEpF,MAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,SAAS,MAAM;AACjE,QAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI;AAEtD,eAAOA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,SAAS,KAAKA,6BAA4B,MAAM,OAAO,EAAE,OAAO,GAAG;AAC5H,gBAAM,QAAQA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,MAAM;AAExE,eAAK,KAAK,MAAM,QAAQ,MAAM,OAAO;AAAA,QACvC;AAAA,MACF;AAEA,MAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,UAAU,MAAM;AAClE,QAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI;AAAA,MACxD;AAEA,MAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,YAAYA,6BAA4B,MAAM,cAAc,EAAE,cAAc;AAAA,IAClI;AAAA,IAEA,QAAQ;AACN,UAAI;AAEJ,OAAC,wBAAwBA,6BAA4B,MAAM,OAAO,EAAE,OAAO,MAAM,OAAO,SAAS,sBAAsB,MAAM;AAAA,IAC/H;AAAA,IAEA,KAAK,QAAQ,SAAS;AAEpB,UAAI,CAACA,6BAA4B,MAAM,OAAO,EAAE,OAAO,GAAG;AACxD,QAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,KAAK;AAAA,UACvD;AAAA,UACA;AAAA,QACF,CAAC;AAED;AAAA,MACF;AAEA,MAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,KAAK,KAAK,UAAU;AAAA,QACtE;AAAA,QACA;AAAA,MACF,CAAC,CAAC;AAAA,IACJ;AAAA,IAEA,GAAG,QAAQ,SAAS;AAClB,MAAAA,6BAA4B,MAAMG,SAAQ,EAAEA,SAAQ,EAAE,GAAG,QAAQ,OAAO;AAAA,IAC1E;AAAA,IAEA,KAAK,QAAQ,SAAS;AACpB,MAAAH,6BAA4B,MAAMG,SAAQ,EAAEA,SAAQ,EAAE,KAAK,QAAQ,OAAO;AAAA,IAC5E;AAAA,IAEA,KAAK,QAAQ,SAAS;AACpB,MAAAH,6BAA4B,MAAMG,SAAQ,EAAEA,SAAQ,EAAE,KAAK,QAAQ,OAAO;AAAA,IAC5E;AAAA,EAEF;;;AC9HA,MAAAG,iBAAqB;AAErB,WAAS,mBAAmB,UAAU,cAAc,MAAM;AACxD,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,IACF,IAAI;AAEJ,QAAI,UAAU;AACZ,eAAS,KAAK,IAAI,oBAAoB,QAAQ,EAAE;AAChD,eAAS,KAAK,KAAK,mBAAmB,MAAM;AAAA,QAC1C;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AAEA,MAAO,iCAAQ,eAAAC,SAAS,oBAAoB,KAAK;AAAA,IAC/C,SAAS;AAAA,IACT,UAAU;AAAA,EACZ,CAAC;;;ACtBc,WAAR,cAA+B,KAAK;AAEzC,UAAM,QAAQ;AACd,UAAM,OAAO,MAAM,KAAK,GAAG,EAAE,CAAC;AAC9B,UAAM,iBAAiB,cAAc,KAAK,GAAG,IAAI,OAAO;AACxD,WAAO,GAAG,cAAc,MAAM,IAAI;AAAA,EACpC;;;ACNA,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAErF,MAAIE,YAAwB,gBAAAD,4BAA2B,SAAS;AAEhE,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAM9D,MAAqB,eAArB,MAAkC;AAAA,IAChC,YAAY,SAAS;AACnB,aAAO,eAAe,MAAMC,WAAU;AAAA,QACpC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO,CAAC;AAAA,MACV,CAAC;AACD,MAAAH,6BAA4B,MAAMG,SAAQ,EAAEA,SAAQ,IAAI;AAAA,IAC1D;AAAA,IAEA,GAAG,OAAOC,KAAI;AACZ,MAAAJ,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,KAAK,CAAC,OAAOI,GAAE,CAAC;AAEpE,aAAOJ,6BAA4B,MAAMG,SAAQ,EAAEA,SAAQ,EAAE,GAAG,OAAOC,GAAE;AAAA,IAC3E;AAAA,IAEA,SAAS;AACP,iBAAW,CAAC,OAAOA,GAAE,KAAKJ,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,GAAG;AACvF,QAAAA,6BAA4B,MAAMG,SAAQ,EAAEA,SAAQ,EAAE,IAAI,OAAOC,GAAE;AAAA,MACrE;AAAA,IACF;AAAA,EAEF;;;ACvCA,WAASC,6BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,MAAK;AAET,WAASC,4BAA2B,MAAM;AAAE,WAAO,eAAeD,QAAO,MAAM;AAAA,EAAM;AAErF,MAAI,cAA2B,gBAAAC,4BAA2B,YAAY;AAEtE,MAAI,UAAuB,gBAAAA,4BAA2B,QAAQ;AAE9D,MAAI,cAA2B,gBAAAA,4BAA2B,YAAY;AAEtE,MAAI,WAAwB,gBAAAA,4BAA2B,SAAS;AAQhE,MAAM,kBAAN,MAAsB;AAAA,IACpB,YAAY,SAAS,gBAAgB;AACnC,aAAO,eAAe,MAAM,aAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,aAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,UAAU;AAAA,QACpC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,MAAAF,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,IAAI;AACxD,MAAAA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAI;AAAA,IAChE;AAAA,IAEA,WAAW;AAIT,UAAIA,6BAA4B,MAAM,OAAO,EAAE,OAAO,EAAG;AAEzD,UAAIA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,IAAI,GAAG;AAC7D,qBAAaA,6BAA4B,MAAM,WAAW,EAAE,WAAW,CAAC;AACxE,QAAAA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAI,WAAWA,6BAA4B,MAAM,WAAW,EAAE,WAAW,GAAGA,6BAA4B,MAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,MAC7L;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,CAACA,6BAA4B,MAAM,OAAO,EAAE,OAAO,GAAG;AACxD,qBAAaA,6BAA4B,MAAM,WAAW,EAAE,WAAW,CAAC;AACxE,QAAAA,6BAA4B,MAAM,WAAW,EAAE,WAAW,IAAI;AAC9D,QAAAA,6BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI;AAAA,MACxD;AAAA,IACF;AAAA,EAEF;AAEA,MAAO,0BAAQ;;;AChEf,WAAS,eAAe,KAAK;AAC3B,QAAI,CAAC,KAAK;AACR,aAAO;AAAA,IACT;AAEA,WAAO,IAAI,eAAe,KAAK,IAAI,eAAe,KAAK,IAAI,WAAW;AAAA,EACxE;AAEA,MAAO,yBAAQ;;;ACRf,WAASG,8BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,OAAK;AAET,WAASC,6BAA2B,MAAM;AAAE,WAAO,eAAeD,SAAO,MAAM;AAAA,EAAM;AAarF,WAAS,mBAAmB,KAAKE,QAAO;AACtC,QAAI,uBAAe,GAAG,EAAG,QAAO,IAAI,qBAAaA,QAAO,GAAG;AAC3D,UAAM,MAAM,IAAI,uBAAe,gBAAgB;AAAA,MAC7C,OAAOA;AAAA,IACT,CAAC;AACD,QAAI,UAAU;AACd,WAAO;AAAA,EACT;AAGA,WAAS,cAAc,MAAM;AAC3B,UAAM,sBAAsB,KAAK,KAAK,MAAM,GAAG,KAAK,KAAK,MAAM,KAAK,KAAK,IAAI;AAC7E,WAAO;AAAA,EACT;AAEA,WAAS,YAAY,UAAU,MAAM,MAAM;AACzC,UAAM,oBAAoB,MAAM,QAAQ,KAAK,iBAAiB,IAAI,KAAK,oBACrE,OAAO,KAAK,IAAI;AAClB,sBAAkB,QAAQ,UAAQ;AAChC,eAAS,OAAO,MAAM,KAAK,IAAI,CAAC;AAAA,IAClC,CAAC;AAAA,EACH;AAEA,WAAS,qBAAqB,MAAM,MAAM;AACxC,UAAM,WAAW,IAAI,SAAS;AAC9B,gBAAY,UAAU,KAAK,MAAM,IAAI;AACrC,UAAM,sBAAsB,cAAc,IAAI;AAE9C,QAAI,KAAK,MAAM;AACb,eAAS,OAAO,KAAK,WAAW,qBAAqB,KAAK,KAAK,IAAI;AAAA,IACrE,OAAO;AACL,eAAS,OAAO,KAAK,WAAW,mBAAmB;AAAA,IACrD;AAEA,WAAO;AAAA,EACT;AAEA,MAAM,mBAAmB,UAAQ,KAAK;AAEtC,MAAI,2BAAwC,gBAAAD,6BAA2B,yBAAyB;AAEhG,MAAI,cAA2B,gBAAAA,6BAA2B,YAAY;AAEtE,MAAI,0BAAuC,gBAAAA,6BAA2B,wBAAwB;AAE9F,MAAI,oCAAiD,gBAAAA,6BAA2B,kCAAkC;AAElH,MAAI,mBAAgC,gBAAAA,6BAA2B,iBAAiB;AAEhF,MAAI,sBAAmC,gBAAAA,6BAA2B,oBAAoB;AAEtF,MAAI,oBAAiC,gBAAAA,6BAA2B,kBAAkB;AAElF,MAAqB,gBAArB,MAAmC;AAAA,IACjC,YAAY,OAAO,OAAO;AACxB,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC7C,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,kBAAkB;AAAA,QAC5C,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,mCAAmC;AAAA,QAC7D,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,yBAAyB;AAAA,QACnD,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,aAAa;AAAA,QACvC,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,0BAA0B;AAAA,QACpD,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,qBAAqB;AAAA,QAC/C,UAAU;AAAA,QACV,OAAO,OAAM,SAAQ;AACnB,gBAAM,OAAOF,8BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,IAAI;AAE7E,gBAAM,SAAS,KAAK,OAAO,gBAAgB,WAAW,WAAW;AACjE,gBAAM,SAAS,IAAI,OAAO,KAAK,MAAM,KAAK,OAAO,eAAe;AAChE,gBAAM,oBAAoB,MAAM,QAAQ,KAAK,iBAAiB,IAAI,KAAK,oBACrE,OAAO,KAAK,KAAK,IAAI;AAEvB,cAAI,KAAK,KAAK;AAEZ,mBAAO,OAAO,MAAM,KAAK,GAAG;AAAA,UAC9B;AAEA,gBAAM,MAAM,MAAM,OAAO,KAAK,KAAK,OAAO,KAAK;AAAA,YAAE,GAAG,KAAK,OAAO;AAAA,YAC9D,UAAU;AAAA,YACV,UAAU,KAAK;AAAA,YACf,MAAM,KAAK,KAAK;AAAA,YAChB,WAAW,KAAK;AAAA,YAChB,UAAU,OAAO,YAAY,kBAAkB,IAAI,UAAQ,CAAC,MAAM,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;AAAA,YACnF,YAAY,KAAK;AAAA,YACjB,aAAa,KAAK;AAAA,YAClB,SAAS,KAAK;AAAA,UAChB,CAAC;AACD,iBAAO,IAAI;AAAA,QACb;AAAA,MACF,CAAC;AACD,WAAK,OAAO;AACZ,WAAK,OAAO;AAAA,QACV,eAAe,QAAQ;AACrB,iBAAO,UAAU,OAAO,SAAS;AAAA,QACnC;AAAA,QAEA,GAAG;AAAA,MACL;AACA,WAAK,WAAW,MAAM,wBAAwB;AAC9C,WAAK,iBAAiB,uBAAO,OAAO,IAAI;AACxC,WAAK,OAAO,MAAM;AAClB,MAAAA,8BAA4B,MAAM,wBAAwB,EAAE,wBAAwB,IAAI,KAAK,SAAS,oBAAoBA,8BAA4B,MAAM,mBAAmB,EAAE,mBAAmB,GAAG;AAAA,QACrM,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,IAEA,WAAWC,MAAI,SAAS,OAAO;AAC7B,YAAM,OAAO,KAAK,KAAK,QAAQA,IAAE;AAEjC,UAAI,KAAK,OAAO;AACd,cAAM,IAAI,MAAM,KAAK,KAAK;AAAA,MAC5B,WAAW,KAAK,UAAU;AACxB,eAAOD,8BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,EAAE,MAAM,SAAS,KAAK;AAAA,MACrG;AAEA,aAAOA,8BAA4B,MAAM,gBAAgB,EAAE,gBAAgB,EAAE,MAAM,SAAS,KAAK;AAAA,IACnG;AAAA,IAEA,sBAAsB,MAAM;AAC1B,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,cAAM,OAAOA,8BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,IAAI;AAE7E,cAAM,QAAQ,KAAK;AACnB,cAAM,OAAO,cAAc,KAAK,OAAO,YAAY;AACnD,YAAI;AAEJ,cAAM,eAAe,MAAM;AACzB,cAAI,UAAU,KAAM;AACpB,mBAAS,IAAI,WAAO;AAAA,YAClB,QAAQ,GAAG,IAAI,QAAQ,KAAK;AAAA,UAC9B,CAAC;AACD,iBAAO,GAAG,YAAY,kBAAgB,2BAAmB,MAAM,cAAc,IAAI,CAAC;AAClF,iBAAO,GAAG,WAAW,UAAQ;AAC3B,kBAAM,OAAO,KAAK,gBAAgB,KAAK,SAAS,cAAc,KAAK,QAAQ;AAC3E,kBAAM,YAAY,KAAK,KAAK,oBAAoB;AAChD,kBAAM,aAAa;AAAA,cACjB,QAAQ,KAAK,SAAS;AAAA,cACtB;AAAA,cACA;AAAA,cACA,eAAe,KAAK;AAAA,YACtB;AACA,iBAAK,KAAK,KAAK,kBAAkB,MAAM,UAAU;AACjD,0BAAc,KAAK;AAEnB,mBAAO,MAAM;AAEb,gBAAI,KAAK,eAAe,KAAK,EAAE,GAAG;AAChC,mBAAK,eAAe,KAAK,EAAE,EAAE,OAAO;AACpC,mBAAK,eAAe,KAAK,EAAE,IAAI;AAAA,YACjC;AAEA,mBAAO,QAAQ;AAAA,UACjB,CAAC;AACD,iBAAO,GAAG,SAAS,aAAW;AAC5B,kBAAM,OAAO,QAAQ;AACrB,kBAAMG,SAAQ,OAAO,KAAK,iBAAiB,KAAK,cAAc,IAAI,IAAI,IAAI,uBAAe,QAAQ,MAAM,SAAS;AAAA,cAC9G,OAAO,QAAQ;AAAA,YACjB,CAAC;AACD,iBAAK,KAAK,KAAK,gBAAgB,MAAMA,MAAK;AAC1C,0BAAc,KAAK;AAEnB,gBAAI,KAAK,eAAe,KAAK,EAAE,GAAG;AAChC,mBAAK,eAAe,KAAK,EAAE,EAAE,OAAO;AACpC,mBAAK,eAAe,KAAK,EAAE,IAAI;AAAA,YACjC;AAEA,mBAAOA,MAAK;AAAA,UACd,CAAC;AAAA,QACH;AAEA,aAAK,eAAe,KAAK,EAAE,IAAI,IAAI,aAAa,KAAK,IAAI;AACzD,YAAI,gBAAgB,KAAK,SAAS,IAAI,MAAM;AAC1C,cAAI,KAAK,UAAU;AACjB,gBAAIC;AAEJ,aAACA,WAAU,WAAW,OAAO,SAASA,SAAQ,KAAK,SAAS,CAAC,CAAC;AAAA,UAChE,OAAO;AACL,yBAAa;AAAA,UACf;AAEA,iBAAO,MAAM,OAAO,MAAM;AAAA,QAC5B,CAAC;AAED,QAAAJ,8BAA4B,MAAM,uBAAuB,EAAE,uBAAuB,EAAE,gBAAgB,KAAK,IAAI,MAAM;AACjH,cAAI;AAEJ,WAAC,WAAW,WAAW,OAAO,SAAS,SAAS,KAAK,UAAU,CAAC,CAAC;AACjE,wBAAc,MAAM;AACpB,kBAAQ,UAAU,KAAK,EAAE,cAAc;AAAA,QACzC,CAAC;AAED,QAAAA,8BAA4B,MAAM,iCAAiC,EAAE,iCAAiC,EAAE,cAAc,KAAK,IAAI,SAAU,OAAO;AAC9I,cAAI;AAAA,YACF;AAAA,UACF,IAAI,UAAU,SAAS,CAAC,IAAI;AAE5B,cAAI,WAAW,QAAQ;AACrB,gBAAI;AAEJ,aAAC,WAAW,WAAW,OAAO,SAAS,SAAS,KAAK,UAAU,CAAC,CAAC;AACjE,0BAAc,MAAM;AAAA,UACtB;AAEA,kBAAQ,UAAU,KAAK,EAAE,eAAe;AAAA,QAC1C,CAAC;AAED,cAAM,iBAAiB,MAAM;AAC3B,cAAI,UAAU,MAAM;AAClB,0BAAc,MAAM;AAAA,UACtB,OAAO;AACL,mBAAO,KAAK,SAAS,CAAC,CAAC;AACvB,0BAAc,KAAK;AAAA,UACrB;AAEA,0BAAgB,KAAK,SAAS,IAAI,MAAM;AACtC,gBAAI,CAAC,KAAK,UAAU;AAClB,kBAAI,UAAU,MAAM;AAClB,6BAAa;AAAA,cACf,OAAO;AACL,uBAAO,KAAK,UAAU,CAAC,CAAC;AAAA,cAC1B;AAAA,YACF;AAEA,mBAAO,MAAM,OAAO,MAAM;AAAA,UAC5B,CAAC;AAAA,QACH;AAEA,QAAAA,8BAA4B,MAAM,uBAAuB,EAAE,uBAAuB,EAAE,gBAAgB,KAAK,IAAI,cAAc;AAE3H,QAAAA,8BAA4B,MAAM,iCAAiC,EAAE,iCAAiC,EAAE,aAAa,KAAK,IAAI,cAAc;AAAA,MAC9I,CAAC,EAAE,MAAM,SAAO;AACd,aAAK,KAAK,KAAK,gBAAgB,MAAM,GAAG;AACxC,eAAO,QAAQ,OAAO,GAAG;AAAA,MAC3B,CAAC;AAAA,IACH;AAAA,EAEF;AAEA,WAAS,aAAa,MAAM;AAC1B,QAAI;AAEJ,UAAM;AAAA,MACJ;AAAA,IACF,IAAI;AACJ,UAAM,YAAY,KAAK,SAAS,EAAE;AAClC,UAAM,OAAO;AAAA,MAAE,GAAG,KAAK;AAAA,MACrB,GAAI,aAAa,CAAC;AAAA,MAClB,GAAI,KAAK,aAAa,CAAC;AAAA,MACvB,SAAS;AAAA,QAAE,GAAG,KAAK,KAAK;AAAA,QACtB,GAAI,aAAa,OAAO,SAAS,UAAU;AAAA,QAC3C,IAAK,kBAAkB,KAAK,cAAc,OAAO,SAAS,gBAAgB;AAAA,MAC5E;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAEA,WAAS,yBAAyB,WAAW,QAAQ,cAAc;AACjE,SAAK,eAAe,MAAM,EAAE,GAAG,WAAW,cAAY;AACpD,UAAI;AAKJ,YAAMC,QAAM,eAAe,YAAY,OAAO,SAAS,SAAS,OAAO,OAAO,eAAe;AAC7F,UAAI,WAAWA,KAAI,cAAa;AAAA,IAClC,CAAC;AAAA,EACH;AAEA,WAAS,mCAAmC,WAAW,QAAQ,cAAc;AAC3E,QAAI,QAAQ;AAEZ,SAAK,eAAe,MAAM,EAAE,GAAG,WAAW,WAAY;AACpD,UAAI,MAAM,KAAK,QAAQ,MAAM,EAAG,cAAa,GAAG,SAAS;AAAA,IAC3D,CAAC;AAAA,EACH;AAEA,WAAS,kBAAkB,MAAM,SAAS,OAAO;AAC/C,UAAM,OAAOD,8BAA4B,MAAM,WAAW,EAAE,WAAW,EAAE,IAAI;AAE7E,SAAK,KAAK,IAAI,aAAa,OAAO,OAAO,KAAK,EAAE;AAChD,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAGtC,YAAM,OAAO,KAAK,WAAW,qBAAqB,MAAM,IAAI,IAAI,iBAAiB,MAAM,IAAI;AAC3F,YAAM,MAAM,IAAI,eAAe;AAC/B,WAAK,eAAe,KAAK,EAAE,IAAI,IAAI,aAAa,KAAK,IAAI;AACzD,YAAM,QAAQ,IAAI,wBAAgB,KAAK,SAAS,MAAM;AACpD,YAAI,MAAM;AAEV,sBAAc,KAAK;AACnB,cAAMG,SAAQ,IAAI,MAAM,KAAK,KAAK,YAAY;AAAA,UAC5C,SAAS,KAAK,KAAK,KAAK,UAAU,GAAI;AAAA,QACxC,CAAC,CAAC;AACF,aAAK,KAAK,KAAK,gBAAgB,MAAMA,MAAK;AAC1C,eAAOA,MAAK;AAAA,MACd,CAAC;AACD,YAAMF,OAAK,OAAO;AAClB,UAAI,OAAO,iBAAiB,aAAa,MAAM;AAC7C,aAAK,KAAK,IAAI,qBAAqBA,IAAE,UAAU;AAAA,MACjD,CAAC;AACD,UAAI,OAAO,iBAAiB,YAAY,QAAM;AAC5C,aAAK,KAAK,IAAI,qBAAqBA,IAAE,cAAc,GAAG,MAAM,MAAM,GAAG,KAAK,EAAE;AAG5E,cAAM,SAAS;AAEf,YAAI,GAAG,kBAAkB;AACvB,eAAK,KAAK,KAAK,mBAAmB,MAAM;AAAA,YACtC,UAAU;AAAA,YACV,eAAe,GAAG;AAAA,YAClB,YAAY,GAAG;AAAA,UACjB,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AACD,UAAI,iBAAiB,QAAQ,QAAM;AACjC,aAAK,KAAK,IAAI,qBAAqBA,IAAE,WAAW;AAChD,cAAM,KAAK;AAEX,sBAAc,KAAK;AAEnB,YAAI,KAAK,eAAe,KAAK,EAAE,GAAG;AAChC,eAAK,eAAe,KAAK,EAAE,EAAE,OAAO;AACpC,eAAK,eAAe,KAAK,EAAE,IAAI;AAAA,QACjC;AAEA,YAAI,KAAK,eAAe,GAAG,OAAO,QAAQ,IAAI,cAAc,GAAG,GAAG;AAChE,gBAAMI,QAAO,KAAK,gBAAgB,IAAI,cAAc,GAAG;AACvD,gBAAM,YAAYA,MAAK,KAAK,oBAAoB;AAChD,gBAAM,aAAa;AAAA,YACjB,QAAQ,GAAG,OAAO;AAAA,YAClB,MAAAA;AAAA,YACA;AAAA,UACF;AACA,eAAK,KAAK,KAAK,kBAAkB,MAAM,UAAU;AAEjD,cAAI,WAAW;AACb,iBAAK,KAAK,IAAI,YAAY,KAAK,IAAI,SAAS,SAAS,EAAE;AAAA,UACzD;AAEA,iBAAO,QAAQ,IAAI;AAAA,QACrB;AAEA,cAAM,OAAO,KAAK,gBAAgB,IAAI,cAAc,GAAG;AACvD,cAAMF,SAAQ,mBAAmB,KAAK,KAAK,iBAAiB,IAAI,cAAc,GAAG,CAAC;AAClF,cAAM,WAAW;AAAA,UACf,QAAQ,GAAG,OAAO;AAAA,UAClB;AAAA,QACF;AACA,aAAK,KAAK,KAAK,gBAAgB,MAAMA,QAAO,QAAQ;AACpD,eAAO,OAAOA,MAAK;AAAA,MACrB,CAAC;AACD,UAAI,iBAAiB,SAAS,MAAM;AAClC,aAAK,KAAK,IAAI,qBAAqBF,IAAE,UAAU;AAC/C,cAAM,KAAK;AAEX,sBAAc,KAAK;AAEnB,YAAI,KAAK,eAAe,KAAK,EAAE,GAAG;AAChC,eAAK,eAAe,KAAK,EAAE,EAAE,OAAO;AACpC,eAAK,eAAe,KAAK,EAAE,IAAI;AAAA,QACjC;AAEA,cAAME,SAAQ,mBAAmB,KAAK,KAAK,iBAAiB,IAAI,cAAc,GAAG,CAAC;AAClF,aAAK,KAAK,KAAK,gBAAgB,MAAMA,MAAK;AAC1C,eAAO,OAAOA,MAAK;AAAA,MACrB,CAAC;AACD,UAAI,KAAK,KAAK,OAAO,YAAY,GAAG,KAAK,UAAU,IAAI;AAIvD,UAAI,kBAAkB,QAAQ,KAAK,eAAe;AAElD,UAAI,KAAK,iBAAiB,IAAI;AAC5B,YAAI,eAAe,KAAK;AAAA,MAC1B;AAEA,aAAO,KAAK,KAAK,OAAO,EAAE,QAAQ,YAAU;AAC1C,YAAI,iBAAiB,QAAQ,KAAK,QAAQ,MAAM,CAAC;AAAA,MACnD,CAAC;AACD,YAAM,gBAAgB,KAAK,SAAS,IAAI,MAAM;AAC5C,YAAI,KAAK,IAAI;AACb,eAAO,MAAM;AAEX,gBAAM,KAAK;AACX,cAAI,MAAM;AAAA,QACZ;AAAA,MACF,GAAG;AAAA,QACD,UAAU;AAAA,MACZ,CAAC;AAED,MAAAH,8BAA4B,MAAM,uBAAuB,EAAE,uBAAuB,EAAE,gBAAgB,KAAK,IAAI,MAAM;AACjH,sBAAc,MAAM;AACpB,eAAO,IAAI,MAAM,cAAc,CAAC;AAAA,MAClC,CAAC;AAED,MAAAA,8BAA4B,MAAM,iCAAiC,EAAE,iCAAiC,EAAE,cAAc,KAAK,IAAI,SAAU,QAAQ;AAC/I,YAAI;AAAA,UACF;AAAA,QACF,IAAI,WAAW,SAAS,CAAC,IAAI;AAE7B,YAAI,WAAW,QAAQ;AACrB,wBAAc,MAAM;AAAA,QACtB;AAEA,eAAO,IAAI,MAAM,kBAAkB,CAAC;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,iBAAe,mBAAmB,MAAM;AAEtC,QAAI;AACF,UAAI,KAAK,aAAa;AACpB,eAAO,KAAK,sBAAsB,IAAI;AAAA,MACxC;AAEA,YAAM,cAAc,MAAMA,8BAA4B,MAAM,wBAAwB,EAAE,wBAAwB,EAAE,IAAI;AACpH,UAAI,CAAC,KAAK,KAAK,SAAS,EAAE,MAAM,KAAK,EAAE,EAAG,QAAO;AACjD,WAAK,KAAK,aAAa,KAAK,IAAI;AAAA,QAC9B;AAAA,MACF,CAAC;AACD,aAAO,KAAK,sBAAsB,KAAK,KAAK,QAAQ,KAAK,EAAE,CAAC;AAAA,IAC9D,SAAS,KAAK;AACZ,WAAK,KAAK,KAAK,gBAAgB,MAAM,GAAG;AACxC,YAAM;AAAA,IACR;AAAA,EACF;;;ACjcA,WAAS,qBAAqB,UAAU;AACtC,WAAO,SAAS,QAAQ,QAAQ,EAAE;AAAA,EACpC;AAUA,WAAS,MAAM,SAAS,KAAK;AAC3B,UAAM,iBAAiB,IAAI,UAAU,IAAI,QAAQ,cAAc,IAAI,IAAI,kBAAkB,cAAc;AAEvG,QAAI,OAAO,mBAAmB,UAAU;AACtC,YAAM,cAAc,qBAAqB,cAAc,EAAE,YAAY;AAErE,UAAI,gBAAgB,qBAAqB,gBAAgB,YAAY;AACnE,eAAO;AAAA,MACT;AAIA,UAAI,gBAAgB,eAAe,WAAW,KAAK,OAAO,GAAG;AAC3D,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAEA,MAAO,gBAAQ;;;ACtCf,MAAOM,kBAAQ;AAAA,IACb,SAAS;AAAA,MACP,UAAU;AAAA,IACZ;AAAA,EACF;;;ACJA,MAAIC;AAEJ,WAASC,8BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAE1N,MAAIC,OAAK;AAET,WAASC,6BAA2B,MAAM;AAAE,WAAO,eAAeD,SAAO,MAAM;AAAA,EAAM;AA+BrF,MAAME,eAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAKA,WAAS,WAAW,QAAQ,MAAM;AAGhC,QAAI,CAAC,UAAU,CAAC,KAAK,WAAW,UAAU,KAAK,CAAC,KAAK,WAAW,SAAS,GAAG;AAC1E,aAAO,WAAW,IAAI;AAAA,IACxB;AAEA,WAAO,IAAI,IAAI,MAAM,UAAU,MAAS,EAAE,SAAS;AAAA,EACrD;AAUA,WAAS,YAAY,QAAQ,SAAS;AACpC,UAAMC,SAAQ,OAAO,QAAQ,IAAI,OAAO,GAAG;AAC3C,UAAMC,OAAM,OAAO,QAAQ,KAAK,OAAO,KAAKD,MAAK;AACjD,WAAOA,WAAU,MAAMC,SAAQ,KAAK,OAAO,MAAMD,SAAQ,QAAQ,SAAS,GAAGC,IAAG,IAAI;AAAA,EACtF;AAEA,WAAS,kBAAkB,KAAK;AAC9B,QAAI,OAAO,IAAI,OAAO;AACpB,YAAMC,SAAQ,IAAI,MAAM,IAAI,OAAO;AACnC,aAAO,OAAOA,QAAO,IAAI,KAAK;AAC9B,YAAMA;AAAA,IACR;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,mBAAmB,MAAM,QAAQ;AACxC,UAAM,QAAQ,UAAU,QAAQ,OAAO,OAAO,QAAQ,aAAa,OAAO,OAAO,WAAW,YAAY,OAAO,UAAU;AAEzH,QAAI,CAAC,OAAO;AACV,YAAM,MAAM,IAAI,UAAU,sEAAsE,KAAK,IAAI,qEAAqE,KAAK,UAAU,MAAM,CAAC;AAAA,2FAAwG;AAC5S,YAAM;AAAA,IACR;AAEA,UAAM,gBAAgB,OAAO,UAAU,QAAQ,cAAc,KAAK,OAAO,MAAM;AAE/E,QAAI,CAAC,eAAe;AAClB,YAAM,MAAM,IAAI,UAAU,sEAAsE,KAAK,IAAI,yCAAyC,OAAO,MAAM;AAAA,2FAAwG;AACvQ,YAAM;AAAA,IACR;AAAA,EACF;AAKA,WAAS,wBAAwB,SAAS,KAAK;AAE7C,QAAI,CAAC,cAAM,SAAS,GAAG,GAAG;AACxB,aAAO;AAAA,IACT;AAEA,UAAMA,SAAQ,YAAY,SAAS,SAAS;AAC5C,WAAO,IAAI,MAAMA,MAAK;AAAA,EACxB;AAGA,MAAI,4BAA4B;AAEhC,MAAI,UAAuB,gBAAAJ,6BAA2B,QAAQ;AAE9D,MAAI,YAAyB,gBAAAA,6BAA2B,UAAU;AAElE,MAAI,YAAyB,gBAAAA,6BAA2B,UAAU;AAElE,MAAI,gBAA6B,gBAAAA,6BAA2B,cAAc;AAE1E,MAAI,uBAAoC,gBAAAA,6BAA2B,qBAAqB;AAExF,EAAAH,eAAc,OAAO,IAAI,sBAAsB;AAC/C,MAAqB,QAArB,cAAmC,WAAW;AAAA,IAC5C,YAAY,MAAM,MAAM;AACtB,YAAM,MAAM,IAAI;AAChB,aAAO,eAAe,MAAM,SAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,WAAW;AAAA,QACrC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,WAAW;AAAA,QACrC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAM,eAAe;AAAA,QACzC,UAAU;AAAA,QACV,OAAO,aAAW;AAOhB,gBAAM,iBAAiB,uBAAO,OAAO,IAAI;AAEzC,mBAAS,SAAS,MAAM;AACtB,gBAAI;AAEJ,kBAAM;AAAA,cACJ,IAAAE;AAAA,YACF,IAAI;AACJ,aAAC,qBAAqB,eAAeA,IAAE,MAAM,OAAO,SAAS,mBAAmB,MAAM;AAAA,UACxF;AAEA,eAAK,KAAK,GAAG,gBAAgB,QAAQ;AACrC,kBAAQ,QAAQ,CAAAA,SAAM;AACpB,kBAAM,OAAO,KAAK,KAAK,QAAQA,IAAE;AACjC,iBAAK,KAAK,KAAK,kBAAkB,IAAI;AAAA,UACvC,CAAC;AAED,gBAAM,sBAAsBD,8BAA4B,MAAM,SAAS,EAAE,SAAS,EAAE,oBAAoB,UAAQ;AAC9G,mBAAO,KAAK,KAAK,oBAAoB,IAAI;AAAA,UAC3C,CAAC;AAED,gBAAM,gBAAgB,QAAQ;AAC9B,iBAAO,QAAQ,WAAW,QAAQ,IAAI,CAACC,MAAI,UAAU;AACnD,2BAAeA,IAAE,IAAI,oBAAoB,KAAK,KAAK,QAAQA,IAAE,CAAC;AAC9D,mBAAO,eAAeA,IAAE,EAAE,KAAK,YAAU;AACvC,qBAAO,eAAeA,IAAE;AACxB,oBAAM,OAAO,KAAK,KAAK,QAAQA,IAAE;AACjC,iCAAmB,MAAM,MAAM;AAC/B,oBAAM;AAAA,gBACJ,SAAS;AAAA,gBACT;AAAA,gBACA;AAAA,gBACA;AAAA,cACF,IAAI;AACJ,oBAAM,UAAU;AAAA,gBACd;AAAA,gBACA,UAAU,OAAO,YAAY,MAAM;AAAA,gBACnC,UAAU;AAAA,gBACV,mBAAmB,SAAS,OAAO,KAAK,MAAM,IAAI,CAAC;AAAA,cACrD;AAEA,kBAAI,SAAS;AACX,wBAAQ,UAAU;AAAA,cACpB;AAEA,mBAAK,KAAK,aAAa,KAAK,IAAI;AAAA,gBAC9B,MAAM;AAAA,kBAAE,GAAG,KAAK;AAAA,kBACd,GAAG;AAAA,gBACL;AAAA,gBACA,WAAW;AAAA,cACb,CAAC;AACD,qBAAOD,8BAA4B,MAAM,SAAS,EAAE,SAAS,EAAE,WAAW,KAAK,IAAI,OAAO,aAAa;AAAA,YACzG,CAAC,EAAE,MAAM,CAAAM,WAAS;AAChB,qBAAO,eAAeL,IAAE;AACxB,oBAAM,OAAO,KAAK,KAAK,QAAQA,IAAE;AACjC,mBAAK,KAAK,KAAK,gBAAgB,MAAMK,MAAK;AAC1C,qBAAO,QAAQ,OAAOA,MAAK;AAAA,YAC7B,CAAC;AAAA,UACH,CAAC,CAAC,EAAE,QAAQ,MAAM;AAEhB,iBAAK,KAAK,IAAI,gBAAgB,QAAQ;AAAA,UACxC,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AACD,aAAO,eAAe,MAAM,sBAAsB;AAAA,QAChD,UAAU;AAAA,QACV,OAAO,MAAM;AACX,UAAAN,8BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,oBAAoB,KAAK,KAAK,gBAAgB;AAElG,iBAAO,QAAQ,QAAQ;AAAA,QACzB;AAAA,MACF,CAAC;AACD,WAAK,OAAO;AACZ,WAAK,KAAK,KAAK,KAAK,MAAM;AAC1B,WAAK,QAAQ;AACb,WAAK,gBAAgBO;AACrB,YAAMC,kBAAiB;AAAA,QACrB,SAAS,KAAK;AAAA,QACd,OAAO;AAAA,QACP,mBAAmB,CAAC;AAAA;AAAA,QAEpB,qBAAqB,KAAK,oBAAoB,KAAK,IAAI;AAAA,QACvD,kBAAkB,CAAC;AAAA,MACrB;AACA,WAAK,OAAO;AAAA,QAAE,GAAGA;AAAA,QACf,GAAG;AAAA,MACL;AAEA,WAAK,QAAQ,OAAO,SAAS,KAAK,uBAAuB,UAAa,gBAAgB,KAAK,MAAM;AAC/F,cAAM,IAAI,MAAM,kEAAkE;AAAA,MACpF;AAGA,WAAK,SAAS;AACd,MAAAR,8BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI,IAAI,cAAc,MAAM,IAAI;AAClF,MAAAA,8BAA4B,MAAM,SAAS,EAAE,SAAS,IAAI,IAAI,iBAAiB,KAAK,KAAK,KAAK;AAAA,IAChG;AAAA,IAEA,CAACD,YAAW,IAAI;AACd,aAAOC,8BAA4B,MAAM,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA;AAAA,IAGA,IAAI,SAAS;AACX,aAAOA,8BAA4B,MAAM,OAAO,EAAE,OAAO;AAAA,IAC3D;AAAA,IAEA,IAAI,OAAO,QAAQ;AACjB,MAAAA,8BAA4B,MAAM,OAAO,EAAE,OAAO,IAAI;AAAA,IACxD;AAAA,IAEA,oBAAoB,MAAM;AACxB,UAAI,CAAC,KAAK,KAAK,cAAc;AAC3B,cAAM,IAAI,MAAM,kEAAkE;AAAA,MACpF;AAEA,YAAM,WAAW,KAAK,KAAK;AAC3B,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK;AACT,YAAM,WAAW,OAAO,YAAY,KAAK,KAAK,kBAAkB,OAAO,SAAO,KAAK,KAAK,GAAG,KAAK,IAAI,EAAE,IAAI,SAAO,CAAC,YAAY,GAAG,KAAK,KAAK,KAAK,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC;AACjK,YAAM,QAAQ,IAAI,gBAAgB;AAAA,QAChC;AAAA,QACA;AAAA,QACA,GAAG;AAAA,MACL,CAAC;AACD,aAAOA,8BAA4B,MAAM,OAAO,EAAE,OAAO,EAAE,IAAI,aAAa,KAAK,EAAE,EAAE,KAAK,iBAAiB;AAAA,IAC7G;AAAA,IAEA,UAAU;AACR,YAAM;AAAA,QACJ;AAAA,MACF,IAAI;AACJ,WAAK,gBAAgBA,8BAA4B,MAAM,oBAAoB,EAAE,oBAAoB,CAAC;AAClG,WAAK,YAAYA,8BAA4B,MAAM,aAAa,EAAE,aAAa,CAAC;AAIhF,eAAS,uBAAuB,SAAS,KAAK;AAC5C,cAAM,OAAO;AAGb,YAAI,CAAC,cAAM,SAAS,GAAG,GAAG;AACxB,cAAI,KAAK,OAAO,YAAY,MAAM,QAAQ;AACxC,gBAAI,CAAC,2BAA2B;AAC9B,mBAAK,IAAI,mJAAmJ,SAAS;AACrK,0CAA4B;AAAA,YAC9B;AAGA,mBAAO;AAAA,cACL,UAAU;AAAA,YACZ;AAAA,UACF;AAGA,cAAI,CAAC,IAAI,aAAa;AACpB,mBAAO;AAAA,cACL,UAAU;AAAA,YACZ;AAAA,UACF;AAKA,iBAAO;AAAA,YACL,UAAU,IAAI,YAAY,QAAQ,SAAS,EAAE;AAAA,UAC/C;AAAA,QACF;AAEA,eAAO;AAAA;AAAA;AAAA,UAGL,UAAU,WAAW,IAAI,aAAa,YAAY,SAAS,UAAU,CAAC;AAAA,UACtE,QAAQ,YAAY,SAAS,QAAQ;AAAA,UACrC,KAAK,YAAY,SAAS,KAAK;AAAA,UAC/B,MAAM,YAAY,SAAS,MAAM;AAAA,QACnC;AAAA,MACF;AAEA,YAAM,aAAa;AAAA,QACjB,WAAW;AAAA,QACX,sBAAsB;AAAA,QACtB,SAAS,KAAK,KAAK;AAAA;AAAA,QAEnB,CAAC,wBAAwB,GAAGA,8BAA4B,MAAM,SAAS,EAAE,SAAS;AAAA,QAClF,cAAc;AAAA,QACd,iBAAiB,KAAK,KAAK,mBAAmB;AAAA,QAC9C,kBAAkB;AAAA,MACpB;AAEA,iBAAW,OAAO,KAAK;AAGvB,MAAAA,8BAA4B,MAAM,SAAS,EAAE,SAAS,IAAI,IAAI,cAAc,MAAM,UAAU;AAAA,IAC9F;AAAA,IAEA,YAAY;AACV,WAAK,KAAK,mBAAmBA,8BAA4B,MAAM,oBAAoB,EAAE,oBAAoB,CAAC;AAC1G,WAAK,KAAK,eAAeA,8BAA4B,MAAM,aAAa,EAAE,aAAa,CAAC;AAAA,IAC1F;AAAA,EAEF;AACA,QAAM,UAAUG,aAAY;;;AC5V5B,WAASM,8BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAC1N,MAAIC,OAAK;AACT,WAASC,6BAA2B,MAAM;AAAE,WAAO,eAAeD,SAAO,MAAM;AAAA,EAAM;AACrF,WAASE,mBAAkB,OAAO;AAChC,WAAO,IAAI,MAAM,aAAa;AAAA,MAC5B;AAAA,IACF,CAAC;AAAA,EACH;AACA,WAASC,SAAQ,QAAQ;AACvB,QAAI,UAAU,MAAM;AAClB,UAAI;AACJ,YAAM,eAAe,MAAM,KAAK,MAAM,OAAO,MAAM;AACnD,aAAO,iBAAiB,SAAS,cAAc;AAAA,QAC7C,MAAM;AAAA,MACR,CAAC;AACD,YAAM,sBAAsB,MAAM;AAChC,eAAO,oBAAoB,SAAS,YAAY;AAAA,MAClD;AACA,OAAC,aAAa,KAAK,SAAS,QAAQ,WAAW,KAAK,MAAM,qBAAqB,mBAAmB;AAAA,IACpG;AACA,WAAO;AAAA,EACT;AACA,MAAIC,mBAA+B,gBAAAH,6BAA2B,gBAAgB;AAC9E,MAAII,mBAA+B,gBAAAJ,6BAA2B,gBAAgB;AAC9E,MAAIK,WAAuB,gBAAAL,6BAA2B,QAAQ;AAC9D,MAAIM,eAA2B,gBAAAN,6BAA2B,YAAY;AACtE,MAAIO,cAA0B,gBAAAP,6BAA2B,WAAW;AACpE,MAAIQ,eAA2B,gBAAAR,6BAA2B,YAAY;AACtE,MAAIS,sBAAkC,gBAAAT,6BAA2B,mBAAmB;AACpF,MAAIU,SAAqB,gBAAAV,6BAA2B,MAAM;AAC1D,MAAIW,cAA0B,gBAAAX,6BAA2B,WAAW;AACpE,MAAIY,SAAqB,gBAAAZ,6BAA2B,MAAM;AAC1D,MAAIa,UAAsB,gBAAAb,6BAA2B,OAAO;AAC5D,MAAIc,YAAwB,gBAAAd,6BAA2B,SAAS;AAChE,MAAIe,WAAuB,gBAAAf,6BAA2B,QAAQ;AAC9D,MAAIgB,kBAA8B,gBAAAhB,6BAA2B,eAAe;AACrE,MAAMiB,oBAAN,MAAuB;AAAA,IAC5B,YAAY,OAAO;AACjB,aAAO,eAAe,MAAMH,WAAU;AAAA,QACpC,OAAOI;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAML,SAAQ;AAAA,QAClC,OAAOM;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMP,QAAO;AAAA,QACjC,OAAOQ;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMT,aAAY;AAAA,QACtC,OAAOU;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMX,QAAO;AAAA,QACjC,OAAOY;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMnB,kBAAiB;AAAA,QAC3C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMC,kBAAiB;AAAA,QAC3C,UAAU;AAAA,QACV,OAAO,CAAC;AAAA,MACV,CAAC;AACD,aAAO,eAAe,MAAMC,UAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMC,cAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMC,aAAY;AAAA,QACtC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMC,cAAa;AAAA,QACvC,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMC,qBAAoB;AAAA,QAC9C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,aAAO,eAAe,MAAMM,UAAS;AAAA,QACnC,UAAU;AAAA,QACV,OAAO,MAAM,KAAK,OAAO;AAAA,MAC3B,CAAC;AACD,aAAO,eAAe,MAAMC,iBAAgB;AAAA,QAC1C,UAAU;AAAA,QACV,OAAO,MAAM;AACX,cAAIlB,8BAA4B,MAAMO,QAAO,EAAEA,QAAO,GAAG;AACvD,YAAAP,8BAA4B,MAAMW,mBAAkB,EAAEA,mBAAkB,IAAI,WAAWX,8BAA4B,MAAMkB,eAAc,EAAEA,eAAc,GAAG,CAAC;AAC3J;AAAA,UACF;AACA,UAAAlB,8BAA4B,MAAMS,WAAU,EAAEA,WAAU,IAAI,KAAK;AACjE,eAAK,QAAQ,KAAK,MAAMT,8BAA4B,MAAMU,YAAW,EAAEA,YAAW,IAAIV,8BAA4B,MAAMS,WAAU,EAAEA,WAAU,KAAK,CAAC;AACpJ,mBAASgB,KAAIzB,8BAA4B,MAAMS,WAAU,EAAEA,WAAU,GAAGgB,MAAK,KAAK,OAAOA,MAAK;AAC5F,YAAAzB,8BAA4B,MAAMa,WAAU,EAAEA,WAAU,EAAE;AAAA,UAC5D;AACA,cAAIb,8BAA4B,MAAMU,YAAW,EAAEA,YAAW,IAAIV,8BAA4B,MAAMS,WAAU,EAAEA,WAAU,IAAI,GAAG;AAC/H,YAAAT,8BAA4B,MAAMW,mBAAkB,EAAEA,mBAAkB,IAAI,WAAWX,8BAA4B,MAAMkB,eAAc,EAAEA,eAAc,GAAG,GAAI;AAAA,UAChK,OAAO;AACL,YAAAlB,8BAA4B,MAAMS,WAAU,EAAEA,WAAU,IAAI,KAAK,MAAMT,8BAA4B,MAAMS,WAAU,EAAEA,WAAU,IAAI,CAAC;AAAA,UACtI;AAAA,QACF;AAAA,MACF,CAAC;AACD,UAAI,OAAO,UAAU,YAAY,UAAU,GAAG;AAC5C,aAAK,QAAQ;AAAA,MACf,OAAO;AACL,aAAK,QAAQ;AAAA,MACf;AAAA,IACF;AAAA,IACA,IAAIiB,KAAI,cAAc;AACpB,UAAI,CAAC1B,8BAA4B,MAAMO,QAAO,EAAEA,QAAO,KAAKP,8BAA4B,MAAMK,gBAAe,EAAEA,gBAAe,IAAI,KAAK,OAAO;AAC5I,eAAOL,8BAA4B,MAAMY,MAAK,EAAEA,MAAK,EAAEc,GAAE;AAAA,MAC3D;AACA,aAAO1B,8BAA4B,MAAMe,OAAM,EAAEA,OAAM,EAAEW,KAAI,YAAY;AAAA,IAC3E;AAAA,IACA,iBAAiBA,KAAI,cAAc;AACjC,UAAI,QAAQ;AACZ,aAAO,WAAY;AACjB,iBAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,eAAK,IAAI,IAAI,UAAU,IAAI;AAAA,QAC7B;AACA,cAAM,gBAAgB,MAAM,IAAI,MAAM;AACpC,UAAAA,IAAG,GAAG,IAAI;AACV,yBAAe,MAAM,cAAc,KAAK,CAAC;AACzC,iBAAO,MAAM;AAAA,UAAC;AAAA,QAChB,GAAG,YAAY;AACf,eAAO;AAAA,UACL,SAAAtB;AAAA,UACA,QAAQ;AACN,0BAAc,MAAM;AAAA,UACtB;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA,oBAAoBsB,KAAI,cAAc;AACpC,UAAI,SAAS;AACb,aAAO,WAAY;AACjB,iBAAS,QAAQ,UAAU,QAAQ,OAAO,IAAI,MAAM,KAAK,GAAG,QAAQ,GAAG,QAAQ,OAAO,SAAS;AAC7F,eAAK,KAAK,IAAI,UAAU,KAAK;AAAA,QAC/B;AACA,YAAI;AACJ,cAAM,eAAe,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpD,0BAAgB,OAAO,IAAI,MAAM;AAC/B,gBAAI;AACJ,gBAAI;AACJ,gBAAI;AACF,6BAAe,QAAQ,QAAQA,IAAG,GAAG,IAAI,CAAC;AAAA,YAC5C,SAAS,KAAK;AACZ,6BAAe,QAAQ,OAAO,GAAG;AAAA,YACnC;AACA,yBAAa,KAAK,YAAU;AAC1B,kBAAI,aAAa;AACf,uBAAO,WAAW;AAAA,cACpB,OAAO;AACL,8BAAc,KAAK;AACnB,wBAAQ,MAAM;AAAA,cAChB;AAAA,YACF,GAAG,SAAO;AACR,kBAAI,aAAa;AACf,uBAAO,WAAW;AAAA,cACpB,OAAO;AACL,8BAAc,KAAK;AACnB,uBAAO,GAAG;AAAA,cACZ;AAAA,YACF,CAAC;AACD,mBAAO,WAAS;AACd,4BAAcvB,mBAAkB,KAAK;AAAA,YACvC;AAAA,UACF,GAAG,YAAY;AAAA,QACjB,CAAC;AACD,qBAAa,QAAQ,WAAS;AAC5B,wBAAc,MAAM,KAAK;AAAA,QAC3B;AACA,qBAAa,UAAUC;AACvB,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA,SAAS;AACP,MAAAJ,8BAA4B,MAAMO,QAAO,EAAEA,QAAO,IAAI;AACtD,mBAAaP,8BAA4B,MAAMQ,YAAW,EAAEA,YAAW,CAAC;AACxE,eAASiB,KAAI,GAAGA,KAAI,KAAK,OAAOA,MAAK;AACnC,QAAAzB,8BAA4B,MAAMa,WAAU,EAAEA,WAAU,EAAE;AAAA,MAC5D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,MAAM,UAAU;AACd,UAAI,aAAa,QAAQ;AACvB,mBAAW;AAAA,MACb;AACA,MAAAb,8BAA4B,MAAMO,QAAO,EAAEA,QAAO,IAAI;AACtD,mBAAaP,8BAA4B,MAAMQ,YAAW,EAAEA,YAAW,CAAC;AACxE,UAAI,YAAY,MAAM;AACpB,QAAAR,8BAA4B,MAAMQ,YAAW,EAAEA,YAAW,IAAI,WAAWR,8BAA4B,MAAMiB,QAAO,EAAEA,QAAO,GAAG,QAAQ;AAAA,MACxI;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYA,UAAU,UAAU;AAClB,mBAAajB,8BAA4B,MAAMW,mBAAkB,EAAEA,mBAAkB,CAAC;AACtF,WAAK,MAAM,QAAQ;AACnB,UAAI,KAAK,QAAQ,KAAK,OAAO,SAAS,KAAK,KAAK,GAAG;AACjD,QAAAX,8BAA4B,MAAMU,YAAW,EAAEA,YAAW,IAAI,KAAK,QAAQ;AAC3E,aAAK,QAAQV,8BAA4B,MAAMS,WAAU,EAAEA,WAAU;AACrE,QAAAT,8BAA4B,MAAMW,mBAAkB,EAAEA,mBAAkB,IAAI,WAAWX,8BAA4B,MAAMkB,eAAc,EAAEA,eAAc,GAAG,QAAQ;AAAA,MACpK;AAAA,IACF;AAAA,IACA,IAAI,WAAW;AACb,aAAOlB,8BAA4B,MAAMO,QAAO,EAAEA,QAAO;AAAA,IAC3D;AAAA,EACF;AACA,WAASiB,QAAOE,KAAI;AAClB,IAAA1B,8BAA4B,MAAMK,gBAAe,EAAEA,gBAAe,KAAK;AACvE,QAAI,OAAO;AACX,QAAI;AACJ,QAAI;AACF,qBAAeqB,IAAG;AAAA,IACpB,SAAS,KAAK;AACZ,MAAA1B,8BAA4B,MAAMK,gBAAe,EAAEA,gBAAe,KAAK;AACvE,YAAM;AAAA,IACR;AACA,WAAO;AAAA,MACL,OAAO,WAAS;AACd,YAAI,KAAM;AACV,eAAO;AACP,QAAAL,8BAA4B,MAAMK,gBAAe,EAAEA,gBAAe,KAAK;AACvE,wBAAgB,QAAQ,aAAa,KAAK;AAC1C,QAAAL,8BAA4B,MAAMa,WAAU,EAAEA,WAAU,EAAE;AAAA,MAC5D;AAAA,MACA,MAAM,MAAM;AACV,YAAI,KAAM;AACV,eAAO;AACP,QAAAb,8BAA4B,MAAMK,gBAAe,EAAEA,gBAAe,KAAK;AACvE,QAAAL,8BAA4B,MAAMa,WAAU,EAAEA,WAAU,EAAE;AAAA,MAC5D;AAAA,IACF;AAAA,EACF;AACA,WAASU,eAAc;AAIrB,mBAAe,MAAMvB,8BAA4B,MAAMc,MAAK,EAAEA,MAAK,EAAE,CAAC;AAAA,EACxE;AACA,WAASQ,UAAS;AAChB,QAAItB,8BAA4B,MAAMO,QAAO,EAAEA,QAAO,KAAKP,8BAA4B,MAAMK,gBAAe,EAAEA,gBAAe,KAAK,KAAK,OAAO;AAC5I;AAAA,IACF;AACA,QAAIL,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,WAAW,GAAG;AACpF;AAAA,IACF;AAKA,UAAM,OAAON,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,MAAM;AACvF,QAAI,QAAQ,MAAM;AAChB,YAAM,IAAI,MAAM,mCAAmC;AAAA,IACrD;AACA,UAAM,UAAUN,8BAA4B,MAAMY,MAAK,EAAEA,MAAK,EAAE,KAAK,EAAE;AACvE,SAAK,QAAQ,QAAQ;AACrB,SAAK,OAAO,QAAQ;AAAA,EACtB;AACA,WAASS,SAAQK,KAAI,SAAS;AAC5B,UAAM,UAAU;AAAA,MACd,IAAAA;AAAA,MACA,WAAW,WAAW,OAAO,SAAS,QAAQ,aAAa;AAAA,MAC3D,OAAO,MAAM;AACX,QAAA1B,8BAA4B,MAAMgB,SAAQ,EAAEA,SAAQ,EAAE,OAAO;AAAA,MAC/D;AAAA,MACA,MAAM,MAAM;AACV,cAAM,IAAI,MAAM,4DAA4D;AAAA,MAC9E;AAAA,IACF;AACA,UAAM,QAAQhB,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,UAAU,WAAS;AACnG,aAAO,QAAQ,WAAW,MAAM;AAAA,IAClC,CAAC;AACD,QAAI,UAAU,IAAI;AAChB,MAAAN,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,KAAK,OAAO;AAAA,IAClF,OAAO;AACL,MAAAN,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,OAAO,OAAO,GAAG,OAAO;AAAA,IAC9F;AACA,WAAO;AAAA,EACT;AACA,WAASc,WAAU,SAAS;AAC1B,UAAM,QAAQpB,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,QAAQ,OAAO;AACjG,QAAI,UAAU,IAAI;AAChB,MAAAN,8BAA4B,MAAMM,gBAAe,EAAEA,gBAAe,EAAE,OAAO,OAAO,CAAC;AAAA,IACrF;AAAA,EACF;AACO,MAAMqB,4BAA2B,OAAO,SAAS;;;AC5SzC,WAARC,yBAAyC,cAAc;AAC5D,UAAM,UAAU,aAAa,YAAY,GAAG;AAE5C,QAAI,YAAY,MAAM,YAAY,aAAa,SAAS,GAAG;AACzD,aAAO;AAAA,QACL,MAAM;AAAA,QACN,WAAW;AAAA,MACb;AAAA,IACF;AACA,WAAO;AAAA,MACL,MAAM,aAAa,MAAM,GAAG,OAAO;AAAA,MACnC,WAAW,aAAa,MAAM,UAAU,CAAC;AAAA,IAC3C;AAAA,EACF;;;ACRA,MAAAC,yBAA0B;AAC1B,4BAAyB;;;ACTzB,MAAOC,kBAAQ;AAAA,IACb,SAAS;AAAA;AAAA,MAEP,mBAAmB;AAAA,MACnB,aAAa;AAAA,IACf;AAAA,EACF;;;ADNA,WAASC,8BAA4B,UAAU,YAAY;AAAE,QAAI,CAAC,OAAO,UAAU,eAAe,KAAK,UAAU,UAAU,GAAG;AAAE,YAAM,IAAI,UAAU,gDAAgD;AAAA,IAAG;AAAE,WAAO;AAAA,EAAU;AAC1N,MAAIC,OAAK;AACT,WAASC,6BAA2B,MAAM;AAAE,WAAO,eAAeD,SAAO,MAAM;AAAA,EAAM;AASrF,MAAI,oBAAiC,gBAAAC,6BAA2B,kBAAkB;AAClF,MAAqB,aAArB,cAAwC,WAAW;AAAA,IACjD,YAAY,MAAM,MAAM;AACtB,YAAM,MAAM,IAAI;AAChB,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC7C,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,WAAK,KAAK,KAAK,KAAK,MAAM;AAC1B,WAAK,OAAO;AACZ,WAAK,gBAAgBC;AACrB,YAAMC,kBAAiB;AAAA,QACrB,SAAS;AAAA,QACT,OAAO;AAAA,MACT;AACA,WAAK,OAAO;AAAA,QACV,GAAGA;AAAA,QACH,GAAG;AAAA,MACL;AACA,MAAAJ,8BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,IAAI,IAAIK,kBAAiB,KAAK,KAAK,KAAK;AAC9G,WAAK,SAAS;AACd,WAAK,gBAAgB,KAAK,cAAc,KAAK,IAAI;AACjD,WAAK,WAAW,KAAK,SAAS,KAAK,IAAI;AAAA,IACzC;AAAA,IACA,SAAS,MAAM;AACb,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAEtC,YAAI,oBAAAC,QAAa,MAAM;AAAA,UACrB,GAAG,KAAK;AAAA,UACR,SAAS;AAAA,UACT,OAAO;AAAA,QACT,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA,IACA,MAAM,cAAc,SAAS;AAC3B,UAAI,sBAAsB;AAC1B,YAAM,kBAAkB,CAAC;AACzB,YAAM,yBAAyBN,8BAA4B,MAAM,iBAAiB,EAAE,iBAAiB,EAAE,oBAAoB,OAAM,SAAQ;AACvI,YAAI;AACF,gBAAM,iBAAiB,MAAM,KAAK,SAAS,KAAK,IAAI;AACpD,gBAAM,wBAAwB,KAAK,KAAK,OAAO,eAAe;AAC9D,eAAK,KAAK,IAAI,4BAA4B,KAAK,EAAE,sBAAkB,uBAAAO,SAAc,qBAAqB,CAAC,EAAE;AACzG,iCAAuB;AACvB,gBAAM;AAAA,YACJ;AAAA,YACA;AAAA,YACA;AAAA,UACF,IAAI;AACJ,gBAAM,qBAAqBC,yBAAwB,IAAI;AACvD,gBAAM,eAAeA,yBAAwB,KAAK,KAAK,IAAI;AAG3D,gBAAM,cAAc,GAAG,aAAa,IAAI,IAAI,mBAAmB,SAAS;AACxE,eAAK,KAAK,aAAa,KAAK,IAAI;AAAA,YAC9B,GAAI,QAAQ;AAAA,cACV;AAAA,YACF;AAAA,YACA,GAAI,mBAAmB,aAAa;AAAA,cAClC,WAAW,mBAAmB;AAAA,YAChC;AAAA,YACA,GAAI,QAAQ;AAAA,cACV;AAAA,YACF;AAAA,YACA,GAAI,QAAQ;AAAA,cACV;AAAA,YACF;AAAA,YACA,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,GAAG,KAAK;AAAA,cACR;AAAA,cACA,MAAM;AAAA,YACR;AAAA,UACF,CAAC;AACD,0BAAgB,KAAK,IAAI;AAAA,QAC3B,SAAS,KAAK;AACZ,eAAK,KAAK,IAAI,yCAAyC,KAAK,EAAE,KAAK,SAAS;AAC5E,eAAK,KAAK,IAAI,KAAK,SAAS;AAAA,QAC9B;AAAA,MACF,CAAC;AACD,YAAM,WAAW,QAAQ,IAAI,YAAU;AACrC,YAAI;AACJ,cAAM,OAAO,KAAK,KAAK,QAAQ,MAAM;AACrC,aAAK,KAAK,KAAK,uBAAuB,MAAM;AAAA,UAC1C,MAAM;AAAA,UACN,SAAS,KAAK,KAAK,mBAAmB;AAAA,QACxC,CAAC;AACD,YAAI,KAAK,UAAU;AACjB,iBAAO,QAAQ,QAAQ;AAAA,QACzB;AAKA,YAAI,CAAC,KAAK,KAAK,MAAM;AACnB,eAAK,OAAO,KAAK,KAAK,MAAM,GAAG,KAAK,KAAK,MAAM,KAAK,IAAI;AAAA,QAC1D;AACA,YAAI,GAAG,aAAa,KAAK,SAAS,QAAQ,WAAW,WAAW,QAAQ,IAAI;AAC1E,iBAAO,QAAQ,QAAQ;AAAA,QACzB;AACA,eAAO,uBAAuB,IAAI;AAAA,MACpC,CAAC;AAMD,YAAM,QAAQ,IAAI,QAAQ;AAC1B,WAAK,KAAK,KAAK,uBAAuB,eAAe;AAGrD,UAAI,sBAAsB,MAAM;AAC9B,aAAK,KAAK,KAAK,KAAK,KAAK,eAAe;AAAA,UACtC,UAAM,uBAAAD,SAAc,mBAAmB;AAAA,QACzC,CAAC,GAAG,MAAM;AAAA,MACZ;AACA,iBAAW,UAAU,SAAS;AAC5B,cAAM,OAAO,KAAK,KAAK,QAAQ,MAAM;AACrC,aAAK,KAAK,KAAK,uBAAuB,IAAI;AAAA,MAC5C;AAAA,IACF;AAAA,IACA,UAAU;AACR,WAAK,KAAK,gBAAgB,KAAK,aAAa;AAAA,IAC9C;AAAA,IACA,YAAY;AACV,WAAK,KAAK,mBAAmB,KAAK,aAAa;AAAA,IACjD;AAAA,EACF;;;AEzIA,MAAM,mBAAmB;AACV,WAAR,cAA+B,SAAS,MAAM,QAAQ;AAC3D,QAAI,MAAM;AAGV,UAAM,cAAc,iBAAiB,KAAK,OAAO;AAEjD,UAAM,YAAY,QAAQ,iBAAiB,KAAK,aAAa,OAAO,iBAAiB,eAAe,OAAO,SAAS,YAAY,CAAC,MAAM,OAAO,OAAO;AACrJ,QAAI;AAEJ,QAAI,YAAY,CAAC,KAAK,MAAM;AAC1B,YAAM,SAAS,KAAK,mBAAmB,YAAY,CAAC,CAAC,CAAC;AACtD,YAAM,QAAQ,IAAI,WAAW,OAAO,MAAM;AAE1C,eAASE,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK;AACtC,cAAMA,EAAC,IAAI,OAAO,WAAWA,EAAC;AAAA,MAChC;AAEA,aAAO,CAAC,KAAK;AAAA,IACf,OAAO;AACL,aAAO,CAAC,mBAAmB,YAAY,CAAC,CAAC,CAAC;AAAA,IAC5C;AAGA,QAAI,QAAQ;AACV,aAAO,IAAI,KAAK,MAAM,KAAK,QAAQ,IAAI;AAAA,QACrC,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAEA,WAAO,IAAI,KAAK,MAAM;AAAA,MACpB,MAAM;AAAA,IACR,CAAC;AAAA,EACH;;;AC3Be,WAAR,YAA6B,KAAK;AACvC,WAAO,IAAI,WAAW,OAAO;AAAA,EAC/B;;;ACRe,WAAR,mBAAoC,UAAU;AACnD,QAAI,CAAC,SAAU,QAAO;AAEtB,WAAO,sDAAsD,KAAK,QAAQ;AAAA,EAC5E;;;ACJA,WAASC,GAAEA,IAAEC,IAAEC,IAAE;AAAC,WAAOD,MAAKD,KAAE,OAAO,eAAeA,IAAEC,IAAE,EAAC,OAAMC,IAAE,YAAW,MAAG,cAAa,MAAG,UAAS,KAAE,CAAC,IAAEF,GAAEC,EAAC,IAAEC,IAAEF;AAAA,EAAC;AAAC,MAAIC,KAAE,eAAa,OAAO,OAAK,OAAK;AAAO,MAAMC,KAAE,eAAa,OAAO;AAA5B,MAAsCC,KAAED,MAAG,eAAa,OAAO;AAA/D,MAAgFE,KAAE,EAAE,eAAa,OAAO,UAAQ,eAAa,OAAO,WAAS,CAAC,QAAQ,YAAU,CAAC,QAAQ,SAAS;AAAlL,MAAwLC,KAAEJ,GAAE;AAA5L,MAAmMK,KAAE,CAAC,CAACD;AAAvM,MAAyME,KAAE,CAAAP,OAAG,WAASA;AAAE,WAASQ,GAAER,IAAE;AAAC,WAAO,WAASA,OAAIA,cAAa,MAAI,MAAIA,GAAE,OAAK,MAAI,OAAO,OAAOA,EAAC,EAAE,OAAOO,EAAC,EAAE;AAAA,EAAO;AAAC,WAASE,GAAET,IAAE;AAAC,QAAIC,KAAE,IAAI,MAAMD,EAAC;AAAE,UAAM,OAAOC,GAAE,OAAMA;AAAA,EAAC;AAAC,WAASS,GAAEV,IAAE;AAAC,QAAIC,KAAE,SAASD,IAAE;AAAC,UAAIC,KAAE;AAAE,aAAOD,GAAE,KAAK,YAAUC,MAAG,OAAMD,GAAE,KAAK,YAAUC,MAAG,OAAMD,GAAE,cAAYC,MAAG,OAAMD,GAAE,gBAAcC,MAAG,OAAMD,GAAE,IAAI,YAAUC,MAAG,MAAKD,GAAE,QAAQ,YAAUC,MAAG,MAAKD,GAAE,KAAK,YAAUC,MAAG,OAAMA,KAAE;AAAA,IAAI,EAAED,EAAC;AAAE,WAAOA,GAAE,KAAK,YAAUC,MAAG,KAAID,GAAE,IAAI,YAAUC,MAAG,MAAKD,GAAE,KAAK,YAAUC,MAAG,OAAMD,GAAE,IAAI,YAAUC,MAAG,MAAKA;AAAA,EAAC;AAAC,MAAMU,KAAE,CAAAX,OAAG,OAAO,aAAa,MAAM,MAAKA,EAAC;AAA3C,MAA6CY,KAAE,eAAa,OAAO,cAAY,IAAI,YAAY,OAAO,IAAE;AAAO,MAAMC,KAAN,MAAM,GAAC;AAAA,IAAC,OAAO,KAAKb,IAAEC,IAAE;AAAC,aAAOD,cAAa,QAAMA,GAAE,OAAKC,KAAED,KAAE,IAAI,GAAEA,IAAE,QAAO,QAAOC,EAAC;AAAA,IAAC;AAAA,IAAC,YAAYD,IAAEC,KAAE,GAAEC,IAAEC,IAAE;AAAC,UAAG,aAAW,OAAOA,OAAI,KAAK,KAAGA,KAAG,MAAM,QAAQH,EAAC,MAAIA,KAAE,IAAI,WAAWA,EAAC,IAAG,MAAIA,GAAE,MAAK,aAAW,GAAE,KAAK,aAAW;AAAA,eAAUA,cAAa,aAAY;AAAC,mBAASE,OAAIA,KAAEF,GAAE,aAAWC;AAAG,YAAIE,KAAE,IAAI,SAASH,IAAEC,IAAEC,EAAC;AAAE,aAAK,cAAcC,EAAC;AAAA,MAAC,WAASH,cAAa,cAAYA,cAAa,YAAUA,cAAa,IAAE;AAAC,mBAASE,OAAIA,KAAEF,GAAE,aAAWC,MAAIA,MAAGD,GAAE,cAAYE,KAAEF,GAAE,aAAWA,GAAE,cAAYS,GAAE,0DAA0D;AAAE,YAAIN,KAAE,IAAI,SAASH,GAAE,QAAOC,IAAEC,EAAC;AAAE,aAAK,cAAcC,EAAC;AAAA,MAAC,WAAS,YAAU,OAAOH,IAAE;AAAC,YAAIC,KAAE,IAAI,SAAS,IAAI,YAAYD,EAAC,CAAC;AAAE,aAAK,cAAcC,EAAC;AAAA,MAAC,MAAM,CAAAQ,GAAE,4CAA0CT,EAAC;AAAA,IAAC;AAAA,IAAC,iBAAiBA,IAAE;AAAC,WAAK,cAAc,IAAI,SAASA,EAAC,CAAC;AAAA,IAAC;AAAA,IAAC,YAAYA,IAAE;AAAC,WAAK,cAAc,IAAI,SAASA,GAAE,QAAOA,GAAE,YAAWA,GAAE,UAAU,CAAC;AAAA,IAAC;AAAA,IAAC,cAAcA,IAAE;AAAC,WAAK,WAASA,IAAE,KAAK,SAAOA,GAAE,QAAO,KAAK,aAAWA,GAAE,YAAW,KAAK,aAAWA,GAAE;AAAA,IAAU;AAAA,IAAC,aAAaA,IAAE;AAAC,aAAO,KAAK,aAAWA;AAAA,IAAC;AAAA,IAAC,IAAIA,IAAEC,IAAEC,KAAE,IAAE;AAAC,aAAOF,cAAa,YAAUA,cAAa,KAAEA,KAAE,IAAI,WAAWA,GAAE,QAAOA,GAAE,YAAWA,GAAE,UAAU,IAAEA,cAAa,gBAAcA,KAAE,IAAI,WAAWA,EAAC,IAAGA,cAAa,cAAYS,GAAE,0CAA0C,GAAE,KAAK,QAAQ,EAAE,IAAIT,IAAEC,EAAC,GAAE,IAAIC,GAAE,MAAKD,IAAED,GAAE,UAAU;AAAA,IAAC;AAAA,IAAC,SAASA,IAAEC,IAAE;AAAC,aAAOA,KAAEA,MAAG,KAAK,aAAaD,EAAC,GAAE,IAAI,GAAE,MAAKA,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,UAAS;AAAC,aAAO,IAAI,WAAW,KAAK,QAAO,KAAK,YAAW,KAAK,UAAU;AAAA,IAAC;AAAA,IAAC,cAAcD,IAAEC,IAAE;AAAC,aAAO,IAAI,WAAW,KAAK,QAAO,KAAK,aAAWD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,UAAUD,KAAE,GAAEC,KAAE,KAAK,YAAW;AAAC,UAAIC,KAAE,KAAK,cAAcF,IAAEC,EAAC;AAAE,aAAOE,KAAED,IAAEU,KAAEA,GAAE,OAAOT,EAAC,IAAEG,KAAE,OAAO,KAAKH,EAAC,EAAE,SAAS,MAAM,IAAE,mBAAmB,OAAOQ,GAAER,EAAC,CAAC,CAAC;AAAE,UAAIA;AAAA,IAAC;AAAA,IAAC,gBAAgBH,KAAE,GAAEC,KAAE,KAAK,YAAW;AAAC,UAAIC,KAAE,KAAK,cAAcF,IAAEC,EAAC;AAAE,aAAOU,GAAET,EAAC;AAAA,IAAC;AAAA,IAAC,iBAAiBF,KAAE,GAAEC,KAAE,KAAK,YAAW;AAAC,YAAMC,KAAE,CAAC;AAAE,eAAQC,KAAE,GAAEA,KAAEF,MAAGD,KAAEG,KAAE,KAAK,YAAWA,MAAG,EAAE,CAAAD,GAAE,KAAK,KAAK,UAAUF,KAAEG,EAAC,CAAC;AAAE,aAAOQ,GAAET,EAAC;AAAA,IAAC;AAAA,IAAC,QAAQF,IAAE;AAAC,aAAO,KAAK,SAAS,QAAQA,EAAC;AAAA,IAAC;AAAA,IAAC,SAASA,IAAE;AAAC,aAAO,KAAK,SAAS,SAASA,EAAC;AAAA,IAAC;AAAA,IAAC,SAASA,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,SAASD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,SAASD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,SAASD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,UAAUD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,UAAUD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,UAAUD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,UAAUD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,WAAWD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,WAAWD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,WAAWD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,WAAWD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,SAASD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,WAAWD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,UAAUD,IAAEC,KAAE,KAAK,IAAG;AAAC,aAAO,KAAK,SAAS,WAAWD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,aAAaD,IAAEC,IAAEC,IAAE;AAAC,cAAOD,IAAE;AAAA,QAAC,KAAK;AAAE,iBAAO,KAAK,SAASD,IAAEE,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAO,KAAK,UAAUF,IAAEE,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAO,KAAK,UAAUF,IAAEE,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAO,KAAK,aAAW,KAAK,UAAUF,IAAEE,EAAC;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,QAAQF,IAAEC,IAAEC,IAAE;AAAC,cAAOD,IAAE;AAAA,QAAC,KAAK;AAAE,iBAAO,KAAK,SAASD,IAAEE,EAAC;AAAA,QAAE,KAAK;AAAG,iBAAO,KAAK,UAAUF,IAAEE,EAAC;AAAA,QAAE,KAAK;AAAG,iBAAO,KAAK,UAAUF,IAAEE,EAAC;AAAA,QAAE,KAAK;AAAG,iBAAO,KAAK,aAAW,KAAK,UAAUF,IAAEE,EAAC;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,SAASF,IAAE;AAAC,aAAO,KAAK,SAAS,SAASA,IAAE,KAAK,YAAY,IAAI;AAAA,IAAC;AAAA,IAAC,cAAa;AAAA,IAAC;AAAA,EAAC;AAAC,WAASc,GAAEd,IAAEC,IAAE;AAAC,IAAAQ,GAAE,GAAGT,EAAC,KAAKC,EAAC,kDAAkD;AAAA,EAAC;AAAC,MAAMc,KAAN,cAAgB,IAAG;AAAA,IAAC,YAAYf,IAAE;AAAC,YAAM,GAAE,KAAK,OAAKA;AAAA,IAAC;AAAA,IAAC,IAAIA,IAAEC,IAAE;AAAC,aAAO,KAAK,IAAID,EAAC,KAAGc,GAAE,KAAK,MAAKd,EAAC,GAAEC,OAAID,MAAKC,MAAG,SAASD,IAAEC,IAAE;AAAC,QAAAQ,GAAE,WAAWT,EAAC,KAAKC,EAAC,IAAI;AAAA,MAAC,EAAE,KAAK,MAAKD,EAAC,GAAEC,GAAED,EAAC,EAAE,WAASc,GAAE,KAAK,MAAKd,EAAC,IAAG,MAAM,IAAIA,EAAC;AAAA,IAAC;AAAA,IAAC,UAAS;AAAC,aAAO,MAAM,KAAK,KAAK,KAAK,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,MAAIgB,KAAE,IAAID,GAAE,aAAa;AAAzB,MAA2BE,KAAE,IAAIF,GAAE,gBAAgB;AAAnD,MAAqDG,KAAE,IAAIH,GAAE,aAAa;AAAE,MAAII,KAAElB,GAAE;AAAM,WAASmB,GAAEpB,IAAEC,IAAE;AAAC,YAAOE,KAAEH,IAAG,WAAW,OAAO,KAAGG,GAAE,SAAO,MAAIkB,GAAErB,IAAEC,IAAE,QAAQ,IAAEG,MAAGJ,GAAE,SAAS,KAAK,IAAEsB,GAAEtB,IAAEC,IAAE,OAAMsB,EAAC,IAAEnB,KAAEiB,GAAErB,IAAEC,IAAE,IAAI,IAAEC,KAAEoB,GAAEtB,IAAEC,IAAE,OAAMsB,EAAC,IAAE,KAAKd,GAAE,wBAAwB;AAAE,QAAIN;AAAA,EAAC;AAAC,iBAAemB,GAAEtB,IAAEC,IAAEC,IAAEC,IAAE;AAAC,WAAOe,GAAE,IAAIhB,EAAC,IAAEmB,GAAErB,IAAEC,IAAEC,EAAC,IAAEC,KAAE,eAAeH,IAAEC,IAAE;AAAC,UAAIC,KAAE,MAAMD,GAAED,EAAC;AAAE,aAAO,IAAIa,GAAEX,EAAC;AAAA,IAAC,EAAEF,IAAEG,EAAC,IAAE,KAAKM,GAAE,UAAUP,EAAC,gBAAgB;AAAA,EAAC;AAAC,iBAAemB,GAAErB,IAAEC,IAAEC,IAAE;AAAC,QAAIC,KAAE,KAAIe,GAAE,IAAIhB,EAAC,GAAGF,IAAEC,EAAC;AAAE,WAAO,MAAME,GAAE,KAAK,GAAEA;AAAA,EAAC;AAAC,MAAMoB,KAAE,CAAAvB,OAAGmB,GAAEnB,EAAC,EAAE,KAAM,CAAAA,OAAGA,GAAE,YAAY,CAAE;AAAzC,MAA2CwB,KAAE,CAAAxB,OAAG,IAAI,QAAS,CAACC,IAAEC,OAAI;AAAC,QAAIC,KAAE,IAAI;AAAW,IAAAA,GAAE,YAAU,MAAIF,GAAEE,GAAE,UAAQ,IAAI,aAAW,GAAEA,GAAE,UAAQD,IAAEC,GAAE,kBAAkBH,EAAC;AAAA,EAAC,CAAE;AAAE,MAAM,IAAN,cAAgB,IAAG;AAAA,IAAC,IAAI,UAAS;AAAC,aAAO,KAAK,YAAU,KAAK,UAAQ,MAAM,KAAK,KAAK,KAAK,CAAC,IAAG,KAAK;AAAA,IAAO;AAAA,IAAC,IAAI,YAAW;AAAC,aAAO,KAAK,cAAY,KAAK,YAAU,MAAM,KAAK,KAAK,OAAO,CAAC,IAAG,KAAK;AAAA,IAAS;AAAA,EAAC;AAAC,WAASyB,GAAEzB,IAAEC,IAAEC,IAAE;AAAC,QAAIC,KAAE,IAAI;AAAE,aAAO,CAACH,IAAEC,EAAC,KAAIC,GAAE,CAAAC,GAAE,IAAIH,IAAEC,EAAC;AAAE,QAAG,MAAM,QAAQA,EAAC,EAAE,UAAQC,MAAKD,GAAE,CAAAD,GAAE,IAAIE,IAAEC,EAAC;AAAA,QAAO,CAAAH,GAAE,IAAIC,IAAEE,EAAC;AAAE,WAAOA;AAAA,EAAC;AAAC,WAASuB,GAAE1B,IAAEC,IAAEC,IAAE;AAAC,QAAIC,IAAEC,KAAEJ,GAAE,IAAIC,EAAC;AAAE,SAAIE,MAAKD,GAAE,CAAAE,GAAE,IAAID,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC;AAAA,EAAC;AAAC,MAAMwB,KAAE,oBAAI;AAAZ,MAAgB,IAAE,oBAAI;AAAtB,MAA0BC,KAAE,oBAAI;AAAhC,MAAoCC,KAAE,CAAC,WAAU,kBAAiB,sBAAqB,yBAAwB,aAAY,YAAY;AAAvI,MAAyIC,KAAE,CAAC,QAAO,OAAM,OAAM,QAAO,MAAM;AAA5K,MAA8KC,KAAE,CAAC,QAAO,GAAGD,EAAC;AAA5L,MAA8LE,KAAE,CAAC,QAAO,QAAO,QAAO,OAAM,SAAS;AAArO,MAAuOC,KAAE,CAAC,GAAGF,IAAE,GAAGC,EAAC;AAAnP,MAAqPE,KAAE,CAAC,aAAY,aAAa;AAAjR,MAAmR,IAAE,CAAC,iBAAgB,mBAAkB,gBAAe,cAAc;AAArV,MAAuVC,KAAE,CAAC,GAAG,GAAE,YAAW,eAAc,cAAc;AAAE,MAAMC,KAAN,MAAO;AAAA,IAAC,IAAI,YAAW;AAAC,aAAO,KAAK,iBAAe,KAAK,mBAAiB,KAAK;AAAA,IAAY;AAAA,EAAC;AAAC,MAAMC,KAAN,cAAgBD,GAAC;AAAA,IAAC,IAAI,SAAQ;AAAC,aAAO,KAAK,WAAS,KAAK,KAAK,OAAK;AAAA,IAAC;AAAA,IAAC,YAAYnC,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAG,MAAM,GAAEJ,GAAE,MAAK,WAAU,KAAE,GAAEA,GAAE,MAAK,QAAO,oBAAI,KAAG,GAAEA,GAAE,MAAK,QAAO,oBAAI,KAAG,GAAEA,GAAE,MAAK,QAAO,oBAAI,KAAG,GAAEA,GAAE,MAAK,iBAAgB,KAAE,GAAEA,GAAE,MAAK,mBAAkB,KAAE,GAAEA,GAAE,MAAK,gBAAe,KAAE,GAAE,KAAK,MAAIC,IAAE,KAAK,UAAQC,IAAE,KAAK,QAAM,KAAK,SAAQ,KAAK,kBAAkBE,EAAC,GAAE,KAAK,gBAAc4B,GAAE,SAAS/B,EAAC,GAAE,KAAK,kBAAgB,KAAK,OAAK0B,GAAE,IAAI1B,EAAC,IAAG,WAASE,GAAE,KAAG,MAAM,QAAQA,EAAC,EAAE,MAAK,QAAM,KAAK,UAAQ,MAAG,KAAK,iBAAeA,GAAE,SAAO,KAAG,KAAK,gBAAgBA,IAAE,KAAK,IAAI;AAAA,eAAU,YAAU,OAAOA,IAAE;AAAC,YAAG,KAAK,UAAQ,MAAG,KAAK,QAAM,UAAKA,GAAE,OAAM,KAAK,eAAc;AAAC,cAAG,EAAC,MAAKH,IAAE,MAAKC,GAAC,IAAEE;AAAE,UAAAH,MAAGA,GAAE,SAAO,KAAG,KAAK,gBAAgBA,IAAE,KAAK,IAAI,GAAEC,MAAGA,GAAE,SAAO,KAAG,KAAK,gBAAgBA,IAAE,KAAK,IAAI;AAAA,QAAC;AAAC,aAAK,kBAAkBE,EAAC;AAAA,MAAC,MAAK,UAAKA,MAAG,UAAKA,KAAE,KAAK,QAAM,KAAK,UAAQA,KAAEM,GAAE,6BAA6BN,EAAC,EAAE;AAAA,IAAC;AAAA,IAAC,kBAAkBH,IAAE;AAAC,UAAIC,IAAEC;AAAE,WAAID,MAAK,EAAE,CAAAC,KAAEF,GAAEC,EAAC,GAAE,WAASC,OAAI,KAAKD,EAAC,IAAEC;AAAA,IAAE;AAAA,IAAC,gBAAgBF,IAAEC,IAAE;AAAC,UAAG,KAAK,MAAK;AAAC,YAAIC,IAAEC,IAAE,EAAC,SAAQC,IAAE,WAAUC,GAAC,IAAE,KAAK;AAAK,aAAIH,MAAKF,GAAE,aAAU,OAAOE,MAAGC,KAAEE,GAAE,QAAQH,EAAC,GAAE,OAAKC,OAAIA,KAAEC,GAAE,QAAQ,OAAOF,EAAC,CAAC,IAAG,OAAKC,MAAGF,GAAE,IAAI,OAAOG,GAAED,EAAC,CAAC,CAAC,KAAGF,GAAE,IAAIC,EAAC;AAAA,MAAC,MAAM,UAAQA,MAAKF,GAAE,CAAAC,GAAE,IAAIC,EAAC;AAAA,IAAC;AAAA,IAAC,kBAAiB;AAAC,OAAC,KAAK,WAAS,KAAK,KAAK,OAAK,KAAG,KAAK,UAAQ,MAAG,EAAE,KAAK,MAAK,KAAK,IAAI,KAAG,KAAK,WAAS,KAAK,KAAK,OAAK,KAAG,EAAE,KAAK,MAAK,KAAK,IAAI;AAAA,IAAC;AAAA,EAAC;AAAC,MAAIoC,KAAE,EAAC,MAAK,OAAG,MAAK,MAAG,KAAI,OAAG,KAAI,OAAG,MAAK,OAAG,MAAK,MAAG,MAAK,OAAG,MAAK,MAAG,KAAI,MAAG,SAAQ,OAAG,MAAK,QAAO,WAAU,OAAG,aAAY,OAAG,cAAa,OAAG,MAAK,CAAC,GAAE,MAAK,CAAC,GAAE,eAAc,MAAG,iBAAgB,MAAG,cAAa,MAAG,UAAS,MAAG,aAAY,MAAG,cAAa,MAAG,SAAQ,MAAG,gBAAe,QAAO,oBAAmB,KAAI,uBAAsB,OAAM,WAAU,OAAM,YAAW,EAAC;AAA9W,MAAgXC,KAAE,oBAAI;AAAI,MAAM,IAAN,cAAgBH,GAAC;AAAA,IAAC,OAAO,UAAUpC,IAAE;AAAC,UAAIC,KAAEsC,GAAE,IAAIvC,EAAC;AAAE,aAAO,WAASC,OAAIA,KAAE,IAAI,KAAKD,EAAC,GAAEuC,GAAE,IAAIvC,IAAEC,EAAC,IAAGA;AAAA,IAAC;AAAA,IAAC,YAAYD,IAAE;AAAC,YAAM,GAAE,SAAKA,KAAE,KAAK,cAAc,IAAE,WAASA,KAAE,KAAK,mBAAmB,IAAE,MAAM,QAAQA,EAAC,IAAE,KAAK,eAAeA,EAAC,IAAE,YAAU,OAAOA,KAAE,KAAK,gBAAgBA,EAAC,IAAES,GAAE,4BAA4BT,EAAC,EAAE,GAAE,WAAS,KAAK,mBAAiB,KAAK,iBAAeE,KAAE,KAAK,wBAAsB,KAAK,qBAAoB,KAAK,gBAAc,KAAK,KAAK,UAAQ,QAAI,KAAK,wBAAwB,GAAE,KAAK,2BAA2B,GAAE,KAAK,mBAAmB;AAAA,IAAC;AAAA,IAAC,qBAAoB;AAAC,UAAIF;AAAE,WAAIA,MAAK6B,GAAE,MAAK7B,EAAC,IAAEsC,GAAEtC,EAAC;AAAE,WAAIA,MAAKmC,GAAE,MAAKnC,EAAC,IAAEsC,GAAEtC,EAAC;AAAE,WAAIA,MAAKkC,GAAE,MAAKlC,EAAC,IAAEsC,GAAEtC,EAAC;AAAE,WAAIA,MAAKiC,GAAE,MAAKjC,EAAC,IAAE,IAAIqC,GAAErC,IAAEsC,GAAEtC,EAAC,GAAE,QAAO,IAAI;AAAA,IAAC;AAAA,IAAC,gBAAe;AAAC,UAAIA;AAAE,WAAIA,MAAK6B,GAAE,MAAK7B,EAAC,IAAEsC,GAAEtC,EAAC;AAAE,WAAIA,MAAKmC,GAAE,MAAKnC,EAAC,IAAEsC,GAAEtC,EAAC;AAAE,WAAIA,MAAKkC,GAAE,MAAKlC,EAAC,IAAE;AAAG,WAAIA,MAAKiC,GAAE,MAAKjC,EAAC,IAAE,IAAIqC,GAAErC,IAAE,MAAG,QAAO,IAAI;AAAA,IAAC;AAAA,IAAC,eAAeA,IAAE;AAAC,UAAIC;AAAE,WAAIA,MAAK4B,GAAE,MAAK5B,EAAC,IAAEqC,GAAErC,EAAC;AAAE,WAAIA,MAAKkC,GAAE,MAAKlC,EAAC,IAAEqC,GAAErC,EAAC;AAAE,WAAIA,MAAKiC,GAAE,MAAKjC,EAAC,IAAEqC,GAAErC,EAAC;AAAE,WAAIA,MAAKgC,GAAE,MAAKhC,EAAC,IAAE,IAAIoC,GAAEpC,IAAE,OAAG,QAAO,IAAI;AAAE,WAAK,mBAAmBD,IAAE,QAAOgC,EAAC;AAAA,IAAC;AAAA,IAAC,gBAAgBhC,IAAE;AAAC,UAAIC;AAAE,WAAIA,OAAK+B,GAAE,OAAKA,GAAE,QAAMA,GAAE,OAAMA,GAAE,OAAKA,GAAE,QAAMA,GAAE,WAAU,OAAO,OAAO,MAAKhC,EAAC,GAAE6B,IAAG,MAAK5B,EAAC,IAAE,EAAED,GAAEC,EAAC,GAAEqC,GAAErC,EAAC,CAAC;AAAE,WAAIA,MAAKkC,GAAE,MAAKlC,EAAC,IAAE,EAAED,GAAEC,EAAC,GAAEqC,GAAErC,EAAC,CAAC;AAAE,WAAIA,MAAKiC,GAAE,MAAKjC,EAAC,IAAE,EAAED,GAAEC,EAAC,GAAEqC,GAAErC,EAAC,CAAC;AAAE,WAAIA,MAAK8B,GAAE,MAAK9B,EAAC,IAAE,IAAIoC,GAAEpC,IAAEqC,GAAErC,EAAC,GAAED,GAAEC,EAAC,GAAE,IAAI;AAAE,WAAIA,MAAK+B,GAAE,MAAK/B,EAAC,IAAE,IAAIoC,GAAEpC,IAAEqC,GAAErC,EAAC,GAAED,GAAEC,EAAC,GAAE,KAAK,IAAI;AAAE,WAAK,mBAAmBD,GAAE,MAAKA,GAAE,MAAKgC,IAAEC,EAAC,GAAE,SAAKjC,GAAE,OAAK,KAAK,oBAAoBgC,IAAE,IAAE,IAAE,UAAKhC,GAAE,OAAK,KAAK,yBAAyBgC,IAAEhC,EAAC,IAAE,MAAM,QAAQA,GAAE,IAAI,IAAE,KAAK,mBAAmBA,GAAE,MAAK,QAAOgC,EAAC,IAAE,YAAU,OAAOhC,GAAE,QAAM,KAAK,mBAAmBA,GAAE,KAAK,MAAKA,GAAE,KAAK,MAAKgC,EAAC;AAAA,IAAC;AAAA,IAAC,oBAAoBhC,IAAEC,IAAE;AAAC,eAAQC,MAAKF,GAAE,MAAKE,EAAC,EAAE,UAAQD;AAAA,IAAC;AAAA,IAAC,yBAAyBD,IAAEC,IAAE;AAAC,eAAQC,MAAKF,IAAE;AAAC,YAAIA,KAAEC,GAAEC,EAAC;AAAE,aAAKA,EAAC,EAAE,UAAQ,UAAKF,MAAG,WAASA;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,mBAAmBA,IAAEC,IAAEC,IAAEC,KAAED,IAAE;AAAC,UAAGF,MAAGA,GAAE,QAAO;AAAC,iBAAQA,MAAKG,GAAE,MAAKH,EAAC,EAAE,UAAQ;AAAG,YAAIC,KAAE,EAAED,IAAEE,EAAC;AAAE,iBAAO,CAACF,IAAEE,EAAC,KAAID,GAAE,GAAE,KAAKD,EAAC,EAAE,MAAKE,EAAC,GAAE,KAAKF,EAAC,EAAE,UAAQ;AAAA,MAAE,WAASC,MAAGA,GAAE,QAAO;AAAC,YAAID,KAAE,EAAEC,IAAEC,EAAC;AAAE,iBAAO,CAACD,IAAEC,EAAC,KAAIF,GAAE,GAAE,KAAKC,EAAC,EAAE,MAAKC,EAAC;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,0BAAyB;AAAC,UAAG,EAAC,MAAKF,IAAE,MAAKC,IAAE,KAAIC,IAAE,MAAKC,IAAE,KAAIC,GAAC,IAAE;AAAK,WAAK,YAAUH,GAAE,KAAK,IAAI,KAAK,IAAEA,GAAE,KAAK,IAAI,KAAK,GAAE,KAAK,cAAYA,GAAE,KAAK,IAAI,KAAK,IAAEA,GAAE,KAAK,IAAI,KAAK,GAAEC,GAAE,WAASF,GAAE,KAAK,IAAI,GAAG,GAAEG,GAAE,WAASH,GAAE,KAAK,IAAI,KAAK,GAAEI,GAAE,WAASJ,GAAE,KAAK,IAAI,KAAK;AAAA,IAAC;AAAA,IAAC,6BAA4B;AAAC,UAAG,EAAC,MAAKA,IAAE,MAAKC,IAAE,KAAIC,IAAE,SAAQC,GAAC,IAAE;AAAK,MAAAA,GAAE,WAASF,GAAE,KAAK,IAAI,KAAK,GAAED,GAAE,KAAK,IAAI,KAAK,IAAGC,GAAE,UAAQD,GAAE,KAAK,IAAI,KAAK,GAAEE,GAAE,UAAQF,GAAE,KAAK,IAAI,KAAK,GAAE,KAAK,KAAK,UAAQgC,GAAE,KAAM,CAAAhC,OAAG,SAAK,KAAKA,EAAC,EAAE,OAAQ,KAAG,KAAK,aAAW,KAAK;AAAY,eAAQA,MAAKgC,GAAE,MAAKhC,EAAC,EAAE,gBAAgB;AAAA,IAAC;AAAA,IAAC,IAAI,WAAU;AAAC,aAAM,CAAC8B,GAAE,IAAK,CAAA9B,OAAG,KAAKA,EAAC,EAAE,OAAQ,EAAE,KAAM,CAAAA,OAAG,SAAKA,EAAE,KAAG,KAAK,KAAK;AAAA,IAAO;AAAA,IAAC,qBAAoB;AAAC,eAAQA,MAAK+B,GAAE,MAAK/B,EAAC,EAAE,WAAS,CAACiB,GAAE,IAAIjB,EAAC,KAAGc,GAAE,kBAAiBd,EAAC;AAAA,IAAC;AAAA,EAAC;AAAC,WAAS,EAAEA,IAAEC,IAAE;AAAC,QAAIC,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,CAAC;AAAE,SAAIF,MAAKH,IAAE;AAAC,WAAII,OAAKH,KAAEyB,GAAE,IAAIvB,EAAC,GAAED,KAAE,CAAC,GAAED,IAAG,EAACF,GAAE,SAASK,GAAE,CAAC,CAAC,KAAGL,GAAE,SAASK,GAAE,CAAC,CAAC,MAAIF,GAAE,KAAKE,GAAE,CAAC,CAAC;AAAE,MAAAF,GAAE,UAAQG,GAAE,KAAK,CAACF,IAAED,EAAC,CAAC;AAAA,IAAC;AAAC,WAAOG;AAAA,EAAC;AAAC,WAAS,EAAEN,IAAEC,IAAE;AAAC,WAAO,WAASD,KAAEA,KAAE,WAASC,KAAEA,KAAE;AAAA,EAAM;AAAC,WAAS,EAAED,IAAEC,IAAE;AAAC,aAAQC,MAAKD,GAAE,CAAAD,GAAE,IAAIE,EAAC;AAAA,EAAC;AAAC,EAAAF,GAAE,GAAE,WAAUsC,EAAC;AAAE,MAAME,KAAN,MAAO;AAAA,IAAC,YAAYvC,IAAE;AAAC,MAAAD,GAAE,MAAK,WAAU,CAAC,CAAC,GAAEA,GAAE,MAAK,UAAS,CAAC,CAAC,GAAEA,GAAE,MAAK,UAAS,CAAC,CAAC,GAAEA,GAAE,MAAK,gBAAgB,CAAAA,OAAG,KAAK,OAAO,KAAKA,EAAC,CAAE,GAAE,KAAK,UAAQ,EAAE,UAAUC,EAAC;AAAA,IAAC;AAAA,IAAC,MAAM,KAAKD,IAAE;AAAC,WAAK,OAAK,MAAM,SAASA,IAAEC,IAAE;AAAC,eAAM,YAAU,OAAOD,KAAEoB,GAAEpB,IAAEC,EAAC,IAAEC,MAAG,CAACC,MAAGH,cAAa,mBAAiBoB,GAAEpB,GAAE,KAAIC,EAAC,IAAED,cAAa,cAAYA,cAAa,eAAaA,cAAa,WAAS,IAAIa,GAAEb,EAAC,IAAEE,MAAGF,cAAa,OAAKsB,GAAEtB,IAAEC,IAAE,QAAOuB,EAAC,IAAE,KAAKf,GAAE,wBAAwB;AAAA,MAAC,EAAET,IAAE,KAAK,OAAO;AAAA,IAAC;AAAA,IAAC,QAAO;AAAC,UAAG,KAAK,WAAW;AAAO,UAAG,EAAC,MAAKA,GAAC,IAAE,MAAKC,KAAED,GAAE,UAAU,CAAC;AAAE,eAAO,CAACE,IAAEC,EAAC,KAAIa,GAAE,KAAGb,GAAE,UAAUH,IAAEC,EAAC,EAAE,QAAO,KAAK,aAAW,IAAIE,GAAE,KAAK,SAAQ,KAAK,MAAK,KAAK,OAAO,GAAEH,GAAEE,EAAC,IAAE;AAAG,WAAK,KAAK,SAAO,KAAK,KAAK,MAAM,GAAEO,GAAE,qBAAqB;AAAA,IAAC;AAAA,IAAC,MAAM,QAAO;AAAC,UAAG,EAAC,QAAOT,IAAE,QAAOC,GAAC,IAAE;AAAK,aAAO,KAAK,MAAM,GAAE,KAAK,QAAQ,gBAAc,MAAM,KAAK,eAAe,EAAE,MAAM,KAAK,YAAY,GAAEA,GAAE,KAAK,GAAG,KAAK,WAAW,MAAM,KAAG,MAAM,KAAK,eAAe,GAAE,KAAK,KAAK,SAAO,KAAK,KAAK,MAAM,GAAE,KAAK,QAAQ,gBAAcA,GAAE,SAAO,MAAID,GAAE,SAAOC,KAAGO,GAAEN,KAAEF,EAAC,IAAE,SAAOE;AAAE,UAAIA;AAAA,IAAC;AAAA,IAAC,MAAM,iBAAgB;AAAC,UAAG,EAAC,QAAOF,GAAC,IAAE;AAAK,YAAM,KAAK,WAAW,MAAM;AAAE,UAAIC,KAAE,OAAO,OAAO,KAAK,OAAO,EAAE,IAAK,OAAMA,OAAG;AAAC,YAAIC,KAAE,MAAMD,GAAE,MAAM;AAAE,QAAAA,GAAE,eAAeD,IAAEE,EAAC;AAAA,MAAC,CAAE;AAAE,WAAK,QAAQ,iBAAeD,KAAEA,GAAE,IAAK,CAAAD,OAAGA,GAAE,MAAM,KAAK,YAAY,CAAE,IAAG,MAAM,QAAQ,IAAIC,EAAC;AAAA,IAAC;AAAA,IAAC,MAAM,mBAAkB;AAAC,WAAK,MAAM;AAAE,UAAG,EAAC,SAAQD,IAAE,MAAKC,GAAC,IAAE,MAAKC,KAAEe,GAAE,IAAI,QAAOjB,EAAC;AAAE,UAAIG;AAAE,UAAGF,GAAE,OAAKE,KAAE,EAAC,OAAM,GAAE,MAAK,OAAM,IAAEF,GAAE,SAAOE,KAAE,MAAM,KAAK,WAAW,iBAAiB,MAAM,IAAG,WAASA,GAAE;AAAO,UAAIC,KAAE,MAAM,KAAK,WAAW,mBAAmBD,EAAC,GAAEE,KAAE,KAAK,QAAQ,OAAK,IAAIH,GAAEE,IAAEJ,IAAEC,EAAC,GAAEK,KAAE,MAAMD,GAAE,iBAAiB;AAAE,aAAOJ,GAAE,SAAOA,GAAE,MAAM,GAAEK;AAAA,IAAC;AAAA,EAAC;AAAC,iBAAe,EAAEN,IAAEC,IAAE;AAAC,QAAIC,KAAE,IAAIsC,GAAEvC,EAAC;AAAE,WAAO,MAAMC,GAAE,KAAKF,EAAC,GAAEE,GAAE,MAAM;AAAA,EAAC;AAAC,MAAI,IAAE,OAAO,OAAO,EAAC,WAAU,MAAK,OAAM,GAAE,OAAMsC,IAAE,aAAYxB,IAAE,gBAAeC,IAAE,aAAYC,IAAE,SAAQS,IAAE,WAAU,GAAE,aAAYC,IAAE,kBAAiBH,IAAE,kBAAiBC,IAAE,uBAAsBH,IAAE,uBAAsBC,IAAE,cAAaK,IAAE,eAAcC,IAAE,UAASC,IAAE,YAAWC,IAAE,mBAAkBC,IAAE,kBAAiBC,IAAE,cAAa,GAAE,eAAcC,IAAE,SAAQ,EAAC,CAAC;AAAE,MAAM,IAAN,MAAO;AAAA,IAAC,OAAO,aAAanC,IAAEC,IAAE;AAAC,UAAIC,KAAEF,GAAE,UAAUC,KAAE,CAAC,IAAE,GAAEE,KAAE,cAAY,OAAO,KAAK,eAAa,KAAK,aAAaH,IAAEC,IAAEC,EAAC,IAAE,KAAK,cAAaE,KAAEH,KAAEE,IAAEE,KAAEH,KAAEC;AAAE,aAAM,EAAC,QAAOF,IAAE,QAAOC,IAAE,cAAaC,IAAE,OAAMC,IAAE,MAAKC,IAAE,KAAID,KAAEC,GAAC;AAAA,IAAC;AAAA,IAAC,OAAO,MAAML,IAAEC,KAAE,CAAC,GAAE;AAAC,aAAO,IAAI,KAAKD,IAAE,IAAI,EAAE,EAAC,CAAC,KAAK,IAAI,GAAEC,GAAC,CAAC,GAAED,EAAC,EAAE,MAAM;AAAA,IAAC;AAAA,IAAC,eAAeA,IAAE;AAAC,aAAOA,cAAaa,KAAEb,KAAE,IAAIa,GAAEb,EAAC;AAAA,IAAC;AAAA,IAAC,YAAYC,IAAEC,KAAE,CAAC,GAAEC,IAAE;AAAC,MAAAH,GAAE,MAAK,UAAS,CAAC,CAAC,GAAEA,GAAE,MAAK,OAAM,oBAAI,KAAG,GAAEA,GAAE,MAAK,eAAe,CAAAA,OAAG;AAAC,YAAG,CAAC,KAAK,QAAQ,aAAa,OAAMA;AAAE,aAAK,OAAO,KAAKA,GAAE,OAAO;AAAA,MAAC,CAAE,GAAE,KAAK,QAAM,KAAK,eAAeC,EAAC,GAAE,KAAK,OAAKE,IAAE,KAAK,OAAK,KAAK,YAAY,MAAK,KAAK,gBAAc,KAAK,UAAQD,IAAE,KAAK,eAAaA,GAAE,KAAK,IAAI,GAAE,KAAK,eAAa,KAAK,gBAAc,KAAK,aAAa;AAAA,IAAS;AAAA,IAAC,YAAW;AAAC,WAAK,iBAAe,KAAK,aAAW,KAAK,eAAe,KAAK,KAAI,KAAK,IAAI;AAAA,IAAE;AAAA,IAAC,IAAI,SAAQ;AAAC,aAAO,KAAK,aAAW,KAAK,aAAW,KAAK,MAAI,OAAO,YAAY,KAAK,GAAG,IAAE;AAAA,IAAM;AAAA,IAAC,eAAeF,IAAEC,IAAE;AAAC,UAAIC,KAAE0B,GAAE,IAAI3B,EAAC,GAAEE,KAAE,EAAE,IAAIF,EAAC,GAAEG,KAAEuB,GAAE,IAAI1B,EAAC,GAAEI,KAAE,KAAK,QAAQJ,EAAC,GAAEK,KAAED,GAAE,gBAAc,CAAC,CAACH,IAAEK,KAAEF,GAAE,mBAAiB,CAAC,CAACF,IAAEK,KAAEH,GAAE,iBAAe,CAAC,CAACD,IAAEK,KAAE,CAAC;AAAE,eAAO,CAACR,IAAEI,EAAC,KAAIL,GAAE,CAAAM,MAAGJ,GAAE,IAAID,EAAC,IAAEI,KAAEH,GAAE,IAAID,EAAC,EAAEI,EAAC,IAAEE,MAAGJ,GAAE,IAAIF,EAAC,MAAII,KAAE,KAAK,eAAeA,IAAEF,GAAE,IAAIF,EAAC,CAAC,IAAGO,MAAGJ,GAAE,IAAIH,EAAC,MAAIA,KAAEG,GAAE,IAAIH,EAAC,KAAGA,KAAGQ,GAAER,EAAC,IAAEI;AAAE,aAAOI;AAAA,IAAC;AAAA,IAAC,eAAeT,IAAEC,IAAE;AAAC,aAAOA,GAAED,EAAC,KAAGC,GAAE,WAASD;AAAA,IAAC;AAAA,IAAC,eAAeA,IAAEC,IAAE;AAAC,WAAK,qBAAqBD,IAAE,KAAK,YAAY,MAAKC,EAAC;AAAA,IAAC;AAAA,IAAC,qBAAqBD,IAAEC,IAAEC,IAAE;AAAC,UAAG,KAAK,cAAc,YAAY,QAAO,OAAO,OAAOF,IAAEE,EAAC;AAAE,MAAAF,GAAEC,EAAC,IAAE,OAAO,OAAOD,GAAEC,EAAC,GAAEC,EAAC,IAAEF,GAAEC,EAAC,IAAEC;AAAA,IAAC;AAAA,EAAC;AAAC,EAAAF,GAAE,GAAE,gBAAe,CAAC,GAAEA,GAAE,GAAE,QAAO,MAAM,GAAEA,GAAE,GAAE,gBAAe,KAAE,GAAEA,GAAE,GAAE,aAAa,MAAI,KAAG;AAAE,WAASyC,GAAEzC,IAAE;AAAC,WAAO,QAAMA,MAAG,QAAMA,MAAG,QAAMA,MAAG,QAAMA,MAAG,QAAMA,MAAG,QAAMA,MAAG,QAAMA;AAAA,EAAC;AAAC,WAAS,EAAEA,IAAE;AAAC,WAAOA,MAAG,OAAKA,MAAG;AAAA,EAAG;AAAC,WAAS,EAAEA,IAAEC,IAAEC,IAAE;AAAC,aAAO,CAACC,IAAEC,EAAC,KAAIa,GAAE,KAAGb,GAAE,UAAUJ,IAAEC,IAAEC,EAAC,EAAE,QAAOC;AAAA,EAAC;AAAC,MAAMuC,MAAN,cAAiB,MAAK;AAAA,IAAC,YAAYzC,IAAEC,IAAEC,IAAE;AAAC,MAAAH,GAAE,MAAK,UAAS,CAAC,CAAC,GAAEA,GAAE,MAAK,sBAAsB,OAAMA,OAAG;AAAC,YAAIC,KAAED,GAAE,OAAME,KAAEF,GAAE,QAAM;AAAM,YAAG,KAAK,KAAK,QAAQ,KAAG,KAAK,KAAK,UAAUC,IAAEC,EAAC,EAAE,CAAAF,GAAE,QAAM,KAAK,KAAK,SAASC,IAAEC,EAAC;AAAA,YAAO,KAAG;AAAC,UAAAF,GAAE,QAAM,MAAM,KAAK,KAAK,UAAUC,IAAEC,EAAC;AAAA,QAAC,SAAOD,IAAE;AAAC,UAAAQ,GAAE,0BAA0B,KAAK,UAAUT,EAAC,CAAC,KAAKC,GAAE,OAAO,EAAE;AAAA,QAAC;AAAA,YAAM,MAAK,KAAK,aAAWA,KAAEC,KAAEF,GAAE,QAAM,KAAK,KAAK,SAASC,IAAEC,EAAC,IAAE,WAASF,GAAE,OAAKA,GAAE,QAAM,KAAK,KAAK,SAASC,EAAC,IAAEQ,GAAE,0BAAwB,KAAK,UAAUT,EAAC,CAAC;AAAE,eAAOA,GAAE;AAAA,MAAK,CAAE,GAAE,KAAK,iBAAe,KAAK,cAAcC,EAAC,GAAE,KAAK,UAAQA,IAAE,KAAK,OAAKC,IAAE,KAAK,UAAQC;AAAA,IAAC;AAAA,IAAC,cAAcH,IAAEC,IAAE;AAAC,WAAK,QAAQD,EAAC,EAAE,WAAS,KAAK,aAAaA,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,aAAaD,IAAEC,IAAE;AAAC,UAAIC,KAAE,KAAIe,GAAE,IAAIjB,EAAC,GAAGC,IAAE,KAAK,SAAQ,KAAK,IAAI;AAAE,aAAO,KAAK,QAAQD,EAAC,IAAEE;AAAA,IAAC;AAAA,IAAC,cAAcF,IAAE;AAAC,eAAQC,MAAKD,IAAE;AAAC,YAAG,EAAC,MAAKA,IAAE,OAAME,GAAC,IAAED,IAAEE,KAAE,KAAK,QAAQH,EAAC;AAAE,YAAGG,MAAGA,GAAE,SAAQ;AAAC,cAAIF,KAAE,KAAK,QAAQD,EAAC;AAAE,UAAAC,MAAGA,GAAE,UAAQA,MAAG,KAAK,aAAaD,IAAEE,EAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,MAAM,aAAaF,IAAE;AAAC,UAAIC,KAAED,GAAE,IAAI,KAAK,kBAAkB;AAAE,YAAM,QAAQ,IAAIC,EAAC;AAAA,IAAC;AAAA,EAAC,EAAC;AAAA,IAAC,eAAeA,IAAE;AAAC,YAAM,GAAGA,EAAC,GAAED,GAAE,MAAK,eAAc,CAAC,CAAC,GAAEA,GAAE,MAAK,gBAAe,CAAC,CAAC,GAAEA,GAAE,MAAK,mBAAkB,CAAC,CAAC;AAAA,IAAC;AAAA,IAAC,OAAO,UAAUA,IAAEC,IAAE;AAAC,aAAO,UAAQA;AAAA,IAAC;AAAA,IAAC,MAAM,QAAO;AAAC,YAAM,KAAK,gBAAgB,GAAE,MAAM,KAAK,aAAa,KAAK,WAAW,GAAE,KAAK,mBAAmB,GAAE,KAAK,cAAc,KAAK,qBAAmB,KAAK,WAAW;AAAA,IAAC;AAAA,IAAC,uBAAuBD,IAAE;AAAC,eAAKA,MAAG,KAAK,UAAQ,MAAG,KAAK,SAAO,IAAI,IAAIiB,GAAE,QAAQ,CAAC,MAAIjB,KAAE,WAASA,KAAEiB,GAAE,QAAQ,EAAE,OAAQ,CAAAjB,OAAG,KAAK,QAAQA,EAAC,EAAE,OAAQ,IAAEA,GAAE,OAAQ,CAAAA,OAAG,KAAK,QAAQA,EAAC,EAAE,WAASiB,GAAE,IAAIjB,EAAC,CAAE,GAAE,KAAK,UAAQ,OAAG,KAAK,YAAU,IAAI,IAAIA,EAAC,GAAE,KAAK,SAAO,IAAI,IAAIA,EAAC,IAAG,KAAK,yBAAuB;AAAA,IAAE;AAAA,IAAC,MAAM,gBAAgBA,KAAE,GAAEC,IAAE;AAAC,WAAK,uBAAuBA,EAAC;AAAE,UAAG,EAAC,MAAKC,IAAE,SAAQC,IAAE,QAAOC,IAAE,WAAUC,GAAC,IAAE;AAAK,UAAG,CAACF,MAAG,KAAK,KAAK,YAAUA,KAAE,MAAM,KAAKC,EAAC,EAAE,KAAM,CAAAJ,OAAG;AAAC,YAAIC,KAAEgB,GAAE,IAAIjB,EAAC,GAAEE,KAAE,KAAK,QAAQF,EAAC;AAAE,eAAOC,GAAE,gBAAcC,GAAE;AAAA,MAAY,CAAE,GAAEC,MAAG,MAAM,KAAK,KAAK,UAAU,IAAGH,KAAE,KAAK,uBAAuBA,IAAEE,GAAE,UAAU,GAAE,CAAC,KAAK,QAAQ,YAAUA,GAAE,SAAQ;AAAC,YAAID,KAAE;AAAG,eAAKI,GAAE,OAAK,KAAG,CAACJ,OAAIC,GAAE,oBAAkB,KAAK,2BAAyB;AAAC,cAAG,EAAC,iBAAgBC,GAAC,IAAED,IAAEE,KAAE,KAAK,YAAY,KAAM,CAAAJ,OAAG,CAAC,KAAK,KAAK,UAAUA,GAAE,UAAQA,GAAE,OAAMA,GAAE,UAAQA,GAAE,IAAI,CAAE;AAAE,cAAGC,KAAED,KAAEG,MAAG,CAACC,KAAE,CAAC,MAAMF,GAAE,cAAcF,EAAC,IAAE,CAAC,MAAME,GAAE,cAAcC,EAAC,GAAE,YAAUH,KAAE,KAAK,uBAAuBA,IAAEE,GAAE,UAAU,GAAG;AAAA,QAAM;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,uBAAuBF,IAAEC,IAAE;AAAC,MAAAA,MAAG;AAAE,UAAIC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAE,EAAC,MAAKC,IAAE,SAAQC,IAAE,QAAOC,IAAE,WAAUC,IAAE,SAAQC,GAAC,IAAE;AAAK,aAAKZ,KAAEC,IAAED,KAAI,KAAG,QAAMQ,GAAE,SAASR,EAAC;AAAE,YAAGE,KAAEM,GAAE,SAASR,KAAE,CAAC,GAAE,EAAEE,EAAC,GAAE;AAAC,cAAGC,KAAEK,GAAE,UAAUR,KAAE,CAAC,GAAEI,KAAE,EAAEI,IAAER,IAAEG,EAAC,GAAEC,MAAGM,GAAE,IAAIN,EAAC,MAAIC,KAAEY,GAAE,IAAIb,EAAC,GAAEE,KAAED,GAAE,aAAaG,IAAER,EAAC,GAAEO,KAAEK,GAAER,EAAC,GAAEE,GAAE,OAAKF,IAAE,KAAK,YAAY,KAAKE,EAAC,GAAE,CAACG,OAAIJ,GAAE,gBAAcE,GAAE,gBAAc,KAAK,yBAAuBD,GAAE,cAAYA,GAAE,YAAW,KAAK,0BAAwBK,GAAE,OAAOP,EAAC,KAAGO,GAAE,OAAOP,EAAC,GAAE,MAAIO,GAAE,OAAO;AAAM,UAAAC,GAAE,0BAAwBN,KAAE,EAAE,aAAaE,IAAER,EAAC,GAAEM,GAAE,SAAOJ,IAAE,KAAK,gBAAgB,KAAKI,EAAC,IAAGN,MAAGG,KAAE;AAAA,QAAC,WAASsC,GAAEvC,EAAC,GAAE;AAAC,cAAGC,KAAEK,GAAE,UAAUR,KAAE,CAAC,GAAE,QAAME,MAAG,UAAKU,GAAE,aAAa;AAAO,UAAAA,GAAE,sBAAoB,KAAK,aAAa,KAAK,EAAC,QAAOZ,IAAE,QAAOG,IAAE,QAAOD,GAAC,CAAC,GAAEF,MAAGG,KAAE;AAAA,QAAC;AAAA;AAAC,aAAOH;AAAA,IAAC;AAAA,IAAC,qBAAoB;AAAC,UAAG,CAAC,KAAK,YAAY,KAAM,CAAAA,OAAGA,GAAE,YAAa,EAAE;AAAO,UAAIA,KAAE,SAASA,IAAEC,IAAE;AAAC,YAAIC,IAAEC,IAAEC,IAAEC,KAAE,oBAAI;AAAI,iBAAQC,KAAE,GAAEA,KAAEN,GAAE,QAAOM,KAAI,CAAAJ,KAAEF,GAAEM,EAAC,GAAEH,KAAED,GAAED,EAAC,GAAEI,GAAE,IAAIF,EAAC,IAAEC,KAAEC,GAAE,IAAIF,EAAC,IAAEE,GAAE,IAAIF,IAAEC,KAAE,CAAC,CAAC,GAAEA,GAAE,KAAKF,EAAC;AAAE,eAAO,MAAM,KAAKG,EAAC;AAAA,MAAC,EAAE,KAAK,aAAY,MAAM;AAAE,WAAK,oBAAkBL,GAAE,IAAK,CAAC,CAACA,IAAEC,EAAC,MAAI;AAAC,YAAIC,KAAEe,GAAE,IAAIjB,IAAE,KAAK,OAAO;AAAE,YAAGE,GAAE,qBAAoB;AAAC,iBAAM,EAAC,MAAKF,IAAE,OAAME,GAAE,oBAAoBD,EAAC,EAAC;AAAA,QAAC;AAAC,eAAOA,GAAE,CAAC;AAAA,MAAC,CAAE;AAAA,IAAC;AAAA,IAAC,WAAWD,IAAE;AAAC,aAAO,KAAK,YAAY,KAAM,CAAAC,OAAGA,GAAE,SAAOD,EAAE;AAAA,IAAC;AAAA,IAAC,MAAM,iBAAiBA,IAAE;AAAC,UAAIC,KAAE,KAAK,WAAWD,EAAC;AAAE,aAAO,WAASC,OAAI,MAAM,KAAK,gBAAgB,GAAE,CAACD,EAAC,CAAC,GAAEC,KAAE,KAAK,WAAWD,EAAC,IAAGC;AAAA,IAAC;AAAA,EAAC;AAAC,EAAAD,GAAE0C,KAAG,QAAO,MAAM,GAAE1B,GAAE,IAAI,QAAO0B,GAAE;AAAE,MAAM,KAAG,CAAC,QAAO,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAE,MAAM,KAAN,cAAiB,EAAC;AAAA,IAAC,cAAa;AAAC,UAAI1C,KAAE,KAAK,MAAM,UAAU;AAAE,gBAAQA,KAAE,KAAK,KAAG,OAAG,UAAQA,OAAI,KAAK,KAAG,QAAI,KAAK,MAAM,KAAG,KAAK,IAAG,KAAK,eAAa;AAAA,IAAE;AAAA,IAAC,UAAUA,IAAEC,IAAEC,KAAE,oBAAI,OAAI;AAAC,UAAG,EAAC,MAAKC,IAAE,MAAKC,GAAC,IAAE,KAAK,QAAQH,EAAC;AAAE,MAAAE,KAAE,IAAI,IAAIA,EAAC;AAAE,UAAIE,KAAEF,GAAE,OAAK,GAAEG,KAAE,MAAIF,GAAE,MAAKG,KAAE,KAAK,MAAM,UAAUP,EAAC;AAAE,MAAAA,MAAG;AAAE,eAAQQ,KAAE,GAAEA,KAAED,IAAEC,MAAI;AAAC,YAAID,KAAE,KAAK,MAAM,UAAUP,EAAC;AAAE,YAAGK,IAAE;AAAC,cAAGF,GAAE,IAAII,EAAC,MAAIL,GAAE,IAAIK,IAAE,KAAK,SAASP,IAAEO,IAAEN,EAAC,CAAC,GAAEE,GAAE,OAAOI,EAAC,GAAE,MAAIJ,GAAE,MAAM;AAAA,QAAK,MAAK,EAACG,MAAGF,GAAE,IAAIG,EAAC,KAAGL,GAAE,IAAIK,IAAE,KAAK,SAASP,IAAEO,IAAEN,EAAC,CAAC;AAAE,QAAAD,MAAG;AAAA,MAAE;AAAC,aAAOE;AAAA,IAAC;AAAA,IAAC,SAASF,IAAEC,IAAEC,IAAE;AAAC,UAAG,EAAC,OAAMC,GAAC,IAAE,MAAKC,KAAED,GAAE,UAAUH,KAAE,CAAC,GAAEK,KAAEF,GAAE,UAAUH,KAAE,CAAC,GAAEM,KAAE,GAAGF,EAAC;AAAE,UAAGE,KAAED,MAAG,IAAEL,MAAG,IAAEA,KAAEG,GAAE,UAAUH,KAAE,CAAC,IAAGI,KAAE,KAAGA,KAAE,OAAKK,GAAE,mCAAmCP,GAAE,YAAY,CAAC,UAAUD,GAAE,SAAS,EAAE,CAAC,WAAWG,EAAC,YAAYJ,EAAC,EAAE,GAAEA,KAAEG,GAAE,cAAYM,GAAE,qCAAqCP,GAAE,YAAY,CAAC,UAAUD,GAAE,SAAS,EAAE,CAAC,WAAWG,EAAC,YAAYJ,EAAC,6BAA6BG,GAAE,UAAU,EAAE,GAAE,MAAIC,GAAE,QAAOD,GAAE,cAAcH,IAAEK,EAAC;AAAE,UAAG,MAAID,GAAE,QAAM,QAAMG,KAAE,SAASP,IAAE;AAAC,eAAKA,GAAE,SAAS,IAAI,IAAG,CAAAA,KAAEA,GAAE,MAAM,GAAE,EAAE;AAAE,eAAOA;AAAA,MAAC,EAAEO,KAAEJ,GAAE,UAAUH,IAAEK,EAAC,CAAC,EAAE,KAAK,KAAG,SAAOE;AAAE,UAAIA;AAAE,UAAG,MAAIH,GAAE,QAAOD,GAAE,cAAcH,IAAEK,EAAC;AAAE,UAAG,MAAIA,GAAE,QAAO,KAAK,cAAcD,IAAEJ,EAAC;AAAE;AAAC,YAAIC,KAAE,KAAI,SAASD,IAAE;AAAC,kBAAOA,IAAE;AAAA,YAAC,KAAK;AAAE,qBAAO;AAAA,YAAW,KAAK;AAAE,qBAAO;AAAA,YAAY,KAAK;AAAE,qBAAO;AAAA,YAAY,KAAK;AAAE,qBAAO;AAAA,YAAM,KAAK;AAAE,qBAAO;AAAA,YAAU,KAAK;AAAE,qBAAO;AAAA,YAAW,KAAK;AAAE,qBAAO;AAAA,YAAW,KAAK;AAAG,qBAAO;AAAA,YAAM,KAAK;AAAG,qBAAO;AAAA,YAAa,KAAK;AAAG,qBAAO;AAAA,YAAa;AAAQ,qBAAO;AAAA,UAAK;AAAA,QAAC,EAAEI,EAAC,GAAGC,EAAC,GAAEH,KAAEI;AAAE,iBAAQH,KAAE,GAAEA,KAAEE,IAAEF,KAAI,CAAAF,GAAEE,EAAC,IAAE,KAAK,cAAcC,IAAEJ,EAAC,GAAEA,MAAGE;AAAE,eAAOD;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,cAAcD,IAAEC,IAAE;AAAC,UAAG,EAAC,OAAMC,GAAC,IAAE;AAAK,cAAOF,IAAE;AAAA,QAAC,KAAK;AAAE,iBAAOE,GAAE,SAASD,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAOC,GAAE,UAAUD,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAOC,GAAE,UAAUD,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAOC,GAAE,UAAUD,EAAC,IAAEC,GAAE,UAAUD,KAAE,CAAC;AAAA,QAAE,KAAK;AAAE,iBAAOC,GAAE,QAAQD,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAOC,GAAE,SAASD,EAAC;AAAA,QAAE,KAAK;AAAE,iBAAOC,GAAE,SAASD,EAAC;AAAA,QAAE,KAAK;AAAG,iBAAOC,GAAE,SAASD,EAAC,IAAEC,GAAE,SAASD,KAAE,CAAC;AAAA,QAAE,KAAK;AAAG,iBAAOC,GAAE,SAASD,EAAC;AAAA,QAAE,KAAK;AAAG,iBAAOC,GAAE,UAAUD,EAAC;AAAA,QAAE,KAAK;AAAG,iBAAOC,GAAE,UAAUD,EAAC;AAAA,QAAE;AAAQ,UAAAQ,GAAE,qBAAqBT,EAAC,EAAE;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAC,MAAM,KAAN,cAAiB,GAAE;AAAA,IAAC,OAAO,UAAUA,IAAEC,IAAE;AAAC,aAAO,QAAMD,GAAE,SAASC,KAAE,CAAC,KAAG,eAAaD,GAAE,UAAUC,KAAE,CAAC,KAAG,MAAID,GAAE,UAAUC,KAAE,CAAC;AAAA,IAAC;AAAA,IAAC,MAAM,QAAO;AAAC,WAAK,YAAY;AAAE,UAAG,EAAC,SAAQD,GAAC,IAAE;AAAK,aAAOA,GAAE,KAAK,WAAS,MAAM,KAAK,eAAe,GAAEA,GAAE,KAAK,WAAS,MAAM,KAAK,UAAU,gBAAgB,GAAEA,GAAE,IAAI,WAAS,MAAM,KAAK,UAAU,eAAe,GAAEA,GAAE,QAAQ,WAAS,MAAM,KAAK,UAAU,mBAAmB,GAAEA,GAAE,KAAK,WAAS,MAAM,KAAK,UAAU,qBAAqB,GAAE,KAAK,aAAa;AAAA,IAAC;AAAA,IAAC,UAAUA,IAAE;AAAC,UAAIC,KAAE,KAAKD,EAAC,EAAE;AAAE,aAAO,WAASC,GAAE,UAAQA,KAAEA,GAAE,MAAM,KAAK,WAAW,IAAGA;AAAA,IAAC;AAAA,IAAC,iBAAgB;AAAC,iBAAS,KAAK,eAAa,KAAK,aAAW,KAAK,MAAM,UAAU,CAAC;AAAA,IAAE;AAAA,IAAC,iBAAgB;AAAC,UAAG,WAAS,KAAK,YAAW;AAAC,aAAK,eAAe;AAAE,YAAID,KAAE,KAAK,MAAM,UAAU,KAAK,UAAU,GAAEC,KAAE,KAAK,aAAW,IAAE,KAAGD;AAAE,aAAK,aAAW,KAAK,MAAM,UAAUC,EAAC;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,WAAWD,IAAEC,IAAE;AAAC,UAAIC,KAAE,oBAAI;AAAI,aAAO,KAAKD,EAAC,IAAEC,IAAE,KAAK,UAAUF,IAAEC,IAAEC,EAAC,GAAEA;AAAA,IAAC;AAAA,IAAC,MAAM,iBAAgB;AAAC,UAAG,KAAK,KAAK;AAAO,UAAG,EAAC,MAAKF,GAAC,IAAE;AAAK,WAAK,eAAe,GAAE,KAAK,aAAW,KAAGS,GAAE,qBAAqB,GAAE,CAACT,GAAE,WAAS,KAAK,aAAWA,GAAE,cAAYS,GAAE;AAAA,mBAA4D,KAAK,UAAU,sBAAsBT,GAAE,UAAU,EAAE,GAAEA,GAAE,QAAM,MAAMA,GAAE,YAAY,KAAK,YAAWU,GAAE,KAAK,OAAO,CAAC;AAAE,UAAIT,KAAE,KAAK,WAAW,KAAK,YAAW,MAAM;AAAE,aAAO,MAAIA,GAAE,QAAM,KAAK,aAAWA,GAAE,IAAI,KAAK,GAAE,KAAK,gBAAcA,GAAE,IAAI,KAAK,GAAE,KAAK,YAAUA,GAAE,IAAI,KAAK,GAAE,KAAK,MAAIA,GAAE,IAAI,GAAG,GAAE,KAAK,OAAKA,GAAE,IAAI,KAAK,GAAE,KAAK,MAAIA,GAAE,IAAI,KAAK,GAAE,KAAK,QAAQ,aAAWA,GAAE,OAAO,KAAK,GAAEA,GAAE,OAAO,KAAK,GAAEA,GAAE,OAAO,KAAK,GAAEA,GAAE,OAAO,GAAG,GAAEA,GAAE,OAAO,KAAK,GAAEA,GAAE,OAAO,KAAK,IAAGA,MAAG;AAAA,IAAM;AAAA,IAAC,MAAM,iBAAgB;AAAC,UAAG,KAAK,KAAK;AAAO,UAAG,KAAK,QAAM,MAAM,KAAK,eAAe,GAAE,WAAS,KAAK,WAAW;AAAO,WAAK,KAAK,QAAM,MAAM,KAAK,KAAK,YAAY,KAAK,YAAWS,GAAE,KAAK,OAAO,CAAC;AAAE,UAAIV,KAAE,KAAK,WAAW,KAAK,YAAW,MAAM;AAAE,aAAO,KAAK,kBAAgB,KAAK,gBAAcA,GAAE,IAAI,KAAK,IAAG,KAAK,YAAUA,GAAE,IAAI,KAAK,GAAE,KAAK,cAAYA,GAAE,IAAI,KAAK,GAAE,KAAK,QAAQ,aAAWA,GAAE,OAAO,KAAK,GAAEA,GAAE,OAAO,KAAK,GAAEA,GAAE,OAAO,KAAK,IAAG,KAAK,OAAOA,IAAE,KAAK,GAAE,KAAK,OAAOA,IAAE,KAAK,GAAEA;AAAA,IAAC;AAAA,IAAC,OAAOA,IAAEC,IAAE;AAAC,UAAIC,KAAEF,GAAE,IAAIC,EAAC;AAAE,MAAAC,MAAG,MAAIA,GAAE,UAAQF,GAAE,IAAIC,IAAEC,GAAE,CAAC,CAAC;AAAA,IAAC;AAAA,IAAC,MAAM,gBAAe;AAAC,UAAG,KAAK,IAAI;AAAO,UAAG,KAAK,QAAM,MAAM,KAAK,eAAe,GAAE,WAAS,KAAK,UAAU;AAAO,UAAIF,KAAE,KAAK,WAAW,KAAK,WAAU,KAAK;AAAE,aAAOA,MAAGA,GAAE,IAAI,CAAC,KAAGA,GAAE,IAAI,CAAC,MAAIA,GAAE,IAAI,YAAW,GAAG,GAAGA,GAAE,IAAI,CAAC,GAAEA,GAAE,IAAI,CAAC,CAAC,CAAC,GAAEA,GAAE,IAAI,aAAY,GAAG,GAAGA,GAAE,IAAI,CAAC,GAAEA,GAAE,IAAI,CAAC,CAAC,CAAC,IAAGA;AAAA,IAAC;AAAA,IAAC,MAAM,oBAAmB;AAAC,UAAG,CAAC,KAAK,YAAU,KAAK,QAAM,MAAM,KAAK,eAAe,GAAE,WAAS,KAAK,iBAAe,KAAK,QAAM,MAAM,KAAK,eAAe,GAAE,WAAS,KAAK,eAAe,QAAO,KAAK,WAAW,KAAK,eAAc,SAAS;AAAA,IAAC;AAAA,IAAC,MAAM,oBAAoBA,KAAE,OAAG;AAAC,UAAG,CAAC,KAAK,QAAM,CAAC,KAAK,eAAa,CAAC,KAAK,QAAQ,eAAaA,IAAG,QAAO,KAAK,eAAe,GAAE,KAAK,aAAW,MAAI,KAAK,WAAW,KAAK,YAAW,MAAM,GAAE,KAAK,aAAW,OAAI,KAAK;AAAA,IAAI;AAAA,IAAC,MAAM,mBAAkB;AAAC,UAAG,KAAK,gBAAc,KAAK,YAAY,GAAE,KAAK,cAAY,MAAM,KAAK,oBAAoB,IAAE,GAAE,WAAS,KAAK,KAAK;AAAO,UAAIA,KAAE,KAAK,KAAK,IAAI,GAAG,GAAEC,KAAE,KAAK,KAAK,IAAI,GAAG;AAAE,aAAO,KAAK,MAAM,cAAcD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,IAAI,QAAO;AAAC,aAAO,KAAK;AAAA,IAAI;AAAA,IAAC,IAAI,YAAW;AAAC,aAAO,KAAK;AAAA,IAAI;AAAA,IAAC,eAAc;AAAC,UAAID,IAAEC,IAAEC,IAAEC,KAAE,CAAC;AAAE,WAAIF,MAAK+B,GAAE,KAAGhC,KAAE,KAAKC,EAAC,GAAE,CAACO,GAAER,EAAC,EAAE,KAAGE,KAAE,KAAK,eAAa,KAAK,eAAeF,IAAEC,EAAC,IAAE,OAAO,YAAYD,EAAC,GAAE,KAAK,QAAQ,aAAY;AAAC,YAAG,WAASC,GAAE;AAAS,eAAO,OAAOE,IAAED,EAAC;AAAA,MAAC,MAAM,CAAAC,GAAEF,EAAC,IAAEC;AAAE,aAAO,KAAK,cAAYC,GAAE,YAAU,KAAK,YAAW,KAAK,gBAAcA,GAAE,cAAY,KAAK,cAAaA;AAAA,IAAC;AAAA,IAAC,eAAeH,IAAEC,IAAE;AAAC,UAAG,KAAK,cAAc,YAAY,QAAO,OAAOD,IAAEC,EAAC;AAAA,UAAO,UAAO,CAACC,IAAEC,EAAC,KAAI,OAAO,QAAQF,EAAC,EAAE,MAAK,qBAAqBD,IAAEE,IAAEC,EAAC;AAAA,IAAC;AAAA,EAAC;AAAC,WAAS,GAAGH,IAAEC,IAAEC,IAAEC,IAAE;AAAC,QAAIC,KAAEJ,KAAEC,KAAE,KAAGC,KAAE;AAAK,WAAM,QAAMC,MAAG,QAAMA,OAAIC,MAAG,KAAIA;AAAA,EAAC;AAAC,EAAAJ,GAAE,IAAG,QAAO,MAAM,GAAEA,GAAE,IAAG,gBAAe,EAAE,GAAEiB,GAAE,IAAI,QAAO,EAAE;AAAE,MAAI,KAAG,OAAO,OAAO,EAAC,WAAU,MAAK,SAAQ,GAAE,OAAMuB,IAAE,aAAYxB,IAAE,gBAAeC,IAAE,aAAYC,IAAE,SAAQS,IAAE,WAAU,GAAE,aAAYC,IAAE,kBAAiBH,IAAE,kBAAiBC,IAAE,uBAAsBH,IAAE,uBAAsBC,IAAE,cAAaK,IAAE,eAAcC,IAAE,UAASC,IAAE,YAAWC,IAAE,mBAAkBC,IAAE,kBAAiBC,IAAE,cAAa,GAAE,eAAcC,IAAE,SAAQ,GAAE,OAAM,EAAC,CAAC;AAAE,MAAM,KAAG,EAAC,MAAK,OAAG,MAAK,OAAG,MAAK,OAAG,KAAI,OAAG,SAAQ,OAAG,UAAS,OAAG,cAAa,MAAG,eAAc,OAAG,iBAAgB,OAAG,aAAY,MAAE;AAAlI,MAAoI,KAAG,OAAO,OAAO,CAAC,GAAE,IAAG,EAAC,gBAAe,KAAI,KAAI,CAAC,GAAE,GAAE,GAAE,CAAC,EAAC,CAAC;AAA4J,MAAM,KAAG,OAAO,OAAO,CAAC,GAAE,IAAG,EAAC,MAAK,OAAG,MAAK,MAAG,aAAY,MAAE,CAAC;AAAqO,MAAM,KAAG,OAAO,OAAO,CAAC,GAAE,IAAG,EAAC,gBAAe,KAAI,MAAK,CAAC,GAAG,EAAC,CAAC;AAAE,iBAAe,GAAGQ,IAAE;AAAC,QAAIC,KAAE,IAAIC,GAAE,EAAE;AAAE,UAAMD,GAAE,KAAKD,EAAC;AAAE,QAAIG,KAAE,MAAMF,GAAE,MAAM;AAAE,QAAGE,MAAGA,GAAE,KAAK,QAAOA,GAAE,KAAK,GAAG;AAAA,EAAC;AAAC,MAAM,KAAG,OAAO,OAAO,EAAC,GAAE,EAAC,kBAAiB,OAAG,QAAO,GAAE,QAAO,GAAE,KAAI,GAAE,KAAI,EAAC,GAAE,GAAE,EAAC,kBAAiB,OAAG,QAAO,IAAG,QAAO,GAAE,KAAI,GAAE,KAAI,EAAC,GAAE,GAAE,EAAC,kBAAiB,OAAG,QAAO,GAAE,QAAO,GAAE,KAAI,KAAI,KAAI,MAAI,KAAK,KAAG,IAAG,GAAE,GAAE,EAAC,kBAAiB,OAAG,QAAO,IAAG,QAAO,GAAE,KAAI,KAAI,KAAI,MAAI,KAAK,KAAG,IAAG,GAAE,GAAE,EAAC,kBAAiB,MAAG,QAAO,GAAE,QAAO,IAAG,KAAI,IAAG,KAAI,KAAG,KAAK,KAAG,IAAG,GAAE,GAAE,EAAC,kBAAiB,MAAG,QAAO,GAAE,QAAO,GAAE,KAAI,IAAG,KAAI,KAAG,KAAK,KAAG,IAAG,GAAE,GAAE,EAAC,kBAAiB,MAAG,QAAO,GAAE,QAAO,IAAG,KAAI,KAAI,KAAI,MAAI,KAAK,KAAG,IAAG,GAAE,GAAE,EAAC,kBAAiB,MAAG,QAAO,GAAE,QAAO,GAAE,KAAI,KAAI,KAAI,MAAI,KAAK,KAAG,IAAG,EAAC,CAAC;AAAE,MAAI,KAAG;AAAP,MAAU,KAAG;AAAG,MAAG,YAAU,OAAO,WAAU;AAAC,QAAIH,KAAE,UAAU;AAAU,QAAGA,GAAE,SAAS,MAAM,KAAGA,GAAE,SAAS,QAAQ,GAAE;AAAC,UAAIC,KAAED,GAAE,MAAM,gBAAgB;AAAE,UAAGC,IAAE;AAAC,YAAG,CAAC,EAACD,IAAEG,EAAC,IAAEF,IAAEG,KAAE,OAAOJ,EAAC,IAAE,MAAG,OAAOG,EAAC;AAAE,aAAGC,KAAE,MAAK,KAAG;AAAA,MAAE;AAAA,IAAC,WAASJ,GAAE,SAAS,SAAS,GAAE;AAAC,UAAG,CAAC,EAACC,EAAC,IAAED,GAAE,MAAM,kBAAkB;AAAE,WAAG,KAAG,OAAOC,EAAC,IAAE;AAAA,IAAE;AAAC,QAAGD,GAAE,SAAS,SAAS,GAAE;AAAC,UAAG,CAAC,EAACC,EAAC,IAAED,GAAE,MAAM,eAAe;AAAE,WAAG,KAAG,OAAOC,EAAC,IAAE;AAAA,IAAE,WAASD,GAAE,SAAS,UAAU,GAAE;AAAC,UAAG,CAAC,EAACC,EAAC,IAAED,GAAE,MAAM,gBAAgB;AAAE,WAAG,KAAG,OAAOC,EAAC,IAAE;AAAA,IAAE;AAAA,EAAC;AAAC,iBAAe,GAAGD,IAAE;AAAC,QAAIC,KAAE,MAAM,GAAGD,EAAC;AAAE,WAAO,OAAO,OAAO,EAAC,QAAO,IAAG,KAAI,GAAE,GAAE,GAAGC,EAAC,CAAC;AAAA,EAAC;AAAC,MAAM,KAAN,cAAiBI,GAAC;AAAA,IAAC,eAAeJ,IAAE;AAAC,YAAM,GAAGA,EAAC,GAAED,GAAE,MAAK,UAAS,IAAI,IAAE,GAAE,MAAI,KAAK,cAAY,KAAK,OAAO,IAAI,GAAE,KAAK,UAAU;AAAA,IAAC;AAAA,IAAC,WAAWA,IAAEC,IAAEE,IAAE;AAAC,UAAG,MAAIH,MAAG,MAAI,KAAK,cAAYG,IAAE;AAAC,YAAIH,KAAE,IAAI,SAASG,GAAE,UAAQA,IAAEA,GAAE,YAAWA,GAAE,UAAU;AAAE,aAAK,cAAcH,EAAC;AAAA,MAAC,OAAK;AAAC,YAAIG,KAAEH,KAAEC;AAAE,YAAGE,KAAE,KAAK,YAAW;AAAC,cAAG,EAAC,UAASH,GAAC,IAAE,KAAK,QAAQG,EAAC;AAAE,eAAK,cAAcH,EAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAA,IAAC,QAAQA,IAAE;AAAC,UAAIC;AAAE,MAAAA,KAAEK,KAAEC,GAAE,YAAYP,EAAC,IAAE,IAAI,WAAWA,EAAC;AAAE,UAAIG,KAAE,IAAI,SAASF,GAAE,QAAOA,GAAE,YAAWA,GAAE,UAAU;AAAE,aAAOA,GAAE,IAAI,IAAI,WAAW,KAAK,QAAO,KAAK,YAAW,KAAK,UAAU,GAAE,CAAC,GAAE,EAAC,UAASA,IAAE,UAASE,GAAC;AAAA,IAAC;AAAA,IAAC,SAASH,IAAEC,IAAEE,KAAE,OAAG;AAAC,aAAOF,KAAEA,MAAG,KAAK,aAAaD,EAAC,GAAEG,MAAG,KAAK,WAAWH,IAAEC,EAAC,GAAE,KAAK,OAAO,IAAID,IAAEC,EAAC,GAAE,MAAM,SAASD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,IAAID,IAAEC,IAAEE,KAAE,OAAG;AAAC,MAAAA,MAAG,KAAK,WAAWF,IAAED,GAAE,YAAWA,EAAC;AAAE,UAAII,KAAE,MAAM,IAAIJ,IAAEC,EAAC;AAAE,aAAO,KAAK,OAAO,IAAIA,IAAEG,GAAE,UAAU,GAAEA;AAAA,IAAC;AAAA,IAAC,MAAM,YAAYJ,IAAEC,IAAE;AAAC,WAAK,YAAU,KAAK,OAAO,UAAUD,IAAEC,EAAC,KAAG,MAAM,KAAK,UAAUD,IAAEC,EAAC;AAAA,IAAE;AAAA,IAAC,UAAUD,IAAEC,IAAE;AAAC,aAAO,KAAK,OAAO,UAAUD,IAAEC,EAAC;AAAA,IAAC;AAAA,EAAC;AAAC,MAAM,KAAN,MAAQ;AAAA,IAAC,cAAa;AAAC,MAAAD,GAAE,MAAK,QAAO,CAAC,CAAC;AAAA,IAAC;AAAA,IAAC,IAAI,SAAQ;AAAC,aAAO,KAAK,KAAK;AAAA,IAAM;AAAA,IAAC,IAAIA,IAAEC,IAAEE,KAAE,GAAE;AAAC,UAAIC,KAAEJ,KAAEC,IAAEO,KAAE,KAAK,KAAK,OAAQ,CAAAP,OAAG,GAAGD,IAAEC,GAAE,QAAOG,EAAC,KAAG,GAAGJ,IAAEC,GAAE,KAAIG,EAAC,CAAE;AAAE,UAAGI,GAAE,SAAO,GAAE;AAAC,QAAAR,KAAE,KAAK,IAAIA,IAAE,GAAGQ,GAAE,IAAK,CAAAR,OAAGA,GAAE,MAAO,CAAC,GAAEI,KAAE,KAAK,IAAIA,IAAE,GAAGI,GAAE,IAAK,CAAAR,OAAGA,GAAE,GAAI,CAAC,GAAEC,KAAEG,KAAEJ;AAAE,YAAIG,KAAEK,GAAE,MAAM;AAAE,QAAAL,GAAE,SAAOH,IAAEG,GAAE,SAAOF,IAAEE,GAAE,MAAIC,IAAE,KAAK,OAAK,KAAK,KAAK,OAAQ,CAAAJ,OAAG,CAACQ,GAAE,SAASR,EAAC,CAAE;AAAA,MAAC,MAAM,MAAK,KAAK,KAAK,EAAC,QAAOA,IAAE,QAAOC,IAAE,KAAIG,GAAC,CAAC;AAAA,IAAC;AAAA,IAAC,UAAUJ,IAAEC,IAAE;AAAC,UAAIE,KAAEH,KAAEC;AAAE,aAAO,KAAK,KAAK,KAAM,CAAAA,OAAGA,GAAE,UAAQD,MAAGG,MAAGF,GAAE,GAAI;AAAA,IAAC;AAAA,EAAC;AAAC,WAAS,GAAGD,IAAEC,IAAEE,IAAE;AAAC,WAAOH,MAAGC,MAAGA,MAAGE;AAAA,EAAC;AAAC,MAAM,KAAN,cAAiB,GAAE;AAAA,IAAC,YAAYF,IAAEE,IAAE;AAAC,YAAM,CAAC,GAAEH,GAAE,MAAK,cAAa,CAAC,GAAE,KAAK,QAAMC,IAAE,KAAK,UAAQE;AAAA,IAAC;AAAA,IAAC,MAAM,YAAW;AAAC,WAAK,UAAQ,OAAG,MAAM,KAAK,UAAU,KAAK,eAAe;AAAA,IAAC;AAAA,IAAC,MAAM,cAAa;AAAC,WAAK,UAAQ,MAAG,MAAM,KAAK,UAAU,GAAE,KAAK,QAAQ,cAAc;AAAA,IAAC;AAAA,IAAC,MAAM,cAAcH,KAAE,KAAK,iBAAgB;AAAC,UAAG,KAAK,UAAU,QAAO,KAAK,cAAa;AAAG,UAAIC,KAAE,KAAK,QAAQ,WAAUE,KAAE,MAAM,KAAK,UAAUH,IAAEC,EAAC;AAAE,aAAM,CAAC,CAACE,MAAGA,GAAE,eAAaF;AAAA,IAAC;AAAA,IAAC,MAAM,UAAUD,IAAEC,IAAE;AAAC,UAAG,KAAK,cAAa,OAAKA,KAAE,KAAK,gBAAgBD,IAAEC,EAAC,GAAG,QAAO,KAAK,WAAWD,IAAEC,EAAC;AAAA,IAAC;AAAA,IAAC,gBAAgBD,IAAEC,IAAE;AAAC,aAAO,WAAS,KAAK,QAAMD,KAAEC,KAAE,KAAK,OAAK,KAAK,IAAI,GAAE,KAAK,OAAKD,EAAC,IAAEC;AAAA,IAAC;AAAA,IAAC,IAAI,kBAAiB;AAAC,UAAG,MAAI,KAAK,OAAO,KAAK,OAAO,QAAO,KAAK,OAAO,KAAK,CAAC,EAAE;AAAA,IAAM;AAAA,IAAC,IAAI,mBAAkB;AAAC,aAAO,KAAK,aAAW,KAAK,QAAQ;AAAA,IAAU;AAAA,IAAC,IAAI,YAAW;AAAC,aAAO,WAAS,KAAK,QAAM,KAAK,oBAAkB,KAAK;AAAA,IAAI;AAAA,IAAC,OAAM;AAAC,aAAO,KAAK,QAAQ,UAAQ,KAAK,YAAY,IAAE,KAAK,UAAU;AAAA,IAAC;AAAA,IAAC,QAAO;AAAA,IAAC;AAAA,EAAC;AAAC,EAAAQ,GAAE,IAAI,QAAO,cAAc,GAAE;AAAA,IAAC,MAAM,YAAW;AAAC,WAAK,UAAQ;AAAG,UAAIT,KAAE,MAAMU,GAAE,KAAK,KAAK;AAAE,WAAK,iBAAiBV,EAAC;AAAA,IAAC;AAAA,IAAC,cAAa;AAAC,aAAO,KAAK,UAAQ,MAAG,KAAK,OAAK,KAAK,MAAM,MAAK,MAAM,YAAY;AAAA,IAAC;AAAA,IAAC,MAAM,WAAWA,IAAEC,IAAE;AAAC,UAAIE,KAAEF,KAAED,KAAEC,KAAE,QAAOG,KAAE,KAAK,MAAM,MAAMJ,IAAEG,EAAC,GAAEK,KAAE,MAAME,GAAEN,EAAC;AAAE,aAAO,KAAK,IAAII,IAAER,IAAE,IAAE;AAAA,IAAC;AAAA,EAAC,CAAC;;;ACAvu3B,MAAOW,kBAAQ;AAAA,IACb,SAAS;AAAA,MACP,sBAAsB;AAAA,IACxB;AAAA,EACF;;;ACEA,MAAMC,eAAc;AAAA,IAClB,WAAW;AAAA,EACb;AAQA,WAAS,aAAa,QAAQ,MAAM,SAAS;AAC3C,QAAI;AACF,aAAO,WAAW,IAAI,EAAE,aAAa,GAAG,GAAG,GAAG,CAAC;AAAA,IACjD,SAAS,KAAK;AACZ,UAAI,IAAI,SAAS,IAAI;AACnB,eAAO,QAAQ,OAAO,IAAI,MAAM,4DAA4D,CAAC;AAAA,MAC/F;AAAA,IACF;AAEA,QAAI,OAAO,QAAQ;AACjB,aAAO,IAAI,QAAQ,aAAW;AAC5B,eAAO,OAAO,SAAS,MAAM,OAAO;AAAA,MACtC,CAAC,EAAE,KAAK,UAAQ;AACd,YAAI,SAAS,MAAM;AACjB,gBAAM,IAAI,MAAM,4DAA4D;AAAA,QAC9E;AAEA,eAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,WAAO,QAAQ,QAAQ,EAAE,KAAK,MAAM;AAClC,aAAO,cAAc,OAAO,UAAU,MAAM,OAAO,GAAG,CAAC,CAAC;AAAA,IAC1D,CAAC,EAAE,KAAK,UAAQ;AACd,UAAI,SAAS,MAAM;AACjB,cAAM,IAAI,MAAM,iDAAiD;AAAA,MACnE;AAEA,aAAO;AAAA,IACT,CAAC;AAAA,EACH;AAEA,WAAS,YAAY,OAAO,WAAW;AACrC,QAAIC,KAAI,MAAM;AACd,QAAIC,KAAI,MAAM;AAEd,QAAI,UAAU,QAAQ,MAAM,UAAU,QAAQ,KAAK;AACjD,MAAAD,KAAI,MAAM;AACV,MAAAC,KAAI,MAAM;AAAA,IACZ;AAEA,UAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,WAAO,QAAQD;AACf,WAAO,SAASC;AAChB,UAAM,UAAU,OAAO,WAAW,IAAI;AACtC,YAAQ,UAAUD,KAAI,GAAGC,KAAI,CAAC;AAE9B,QAAI,UAAU,QAAQ;AACpB,cAAQ,OAAO,UAAU,GAAG;AAC5B,cAAQ,MAAM,UAAU,QAAQ,UAAU,MAAM;AAAA,IAClD;AAEA,YAAQ,UAAU,OAAO,CAAC,MAAM,QAAQ,GAAG,CAAC,MAAM,SAAS,GAAG,MAAM,OAAO,MAAM,MAAM;AACvF,WAAO;AAAA,EACT;AAOA,WAAS,QAAQ,OAAO;AAEtB,UAAM,QAAQ,MAAM,QAAQ,MAAM;AAClC,UAAM,YAAY;AAElB,UAAM,UAAU;AAEhB,QAAI,OAAO,KAAK,MAAM,KAAK,KAAK,YAAY,KAAK,CAAC;AAClD,QAAI,OAAO,KAAK,MAAM,YAAY,KAAK,KAAK,YAAY,KAAK,CAAC;AAE9D,QAAI,OAAO,SAAS;AAClB,aAAO;AACP,aAAO,KAAK,MAAM,OAAO,KAAK;AAAA,IAChC;AAEA,QAAI,OAAO,SAAS;AAClB,aAAO;AACP,aAAO,KAAK,MAAM,QAAQ,IAAI;AAAA,IAChC;AAEA,QAAI,MAAM,QAAQ,MAAM;AACtB,YAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,aAAO,QAAQ;AACf,aAAO,SAAS;AAChB,aAAO,WAAW,IAAI,EAAE,UAAU,OAAO,GAAG,GAAG,MAAM,IAAI;AACzD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAMA,MAAqB,qBAArB,cAAgD,iBAAS;AAAA,IACvD,YAAY,MAAM,MAAM;AACtB,YAAM,MAAM,IAAI;AAEhB,WAAK,cAAc,UAAQ;AACzB,YAAI,CAAC,KAAK,WAAW,KAAK,QAAQ,mBAAmB,KAAK,IAAI,KAAK,CAAC,KAAK,UAAU;AACjF,eAAK,WAAW,KAAK,EAAE;AAAA,QACzB;AAAA,MACF;AAEA,WAAK,kBAAkB,UAAQ;AAC7B,cAAM,QAAQ,KAAK,MAAM,QAAQ,KAAK,EAAE;AAExC,YAAI,UAAU,IAAI;AAChB,eAAK,MAAM,OAAO,OAAO,CAAC;AAAA,QAC5B;AAAA,MACF;AAEA,WAAK,gBAAgB,UAAQ;AAC3B,cAAM,QAAQ,KAAK,MAAM,QAAQ,KAAK,EAAE;AAExC,YAAI,UAAU,IAAI;AAChB,eAAK,MAAM,OAAO,OAAO,CAAC;AAAA,QAC5B;AAGA,YAAI,KAAK,WAAW,YAAY,KAAK,OAAO,GAAG;AAC7C,cAAI,gBAAgB,KAAK,OAAO;AAAA,QAClC;AAAA,MACF;AAEA,WAAK,aAAa,MAAM;AACtB,cAAM,gBAAgB,KAAK,KAAK,SAAS,EAAE,OAAO,UAAQ,KAAK,UAAU;AACzE,sBAAc,QAAQ,UAAQ;AAE5B,cAAI,CAAC,KAAK,WAAW,YAAY,KAAK,OAAO,GAAG;AAC9C,iBAAK,WAAW,KAAK,EAAE;AAAA,UACzB;AAAA,QACF,CAAC;AAAA,MACH;AAEA,WAAK,oBAAoB,MAAM;AAC7B,aAAK,QAAQ,CAAC;AAAA,MAChB;AAEA,WAAK,wBAAwB,aAAW;AACtC,gBAAQ,QAAQ,YAAU;AACxB,gBAAM,OAAO,KAAK,KAAK,QAAQ,MAAM;AACrC,eAAK,KAAK,KAAK,uBAAuB,MAAM;AAAA,YAC1C,MAAM;AAAA,YACN,SAAS,KAAK,KAAK,sBAAsB;AAAA,UAC3C,CAAC;AAAA,QACH,CAAC;AAED,cAAM,+BAA+B,MAAM;AACzC,kBAAQ,QAAQ,YAAU;AACxB,kBAAM,OAAO,KAAK,KAAK,QAAQ,MAAM;AACrC,iBAAK,KAAK,KAAK,uBAAuB,IAAI;AAAA,UAC5C,CAAC;AAAA,QACH;AAEA,eAAO,IAAI,QAAQ,aAAW;AAC5B,cAAI,KAAK,iBAAiB;AACxB,iBAAK,KAAK,KAAK,2BAA2B,MAAM;AAC9C,2CAA6B;AAC7B,sBAAQ;AAAA,YACV,CAAC;AAAA,UACH,OAAO;AACL,yCAA6B;AAC7B,oBAAQ;AAAA,UACV;AAAA,QACF,CAAC;AAAA,MACH;AAEA,WAAK,OAAO;AACZ,WAAK,KAAK,KAAK,KAAK,MAAM;AAC1B,WAAK,QAAQ;AACb,WAAK,QAAQ,CAAC;AACd,WAAK,kBAAkB;AACvB,WAAK,4BAA4B;AACjC,WAAK,gBAAgB,KAAK,KAAK,iBAAiB;AAChD,WAAK,gBAAgBC;AACrB,YAAMC,kBAAiB;AAAA,QACrB,gBAAgB;AAAA,QAChB,iBAAiB;AAAA,QACjB,+BAA+B;AAAA,QAC/B,MAAM;AAAA,MACR;AACA,WAAK,OAAO;AAAA,QAAE,GAAGA;AAAA,QACf,GAAG;AAAA,MACL;AACA,WAAK,SAAS;AAEd,UAAI,KAAK,KAAK,QAAQ,KAAK,KAAK,+BAA+B;AAC7D,cAAM,IAAI,MAAM,wJAAwJ;AAAA,MAC1K;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWA,gBAAgB,MAAM,aAAa,cAAc;AAC/C,YAAM,cAAc,IAAI,gBAAgB,KAAK,IAAI;AACjD,YAAM,SAAS,IAAI,QAAQ,CAAC,SAAS,WAAW;AAC9C,cAAM,QAAQ,IAAI,MAAM;AACxB,cAAM,MAAM;AACZ,cAAM,iBAAiB,QAAQ,MAAM;AACnC,cAAI,gBAAgB,WAAW;AAC/B,kBAAQ,KAAK;AAAA,QACf,CAAC;AACD,cAAM,iBAAiB,SAAS,WAAS;AACvC,cAAI,gBAAgB,WAAW;AAC/B,iBAAO,MAAM,SAAS,IAAI,MAAM,4BAA4B,CAAC;AAAA,QAC/D,CAAC;AAAA,MACH,CAAC;AACD,YAAM,qBAAqB,GAAS,KAAK,IAAI,EAAE,MAAM,MAAM,CAAC;AAC5D,aAAO,QAAQ,IAAI,CAAC,QAAQ,kBAAkB,CAAC,EAAE,KAAK,UAAQ;AAC5D,YAAI,CAAC,OAAO,WAAW,IAAI;AAC3B,cAAM,aAAa,KAAK,0BAA0B,OAAO,aAAa,cAAc,YAAY,GAAG;AACnG,cAAM,eAAe,YAAY,OAAO,WAAW;AACnD,cAAM,eAAe,KAAK,YAAY,cAAc,WAAW,OAAO,WAAW,MAAM;AACvF,eAAO,aAAa,cAAc,KAAK,eAAe,EAAE;AAAA,MAC1D,CAAC,EAAE,KAAK,UAAQ;AACd,eAAO,IAAI,gBAAgB,IAAI;AAAA,MACjC,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,0BAA0B,KAAK,OAAO,QAAQ,UAAU;AAEtD,UAAI,SAAS,IAAI,QAAQ,IAAI;AAE7B,UAAI,aAAa,MAAM,aAAa,KAAK;AACvC,iBAAS,IAAI,SAAS,IAAI;AAAA,MAC5B;AAEA,UAAI,SAAS,MAAM;AACjB,eAAO;AAAA,UACL;AAAA,UACA,QAAQ,KAAK,MAAM,QAAQ,MAAM;AAAA,QACnC;AAAA,MACF;AAEA,UAAI,UAAU,MAAM;AAClB,eAAO;AAAA,UACL,OAAO,KAAK,MAAM,SAAS,MAAM;AAAA,UACjC;AAAA,QACF;AAAA,MACF;AAEA,aAAO;AAAA,QACL,OAAO,KAAK;AAAA,QACZ,QAAQ,KAAK,MAAM,KAAK,4BAA4B,MAAM;AAAA,MAC5D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,YAAY,OAAO,aAAa,cAAc;AAG5C,UAAI,MAAM,QAAQ,KAAK;AACvB,UAAI,QAAQ,KAAK,KAAK,KAAK,KAAK,IAAI,QAAQ,WAAW,CAAC;AAExD,UAAI,QAAQ,GAAG;AACb,gBAAQ;AAAA,MACV;AAEA,UAAI,KAAK,cAAc,MAAM,QAAQ;AACrC,UAAI,KAAK,eAAe,MAAM,QAAQ;AACtC,YAAMC,KAAI;AAEV,aAAO,SAAS;AACd,cAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,eAAO,QAAQ;AACf,eAAO,SAAS;AAChB,eAAO,WAAW,IAAI,EAAE,UAAU,KAAK,GAAG,GAAG,IAAI,EAAE;AACnD,cAAM;AACN,aAAK,KAAK,MAAM,KAAKA,EAAC;AACtB,aAAK,KAAK,MAAM,KAAKA,EAAC;AAAA,MACxB;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAMA,cAAc,QAAQ,SAAS;AAC7B,WAAK,KAAK,aAAa,QAAQ;AAAA,QAC7B;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,WAAW,MAAM;AACf,WAAK,MAAM,KAAK,IAAI;AAEpB,UAAI,KAAK,oBAAoB,OAAO;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAAA,IAEA,eAAe;AACb,WAAK,kBAAkB;AAEvB,UAAI,KAAK,MAAM,SAAS,GAAG;AACzB,cAAM,UAAU,KAAK,KAAK,QAAQ,KAAK,MAAM,MAAM,CAAC;AAEpD,YAAI,CAAC,SAAS;AACZ,eAAK,KAAK,IAAI,uIAAuI,OAAO;AAC5J,iBAAO,QAAQ,QAAQ;AAAA,QACzB;AAEA,eAAO,KAAK,iBAAiB,OAAO,EAAE,MAAM,MAAM;AAAA,QAAC,CAAC,EACnD,KAAK,MAAM,KAAK,aAAa,CAAC;AAAA,MACjC;AAEA,WAAK,kBAAkB;AACvB,WAAK,KAAK,IAAI,8CAA8C;AAC5D,WAAK,KAAK,KAAK,yBAAyB;AACxC,aAAO,QAAQ,QAAQ;AAAA,IACzB;AAAA,IAEA,iBAAiB,MAAM;AACrB,UAAI,mBAAmB,KAAK,IAAI,KAAK,CAAC,KAAK,UAAU;AACnD,eAAO,KAAK,gBAAgB,MAAM,KAAK,KAAK,gBAAgB,KAAK,KAAK,eAAe,EAAE,KAAK,aAAW;AACrG,eAAK,cAAc,KAAK,IAAI,OAAO;AACnC,eAAK,KAAK,IAAI,gDAAgD,KAAK,EAAE,EAAE;AACvE,eAAK,KAAK,KAAK,uBAAuB,KAAK,KAAK,QAAQ,KAAK,EAAE,GAAG,OAAO;AAAA,QAC3E,CAAC,EAAE,MAAM,SAAO;AACd,eAAK,KAAK,IAAI,6CAA6C,KAAK,EAAE,KAAK,SAAS;AAChF,eAAK,KAAK,IAAI,KAAK,SAAS;AAC5B,eAAK,KAAK,KAAK,mBAAmB,KAAK,KAAK,QAAQ,KAAK,EAAE,GAAG,GAAG;AAAA,QACnE,CAAC;AAAA,MACH;AAEA,aAAO,QAAQ,QAAQ;AAAA,IACzB;AAAA,IAEA,UAAU;AACR,WAAK,KAAK,GAAG,gBAAgB,KAAK,aAAa;AAC/C,WAAK,KAAK,GAAG,cAAc,KAAK,iBAAiB;AAEjD,UAAI,KAAK,KAAK,MAAM;AAClB,aAAK,KAAK,GAAG,qBAAqB,KAAK,WAAW;AAClD,aAAK,KAAK,GAAG,oBAAoB,KAAK,eAAe;AAAA,MACvD,OAAO;AACL,aAAK,KAAK,GAAG,cAAc,KAAK,WAAW;AAC3C,aAAK,KAAK,GAAG,YAAY,KAAK,UAAU;AAAA,MAC1C;AAEA,UAAI,KAAK,KAAK,+BAA+B;AAC3C,aAAK,KAAK,gBAAgB,KAAK,qBAAqB;AAAA,MACtD;AAAA,IACF;AAAA,IAEA,YAAY;AACV,WAAK,KAAK,IAAI,gBAAgB,KAAK,aAAa;AAChD,WAAK,KAAK,IAAI,cAAc,KAAK,iBAAiB;AAElD,UAAI,KAAK,KAAK,MAAM;AAClB,aAAK,KAAK,IAAI,qBAAqB,KAAK,WAAW;AACnD,aAAK,KAAK,IAAI,oBAAoB,KAAK,eAAe;AAAA,MACxD,OAAO;AACL,aAAK,KAAK,IAAI,cAAc,KAAK,WAAW;AAC5C,aAAK,KAAK,IAAI,YAAY,KAAK,UAAU;AAAA,MAC3C;AAEA,UAAI,KAAK,KAAK,+BAA+B;AAC3C,aAAK,KAAK,mBAAmB,KAAK,qBAAqB;AAAA,MACzD;AAAA,IACF;AAAA,EAEF;AACA,qBAAmB,UAAUL,aAAY;;;AC/VlC,MAAM,aAAa;;;AC9CnB,MAAM,cAA6B,OAAA,qBAAA,eAAA;;;ACJnC,MAAM,cAA2D;;;ACsCjE,WAAS,iBAA0B;AAExC,qBAAiB,UAAU;AAC3B,WAAO;EACT;AAGO,WAAS,iBAAiB,SAAiC;AAChE,UAAM,aAAc,QAAQ,aAAa,QAAQ,cAAc,CAAA;AAG/D,eAAW,UAAU,WAAW,WAAW;AAI3C,WAAQ,WAAW,WAAW,IAAI,WAAW,WAAW,KAAK,CAAA;EAC/D;AAaO,WAAS,mBACd,MACA,SACA,MAAM,YAC4B;AAClC,UAAM,aAAc,IAAI,aAAa,IAAI,cAAc,CAAA;AACvD,UAAM,UAAW,WAAW,WAAW,IAAI,WAAW,WAAW,KAAK,CAAA;AAEtE,WAAO,QAAQ,IAAI,MAAM,QAAQ,IAAI,IAAI,QAAO;EAClD;;;ACzEA,MAAM,SAAS;AAER,MAAM,iBAA0C;IACrD;IACA;IACA;IACA;IACA;IACA;IACA;EACF;MAMa,yBAET,CAAA;AAeG,WAAS,eAAkB,UAAsB;AACtD,QAAI,EAAE,aAAa,aAAa;AAC9B,aAAO,SAAQ;IACnB;AAEE,UAAMM,WAAU,WAAW;AAC3B,UAAM,eAA8C,CAAA;AAEpD,UAAM,gBAAgB,OAAO,KAAK,sBAAsB;AAGxD,kBAAc,QAAQ,WAAS;AAC7B,YAAM,wBAAwB,uBAAuB,KAAK;AAC1D,mBAAa,KAAK,IAAIA,SAAQ,KAAK;AACnC,MAAAA,SAAQ,KAAK,IAAI;IACrB,CAAG;AAED,QAAI;AACF,aAAO,SAAQ;IACnB,UAAA;AAEI,oBAAc,QAAQ,WAAS;AAC7B,QAAAA,SAAQ,KAAK,IAAI,aAAa,KAAK;MACzC,CAAK;IACL;EACA;AAEA,WAAS,aAAqB;AAC5B,QAAI,UAAU;AACd,UAAMC,UAA0B;MAC9B,QAAQ,MAAM;AACZ,kBAAU;MAChB;MACI,SAAS,MAAM;AACb,kBAAU;MAChB;MACI,WAAW,MAAM;IACrB;AAEE,QAAI,aAAa;AACf,qBAAe,QAAQ,UAAQ;AAC7B,QAAAA,QAAO,IAAI,IAAI,IAAI,SAA+D;AAChF,cAAI,SAAS;AACX,2BAAe,MAAM;AACnB,yBAAW,QAAQ,IAAI,EAAE,GAAC,MAAA,IAAA,IAAA,MAAA,GAAA,IAAA;YACA,CAAA;UACA;QACA;MACA,CAAA;IACA,OAAA;AACA,qBAAA,QAAA,UAAA;AACA,QAAAA,QAAA,IAAA,IAAA,MAAA;MACA,CAAA;IACA;AAEA,WAAAA;EACA;AAMA,MAAA,SAAA,mBAAA,UAAA,UAAA;;;AChGtC,MAAM,iBAAiB,OAAO,UAAU;AA2BxC,WAAS,UAAU,KAAc,WAA4B;AAC3D,WAAO,eAAe,KAAK,GAAG,MAAM,WAAW,SAAS;EAC1D;AAgFO,WAAS,cAAc,KAA8C;AAC1E,WAAO,UAAU,KAAK,QAAQ;EAChC;AAuCO,WAAS,WAAW,KAAmC;AAE5D,WAAO,QAAQ,KAAK,QAAQ,OAAO,IAAI,SAAS,UAAU;EAC5D;;;AC9GO,WAAS,yBAAyB,KAAa,MAAc,OAAsB;AACxF,QAAI;AACF,aAAO,eAAe,KAAK,MAAM;;QAE/B;QACA,UAAU;QACV,cAAc;MACpB,CAAK;IACL,SAAW,KAAK;AACZ,qBAAe,OAAO,IAAI,0CAA0C,IAAI,eAAe,GAAG;IAC9F;EACA;;;ACzDA,MAAM,mBAAmB;AAoBlB,WAAS,yBAAiC;AAC/C,WAAO,KAAK,IAAG,IAAK;EACtB;AAQA,WAAS,mCAAiD;AACxD,UAAM,EAAE,aAAAC,aAAY,IAAI;AACxB,QAAI,CAACA,cAAa,KAAK;AACrB,aAAO;IACX;AAIE,UAAM,2BAA2B,KAAK,IAAG,IAAKA,aAAY,IAAG;AAC7D,UAAM,aAAaA,aAAY,cAAc,SAAY,2BAA2BA,aAAY;AAWhG,WAAO,MAAM;AACX,cAAQ,aAAaA,aAAY,IAAG,KAAM;IAC9C;EACA;AAWa,MAAA,qBAAqB,iCAAgC;;;AC5C3D,WAAS,QAAgB;AAC9B,UAAM,MAAM;AACZ,UAAM,SAAS,IAAI,UAAU,IAAI;AAEjC,QAAI,gBAAgB,MAAc,KAAK,OAAM,IAAK;AAClD,QAAI;AACF,UAAI,QAAQ,YAAY;AACtB,eAAO,OAAO,WAAU,EAAG,QAAQ,MAAM,EAAE;MACjD;AACI,UAAI,QAAQ,iBAAiB;AAC3B,wBAAgB,MAAM;AAKpB,gBAAM,aAAa,IAAI,WAAW,CAAC;AACnC,iBAAO,gBAAgB,UAAU;AAEjC,iBAAO,WAAW,CAAC;QAC3B;MACA;IACA,SAAWC,IAAG;IAGd;AAIE,YAAS,yBAAgD,MAAM;MAAQ;MAAU,CAAAC;;SAE7EA,MAA4B,cAAa,IAAK,OAASA,KAA0B,GAAK,SAAS,EAAE;;IACvG;EACA;;;ACRO,WAAS,cAAcC,UAAkB,UAA0B,CAAA,GAAU;AAClF,QAAI,QAAQ,MAAM;AAChB,UAAI,CAACA,SAAQ,aAAa,QAAQ,KAAK,YAAY;AACjD,QAAAA,SAAQ,YAAY,QAAQ,KAAK;MACvC;AAEI,UAAI,CAACA,SAAQ,OAAO,CAAC,QAAQ,KAAK;AAChC,QAAAA,SAAQ,MAAM,QAAQ,KAAK,MAAM,QAAQ,KAAK,SAAS,QAAQ,KAAK;MAC1E;IACA;AAEE,IAAAA,SAAQ,YAAY,QAAQ,aAAa,mBAAkB;AAE3D,QAAI,QAAQ,oBAAoB;AAC9B,MAAAA,SAAQ,qBAAqB,QAAQ;IACzC;AAEE,QAAI,QAAQ,gBAAgB;AAC1B,MAAAA,SAAQ,iBAAiB,QAAQ;IACrC;AACE,QAAI,QAAQ,KAAK;AAEf,MAAAA,SAAQ,MAAM,QAAQ,IAAI,WAAW,KAAK,QAAQ,MAAM,MAAK;IACjE;AACE,QAAI,QAAQ,SAAS,QAAW;AAC9B,MAAAA,SAAQ,OAAO,QAAQ;IAC3B;AACE,QAAI,CAACA,SAAQ,OAAO,QAAQ,KAAK;AAC/B,MAAAA,SAAQ,MAAM,GAAC,QAAA,GAAA;IACA;AACA,QAAA,OAAA,QAAA,YAAA,UAAA;AACA,MAAAA,SAAA,UAAA,QAAA;IACA;AACA,QAAAA,SAAA,gBAAA;AACA,MAAAA,SAAA,WAAA;IACA,WAAA,OAAA,QAAA,aAAA,UAAA;AACA,MAAAA,SAAA,WAAA,QAAA;IACA,OAAA;AACA,YAAA,WAAAA,SAAA,YAAAA,SAAA;AACA,MAAAA,SAAA,WAAA,YAAA,IAAA,WAAA;IACA;AACA,QAAA,QAAA,SAAA;AACA,MAAAA,SAAA,UAAA,QAAA;IACA;AACA,QAAA,QAAA,aAAA;AACA,MAAAA,SAAA,cAAA,QAAA;IACA;AACA,QAAA,CAAAA,SAAA,aAAA,QAAA,WAAA;AACA,MAAAA,SAAA,YAAA,QAAA;IACA;AACA,QAAA,CAAAA,SAAA,aAAA,QAAA,WAAA;AACA,MAAAA,SAAA,YAAA,QAAA;IACA;AACA,QAAA,OAAA,QAAA,WAAA,UAAA;AACA,MAAAA,SAAA,SAAA,QAAA;IACA;AACA,QAAA,QAAA,QAAA;AACA,MAAAA,SAAA,SAAA,QAAA;IACA;EACA;;;ACpGZ,WAAS,kBAA0B;AACxC,WAAO,MAAK;EACd;;;ACAO,WAAS,MAAS,YAAe,UAAa,SAAS,GAAM;AAGlE,QAAI,CAAC,YAAY,OAAO,aAAa,YAAY,UAAU,GAAG;AAC5D,aAAO;IACX;AAGE,QAAI,cAAc,OAAO,KAAK,QAAQ,EAAE,WAAW,GAAG;AACpD,aAAO;IACX;AAGE,UAAM,SAAS,EAAE,GAAG,WAAA;AAGpB,eAAW,OAAO,UAAU;AAC1B,UAAI,OAAO,UAAU,eAAe,KAAK,UAAU,GAAG,GAAG;AACvD,eAAO,GAAG,IAAI,MAAM,OAAO,GAAG,GAAG,SAAS,GAAG,GAAG,SAAS,CAAC;MAChE;IACA;AAEE,WAAO;EACT;;;AC1BA,MAAM,mBAAmB;AAUlB,WAAS,iBAAiB,OAAc,MAA8B;AAC3E,QAAI,MAAM;AACR,+BAAyB,OAA6B,kBAAkB,IAAI;IAChF,OAAS;AAEL,aAAQ,MAA6B,gBAAgB;IACzD;EACA;AAMO,WAAS,iBAAiB,OAA6C;AAC5E,WAAO,MAAM,gBAAgB;EAC/B;;;ACIA,MAAM,0BAA0B;AAyDzB,MAAMC,SAAN,MAAM,OAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8DV,cAAc;AACnB,WAAK,sBAAsB;AAC3B,WAAK,kBAAkB,CAAA;AACvB,WAAK,mBAAmB,CAAA;AACxB,WAAK,eAAe,CAAA;AACpB,WAAK,eAAe,CAAA;AACpB,WAAK,QAAQ,CAAA;AACb,WAAK,QAAQ,CAAA;AACb,WAAK,SAAS,CAAA;AACd,WAAK,YAAY,CAAA;AACjB,WAAK,yBAAyB,CAAA;AAC9B,WAAK,sBAAsB;QACzB,SAAS,gBAAe;QACxB,YAAY,KAAK,OAAM;MAC7B;IACA;;;;IAKS,QAAe;AACpB,YAAM,WAAW,IAAI,OAAK;AAC1B,eAAS,eAAe,CAAC,GAAG,KAAK,YAAY;AAC7C,eAAS,QAAQ,EAAE,GAAG,KAAK,MAAA;AAC3B,eAAS,SAAS,EAAE,GAAG,KAAK,OAAA;AAC5B,eAAS,YAAY,EAAE,GAAG,KAAK,UAAA;AAC/B,UAAI,KAAK,UAAU,OAAO;AAGxB,iBAAS,UAAU,QAAQ;UACzB,QAAQ,CAAC,GAAG,KAAK,UAAU,MAAM,MAAM;QAC/C;MACA;AAEI,eAAS,QAAQ,KAAK;AACtB,eAAS,SAAS,KAAK;AACvB,eAAS,WAAW,KAAK;AACzB,eAAS,mBAAmB,KAAK;AACjC,eAAS,eAAe,KAAK;AAC7B,eAAS,mBAAmB,CAAC,GAAG,KAAK,gBAAgB;AACrD,eAAS,eAAe,CAAC,GAAG,KAAK,YAAY;AAC7C,eAAS,yBAAyB,EAAE,GAAG,KAAK,uBAAA;AAC5C,eAAS,sBAAsB,EAAE,GAAG,KAAK,oBAAA;AACzC,eAAS,UAAU,KAAK;AACxB,eAAS,eAAe,KAAK;AAE7B,uBAAiB,UAAU,iBAAiB,IAAI,CAAC;AAEjD,aAAO;IACX;;;;;;IAOS,UAAU,QAAkC;AACjD,WAAK,UAAU;IACnB;;;;;IAMS,eAAeC,cAAuC;AAC3D,WAAK,eAAeA;IACxB;;;;IAKS,YAA6C;AAClD,aAAO,KAAK;IAChB;;;;;IAMS,cAAkC;AACvC,aAAO,KAAK;IAChB;;;;IAKS,iBAAiB,UAAwC;AAC9D,WAAK,gBAAgB,KAAK,QAAQ;IACtC;;;;IAKS,kBAAkB,UAAgC;AACvD,WAAK,iBAAiB,KAAK,QAAQ;AACnC,aAAO;IACX;;;;;IAMS,QAAQ,MAAyB;AAGtC,WAAK,QAAQ,QAAQ;QACnB,OAAO;QACP,IAAI;QACJ,YAAY;QACZ,UAAU;MAChB;AAEI,UAAI,KAAK,UAAU;AACjB,sBAAc,KAAK,UAAU,EAAE,KAAK,CAAC;MAC3C;AAEI,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,UAA4B;AACjC,aAAO,KAAK;IAChB;;;;;IAMS,QAAQ,MAA0C;AACvD,WAAK,QAAQ;QACX,GAAG,KAAK;QACR,GAAG;MACT;AACI,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,OAAO,KAAa,OAAwB;AACjD,WAAK,QAAQ,EAAE,GAAG,KAAK,OAAO,CAAC,GAAG,GAAG,MAAA;AACrC,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;;IAMS,UAAU,QAAsB;AACrC,WAAK,SAAS;QACZ,GAAG,KAAK;QACR,GAAG;MACT;AACI,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,SAAS,KAAa,OAAoB;AAC/C,WAAK,SAAS,EAAE,GAAG,KAAK,QAAQ,CAAC,GAAG,GAAG,MAAA;AACvC,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;;IAMS,eAAe,aAA6B;AACjD,WAAK,eAAe;AACpB,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,SAAS,OAA4B;AAC1C,WAAK,SAAS;AACd,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;;;;;;;;;IAaS,mBAAmB,MAAqB;AAC7C,WAAK,mBAAmB;AACxB,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;;;IAOS,WAAW,KAAa,SAA+B;AAC5D,UAAI,YAAY,MAAM;AAEpB,eAAO,KAAK,UAAU,GAAG;MAC/B,OAAW;AACL,aAAK,UAAU,GAAG,IAAI;MAC5B;AAEI,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,WAAWC,UAAyB;AACzC,UAAI,CAACA,UAAS;AACZ,eAAO,KAAK;MAClB,OAAW;AACL,aAAK,WAAWA;MACtB;AACI,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,aAAkC;AACvC,aAAO,KAAK;IAChB;;;;;;;IAQS,OAAO,gBAAuC;AACnD,UAAI,CAAC,gBAAgB;AACnB,eAAO;MACb;AAEI,YAAM,eAAe,OAAO,mBAAmB,aAAa,eAAe,IAAI,IAAI;AAEnF,YAAM,gBACJ,wBAAwB,SACpB,aAAa,aAAY,IACzB,cAAc,YAAY,IACvB,iBACD;AAER,YAAM,EAAE,MAAM,OAAO,MAAM,UAAU,OAAO,cAAc,CAAA,GAAI,mBAAA,IAAuB,iBAAiB,CAAA;AAEtG,WAAK,QAAQ,EAAE,GAAG,KAAK,OAAO,GAAG,KAAA;AACjC,WAAK,SAAS,EAAE,GAAG,KAAK,QAAQ,GAAG,MAAA;AACnC,WAAK,YAAY,EAAE,GAAG,KAAK,WAAW,GAAG,SAAA;AAEzC,UAAI,QAAQ,OAAO,KAAK,IAAI,EAAE,QAAQ;AACpC,aAAK,QAAQ;MACnB;AAEI,UAAI,OAAO;AACT,aAAK,SAAS;MACpB;AAEI,UAAI,YAAY,QAAQ;AACtB,aAAK,eAAe;MAC1B;AAEI,UAAI,oBAAoB;AACtB,aAAK,sBAAsB;MACjC;AAEI,aAAO;IACX;;;;;IAMS,QAAc;AAEnB,WAAK,eAAe,CAAA;AACpB,WAAK,QAAQ,CAAA;AACb,WAAK,SAAS,CAAA;AACd,WAAK,QAAQ,CAAA;AACb,WAAK,YAAY,CAAA;AACjB,WAAK,SAAS;AACd,WAAK,mBAAmB;AACxB,WAAK,eAAe;AACpB,WAAK,WAAW;AAChB,uBAAiB,MAAM,MAAS;AAChC,WAAK,eAAe,CAAA;AACpB,WAAK,sBAAsB,EAAE,SAAS,gBAAe,GAAI,YAAY,KAAK,OAAM,EAAC,CAAG;AAEpF,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;;IAMS,cAAc,YAAwB,gBAA+B;AAC1E,YAAM,YAAY,OAAO,mBAAmB,WAAW,iBAAiB;AAGxE,UAAI,aAAa,GAAG;AAClB,eAAO;MACb;AAEI,YAAM,mBAAmB;QACvB,WAAW,uBAAsB;QACjC,GAAG;MACT;AAEI,WAAK,aAAa,KAAK,gBAAgB;AACvC,UAAI,KAAK,aAAa,SAAS,WAAW;AACxC,aAAK,eAAe,KAAK,aAAa,MAAM,CAAC,SAAS;AACtD,aAAK,SAAS,mBAAmB,mBAAmB,UAAU;MACpE;AAEI,WAAK,sBAAqB;AAE1B,aAAO;IACX;;;;IAKS,oBAA4C;AACjD,aAAO,KAAK,aAAa,KAAK,aAAa,SAAS,CAAC;IACzD;;;;IAKS,mBAAyB;AAC9B,WAAK,eAAe,CAAA;AACpB,WAAK,sBAAqB;AAC1B,aAAO;IACX;;;;IAKS,cAAc,YAA8B;AACjD,WAAK,aAAa,KAAK,UAAU;AACjC,aAAO;IACX;;;;IAKS,mBAAyB;AAC9B,WAAK,eAAe,CAAA;AACpB,aAAO;IACX;;;;IAKS,eAA0B;AAC/B,aAAO;QACL,aAAa,KAAK;QAClB,aAAa,KAAK;QAClB,UAAU,KAAK;QACf,MAAM,KAAK;QACX,OAAO,KAAK;QACZ,MAAM,KAAK;QACX,OAAO,KAAK;QACZ,aAAa,KAAK,gBAAgB,CAAA;QAClC,iBAAiB,KAAK;QACtB,oBAAoB,KAAK;QACzB,uBAAuB,KAAK;QAC5B,iBAAiB,KAAK;QACtB,MAAM,iBAAiB,IAAI;MACjC;IACA;;;;IAKS,yBAAyB,SAAsC;AACpE,WAAK,yBAAyB,MAAM,KAAK,wBAAwB,SAAS,CAAC;AAC3E,aAAO;IACX;;;;IAKS,sBAAsB,SAAmC;AAC9D,WAAK,sBAAsB;AAC3B,aAAO;IACX;;;;IAKS,wBAA4C;AACjD,aAAO,KAAK;IAChB;;;;;;IAOS,iBAAiB,WAAoB,MAA0B;AACpE,YAAM,UAAU,MAAM,YAAY,MAAK;AAEvC,UAAI,CAAC,KAAK,SAAS;AACjB,eAAO,KAAK,6DAA6D;AACzE,eAAO;MACb;AAEI,YAAM,qBAAqB,IAAI,MAAM,2BAA2B;AAEhE,WAAK,QAAQ;QACX;QACA;UACE,mBAAmB;UACnB;UACA,GAAG;UACH,UAAU;QAClB;QACM;MACN;AAEI,aAAO;IACX;;;;;;IAOS,eAAe,SAAiB,OAAuB,MAA0B;AACtF,YAAM,UAAU,MAAM,YAAY,MAAK;AAEvC,UAAI,CAAC,KAAK,SAAS;AACjB,eAAO,KAAK,2DAA2D;AACvE,eAAO;MACb;AAEI,YAAM,qBAAqB,IAAI,MAAM,OAAO;AAE5C,WAAK,QAAQ;QACX;QACA;QACA;UACE,mBAAmB;UACnB;UACA,GAAG;UACH,UAAU;QAClB;QACM;MACN;AAEI,aAAO;IACX;;;;;;IAOS,aAAa,OAAc,MAA0B;AAC1D,YAAM,UAAU,MAAM,YAAY,MAAK;AAEvC,UAAI,CAAC,KAAK,SAAS;AACjB,eAAO,KAAK,yDAAyD;AACrE,eAAO;MACb;AAEI,WAAK,QAAQ,aAAa,OAAO,EAAE,GAAG,MAAM,UAAU,QAAA,GAAW,IAAI;AAErE,aAAO;IACX;;;;IAKY,wBAA8B;AAItC,UAAI,CAAC,KAAK,qBAAqB;AAC7B,aAAK,sBAAsB;AAC3B,aAAK,gBAAgB,QAAQ,cAAY;AACvC,mBAAS,IAAI;QACrB,CAAO;AACD,aAAK,sBAAsB;MACjC;IACA;EACA;;;AChpBO,WAAS,yBAAgC;AAC9C,WAAO,mBAAmB,uBAAuB,MAAM,IAAIC,OAAK,CAAE;EACpE;AAGO,WAAS,2BAAkC;AAChD,WAAO,mBAAmB,yBAAyB,MAAM,IAAIA,OAAK,CAAE;EACtE;;;ACIO,MAAM,oBAAN,MAAwB;IAItB,YAAY,OAAe,gBAAwB;AACxD,UAAI;AACJ,UAAI,CAAC,OAAO;AACV,wBAAgB,IAAIC,OAAK;MAC/B,OAAW;AACL,wBAAgB;MACtB;AAEI,UAAI;AACJ,UAAI,CAAC,gBAAgB;AACnB,iCAAyB,IAAIA,OAAK;MACxC,OAAW;AACL,iCAAyB;MAC/B;AAGI,WAAK,SAAS,CAAC,EAAE,OAAO,cAAc,CAAC;AACvC,WAAK,kBAAkB;IAC3B;;;;IAKS,UAAa,UAAkC;AACpD,YAAM,QAAQ,KAAK,WAAU;AAE7B,UAAI;AACJ,UAAI;AACF,6BAAqB,SAAS,KAAK;MACzC,SAAaC,IAAG;AACV,aAAK,UAAS;AACd,cAAMA;MACZ;AAEI,UAAI,WAAW,kBAAkB,GAAG;AAElC,eAAO,mBAAmB;UACxB,SAAO;AACL,iBAAK,UAAS;AACd,mBAAO;UACjB;UACQ,CAAAA,OAAK;AACH,iBAAK,UAAS;AACd,kBAAMA;UAChB;QACA;MACA;AAEI,WAAK,UAAS;AACd,aAAO;IACX;;;;IAKS,YAA6C;AAClD,aAAO,KAAK,YAAW,EAAG;IAC9B;;;;IAKS,WAAkB;AACvB,aAAO,KAAK,YAAW,EAAG;IAC9B;;;;IAKS,oBAA2B;AAChC,aAAO,KAAK;IAChB;;;;IAKS,cAAqB;AAC1B,aAAO,KAAK,OAAO,KAAK,OAAO,SAAS,CAAC;IAC7C;;;;IAKU,aAAoB;AAE1B,YAAM,QAAQ,KAAK,SAAQ,EAAG,MAAK;AACnC,WAAK,OAAO,KAAK;QACf,QAAQ,KAAK,UAAS;QACtB;MACN,CAAK;AACD,aAAO;IACX;;;;IAKU,YAAqB;AAC3B,UAAI,KAAK,OAAO,UAAU,EAAG,QAAO;AACpC,aAAO,CAAC,CAAC,KAAK,OAAO,IAAG;IAC5B;EACA;AAMA,WAAS,uBAA0C;AACjD,UAAM,WAAW,eAAc;AAC/B,UAAM,SAAS,iBAAiB,QAAQ;AAExC,WAAQ,OAAO,QAAQ,OAAO,SAAS,IAAI,kBAAkB,uBAAsB,GAAI,yBAAwB,CAAE;EACnH;AAEA,WAAS,UAAa,UAAkC;AACtD,WAAO,qBAAoB,EAAG,UAAU,QAAQ;EAClD;AAEA,WAAS,aAAgB,OAAc,UAAkC;AACvE,UAAM,QAAQ,qBAAoB;AAClC,WAAO,MAAM,UAAU,MAAM;AAC3B,YAAM,YAAW,EAAG,QAAQ;AAC5B,aAAO,SAAS,KAAK;IACzB,CAAG;EACH;AAEA,WAAS,mBAAsB,UAA2C;AACxE,WAAO,qBAAoB,EAAG,UAAU,MAAM;AAC5C,aAAO,SAAS,qBAAoB,EAAG,kBAAiB,CAAE;IAC9D,CAAG;EACH;AAKO,WAAS,+BAAqD;AACnE,WAAO;MACL;MACA;MACA;MACA,uBAAuB,CAAI,iBAAwB,aAA2C;AAC5F,eAAO,mBAAmB,QAAQ;MACxC;MACI,iBAAiB,MAAM,qBAAoB,EAAG,SAAQ;MACtD,mBAAmB,MAAM,qBAAoB,EAAG,kBAAiB;IACrE;EACA;;;AC/IO,WAAS,wBAAwB,SAAwC;AAC9E,UAAM,SAAS,iBAAiB,OAAO;AAEvC,QAAI,OAAO,KAAK;AACd,aAAO,OAAO;IAClB;AAGE,WAAO,6BAA4B;EACrC;;;ACnBO,WAAS,kBAAyB;AACvC,UAAM,UAAU,eAAc;AAC9B,UAAM,MAAM,wBAAwB,OAAO;AAC3C,WAAO,IAAI,gBAAe;EAC5B;;;AC8BO,WAAS,eAAe,SAAiB,gBAAyD;AAGvG,UAAM,QAAQ,OAAO,mBAAmB,WAAW,iBAAiB;AACpE,UAAM,UAAU,OAAO,mBAAmB,WAAW,EAAE,eAAA,IAAmB;AAC1E,WAAO,gBAAe,EAAG,eAAe,SAAS,OAAO,OAAO;EACjE;;;A1FpCA,MAAO,kCAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,mBAAmB,aAAa,qBAAqB,aAAa;AAAA,IAEpF,OAAO,SAAS;AAAA,MACd,WAAW;AAAA,MACX,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,MACpB,YAAY,EAAE,MAAM,QAAQ,SAAS,gBAAgB;AAAA,MACrD,YAAY,EAAE,MAAM,QAAQ,SAAS,GAAG;AAAA,MACxC,eAAe,EAAE,MAAM,QAAQ,SAAS,EAAE;AAAA,MAC1C,aAAa,EAAE,MAAM,QAAQ,SAAS,IAAS;AAAA,MAC/C,UAAU,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,MAC1C,WAAW,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC7C;AAAA,IAEA,UAAU;AACR,UAAI,OAAO,KAAK,QAAQ,QAAQ,MAAM;AACtC,UAAI,kBAAkB,KAAK;AAC3B,UAAI,eAAe;AACnB,UAAI,eAAe;AAEnB,WAAK,gBAAgB,YAAY;AAEjC,WAAK,OAAO,IAAI,aAAK;AAAA,QACnB,aAAa;AAAA,QACb,aAAa;AAAA;AAAA,QACb,cAAc;AAAA,UACZ,aAAa,KAAK;AAAA,UAClB,kBAAkB,KAAK,wBAAwB,UAAU,IAAI,OAAO,KAAK;AAAA,UACzE,kBAAkB,KAAK;AAAA,QACzB;AAAA,MACF,CAAC,EACE,IAAI,UAAU;AAAA,QACb,WAAW,KAAK;AAAA,QAChB,QAAQ,KAAK;AAAA,QACb,MAAM,KAAK;AAAA,QACX,YAAY,CAAC,UAAU;AACrB,eAAK,gBAAgB,UAAU,IAAI,wBAAwB;AAAA,QAC7D;AAAA,QACA,aAAa,CAAC,UAAU;AACtB,eAAK,gBAAgB,UAAU,OAAO,wBAAwB;AAAA,QAChE;AAAA,QACA,QAAQ,CAAC,UAAU;AACjB,eAAK,gBAAgB,UAAU,OAAO,wBAAwB;AAAA,QAChE;AAAA,QACA,QAAQ;AAAA,UACN,SAAS;AAAA,YACP,YAAY;AAAA,UACd;AAAA,QACF;AAAA,MACF,CAAC,EACA,IAAI,UAAU;AAAA,QACb,QAAQ;AAAA,MACV,CAAC,EACA,IAAI,OAAO;AAAA,QACV,cAAc;AAAA,QACd,OAAO;AAAA;AAAA,QACP,SAAS,KAAK;AAAA;AAAA,QACd,oBAAoB,MAAM;AACxB,iBAAO,MAAM,GAAG,eAAe,aAAa,KAAK,IAAI,SAAS,KAAK,IAAI,IAAI;AAAA,YACzE,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,QAAQ;AAAA,cACR,gBAAgB;AAAA,YAClB;AAAA,UACF,CAAC,EACE,KAAK,CAAC,aAAa;AAClB,mBAAO,SAAS,KAAK;AAAA,UACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,mBAAO;AAAA,cACL,QAAQ,KAAK;AAAA,cACb,KAAK,KAAK;AAAA,cACV,QAAQ,KAAK;AAAA,YACf;AAAA,UACF,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,YAAO,eAAe,6DAA6D,EAAE,OAAO,EAAE,KAAU,QAAQ,KAAK,EAAE,CAAC;AAAA,UAC1H,CAAC;AAAA,QACL;AAAA,MACF,CAAC,EACA,IAAI,YAAY;AAAA,QACf,SAAS;AAAA;AAAA,QACT,OAAO;AAAA;AAAA,MACT,CAAC,EACA,IAAI,oBAAoB;AAAA,QACvB,gBAAgB;AAAA,QAChB,iBAAiB;AAAA,MACnB,CAAC,EACA,GAAG,cAAc,CAAC,SAAS;AAE1B,UAAE,QAAQ,EAAE,GAAG,wBAAwB,CAAC,OAAO,iBAAiB;AAE9D,YAAE,QAAQ,EAAE,IAAI,sBAAsB;AAEtC,eAAK,gBAAgB,aAAa,CAAC;AACnC,eAAK,cAAc,cAAc,qBAAqB,EAAE,YAAY,KAAK;AAEzE,cAAI,KAAK,cAAc,UAAU,SAAS,cAAc,GAAG;AAEzD;AAGA,gBAAI,gBAAgB,KAAK,cAAc,cAAc,YAAY;AACjE,gBAAI,iBAAiB,MAAM;AACzB,mBAAK,cAAc,KAAK,KAAK,cAAc,KAAK,MAAM;AACtD,4BAAc,QAAQ,KAAK,cAAc;AAAA,YAC3C;AAAA,UACF;AAAA,QACF,CAAC;AAGD,UAAE,QAAQ,EAAE,GAAG,uBAAuB,CAAC,OAAO,iBAAiB;AAC7D,YAAE,QAAQ,EAAE,IAAI,qBAAqB;AAAA,QACvC,CAAC;AAGD,aAAK,sBAAsB,MAAM;AAAA,MACnC,CAAC,EACA,GAAG,mBAAmB,CAAC,MAAM,aAAa;AACzC,YAAI,mBAAmB,KAAK,MAAO,SAAS,gBAAgB,SAAS,aAAc,GAAG;AACtF,YAAI,gBAAgB,KAAK,cAAc,cAAc,gBAAgB;AAErE,YAAI,iBAAiB,MAAM;AACzB,wBAAc,YAAY,iBAAiB,SAAS,IAAI;AAAA,QAC1D;AAAA,MACF,CAAC,EACA,GAAG,UAAU,CAAC,SAAS;AACtB,aAAK,wBAAwB,UAAU,OAAO,eAAe;AAC7D;AAEA,aAAK,iBAAiB;AAGtB,YAAI,KAAK,iBAAiB,MAAM;AAC9B,eAAK,iBAAiB,6CAA6C,EAAE,QAAQ,CAAC,WAAW;AACvF,mBAAO,WAAW;AAAA,UACpB,CAAC;AAAA,QACH;AAAA,MACF,CAAC,EACA,GAAG,YAAY,CAAC,aAAa;AAC5B,aAAK,kBAAkB,MAAM,QAAQ,SAAS,SAAS,IAAI;AAAA,MAC7D,CAAC,EACA,GAAG,kBAAkB,CAAC,SAAS;AAE9B,YAAI,mBAAmB,KAAK,UAAU;AAAA,UACpC,IAAI,KAAK,KAAK,KAAK,EAAE,MAAM,cAAc,EAAE,CAAC;AAAA;AAAA,UAC5C,SAAS;AAAA,UACT,UAAU;AAAA,YACR,MAAM,KAAK;AAAA,YACX,UAAU,KAAK;AAAA,YACf,WAAW,KAAK;AAAA,UAClB;AAAA,QACF,CAAC;AAED,YAAI,aAAa,KAAK,cAAc,cAAc,yBAAyB;AAG3E,YAAI,WAAY,YAAW,QAAQ;AAGnC,YAAI,kBAAkB,KAAK,cAAc,cAAc,0BAA0B;AACjF,YAAI,gBAAiB,iBAAgB,UAAU,IAAI,eAAe;AAGlE,YAAI,KAAK,iBAAiB,KAAM,MAAK,cAAc,cAAc,yBAAyB,EAAE,MAAM;AAAA,MACpG,CAAC,EACA,GAAG,uBAAuB,CAAC,MAAM,YAAY;AAC5C,YAAI,YAAY,KAAK,cAAc,cAAc,OAAO;AAExD,YAAI,WAAW;AACb,eAAK,cAAc,cAAc,yBAAyB,EAAE,MAAM,kBAAkB,QAAQ,OAAO;AACnG,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF,CAAC,EACA,GAAG,YAAY,MAAM;AACpB,aAAK,wBAAwB,UAAU,IAAI,eAAe;AAC1D;AAEA,aAAK,iBAAiB;AAGtB,YAAI,QAAQ,KAAK,iBAAiB,mEAAmE,EAAE,WAAW,KAAK,gBAAgB,GAAG;AACxI,eAAK,iBAAiB,6CAA6C,EAAE,QAAQ,CAAC,WAAW;AACvF,mBAAO,WAAW;AAAA,UACpB,CAAC;AAAA,QACH;AAAA,MACF,CAAC,EACA,GAAG,SAAS,CAACC,WAAU;AACtB,QAAO,eAAe,oCAAoC,EAAE,OAAO,EAAE,OAAOA,OAAM,EAAE,CAAC;AAAA,MACvF,CAAC,EACA,GAAG,gBAAgB,CAAC,MAAMA,QAAO,aAAa;AAC7C,QAAO,eAAe,2CAA2C,EAAE,OAAO,EAAE,MAAY,OAAOA,QAAO,SAAmB,EAAE,CAAC;AAAA,MAC9H,CAAC;AAEH,UAAI,KAAK,gBAAgB,SAAS,GAAG;AACnC,aAAK,gBAAgB,cAAc,sBAAsB,EAAE,mBAAmB,eAAe,GAAG,KAAK,eAAe,EAAE;AAAA,MACxH;AAGA,QAAE,QAAQ,EAAE,GAAG,wBAAwB,CAAC,OAAO,kBAAkB;AAE/D,YAAI,KAAK,QAAQ,SAAS,cAAc,CAAC,CAAC,GAAG;AAC3C,cAAI,mBAAmB,cAAc,CAAC,EAAE,cAAc,qBAAqB,EAAE;AAG7E,iBAAO,OAAO,KAAK,KAAK,MAAM,MAAM,KAAK,EAAE,QAAQ,CAAC,SAAS;AAC3D,gBAAI,KAAK,QAAQ,kBAAkB;AACjC,mBAAK,KAAK,WAAW,KAAK,EAAE;AAAA,YAC9B;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,aAAa;AACX,WAAK,KAAK,MAAM;AAAA,IAClB;AAAA,EACF;;;A2FzOA;AAAA;AAAA;AAAA;AAYA,MAAO,4BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,aAAa,iBAAiB;AAAA,IAEhD,yBAAyB,QAAQ;AAC/B,aAAO,eAAe;AAAA,IACxB;AAAA,IAEA,+BAA+B,QAAQ;AACrC,aAAO,eAAe;AAAA,QACpB,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;;;ACxBA;AAAA;AAAA;AAAA;AACA,oBAAmB;AAenB,MAAO,6BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,UAAU,OAAO;AAAA,IAEnC,sBAAsB,QAAQ;AAC5B,QAAE,MAAM,EACL,QAAQ;AAAA,QACP,OAAO;AAAA,QACP,aAAa;AAAA,QACb,OAAO;AAAA,QACP,YAAY;AAAA,MACd,CAAC,EACA,GAAG,gBAAgB,MAAM;AACxB,UAAE,iDAAiD,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,MAAM;AAAA,MAC3E,CAAC;AAAA,IACL;AAAA,IAEA,yBAAyB,QAAQ;AAC/B,QAAE,MAAM,EAAE,QAAQ,SAAS;AAAA,IAC7B;AAAA,IAEA,qBAAqB,QAAQ;AAC3B,QAAE,MAAM,EAAE,QAAQ;AAAA,QAChB,OAAO;AAAA,QACP,aAAa;AAAA,QACb,OAAO;AAAA,QACP,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,IAEA,wBAAwB,QAAQ;AAC9B,QAAE,MAAM,EAAE,QAAQ,SAAS;AAAA,IAC7B;AAAA,EACF;;;AChDA;AAAA;AAAA;AAAA;AAeA,MAAO,+BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,eAAe,cAAc,WAAW,eAAe,SAAS,aAAa,UAAU,cAAc,aAAa,OAAO;AAAA,IAE3I,UAAU;AACR,UAAI,KAAK,iBAAiB;AACxB,aAAK,cAAc;AAAA,MACrB;AAEA,UAAI,KAAK,kBAAkB;AACzB,aAAK,gBAAgB;AAAA,MACvB;AAEA,UAAI,KAAK,gBAAgB;AACvB,aAAK,cAAc;AAAA,MACrB;AAEA,UAAI,KAAK,iBAAiB;AACxB,aAAK,eAAe;AAAA,MACtB;AAEA,UAAI,KAAK,gBAAgB;AACvB,aAAK,gBAAgB;AAAA,MACvB;AAAA,IACF;AAAA;AAAA,IAGA,cAAc,OAAO;AACnB,UAAI,WAAW,MAAM,cAAc,QAAQ;AAE3C,YAAM,cAAc,UAAU,IAAI,eAAe;AACjD,WAAK,mBACF,OAAO,CAACC,OAAMA,GAAE,QAAQ,YAAY,QAAQ,EAC5C,QAAQ,CAAC,WAAW;AACnB,eAAO,UAAU,OAAO,eAAe;AAAA,MACzC,CAAC;AAAA,IACL;AAAA;AAAA;AAAA,IAIA,cAAc,OAAO;AACnB,UAAI,WAAW,MAAM,cAAc,QAAQ;AAE3C,UAAI,aAAa,QAAW;AAC1B,aAAK,kBACF,OAAO,CAACA,OAAMA,GAAE,QAAQ,YAAY,QAAQ,EAC5C,QAAQ,CAAC,WAAW;AACnB,iBAAO,UAAU,OAAO,eAAe;AAAA,QACzC,CAAC;AAAA,MACL,OAAO;AACL,aAAK,kBAAkB,QAAQ,CAAC,WAAW;AACzC,iBAAO,UAAU,OAAO,eAAe;AAAA,QACzC,CAAC;AAAA,MACH;AAAA,IACF;AAAA;AAAA,IAGA,kBAAkB;AAChB,UAAI,WAAW,KAAK,cAAc,QAAQ;AAE1C,UAAI,aAAa,QAAW;AAC1B,YAAI,UAAU,KAAK,mBAAmB,OAAO,CAACA,OAAMA,GAAE,QAAQ,YAAY,QAAQ;AAClF,YAAI,KAAK,cAAc,SAAS;AAC9B,kBAAQ,QAAQ,CAAC,WAAW;AAC1B,mBAAO,UAAU,OAAO,eAAe;AAAA,UACzC,CAAC;AAAA,QACH,OAAO;AACL,kBAAQ,QAAQ,CAAC,WAAW;AAC1B,mBAAO,UAAU,IAAI,eAAe;AAAA,UACtC,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,YAAI,KAAK,cAAc,SAAS;AAC9B,eAAK,mBAAmB,QAAQ,CAAC,WAAW;AAC1C,mBAAO,UAAU,OAAO,eAAe;AAAA,UACzC,CAAC;AAAA,QACH,OAAO;AACL,eAAK,mBAAmB,QAAQ,CAAC,WAAW;AAC1C,mBAAO,UAAU,IAAI,eAAe;AAAA,UACtC,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAAA;AAAA,IAGA,gBAAgB;AACd,UAAI,gBAAgB,KAAK,YAAY,cAAc,6BAA6B;AAEhF,UAAI,kBAAkB,MAAM;AAC1B,aAAK,iBAAiB,QAAQ,CAAC,YAAY;AACzC,cAAI,eAAe,QAAQ,QAAQ,QAAQ,MAAM,GAAG;AACpD,cAAI,aAAa,SAAS,cAAc,KAAK,GAAG;AAC9C,oBAAQ,UAAU,OAAO,eAAe;AAAA,UAC1C,OAAO;AACL,oBAAQ,UAAU,IAAI,eAAe;AAAA,UACvC;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA;AAAA,IAGA,iBAAiB;AACf,UAAI,WAAW,KAAK,aAAa,gBAAgB,CAAC,EAAE;AAEpD,WAAK,kBAAkB,QAAQ,CAAC,WAAW;AACzC,YAAI,eAAe,OAAO,QAAQ,QAAQ,MAAM,GAAG;AACnD,YAAI,aAAa,SAAS,QAAQ,GAAG;AACnC,iBAAO,UAAU,OAAO,eAAe;AAAA,QACzC,OAAO;AACL,iBAAO,UAAU,IAAI,eAAe;AAAA,QACtC;AAAA,MACF,CAAC;AAAA,IACH;AAAA;AAAA,IAGA,gBAAgB,OAAO;AACrB,UAAI,cAAc,MAAM,cAAc,QAAQ;AAC9C,UAAI,WAAW,MAAM,cAAc,QAAQ;AAE3C,UAAI,aAAa,QAAW;AAC1B,aAAK,iBACF,OAAO,CAACA,OAAMA,GAAE,QAAQ,YAAY,QAAQ,EAC5C,QAAQ,CAAC,WAAW;AACnB,iBAAO,UAAU,OAAO,GAAG,WAAW,EAAE;AAAA,QAC1C,CAAC;AAAA,MACL,OAAO;AACL,aAAK,iBAAiB,QAAQ,CAAC,WAAW;AACxC,iBAAO,UAAU,OAAO,GAAG,WAAW,EAAE;AAAA,QAC1C,CAAC;AAAA,MACH;AAAA,IACF;AAAA;AAAA;AAAA,IAIA,YAAY,OAAO;AACjB,UAAI,cAAc,MAAM,cAAc,QAAQ;AAC9C,UAAI,WAAW,MAAM,cAAc,QAAQ;AAE3C,WAAK,iBACF,OAAO,CAACA,OAAMA,GAAE,QAAQ,aAAa,QAAQ,EAC7C,QAAQ,CAAC,WAAW;AACnB,eAAO,UAAU,OAAO,WAAW;AAAA,MACrC,CAAC;AAEH,YAAM,cAAc,UAAU,IAAI,WAAW;AAAA,IAC/C;AAAA,IAEA,kBAAkB;AAChB,WAAK,aAAa,QAAQ,CAAC,WAAW;AACpC,mBAAW,MAAM;AACf,iBAAO,UAAU,OAAO,eAAe;AAAA,QACzC,GAAG,OAAO,QAAQ,WAAW,GAAK;AAAA,MACpC,CAAC;AAAA,IACH;AAAA,EACF;;;ACxKA;AAAA;AAAA;AAAA;AAeA,MAAO,mCAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IAEA,OAAO,SAAS;AAAA,MACd,WAAW;AAAA,MACX,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,MACpB,YAAY,EAAE,MAAM,QAAQ,SAAS,gBAAgB;AAAA,MACrD,YAAY,EAAE,MAAM,QAAQ,SAAS,GAAG;AAAA,MACxC,aAAa,EAAE,MAAM,QAAQ,SAAS,IAAS;AAAA,MAC/C,WAAW,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC7C;AAAA,IAEA,UAAU;AACR,UAAI,OAAO,KAAK,QAAQ,QAAQ,MAAM;AACtC,UAAI,kBAAkB,KAAK;AAC3B,UAAI,eAAe;AAEnB,WAAK,gBAAgB,YAAY;AAEjC,WAAK,OAAO,IAAI,aAAK;AAAA,QACnB,aAAa;AAAA,QACb,aAAa;AAAA;AAAA,QACb,cAAc;AAAA,UACZ,aAAa,KAAK;AAAA,UAClB,kBAAkB,KAAK,wBAAwB,UAAU,IAAI,OAAO,KAAK;AAAA,UACzE,kBAAkB;AAAA,QACpB;AAAA,MACF,CAAC,EACE,IAAI,UAAU;AAAA,QACb,WAAW,KAAK;AAAA,QAChB,QAAQ,KAAK;AAAA,QACb,MAAM,KAAK;AAAA,QACX,YAAY,CAAC,UAAU;AACrB,eAAK,gBAAgB,UAAU,IAAI,wBAAwB;AAAA,QAC7D;AAAA,QACA,aAAa,CAAC,UAAU;AACtB,eAAK,gBAAgB,UAAU,OAAO,wBAAwB;AAAA,QAChE;AAAA,QACA,QAAQ,CAAC,UAAU;AACjB,eAAK,gBAAgB,UAAU,OAAO,wBAAwB;AAAA,QAChE;AAAA,QACA,QAAQ;AAAA,UACN,SAAS;AAAA,YACP,YAAY;AAAA,UACd;AAAA,QACF;AAAA,MACF,CAAC,EACA,IAAI,UAAU;AAAA,QACb,QAAQ;AAAA,MACV,CAAC,EACA,IAAI,OAAO;AAAA,QACV,cAAc;AAAA,QACd,OAAO;AAAA;AAAA,QACP,SAAS,KAAK;AAAA;AAAA,QACd,oBAAoB,MAAM;AACxB,iBAAO,MAAM,GAAG,eAAe,aAAa,KAAK,IAAI,SAAS,KAAK,IAAI,IAAI;AAAA,YACzE,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,QAAQ;AAAA,cACR,gBAAgB;AAAA,YAClB;AAAA,UACF,CAAC,EACE,KAAK,CAAC,aAAa;AAClB,mBAAO,SAAS,KAAK;AAAA,UACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,mBAAO;AAAA,cACL,QAAQ,KAAK;AAAA,cACb,KAAK,KAAK;AAAA,cACV,QAAQ,KAAK;AAAA,YACf;AAAA,UACF,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,YAAO,eAAe,8DAA8D,EAAE,OAAO,EAAE,KAAU,QAAQ,KAAK,EAAE,CAAC;AAAA,UAC3H,CAAC;AAAA,QACL;AAAA,MACF,CAAC,EACA,IAAI,YAAY;AAAA,QACf,SAAS;AAAA;AAAA,QACT,OAAO;AAAA;AAAA,MACT,CAAC,EACA,IAAI,oBAAoB;AAAA,QACvB,gBAAgB;AAAA,QAChB,iBAAiB;AAAA,QACjB,eAAe;AAAA,QACf,+BAA+B;AAAA,MACjC,CAAC,EACA,GAAG,uBAAuB,CAAC,MAAM,YAAY;AAC5C,aAAK,cAAc,MAAM,kBAAkB,QAAQ,OAAO;AAAA,MAC5D,CAAC,EACA,GAAG,cAAc,CAAC,SAAS;AAE1B,aAAK,iBAAiB;AAGtB,aAAK,iBAAiB,6CAA6C,EAAE,QAAQ,CAAC,WAAW;AACvF,iBAAO,WAAW;AAAA,QACpB,CAAC;AAGD,aAAK,cAAc,MAAM,kBAAkB;AAC3C,aAAK,gBAAgB,CAAC,EAAE,YAAY,KAAK;AACzC,aAAK,gBAAgB,CAAC,EAAE,YAAY,KAAK;AAAA,MAC3C,CAAC,EACA,GAAG,UAAU,CAAC,SAAS;AACtB,aAAK,wBAAwB,UAAU,OAAO,eAAe;AAAA,MAC/D,CAAC,EACA,GAAG,YAAY,CAAC,aAAa;AAC5B,aAAK,kBAAkB,MAAM,QAAQ,SAAS,SAAS,IAAI;AAAA,MAC7D,CAAC,EACA,GAAG,kBAAkB,CAAC,SAAS;AAE9B,YAAI,mBAAmB,KAAK,UAAU;AAAA,UACpC,IAAI,KAAK,KAAK,KAAK,EAAE,MAAM,cAAc,EAAE,CAAC;AAAA;AAAA,UAC5C,SAAS;AAAA,UACT,UAAU;AAAA,YACR,MAAM,KAAK;AAAA,YACX,UAAU,KAAK;AAAA,YACf,WAAW,KAAK;AAAA,UAClB;AAAA,QACF,CAAC;AAED,YAAI,CAAC,CAAC,cAAc,aAAa,WAAW,EAAE,SAAS,KAAK,IAAI,GAAG;AACjE,eAAK,cAAc,YAAY,KAAK,UAAU,KAAK,IAAI;AAAA,QACzD;AAGA,aAAK,gBAAgB,QAAQ;AAG7B,aAAK,uBAAuB,UAAU,OAAO,eAAe;AAC5D,aAAK,qBAAqB,UAAU,IAAI,eAAe;AAGvD,aAAK,iBAAiB;AAGtB,YAAI,KAAK,iBAAiB,0EAA0E,EAAE,WAAW,GAAG;AAClH,eAAK,iBAAiB,6CAA6C,EAAE,QAAQ,CAAC,WAAW;AACvF,mBAAO,WAAW;AAAA,UACpB,CAAC;AAAA,QACH;AAGA,aAAK,qBAAqB,UAAU,IAAI,eAAe;AACvD,aAAK,kBAAkB,UAAU,OAAO,eAAe;AAGvD,aAAK,QAAQ,UAAU,OAAO,eAAe;AAAA,MAC/C,CAAC,EACA,GAAG,gBAAgB,CAAC,MAAMC,QAAO,aAAa;AAE7C,aAAK,iBAAiB;AAGtB,YAAI,KAAK,iBAAiB,0EAA0E,EAAE,WAAW,GAAG;AAClH,eAAK,iBAAiB,6CAA6C,EAAE,QAAQ,CAAC,WAAW;AACvF,mBAAO,WAAW;AAAA,UACpB,CAAC;AAAA,QACH;AAEA,aAAK,qBAAqB,UAAU,OAAO,eAAe;AAC1D,QAAO,eAAe,qCAAqC,EAAE,OAAO,EAAE,MAAY,OAAOA,QAAO,SAAmB,EAAE,CAAC;AAGtH,aAAK,KAAK,WAAW,KAAK,EAAE;AAAA,MAC9B,CAAC;AAEH,UAAI,KAAK,gBAAgB,SAAS,GAAG;AACnC,aAAK,gBAAgB,cAAc,sBAAsB,EAAE,mBAAmB,eAAe,GAAG,KAAK,eAAe,EAAE;AAAA,MACxH;AAGA,QAAE,QAAQ,EAAE,GAAG,wBAAwB,CAAC,OAAO,kBAAkB;AAE/D,YAAI,KAAK,QAAQ,SAAS,cAAc,CAAC,CAAC,GAAG;AAC3C,cAAI,mBAAmB,cAAc,CAAC,EAAE,cAAc,qBAAqB,EAAE;AAG7E,iBAAO,OAAO,KAAK,KAAK,MAAM,MAAM,KAAK,EAAE,QAAQ,CAAC,SAAS;AAC3D,gBAAI,KAAK,QAAQ,kBAAkB;AACjC,mBAAK,KAAK,WAAW,KAAK,EAAE;AAAA,YAC9B;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,UAAU,WAAW;AACnB,UAAI,UAAU;AAEd,cAAQ,WAAW;AAAA,QACjB,KAAK;AAAA,QACL,KAAK;AACH,qBAAW;AACX;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,qBAAW;AACX;AAAA,QACF,KAAK;AACH,qBAAW;AACX;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,qBAAW;AACX;AAAA,QACF,KAAK;AACH,qBAAW;AACX;AAAA,QACF,KAAK;AACH,qBAAW;AACX;AAAA,QACF;AACE,qBAAW;AACX;AAAA,MACJ;AAEA,aAAQ,WAAW;AAAA,IACrB;AAAA,IAEA,aAAa;AACX,WAAK,KAAK,MAAM;AAAA,IAClB;AAAA;AAAA,IAGA,cAAc;AACZ,WAAK,uBAAuB,UAAU,IAAI,eAAe;AACzD,WAAK,qBAAqB,UAAU,OAAO,eAAe;AAC1D,WAAK,wBAAwB,UAAU,IAAI,eAAe;AAC1D,WAAK,gBAAgB,QAAQ;AAC7B,WAAK,cAAc,YAAY;AAG/B,UAAI,KAAK,KAAK,SAAS,EAAE,SAAS,GAAG;AACnC,aAAK,KAAK,WAAW,KAAK,KAAK,SAAS,EAAE,CAAC,EAAE,EAAE;AAAA,MACjD;AAAA,IACF;AAAA;AAAA,IAGA,sBAAsB,MAAM;AAC1B,UAAI,oBAAoB,KAAK,iBAAiB,yDAAyD;AAEvG,wBAAkB,QAAQ,CAAC,qBAAqB;AAC9C,aAAK,QAAQ,MAAM,kBAAkB;AAAA,UACnC,WAAW;AAAA,UACX,SAAS;AAAA,UACT,WAAW;AAAA,UACX,WAAW;AAAA,UACX,OAAO;AAAA,UACP,OAAO,CAAC,KAAK,EAAE;AAAA,UACf,QAAQ,CAAC,aAAa;AACpB,mBAAO,CAAC,CAAC,iBAAiB,cAAc,sBAAsB,EAAE;AAAA,UAClE;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA,EACF;;;AC9RA;AAAA;AAAA;AAAA;AACA,yBAAsB;AAMtB,MAAO,kCAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU;AAAA,MACf;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,IACF;AAAA,IAEA,wBAAwB,QAAQ;AAC9B,WAAK,QAAQ,MAAM,YAAY,SAAS,IAAK,OAAO,QAAQ,OAAO,QAAQ,OAAO,MAAM,OAAO,OAAQ,GAAG,GAAG;AAAA,IAC/G;AAAA,IAEA,wBAAwB,QAAQ;AAC9B,WAAK,QAAQ,MAAM,YAAY,SAAS,IAAK,OAAO,QAAQ,OAAO,QAAQ,OAAO,MAAM,OAAO,OAAQ,GAAG,GAAG;AAAA,IAC/G;AAAA,IAEA,6BAA6B,QAAQ;AAEnC,aAAO,gBAAY,iBAAAC,SAAU,OAAO,WAAW,KAAK,gBAAgB,SAAS;AAAA,IAC/E;AAAA,IAEA,2BAA2B,QAAQ;AAEjC,aAAO,gBAAY,iBAAAA,SAAU,OAAO,WAAW,KAAK,cAAc,SAAS;AAAA,IAC7E;AAAA;AAAA,IAGA,gBAAgB,OAAO;AAGrB,WAAK,QAAQ,MAAM,YAAY,SAAS,KAAK,uBAAuB,KAAK,CAAC;AAG1E,UAAI,YAAY,WAAW,MAAM,cAAc,KAAK;AACpD,UAAI,WAAW,WAAW,KAAK,eAAe,KAAK;AAGnD,UAAI,aAAa,UAAU;AAEzB,aAAK,eAAe,QAAQ;AAC5B,aAAK,cAAc,YAAY;AAG/B,aAAK,QAAQ,MAAM,YAAY,SAAS,KAAK,uBAAuB,KAAK,CAAC;AAAA,MAC5E;AAGA,WAAK,gBAAgB,YAAY,UAAU,eAAe;AAG1D,UAAI,KAAK,wBAAwB;AAC/B,aAAK,oBAAoB,gBAAY,iBAAAA,SAAU,KAAK,oBAAoB,WAAW,SAAS;AAAA,MAC9F;AAAA,IACF;AAAA;AAAA,IAGA,cAAc,OAAO;AAGnB,WAAK,QAAQ,MAAM,YAAY,SAAS,KAAK,uBAAuB,KAAK,CAAC;AAG1E,UAAI,YAAY,WAAW,MAAM,cAAc,KAAK;AACpD,UAAI,aAAa,WAAW,KAAK,eAAe,KAAK;AAGrD,UAAI,aAAa,YAAY;AAE3B,aAAK,eAAe,QAAQ;AAC5B,aAAK,gBAAgB,YAAY;AAGjC,aAAK,QAAQ,MAAM,YAAY,SAAS,KAAK,uBAAuB,KAAK,CAAC;AAAA,MAC5E;AAGA,WAAK,cAAc,YAAY,UAAU,eAAe;AAGxD,UAAI,KAAK,sBAAsB;AAC7B,aAAK,kBAAkB,gBAAY,iBAAAA,SAAU,KAAK,kBAAkB,WAAW,SAAS;AAAA,MAC1F;AAAA,IACF;AAAA;AAAA,IAGA,uBAAuB,OAAO;AAC5B,aAAO,IAAK,MAAM,cAAc,QAAQ,MAAM,cAAc,QAAQ,MAAM,cAAc,MAAM,MAAM,cAAc,OAAQ,GAAG;AAAA,IAC/H;AAAA,EACF;;;ACjGA;AAAA;AAAA;AAAA;AAEA,MAAO,0BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,UAAU,CAAC,OAAO,MAAM;AAAA;AAAA,IAG/B,YAAY,OAAO;AAEjB,WAAK,WAAW,QAAQ,CAAC,SAAS;AAChC,aAAK,UAAU,OAAO,aAAa;AAAA,MACrC,CAAC;AAED,UAAI,aAAa,KAAK,WAAW,KAAK,CAAC,SAAS;AAC9C,eAAO,KAAK,QAAQ,UAAU,MAAM,cAAc,QAAQ;AAAA,MAC5D,CAAC;AAGD,iBAAW,UAAU,IAAI,aAAa;AAGtC,WAAK,YAAY,QAAQ,CAAC,SAAS;AAEjC,YAAI,WAAW,QAAQ,SAAS,KAAK,IAAI;AACvC,eAAK,UAAU,OAAO,QAAQ;AAAA,QAChC,OAAO;AACL,eAAK,UAAU,IAAI,QAAQ;AAAA,QAC7B;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;;;AC7BA;AAAA;AAAA;AAAA;AACA,gCAA6B;AAK7B,MAAO,8BAAP,cAA6B,WAAW;AAAA,IACtC,UAAU;AACR,WAAK,QAAQ,QAAQ,wBAAAC,QAAiB,UAAU,EAAE,KAAK;AAAA,IACzD;AAAA,EACF;;;ACVA;AAAA;AAAA;AAAA;AAUA,MAAO,2BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,SAAS,EAAE,SAAS,OAAO;AAAA,IAElC,UAAU;AACR,UAAI,KAAK,eAAe,GAAG;AACzB,mBAAW,MAAM;AACf,eAAK,OAAO;AAAA,QACd,GAAG,KAAK,YAAY;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,SAAS;AACP,WAAK,QAAQ,OAAO;AAAA,IACtB;AAAA,EACF;;;ACxBA;AAAA;AAAA;AAAA;AAMA,MAAO,6BAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,SAAS;AAAA,MACd,SAAS;AAAA,MACT,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,IACF;AAAA,IAEA,UAAU;AACR,WAAK,QAAQ,kBAAM,KAAK,SAAS;AAAA,QAC/B,SAAS,KAAK;AAAA,QACd,WAAW,KAAK;AAAA,QAChB,OAAO,CAAC,KAAK,EAAE;AAAA,QACf,WAAW;AAAA,MACb,CAAC;AAAA,IACH;AAAA,IAEA,aAAa;AACX,WAAK,MAAM,QAAQ;AAAA,IACrB;AAAA,EACF;;;AC3BA;AAAA;AAAA;AAAA;AAEA,MAAO,mCAAP,cAA6B,WAAW;AAAA,IACtC,OAAO,SAAS;AAAA,MACd,OAAO;AAAA,MACP,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,YAAY,EAAE,MAAM,QAAQ,SAAS,SAAS;AAAA,IAChD;AAAA,IAEA,UAAU;AACR,WAAK,eAAe;AACpB,WAAK,YAAY;AAAA,IACnB;AAAA,IAEA,iBAAiB;AACf,YAAM,aACJ,KAAK,oBAAoB,WACrB,6FACA,KAAK,oBAAoB,YACvB,uEACA,KAAK,oBAAoB,SACvB,wFACA;AAEV,YAAM,aAAa,oCAAoC,KAAK,QAAQ,QAAQ,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAQjB,KAAK,eAAe,KAAK,UAAU;AAAA;AAAA,2EAEnC,KAAK,UAAU;AAAA,2EACf,KAAK,SAAS;AAAA;AAAA;AAAA;AAAA,kFAIP,KAAK,eAAe,KAAK,KAAK,eAAe;AAAA;AAAA;AAAA;AAAA;AAM3H,eAAS,KAAK,mBAAmB,aAAa,UAAU;AACxD,WAAK,gBAAgB,SAAS,eAAe,wBAAwB,KAAK,QAAQ,QAAQ,YAAY,EAAE;AAExG,WAAK,cAAc,cAAc,0BAA0B,EAAE,iBAAiB,SAAS,CAAC,UAAU;AAChG,aAAK,cAAc,MAAM,QAAQ;AAAA,MACnC,CAAC;AAED,WAAK,cAAc,iBAAiB,SAAS,CAAC,UAAU;AACtD,YAAI,MAAM,QAAQ,UAAU;AAC1B,eAAK,cAAc,MAAM,QAAQ;AAAA,QACnC,WAAW,MAAM,QAAQ,SAAS;AAChC,eAAK,cAAc,cAAc;AACjC,eAAK,cAAc,MAAM,QAAQ;AAAA,QACnC;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,cAAc;AAEZ,YAAM,kBAAkB,MAAM,OAAO,MAAM;AAE3C,YAAM,OAAO,MAAM,UAAU,CAAC,YAAY;AACxC,YAAI,YAAY,KAAK,QAAQ,QAAQ,cAAc;AACjD,eAAK,cAAc,UAAU;AAE7B,iBAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,iBAAK,cAAc;AAAA,cACjB;AAAA,cACA,MAAM;AACJ,wBAAQ,KAAK,cAAc,gBAAgB,SAAS;AAAA,cACtD;AAAA,cACA,EAAE,MAAM,KAAK;AAAA,YACf;AAAA,UACF,CAAC;AAAA,QACH;AAGA,eAAO,kBAAkB,OAAO;AAAA,MAClC;AAEA,WAAK,cAAc,MAAM;AAAA,IAC3B;AAAA,EACF;;;ACtFQ,MAAM,UAAU,CAAC,EAAC,MAAM,QAAQ,QAAQ,yBAAS,UAAU,qBAAoB,GAAE,EAAC,MAAM,cAAc,QAAQ,+BAAS,UAAU,2BAA0B,GAAE,EAAC,MAAM,UAAU,QAAQ,2BAAS,UAAU,uBAAsB,GAAE,EAAC,MAAM,QAAQ,QAAQ,yBAAS,UAAU,qBAAoB,GAAE,EAAC,MAAM,QAAQ,QAAQ,yBAAS,UAAU,qBAAoB,GAAE,EAAC,MAAM,SAAS,QAAQ,0BAAS,UAAU,sBAAqB,GAAE,EAAC,MAAM,gBAAgB,QAAQ,iCAAS,UAAU,6BAA4B,GAAE,EAAC,MAAM,UAAU,QAAQ,2BAAS,UAAU,uBAAsB,GAAE,EAAC,MAAM,WAAW,QAAQ,4BAAS,UAAU,wBAAuB,GAAE,EAAC,MAAM,aAAa,QAAQ,8BAAS,UAAU,0BAAyB,GAAE,EAAC,MAAM,iBAAiB,QAAQ,kCAAU,UAAU,8BAA6B,GAAE,EAAC,MAAM,gBAAgB,QAAQ,iCAAU,UAAU,6BAA4B,GAAE,EAAC,MAAM,QAAQ,QAAQ,yBAAU,UAAU,qBAAoB,GAAE,EAAC,MAAM,YAAY,QAAQ,6BAAU,UAAU,yBAAwB,GAAE,EAAC,MAAM,SAAS,QAAQ,0BAAU,UAAU,sBAAqB,GAAE,EAAC,MAAM,WAAW,QAAQ,4BAAU,UAAU,wBAAuB,GAAE,EAAC,MAAM,iBAAiB,QAAQ,kCAAU,UAAU,8BAA6B,CAAC;AACjtC,MAAO,qBAAQ;;;ACAvB,qBAAY,QAAQ,CAAC,eAAe;AAClC,gBAAY,SAAS,WAAW,MAAM,WAAW,OAAO,OAAO;AAAA,EACjE,CAAC;;;ACLD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAAC;AAAA,IAAA;AAAA;AA4BA,GAAC,SAAU,WAAW;AACpB,QAAI,OAAO,UAAU,iBAAiB,WAAY;AAElD,cAAU,gBAAgB,SAAUC,YAAW;AAC7C,UAAIA,YAAW;AACb,0BAAkBA,YAAW,IAAI;AACjC,QAAAA,WAAU,MAAM;AAAA,MAClB,OAAO;AACL,QAAAA,aAAY,SAAS,cAAc,OAAO;AAC1C,QAAAA,WAAU,OAAO;AACjB,QAAAA,WAAU,SAAS;AACnB,aAAK,YAAYA,UAAS;AAC1B,QAAAA,WAAU,MAAM;AAChB,aAAK,YAAYA,UAAS;AAAA,MAC5B;AAAA,IACF;AAEA,aAAS,kBAAkBA,YAAW,MAAM;AAC1C,MAAAA,sBAAqB,eAAe,MAAM,WAAW,0CAA0C;AAC/F,MAAAA,WAAU,QAAQ,YAAY,MAAM,WAAW,8CAA8C;AAC7F,MAAAA,WAAU,QAAQ,QAChB,MAAM,cAAc,2DAA2D,eAAe;AAAA,IAClG;AAEA,aAAS,MAAM,kBAAkB,SAAS,MAAM;AAC9C,YAAM,IAAI,iBAAiB,6DAA6D,UAAU,KAAK,IAAI;AAAA,IAC7G;AAAA,EACF,GAAG,gBAAgB,SAAS;AAE5B,MAAM,mBAAmB,oBAAI,QAAQ;AAErC,WAAS,6BAA6B,QAAQ;AAC5C,UAAM,UAAU,kBAAkB,UAAU,SAAS,kBAAkB,OAAO,OAAO,gBAAgB;AACrG,UAAM,YAAY,UAAU,QAAQ,QAAQ,eAAe,IAAI;AAC/D,WAAO,WAAW,QAAQ,WAAW,YAAY;AAAA,EACnD;AAEA,WAAS,cAAc,OAAO;AAC5B,UAAMA,aAAY,6BAA6B,MAAM,MAAM;AAE3D,QAAIA,cAAaA,WAAU,MAAM;AAC/B,uBAAiB,IAAIA,WAAU,MAAMA,UAAS;AAAA,IAChD;AAAA,EACF;AAEA,GAAC,WAAY;AACX,QAAI,eAAe,MAAM,UAAW;AAEpC,QAAI,YAAY,OAAO,MAAM;AAI7B,QAAI,iBAAiB,QAAQ;AAC3B,YAAM,yBAAyB,OAAO,YAAY;AAElD,UAAI,iBAAiB,KAAK,UAAU,MAAM,KAAK,EAAE,eAAe,yBAAyB;AACvF,oBAAY;AAAA,MACd,OAAO;AACL;AAAA,MACF;AAAA,IACF;AAEA,qBAAiB,SAAS,eAAe,IAAI;AAE7C,WAAO,eAAe,WAAW,aAAa;AAAA,MAC5C,MAAM;AACJ,YAAI,KAAK,QAAQ,YAAY,KAAK,kBAAkB,iBAAiB;AACnE,iBAAO,iBAAiB,IAAI,KAAK,MAAM;AAAA,QACzC;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH,GAAG;AAEH,MAAM,oBAAoB;AAAA,IACxB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AAkBA,MAAM,eAAN,MAAM,sBAAqB,YAAY;AAAA,IACrC,OAAO,sBAAsB;AAAA,IAE7B,SAAS,QAAQ,QAAQ;AAAA,IAEzB,WAAW,qBAAqB;AAC9B,aAAO,CAAC,YAAY,WAAW,KAAK;AAAA,IACtC;AAAA,IAEA,cAAc;AACZ,YAAM;AACN,WAAK,WAAW,IAAI,cAAa,oBAAoB,IAAI;AAAA,IAC3D;AAAA,IAEA,oBAAoB;AAClB,WAAK,SAAS,QAAQ;AAAA,IACxB;AAAA,IAEA,uBAAuB;AACrB,WAAK,SAAS,WAAW;AAAA,IAC3B;AAAA,IAEA,SAAS;AACP,aAAO,KAAK,SAAS,kBAAkB;AAAA,IACzC;AAAA,IAEA,yBAAyB,MAAM;AAC7B,UAAI,QAAQ,WAAW;AACrB,aAAK,SAAS,oBAAoB;AAAA,MACpC,WAAW,QAAQ,OAAO;AACxB,aAAK,SAAS,iBAAiB;AAAA,MACjC,WAAW,QAAQ,YAAY;AAC7B,aAAK,SAAS,gBAAgB;AAAA,MAChC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,MAAM;AACR,aAAO,KAAK,aAAa,KAAK;AAAA,IAChC;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,IAAI,OAAO;AACb,UAAI,OAAO;AACT,aAAK,aAAa,OAAO,KAAK;AAAA,MAChC,OAAO;AACL,aAAK,gBAAgB,KAAK;AAAA,MAC5B;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,UAAU;AACZ,aAAO,KAAK,aAAa,SAAS;AAAA,IACpC;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,QAAQ,OAAO;AACjB,UAAI,OAAO;AACT,aAAK,aAAa,WAAW,KAAK;AAAA,MACpC,OAAO;AACL,aAAK,gBAAgB,SAAS;AAAA,MAChC;AAAA,IACF;AAAA,IAEA,IAAI,wBAAwB;AAC1B,aAAO,KAAK,OAAO,KAAK,YAAY;AAAA,IACtC;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,UAAU;AACZ,aAAO,4BAA4B,KAAK,aAAa,SAAS,KAAK,EAAE;AAAA,IACvE;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,QAAQ,OAAO;AACjB,UAAI,OAAO;AACT,aAAK,aAAa,WAAW,KAAK;AAAA,MACpC,OAAO;AACL,aAAK,gBAAgB,SAAS;AAAA,MAChC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,WAAW;AACb,aAAO,KAAK,aAAa,UAAU;AAAA,IACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,SAAS,OAAO;AAClB,UAAI,OAAO;AACT,aAAK,aAAa,YAAY,EAAE;AAAA,MAClC,OAAO;AACL,aAAK,gBAAgB,UAAU;AAAA,MACjC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,aAAa;AACf,aAAO,KAAK,aAAa,YAAY;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,WAAW,OAAO;AACpB,UAAI,OAAO;AACT,aAAK,aAAa,cAAc,EAAE;AAAA,MACpC,OAAO;AACL,aAAK,gBAAgB,YAAY;AAAA,MACnC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,WAAW;AACb,aAAO,CAAC,KAAK,SAAS;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,WAAW;AACb,aAAO,KAAK,kBAAkB,YAAY,CAAC,KAAK;AAAA,IAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,YAAY;AACd,aAAO,KAAK,eAAe,iBAAiB,aAAa,oBAAoB;AAAA,IAC/E;AAAA,EACF;AAEA,WAAS,4BAA4B,OAAO;AAC1C,YAAQ,MAAM,YAAY,GAAG;AAAA,MAC3B,KAAK;AACH,eAAO,kBAAkB;AAAA,MAC3B;AACE,eAAO,kBAAkB;AAAA,IAC7B;AAAA,EACF;AAEA,MAAM,QAAQ;AAAA,IACZ,SAAS;AAAA,IACT,kBAAkB;AAAA,IAClB,uBAAuB,oBAAI;AAAA,MACzB;AAAA,QACE;AAAA,QAAO;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAC/E;AAAA,QAAS;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAO;AAAA,QAAS;AAAA,QAAS;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAS;AAAA,QAC3E;AAAA,QAAO;AAAA,QAAS;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAS;AAAA,QAAQ;AAAA,QACzE;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAS;AAAA,QAAQ;AAAA,QACjE;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAS;AAAA,QAAQ;AAAA,QAAQ;AAAA,QAAS;AAAA,QAAS;AAAA,QAAQ;AAAA,QAC3E;AAAA,QAAQ;AAAA,QAAS;AAAA,QAAQ;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AAEA,WAAS,sBAAsB,SAAS;AACtC,QAAI,QAAQ,aAAa,iBAAiB,KAAK,SAAS;AACtD,aAAO;AAAA,IACT,OAAO;AACL,YAAM,uBAAuB,SAAS,cAAc,QAAQ;AAC5D,YAAM,WAAW,YAAY;AAC7B,UAAI,UAAU;AACZ,6BAAqB,QAAQ;AAAA,MAC/B;AACA,2BAAqB,cAAc,QAAQ;AAC3C,2BAAqB,QAAQ;AAC7B,4BAAsB,sBAAsB,OAAO;AACnD,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,sBAAsB,oBAAoB,eAAe;AAChE,eAAW,EAAE,MAAM,MAAM,KAAK,cAAc,YAAY;AACtD,yBAAmB,aAAa,MAAM,KAAK;AAAA,IAC7C;AAAA,EACF;AAEA,WAAS,uBAAuB,MAAM;AACpC,UAAM,WAAW,SAAS,cAAc,UAAU;AAClD,aAAS,YAAY;AACrB,WAAO,SAAS;AAAA,EAClB;AAEA,WAAS,SAAS,WAAW,EAAE,QAAQ,YAAY,OAAO,IAAI,CAAC,GAAG;AAChE,UAAM,QAAQ,IAAI,YAAY,WAAW;AAAA,MACvC;AAAA,MACA,SAAS;AAAA,MACT,UAAU;AAAA,MACV;AAAA,IACF,CAAC;AAED,QAAI,UAAU,OAAO,aAAa;AAChC,aAAO,cAAc,KAAK;AAAA,IAC5B,OAAO;AACL,eAAS,gBAAgB,cAAc,KAAK;AAAA,IAC9C;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,YAAY,OAAO;AAC1B,UAAM,eAAe;AACrB,UAAM,yBAAyB;AAAA,EACjC;AAEA,WAAS,cAAc;AACrB,QAAI,SAAS,oBAAoB,UAAU;AACzC,aAAO,kBAAkB;AAAA,IAC3B,OAAO;AACL,aAAO,mBAAmB;AAAA,IAC5B;AAAA,EACF;AAEA,WAAS,qBAAqB;AAC5B,WAAO,IAAI,QAAQ,CAAC,YAAY,sBAAsB,MAAM,QAAQ,CAAC,CAAC;AAAA,EACxE;AAEA,WAAS,oBAAoB;AAC3B,WAAO,IAAI,QAAQ,CAAC,YAAY,WAAW,MAAM,QAAQ,GAAG,CAAC,CAAC;AAAA,EAChE;AAEA,WAAS,gBAAgB;AACvB,WAAO,QAAQ,QAAQ;AAAA,EACzB;AAEA,WAAS,kBAAkB,OAAO,IAAI;AACpC,WAAO,IAAI,UAAU,EAAE,gBAAgB,MAAM,WAAW;AAAA,EAC1D;AAEA,WAAS,SAAS,YAAY,QAAQ;AACpC,UAAM,QAAQC,aAAY,SAAS,MAAM,EAAE,QAAQ,OAAO,EAAE,EAAE,MAAM,IAAI;AACxE,UAAMC,SAAQ,MAAM,CAAC,EAAE,MAAM,MAAM;AACnC,UAAM,SAASA,SAAQA,OAAM,CAAC,EAAE,SAAS;AACzC,WAAO,MAAM,IAAI,CAAC,SAAS,KAAK,MAAM,MAAM,CAAC,EAAE,KAAK,IAAI;AAAA,EAC1D;AAEA,WAASD,aAAY,SAAS,QAAQ;AACpC,WAAO,QAAQ,OAAO,CAAC,QAAQ,QAAQE,OAAM;AAC3C,YAAM,QAAQ,OAAOA,EAAC,KAAK,SAAY,KAAK,OAAOA,EAAC;AACpD,aAAO,SAAS,SAAS;AAAA,IAC3B,GAAG,EAAE;AAAA,EACP;AAEA,WAAS,OAAO;AACd,WAAO,MAAM,KAAK,EAAE,QAAQ,GAAG,CAAC,EAC7B,IAAI,CAACC,IAAGD,OAAM;AACb,UAAIA,MAAK,KAAKA,MAAK,MAAMA,MAAK,MAAMA,MAAK,IAAI;AAC3C,eAAO;AAAA,MACT,WAAWA,MAAK,IAAI;AAClB,eAAO;AAAA,MACT,WAAWA,MAAK,IAAI;AAClB,gBAAQ,KAAK,MAAM,KAAK,OAAO,IAAI,CAAC,IAAI,GAAG,SAAS,EAAE;AAAA,MACxD,OAAO;AACL,eAAO,KAAK,MAAM,KAAK,OAAO,IAAI,EAAE,EAAE,SAAS,EAAE;AAAA,MACnD;AAAA,IACF,CAAC,EACA,KAAK,EAAE;AAAA,EACZ;AAEA,WAAS,aAAa,kBAAkB,UAAU;AAChD,eAAW,SAAS,SAAS,IAAI,CAAC,YAAY,SAAS,aAAa,aAAa,CAAC,GAAG;AACnF,UAAI,OAAO,SAAS,SAAU,QAAO;AAAA,IACvC;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,aAAa,kBAAkB,UAAU;AAChD,WAAO,SAAS,KAAK,CAAC,YAAY,WAAW,QAAQ,aAAa,aAAa,CAAC;AAAA,EAClF;AAEA,WAAS,cAAc,UAAU;AAC/B,eAAW,WAAW,UAAU;AAC9B,UAAI,QAAQ,aAAa,eAAe;AACtC,gBAAQ,aAAa,QAAQ,EAAE;AAAA,MACjC;AACA,cAAQ,aAAa,aAAa,MAAM;AAAA,IAC1C;AAAA,EACF;AAEA,WAAS,kBAAkB,UAAU;AACnC,eAAW,WAAW,UAAU;AAC9B,UAAI,QAAQ,aAAa,eAAe;AACtC,gBAAQ,gBAAgB,MAAM;AAAA,MAChC;AAEA,cAAQ,gBAAgB,WAAW;AAAA,IACrC;AAAA,EACF;AAEA,WAAS,YAAY,SAAS,wBAAwB,KAAM;AAC1D,WAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,YAAM,aAAa,MAAM;AACvB,gBAAQ,oBAAoB,SAAS,UAAU;AAC/C,gBAAQ,oBAAoB,QAAQ,UAAU;AAC9C,gBAAQ;AAAA,MACV;AAEA,cAAQ,iBAAiB,QAAQ,YAAY,EAAE,MAAM,KAAK,CAAC;AAC3D,cAAQ,iBAAiB,SAAS,YAAY,EAAE,MAAM,KAAK,CAAC;AAC5D,iBAAW,SAAS,qBAAqB;AAAA,IAC3C,CAAC;AAAA,EACH;AAEA,WAAS,0BAA0B,QAAQ;AACzC,YAAQ,QAAQ;AAAA,MACd,KAAK;AACH,eAAO,QAAQ;AAAA,MACjB,KAAK;AAAA,MACL,KAAK;AACH,eAAO,QAAQ;AAAA,IACnB;AAAA,EACF;AAEA,WAAS,SAAS,QAAQ;AACxB,WAAO,UAAU,aAAa,UAAU,aAAa,UAAU;AAAA,EACjE;AAEA,WAAS,kBAAkB,UAAU;AACnC,UAAM,SAAS,aAAa,qBAAqB,GAAG,QAAQ;AAE5D,WAAO,SAAS,MAAM,IAAI,SAAS;AAAA,EACrC;AAEA,WAAS,eAAe,MAAM;AAC5B,WAAO,SAAS,cAAc,cAAc,IAAI,IAAI;AAAA,EACtD;AAEA,WAAS,eAAe,MAAM;AAC5B,UAAM,UAAU,eAAe,IAAI;AACnC,WAAO,WAAW,QAAQ;AAAA,EAC5B;AAEA,WAAS,cAAc;AACrB,UAAM,UAAU,eAAe,WAAW;AAE1C,QAAI,SAAS;AACX,YAAM,EAAE,OAAO,QAAQ,IAAI;AAC3B,aAAO,SAAS,KAAK,UAAU;AAAA,IACjC;AAAA,EACF;AAEA,WAAS,eAAe,MAAM,SAAS;AACrC,QAAI,UAAU,eAAe,IAAI;AAEjC,QAAI,CAAC,SAAS;AACZ,gBAAU,SAAS,cAAc,MAAM;AACvC,cAAQ,aAAa,QAAQ,IAAI;AAEjC,eAAS,KAAK,YAAY,OAAO;AAAA,IACnC;AAEA,YAAQ,aAAa,WAAW,OAAO;AAEvC,WAAO;AAAA,EACT;AAEA,WAAS,uBAAuB,SAAS,UAAU;AACjD,QAAI,mBAAmB,SAAS;AAC9B,aACE,QAAQ,QAAQ,QAAQ,KAAK,uBAAuB,QAAQ,gBAAgB,QAAQ,YAAY,GAAG,MAAM,QAAQ;AAAA,IAErH;AAAA,EACF;AAEA,WAAS,mBAAmB,SAAS;AACnC,UAAM,wBAAwB;AAE9B,WAAO,CAAC,CAAC,WAAW,QAAQ,QAAQ,qBAAqB,KAAK,QAAQ,OAAO,QAAQ,SAAS;AAAA,EAChG;AAEA,WAAS,0BAA0B,2BAA2B;AAC5D,WAAO,MAAM,KAAK,0BAA0B,iBAAiB,aAAa,CAAC,EAAE,KAAK,kBAAkB;AAAA,EACtG;AAEA,iBAAe,OAAO,UAAU,QAAQ;AACtC,UAAM,SAAS,OAAO;AAEtB,aAAS;AAET,UAAM,mBAAmB;AAEzB,UAAM,QAAQ,OAAO;AAErB,WAAO,CAAC,QAAQ,KAAK;AAAA,EACvB;AAEA,WAAS,oBAAoB,MAAM;AACjC,QAAI,SAAS,UAAU;AACrB,aAAO;AAAA,IACT,WAAW,MAAM;AACf,iBAAW,WAAW,SAAS,kBAAkB,IAAI,GAAG;AACtD,YAAI,mBAAmB,kBAAmB,QAAO;AAAA,MACnD;AAEA,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,wBAAwB,QAAQ;AACvC,WAAO,uBAAuB,QAAQ,0CAA0C;AAAA,EAClF;AAEA,WAAS,mBAAmB,MAAM;AAChC,WAAO,UAAU,KAAK,aAAa,MAAM,KAAK,EAAE;AAAA,EAClD;AAEA,WAASE,UAASC,KAAI,OAAO;AAC3B,QAAI,YAAY;AAEhB,WAAO,IAAI,SAAS;AAClB,YAAM,WAAW,MAAMA,IAAG,MAAM,MAAM,IAAI;AAC1C,mBAAa,SAAS;AACtB,kBAAY,WAAW,UAAU,KAAK;AAAA,IACxC;AAAA,EACF;AAEA,MAAM,YAAY;AAAA,IAChB,iBAAiB;AAAA,MACf,cAAc,CAAAN,eAAa;AACzB,QAAAA,WAAU,aAAa,iBAAiB,MAAM;AAC9C,QAAAA,WAAU,iBAAiB,SAAS,WAAW;AAAA,MACjD;AAAA,MAEA,aAAa,CAAAA,eAAa;AACxB,QAAAA,WAAU,gBAAgB,eAAe;AACzC,QAAAA,WAAU,oBAAoB,SAAS,WAAW;AAAA,MACpD;AAAA,IACF;AAAA,IAEA,YAAY;AAAA,MACV,cAAc,CAAAA,eAAaA,WAAU,WAAW;AAAA,MAChD,aAAa,CAAAA,eAAaA,WAAU,WAAW;AAAA,IACjD;AAAA,EACF;AAEA,MAAM,SAAN,MAAa;AAAA,IACX,aAAa;AAAA,IAEb,YAAYO,SAAQ;AAClB,aAAO,OAAO,MAAMA,OAAM;AAAA,IAC5B;AAAA,IAEA,IAAI,YAAY;AACd,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,IAAI,UAAU,OAAO;AACnB,WAAK,aAAa,UAAU,KAAK,KAAK;AAAA,IACxC;AAAA,EACF;AAEA,MAAM,QAAQ,IAAI,OAAO;AAAA,IACvB,MAAM;AAAA,IACN,WAAW;AAAA,EACb,CAAC;AAED,MAAM,SAAS;AAAA,IACb;AAAA,IACA;AAAA,EACF;AAEA,WAAS,UAAU,WAAW;AAC5B,WAAO,IAAI,IAAI,UAAU,SAAS,GAAG,SAAS,OAAO;AAAA,EACvD;AAEA,WAAS,UAAU,KAAK;AACtB,QAAI;AACJ,QAAI,IAAI,MAAM;AACZ,aAAO,IAAI,KAAK,MAAM,CAAC;AAAA,IAEzB,WAAY,cAAc,IAAI,KAAK,MAAM,QAAQ,GAAI;AACnD,aAAO,YAAY,CAAC;AAAA,IACtB;AAAA,EACF;AAEA,WAAS,YAAY,MAAMP,YAAW;AACpC,UAAM,SAASA,YAAW,aAAa,YAAY,KAAK,KAAK,aAAa,QAAQ,KAAK,KAAK;AAE5F,WAAO,UAAU,MAAM;AAAA,EACzB;AAEA,WAAS,aAAa,KAAK;AACzB,YAAQ,qBAAqB,GAAG,EAAE,MAAM,UAAU,KAAK,CAAC,GAAG,CAAC,KAAK;AAAA,EACnE;AAEA,WAAS,aAAa,SAAS,KAAK;AAClC,UAAM,SAAS,UAAU,GAAG;AAC5B,WAAO,QAAQ,SAAS,UAAU,MAAM,EAAE,QAAQ,QAAQ,KAAK,WAAW,MAAM;AAAA,EAClF;AAEA,WAAS,oBAAoBQ,WAAU,cAAc;AACnD,WAAO,aAAaA,WAAU,YAAY,KAAK,CAAC,OAAO,MAAM,sBAAsB,IAAI,aAAaA,SAAQ,CAAC;AAAA,EAC/G;AAEA,WAAS,cAAc,KAAK;AAC1B,UAAM,SAAS,UAAU,GAAG;AAC5B,WAAO,UAAU,OAAO,IAAI,KAAK,MAAM,GAAG,EAAE,OAAO,SAAS,EAAE,IAAI,IAAI;AAAA,EACxE;AAEA,WAAS,WAAW,KAAK;AACvB,WAAO,cAAc,GAAG;AAAA,EAC1B;AAEA,WAAS,aAAaC,OAAMC,QAAO;AACjC,WAAO,UAAUD,KAAI,EAAE,QAAQ,UAAUC,MAAK,EAAE;AAAA,EAClD;AAEA,WAAS,kBAAkB,KAAK;AAC9B,WAAO,IAAI,SAAS,MAAM,GAAG,EAAE,MAAM,CAAC;AAAA,EACxC;AAEA,WAAS,qBAAqB,KAAK;AACjC,WAAO,kBAAkB,GAAG,EAAE,MAAM,EAAE,EAAE,CAAC;AAAA,EAC3C;AAEA,WAAS,UAAU,KAAK;AACtB,WAAO,iBAAiB,IAAI,SAAS,IAAI,QAAQ;AAAA,EACnD;AAEA,WAAS,iBAAiB,OAAO;AAC/B,WAAO,MAAM,SAAS,GAAG,IAAI,QAAQ,QAAQ;AAAA,EAC/C;AAEA,MAAM,gBAAN,MAAoB;AAAA,IAClB,YAAY,UAAU;AACpB,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,IAAI,YAAY;AACd,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,CAAC,KAAK;AAAA,IACf;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,cAAc,OAAO,KAAK,cAAc;AAAA,IACtD;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,cAAc,OAAO,KAAK,cAAc;AAAA,IACtD;AAAA,IAEA,IAAI,aAAa;AACf,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,UAAU,KAAK,SAAS,GAAG;AAAA,IACpC;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK,eAAe,KAAK,YAAY,MAAM,wDAAwD;AAAA,IAC5G;AAAA,IAEA,IAAI,aAAa;AACf,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,OAAO,cAAc;AAAA,IACnC;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO,KAAK,SAAS,MAAM,EAAE,KAAK;AAAA,IACpC;AAAA,IAEA,IAAI,eAAe;AACjB,UAAI,KAAK,QAAQ;AACf,eAAO,KAAK,SAAS,MAAM,EAAE,KAAK;AAAA,MACpC,OAAO;AACL,eAAO,QAAQ,QAAQ,MAAS;AAAA,MAClC;AAAA,IACF;AAAA,IAEA,OAAO,MAAM;AACX,aAAO,KAAK,SAAS,QAAQ,IAAI,IAAI;AAAA,IACvC;AAAA,EACF;AAEA,MAAM,aAAN,cAAyB,IAAI;AAAA,IAC3B,YAAY,SAAS;AACnB,YAAM;AACN,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,IAAI,OAAO;AACT,UAAI,KAAK,QAAQ,KAAK,SAAS;AAC7B,cAAM,WAAW,KAAK,OAAO;AAC7B,cAAM,cAAc,SAAS,KAAK,EAAE;AACpC,aAAK,OAAO,WAAW;AAAA,MACzB;AACA,YAAM,IAAI,KAAK;AAAA,IACjB;AAAA,EACF;AAEA,MAAM,iBAAiB,IAAI,WAAW,EAAE;AAExC,MAAM,cAAc,OAAO;AAE3B,WAAS,sBAAsB,KAAK,UAAU,CAAC,GAAG;AAChD,UAAM,kBAAkB,IAAI,QAAQ,QAAQ,WAAW,CAAC,CAAC;AACzD,UAAM,aAAa,KAAK;AACxB,mBAAe,IAAI,UAAU;AAC7B,oBAAgB,OAAO,sBAAsB,UAAU;AAEvD,WAAO,YAAY,KAAK;AAAA,MACtB,GAAG;AAAA,MACH,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,WAAS,sBAAsB,QAAQ;AACrC,YAAQ,OAAO,YAAY,GAAG;AAAA,MAC5B,KAAK;AACH,eAAO,YAAY;AAAA,MACrB,KAAK;AACH,eAAO,YAAY;AAAA,MACrB,KAAK;AACH,eAAO,YAAY;AAAA,MACrB,KAAK;AACH,eAAO,YAAY;AAAA,MACrB,KAAK;AACH,eAAO,YAAY;AAAA,IACvB;AAAA,EACF;AAEA,MAAM,cAAc;AAAA,IAClB,KAAK;AAAA,IACL,MAAM;AAAA,IACN,KAAK;AAAA,IACL,OAAO;AAAA,IACP,QAAQ;AAAA,EACV;AAEA,WAAS,uBAAuB,UAAU;AACxC,YAAQ,SAAS,YAAY,GAAG;AAAA,MAC9B,KAAK,aAAa;AAChB,eAAO,aAAa;AAAA,MACtB,KAAK,aAAa;AAChB,eAAO,aAAa;AAAA,MACtB;AACE,eAAO,aAAa;AAAA,IACxB;AAAA,EACF;AAEA,MAAM,eAAe;AAAA,IACnB,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,OAAO;AAAA,EACT;AAEA,MAAM,eAAN,MAAmB;AAAA,IACjB,kBAAkB,IAAI,gBAAgB;AAAA,IACtC,yBAAyB,CAAC,WAAW;AAAA,IAAC;AAAA,IAEtC,YAAY,UAAU,QAAQF,WAAU,cAAc,IAAI,gBAAgB,GAAG,SAAS,MAAM,UAAU,aAAa,YAAY;AAC7H,YAAM,CAAC,KAAK,IAAI,IAAI,qBAAqB,UAAUA,SAAQ,GAAG,QAAQ,aAAa,OAAO;AAE1F,WAAK,WAAW;AAChB,WAAK,MAAM;AACX,WAAK,SAAS;AACd,WAAK,eAAe;AAAA,QAClB,aAAa;AAAA,QACb,UAAU;AAAA,QACV,QAAQ,OAAO,YAAY;AAAA,QAC3B,SAAS,EAAE,GAAG,KAAK,eAAe;AAAA,QAClC;AAAA,QACA,QAAQ,KAAK;AAAA,QACb,UAAU,KAAK,SAAS,UAAU;AAAA,MACpC;AACA,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,OAAO,OAAO;AAChB,YAAM,YAAY,KAAK,SAAS,KAAK,IAAI,eAAe,KAAK,aAAa,QAAQ,IAAI,SAAS;AAC/F,YAAM,cAAc,sBAAsB,KAAK,KAAK,YAAY;AAEhE,WAAK,IAAI,SAAS;AAElB,YAAM,CAAC,KAAK,IAAI,IAAI,qBAAqB,KAAK,KAAK,aAAa,WAAW,KAAK,OAAO;AAEvF,WAAK,MAAM;AACX,WAAK,aAAa,OAAO;AACzB,WAAK,aAAa,SAAS,YAAY,YAAY;AAAA,IACrD;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,QAAQ,OAAO;AACjB,WAAK,aAAa,UAAU;AAAA,IAC9B;AAAA,IAEA,IAAI,OAAO;AACT,UAAI,KAAK,QAAQ;AACf,eAAO,KAAK,IAAI;AAAA,MAClB,OAAO;AACL,eAAO,KAAK,aAAa;AAAA,MAC3B;AAAA,IACF;AAAA,IAEA,IAAI,KAAK,OAAO;AACd,WAAK,aAAa,OAAO;AAAA,IAC3B;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK,IAAI;AAAA,IAClB;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,OAAO,MAAM,KAAK,KAAK,KAAK,QAAQ,CAAC,IAAI,CAAC;AAAA,IACxD;AAAA,IAEA,SAAS;AACP,WAAK,gBAAgB,MAAM;AAAA,IAC7B;AAAA,IAEA,MAAM,UAAU;AACd,YAAM,EAAE,aAAa,IAAI;AACzB,WAAK,SAAS,eAAe,IAAI;AACjC,YAAM,QAAQ,MAAM,KAAK,6BAA6B,YAAY;AAClE,UAAI;AACF,aAAK,SAAS,eAAe,IAAI;AAEjC,YAAI,MAAM,OAAO,cAAc;AAC7B,eAAK,WAAW,MAAM,OAAO,aAAa;AAAA,QAC5C,OAAO;AACL,eAAK,WAAW,sBAAsB,KAAK,IAAI,MAAM,YAAY;AAAA,QACnE;AAEA,cAAM,WAAW,MAAM,KAAK;AAC5B,eAAO,MAAM,KAAK,QAAQ,QAAQ;AAAA,MACpC,SAASG,QAAO;AACd,YAAIA,OAAM,SAAS,cAAc;AAC/B,cAAI,KAAK,2BAA2BA,MAAK,GAAG;AAC1C,iBAAK,SAAS,eAAe,MAAMA,MAAK;AAAA,UAC1C;AACA,gBAAMA;AAAA,QACR;AAAA,MACF,UAAE;AACA,aAAK,SAAS,gBAAgB,IAAI;AAAA,MACpC;AAAA,IACF;AAAA,IAEA,MAAM,QAAQ,UAAU;AACtB,YAAM,gBAAgB,IAAI,cAAc,QAAQ;AAChD,YAAM,QAAQ,SAAS,+BAA+B;AAAA,QACpD,YAAY;AAAA,QACZ,QAAQ,EAAE,cAAc;AAAA,QACxB,QAAQ,KAAK;AAAA,MACf,CAAC;AACD,UAAI,MAAM,kBAAkB;AAC1B,aAAK,SAAS,iCAAiC,MAAM,aAAa;AAAA,MACpE,WAAW,cAAc,WAAW;AAClC,aAAK,SAAS,6BAA6B,MAAM,aAAa;AAAA,MAChE,OAAO;AACL,aAAK,SAAS,0BAA0B,MAAM,aAAa;AAAA,MAC7D;AACA,aAAO;AAAA,IACT;AAAA,IAEA,IAAI,iBAAiB;AACnB,aAAO;AAAA,QACL,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,OAAO,KAAK,MAAM;AAAA,IAC3B;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,gBAAgB;AAAA,IAC9B;AAAA,IAEA,mBAAmB,UAAU;AAC3B,WAAK,QAAQ,QAAQ,IAAI,CAAC,UAAU,KAAK,QAAQ,QAAQ,CAAC,EAAE,KAAK,IAAI;AAAA,IACvE;AAAA,IAEA,MAAM,6BAA6B,cAAc;AAC/C,YAAM,sBAAsB,IAAI,QAAQ,CAAC,YAAa,KAAK,yBAAyB,OAAQ;AAC5F,YAAM,QAAQ,SAAS,8BAA8B;AAAA,QACnD,YAAY;AAAA,QACZ,QAAQ;AAAA,UACN;AAAA,UACA,KAAK,KAAK;AAAA,UACV,QAAQ,KAAK;AAAA,QACf;AAAA,QACA,QAAQ,KAAK;AAAA,MACf,CAAC;AACD,WAAK,MAAM,MAAM,OAAO;AACxB,UAAI,MAAM,iBAAkB,OAAM;AAElC,aAAO;AAAA,IACT;AAAA,IAEA,2BAA2BA,QAAO;AAChC,YAAM,QAAQ,SAAS,6BAA6B;AAAA,QAClD,QAAQ,KAAK;AAAA,QACb,YAAY;AAAA,QACZ,QAAQ,EAAE,SAAS,MAAM,OAAOA,OAAM;AAAA,MACxC,CAAC;AAED,aAAO,CAAC,MAAM;AAAA,IAChB;AAAA,EACF;AAEA,WAAS,OAAO,aAAa;AAC3B,WAAO,sBAAsB,WAAW,KAAK,YAAY;AAAA,EAC3D;AAEA,WAAS,qBAAqB,UAAU,QAAQ,aAAa,SAAS;AACpE,UAAM,eACJ,MAAM,KAAK,WAAW,EAAE,SAAS,IAAI,IAAI,gBAAgB,sBAAsB,WAAW,CAAC,IAAI,SAAS;AAE1G,QAAI,OAAO,MAAM,GAAG;AAClB,aAAO,CAAC,yBAAyB,UAAU,YAAY,GAAG,IAAI;AAAA,IAChE,WAAW,WAAW,aAAa,YAAY;AAC7C,aAAO,CAAC,UAAU,YAAY;AAAA,IAChC,OAAO;AACL,aAAO,CAAC,UAAU,WAAW;AAAA,IAC/B;AAAA,EACF;AAEA,WAAS,sBAAsB,aAAa;AAC1C,UAAM,UAAU,CAAC;AAEjB,eAAW,CAAC,MAAM,KAAK,KAAK,aAAa;AACvC,UAAI,iBAAiB,KAAM;AAAA,UACtB,SAAQ,KAAK,CAAC,MAAM,KAAK,CAAC;AAAA,IACjC;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,yBAAyB,KAAK,aAAa;AAClD,UAAM,eAAe,IAAI,gBAAgB,sBAAsB,WAAW,CAAC;AAE3E,QAAI,SAAS,aAAa,SAAS;AAEnC,WAAO;AAAA,EACT;AAEA,MAAM,qBAAN,MAAyB;AAAA,IACvB,UAAU;AAAA,IAEV,YAAY,UAAU,SAAS;AAC7B,WAAK,WAAW;AAChB,WAAK,UAAU;AACf,WAAK,uBAAuB,IAAI,qBAAqB,KAAK,SAAS;AAAA,IACrE;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,UAAU;AACf,aAAK,qBAAqB,QAAQ,KAAK,OAAO;AAAA,MAChD;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,aAAK,UAAU;AACf,aAAK,qBAAqB,UAAU,KAAK,OAAO;AAAA,MAClD;AAAA,IACF;AAAA,IAEA,YAAY,CAAC,YAAY;AACvB,YAAM,YAAY,QAAQ,MAAM,EAAE,EAAE,CAAC;AACrC,UAAI,WAAW,gBAAgB;AAC7B,aAAK,SAAS,0BAA0B,KAAK,OAAO;AAAA,MACtD;AAAA,IACF;AAAA,EACF;AAEA,MAAM,gBAAN,MAAoB;AAAA,IAClB,OAAO,cAAc;AAAA,IAErB,OAAO,KAAK,SAAS;AACnB,UAAI,OAAO,WAAW,UAAU;AAC9B,eAAO,IAAI,KAAK,uBAAuB,OAAO,CAAC;AAAA,MACjD,OAAO;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,YAAY,UAAU;AACpB,WAAK,WAAW,qBAAqB,QAAQ;AAAA,IAC/C;AAAA,EACF;AAEA,WAAS,qBAAqB,UAAU;AACtC,eAAW,WAAW,SAAS,iBAAiB,cAAc,GAAG;AAC/D,YAAM,gBAAgB,SAAS,WAAW,SAAS,IAAI;AAEvD,iBAAW,sBAAsB,cAAc,gBAAgB,QAAQ,iBAAiB,QAAQ,GAAG;AACjG,2BAAmB,YAAY,sBAAsB,kBAAkB,CAAC;AAAA,MAC1E;AAEA,cAAQ,YAAY,aAAa;AAAA,IACnC;AAEA,WAAO;AAAA,EACT;AAEA,MAAM,iBAAiB;AAEvB,MAAM,gBAAN,MAAoB;AAAA,IAClB,mBAAmB;AAAA,IACnB,cAAc;AAAA,IAEd,IAAI,KAAK;AACP,UAAI,KAAK,eAAe,KAAK,YAAY,QAAQ,OAAO,KAAK,YAAY,SAAS,KAAK,IAAI,GAAG;AAC5F,eAAO,KAAK,YAAY;AAAA,MAC1B;AAAA,IACF;AAAA,IAEA,SAAS,KAAK,SAAS,KAAK;AAC1B,WAAK,MAAM;AAEX,WAAK,mBAAmB,WAAW,MAAM;AACvC,gBAAQ,QAAQ;AAChB,aAAK,IAAI,KAAK,SAAS,GAAG;AAC1B,aAAK,mBAAmB;AAAA,MAC1B,GAAG,cAAc;AAAA,IACnB;AAAA,IAEA,IAAI,KAAK,SAAS,KAAK;AACrB,WAAK,cAAc,EAAE,KAAK,SAAS,QAAQ,IAAI,MAAK,oBAAI,KAAK,GAAE,QAAQ,IAAI,GAAG,EAAE;AAAA,IAClF;AAAA,IAEA,QAAQ;AACN,UAAI,KAAK,iBAAkB,cAAa,KAAK,gBAAgB;AAC7D,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AAEA,MAAM,WAAW,KAAK;AACtB,MAAM,gBAAgB,IAAI,cAAc;AAExC,MAAM,sBAAsB;AAAA,IAC1B,aAAa;AAAA,IACb,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS;AAAA,EACX;AAEA,MAAM,iBAAN,MAAM,gBAAe;AAAA,IACnB,QAAQ,oBAAoB;AAAA,IAE5B,OAAO,cAAc,SAAS;AAC5B,aAAO,QAAQ,QAAQ,QAAQ,OAAO,CAAC;AAAA,IACzC;AAAA,IAEA,YAAY,UAAU,aAAaX,YAAW,eAAe,OAAO;AAClE,YAAM,SAAS,UAAU,aAAaA,UAAS;AAC/C,YAAM,SAAS,UAAU,cAAc,aAAaA,UAAS,GAAG,MAAM;AACtE,YAAM,OAAO,cAAc,aAAaA,UAAS;AACjD,YAAM,UAAU,WAAW,aAAaA,UAAS;AAEjD,WAAK,WAAW;AAChB,WAAK,cAAc;AACnB,WAAK,YAAYA;AACjB,WAAK,eAAe,IAAI,aAAa,MAAM,QAAQ,QAAQ,MAAM,aAAa,OAAO;AACrF,WAAK,eAAe;AAAA,IACtB;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,OAAO,OAAO;AAChB,WAAK,aAAa,SAAS;AAAA,IAC7B;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK,aAAa,IAAI,SAAS;AAAA,IACxC;AAAA,IAEA,IAAI,OAAO,OAAO;AAChB,WAAK,aAAa,MAAM,UAAU,KAAK;AAAA,IACzC;AAAA,IAEA,IAAI,OAAO;AACT,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA;AAAA,IAIA,MAAM,QAAQ;AACZ,YAAM,EAAE,aAAa,WAAW,IAAI;AACpC,YAAM,sBAAsB,aAAa,sBAAsB,KAAK,WAAW,KAAK,WAAW;AAE/F,UAAI,OAAO,wBAAwB,UAAU;AAC3C,cAAM,gBAAgB,OAAO,OAAO,MAAM,YAAY,aACpD,OAAO,MAAM,UACb,gBAAe;AAEjB,cAAM,SAAS,MAAM,cAAc,qBAAqB,KAAK,aAAa,KAAK,SAAS;AACxF,YAAI,CAAC,QAAQ;AACX;AAAA,QACF;AAAA,MACF;AAEA,UAAI,KAAK,SAAS,aAAa;AAC7B,aAAK,QAAQ;AACb,eAAO,KAAK,aAAa,QAAQ;AAAA,MACnC;AAAA,IACF;AAAA,IAEA,OAAO;AACL,YAAM,EAAE,UAAU,QAAQ,IAAI;AAC9B,UAAI,KAAK,SAAS,YAAY,KAAK,SAAS,SAAS;AACnD,aAAK,QAAQ;AACb,aAAK,aAAa,OAAO;AACzB,eAAO;AAAA,MACT;AAAA,IACF;AAAA;AAAA,IAIA,eAAe,SAAS;AACtB,UAAI,CAAC,QAAQ,QAAQ;AACnB,cAAM,QAAQ,eAAe,eAAe,YAAY,CAAC,KAAK,eAAe,YAAY;AACzF,YAAI,OAAO;AACT,kBAAQ,QAAQ,cAAc,IAAI;AAAA,QACpC;AAAA,MACF;AAEA,UAAI,KAAK,kCAAkC,OAAO,GAAG;AACnD,gBAAQ,mBAAmB,cAAc,WAAW;AAAA,MACtD;AAAA,IACF;AAAA,IAEA,eAAeY,WAAU;AACvB,WAAK,QAAQ,oBAAoB;AACjC,UAAI,KAAK,UAAW,QAAO,MAAM,UAAU,aAAa,KAAK,SAAS;AACtE,WAAK,eAAe;AACpB,iBAAW,KAAK,WAAW;AAC3B,eAAS,sBAAsB;AAAA,QAC7B,QAAQ,KAAK;AAAA,QACb,QAAQ,EAAE,gBAAgB,KAAK;AAAA,MACjC,CAAC;AACD,WAAK,SAAS,sBAAsB,IAAI;AAAA,IAC1C;AAAA,IAEA,iCAAiC,SAAS,UAAU;AAClD,oBAAc,MAAM;AAEpB,WAAK,SAAS,EAAE,SAAS,SAAS,WAAW,eAAe,SAAS;AAAA,IACvE;AAAA,IAEA,6BAA6B,SAAS,UAAU;AAC9C,UAAI,SAAS,eAAe,SAAS,aAAa;AAChD,aAAK,SAAS,iCAAiC,MAAM,QAAQ;AAC7D;AAAA,MACF;AAEA,oBAAc,MAAM;AAEpB,UAAI,KAAK,oBAAoB,OAAO,KAAK,iCAAiC,QAAQ,GAAG;AACnF,cAAMD,SAAQ,IAAI,MAAM,kDAAkD;AAC1E,aAAK,SAAS,sBAAsB,MAAMA,MAAK;AAAA,MACjD,OAAO;AACL,aAAK,QAAQ,oBAAoB;AACjC,aAAK,SAAS,EAAE,SAAS,MAAM,eAAe,SAAS;AACvD,aAAK,SAAS,oCAAoC,MAAM,QAAQ;AAAA,MAClE;AAAA,IACF;AAAA,IAEA,0BAA0B,SAAS,UAAU;AAC3C,WAAK,SAAS,EAAE,SAAS,OAAO,eAAe,SAAS;AACxD,WAAK,SAAS,iCAAiC,MAAM,QAAQ;AAAA,IAC/D;AAAA,IAEA,eAAe,SAASA,QAAO;AAC7B,WAAK,SAAS,EAAE,SAAS,OAAO,OAAAA,OAAM;AACtC,WAAK,SAAS,sBAAsB,MAAMA,MAAK;AAAA,IACjD;AAAA,IAEA,gBAAgBC,WAAU;AACxB,WAAK,QAAQ,oBAAoB;AACjC,UAAI,KAAK,UAAW,QAAO,MAAM,UAAU,YAAY,KAAK,SAAS;AACrE,WAAK,mBAAmB;AACxB,qBAAe,KAAK,WAAW;AAC/B,eAAS,oBAAoB;AAAA,QAC3B,QAAQ,KAAK;AAAA,QACb,QAAQ,EAAE,gBAAgB,MAAM,GAAG,KAAK,OAAO;AAAA,MACjD,CAAC;AACD,WAAK,SAAS,uBAAuB,IAAI;AAAA,IAC3C;AAAA;AAAA,IAIA,iBAAiB;AACf,UAAI,CAAC,KAAK,aAAa,CAAC,KAAK,YAAa;AAE1C,UAAI,KAAK,UAAU,QAAQ,QAAQ,GAAG;AACpC,aAAK,qBAAqB,KAAK,UAAU;AACzC,aAAK,UAAU,YAAY,KAAK;AAAA,MAClC,WAAW,KAAK,UAAU,QAAQ,OAAO,GAAG;AAC1C,cAAM,QAAQ,KAAK;AACnB,aAAK,qBAAqB,MAAM;AAChC,cAAM,QAAQ,KAAK;AAAA,MACrB;AAAA,IACF;AAAA,IAEA,qBAAqB;AACnB,UAAI,CAAC,KAAK,aAAa,CAAC,KAAK,mBAAoB;AAEjD,UAAI,KAAK,UAAU,QAAQ,QAAQ,GAAG;AACpC,aAAK,UAAU,YAAY,KAAK;AAAA,MAClC,WAAW,KAAK,UAAU,QAAQ,OAAO,GAAG;AAC1C,cAAM,QAAQ,KAAK;AACnB,cAAM,QAAQ,KAAK;AAAA,MACrB;AAAA,IACF;AAAA,IAEA,oBAAoB,SAAS;AAC3B,aAAO,CAAC,QAAQ,UAAU,KAAK;AAAA,IACjC;AAAA,IAEA,kCAAkC,SAAS;AACzC,aAAO,CAAC,QAAQ,UAAU,aAAa,qBAAqB,KAAK,WAAW,KAAK,WAAW;AAAA,IAC9F;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,WAAW,aAAa,yBAAyB;AAAA,IAC/D;AAAA,EACF;AAEA,WAAS,cAAc,aAAaZ,YAAW;AAC7C,UAAM,WAAW,IAAI,SAAS,WAAW;AACzC,UAAM,OAAOA,YAAW,aAAa,MAAM;AAC3C,UAAM,QAAQA,YAAW,aAAa,OAAO;AAE7C,QAAI,MAAM;AACR,eAAS,OAAO,MAAM,SAAS,EAAE;AAAA,IACnC;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,eAAe,YAAY;AAClC,QAAI,cAAc,MAAM;AACtB,YAAM,UAAU,SAAS,SAAS,SAAS,OAAO,MAAM,IAAI,IAAI,CAAC;AACjE,YAAM,SAAS,QAAQ,KAAK,CAACa,YAAWA,QAAO,WAAW,UAAU,CAAC;AACrE,UAAI,QAAQ;AACV,cAAM,QAAQ,OAAO,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AACjD,eAAO,QAAQ,mBAAmB,KAAK,IAAI;AAAA,MAC7C;AAAA,IACF;AAAA,EACF;AAEA,WAAS,iCAAiC,UAAU;AAClD,WAAO,SAAS,cAAc,OAAO,CAAC,SAAS;AAAA,EACjD;AAEA,WAAS,cAAc,aAAab,YAAW;AAC7C,UAAM,oBAAoB,OAAO,YAAY,WAAW,WAAW,YAAY,SAAS;AAExF,QAAIA,YAAW,aAAa,YAAY,GAAG;AACzC,aAAOA,WAAU,aAAa,YAAY,KAAK;AAAA,IACjD,OAAO;AACL,aAAO,YAAY,aAAa,QAAQ,KAAK,qBAAqB;AAAA,IACpE;AAAA,EACF;AAEA,WAAS,UAAU,YAAY,aAAa;AAC1C,UAAM,SAAS,UAAU,UAAU;AAEnC,QAAI,OAAO,WAAW,GAAG;AACvB,aAAO,SAAS;AAAA,IAClB;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,UAAU,aAAaA,YAAW;AACzC,UAAM,SAASA,YAAW,aAAa,YAAY,KAAK,YAAY,aAAa,QAAQ,KAAK;AAC9F,WAAO,sBAAsB,OAAO,YAAY,CAAC,KAAK,YAAY;AAAA,EACpE;AAEA,WAAS,WAAW,aAAaA,YAAW;AAC1C,WAAO,uBAAuBA,YAAW,aAAa,aAAa,KAAK,YAAY,OAAO;AAAA,EAC7F;AAEA,MAAM,WAAN,MAAe;AAAA,IACb,YAAY,SAAS;AACnB,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,IAAI,gBAAgB;AAClB,aAAO,KAAK,QAAQ,cAAc;AAAA,IACpC;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,CAAC,GAAG,KAAK,QAAQ,QAAQ;AAAA,IAClC;AAAA,IAEA,UAAU,QAAQ;AAChB,aAAO,KAAK,oBAAoB,MAAM,KAAK;AAAA,IAC7C;AAAA,IAEA,oBAAoB,QAAQ;AAC1B,aAAO,SAAS,KAAK,QAAQ,cAAc,QAAQ,MAAM,eAAe,MAAM,IAAI,IAAI;AAAA,IACxF;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,IAAI,4BAA4B;AAC9B,aAAO,0BAA0B,KAAK,OAAO;AAAA,IAC/C;AAAA,IAEA,IAAI,oBAAoB;AACtB,aAAO,0BAA0B,KAAK,OAAO;AAAA,IAC/C;AAAA,IAEA,wBAAwBc,MAAI;AAC1B,aAAO,wBAAwB,KAAK,SAASA,IAAE;AAAA,IACjD;AAAA,IAEA,kCAAkC,UAAU;AAC1C,YAAM,sBAAsB,CAAC;AAE7B,iBAAW,2BAA2B,KAAK,mBAAmB;AAC5D,cAAM,EAAE,IAAAA,KAAG,IAAI;AACf,cAAM,sBAAsB,SAAS,wBAAwBA,IAAE;AAC/D,YAAI,qBAAqB;AACvB,8BAAoBA,IAAE,IAAI,CAAC,yBAAyB,mBAAmB;AAAA,QACzE;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,wBAAwB,MAAMA,MAAI;AACzC,WAAO,KAAK,cAAc,IAAIA,IAAE,wBAAwB;AAAA,EAC1D;AAEA,WAAS,0BAA0B,MAAM;AACvC,WAAO,KAAK,iBAAiB,4BAA4B;AAAA,EAC3D;AAEA,MAAM,qBAAN,MAAyB;AAAA,IACvB,UAAU;AAAA,IAEV,YAAY,UAAU,aAAa;AACjC,WAAK,WAAW;AAChB,WAAK,cAAc;AAAA,IACrB;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,YAAY,iBAAiB,UAAU,KAAK,gBAAgB,IAAI;AACrE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,aAAK,YAAY,oBAAoB,UAAU,KAAK,gBAAgB,IAAI;AACxE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,iBAAiB,MAAM;AACrB,WAAK,YAAY,oBAAoB,UAAU,KAAK,eAAe,KAAK;AACxE,WAAK,YAAY,iBAAiB,UAAU,KAAK,eAAe,KAAK;AAAA,IACvE;AAAA,IAEA,gBAAgB,CAAC,UAAU;AACzB,UAAI,CAAC,MAAM,kBAAkB;AAC3B,cAAM,OAAO,MAAM,kBAAkB,kBAAkB,MAAM,SAAS;AACtE,cAAMd,aAAY,MAAM,aAAa;AAErC,YACE,QACA,+BAA+B,MAAMA,UAAS,KAC9C,8BAA8B,MAAMA,UAAS,KAC7C,KAAK,SAAS,eAAe,MAAMA,UAAS,GAC5C;AACA,gBAAM,eAAe;AACrB,gBAAM,yBAAyB;AAC/B,eAAK,SAAS,cAAc,MAAMA,UAAS;AAAA,QAC7C;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,WAAS,+BAA+B,MAAMA,YAAW;AACvD,UAAM,SAASA,YAAW,aAAa,YAAY,KAAK,KAAK,aAAa,QAAQ;AAElF,WAAO,UAAU;AAAA,EACnB;AAEA,WAAS,8BAA8B,MAAMA,YAAW;AACtD,UAAM,SAASA,YAAW,aAAa,YAAY,KAAK,KAAK,aAAa,QAAQ;AAElF,WAAO,oBAAoB,MAAM;AAAA,EACnC;AAEA,MAAM,OAAN,MAAW;AAAA,IACT,wBAAwB,CAAC,WAAW;AAAA,IAAC;AAAA,IACrC,8BAA8B,CAAC,WAAW;AAAA,IAAC;AAAA,IAE3C,YAAY,UAAU,SAAS;AAC7B,WAAK,WAAW;AAChB,WAAK,UAAU;AAAA,IACjB;AAAA;AAAA,IAIA,eAAe,QAAQ;AACrB,YAAM,UAAU,KAAK,SAAS,oBAAoB,MAAM;AACxD,UAAI,SAAS;AACX,aAAK,gBAAgB,OAAO;AAC5B,aAAK,aAAa,OAAO;AAAA,MAC3B,OAAO;AACL,aAAK,iBAAiB,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;AAAA,MACtC;AAAA,IACF;AAAA,IAEA,2BAA2BQ,WAAU;AACnC,WAAK,eAAe,UAAUA,SAAQ,CAAC;AAAA,IACzC;AAAA,IAEA,gBAAgB,SAAS;AACvB,cAAQ,eAAe;AAAA,IACzB;AAAA,IAEA,aAAa,SAAS;AACpB,UAAI,mBAAmB,aAAa;AAClC,YAAI,QAAQ,aAAa,UAAU,GAAG;AACpC,kBAAQ,MAAM;AAAA,QAChB,OAAO;AACL,kBAAQ,aAAa,YAAY,IAAI;AACrC,kBAAQ,MAAM;AACd,kBAAQ,gBAAgB,UAAU;AAAA,QACpC;AAAA,MACF;AAAA,IACF;AAAA,IAEA,iBAAiB,EAAE,GAAAO,IAAG,GAAAC,GAAE,GAAG;AACzB,WAAK,WAAW,SAASD,IAAGC,EAAC;AAAA,IAC/B;AAAA,IAEA,cAAc;AACZ,WAAK,iBAAiB,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;AAAA,IACtC;AAAA,IAEA,IAAI,aAAa;AACf,aAAO;AAAA,IACT;AAAA;AAAA,IAIA,MAAM,OAAO,UAAU;AACrB,YAAM,EAAE,WAAW,cAAc,YAAY,aAAa,SAAS,IAAI;AAIvE,YAAM,mBAAmB;AAEzB,UAAI,cAAc;AAChB,YAAI;AACF,eAAK,gBAAgB,IAAI,QAAQ,CAAC,YAAa,KAAK,wBAAwB,OAAQ;AACpF,eAAK,WAAW;AAChB,gBAAM,KAAK,wBAAwB,QAAQ;AAE3C,gBAAM,qBAAqB,IAAI,QAAQ,CAAC,YAAa,KAAK,8BAA8B,OAAQ;AAChG,gBAAM,UAAU,EAAE,QAAQ,KAAK,6BAA6B,QAAQ,KAAK,SAAS,eAAe,cAAc,KAAK,SAAS,aAAa;AAC1I,gBAAM,kBAAkB,KAAK,SAAS,sBAAsB,UAAU,OAAO;AAC7E,cAAI,CAAC,gBAAiB,OAAM;AAE5B,gBAAM,KAAK,eAAe,QAAQ;AAClC,eAAK,SAAS,qBAAqB,UAAU,WAAW,KAAK,SAAS,YAAY;AAClF,eAAK,SAAS,0BAA0B,KAAK,OAAO;AACpD,eAAK,wBAAwB,QAAQ;AAAA,QACvC,UAAE;AACA,iBAAO,KAAK;AACZ,eAAK,sBAAsB,MAAS;AACpC,iBAAO,KAAK;AAAA,QACd;AAAA,MACF,WAAW,kBAAkB;AAC3B,aAAK,WAAW,SAAS,YAAY;AAAA,MACvC;AAAA,IACF;AAAA,IAEA,WAAW,QAAQ;AACjB,WAAK,SAAS,gBAAgB,MAAM;AAAA,IACtC;AAAA,IAEA,MAAM,wBAAwB,UAAU;AACtC,WAAK,cAAc,SAAS,SAAS;AACrC,YAAM,SAAS,gBAAgB;AAAA,IACjC;AAAA,IAEA,cAAc,WAAW;AACvB,UAAI,WAAW;AACb,aAAK,QAAQ,aAAa,sBAAsB,EAAE;AAAA,MACpD,OAAO;AACL,aAAK,QAAQ,gBAAgB,oBAAoB;AAAA,MACnD;AAAA,IACF;AAAA,IAEA,mBAAmB,WAAW;AAC5B,WAAK,QAAQ,aAAa,8BAA8B,SAAS;AAAA,IACnE;AAAA,IAEA,uBAAuB;AACrB,WAAK,QAAQ,gBAAgB,4BAA4B;AAAA,IAC3D;AAAA,IAEA,MAAM,eAAe,UAAU;AAC7B,YAAM,SAAS,OAAO;AAAA,IACxB;AAAA,IAEA,wBAAwB,UAAU;AAChC,eAAS,gBAAgB;AAAA,IAC3B;AAAA,EACF;AAEA,MAAM,YAAN,cAAwB,KAAK;AAAA,IAC3B,UAAU;AACR,WAAK,QAAQ,YAAY;AAAA,IAC3B;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,IAAI,SAAS,KAAK,OAAO;AAAA,IAClC;AAAA,EACF;AAEA,MAAM,kBAAN,MAAsB;AAAA,IACpB,YAAY,UAAU,SAAS;AAC7B,WAAK,WAAW;AAChB,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,QAAQ;AACN,WAAK,QAAQ,iBAAiB,SAAS,KAAK,YAAY;AACxD,eAAS,iBAAiB,eAAe,KAAK,WAAW;AACzD,eAAS,iBAAiB,sBAAsB,KAAK,SAAS;AAAA,IAChE;AAAA,IAEA,OAAO;AACL,WAAK,QAAQ,oBAAoB,SAAS,KAAK,YAAY;AAC3D,eAAS,oBAAoB,eAAe,KAAK,WAAW;AAC5D,eAAS,oBAAoB,sBAAsB,KAAK,SAAS;AAAA,IACnE;AAAA,IAEA,eAAe,CAAC,UAAU;AACxB,UAAI,KAAK,wBAAwB,KAAK,GAAG;AACvC,aAAK,aAAa;AAAA,MACpB,OAAO;AACL,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IAEA,cAAc,CAAC,UAAU;AACvB,UAAI,KAAK,cAAc,KAAK,wBAAwB,KAAK,GAAG;AAC1D,YAAI,KAAK,SAAS,yBAAyB,MAAM,QAAQ,MAAM,OAAO,KAAK,MAAM,OAAO,aAAa,GAAG;AACtG,eAAK,WAAW,eAAe;AAC/B,gBAAM,eAAe;AACrB,eAAK,SAAS,qBAAqB,MAAM,QAAQ,MAAM,OAAO,KAAK,MAAM,OAAO,aAAa;AAAA,QAC/F;AAAA,MACF;AACA,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,YAAY,CAAC,WAAW;AACtB,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,wBAAwB,OAAO;AAC7B,YAAM,SAAS,MAAM,WAAW,MAAM,QAAQ,gBAAgB,MAAM;AACpE,YAAM,UAAU,wBAAwB,MAAM,KAAK;AAEnD,aAAO,mBAAmB,WAAW,QAAQ,QAAQ,mBAAmB,KAAK,KAAK;AAAA,IACpF;AAAA,EACF;AAEA,MAAM,oBAAN,MAAwB;AAAA,IACtB,UAAU;AAAA,IAEV,YAAY,UAAU,aAAa;AACjC,WAAK,WAAW;AAChB,WAAK,cAAc;AAAA,IACrB;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,YAAY,iBAAiB,SAAS,KAAK,eAAe,IAAI;AACnE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,aAAK,YAAY,oBAAoB,SAAS,KAAK,eAAe,IAAI;AACtE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,gBAAgB,MAAM;AACpB,WAAK,YAAY,oBAAoB,SAAS,KAAK,cAAc,KAAK;AACtE,WAAK,YAAY,iBAAiB,SAAS,KAAK,cAAc,KAAK;AAAA,IACrE;AAAA,IAEA,eAAe,CAAC,UAAU;AACxB,UAAI,iBAAiB,cAAc,KAAK,wBAAwB,KAAK,GAAG;AACtE,cAAM,SAAU,MAAM,gBAAgB,MAAM,aAAa,EAAE,CAAC,KAAM,MAAM;AACxE,cAAM,OAAO,wBAAwB,MAAM;AAC3C,YAAI,QAAQ,oBAAoB,KAAK,MAAM,GAAG;AAC5C,gBAAMR,YAAW,mBAAmB,IAAI;AACxC,cAAI,KAAK,SAAS,yBAAyB,MAAMA,WAAU,KAAK,GAAG;AACjE,kBAAM,eAAe;AACrB,iBAAK,SAAS,uBAAuB,MAAMA,SAAQ;AAAA,UACrD;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IAEA,wBAAwB,OAAO;AAC7B,aAAO,EACJ,MAAM,UAAU,MAAM,OAAO,qBAC9B,MAAM,oBACN,MAAM,QAAQ,KACd,MAAM,UACN,MAAM,WACN,MAAM,WACN,MAAM;AAAA,IAEV;AAAA,EACF;AAEA,MAAM,wBAAN,MAA4B;AAAA,IAC1B,YAAY,UAAU,SAAS;AAC7B,WAAK,WAAW;AAChB,WAAK,kBAAkB,IAAI,kBAAkB,MAAM,OAAO;AAAA,IAC5D;AAAA,IAEA,QAAQ;AACN,WAAK,gBAAgB,MAAM;AAAA,IAC7B;AAAA,IAEA,OAAO;AACL,WAAK,gBAAgB,KAAK;AAAA,IAC5B;AAAA;AAAA,IAIA,6BAA6B,MAAMA,WAAU;AAC3C,aAAO;AAAA,IACT;AAAA,IAEA,kCAAkC,MAAMA,WAAU;AAChD;AAAA,IACF;AAAA;AAAA,IAIA,yBAAyB,MAAMA,WAAU,eAAe;AACtD,aACE,KAAK,SAAS,6BAA6B,MAAMA,WAAU,aAAa,MACvE,KAAK,aAAa,mBAAmB,KAAK,KAAK,aAAa,mBAAmB;AAAA,IAEpF;AAAA,IAEA,uBAAuB,MAAMA,WAAU;AACrC,YAAM,OAAO,SAAS,cAAc,MAAM;AAE1C,YAAM,OAAO;AACb,iBAAW,CAAC,MAAM,KAAK,KAAKA,UAAS,cAAc;AACjD,aAAK,OAAO,OAAO,OAAO,SAAS,cAAc,OAAO,GAAG,EAAE,MAAM,MAAM,MAAM,CAAC,CAAC;AAAA,MACnF;AAEA,YAAM,SAAS,OAAO,OAAOA,WAAU,EAAE,QAAQ,GAAG,CAAC;AACrD,WAAK,aAAa,cAAc,MAAM;AACtC,WAAK,aAAa,UAAU,OAAO,IAAI;AACvC,WAAK,aAAa,UAAU,EAAE;AAE9B,YAAM,SAAS,KAAK,aAAa,mBAAmB;AACpD,UAAI,OAAQ,MAAK,aAAa,UAAU,MAAM;AAE9C,YAAM,aAAa,KAAK,aAAa,kBAAkB;AACvD,UAAI,WAAY,MAAK,aAAa,oBAAoB,UAAU;AAEhE,YAAM,cAAc,eAAe,IAAI;AACvC,UAAI,YAAa,MAAK,aAAa,qBAAqB,WAAW;AAEnE,YAAM,eAAe,KAAK,aAAa,oBAAoB;AAC3D,UAAI,aAAc,MAAK,aAAa,sBAAsB,YAAY;AAEtE,YAAM,cAAc,KAAK,aAAa,mBAAmB;AACzD,UAAI,YAAa,MAAK,aAAa,qBAAqB,EAAE;AAE1D,WAAK,SAAS,4BAA4B,MAAMA,WAAU,IAAI;AAE9D,eAAS,KAAK,YAAY,IAAI;AAC9B,WAAK,iBAAiB,oBAAoB,MAAM,KAAK,OAAO,GAAG,EAAE,MAAM,KAAK,CAAC;AAC7E,4BAAsB,MAAM,KAAK,cAAc,CAAC;AAAA,IAClD;AAAA,EACF;AAEA,MAAM,QAAN,MAAY;AAAA,IACV,aAAa,4BAA4B,UAAU,qBAAqB,UAAU;AAChF,YAAM,QAAQ,IAAI,KAAK,UAAU,mBAAmB;AACpD,YAAM,MAAM;AACZ,YAAM,SAAS;AACf,YAAM,MAAM;AAAA,IACd;AAAA,IAEA,YAAY,UAAU,qBAAqB;AACzC,WAAK,WAAW;AAChB,WAAK,sBAAsB;AAAA,IAC7B;AAAA,IAEA,QAAQ;AACN,iBAAWM,QAAM,KAAK,qBAAqB;AACzC,cAAM,CAAC,yBAAyB,mBAAmB,IAAI,KAAK,oBAAoBA,IAAE;AAClF,aAAK,SAAS,cAAc,yBAAyB,mBAAmB;AACxE,aAAK,0CAA0C,mBAAmB;AAAA,MACpE;AAAA,IACF;AAAA,IAEA,QAAQ;AACN,iBAAWA,QAAM,KAAK,qBAAqB;AACzC,cAAM,CAAC,uBAAuB,IAAI,KAAK,oBAAoBA,IAAE;AAC7D,aAAK,wCAAwC,uBAAuB;AACpE,aAAK,uCAAuC,uBAAuB;AACnE,aAAK,SAAS,aAAa,uBAAuB;AAAA,MACpD;AAAA,IACF;AAAA,IAEA,0CAA0C,kBAAkB;AAC1D,YAAM,cAAc,qCAAqC,gBAAgB;AACzE,uBAAiB,YAAY,WAAW;AAAA,IAC1C;AAAA,IAEA,wCAAwC,kBAAkB;AACxD,YAAM,QAAQ,iBAAiB,UAAU,IAAI;AAC7C,uBAAiB,YAAY,KAAK;AAAA,IACpC;AAAA,IAEA,uCAAuC,kBAAkB;AACvD,YAAM,cAAc,KAAK,mBAAmB,iBAAiB,EAAE;AAC/D,mBAAa,YAAY,gBAAgB;AAAA,IAC3C;AAAA,IAEA,mBAAmBA,MAAI;AACrB,aAAO,KAAK,aAAa,KAAK,CAAC,YAAY,QAAQ,WAAWA,IAAE;AAAA,IAClE;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO,CAAC,GAAG,SAAS,iBAAiB,iDAAiD,CAAC;AAAA,IACzF;AAAA,EACF;AAEA,WAAS,qCAAqC,kBAAkB;AAC9D,UAAM,UAAU,SAAS,cAAc,MAAM;AAC7C,YAAQ,aAAa,QAAQ,6BAA6B;AAC1D,YAAQ,aAAa,WAAW,iBAAiB,EAAE;AACnD,WAAO;AAAA,EACT;AAEA,MAAM,WAAN,MAAe;AAAA,IACb,iBAAiB;AAAA,IAEjB,OAAO,cAAc,gBAAgB,YAAY;AAAA,IAEjD;AAAA,IAEA,YAAY,iBAAiB,aAAa,WAAW,aAAa,MAAM;AACtE,WAAK,kBAAkB;AACvB,WAAK,cAAc;AACnB,WAAK,YAAY;AACjB,WAAK,aAAa;AAClB,WAAK,gBAAgB,KAAK,YAAY;AACtC,WAAK,UAAU,IAAI,QAAQ,CAAC,SAAS,WAAY,KAAK,qBAAqB,EAAE,SAAS,OAAO,CAAE;AAAA,IACjG;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO;AAAA,IACT;AAAA,IAEA,IAAI,kBAAkB;AACpB,aAAO;AAAA,IACT;AAAA,IAEA,IAAI,eAAe;AACjB;AAAA,IACF;AAAA,IAEA,kBAAkB;AAChB;AAAA,IACF;AAAA,IAEA,SAAS;AAAA,IAET;AAAA,IAEA,kBAAkB;AAChB,UAAI,KAAK,oBAAoB;AAC3B,aAAK,mBAAmB,QAAQ;AAChC,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IAEA,MAAM,4BAA4B,UAAU;AAC1C,YAAM,MAAM,4BAA4B,MAAM,KAAK,qBAAqB,QAAQ;AAAA,IAClF;AAAA,IAEA,iCAAiC;AAC/B,UAAI,KAAK,iBAAiB;AACxB,cAAM,UAAU,KAAK,kBAAkB;AACvC,YAAI,SAAS;AACX,kBAAQ,MAAM;AAAA,QAChB;AAAA,MACF;AAAA,IACF;AAAA;AAAA,IAIA,cAAc,yBAAyB;AACrC,UAAI,KAAK,eAAgB;AAEzB,UAAI,wBAAwB,SAAS,KAAK,gBAAgB,aAAa,GAAG;AACxE,aAAK,iBAAiB,KAAK,gBAAgB;AAAA,MAC7C;AAAA,IACF;AAAA,IAEA,aAAa,yBAAyB;AACpC,UAAI,wBAAwB,SAAS,KAAK,cAAc,KAAK,KAAK,0BAA0B,aAAa;AACvG,aAAK,eAAe,MAAM;AAE1B,aAAK,iBAAiB;AAAA,MACxB;AAAA,IACF;AAAA,IAEA,IAAI,oBAAoB;AACtB,aAAO,KAAK,YAAY,cAAc,KAAK,cAAc,KAAK;AAAA,IAChE;AAAA,IAEA,IAAI,iBAAiB;AACnB,aAAO,KAAK,gBAAgB;AAAA,IAC9B;AAAA,IAEA,IAAI,aAAa;AACf,aAAO,KAAK,YAAY;AAAA,IAC1B;AAAA,IAEA,IAAI,sBAAsB;AACxB,aAAO,KAAK,gBAAgB,kCAAkC,KAAK,WAAW;AAAA,IAChF;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO;AAAA,IACT;AAAA,EACF;AAEA,MAAM,gBAAN,cAA4B,SAAS;AAAA,IACnC,OAAO,cAAc,gBAAgB,YAAY;AAC/C,YAAM,mBAAmB,SAAS,YAAY;AAC9C,uBAAiB,mBAAmB,cAAc;AAClD,uBAAiB,eAAe;AAEhC,YAAM,eAAe;AACrB,YAAM,cAAc,aAAa,eAAe,YAAY;AAC5D,UAAI,aAAa;AACf,oBAAY,mBAAmB,YAAY;AAC3C,uBAAe,YAAY,YAAY,gBAAgB,CAAC;AAAA,MAC1D;AAAA,IACF;AAAA,IAEA,YAAY,UAAU,iBAAiB,aAAa,eAAe,WAAW,aAAa,MAAM;AAC/F,YAAM,iBAAiB,aAAa,eAAe,WAAW,UAAU;AACxE,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO;AAAA,IACT;AAAA,IAEA,MAAM,SAAS;AACb,YAAM,YAAY;AAClB,WAAK,4BAA4B,MAAM;AACrC,aAAK,iBAAiB;AAAA,MACxB,CAAC;AACD,WAAK,oBAAoB;AACzB,YAAM,YAAY;AAClB,WAAK,+BAA+B;AACpC,YAAM,YAAY;AAClB,WAAK,uBAAuB;AAAA,IAC9B;AAAA,IAEA,mBAAmB;AACjB,WAAK,SAAS,gBAAgB,KAAK,gBAAgB,KAAK,UAAU;AAClE,WAAK,cAAc,KAAK,gBAAgB,KAAK,UAAU;AAAA,IACzD;AAAA,IAEA,sBAAsB;AACpB,UAAI,KAAK,eAAe,cAAc,KAAK,WAAW,YAAY;AAChE,cAAM,UAAU,KAAK,eAAe;AACpC,cAAM,QAAQ,0BAA0B,KAAK,eAAe,aAAa,uBAAuB,GAAG,KAAK;AACxG,cAAM,WAAW,mBAAmB,KAAK,eAAe,aAAa,0BAA0B,GAAG,MAAM;AAExG,YAAI,SAAS;AACX,kBAAQ,eAAe,EAAE,OAAO,SAAS,CAAC;AAC1C,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA,IAEA,yBAAyB;AACvB,iBAAW,sBAAsB,KAAK,mBAAmB;AACvD,cAAM,yBAAyB,sBAAsB,kBAAkB;AACvE,2BAAmB,YAAY,sBAAsB;AAAA,MACvD;AAAA,IACF;AAAA,IAEA,IAAI,oBAAoB;AACtB,aAAO,KAAK,eAAe,iBAAiB,QAAQ;AAAA,IACtD;AAAA,EACF;AAEA,WAAS,0BAA0B,OAAO,cAAc;AACtD,QAAI,SAAS,SAAS,SAAS,WAAW,SAAS,YAAY,SAAS,WAAW;AACjF,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,mBAAmB,OAAO,cAAc;AAC/C,QAAI,SAAS,UAAU,SAAS,UAAU;AACxC,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAGA,MAAI,YAAa,2BAAY;AAKrB,QAAI,YAAY,oBAAI,IAAI;AAGxB,QAAI,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,WAAY;AAAA,QACR,iBAAiB;AAAA,QACjB,gBAAgB;AAAA,QAChB,mBAAmB;AAAA,QACnB,kBAAkB;AAAA,QAClB,mBAAmB;AAAA,QACnB,kBAAkB;AAAA,QAClB,wBAAwB;AAAA,MAE5B;AAAA,MACA,MAAM;AAAA,QACF,OAAO;AAAA,QACP,gBAAgB,SAAU,KAAK;AAC3B,iBAAO,IAAI,aAAa,aAAa,MAAM;AAAA,QAC/C;AAAA,QACA,gBAAgB,SAAU,KAAK;AAC3B,iBAAO,IAAI,aAAa,cAAc,MAAM;AAAA,QAChD;AAAA,QACA,cAAc;AAAA,QACd,kBAAkB;AAAA,MACtB;AAAA,IACJ;AAKA,aAAS,MAAM,SAAS,YAAYP,UAAS,CAAC,GAAG;AAE7C,UAAI,mBAAmB,UAAU;AAC7B,kBAAU,QAAQ;AAAA,MACtB;AAEA,UAAI,OAAO,eAAe,UAAU;AAChC,qBAAa,aAAa,UAAU;AAAA,MACxC;AAEA,UAAI,oBAAoB,iBAAiB,UAAU;AAEnD,UAAI,MAAM,mBAAmB,SAAS,mBAAmBA,OAAM;AAE/D,aAAO,uBAAuB,SAAS,mBAAmB,GAAG;AAAA,IACjE;AAEA,aAAS,uBAAuB,SAAS,sBAAsB,KAAK;AAChE,UAAI,IAAI,KAAK,OAAO;AAChB,YAAI,UAAU,QAAQ,cAAc,MAAM;AAC1C,YAAI,UAAU,qBAAqB,cAAc,MAAM;AACvD,YAAI,WAAW,SAAS;AACpB,cAAI,WAAW,kBAAkB,SAAS,SAAS,GAAG;AAEtD,kBAAQ,IAAI,QAAQ,EAAE,KAAK,WAAY;AACnC,mCAAuB,SAAS,sBAAsB,OAAO,OAAO,KAAK;AAAA,cACrE,MAAM;AAAA,gBACF,OAAO;AAAA,gBACP,QAAQ;AAAA,cACZ;AAAA,YACJ,CAAC,CAAC;AAAA,UACN,CAAC;AACD;AAAA,QACJ;AAAA,MACJ;AAEA,UAAI,IAAI,eAAe,aAAa;AAGhC,QAAAU,eAAc,sBAAsB,SAAS,GAAG;AAChD,eAAO,QAAQ;AAAA,MAEnB,WAAW,IAAI,eAAe,eAAe,IAAI,cAAc,MAAM;AAGjE,YAAI,YAAY,kBAAkB,sBAAsB,SAAS,GAAG;AAGpE,YAAI,kBAAkB,WAAW;AACjC,YAAI,cAAc,WAAW;AAG7B,YAAI,cAAc,eAAe,SAAS,WAAW,GAAG;AAExD,YAAI,WAAW;AAGX,iBAAO,eAAe,iBAAiB,aAAa,WAAW;AAAA,QACnE,OAAO;AAEH,iBAAO,CAAC;AAAA,QACZ;AAAA,MACJ,OAAO;AACH,cAAM,0CAA0C,IAAI;AAAA,MACxD;AAAA,IACJ;AAQA,aAAS,2BAA2B,uBAAuB,KAAK;AAC5D,aAAO,IAAI,qBAAqB,0BAA0B,SAAS,iBAAiB,0BAA0B,SAAS;AAAA,IAC3H;AAQA,aAAS,eAAe,SAAS,YAAY,KAAK;AAC9C,UAAI,IAAI,gBAAgB,YAAY,SAAS,cAAe;AAAA,eAAW,cAAc,MAAM;AACvF,YAAI,IAAI,UAAU,kBAAkB,OAAO,MAAM,MAAO,QAAO;AAE/D,gBAAQ,OAAO;AACf,YAAI,UAAU,iBAAiB,OAAO;AACtC,eAAO;AAAA,MACX,WAAW,CAAC,YAAY,SAAS,UAAU,GAAG;AAC1C,YAAI,IAAI,UAAU,kBAAkB,OAAO,MAAM,MAAO,QAAO;AAC/D,YAAI,IAAI,UAAU,gBAAgB,UAAU,MAAM,MAAO,QAAO;AAEhE,gBAAQ,cAAc,aAAa,YAAY,OAAO;AACtD,YAAI,UAAU,eAAe,UAAU;AACvC,YAAI,UAAU,iBAAiB,OAAO;AACtC,eAAO;AAAA,MACX,OAAO;AACH,YAAI,IAAI,UAAU,kBAAkB,SAAS,UAAU,MAAM,MAAO,QAAO;AAE3E,YAAI,mBAAmB,mBAAmB,IAAI,KAAK,OAAQ;AAAA,iBAAW,mBAAmB,mBAAmB,IAAI,KAAK,UAAU,SAAS;AACpI,4BAAkB,YAAY,SAAS,GAAG;AAAA,QAC9C,OAAO;AACH,uBAAa,YAAY,SAAS,GAAG;AACrC,cAAI,CAAC,2BAA2B,SAAS,GAAG,GAAG;AAC3C,YAAAA,eAAc,YAAY,SAAS,GAAG;AAAA,UAC1C;AAAA,QACJ;AACA,YAAI,UAAU,iBAAiB,SAAS,UAAU;AAClD,eAAO;AAAA,MACX;AAAA,IACJ;AAwBA,aAASA,eAAc,WAAW,WAAW,KAAK;AAE9C,UAAI,eAAe,UAAU;AAC7B,UAAI,iBAAiB,UAAU;AAC/B,UAAI;AAGJ,aAAO,cAAc;AAEjB,mBAAW;AACX,uBAAe,SAAS;AAGxB,YAAI,kBAAkB,MAAM;AACxB,cAAI,IAAI,UAAU,gBAAgB,QAAQ,MAAM,MAAO;AAEvD,oBAAU,YAAY,QAAQ;AAC9B,cAAI,UAAU,eAAe,QAAQ;AACrC,qCAA2B,KAAK,QAAQ;AACxC;AAAA,QACJ;AAGA,YAAI,aAAa,UAAU,gBAAgB,GAAG,GAAG;AAC7C,yBAAe,gBAAgB,UAAU,GAAG;AAC5C,2BAAiB,eAAe;AAChC,qCAA2B,KAAK,QAAQ;AACxC;AAAA,QACJ;AAGA,YAAI,aAAa,eAAe,WAAW,WAAW,UAAU,gBAAgB,GAAG;AAGnF,YAAI,YAAY;AACZ,2BAAiB,mBAAmB,gBAAgB,YAAY,GAAG;AACnE,yBAAe,YAAY,UAAU,GAAG;AACxC,qCAA2B,KAAK,QAAQ;AACxC;AAAA,QACJ;AAGA,YAAI,YAAY,cAAc,WAAW,WAAW,UAAU,gBAAgB,GAAG;AAGjF,YAAI,WAAW;AACX,2BAAiB,mBAAmB,gBAAgB,WAAW,GAAG;AAClE,yBAAe,WAAW,UAAU,GAAG;AACvC,qCAA2B,KAAK,QAAQ;AACxC;AAAA,QACJ;AAIA,YAAI,IAAI,UAAU,gBAAgB,QAAQ,MAAM,MAAO;AAEvD,kBAAU,aAAa,UAAU,cAAc;AAC/C,YAAI,UAAU,eAAe,QAAQ;AACrC,mCAA2B,KAAK,QAAQ;AAAA,MAC5C;AAGA,aAAO,mBAAmB,MAAM;AAE5B,YAAI,WAAW;AACf,yBAAiB,eAAe;AAChC,mBAAW,UAAU,GAAG;AAAA,MAC5B;AAAA,IACJ;AAaA,aAAS,gBAAgB,MAAMC,KAAI,YAAY,KAAK;AAChD,UAAG,SAAS,WAAW,IAAI,qBAAqBA,QAAO,SAAS,eAAc;AAC1E,eAAO;AAAA,MACX;AACA,aAAO,IAAI,UAAU,uBAAuB,MAAMA,KAAI,UAAU,MAAM;AAAA,IAC1E;AAUA,aAAS,aAAa,MAAMA,KAAI,KAAK;AACjC,UAAI,OAAO,KAAK;AAIhB,UAAI,SAAS,GAAsB;AAC/B,cAAM,iBAAiB,KAAK;AAC5B,cAAM,eAAeA,IAAG;AACxB,mBAAW,iBAAiB,gBAAgB;AACxC,cAAI,gBAAgB,cAAc,MAAMA,KAAI,UAAU,GAAG,GAAG;AACxD;AAAA,UACJ;AACA,cAAIA,IAAG,aAAa,cAAc,IAAI,MAAM,cAAc,OAAO;AAC7D,YAAAA,IAAG,aAAa,cAAc,MAAM,cAAc,KAAK;AAAA,UAC3D;AAAA,QACJ;AAEA,iBAASf,KAAI,aAAa,SAAS,GAAG,KAAKA,IAAGA,MAAK;AAC/C,gBAAM,cAAc,aAAaA,EAAC;AAClC,cAAI,gBAAgB,YAAY,MAAMe,KAAI,UAAU,GAAG,GAAG;AACtD;AAAA,UACJ;AACA,cAAI,CAAC,KAAK,aAAa,YAAY,IAAI,GAAG;AACtC,YAAAA,IAAG,gBAAgB,YAAY,IAAI;AAAA,UACvC;AAAA,QACJ;AAAA,MACJ;AAGA,UAAI,SAAS,KAAmB,SAAS,GAAc;AACnD,YAAIA,IAAG,cAAc,KAAK,WAAW;AACjC,UAAAA,IAAG,YAAY,KAAK;AAAA,QACxB;AAAA,MACJ;AAEA,UAAI,CAAC,2BAA2BA,KAAI,GAAG,GAAG;AAEtC,uBAAe,MAAMA,KAAI,GAAG;AAAA,MAChC;AAAA,IACJ;AAQA,aAAS,qBAAqB,MAAMA,KAAI,eAAe,KAAK;AACxD,UAAI,KAAK,aAAa,MAAMA,IAAG,aAAa,GAAG;AAC3C,YAAI,eAAe,gBAAgB,eAAeA,KAAI,UAAU,GAAG;AACnE,YAAI,CAAC,cAAc;AACf,UAAAA,IAAG,aAAa,IAAI,KAAK,aAAa;AAAA,QAC1C;AACA,YAAI,KAAK,aAAa,GAAG;AACrB,cAAI,CAAC,cAAc;AACf,YAAAA,IAAG,aAAa,eAAe,KAAK,aAAa,CAAC;AAAA,UACtD;AAAA,QACJ,OAAO;AACH,cAAI,CAAC,gBAAgB,eAAeA,KAAI,UAAU,GAAG,GAAG;AACpD,YAAAA,IAAG,gBAAgB,aAAa;AAAA,UACpC;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAYA,aAAS,eAAe,MAAMA,KAAI,KAAK;AACnC,UAAI,gBAAgB,oBAChBA,eAAc,oBACd,KAAK,SAAS,QAAQ;AAEtB,YAAI,YAAY,KAAK;AACrB,YAAI,UAAUA,IAAG;AAGjB,6BAAqB,MAAMA,KAAI,WAAW,GAAG;AAC7C,6BAAqB,MAAMA,KAAI,YAAY,GAAG;AAE9C,YAAI,CAAC,KAAK,aAAa,OAAO,GAAG;AAC7B,cAAI,CAAC,gBAAgB,SAASA,KAAI,UAAU,GAAG,GAAG;AAC9C,YAAAA,IAAG,QAAQ;AACX,YAAAA,IAAG,gBAAgB,OAAO;AAAA,UAC9B;AAAA,QACJ,WAAW,cAAc,SAAS;AAC9B,cAAI,CAAC,gBAAgB,SAASA,KAAI,UAAU,GAAG,GAAG;AAC9C,YAAAA,IAAG,aAAa,SAAS,SAAS;AAClC,YAAAA,IAAG,QAAQ;AAAA,UACf;AAAA,QACJ;AAAA,MACJ,WAAW,gBAAgB,mBAAmB;AAC1C,6BAAqB,MAAMA,KAAI,YAAY,GAAG;AAAA,MAClD,WAAW,gBAAgB,uBAAuBA,eAAc,qBAAqB;AACjF,YAAI,YAAY,KAAK;AACrB,YAAI,UAAUA,IAAG;AACjB,YAAI,gBAAgB,SAASA,KAAI,UAAU,GAAG,GAAG;AAC7C;AAAA,QACJ;AACA,YAAI,cAAc,SAAS;AACvB,UAAAA,IAAG,QAAQ;AAAA,QACf;AACA,YAAIA,IAAG,cAAcA,IAAG,WAAW,cAAc,WAAW;AACxD,UAAAA,IAAG,WAAW,YAAY;AAAA,QAC9B;AAAA,MACJ;AAAA,IACJ;AAKA,aAAS,kBAAkB,YAAY,aAAa,KAAK;AAErD,UAAI,QAAQ,CAAC;AACb,UAAI,UAAU,CAAC;AACf,UAAI,YAAY,CAAC;AACjB,UAAI,gBAAgB,CAAC;AAErB,UAAI,iBAAiB,IAAI,KAAK;AAG9B,UAAI,oBAAoB,oBAAI,IAAI;AAChC,iBAAW,gBAAgB,WAAW,UAAU;AAC5C,0BAAkB,IAAI,aAAa,WAAW,YAAY;AAAA,MAC9D;AAGA,iBAAW,kBAAkB,YAAY,UAAU;AAG/C,YAAI,eAAe,kBAAkB,IAAI,eAAe,SAAS;AACjE,YAAI,eAAe,IAAI,KAAK,eAAe,cAAc;AACzD,YAAI,cAAc,IAAI,KAAK,eAAe,cAAc;AACxD,YAAI,gBAAgB,aAAa;AAC7B,cAAI,cAAc;AAEd,oBAAQ,KAAK,cAAc;AAAA,UAC/B,OAAO;AAGH,8BAAkB,OAAO,eAAe,SAAS;AACjD,sBAAU,KAAK,cAAc;AAAA,UACjC;AAAA,QACJ,OAAO;AACH,cAAI,mBAAmB,UAAU;AAG7B,gBAAI,cAAc;AACd,sBAAQ,KAAK,cAAc;AAC3B,4BAAc,KAAK,cAAc;AAAA,YACrC;AAAA,UACJ,OAAO;AAEH,gBAAI,IAAI,KAAK,aAAa,cAAc,MAAM,OAAO;AACjD,sBAAQ,KAAK,cAAc;AAAA,YAC/B;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AAIA,oBAAc,KAAK,GAAG,kBAAkB,OAAO,CAAC;AAEhD,UAAI,WAAW,CAAC;AAChB,iBAAW,WAAW,eAAe;AACjC,YAAI,SAAS,SAAS,YAAY,EAAE,yBAAyB,QAAQ,SAAS,EAAE;AAChF,YAAI,IAAI,UAAU,gBAAgB,MAAM,MAAM,OAAO;AACjD,cAAI,OAAO,QAAQ,OAAO,KAAK;AAC3B,gBAAI,UAAU;AACd,gBAAI,UAAU,IAAI,QAAQ,SAAU,UAAU;AAC1C,wBAAU;AAAA,YACd,CAAC;AACD,mBAAO,iBAAiB,QAAQ,WAAY;AACxC,sBAAQ;AAAA,YACZ,CAAC;AACD,qBAAS,KAAK,OAAO;AAAA,UACzB;AACA,sBAAY,YAAY,MAAM;AAC9B,cAAI,UAAU,eAAe,MAAM;AACnC,gBAAM,KAAK,MAAM;AAAA,QACrB;AAAA,MACJ;AAIA,iBAAW,kBAAkB,SAAS;AAClC,YAAI,IAAI,UAAU,kBAAkB,cAAc,MAAM,OAAO;AAC3D,sBAAY,YAAY,cAAc;AACtC,cAAI,UAAU,iBAAiB,cAAc;AAAA,QACjD;AAAA,MACJ;AAEA,UAAI,KAAK,iBAAiB,aAAa,EAAC,OAAc,MAAM,WAAW,QAAgB,CAAC;AACxF,aAAO;AAAA,IACX;AAEA,aAAS,OAAO;AAAA,IAChB;AAMA,aAAS,cAAcX,SAAQ;AAC3B,UAAI,cAAc,CAAC;AAEnB,aAAO,OAAO,aAAa,QAAQ;AACnC,aAAO,OAAO,aAAaA,OAAM;AAGjC,kBAAY,YAAY,CAAC;AACzB,aAAO,OAAO,YAAY,WAAW,SAAS,SAAS;AACvD,aAAO,OAAO,YAAY,WAAWA,QAAO,SAAS;AAGrD,kBAAY,OAAO,CAAC;AACpB,aAAO,OAAO,YAAY,MAAM,SAAS,IAAI;AAC7C,aAAO,OAAO,YAAY,MAAMA,QAAO,IAAI;AAC3C,aAAO;AAAA,IACX;AAEA,aAAS,mBAAmB,SAAS,YAAYA,SAAQ;AACrD,MAAAA,UAAS,cAAcA,OAAM;AAC7B,aAAO;AAAA,QACH,QAAQ;AAAA,QACR;AAAA,QACA,QAAQA;AAAA,QACR,YAAYA,QAAO;AAAA,QACnB,cAAcA,QAAO;AAAA,QACrB,mBAAmBA,QAAO;AAAA,QAC1B,OAAO,YAAY,SAAS,UAAU;AAAA,QACtC,SAAS,oBAAI,IAAI;AAAA,QACjB,WAAWA,QAAO;AAAA,QAClB,MAAMA,QAAO;AAAA,MACjB;AAAA,IACJ;AAEA,aAAS,aAAa,OAAO,OAAO,KAAK;AACrC,UAAI,SAAS,QAAQ,SAAS,MAAM;AAChC,eAAO;AAAA,MACX;AACA,UAAI,MAAM,aAAa,MAAM,YAAY,MAAM,YAAY,MAAM,SAAS;AACtE,YAAI,MAAM,OAAO,MAAM,MAAM,OAAO,MAAM,IAAI;AAC1C,iBAAO;AAAA,QACX,OAAO;AACH,iBAAO,uBAAuB,KAAK,OAAO,KAAK,IAAI;AAAA,QACvD;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAEA,aAAS,YAAY,OAAO,OAAO;AAC/B,UAAI,SAAS,QAAQ,SAAS,MAAM;AAChC,eAAO;AAAA,MACX;AACA,aAAO,MAAM,aAAa,MAAM,YAAY,MAAM,YAAY,MAAM;AAAA,IACxE;AAEA,aAAS,mBAAmB,gBAAgB,cAAc,KAAK;AAC3D,aAAO,mBAAmB,cAAc;AACpC,YAAI,WAAW;AACf,yBAAiB,eAAe;AAChC,mBAAW,UAAU,GAAG;AAAA,MAC5B;AACA,iCAA2B,KAAK,YAAY;AAC5C,aAAO,aAAa;AAAA,IACxB;AAQA,aAAS,eAAe,YAAY,WAAW,UAAU,gBAAgB,KAAK;AAG1E,UAAI,2BAA2B,uBAAuB,KAAK,UAAU,SAAS;AAE9E,UAAI,iBAAiB;AAGrB,UAAI,2BAA2B,GAAG;AAC9B,YAAIY,kBAAiB;AAKrB,YAAI,kBAAkB;AACtB,eAAOA,mBAAkB,MAAM;AAG3B,cAAI,aAAa,UAAUA,iBAAgB,GAAG,GAAG;AAC7C,mBAAOA;AAAA,UACX;AAGA,6BAAmB,uBAAuB,KAAKA,iBAAgB,UAAU;AACzE,cAAI,kBAAkB,0BAA0B;AAG5C,mBAAO;AAAA,UACX;AAGA,UAAAA,kBAAiBA,gBAAe;AAAA,QACpC;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAQA,aAAS,cAAc,YAAY,WAAW,UAAU,gBAAgB,KAAK;AAEzE,UAAI,qBAAqB;AACzB,UAAI,cAAc,SAAS;AAC3B,UAAI,wBAAwB;AAE5B,aAAO,sBAAsB,MAAM;AAE/B,YAAI,uBAAuB,KAAK,oBAAoB,UAAU,IAAI,GAAG;AAGjE,iBAAO;AAAA,QACX;AAGA,YAAI,YAAY,UAAU,kBAAkB,GAAG;AAC3C,iBAAO;AAAA,QACX;AAEA,YAAI,YAAY,aAAa,kBAAkB,GAAG;AAG9C;AACA,wBAAc,YAAY;AAI1B,cAAI,yBAAyB,GAAG;AAC5B,mBAAO;AAAA,UACX;AAAA,QACJ;AAGA,6BAAqB,mBAAmB;AAAA,MAC5C;AAEA,aAAO;AAAA,IACX;AAEA,aAAS,aAAa,YAAY;AAC9B,UAAI,SAAS,IAAI,UAAU;AAG3B,UAAI,yBAAyB,WAAW,QAAQ,wCAAwC,EAAE;AAG1F,UAAI,uBAAuB,MAAM,UAAU,KAAK,uBAAuB,MAAM,UAAU,KAAK,uBAAuB,MAAM,UAAU,GAAG;AAClI,YAAI,UAAU,OAAO,gBAAgB,YAAY,WAAW;AAE5D,YAAI,uBAAuB,MAAM,UAAU,GAAG;AAC1C,kBAAQ,uBAAuB;AAC/B,iBAAO;AAAA,QACX,OAAO;AAEH,cAAI,cAAc,QAAQ;AAC1B,cAAI,aAAa;AACb,wBAAY,uBAAuB;AACnC,mBAAO;AAAA,UACX,OAAO;AACH,mBAAO;AAAA,UACX;AAAA,QACJ;AAAA,MACJ,OAAO;AAGH,YAAI,cAAc,OAAO,gBAAgB,qBAAqB,aAAa,sBAAsB,WAAW;AAC5G,YAAI,UAAU,YAAY,KAAK,cAAc,UAAU,EAAE;AACzD,gBAAQ,uBAAuB;AAC/B,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,aAAS,iBAAiB,YAAY;AAClC,UAAI,cAAc,MAAM;AAEpB,cAAM,cAAc,SAAS,cAAc,KAAK;AAChD,eAAO;AAAA,MACX,WAAW,WAAW,sBAAsB;AAExC,eAAO;AAAA,MACX,WAAW,sBAAsB,MAAM;AAEnC,cAAM,cAAc,SAAS,cAAc,KAAK;AAChD,oBAAY,OAAO,UAAU;AAC7B,eAAO;AAAA,MACX,OAAO;AAGH,cAAM,cAAc,SAAS,cAAc,KAAK;AAChD,mBAAW,OAAO,CAAC,GAAG,UAAU,GAAG;AAC/B,sBAAY,OAAO,GAAG;AAAA,QAC1B;AACA,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,aAAS,eAAe,iBAAiB,aAAa,aAAa;AAC/D,UAAI,QAAQ,CAAC;AACb,UAAI,QAAQ,CAAC;AACb,aAAO,mBAAmB,MAAM;AAC5B,cAAM,KAAK,eAAe;AAC1B,0BAAkB,gBAAgB;AAAA,MACtC;AACA,aAAO,MAAM,SAAS,GAAG;AACrB,YAAI,OAAO,MAAM,IAAI;AACrB,cAAM,KAAK,IAAI;AACf,oBAAY,cAAc,aAAa,MAAM,WAAW;AAAA,MAC5D;AACA,YAAM,KAAK,WAAW;AACtB,aAAO,eAAe,MAAM;AACxB,cAAM,KAAK,WAAW;AACtB,cAAM,KAAK,WAAW;AACtB,sBAAc,YAAY;AAAA,MAC9B;AACA,aAAO,MAAM,SAAS,GAAG;AACrB,oBAAY,cAAc,aAAa,MAAM,IAAI,GAAG,YAAY,WAAW;AAAA,MAC/E;AACA,aAAO;AAAA,IACX;AAEA,aAAS,kBAAkB,YAAY,SAAS,KAAK;AACjD,UAAI;AACJ,uBAAiB,WAAW;AAC5B,UAAI,cAAc;AAClB,UAAI,QAAQ;AACZ,aAAO,gBAAgB;AACnB,YAAI,WAAW,aAAa,gBAAgB,SAAS,GAAG;AACxD,YAAI,WAAW,OAAO;AAClB,wBAAc;AACd,kBAAQ;AAAA,QACZ;AACA,yBAAiB,eAAe;AAAA,MACpC;AACA,aAAO;AAAA,IACX;AAEA,aAAS,aAAa,OAAO,OAAO,KAAK;AACrC,UAAI,YAAY,OAAO,KAAK,GAAG;AAC3B,eAAO,MAAK,uBAAuB,KAAK,OAAO,KAAK;AAAA,MACxD;AACA,aAAO;AAAA,IACX;AAEA,aAAS,WAAW,UAAU,KAAK;AAC/B,iCAA2B,KAAK,QAAQ;AACxC,UAAI,IAAI,UAAU,kBAAkB,QAAQ,MAAM,MAAO;AAEzD,eAAS,OAAO;AAChB,UAAI,UAAU,iBAAiB,QAAQ;AAAA,IAC3C;AAMA,aAAS,oBAAoB,KAAKL,MAAI;AAClC,aAAO,CAAC,IAAI,QAAQ,IAAIA,IAAE;AAAA,IAC9B;AAEA,aAAS,eAAe,KAAKA,MAAI,YAAY;AACzC,UAAI,QAAQ,IAAI,MAAM,IAAI,UAAU,KAAK;AACzC,aAAO,MAAM,IAAIA,IAAE;AAAA,IACvB;AAEA,aAAS,2BAA2B,KAAK,MAAM;AAC3C,UAAI,QAAQ,IAAI,MAAM,IAAI,IAAI,KAAK;AACnC,iBAAWA,QAAM,OAAO;AACpB,YAAI,QAAQ,IAAIA,IAAE;AAAA,MACtB;AAAA,IACJ;AAEA,aAAS,uBAAuB,KAAK,OAAO,OAAO;AAC/C,UAAI,YAAY,IAAI,MAAM,IAAI,KAAK,KAAK;AACxC,UAAI,aAAa;AACjB,iBAAWA,QAAM,WAAW;AAGxB,YAAI,oBAAoB,KAAKA,IAAE,KAAK,eAAe,KAAKA,MAAI,KAAK,GAAG;AAChE,YAAE;AAAA,QACN;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAUA,aAAS,qBAAqB,MAAM,OAAO;AACvC,UAAI,aAAa,KAAK;AAEtB,UAAI,aAAa,KAAK,iBAAiB,MAAM;AAC7C,iBAAW,OAAO,YAAY;AAC1B,YAAI,UAAU;AAGd,eAAO,YAAY,cAAc,WAAW,MAAM;AAC9C,cAAI,QAAQ,MAAM,IAAI,OAAO;AAE7B,cAAI,SAAS,MAAM;AACf,oBAAQ,oBAAI,IAAI;AAChB,kBAAM,IAAI,SAAS,KAAK;AAAA,UAC5B;AACA,gBAAM,IAAI,IAAI,EAAE;AAChB,oBAAU,QAAQ;AAAA,QACtB;AAAA,MACJ;AAAA,IACJ;AAYA,aAAS,YAAY,YAAY,YAAY;AACzC,UAAI,QAAQ,oBAAI,IAAI;AACpB,2BAAqB,YAAY,KAAK;AACtC,2BAAqB,YAAY,KAAK;AACtC,aAAO;AAAA,IACX;AAKA,WAAO;AAAA,MACH;AAAA,MACA;AAAA,IACJ;AAAA,EACJ,EAAG;AAEP,WAAS,cAAc,gBAAgB,YAAY,EAAE,WAAW,GAAG,QAAQ,IAAI,CAAC,GAAG;AACjF,cAAU,MAAM,gBAAgB,YAAY;AAAA,MAC1C,GAAG;AAAA,MACH,WAAW,IAAI,0BAA0B,SAAS;AAAA,IACpD,CAAC;AAAA,EACH;AAEA,WAAS,cAAc,gBAAgB,YAAY;AACjD,kBAAc,gBAAgB,WAAW,UAAU;AAAA,MACjD,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AAEA,MAAM,4BAAN,MAAgC;AAAA,IAC9B;AAAA,IAEA,YAAY,EAAE,kBAAkB,IAAI,CAAC,GAAG;AACtC,WAAK,qBAAqB,sBAAsB,MAAM;AAAA,IACxD;AAAA,IAEA,kBAAkB,CAAC,SAAS;AAC1B,aAAO,EAAE,KAAK,MAAM,KAAK,aAAa,sBAAsB,KAAK,SAAS,eAAe,KAAK,EAAE;AAAA,IAClG;AAAA,IAEA,oBAAoB,CAAC,gBAAgB,eAAe;AAClD,UAAI,0BAA0B,SAAS;AACrC,YAAI,CAAC,eAAe,aAAa,sBAAsB,KAAK,KAAK,mBAAmB,gBAAgB,UAAU,GAAG;AAC/G,gBAAM,QAAQ,SAAS,8BAA8B;AAAA,YACnD,YAAY;AAAA,YACZ,QAAQ;AAAA,YACR,QAAQ,EAAE,gBAAgB,WAAW;AAAA,UACvC,CAAC;AAED,iBAAO,CAAC,MAAM;AAAA,QAChB,OAAO;AACL,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,IAEA,yBAAyB,CAAC,eAAe,QAAQ,iBAAiB;AAChE,YAAM,QAAQ,SAAS,gCAAgC;AAAA,QACrD,YAAY;AAAA,QACZ;AAAA,QACA,QAAQ,EAAE,eAAe,aAAa;AAAA,MACxC,CAAC;AAED,aAAO,CAAC,MAAM;AAAA,IAChB;AAAA,IAEA,oBAAoB,CAAC,SAAS;AAC5B,aAAO,KAAK,kBAAkB,IAAI;AAAA,IACpC;AAAA,IAEA,mBAAmB,CAAC,gBAAgB,eAAe;AACjD,UAAI,0BAA0B,SAAS;AACrC,iBAAS,uBAAuB;AAAA,UAC9B,QAAQ;AAAA,UACR,QAAQ,EAAE,gBAAgB,WAAW;AAAA,QACvC,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAEA,MAAM,wBAAN,cAAoC,cAAc;AAAA,IAChD,OAAO,cAAc,gBAAgB,YAAY;AAC/C,eAAS,4BAA4B;AAAA,QACnC,QAAQ;AAAA,QACR,QAAQ,EAAE,gBAAgB,WAAW;AAAA,MACvC,CAAC;AAED,oBAAc,gBAAgB,UAAU;AAAA,IAC1C;AAAA,IAEA,MAAM,4BAA4B,UAAU;AAC1C,aAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAEA,MAAM,cAAN,MAAM,aAAY;AAAA,IAChB,OAAO,oBAAoB;AAAA;AAAA,IAE3B,WAAW,aAAa;AACtB,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUO,aAAY,iBAAiB;AAAA,oBAC3B,aAAY,oBAAoB,CAAC,MAAM,aAAY,oBAAoB,CAAC;AAAA;AAAA;AAAA;AAAA,IAI1F;AAAA,IAEA,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,UAAU;AAAA,IAEV,cAAc;AACZ,WAAK,oBAAoB,KAAK,wBAAwB;AACtD,WAAK,kBAAkB,KAAK,sBAAsB;AAClD,WAAK,yBAAyB;AAC9B,WAAK,SAAS,CAAC;AAAA,IACjB;AAAA,IAEA,OAAO;AACL,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,UAAU;AACf,aAAK,uBAAuB;AAC5B,aAAK,eAAe;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,WAAW,CAAC,KAAK,QAAQ;AAChC,aAAK,SAAS;AACd,aAAK,oBAAoB,MAAM;AAC7B,eAAK,yBAAyB;AAC9B,eAAK,cAAc;AACnB,eAAK,UAAU;AACf,eAAK,SAAS;AAAA,QAChB,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,SAAS,OAAO;AACd,WAAK,QAAQ;AACb,WAAK,QAAQ;AAAA,IACf;AAAA;AAAA,IAIA,2BAA2B;AACzB,eAAS,KAAK,aAAa,KAAK,mBAAmB,SAAS,KAAK,UAAU;AAAA,IAC7E;AAAA,IAEA,yBAAyB;AACvB,WAAK,gBAAgB,MAAM,QAAQ;AACnC,WAAK,gBAAgB,MAAM,UAAU;AACrC,eAAS,gBAAgB,aAAa,KAAK,iBAAiB,SAAS,IAAI;AACzE,WAAK,QAAQ;AAAA,IACf;AAAA,IAEA,oBAAoB,UAAU;AAC5B,WAAK,gBAAgB,MAAM,UAAU;AACrC,iBAAW,UAAU,aAAY,oBAAoB,GAAG;AAAA,IAC1D;AAAA,IAEA,2BAA2B;AACzB,UAAI,KAAK,gBAAgB,YAAY;AACnC,iBAAS,gBAAgB,YAAY,KAAK,eAAe;AAAA,MAC3D;AAAA,IACF;AAAA,IAEA,iBAAiB;AACf,UAAI,CAAC,KAAK,iBAAiB;AACzB,aAAK,kBAAkB,OAAO,YAAY,KAAK,SAAS,aAAY,iBAAiB;AAAA,MACvF;AAAA,IACF;AAAA,IAEA,gBAAgB;AACd,aAAO,cAAc,KAAK,eAAe;AACzC,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,UAAU,MAAM;AACd,WAAK,SAAS,KAAK,QAAQ,KAAK,OAAO,IAAI,GAAG;AAAA,IAChD;AAAA,IAEA,UAAU;AACR,4BAAsB,MAAM;AAC1B,aAAK,gBAAgB,MAAM,QAAQ,GAAG,KAAK,KAAK,QAAQ,EAAE;AAAA,MAC5D,CAAC;AAAA,IACH;AAAA,IAEA,0BAA0B;AACxB,YAAM,UAAU,SAAS,cAAc,OAAO;AAC9C,cAAQ,OAAO;AACf,cAAQ,cAAc,aAAY;AAClC,YAAM,WAAW,YAAY;AAC7B,UAAI,UAAU;AACZ,gBAAQ,QAAQ;AAAA,MAClB;AACA,aAAO;AAAA,IACT;AAAA,IAEA,wBAAwB;AACtB,YAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,cAAQ,YAAY;AACpB,aAAO;AAAA,IACT;AAAA,EACF;AAEA,MAAM,eAAN,cAA2B,SAAS;AAAA,IAClC,qBAAqB,KAAK,SACvB,OAAO,CAAC,YAAY,CAAC,kBAAkB,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,oBAAoB,OAAO,CAAC,EAC7C,OAAO,CAAC,QAAQ,YAAY;AAC3B,YAAM,EAAE,UAAU,IAAI;AACtB,YAAM,UACJ,aAAa,SACT,OAAO,SAAS,IAChB;AAAA,QACE,MAAM,YAAY,OAAO;AAAA,QACzB,SAAS,iBAAiB,OAAO;AAAA,QACjC,UAAU,CAAC;AAAA,MACb;AACN,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,SAAS,GAAG;AAAA,UACX,GAAG;AAAA,UACH,UAAU,CAAC,GAAG,QAAQ,UAAU,OAAO;AAAA,QACzC;AAAA,MACF;AAAA,IACF,GAAG,CAAC,CAAC;AAAA,IAEP,IAAI,0BAA0B;AAC5B,aAAO,OAAO,KAAK,KAAK,kBAAkB,EACvC,OAAO,CAAC,cAAc,KAAK,mBAAmB,SAAS,EAAE,OAAO,EAChE,KAAK,EAAE;AAAA,IACZ;AAAA,IAEA,+BAA+B,UAAU;AACvC,aAAO,KAAK,qCAAqC,UAAU,QAAQ;AAAA,IACrE;AAAA,IAEA,mCAAmC,UAAU;AAC3C,aAAO,KAAK,qCAAqC,cAAc,QAAQ;AAAA,IACzE;AAAA,IAEA,qCAAqC,aAAa,UAAU;AAC1D,aAAO,OAAO,KAAK,KAAK,kBAAkB,EACvC,OAAO,CAAC,cAAc,EAAE,aAAa,SAAS,mBAAmB,EACjE,IAAI,CAAC,cAAc,KAAK,mBAAmB,SAAS,CAAC,EACrD,OAAO,CAAC,EAAE,KAAK,MAAM,QAAQ,WAAW,EACxC,IAAI,CAAC,EAAE,UAAU,CAAC,OAAO,EAAE,MAAM,OAAO;AAAA,IAC7C;AAAA,IAEA,IAAI,sBAAsB;AACxB,aAAO,OAAO,KAAK,KAAK,kBAAkB,EAAE,OAAO,CAAC,QAAQ,cAAc;AACxE,cAAM,EAAE,MAAM,SAAS,SAAS,IAAI,KAAK,mBAAmB,SAAS;AACrE,YAAI,QAAQ,QAAQ,CAAC,SAAS;AAC5B,iBAAO,CAAC,GAAG,QAAQ,GAAG,QAAQ;AAAA,QAChC,WAAW,SAAS,SAAS,GAAG;AAC9B,iBAAO,CAAC,GAAG,QAAQ,GAAG,SAAS,MAAM,CAAC,CAAC;AAAA,QACzC,OAAO;AACL,iBAAO;AAAA,QACT;AAAA,MACF,GAAG,CAAC,CAAC;AAAA,IACP;AAAA,IAEA,aAAa,MAAM;AACjB,YAAM,UAAU,KAAK,sBAAsB,IAAI;AAC/C,aAAO,UAAU,QAAQ,aAAa,SAAS,IAAI;AAAA,IACrD;AAAA,IAEA,sBAAsB,MAAM;AAC1B,aAAO,OAAO,KAAK,KAAK,kBAAkB,EAAE,OAAO,CAAC,QAAQ,cAAc;AACxE,cAAM;AAAA,UACJ,UAAU,CAAC,OAAO;AAAA,QACpB,IAAI,KAAK,mBAAmB,SAAS;AACrC,eAAO,6BAA6B,SAAS,IAAI,IAAI,UAAU;AAAA,MACjE,GAAG,SAAY,MAAS;AAAA,IAC1B;AAAA,EACF;AAEA,WAAS,YAAY,SAAS;AAC5B,QAAI,gBAAgB,OAAO,GAAG;AAC5B,aAAO;AAAA,IACT,WAAW,oBAAoB,OAAO,GAAG;AACvC,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,iBAAiB,SAAS;AACjC,WAAO,QAAQ,aAAa,kBAAkB,KAAK;AAAA,EACrD;AAEA,WAAS,gBAAgB,SAAS;AAChC,UAAM,UAAU,QAAQ;AACxB,WAAO,WAAW;AAAA,EACpB;AAEA,WAAS,kBAAkB,SAAS;AAClC,UAAM,UAAU,QAAQ;AACxB,WAAO,WAAW;AAAA,EACpB;AAEA,WAAS,oBAAoB,SAAS;AACpC,UAAM,UAAU,QAAQ;AACxB,WAAO,WAAW,WAAY,WAAW,UAAU,QAAQ,aAAa,KAAK,KAAK;AAAA,EACpF;AAEA,WAAS,6BAA6B,SAAS,MAAM;AACnD,UAAM,UAAU,QAAQ;AACxB,WAAO,WAAW,UAAU,QAAQ,aAAa,MAAM,KAAK;AAAA,EAC9D;AAEA,WAAS,oBAAoB,SAAS;AACpC,QAAI,QAAQ,aAAa,OAAO,GAAG;AACjC,cAAQ,aAAa,SAAS,EAAE;AAAA,IAClC;AAEA,WAAO;AAAA,EACT;AAEA,MAAM,eAAN,MAAM,sBAAqB,SAAS;AAAA,IAClC,OAAO,eAAe,OAAO,IAAI;AAC/B,aAAO,KAAK,aAAa,kBAAkB,IAAI,CAAC;AAAA,IAClD;AAAA,IAEA,OAAO,YAAY,SAAS;AAC1B,aAAO,KAAK,aAAa,QAAQ,aAAa;AAAA,IAChD;AAAA,IAEA,OAAO,aAAa,EAAE,iBAAiB,MAAM,KAAK,GAAG;AACnD,aAAO,IAAI,KAAK,iBAAiB,MAAM,IAAI,aAAa,IAAI,CAAC;AAAA,IAC/D;AAAA,IAEA,YAAY,iBAAiB,MAAM,cAAc;AAC/C,YAAM,IAAI;AACV,WAAK,kBAAkB;AACvB,WAAK,eAAe;AAAA,IACtB;AAAA,IAEA,QAAQ;AACN,YAAM,gBAAgB,KAAK,QAAQ,UAAU,IAAI;AAEjD,YAAM,iBAAiB,KAAK,QAAQ,iBAAiB,QAAQ;AAC7D,YAAM,uBAAuB,cAAc,iBAAiB,QAAQ;AAEpE,iBAAW,CAAC,OAAO,MAAM,KAAK,eAAe,QAAQ,GAAG;AACtD,cAAM,QAAQ,qBAAqB,KAAK;AACxC,mBAAW,UAAU,MAAM,gBAAiB,QAAO,WAAW;AAC9D,mBAAW,UAAU,OAAO,gBAAiB,OAAM,QAAQ,OAAO,KAAK,EAAE,WAAW;AAAA,MACtF;AAEA,iBAAW,uBAAuB,cAAc,iBAAiB,wBAAwB,GAAG;AAC1F,4BAAoB,QAAQ;AAAA,MAC9B;AAEA,aAAO,IAAI,cAAa,KAAK,iBAAiB,eAAe,KAAK,YAAY;AAAA,IAChF;AAAA,IAEA,IAAI,OAAO;AACT,aAAO,KAAK,gBAAgB,aAAa,MAAM;AAAA,IACjD;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,IAAI,eAAe;AACjB,YAAM,OAAO,KAAK,WAAW,MAAM,KAAK;AACxC,aAAO,UAAU,IAAI;AAAA,IACvB;AAAA,IAEA,IAAI,oBAAoB;AACtB,aAAO,KAAK,WAAW,eAAe;AAAA,IACxC;AAAA,IAEA,IAAI,gBAAgB;AAClB,aAAO,KAAK,qBAAqB;AAAA,IACnC;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,qBAAqB;AAAA,IACnC;AAAA,IAEA,IAAI,cAAc;AAChB,aAAO,KAAK,WAAW,eAAe,KAAK;AAAA,IAC7C;AAAA,IAEA,IAAI,yBAAyB;AAC3B,aAAO,KAAK,aAAa,aAAa,iBAAiB,MAAM;AAAA,IAC/D;AAAA,IAEA,IAAI,kBAAkB;AACpB,aAAO,KAAK,WAAW,gBAAgB,MAAM;AAAA,IAC/C;AAAA,IAEA,IAAI,+BAA+B;AACjC,aAAO,KAAK,WAAW,gBAAgB,MAAM;AAAA,IAC/C;AAAA;AAAA,IAIA,WAAW,MAAM;AACf,aAAO,KAAK,aAAa,aAAa,SAAS,IAAI,EAAE;AAAA,IACvD;AAAA,EACF;AAEA,MAAM,mBAAN,MAAuB;AAAA,IACrB,yBAAyB;AAAA,IACzB,iBAAiB,QAAQ,QAAQ;AAAA,IAEjC,aAAa,mBAAmBM,SAAQ;AACtC,UAAI,qBAAqB,KAAK,4BAA4B,CAAC,KAAK,wBAAwB;AACtF,aAAK,yBAAyB;AAC9B,aAAK,iBAAiB,KAAK,eAAe,KAAK,YAAY;AACzD,gBAAM,SAAS,oBAAoBA,OAAM,EAAE;AAAA,QAC7C,CAAC;AAAA,MACH,OAAO;AACL,aAAK,iBAAiB,KAAK,eAAe,KAAKA,OAAM;AAAA,MACvD;AAEA,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,IAAI,2BAA2B;AAC7B,aAAO,SAAS;AAAA,IAClB;AAAA,EACF;AAEA,MAAMC,kBAAiB;AAAA,IACrB,QAAQ;AAAA,IACR,gBAAgB;AAAA,IAChB,qBAAqB,MAAM;AAAA,IAAC;AAAA,IAC5B,YAAY;AAAA,IACZ,eAAe;AAAA,IACf,qBAAqB;AAAA,IACrB,uBAAuB;AAAA,EACzB;AAEA,MAAM,eAAe;AAAA,IACnB,YAAY;AAAA,IACZ,cAAc;AAAA,IACd,YAAY;AAAA,IACZ,UAAU;AAAA,EACZ;AAEA,MAAM,aAAa;AAAA,IACjB,aAAa;AAAA,IACb,SAAS;AAAA,IACT,UAAU;AAAA,IACV,QAAQ;AAAA,IACR,WAAW;AAAA,EACb;AAEA,MAAM,mBAAmB;AAAA,IACvB,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,IAChB,qBAAqB;AAAA,EACvB;AAEA,MAAM,YAAY;AAAA,IAChB,SAAS;AAAA,IACT,SAAS;AAAA,IACT,SAAS;AAAA,EACX;AAEA,MAAM,QAAN,MAAY;AAAA,IACV,aAAa,KAAK;AAAA;AAAA,IAClB,gBAAgB,CAAC;AAAA,IAEjB,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,IACjB,WAAW;AAAA,IACX,sBAAsB;AAAA,IACtB,wBAAwB;AAAA,IACxB,iBAAiB;AAAA,IACjB,QAAQ,WAAW;AAAA,IACnB,mBAAmB,IAAI,iBAAiB;AAAA,IAExC,YAAY,UAAUb,WAAU,uBAAuB,UAAU,CAAC,GAAG;AACnE,WAAK,WAAW;AAChB,WAAK,WAAWA;AAChB,WAAK,wBAAwB,yBAAyB,KAAK;AAE3D,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,IAAI;AAAA,QACF,GAAGa;AAAA,QACH,GAAG;AAAA,MACL;AACA,WAAK,SAAS;AACd,WAAK,iBAAiB;AACtB,WAAK,WAAW;AAChB,WAAK,WAAW;AAChB,WAAK,eAAe;AACpB,WAAK,WAAW;AAChB,WAAK,aAAa,KAAK,SAAS,6BAA6B,KAAK,UAAU,KAAK,MAAM;AACvF,WAAK,gBAAgB,KAAK,KAAK,cAAc,IAAI;AACjD,WAAK,sBAAsB;AAC3B,WAAK,aAAa;AAClB,WAAK,gBAAgB;AACrB,WAAK,WAAW,CAAC;AACjB,WAAK,sBAAsB;AAC3B,WAAK,wBAAwB;AAC7B,WAAK,YAAY,aAAa,UAAU,MAAM;AAAA,IAChD;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,OAAO;AACT,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,kBAAkB;AACpB,aAAO,KAAK,QAAQ,gCAAgC,KAAK,qBAAqB;AAAA,IAChF;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,QAAQ;AACN,UAAI,KAAK,SAAS,WAAW,aAAa;AACxC,aAAK,mBAAmB,aAAa,UAAU;AAC/C,aAAK,QAAQ,WAAW;AACxB,aAAK,QAAQ,aAAa,IAAI;AAC9B,aAAK,SAAS,aAAa,IAAI;AAAA,MACjC;AAAA,IACF;AAAA,IAEA,SAAS;AACP,UAAI,KAAK,SAAS,WAAW,SAAS;AACpC,YAAI,KAAK,SAAS;AAChB,eAAK,QAAQ,OAAO;AAAA,QACtB;AACA,aAAK,aAAa;AAClB,aAAK,QAAQ,WAAW;AAAA,MAC1B;AAAA,IACF;AAAA,IAEA,WAAW;AACT,UAAI,KAAK,SAAS,WAAW,SAAS;AACpC,aAAK,mBAAmB,aAAa,QAAQ;AAC7C,aAAK,QAAQ,eAAe,IAAI;AAChC,aAAK,QAAQ,WAAW;AACxB,aAAK,eAAe;AAEpB,YAAI,CAAC,KAAK,kBAAkB;AAC1B,eAAK,SAAS,eAAe,IAAI;AAAA,QACnC;AAAA,MACF;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS,WAAW,SAAS;AACpC,aAAK,QAAQ,WAAW;AACxB,aAAK,QAAQ,YAAY,IAAI;AAC7B,aAAK,SAAS,eAAe,IAAI;AAAA,MACnC;AAAA,IACF;AAAA,IAEA,gBAAgB;AACd,UAAI,CAAC,KAAK,kBAAkB,KAAK,eAAe;AAC9C,cAAM,mBAAmB,KAAK,SAAS,SAAS,KAAK,UAAU,OAAO,YAAY,KAAK;AACvF,cAAM,SAAS,0BAA0B,gBAAgB;AACzD,aAAK,QAAQ,OAAO,QAAQ,KAAK,UAAU,KAAK,qBAAqB;AACrE,aAAK,iBAAiB;AAAA,MACxB;AAAA,IACF;AAAA,IAEA,eAAe;AACb,UAAI,KAAK,qBAAqB,GAAG;AAC/B,aAAK,gBAAgB;AAAA,MACvB,WAAW,KAAK,mBAAmB,KAAK,CAAC,KAAK,SAAS;AACrD,aAAK,UAAU,IAAI,aAAa,MAAM,YAAY,KAAK,KAAK,QAAQ;AACpE,aAAK,QAAQ,QAAQ;AAAA,MACvB;AAAA,IACF;AAAA,IAEA,kBAAkB;AAChB,UAAI,KAAK,UAAU;AACjB,aAAK,aAAa;AAClB,aAAK,eAAe;AACpB,aAAK,cAAc;AAAA,MACrB;AAAA,IACF;AAAA,IAEA,eAAe;AACb,WAAK,mBAAmB,aAAa,YAAY;AACjD,WAAK,QAAQ,oBAAoB,IAAI;AAAA,IACvC;AAAA,IAEA,eAAe,WAAW,KAAK,UAAU;AACvC,WAAK,WAAW;AAChB,UAAI,UAAU;AACZ,cAAM,EAAE,WAAW,IAAI;AACvB,YAAI,aAAa,UAAU,GAAG;AAC5B,eAAK,QAAQ,sBAAsB,IAAI;AAAA,QACzC,OAAO;AACL,eAAK,QAAQ,iCAAiC,MAAM,UAAU;AAAA,QAChE;AAAA,MACF;AAAA,IACF;AAAA,IAEA,gBAAgB;AACd,WAAK,mBAAmB,aAAa,UAAU;AAC/C,WAAK,QAAQ,qBAAqB,IAAI;AAAA,IACxC;AAAA,IAEA,eAAe;AACb,UAAI,KAAK,UAAU;AACjB,cAAM,EAAE,YAAY,aAAa,IAAI,KAAK;AAC1C,aAAK,OAAO,YAAY;AACtB,cAAI,KAAK,oBAAqB,MAAK,cAAc;AACjD,cAAI,KAAK,KAAK,cAAe,OAAM,KAAK,KAAK;AAE7C,cAAI,aAAa,UAAU,KAAK,gBAAgB,MAAM;AACpD,kBAAM,WAAW,aAAa,eAAe,YAAY;AACzD,kBAAM,KAAK,mBAAmB,UAAU,KAAK;AAE7C,iBAAK,QAAQ,cAAc,IAAI;AAC/B,iBAAK,SAAS;AAAA,UAChB,OAAO;AACL,kBAAM,KAAK,KAAK,YAAY,aAAa,eAAe,YAAY,GAAG,IAAI;AAC3E,iBAAK,QAAQ,cAAc,IAAI;AAC/B,iBAAK,KAAK;AAAA,UACZ;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,oBAAoB;AAClB,YAAM,WAAW,KAAK,KAAK,6BAA6B,KAAK,QAAQ,KAAK,KAAK,qBAAqB;AAEpG,UAAI,aAAa,CAAC,UAAU,KAAK,QAAQ,KAAK,SAAS,UAAU,UAAU,KAAK,QAAQ,CAAC,IAAI;AAC3F,YAAI,KAAK,UAAU,aAAa,SAAS,eAAe;AACtD,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,IAEA,uBAAuB;AACrB,UAAI,KAAK,cAAc;AACrB,eAAO,aAAa,eAAe,KAAK,YAAY;AAAA,MACtD;AAAA,IACF;AAAA,IAEA,oBAAoB;AAClB,aAAO,KAAK,kBAAkB,KAAK;AAAA,IACrC;AAAA,IAEA,qBAAqB;AACnB,YAAM,WAAW,KAAK,kBAAkB;AACxC,UAAI,UAAU;AACZ,cAAM,YAAY,KAAK,mBAAmB;AAC1C,aAAK,OAAO,YAAY;AACtB,eAAK,cAAc;AACnB,cAAI,KAAK,cAAc,KAAK,eAAe;AACzC,iBAAK,QAAQ,cAAc,IAAI;AAAA,UACjC,OAAO;AACL,gBAAI,KAAK,KAAK,cAAe,OAAM,KAAK,KAAK;AAE7C,kBAAM,KAAK,mBAAmB,UAAU,SAAS;AAEjD,iBAAK,QAAQ,cAAc,IAAI;AAC/B,gBAAI,CAAC,WAAW;AACd,mBAAK,SAAS;AAAA,YAChB;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,iBAAiB;AACf,UAAI,KAAK,wBAAwB,CAAC,KAAK,oBAAoB,KAAK,UAAU,YAAY;AACpF,aAAK,QAAQ,wBAAwB,KAAK,sBAAsB;AAAA,UAC9D,QAAQ;AAAA,UACR,UAAU,KAAK;AAAA,UACf,qBAAqB;AAAA,UACrB,YAAY;AAAA,QACd,CAAC;AACD,aAAK,mBAAmB;AAAA,MAC1B;AAAA,IACF;AAAA,IAEA,qBAAqB;AACnB,UAAI,KAAK,YAAY;AACnB,aAAK,OAAO,YAAY;AACtB,eAAK,cAAc;AACnB,eAAK,cAAc;AACnB,eAAK,cAAc;AACnB,eAAK,QAAQ,cAAc,IAAI;AAAA,QACjC,CAAC;AAAA,MACH;AAAA,IACF;AAAA;AAAA,IAIA,eAAe,SAAS;AACtB,UAAI,KAAK,uBAAuB;AAC9B,gBAAQ,mBAAmB,cAAc,WAAW;AAAA,MACtD;AAAA,IACF;AAAA,IAEA,iBAAiB;AACf,WAAK,aAAa;AAAA,IACpB;AAAA,IAEA,iCAAiCT,WAAU,WAAW;AAAA,IAAC;AAAA,IAEvD,MAAM,6BAA6B,SAAS,UAAU;AACpD,YAAM,eAAe,MAAM,SAAS;AACpC,YAAM,EAAE,YAAY,WAAW,IAAI;AACnC,UAAI,gBAAgB,QAAW;AAC7B,aAAK,eAAe;AAAA,UAClB,YAAY,iBAAiB;AAAA,UAC7B;AAAA,QACF,CAAC;AAAA,MACH,OAAO;AACL,aAAK,uBAAuB,SAAS,aAAa,SAAS,WAAW;AACtE,aAAK,eAAe,EAAE,YAAwB,cAAc,WAAW,CAAC;AAAA,MAC1E;AAAA,IACF;AAAA,IAEA,MAAM,0BAA0B,SAAS,UAAU;AACjD,YAAM,eAAe,MAAM,SAAS;AACpC,YAAM,EAAE,YAAY,WAAW,IAAI;AACnC,UAAI,gBAAgB,QAAW;AAC7B,aAAK,eAAe;AAAA,UAClB,YAAY,iBAAiB;AAAA,UAC7B;AAAA,QACF,CAAC;AAAA,MACH,OAAO;AACL,aAAK,eAAe,EAAE,YAAwB,cAAc,WAAW,CAAC;AAAA,MAC1E;AAAA,IACF;AAAA,IAEA,eAAeA,WAAU,QAAQ;AAC/B,WAAK,eAAe;AAAA,QAClB,YAAY,iBAAiB;AAAA,QAC7B,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA,IAEA,kBAAkB;AAChB,WAAK,cAAc;AAAA,IACrB;AAAA;AAAA,IAIA,gBAAgB;AACd,UAAI,CAAC,KAAK,YAAY,CAAC,KAAK,KAAK,iBAAiB,CAAC,KAAK,KAAK,6BAA6B,IAAI,GAAG;AAC/F,YAAI,KAAK,UAAU,WAAW;AAC5B,eAAK,yBAAyB,KAAK,KAAK,eAAe,KAAK,KAAK,KAAK,YAAY;AAAA,QACpF,OAAO;AACL,eAAK,eAAe,KAAK,KAAK,KAAK,YAAY;AAAA,QACjD;AACA,YAAI,KAAK,YAAY;AACnB,eAAK,SAAS,gCAAgC,KAAK,KAAK,sBAAsB,KAAK,QAAQ;AAAA,QAC7F;AAEA,aAAK,WAAW;AAAA,MAClB;AAAA,IACF;AAAA,IAEA,2BAA2B;AACzB,YAAM,EAAE,eAAe,IAAI,KAAK;AAChC,UAAI,gBAAgB;AAClB,aAAK,KAAK,iBAAiB,cAAc;AACzC,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,iBAAiB;AACf,YAAM,SAAS,UAAU,KAAK,QAAQ;AACtC,UAAI,UAAU,MAAM;AAClB,aAAK,KAAK,eAAe,MAAM;AAC/B,eAAO;AAAA,MACT;AAAA,IACF;AAAA;AAAA,IAIA,mBAAmB,QAAQ;AACzB,WAAK,cAAc,MAAM,KAAI,oBAAI,KAAK,GAAE,QAAQ;AAAA,IAClD;AAAA,IAEA,mBAAmB;AACjB,aAAO,EAAE,GAAG,KAAK,cAAc;AAAA,IACjC;AAAA;AAAA,IAIA,0BAA0B,QAAQ;AAChC,cAAQ,QAAQ;AAAA,QACd,KAAK;AACH,iBAAO,QAAQ;AAAA,QACjB,KAAK;AAAA,QACL,KAAK;AACH,iBAAO,QAAQ;AAAA,MACnB;AAAA,IACF;AAAA,IAEA,uBAAuB;AACrB,aAAO,OAAO,KAAK,YAAY;AAAA,IACjC;AAAA,IAEA,qBAAqB;AACnB,UAAI,KAAK,YAAY;AACnB,eAAO;AAAA,MACT,WAAW,KAAK,UAAU,WAAW;AACnC,eAAO,CAAC,KAAK,kBAAkB;AAAA,MACjC,OAAO;AACL,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IAEA,gBAAgB;AACd,UAAI,CAAC,KAAK,gBAAgB;AACxB,aAAK,KAAK,cAAc,KAAK,QAAQ,EAAE,KAAK,CAAC,aAAa,YAAY,KAAK,oBAAoB,QAAQ,CAAC;AACxG,aAAK,iBAAiB;AAAA,MACxB;AAAA,IACF;AAAA,IAEA,MAAM,OAAO,UAAU;AACrB,WAAK,aAAa;AAClB,YAAM,IAAI,QAAQ,CAAC,YAAY;AAC7B,aAAK,QACH,SAAS,oBAAoB,WAAW,WAAW,MAAM,QAAQ,GAAG,CAAC,IAAI,sBAAsB,MAAM,QAAQ,CAAC;AAAA,MAClH,CAAC;AACD,YAAM,SAAS;AACf,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,MAAM,mBAAmB,UAAU,WAAW;AAC5C,YAAM,KAAK,iBAAiB,aAAa,KAAK,KAAK,mBAAmB,QAAQ,GAAG,YAAY;AAC3F,cAAM,KAAK,KAAK,WAAW,UAAU,WAAW,KAAK,YAAY,IAAI;AACrE,aAAK,cAAc;AAAA,MACrB,CAAC;AAAA,IACH;AAAA,IAEA,eAAe;AACb,UAAI,KAAK,OAAO;AACd,6BAAqB,KAAK,KAAK;AAC/B,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAEA,WAAS,aAAa,YAAY;AAChC,WAAO,cAAc,OAAO,aAAa;AAAA,EAC3C;AAEA,MAAM,iBAAN,MAAqB;AAAA,IACnB,cAAc,IAAI,YAAY;AAAA,IAE9B,YAAYU,UAAS;AACnB,WAAK,UAAUA;AAAA,IACjB;AAAA,IAEA,wBAAwBd,WAAU,SAAS;AACzC,UAAI,oBAAoBA,WAAU,KAAK,UAAU,YAAY,GAAG;AAC9D,aAAK,UAAU,WAAWA,WAAU,SAAS,yBAAyB,KAAK,GAAG,OAAO;AAAA,MACvF,OAAO;AACL,eAAO,SAAS,OAAOA,UAAS,SAAS;AAAA,MAC3C;AAAA,IACF;AAAA,IAEA,aAAae,QAAO;AAClB,WAAK,WAAWA,OAAM;AACtB,MAAAA,OAAM,mBAAmB;AACzB,MAAAA,OAAM,aAAa;AACnB,MAAAA,OAAM,mBAAmB;AAAA,IAC3B;AAAA,IAEA,oBAAoBA,QAAO;AACzB,WAAK,YAAY,SAAS,CAAC;AAC3B,UAAIA,OAAM,kBAAkB,KAAKA,OAAM,UAAU,WAAW;AAC1D,aAAK,+BAA+B;AAAA,MACtC,OAAO;AACL,aAAK,gBAAgB;AAAA,MACvB;AAAA,IACF;AAAA,IAEA,sBAAsBA,QAAO;AAC3B,MAAAA,OAAM,aAAa;AAAA,IACrB;AAAA,IAEA,iCAAiCA,QAAO,YAAY;AAClD,cAAQ,YAAY;AAAA,QAClB,KAAK,iBAAiB;AAAA,QACtB,KAAK,iBAAiB;AAAA,QACtB,KAAK,iBAAiB;AACpB,iBAAO,KAAK,OAAO;AAAA,YACjB,QAAQ;AAAA,YACR,SAAS;AAAA,cACP;AAAA,YACF;AAAA,UACF,CAAC;AAAA,QACH;AACE,iBAAOA,OAAM,aAAa;AAAA,MAC9B;AAAA,IACF;AAAA,IAEA,qBAAqB,QAAQ;AAAA,IAAC;AAAA,IAE9B,eAAe,QAAQ;AACrB,WAAK,YAAY,SAAS,CAAC;AAC3B,WAAK,qBAAqB;AAAA,IAC5B;AAAA,IAEA,gBAAgB,QAAQ;AACtB,WAAK,OAAO,MAAM;AAAA,IACpB;AAAA,IAEA,YAAY,QAAQ;AAClB,WAAK,YAAY,SAAS,CAAC;AAC3B,WAAK,qBAAqB;AAAA,IAC5B;AAAA,IAEA,cAAc,QAAQ;AAAA,IAAC;AAAA;AAAA,IAIvB,sBAAsB,iBAAiB;AACrC,WAAK,YAAY,SAAS,CAAC;AAC3B,WAAK,8BAA8B;AAAA,IACrC;AAAA,IAEA,uBAAuB,iBAAiB;AACtC,WAAK,YAAY,SAAS,CAAC;AAC3B,WAAK,oBAAoB;AAAA,IAC3B;AAAA;AAAA,IAIA,iCAAiC;AAC/B,WAAK,0BAA0B,OAAO,WAAW,KAAK,iBAAiB,KAAK,QAAQ,gBAAgB;AAAA,IACtG;AAAA,IAEA,uBAAuB;AACrB,WAAK,YAAY,KAAK;AACtB,UAAI,KAAK,2BAA2B,MAAM;AACxC,eAAO,aAAa,KAAK,uBAAuB;AAChD,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IAEA,gCAAgC;AAC9B,UAAI,KAAK,0BAA0B,MAAM;AACvC,aAAK,yBAAyB,OAAO,WAAW,KAAK,iBAAiB,KAAK,QAAQ,gBAAgB;AAAA,MACrG;AAAA,IACF;AAAA,IAEA,sBAAsB;AACpB,WAAK,YAAY,KAAK;AACtB,UAAI,KAAK,0BAA0B,MAAM;AACvC,eAAO,aAAa,KAAK,sBAAsB;AAC/C,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IAEA,kBAAkB,MAAM;AACtB,WAAK,YAAY,KAAK;AAAA,IACxB;AAAA,IAEA,OAAO,QAAQ;AACb,eAAS,gBAAgB,EAAE,QAAQ,OAAO,CAAC;AAE3C,aAAO,SAAS,OAAO,KAAK,UAAU,SAAS,KAAK,OAAO,SAAS;AAAA,IACtE;AAAA,IAEA,IAAI,YAAY;AACd,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,EACF;AAEA,MAAM,gBAAN,MAAoB;AAAA,IAClB,WAAW;AAAA,IACX,qBAAqB;AAAA,IAErB,UAAU;AAAA,IAEV,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,UAAU;AACf,yBAAiB,sBAAsB,KAAK,yBAAyB,KAAK;AAAA,MAC5E;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,aAAK,UAAU;AACf,4BAAoB,sBAAsB,KAAK,yBAAyB,KAAK;AAAA,MAC/E;AAAA,IACF;AAAA,IAEA,0BAA0B,CAAC,WAAW;AACpC,iBAAW,WAAW,KAAK,mBAAmB;AAC5C,gBAAQ,OAAO;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,IAAI,oBAAoB;AACtB,aAAO,CAAC,GAAG,SAAS,iBAAiB,KAAK,QAAQ,GAAG,GAAG,KAAK,gCAAgC;AAAA,IAC/F;AAAA,IAEA,IAAI,mCAAmC;AACrC,YAAM,WAAW,SAAS,iBAAiB,KAAK,kBAAkB;AAElE,UAAI,SAAS,QAAQ;AACnB,gBAAQ;AAAA,UACN,OAAO,KAAK,kBAAkB,wEAAwE,KAAK,QAAQ;AAAA,QACrH;AAAA,MACF;AAEA,aAAO,CAAC,GAAG,QAAQ;AAAA,IACrB;AAAA,EACF;AAEA,MAAM,kBAAN,MAAsB;AAAA,IACpB,YAAYD,UAAS,SAAS;AAC5B,WAAK,UAAUA;AACf,WAAK,UAAU;AACf,WAAK,kBAAkB,IAAI,gBAAgB,MAAM,OAAO;AACxD,WAAK,qBAAqB,IAAI,mBAAmB,MAAM,OAAO;AAAA,IAChE;AAAA,IAEA,QAAQ;AACN,WAAK,gBAAgB,MAAM;AAC3B,WAAK,mBAAmB,MAAM;AAAA,IAChC;AAAA,IAEA,OAAO;AACL,WAAK,gBAAgB,KAAK;AAC1B,WAAK,mBAAmB,KAAK;AAAA,IAC/B;AAAA;AAAA,IAIA,yBAAyB,SAAS,WAAW,QAAQ;AACnD,aAAO,KAAK,gBAAgB,OAAO;AAAA,IACrC;AAAA,IAEA,qBAAqB,SAAS,KAAK,OAAO;AACxC,YAAM,QAAQ,KAAK,kBAAkB,OAAO;AAC5C,UAAI,OAAO;AACT,cAAM,SAAS,qBAAqB,SAAS,KAAK,KAAK;AAAA,MACzD;AAAA,IACF;AAAA;AAAA,IAIA,eAAe,SAAStB,YAAW;AACjC,aACE,QAAQ,QAAQ,aAAa,KAAK,QAClC,KAAK,cAAc,SAASA,UAAS,KACrC,KAAK,gBAAgB,SAASA,UAAS;AAAA,IAE3C;AAAA,IAEA,cAAc,SAASA,YAAW;AAChC,YAAM,QAAQ,KAAK,kBAAkB,SAASA,UAAS;AACvD,UAAI,OAAO;AACT,cAAM,SAAS,cAAc,SAASA,UAAS;AAAA,MACjD;AAAA,IACF;AAAA,IAEA,cAAc,MAAMA,YAAW;AAC7B,YAAM,SAAS,YAAY,MAAMA,UAAS;AAC1C,YAAM,OAAO,KAAK,QAAQ,cAAc,cAAc,yBAAyB;AAC/E,YAAM,eAAe,UAAU,MAAM,WAAW,GAAG;AAEnD,aAAO,KAAK,gBAAgB,MAAMA,UAAS,KAAK,oBAAoB,QAAQ,YAAY;AAAA,IAC1F;AAAA,IAEA,gBAAgB,SAASA,YAAW;AAClC,YAAM,gBACJ,mBAAmB,kBACf,KAAK,QAAQ,wBAAwB,SAASA,UAAS,IACvD,KAAK,QAAQ,qBAAqB,OAAO;AAE/C,UAAI,eAAe;AACjB,cAAM,QAAQ,KAAK,kBAAkB,SAASA,UAAS;AACvD,eAAO,QAAQ,SAAS,QAAQ,QAAQ,aAAa,IAAI;AAAA,MAC3D,OAAO;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,kBAAkB,SAASA,YAAW;AACpC,YAAMc,OAAKd,YAAW,aAAa,kBAAkB,KAAK,QAAQ,aAAa,kBAAkB;AACjG,UAAIc,QAAMA,QAAM,QAAQ;AACtB,cAAM,QAAQ,KAAK,QAAQ,cAAc,IAAIA,IAAE,kBAAkB;AACjE,YAAI,iBAAiB,cAAc;AACjC,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,MAAM,UAAN,MAAc;AAAA,IACZ;AAAA,IACA,wBAAwB,KAAK;AAAA,IAC7B,kBAAkB,CAAC;AAAA,IACnB,UAAU;AAAA,IACV,aAAa;AAAA,IACb,eAAe;AAAA,IAEf,YAAY,UAAU;AACpB,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,yBAAiB,YAAY,KAAK,YAAY,KAAK;AACnD,yBAAiB,QAAQ,KAAK,YAAY,KAAK;AAC/C,aAAK,eAAe,QAAQ,OAAO,OAAO,oBAAoB;AAC9D,aAAK,UAAU;AACf,aAAK,QAAQ,IAAI,IAAI,OAAO,SAAS,IAAI,CAAC;AAAA,MAC5C;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,4BAAoB,YAAY,KAAK,YAAY,KAAK;AACtD,4BAAoB,QAAQ,KAAK,YAAY,KAAK;AAClD,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,KAAKN,WAAU,uBAAuB;AACpC,WAAK,OAAO,QAAQ,WAAWA,WAAU,qBAAqB;AAAA,IAChE;AAAA,IAEA,QAAQA,WAAU,uBAAuB;AACvC,WAAK,OAAO,QAAQ,cAAcA,WAAU,qBAAqB;AAAA,IACnE;AAAA,IAEA,OAAO,QAAQA,WAAU,wBAAwB,KAAK,GAAG;AACvD,UAAI,WAAW,QAAQ,UAAW,GAAE,KAAK;AAEzC,YAAM,QAAQ,EAAE,OAAO,EAAE,uBAAuB,kBAAkB,KAAK,aAAa,EAAE;AACtF,aAAO,KAAK,SAAS,OAAO,IAAIA,UAAS,IAAI;AAC7C,WAAK,WAAWA;AAChB,WAAK,wBAAwB;AAAA,IAC/B;AAAA;AAAA,IAIA,gCAAgC,uBAAuB;AACrD,aAAO,KAAK,gBAAgB,qBAAqB,KAAK,CAAC;AAAA,IACzD;AAAA,IAEA,sBAAsB,gBAAgB;AACpC,YAAM,EAAE,sBAAsB,IAAI;AAClC,YAAM,kBAAkB,KAAK,gBAAgB,qBAAqB;AAClE,WAAK,gBAAgB,qBAAqB,IAAI;AAAA,QAC5C,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,IACF;AAAA;AAAA,IAIA,mCAAmC;AACjC,UAAI,CAAC,KAAK,2BAA2B;AACnC,aAAK,4BAA4B,QAAQ,qBAAqB;AAC9D,gBAAQ,oBAAoB;AAAA,MAC9B;AAAA,IACF;AAAA,IAEA,uCAAuC;AACrC,UAAI,KAAK,2BAA2B;AAClC,gBAAQ,oBAAoB,KAAK;AACjC,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA;AAAA,IAIA,aAAa,CAAC,UAAU;AACtB,UAAI,KAAK,qBAAqB,GAAG;AAC/B,cAAM,EAAE,MAAM,IAAI,MAAM,SAAS,CAAC;AAClC,YAAI,OAAO;AACT,eAAK,WAAW,IAAI,IAAI,OAAO,SAAS,IAAI;AAC5C,gBAAM,EAAE,uBAAuB,iBAAiB,IAAI;AACpD,eAAK,wBAAwB;AAC7B,gBAAM,YAAY,mBAAmB,KAAK,eAAe,YAAY;AACrE,eAAK,SAAS,6DAA6D,KAAK,UAAU,uBAAuB,SAAS;AAC1H,eAAK,eAAe;AAAA,QACtB;AAAA,MACF;AAAA,IACF;AAAA,IAEA,aAAa,OAAO,WAAW;AAC7B,YAAM,cAAc;AACpB,WAAK,aAAa;AAAA,IACpB;AAAA;AAAA,IAIA,uBAAuB;AAErB,aAAO,KAAK,aAAa;AAAA,IAC3B;AAAA,IAEA,eAAe;AACb,aAAO,KAAK,cAAc,SAAS,cAAc;AAAA,IACnD;AAAA,EACF;AAEA,MAAM,uBAAN,MAA2B;AAAA,IACzB,UAAU;AAAA,IACV,kBAAkB;AAAA,IAElB,YAAY,UAAU,aAAa;AACjC,WAAK,WAAW;AAChB,WAAK,cAAc;AAAA,IACrB;AAAA,IAEA,QAAQ;AACN,UAAI,KAAK,QAAS;AAElB,UAAI,KAAK,YAAY,eAAe,WAAW;AAC7C,aAAK,YAAY,iBAAiB,oBAAoB,KAAK,SAAS,EAAE,MAAM,KAAK,CAAC;AAAA,MACpF,OAAO;AACL,aAAK,QAAQ;AAAA,MACf;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,CAAC,KAAK,QAAS;AAEnB,WAAK,YAAY,oBAAoB,cAAc,KAAK,uBAAuB;AAAA,QAC7E,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,WAAK,YAAY,oBAAoB,cAAc,KAAK,0BAA0B;AAAA,QAChF,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AAED,WAAK,YAAY,oBAAoB,8BAA8B,KAAK,4BAA4B,IAAI;AACxG,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,UAAU,MAAM;AACd,WAAK,YAAY,iBAAiB,cAAc,KAAK,uBAAuB;AAAA,QAC1E,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,WAAK,YAAY,iBAAiB,cAAc,KAAK,0BAA0B;AAAA,QAC7E,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AAED,WAAK,YAAY,iBAAiB,8BAA8B,KAAK,4BAA4B,IAAI;AACrG,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,wBAAwB,CAAC,UAAU;AACjC,UAAI,eAAe,gBAAgB,MAAM,QAAS;AAElD,YAAM,SAAS,MAAM;AACrB,YAAM,SAAS,OAAO,WAAW,OAAO,QAAQ,0CAA0C;AAE1F,UAAI,UAAU,KAAK,gBAAgB,MAAM,GAAG;AAC1C,cAAM,OAAO;AACb,cAAMA,YAAW,mBAAmB,IAAI;AAExC,YAAI,KAAK,SAAS,6BAA6B,MAAMA,SAAQ,GAAG;AAC9D,eAAK,kBAAkB;AAEvB,gBAAM,eAAe,IAAI;AAAA,YACvB;AAAA,YACA,YAAY;AAAA,YACZA;AAAA,YACA,IAAI,gBAAgB;AAAA,YACpB;AAAA,UACF;AAEA,wBAAc,SAASA,UAAS,SAAS,GAAG,cAAc,KAAK,SAAS;AAAA,QAC1E;AAAA,MACF;AAAA,IACF;AAAA,IAEA,2BAA2B,CAAC,UAAU;AACpC,UAAI,MAAM,WAAW,KAAK,gBAAiB,MAAK,uBAAuB;AAAA,IACzE;AAAA,IAEA,yBAAyB,MAAM;AAC7B,oBAAc,MAAM;AACpB,WAAK,kBAAkB;AAAA,IACzB;AAAA,IAEA,6BAA6B,CAAC,UAAU;AACtC,UAAI,MAAM,OAAO,YAAY,UAAU,MAAM,OAAO,aAAa,WAAW,OAAO;AACjF,cAAM,SAAS,cAAc,IAAI,MAAM,OAAO,IAAI,SAAS,CAAC;AAE5D,YAAI,QAAQ;AAEV,gBAAM,OAAO,eAAe;AAAA,QAC9B;AAEA,sBAAc,MAAM;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,eAAe,SAAS;AACtB,YAAM,OAAO,QAAQ;AAErB,cAAQ,QAAQ,eAAe,IAAI;AAEnC,YAAM,aAAa,KAAK,QAAQ,aAAa;AAC7C,YAAM,mBAAmB,KAAK,aAAa,kBAAkB,KAAK,YAAY,aAAa,QAAQ,KAAK,YAAY;AAEpH,UAAI,oBAAoB,qBAAqB,QAAQ;AACnD,gBAAQ,QAAQ,aAAa,IAAI;AAAA,MACnC;AAAA,IACF;AAAA;AAAA,IAIA,+BAA+B;AAAA,IAAC;AAAA,IAEhC,eAAe,cAAc;AAAA,IAAC;AAAA,IAE9B,eAAe,cAAc;AAAA,IAAC;AAAA,IAE9B,gBAAgB,cAAc;AAAA,IAAC;AAAA,IAE/B,iCAAiC,cAAc,eAAe;AAAA,IAAC;AAAA,IAE/D,0BAA0B,cAAc,eAAe;AAAA,IAAC;AAAA,IAExD,IAAI,YAAY;AACd,aAAO,OAAO,eAAe,2BAA2B,CAAC,KAAK;AAAA,IAChE;AAAA,IAEA,gBAAgB,MAAM;AACpB,YAAM,OAAO,KAAK,aAAa,MAAM;AAErC,UAAI,CAAC,KAAM,QAAO;AAElB,UAAI,gBAAgB,IAAI,EAAG,QAAO;AAClC,UAAI,kBAAkB,IAAI,EAAG,QAAO;AACpC,UAAI,YAAY,IAAI,EAAG,QAAO;AAC9B,UAAI,YAAY,IAAI,EAAG,QAAO;AAC9B,UAAI,eAAe,IAAI,EAAG,QAAO;AAEjC,aAAO;AAAA,IACT;AAAA,EACF;AAEA,MAAM,kBAAkB,CAAC,SAAS;AAChC,WAAO,KAAK,WAAW,SAAS,SAAS,UAAU,CAAC,CAAC,SAAS,QAAQ,EAAE,SAAS,KAAK,QAAQ,KAAK,KAAK,aAAa,QAAQ;AAAA,EAC/H;AAEA,MAAM,oBAAoB,CAAC,SAAS;AAClC,WAAQ,KAAK,WAAW,KAAK,WAAW,SAAS,SAAS,WAAW,SAAS,SAAS,UAAW,KAAK,KAAK,WAAW,GAAG;AAAA,EAC5H;AAEA,MAAM,cAAc,CAAC,SAAS;AAC5B,QAAI,KAAK,aAAa,qBAAqB,MAAM,QAAS,QAAO;AACjE,QAAI,KAAK,aAAa,YAAY,MAAM,QAAS,QAAO;AAExD,UAAM,sBAAsB,uBAAuB,MAAM,uBAAuB;AAChF,QAAI,uBAAuB,oBAAoB,aAAa,qBAAqB,MAAM,QAAS,QAAO;AAEvG,WAAO;AAAA,EACT;AAEA,MAAM,cAAc,CAAC,SAAS;AAC5B,UAAM,cAAc,KAAK,aAAa,mBAAmB;AACzD,QAAI,eAAe,YAAY,YAAY,MAAM,MAAO,QAAO;AAE/D,QAAI,MAAM,IAAI,EAAG,QAAO;AACxB,QAAI,KAAK,aAAa,oBAAoB,EAAG,QAAO;AACpD,QAAI,KAAK,aAAa,mBAAmB,EAAG,QAAO;AAEnD,WAAO;AAAA,EACT;AAEA,MAAM,QAAQ,CAAC,SAAS;AACtB,WAAO,KAAK,aAAa,aAAa,KAAK,KAAK,aAAa,eAAe,KAAK,KAAK,aAAa,cAAc,KAAK,KAAK,aAAa,aAAa;AAAA,EACvJ;AAEA,MAAM,iBAAiB,CAAC,SAAS;AAC/B,UAAM,QAAQ,SAAS,yBAAyB,EAAE,QAAQ,MAAM,YAAY,KAAK,CAAC;AAClF,WAAO,MAAM;AAAA,EACf;AAEA,MAAM,YAAN,MAAgB;AAAA,IACd,YAAY,UAAU;AACpB,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,aAAaA,WAAU,UAAU,CAAC,GAAG;AACnC,UAAI,KAAK,SAAS,iCAAiCA,WAAU,QAAQ,MAAM,GAAG;AAC5E,aAAK,SAAS,wBAAwBA,WAAU,OAAO;AAAA,MACzD;AAAA,IACF;AAAA,IAEA,WAAW,WAAW,uBAAuB,UAAU,CAAC,GAAG;AACzD,WAAK,KAAK;AACV,WAAK,eAAe,IAAI,MAAM,MAAM,UAAU,SAAS,GAAG,uBAAuB;AAAA,QAC/E,UAAU,KAAK;AAAA,QACf,GAAG;AAAA,MACL,CAAC;AACD,WAAK,aAAa,MAAM;AAAA,IAC1B;AAAA,IAEA,WAAW,MAAMR,YAAW;AAC1B,WAAK,KAAK;AACV,WAAK,iBAAiB,IAAI,eAAe,MAAM,MAAMA,YAAW,IAAI;AAEpE,WAAK,eAAe,MAAM;AAAA,IAC5B;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,gBAAgB;AACvB,aAAK,eAAe,KAAK;AACzB,eAAO,KAAK;AAAA,MACd;AAEA,UAAI,KAAK,cAAc;AACrB,aAAK,aAAa,OAAO;AACzB,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,OAAO;AACT,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO,KAAK,KAAK,SAAS;AAAA,IAC5B;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA;AAAA,IAIA,sBAAsB,gBAAgB;AAEpC,UAAI,OAAO,KAAK,QAAQ,0BAA0B,YAAY;AAC5D,aAAK,QAAQ,sBAAsB,cAAc;AAAA,MACnD;AAAA,IACF;AAAA,IAEA,MAAM,oCAAoC,gBAAgB,eAAe;AACvE,UAAI,kBAAkB,KAAK,gBAAgB;AACzC,cAAM,eAAe,MAAM,cAAc;AACzC,YAAI,cAAc;AAChB,gBAAM,sBAAsB,eAAe;AAC3C,cAAI,CAAC,qBAAqB;AACxB,iBAAK,KAAK,mBAAmB;AAAA,UAC/B;AAEA,gBAAM,EAAE,YAAY,WAAW,IAAI;AACnC,gBAAM,SAAS,KAAK,4BAA4B,gBAAgB,aAAa;AAC7E,gBAAM,eAAe;AAAA,YACnB;AAAA,YACA;AAAA,YACA,UAAU,EAAE,YAAY,cAAc,WAAW;AAAA,UACnD;AACA,eAAK,aAAa,cAAc,UAAU,YAAY;AAAA,QACxD;AAAA,MACF;AAAA,IACF;AAAA,IAEA,MAAM,iCAAiC,gBAAgB,eAAe;AACpE,YAAM,eAAe,MAAM,cAAc;AAEzC,UAAI,cAAc;AAChB,cAAM,WAAW,aAAa,eAAe,YAAY;AACzD,YAAI,cAAc,aAAa;AAC7B,gBAAM,KAAK,KAAK,YAAY,UAAU,KAAK,YAAY;AAAA,QACzD,OAAO;AACL,gBAAM,KAAK,KAAK,WAAW,UAAU,OAAO,MAAM,KAAK,YAAY;AAAA,QACrE;AACA,YAAG,CAAC,SAAS,8BAA8B;AACzC,eAAK,KAAK,YAAY;AAAA,QACxB;AACA,aAAK,KAAK,mBAAmB;AAAA,MAC/B;AAAA,IACF;AAAA,IAEA,sBAAsB,gBAAgBW,QAAO;AAC3C,cAAQ,MAAMA,MAAK;AAAA,IACrB;AAAA,IAEA,uBAAuB,gBAAgB;AAErC,UAAI,OAAO,KAAK,QAAQ,2BAA2B,YAAY;AAC7D,aAAK,QAAQ,uBAAuB,cAAc;AAAA,MACpD;AAAA,IACF;AAAA;AAAA,IAIA,aAAaY,QAAO;AAClB,WAAK,SAAS,aAAaA,MAAK;AAAA,IAClC;AAAA,IAEA,eAAeA,QAAO;AACpB,WAAK,SAAS,eAAeA,MAAK;AAClC,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,6BAA6Bf,WAAU,QAAQ;AAC7C,YAAM,SAAS,UAAUA,SAAQ;AACjC,YAAM,gBAAgB,UAAU,KAAK,KAAK,oBAAoB;AAC9D,YAAM,qBAAqB,WAAW,aAAa,OAAO,WAAW;AAErE,aACE,WAAW,aACX,cAAcA,SAAQ,MAAM,cAAc,KAAK,KAAK,oBAAoB,MACvE,sBAAuB,UAAU,QAAQ,WAAW;AAAA,IAEzD;AAAA,IAEA,gCAAgC,QAAQ,QAAQ;AAC9C,WAAK,SAAS,gCAAgC,QAAQ,MAAM;AAAA,IAC9D;AAAA;AAAA,IAIA,IAAI,WAAW;AACb,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,IAAI,wBAAwB;AAC1B,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,4BAA4B,gBAAgB,eAAe;AACzD,YAAM,EAAE,WAAAR,YAAW,YAAY,IAAI;AACnC,aAAO,eAAeA,YAAW,WAAW,KAAK,KAAK,kBAAkB,aAAa;AAAA,IACvF;AAAA,IAEA,kBAAkB,eAAe;AAC/B,YAAM,uBAAuB,cAAc,cAAc,cAAc,SAAS,SAAS,KAAK,UAAU;AACxG,aAAO,uBAAuB,YAAY;AAAA,IAC5C;AAAA,EACF;AAEA,MAAM,YAAY;AAAA,IAChB,SAAS;AAAA,IACT,SAAS;AAAA,IACT,aAAa;AAAA,IACb,UAAU;AAAA,EACZ;AAEA,MAAM,eAAN,MAAmB;AAAA,IACjB,QAAQ,UAAU;AAAA,IAClB,UAAU;AAAA,IAEV,YAAY,UAAU;AACpB,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,YAAI,KAAK,SAAS,UAAU,SAAS;AACnC,eAAK,QAAQ,UAAU;AAAA,QACzB;AACA,iBAAS,iBAAiB,oBAAoB,KAAK,qBAAqB,KAAK;AAC7E,yBAAiB,YAAY,KAAK,gBAAgB,KAAK;AACvD,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,iBAAS,oBAAoB,oBAAoB,KAAK,qBAAqB,KAAK;AAChF,4BAAoB,YAAY,KAAK,gBAAgB,KAAK;AAC1D,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,sBAAsB,MAAM;AAC1B,YAAM,EAAE,WAAW,IAAI;AACvB,UAAI,cAAc,eAAe;AAC/B,aAAK,kBAAkB;AAAA,MACzB,WAAW,cAAc,YAAY;AACnC,aAAK,eAAe;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,oBAAoB;AAClB,UAAI,KAAK,SAAS,UAAU,SAAS;AACnC,aAAK,QAAQ,UAAU;AACvB,aAAK,SAAS,sBAAsB;AAAA,MACtC;AAAA,IACF;AAAA,IAEA,iBAAiB;AACf,WAAK,kBAAkB;AACvB,UAAI,KAAK,SAAS,UAAU,aAAa;AACvC,aAAK,QAAQ,UAAU;AACvB,aAAK,SAAS,WAAW;AAAA,MAC3B;AAAA,IACF;AAAA,IAEA,iBAAiB,MAAM;AACrB,WAAK,SAAS,eAAe;AAAA,IAC/B;AAAA,IAEA,IAAI,aAAa;AACf,aAAO,SAAS;AAAA,IAClB;AAAA,EACF;AAEA,MAAM,iBAAN,MAAqB;AAAA,IACnB,UAAU;AAAA,IAEV,YAAY,UAAU;AACpB,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,yBAAiB,UAAU,KAAK,UAAU,KAAK;AAC/C,aAAK,SAAS;AACd,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,4BAAoB,UAAU,KAAK,UAAU,KAAK;AAClD,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,WAAW,MAAM;AACf,WAAK,eAAe,EAAE,GAAG,OAAO,aAAa,GAAG,OAAO,YAAY,CAAC;AAAA,IACtE;AAAA;AAAA,IAIA,eAAe,UAAU;AACvB,WAAK,SAAS,sBAAsB,QAAQ;AAAA,IAC9C;AAAA,EACF;AAEA,MAAM,wBAAN,MAA4B;AAAA,IAC1B,OAAO,EAAE,SAAS,GAAG;AACnB,YAAM,4BAA4B,MAAM,kCAAkC,QAAQ,GAAG,MAAM;AACzF,kCAA0B,UAAU,MAAM;AACxC,6BAAmB,MAAM;AACvB,qBAAS,gBAAgB,YAAY,QAAQ;AAAA,UAC/C,CAAC;AAAA,QACH,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA;AAAA,IAIA,cAAc,yBAAyB,qBAAqB;AAC1D,0BAAoB,YAAY,wBAAwB,UAAU,IAAI,CAAC;AAAA,IACzE;AAAA,IAEA,eAAe;AAAA,IAAC;AAAA,EAClB;AAEA,WAAS,kCAAkC,UAAU;AACnD,UAAM,8BAA8B,0BAA0B,SAAS,eAAe;AACtF,UAAM,sBAAsB,CAAC;AAC7B,eAAW,8BAA8B,6BAA6B;AACpE,YAAM,EAAE,IAAAc,KAAG,IAAI;AAEf,iBAAW,iBAAiB,SAAS,iBAAiB,cAAc,GAAG;AACrE,cAAM,kBAAkB,wBAAwB,cAAc,gBAAgB,SAASA,IAAE;AAEzF,YAAI,iBAAiB;AACnB,8BAAoBA,IAAE,IAAI,CAAC,4BAA4B,eAAe;AAAA,QACxE;AAAA,MACF;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAEA,iBAAe,0BAA0B,UAAU,UAAU;AAC3D,UAAM,cAAc,0BAA0B,KAAK,CAAC;AACpD,UAAM,eAAe,SAAS,iBAAiB,cAAc;AAC7D,UAAM,uBAAuB,mCAAmC,YAAY;AAC5E,QAAI,kBAAkB;AAEtB,QAAI,sBAAsB;AACxB,UAAI,qBAAqB,IAAI;AAC3B,0BAAkB,qBAAqB;AAAA,MACzC,OAAO;AACL,0BAAkB;AAAA,MACpB;AAEA,2BAAqB,KAAK;AAAA,IAC5B;AAEA,aAAS;AACT,UAAM,YAAY;AAElB,UAAM,qBAAqB,SAAS,iBAAiB,QAAQ,SAAS,iBAAiB,SAAS;AAEhG,QAAI,sBAAsB,iBAAiB;AACzC,YAAM,qBAAqB,SAAS,eAAe,eAAe;AAElE,UAAI,mBAAmB,kBAAkB,GAAG;AAC1C,2BAAmB,MAAM;AAAA,MAC3B;AACA,UAAI,sBAAsB,mBAAmB,MAAM,aAAa;AAC9D,2BAAmB,gBAAgB,IAAI;AAAA,MACzC;AAAA,IACF;AAAA,EACF;AAEA,iBAAe,mBAAmB,UAAU;AAC1C,UAAM,CAAC,2BAA2B,wBAAwB,IAAI,MAAM,OAAO,UAAU,MAAM,SAAS,aAAa;AAEjH,UAAM,iBAAiB,6BAA6B,0BAA0B;AAE9E,QAAI,gBAAgB;AAClB,YAAM,iBAAiB,SAAS,eAAe,cAAc;AAE7D,UAAI,mBAAmB,cAAc,KAAK,kBAAkB,0BAA0B;AACpF,uBAAe,MAAM;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAEA,WAAS,mCAAmC,0BAA0B;AACpE,eAAW,iBAAiB,0BAA0B;AACpD,YAAM,uBAAuB,0BAA0B,cAAc,gBAAgB,OAAO;AAE5F,UAAI,qBAAsB,QAAO;AAAA,IACnC;AAEA,WAAO;AAAA,EACT;AAEA,MAAM,iBAAN,MAAqB;AAAA,IACnB,UAAU,oBAAI,IAAI;AAAA,IAClB,WAAW;AAAA,IAEX,YAAY,UAAU;AACpB,WAAK,WAAW;AAAA,IAClB;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,UAAU;AAClB,aAAK,WAAW;AAChB,yBAAiB,+BAA+B,KAAK,sBAAsB,KAAK;AAAA,MAClF;AAAA,IACF;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,UAAU;AACjB,aAAK,WAAW;AAChB,4BAAoB,+BAA+B,KAAK,sBAAsB,KAAK;AAAA,MACrF;AAAA,IACF;AAAA,IAEA,oBAAoB,QAAQ;AAC1B,UAAI,CAAC,KAAK,wBAAwB,MAAM,GAAG;AACzC,aAAK,QAAQ,IAAI,MAAM;AACvB,eAAO,iBAAiB,WAAW,KAAK,qBAAqB,KAAK;AAAA,MACpE;AAAA,IACF;AAAA,IAEA,uBAAuB,QAAQ;AAC7B,UAAI,KAAK,wBAAwB,MAAM,GAAG;AACxC,aAAK,QAAQ,OAAO,MAAM;AAC1B,eAAO,oBAAoB,WAAW,KAAK,qBAAqB,KAAK;AAAA,MACvE;AAAA,IACF;AAAA,IAEA,wBAAwB,QAAQ;AAC9B,aAAO,KAAK,QAAQ,IAAI,MAAM;AAAA,IAChC;AAAA,IAEA,uBAAuB,CAAC,UAAU;AAChC,YAAM,WAAW,uBAAuB,KAAK;AAC7C,UAAI,YAAY,sBAAsB,QAAQ,GAAG;AAC/C,cAAM,eAAe;AACrB,aAAK,uBAAuB,QAAQ;AAAA,MACtC;AAAA,IACF;AAAA,IAEA,sBAAsB,CAAC,UAAU;AAC/B,UAAI,KAAK,YAAY,OAAO,MAAM,QAAQ,UAAU;AAClD,aAAK,mBAAmB,MAAM,IAAI;AAAA,MACpC;AAAA,IACF;AAAA,IAEA,MAAM,uBAAuB,UAAU;AACrC,YAAM,OAAO,MAAM,SAAS;AAC5B,UAAI,MAAM;AACR,aAAK,mBAAmB,IAAI;AAAA,MAC9B;AAAA,IACF;AAAA,IAEA,mBAAmB,MAAM;AACvB,WAAK,SAAS,0BAA0B,cAAc,KAAK,IAAI,CAAC;AAAA,IAClE;AAAA,EACF;AAEA,WAAS,uBAAuB,OAAO;AACrC,UAAM,gBAAgB,MAAM,QAAQ;AACpC,QAAI,yBAAyB,eAAe;AAC1C,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,sBAAsB,UAAU;AACvC,UAAM,cAAc,SAAS,eAAe;AAC5C,WAAO,YAAY,WAAW,cAAc,WAAW;AAAA,EACzD;AAEA,MAAM,gBAAN,cAA4B,SAAS;AAAA,IACnC,OAAO,cAAc,gBAAgB,YAAY;AAC/C,YAAM,EAAE,iBAAiB,KAAK,IAAI;AAElC,sBAAgB,aAAa,YAAY,IAAI;AAAA,IAC/C;AAAA,IAEA,MAAM,SAAS;AACb,WAAK,mBAAmB;AACxB,WAAK,uBAAuB;AAAA,IAC9B;AAAA,IAEA,qBAAqB;AACnB,YAAM,EAAE,iBAAiB,KAAK,IAAI;AAClC,sBAAgB,aAAa,KAAK,SAAS,IAAI;AAC/C,WAAK,cAAc,KAAK,gBAAgB,KAAK,UAAU;AAAA,IACzD;AAAA,IAEA,yBAAyB;AACvB,iBAAW,sBAAsB,KAAK,gBAAgB;AACpD,cAAM,aAAa,mBAAmB;AACtC,YAAI,YAAY;AACd,gBAAM,UAAU,sBAAsB,kBAAkB;AACxD,qBAAW,aAAa,SAAS,kBAAkB;AAAA,QACrD;AAAA,MACF;AAAA,IACF;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,KAAK,YAAY,aAAa;AAAA,IACvC;AAAA,IAEA,IAAI,iBAAiB;AACnB,aAAO,SAAS,gBAAgB,iBAAiB,QAAQ;AAAA,IAC3D;AAAA,EACF;AAEA,MAAM,eAAN,cAA2B,SAAS;AAAA,IAClC,OAAO,cAAc,gBAAgB,YAAY;AAC/C,UAAI,SAAS,QAAQ,sBAAsB,iBAAiB;AAC1D,iBAAS,KAAK,YAAY,UAAU;AAAA,MACtC,OAAO;AACL,iBAAS,gBAAgB,YAAY,UAAU;AAAA,MACjD;AAAA,IACF;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO,KAAK,YAAY,eAAe,KAAK;AAAA,IAC9C;AAAA,IAEA,IAAI,eAAe;AACjB,UAAI,CAAC,KAAK,YAAY,aAAa;AACjC,eAAO;AAAA,UACL,QAAQ;AAAA,QACV;AAAA,MACF;AAEA,UAAI,CAAC,KAAK,6BAA6B;AACrC,eAAO;AAAA,UACL,QAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IAEA,MAAM,kBAAkB;AACtB,WAAK,aAAa;AAClB,YAAM,KAAK,UAAU;AAAA,IACvB;AAAA,IAEA,MAAM,SAAS;AACb,UAAI,KAAK,YAAY;AACnB,cAAM,KAAK,YAAY;AAAA,MACzB;AAAA,IACF;AAAA,IAEA,kBAAkB;AAChB,YAAM,gBAAgB;AACtB,UAAI,CAAC,KAAK,WAAW;AACnB,aAAK,+BAA+B;AAAA,MACtC;AAAA,IACF;AAAA,IAEA,IAAI,sBAAsB;AACxB,aAAO,KAAK,gBAAgB;AAAA,IAC9B;AAAA,IAEA,IAAI,kBAAkB;AACpB,aAAO,KAAK,YAAY;AAAA,IAC1B;AAAA,IAEA,IAAI,aAAa;AACf,aAAO,KAAK,YAAY;AAAA,IAC1B;AAAA,IAEA,eAAe;AACb,YAAM,EAAE,gBAAgB,IAAI,KAAK;AACjC,YAAM,EAAE,KAAK,IAAI,KAAK;AAEtB,UAAI,MAAM;AACR,wBAAgB,aAAa,QAAQ,IAAI;AAAA,MAC3C,OAAO;AACL,wBAAgB,gBAAgB,MAAM;AAAA,MACxC;AAAA,IACF;AAAA,IAEA,MAAM,YAAY;AAChB,YAAM,qBAAqB,KAAK,yBAAyB;AACzD,YAAM,wBAAwB,KAAK,8BAA8B;AACjE,WAAK,0BAA0B;AAE/B,YAAM;AACN,YAAM;AAEN,UAAI,KAAK,YAAY;AACnB,aAAK,sCAAsC;AAAA,MAC7C;AAAA,IACF;AAAA,IAEA,MAAM,cAAc;AAClB,YAAM,KAAK,4BAA4B,YAAY;AACjD,aAAK,gBAAgB;AACrB,cAAM,KAAK,cAAc;AAAA,MAC3B,CAAC;AAAA,IACH;AAAA,IAEA,IAAI,8BAA8B;AAChC,aAAO,KAAK,oBAAoB,2BAA2B,KAAK,gBAAgB;AAAA,IAClF;AAAA,IAEA,MAAM,gCAAgC;AACpC,YAAM,kBAAkB,CAAC;AAEzB,iBAAW,WAAW,KAAK,2BAA2B;AACpD,wBAAgB,KAAK,YAAY,OAAO,CAAC;AAEzC,iBAAS,KAAK,YAAY,OAAO;AAAA,MACnC;AAEA,YAAM,QAAQ,IAAI,eAAe;AAAA,IACnC;AAAA,IAEA,4BAA4B;AAC1B,iBAAW,WAAW,KAAK,uBAAuB;AAChD,iBAAS,KAAK,YAAY,sBAAsB,OAAO,CAAC;AAAA,MAC1D;AAAA,IACF;AAAA,IAEA,wCAAwC;AACtC,iBAAW,WAAW,KAAK,iCAAiC;AAC1D,iBAAS,KAAK,YAAY,OAAO;AAAA,MACnC;AAAA,IACF;AAAA,IAEA,MAAM,2BAA2B;AAC/B,YAAM,kBAAkB,CAAC,GAAG,KAAK,0BAA0B;AAE3D,iBAAW,WAAW,KAAK,gCAAgC;AACzD,YAAI,CAAC,KAAK,8BAA8B,SAAS,eAAe,GAAG;AACjE,mBAAS,KAAK,YAAY,OAAO;AAAA,QACnC;AAAA,MACF;AAEA,iBAAW,WAAW,iBAAiB;AACrC,iBAAS,KAAK,YAAY,OAAO;AAAA,MACnC;AAAA,IACF;AAAA,IAEA,8BAA8B,SAAS,aAAa;AAClD,iBAAW,CAAC,OAAO,UAAU,KAAK,YAAY,QAAQ,GAAG;AAEvD,YAAI,QAAQ,WAAW,SAAS;AAC9B,cAAI,WAAW,WAAW,SAAS;AACjC;AAAA,UACF;AACA,cAAI,QAAQ,aAAa,WAAW,WAAW;AAC7C,wBAAY,OAAO,OAAO,CAAC;AAC3B,mBAAO;AAAA,UACT;AAAA,QACF;AAGA,YAAI,WAAW,YAAY,OAAO,GAAG;AACnC,sBAAY,OAAO,OAAO,CAAC;AAC3B,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAAA,IAEA,uCAAuC;AACrC,iBAAW,WAAW,KAAK,gCAAgC;AACzD,iBAAS,KAAK,YAAY,OAAO;AAAA,MACnC;AAAA,IACF;AAAA,IAEA,iCAAiC;AAC/B,iBAAW,WAAW,KAAK,4BAA4B;AACrD,iBAAS,KAAK,YAAY,OAAO;AAAA,MACnC;AAAA,IACF;AAAA,IAEA,kBAAkB;AAChB,eAAS,UAAU,KAAK,UAAU;AAClC,WAAK,8BAA8B;AAAA,IACrC;AAAA,IAEA,gCAAgC;AAC9B,iBAAW,sBAAsB,KAAK,uBAAuB;AAC3D,cAAM,yBAAyB,sBAAsB,kBAAkB;AACvE,2BAAmB,YAAY,sBAAsB;AAAA,MACvD;AAAA,IACF;AAAA,IAEA,MAAM,gBAAgB;AACpB,YAAM,KAAK,cAAc,KAAK,gBAAgB,KAAK,UAAU;AAAA,IAC/D;AAAA,IAEA,IAAI,kCAAkC;AACpC,aAAO,KAAK,0BAA0B,OAAO,CAAC,YAAY;AACxD,eAAO,QAAQ,aAAa,kBAAkB,MAAM;AAAA,MACtD,CAAC;AAAA,IACH;AAAA,IAEA,IAAI,4BAA4B;AAC9B,aAAO,KAAK,oBAAoB,mCAAmC,KAAK,eAAe;AAAA,IACzF;AAAA,IAEA,IAAI,4BAA4B;AAC9B,aAAO,KAAK,gBAAgB,mCAAmC,KAAK,mBAAmB;AAAA,IACzF;AAAA,IAEA,IAAI,wBAAwB;AAC1B,aAAO,KAAK,gBAAgB,+BAA+B,KAAK,mBAAmB;AAAA,IACrF;AAAA,IAEA,IAAI,iCAAiC;AACnC,aAAO,KAAK,oBAAoB;AAAA,IAClC;AAAA,IAEA,IAAI,6BAA6B;AAC/B,aAAO,KAAK,gBAAgB;AAAA,IAC9B;AAAA,IAEA,IAAI,wBAAwB;AAC1B,aAAO,KAAK,WAAW,iBAAiB,QAAQ;AAAA,IAClD;AAAA,EACF;AAEA,MAAM,uBAAN,cAAmC,aAAa;AAAA,IAC9C,OAAO,cAAc,gBAAgB,YAAY;AAC/C,oBAAc,gBAAgB,YAAY;AAAA,QACxC,WAAW;AAAA,UACT,mBAAmB,aAAW,CAAC,gBAAgB,OAAO;AAAA,QACxD;AAAA,MACF,CAAC;AAED,iBAAW,SAAS,eAAe,iBAAiB,aAAa,GAAG;AAClE,YAAI,gBAAgB,KAAK,EAAG,OAAM,OAAO;AAAA,MAC3C;AAEA,eAAS,eAAe,EAAE,QAAQ,EAAE,gBAAgB,WAAW,EAAE,CAAC;AAAA,IACpE;AAAA,IAEA,MAAM,4BAA4B,UAAU;AAC1C,aAAO,MAAM,SAAS;AAAA,IACxB;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO;AAAA,IACT;AAAA,IAEA,IAAI,kBAAkB;AACpB,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,gBAAgB,OAAO;AAC9B,WAAO,iBAAiB,gBACtB,MAAM,OACN,MAAM,YAAY,WAClB,CAAC,MAAM,QAAQ,wBAAwB;AAAA,EAC3C;AAEA,MAAM,gBAAN,MAAoB;AAAA,IAClB,OAAO,CAAC;AAAA,IACR,YAAY,CAAC;AAAA,IAEb,YAAY,MAAM;AAChB,WAAK,OAAO;AAAA,IACd;AAAA,IAEA,IAAIN,WAAU;AACZ,aAAO,WAAWA,SAAQ,KAAK,KAAK;AAAA,IACtC;AAAA,IAEA,IAAIA,WAAU;AACZ,UAAI,KAAK,IAAIA,SAAQ,GAAG;AACtB,cAAM,WAAW,KAAK,KAAKA,SAAQ;AACnC,aAAK,MAAMA,SAAQ;AACnB,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,IAAIA,WAAU,UAAU;AACtB,WAAK,MAAMA,WAAU,QAAQ;AAC7B,WAAK,MAAMA,SAAQ;AACnB,aAAO;AAAA,IACT;AAAA,IAEA,QAAQ;AACN,WAAK,YAAY,CAAC;AAAA,IACpB;AAAA;AAAA,IAIA,KAAKA,WAAU;AACb,aAAO,KAAK,UAAU,WAAWA,SAAQ,CAAC;AAAA,IAC5C;AAAA,IAEA,MAAMA,WAAU,UAAU;AACxB,WAAK,UAAU,WAAWA,SAAQ,CAAC,IAAI;AAAA,IACzC;AAAA,IAEA,MAAMA,WAAU;AACd,YAAM,MAAM,WAAWA,SAAQ;AAC/B,YAAM,QAAQ,KAAK,KAAK,QAAQ,GAAG;AACnC,UAAI,QAAQ,GAAI,MAAK,KAAK,OAAO,OAAO,CAAC;AACzC,WAAK,KAAK,QAAQ,GAAG;AACrB,WAAK,KAAK;AAAA,IACZ;AAAA,IAEA,OAAO;AACL,iBAAW,OAAO,KAAK,KAAK,OAAO,KAAK,IAAI,GAAG;AAC7C,eAAO,KAAK,UAAU,GAAG;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AAEA,MAAM,WAAN,cAAuB,KAAK;AAAA,IAC1B,gBAAgB,IAAI,cAAc,EAAE;AAAA,IACpC,uBAAuB,IAAI,IAAI,SAAS,IAAI;AAAA,IAC5C,gBAAgB;AAAA,IAEhB,mBAAmB,aAAa;AAC9B,aAAO,KAAK,SAAS,0BAA0B,YAAY;AAAA,IAC7D;AAAA,IAEA,WAAW,UAAU,YAAY,OAAO,aAAa,MAAMe,QAAO;AAChE,YAAM,kBAAkB,KAAK,cAAcA,MAAK,KAAK,KAAK,SAAS;AACnE,YAAM,gBAAgB,kBAAkB,uBAAuB;AAE/D,YAAM,WAAW,IAAI,cAAc,KAAK,UAAU,UAAU,WAAW,UAAU;AAEjF,UAAI,CAAC,SAAS,cAAc;AAC1B,aAAK,gBAAgB;AAAA,MACvB,OAAO;AACL,QAAAA,QAAO,cAAc;AAAA,MACvB;AAEA,aAAO,KAAK,OAAO,QAAQ;AAAA,IAC7B;AAAA,IAEA,YAAY,UAAUA,QAAO;AAC3B,MAAAA,QAAO,cAAc;AACrB,YAAM,WAAW,IAAI,cAAc,KAAK,UAAU,UAAU,KAAK;AACjE,aAAO,KAAK,OAAO,QAAQ;AAAA,IAC7B;AAAA,IAEA,qBAAqB;AACnB,WAAK,cAAc,MAAM;AAAA,IAC3B;AAAA,IAEA,MAAM,cAAc,WAAW,KAAK,UAAU;AAC5C,UAAI,SAAS,aAAa;AACxB,aAAK,SAAS,sBAAsB;AACpC,cAAM,EAAE,sBAAsBf,UAAS,IAAI;AAC3C,cAAM,kBAAkB;AACxB,cAAM,iBAAiB,SAAS,MAAM;AACtC,aAAK,cAAc,IAAIA,WAAU,cAAc;AAC/C,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IAEA,6BAA6BA,WAAU;AACrC,aAAO,KAAK,cAAc,IAAIA,SAAQ;AAAA,IACxC;AAAA,IAEA,cAAce,QAAO;AACnB,aAAO,CAACA,UAAU,KAAK,qBAAqB,aAAaA,OAAM,SAAS,YAAYA,OAAM,WAAW;AAAA,IACvG;AAAA,IAEA,6BAA6BA,QAAO;AAClC,aAAO,KAAK,cAAcA,MAAK,KAAK,KAAK,SAAS;AAAA,IACpD;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,aAAa,YAAY,KAAK,OAAO;AAAA,IAC9C;AAAA,EACF;AAEA,MAAM,YAAN,MAAgB;AAAA,IACd,WAAW;AAAA,IAEX,YAAY,UAAU,eAAe;AACnC,WAAK,WAAW;AAChB,WAAK,gBAAgB;AAAA,IACvB;AAAA,IAEA,QAAQ;AACN,UAAI,SAAS,eAAe,WAAW;AACrC,iBAAS,iBAAiB,oBAAoB,KAAK,WAAW;AAAA,MAChE,OAAO;AACL,aAAK,0BAA0B,SAAS,IAAI;AAAA,MAC9C;AAAA,IACF;AAAA,IAEA,OAAO;AACL,eAAS,oBAAoB,oBAAoB,KAAK,WAAW;AAAA,IACnE;AAAA,IAEA,0BAA0B,SAAS;AACjC,iBAAW,QAAQ,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC1D,YAAI,KAAK,SAAS,kBAAkB,IAAI,GAAG;AACzC,eAAK,WAAW,IAAI;AAAA,QACtB;AAAA,MACF;AAAA,IACF;AAAA,IAEA,MAAM,WAAW,MAAM;AACrB,YAAMf,YAAW,IAAI,IAAI,KAAK,IAAI;AAElC,UAAI,KAAK,cAAc,IAAIA,SAAQ,GAAG;AACpC;AAAA,MACF;AAEA,YAAM,eAAe,IAAI,aAAa,MAAM,YAAY,KAAKA,WAAU,IAAI,gBAAgB,GAAG,IAAI;AAClG,YAAM,aAAa,QAAQ;AAAA,IAC7B;AAAA;AAAA,IAIA,eAAe,cAAc;AAC3B,mBAAa,QAAQ,eAAe,IAAI;AAAA,IAC1C;AAAA,IAEA,MAAM,6BAA6B,cAAc,eAAe;AAC9D,UAAI;AACF,cAAM,eAAe,MAAM,cAAc;AACzC,cAAM,WAAW,aAAa,eAAe,YAAY;AAEzD,aAAK,cAAc,IAAI,aAAa,KAAK,QAAQ;AAAA,MACnD,SAASJ,IAAG;AAAA,MAEZ;AAAA,IACF;AAAA,IAEA,eAAe,cAAc;AAAA,IAAC;AAAA,IAE9B,eAAe,cAAc;AAAA,IAAC;AAAA,IAE9B,gBAAgB,cAAc;AAAA,IAAC;AAAA,IAE/B,iCAAiC,cAAc,eAAe;AAAA,IAAC;AAAA,IAE/D,0BAA0B,cAAc,eAAe;AAAA,IAAC;AAAA,IAExD,cAAc,MAAM;AAClB,WAAK,0BAA0B,SAAS,IAAI;AAAA,IAC9C;AAAA,EACF;AAEA,MAAM,QAAN,MAAY;AAAA,IACV,YAAYkB,UAAS;AACnB,WAAK,UAAUA;AAAA,IACjB;AAAA,IAEA,QAAQ;AACN,WAAK,QAAQ,WAAW;AAAA,IAC1B;AAAA,IAEA,oBAAoB;AAClB,WAAK,iBAAiB,EAAE;AAAA,IAC1B;AAAA,IAEA,sBAAsB;AACpB,WAAK,iBAAiB,UAAU;AAAA,IAClC;AAAA,IAEA,wBAAwB;AACtB,WAAK,iBAAiB,YAAY;AAAA,IACpC;AAAA,IAEA,iBAAiB,OAAO;AACtB,qBAAe,uBAAuB,KAAK;AAAA,IAC7C;AAAA,EACF;AAEA,MAAM,UAAN,MAAc;AAAA,IACZ,YAAY,IAAI,UAAU,IAAI;AAAA,IAC9B,UAAU,IAAI,QAAQ,IAAI;AAAA,IAC1B,OAAO,IAAI,SAAS,MAAM,SAAS,eAAe;AAAA,IAClD,UAAU,IAAI,eAAe,IAAI;AAAA,IAEjC,eAAe,IAAI,aAAa,IAAI;AAAA,IACpC,gBAAgB,IAAI,cAAc;AAAA,IAClC,uBAAuB,IAAI,qBAAqB,MAAM,QAAQ;AAAA,IAC9D,oBAAoB,IAAI,kBAAkB,MAAM,MAAM;AAAA,IACtD,qBAAqB,IAAI,mBAAmB,MAAM,QAAQ;AAAA,IAC1D,iBAAiB,IAAI,eAAe,IAAI;AAAA,IACxC,iBAAiB,IAAI,eAAe,IAAI;AAAA,IACxC,wBAAwB,IAAI,sBAAsB,MAAM,SAAS,eAAe;AAAA,IAChF,kBAAkB,IAAI,gBAAgB,MAAM,SAAS,eAAe;AAAA,IACpE,wBAAwB,IAAI,sBAAsB;AAAA,IAClD,QAAQ,IAAI,MAAM,IAAI;AAAA,IAEtB,UAAU;AAAA,IACV,UAAU;AAAA,IACV,6BAA6B;AAAA,IAE7B,YAAYE,iBAAgB;AAC1B,WAAK,iBAAiBA;AACtB,WAAK,YAAY,IAAI,UAAU,MAAM,KAAK,KAAK,aAAa;AAC5D,WAAK,mBAAmB,KAAK;AAC7B,WAAK,4BAA4B,KAAK;AAAA,IACxC;AAAA,IAEA,QAAQ;AACN,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,aAAa,MAAM;AACxB,aAAK,cAAc,MAAM;AACzB,aAAK,qBAAqB,MAAM;AAChC,aAAK,sBAAsB,MAAM;AACjC,aAAK,kBAAkB,MAAM;AAC7B,aAAK,mBAAmB,MAAM;AAC9B,aAAK,eAAe,MAAM;AAC1B,aAAK,eAAe,MAAM;AAC1B,aAAK,gBAAgB,MAAM;AAC3B,aAAK,QAAQ,MAAM;AACnB,aAAK,UAAU,MAAM;AACrB,aAAK,UAAU;AACf,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,UAAU;AACR,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,SAAS;AAChB,aAAK,aAAa,KAAK;AACvB,aAAK,cAAc,KAAK;AACxB,aAAK,qBAAqB,KAAK;AAC/B,aAAK,sBAAsB,KAAK;AAChC,aAAK,kBAAkB,KAAK;AAC5B,aAAK,mBAAmB,KAAK;AAC7B,aAAK,eAAe,KAAK;AACzB,aAAK,eAAe,KAAK;AACzB,aAAK,gBAAgB,KAAK;AAC1B,aAAK,QAAQ,KAAK;AAClB,aAAK,UAAU,KAAK;AACpB,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,gBAAgB,SAAS;AACvB,WAAK,UAAU;AAAA,IACjB;AAAA,IAEA,MAAMhB,WAAU,UAAU,CAAC,GAAG;AAC5B,YAAM,eAAe,QAAQ,QAAQ,SAAS,eAAe,QAAQ,KAAK,IAAI;AAE9E,UAAI,wBAAwB,cAAc;AACxC,cAAM,SAAS,QAAQ,UAAU,eAAe,YAAY;AAE5D,qBAAa,SAAS,kCAAkC,cAAc,MAAM;AAC5E,qBAAa,MAAMA,UAAS,SAAS;AAAA,MACvC,OAAO;AACL,aAAK,UAAU,aAAa,UAAUA,SAAQ,GAAG,OAAO;AAAA,MAC1D;AAAA,IACF;AAAA,IAEA,QAAQ,KAAK,WAAW;AACtB,YAAM,kBAAkB,aAAa,KAAK,eAAe,IAAI,SAAS;AACtE,UAAI,CAAC,mBAAmB,CAAC,KAAK,UAAU,cAAc;AACpD,aAAK,MAAM,KAAK,EAAE,QAAQ,WAAW,qBAAqB,MAAM,CAAC;AAAA,MACnE;AAAA,IACF;AAAA,IAEA,oBAAoB,QAAQ;AAC1B,WAAK,eAAe,oBAAoB,MAAM;AAAA,IAChD;AAAA,IAEA,uBAAuB,QAAQ;AAC7B,WAAK,eAAe,uBAAuB,MAAM;AAAA,IACnD;AAAA,IAEA,oBAAoB,SAAS;AAC3B,WAAK,sBAAsB,OAAO,cAAc,KAAK,OAAO,CAAC;AAAA,IAC/D;AAAA,IAEA,aAAa;AACX,WAAK,KAAK,mBAAmB;AAAA,IAC/B;AAAA,IAEA,oBAAoB,OAAO;AACzB,cAAQ;AAAA,QACN;AAAA,MACF;AAEA,WAAK,mBAAmB;AAAA,IAC1B;AAAA,IAEA,IAAI,iBAAiB,OAAO;AAC1B,aAAO,MAAM,mBAAmB;AAAA,IAClC;AAAA,IAEA,IAAI,mBAAmB;AACrB,aAAO,OAAO,MAAM;AAAA,IACtB;AAAA,IAEA,IAAI,MAAM,OAAO;AACf,aAAO,MAAM,UAAU;AAAA,IACzB;AAAA,IAEA,IAAI,QAAQ;AACV,aAAO,OAAO,MAAM;AAAA,IACtB;AAAA,IAEA,IAAI,SAAS,OAAO;AAClB,aAAO,MAAM,OAAO;AAAA,IACtB;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,OAAO,MAAM;AAAA,IACtB;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,IAAI,wBAAwB;AAC1B,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,IAAI,4BAA4B;AAC9B,aAAO,KAAK;AAAA,IACd;AAAA,IAEA,IAAI,0BAA0B,OAAO;AACnC,WAAK,UAAUH,UAAS,KAAK,iBAAiB,KAAK,IAAI,GAAG,KAAK;AAC/D,WAAK,6BAA6B;AAAA,IACpC;AAAA;AAAA,IAIA,kBAAkB,SAAS;AACzB,YAAM,WAAW,QAAQ,aAAa,mBAAmB;AACzD,YAAM,WAAW,QAAQ,aAAa,mBAAmB;AACzD,YAAM,cAAc,QAAQ,aAAa,kBAAkB;AAC3D,YAAM,QAAQ,eAAe,SAC3B,OACA,SAAS,eAAe,WAAW,KAAK,uBAAuB,SAAS,6BAA6B;AAEvG,UAAI,YAAY,YAAY,iBAAiB,cAAc;AACzD,eAAO;AAAA,MACT,OAAO;AACL,cAAMG,YAAW,IAAI,IAAI,QAAQ,IAAI;AAErC,eAAO,KAAK,qBAAqB,OAAO,KAAK,oBAAoBA,WAAU,KAAK,SAAS,YAAY;AAAA,MACvG;AAAA,IACF;AAAA;AAAA,IAIA,6DAA6DA,WAAU,uBAAuB,WAAW;AACvG,UAAI,KAAK,SAAS;AAChB,aAAK,UAAU,WAAWA,WAAU,uBAAuB;AAAA,UACzD,QAAQ;AAAA,UACR,gBAAgB;AAAA,UAChB;AAAA,QACF,CAAC;AAAA,MACH,OAAO;AACL,aAAK,QAAQ,gBAAgB;AAAA,UAC3B,QAAQ;AAAA,QACV,CAAC;AAAA,MACH;AAAA,IACF;AAAA;AAAA,IAIA,sBAAsB,UAAU;AAC9B,WAAK,QAAQ,sBAAsB,EAAE,gBAAgB,SAAS,CAAC;AAAA,IACjE;AAAA;AAAA,IAIA,6BAA6B,MAAMA,WAAU;AAC3C,aAAO,KAAK,qBAAqB,IAAI,KAAK,oBAAoBA,WAAU,KAAK,SAAS,YAAY;AAAA,IACpG;AAAA,IAEA,8BAA8B;AAAA,IAAC;AAAA;AAAA,IAI/B,6BAA6B,MAAMA,WAAU;AAC3C,aACE,KAAK,qBAAqB,IAAI,KAC5B,oBAAoBA,WAAU,KAAK,SAAS,YAAY;AAAA,IAE9D;AAAA;AAAA,IAIA,yBAAyB,MAAMA,WAAU,OAAO;AAC9C,aACE,KAAK,qBAAqB,IAAI,KAC9B,oBAAoBA,WAAU,KAAK,SAAS,YAAY,KACxD,KAAK,yCAAyC,MAAMA,WAAU,KAAK;AAAA,IAEvE;AAAA,IAEA,uBAAuB,MAAMA,WAAU;AACrC,YAAM,SAAS,KAAK,iBAAiB,IAAI;AACzC,YAAM,wBAAwB,KAAK,aAAa,mBAAmB;AAEnE,WAAK,MAAMA,UAAS,MAAM,EAAE,QAAQ,sBAAsB,CAAC;AAAA,IAC7D;AAAA;AAAA,IAIA,iCAAiCA,WAAU,QAAQ;AACjD,aAAO,KAAK,6BAA6BA,WAAU,MAAM,KAAK,KAAK,kCAAkCA,SAAQ;AAAA,IAC/G;AAAA,IAEA,wBAAwBA,WAAU,SAAS;AACzC,wCAAkCA,SAAQ;AAC1C,WAAK,QAAQ,wBAAwBA,WAAU,OAAO;AAAA,IACxD;AAAA;AAAA,IAIA,aAAae,QAAO;AAClB,UAAI,CAACA,OAAM,uBAAuB;AAChC,mBAAW,SAAS,eAAe;AACnC,aAAK,KAAK,mBAAmBA,OAAM,SAAS;AAAA,MAC9C;AACA,wCAAkCA,OAAM,QAAQ;AAChD,UAAI,CAACA,OAAM,QAAQ;AACjB,aAAK,uCAAuCA,OAAM,UAAUA,OAAM,MAAM;AAAA,MAC1E;AAAA,IACF;AAAA,IAEA,eAAeA,QAAO;AACpB,WAAK,KAAK,qBAAqB;AAC/B,qBAAe,SAAS,eAAe;AACvC,WAAK,+BAA+BA,OAAM,iBAAiB,CAAC;AAAA,IAC9D;AAAA,IAEA,6BAA6Bf,WAAU,QAAQ;AAC7C,aAAO,KAAK,UAAU,6BAA6BA,WAAU,MAAM;AAAA,IACrE;AAAA,IAEA,gCAAgC,QAAQ,QAAQ;AAC9C,WAAK,+CAA+C,QAAQ,MAAM;AAAA,IACpE;AAAA;AAAA,IAIA,eAAe,MAAMR,YAAW;AAC9B,YAAM,SAAS,YAAY,MAAMA,UAAS;AAE1C,aACE,KAAK,wBAAwB,MAAMA,UAAS,KAC5C,oBAAoB,UAAU,MAAM,GAAG,KAAK,SAAS,YAAY;AAAA,IAErE;AAAA,IAEA,cAAc,MAAMA,YAAW;AAC7B,WAAK,UAAU,WAAW,MAAMA,UAAS;AAAA,IAC3C;AAAA;AAAA,IAIA,wBAAwB;AACtB,WAAK,KAAK,uBAAuB,KAAK;AACtC,WAAK,+BAA+B;AAAA,IACtC;AAAA,IAEA,aAAa;AACX,WAAK,QAAQ,iCAAiC;AAAA,IAChD;AAAA,IAEA,iBAAiB;AACf,WAAK,QAAQ,qCAAqC;AAAA,IACpD;AAAA;AAAA,IAIA,0BAA0B,SAAS;AACjC,WAAK,oBAAoB,OAAO;AAAA,IAClC;AAAA;AAAA,IAIA,wBAAwB;AACtB,UAAI,CAAC,KAAK,UAAU,cAAc,QAAQ;AACxC,aAAK,uCAAuC;AAAA,MAC9C;AAAA,IACF;AAAA,IAEA,sBAAsB,EAAE,QAAQ,GAAG,SAAS;AAC1C,YAAM,QAAQ,KAAK,8BAA8B,SAAS,OAAO;AACjE,YAAM;AAAA,QACJ;AAAA,QACA,QAAQ,EAAE,QAAAoB,QAAO;AAAA,MACnB,IAAI;AAEJ,UAAI,KAAK,KAAK,YAAYA,SAAQ;AAChC,aAAK,KAAK,SAAS,gBAAgBA;AAAA,MACrC;AAEA,aAAO,CAAC;AAAA,IACV;AAAA,IAEA,qBAAqB,WAAW,YAAY,cAAc;AACxD,WAAK,KAAK,uBAAuB,KAAK,QAAQ;AAC9C,WAAK,6BAA6B,YAAY;AAAA,IAChD;AAAA,IAEA,0BAA0B,SAAS;AACjC,WAAK,UAAU,0BAA0B,OAAO;AAAA,IAClD;AAAA,IAEA,gBAAgB,QAAQ;AACtB,WAAK,QAAQ,gBAAgB,MAAM;AAAA,IACrC;AAAA;AAAA,IAIA,YAAY,OAAO;AACjB,WAAK,gCAAgC,KAAK;AAAA,IAC5C;AAAA,IAEA,cAAc,eAAe,OAAO;AAClC,WAAK,kCAAkC,eAAe,KAAK;AAAA,IAC7D;AAAA;AAAA,IAIA,yCAAyC,MAAMZ,WAAU,IAAI;AAC3D,YAAM,QAAQ,KAAK,6CAA6C,MAAMA,WAAU,EAAE;AAClF,aAAO,CAAC,MAAM;AAAA,IAChB;AAAA,IAEA,kCAAkCA,WAAU;AAC1C,YAAM,QAAQ,KAAK,wCAAwCA,SAAQ;AACnE,aAAO,CAAC,MAAM;AAAA,IAChB;AAAA,IAEA,6CAA6C,MAAMA,WAAU,OAAO;AAClE,aAAO,SAAS,eAAe;AAAA,QAC7B,QAAQ;AAAA,QACR,QAAQ,EAAE,KAAKA,UAAS,MAAM,eAAe,MAAM;AAAA,QACnD,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA,IAEA,wCAAwCA,WAAU;AAChD,aAAO,SAAS,sBAAsB;AAAA,QACpC,QAAQ,EAAE,KAAKA,UAAS,KAAK;AAAA,QAC7B,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA,IAEA,uCAAuCA,WAAU,QAAQ;AACvD,aAAO,SAAS,eAAe,EAAE,QAAQ,EAAE,KAAKA,UAAS,MAAM,OAAO,EAAE,CAAC;AAAA,IAC3E;AAAA,IAEA,yCAAyC;AACvC,aAAO,SAAS,oBAAoB;AAAA,IACtC;AAAA,IAEA,8BAA8B,SAAS,SAAS;AAC9C,aAAO,SAAS,uBAAuB;AAAA,QACrC,QAAQ,EAAE,SAAS,GAAG,QAAQ;AAAA,QAC9B,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA,IAEA,6BAA6B,cAAc;AACzC,aAAO,SAAS,gBAAgB,EAAE,QAAQ,EAAE,aAAa,EAAE,CAAC;AAAA,IAC9D;AAAA,IAEA,+BAA+B,SAAS,CAAC,GAAG;AAC1C,aAAO,SAAS,cAAc;AAAA,QAC5B,QAAQ,EAAE,KAAK,KAAK,SAAS,MAAM,OAAO;AAAA,MAC5C,CAAC;AAAA,IACH;AAAA,IAEA,+CAA+C,QAAQ,QAAQ;AAC7D;AAAA,QACE,IAAI,gBAAgB,cAAc;AAAA,UAChC,QAAQ,OAAO,SAAS;AAAA,UACxB,QAAQ,OAAO,SAAS;AAAA,QAC1B,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,gCAAgC,OAAO;AACrC,aAAO,SAAS,oBAAoB,EAAE,QAAQ,MAAM,CAAC;AAAA,IACvD;AAAA,IAEA,kCAAkC,eAAe,OAAO;AACtD,aAAO,SAAS,sBAAsB;AAAA,QACpC,QAAQ,EAAE,cAAc;AAAA,QACxB,QAAQ;AAAA,QACR,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA;AAAA,IAIA,wBAAwB,MAAMR,YAAW;AACvC,UAAI,OAAO,MAAM,QAAQ,OAAO;AAC9B,eAAO;AAAA,MACT,OAAO;AACL,cAAM,yBAAyBA,aAAY,KAAK,qBAAqBA,UAAS,IAAI;AAElF,YAAI,OAAO,MAAM,QAAQ,SAAS;AAChC,iBAAO,0BAA0B,KAAK,QAAQ,qBAAqB,KAAK;AAAA,QAC1E,OAAO;AACL,iBAAO,0BAA0B,KAAK,qBAAqB,IAAI;AAAA,QACjE;AAAA,MACF;AAAA,IACF;AAAA,IAEA,qBAAqB,SAAS;AAC5B,YAAM,YAAY,uBAAuB,SAAS,cAAc;AAChE,YAAM,cAAc,uBAAuB,SAAS,aAAa;AAGjE,UAAI,OAAO,MAAM,WAAW,aAAa;AAEvC,YAAI,WAAW;AACb,iBAAO,UAAU,aAAa,YAAY,KAAK;AAAA,QACjD,OAAO;AACL,iBAAO;AAAA,QACT;AAAA,MACF,OAAO;AAEL,YAAI,WAAW;AACb,iBAAO,UAAU,aAAa,YAAY,KAAK;AAAA,QACjD,OAAO;AACL,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA;AAAA,IAIA,iBAAiB,MAAM;AACrB,aAAO,eAAe,IAAI,KAAK;AAAA,IACjC;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,KAAK,KAAK;AAAA,IACnB;AAAA,EACF;AAaA,WAAS,kCAAkC,KAAK;AAC9C,WAAO,iBAAiB,KAAK,qCAAqC;AAAA,EACpE;AAEA,MAAM,wCAAwC;AAAA,IAC5C,aAAa;AAAA,MACX,MAAM;AACJ,eAAO,KAAK,SAAS;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAEA,MAAM,UAAU,IAAI,QAAQ,cAAc;AAC1C,MAAM,EAAE,OAAO,WAAW,YAAY,IAAI;AAO1C,WAASD,SAAQ;AACf,YAAQ,MAAM;AAAA,EAChB;AAOA,WAAS,gBAAgB,SAAS;AAChC,YAAQ,gBAAgB,OAAO;AAAA,EACjC;AAgBA,WAAS,MAAMS,WAAU,SAAS;AAChC,YAAQ,MAAMA,WAAU,OAAO;AAAA,EACjC;AAOA,WAAS,oBAAoB,QAAQ;AACnC,YAAQ,oBAAoB,MAAM;AAAA,EACpC;AAOA,WAAS,uBAAuB,QAAQ;AACtC,YAAQ,uBAAuB,MAAM;AAAA,EACvC;AAQA,WAAS,oBAAoB,SAAS;AACpC,YAAQ,oBAAoB,OAAO;AAAA,EACrC;AAQA,WAAS,aAAa;AACpB,YAAQ;AAAA,MACN;AAAA,IACF;AACA,YAAQ,WAAW;AAAA,EACrB;AAYA,WAAS,oBAAoB,OAAO;AAClC,YAAQ;AAAA,MACN;AAAA,IACF;AACA,WAAO,MAAM,mBAAmB;AAAA,EAClC;AAEA,WAAS,iBAAiB,eAAe;AACvC,YAAQ;AAAA,MACN;AAAA,IACF;AACA,WAAO,MAAM,UAAU;AAAA,EACzB;AAEA,WAAS,YAAY,MAAM;AACzB,YAAQ;AAAA,MACN;AAAA,IACF;AACA,WAAO,MAAM,OAAO;AAAA,EACtB;AAEA,MAAIiB,SAAqB,uBAAO,OAAO;AAAA,IACrC,WAAW;AAAA,IACX,WAAW;AAAA,IACX;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO;AAAA,IACP;AAAA,IACA,OAAO1B;AAAA,IACP;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,MAAM,yBAAN,cAAqC,MAAM;AAAA,EAAC;AAE5C,MAAM,kBAAN,MAAsB;AAAA,IACpB,sBAAsB,CAAC,mBAAmB,QAAQ,QAAQ;AAAA,IAC1D,uBAAuB;AAAA,IACvB,uBAAuB,MAAM;AAAA,IAAC;AAAA,IAC9B,aAAa;AAAA,IACb,iBAAiB;AAAA,IACjB,qBAAqB,oBAAI,IAAI;AAAA,IAC7B,oBAAoB;AAAA,IACpB,SAAS;AAAA,IAET,YAAY,SAAS;AACnB,WAAK,UAAU;AACf,WAAK,OAAO,IAAI,UAAU,MAAM,KAAK,OAAO;AAC5C,WAAK,qBAAqB,IAAI,mBAAmB,MAAM,KAAK,OAAO;AACnE,WAAK,wBAAwB,IAAI,sBAAsB,MAAM,KAAK,OAAO;AACzE,WAAK,kBAAkB,IAAI,gBAAgB,MAAM,KAAK,OAAO;AAC7D,WAAK,wBAAwB,KAAK;AAClC,WAAK,qBAAqB,IAAI,mBAAmB,MAAM,KAAK,OAAO;AAAA,IACrE;AAAA;AAAA,IAIA,UAAU;AACR,UAAI,CAAC,KAAK,YAAY;AACpB,aAAK,aAAa;AAClB,YAAI,KAAK,gBAAgB,kBAAkB,MAAM;AAC/C,eAAK,mBAAmB,MAAM;AAAA,QAChC,OAAO;AACL,eAAK,eAAe;AAAA,QACtB;AACA,aAAK,sBAAsB,MAAM;AACjC,aAAK,gBAAgB,MAAM;AAC3B,aAAK,mBAAmB,MAAM;AAAA,MAChC;AAAA,IACF;AAAA,IAEA,aAAa;AACX,UAAI,KAAK,YAAY;AACnB,aAAK,aAAa;AAClB,aAAK,mBAAmB,KAAK;AAC7B,aAAK,sBAAsB,KAAK;AAChC,aAAK,gBAAgB,KAAK;AAC1B,aAAK,mBAAmB,KAAK;AAAA,MAC/B;AAAA,IACF;AAAA,IAEA,kBAAkB;AAChB,UAAI,KAAK,gBAAgB,kBAAkB,OAAO;AAChD,aAAK,eAAe;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,mBAAmB;AACjB,UAAI,KAAK,qBAAqB,KAAK,EAAG;AAEtC,UAAI,KAAK,QAAQ,aAAa;AAC5B,aAAK,WAAW;AAAA,MAClB;AAEA,UAAI,KAAK,gBAAgB,kBAAkB,SAAS,KAAK,gBAAgB;AACvE,aAAK,eAAe;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,oBAAoB;AAClB,YAAM,EAAE,SAAS,IAAI,IAAI,KAAK;AAE9B,WAAK,oBAAoB,OAAO,YAAY;AAE5C,WAAK,QAAQ,gBAAgB,UAAU;AACvC,WAAK,QAAQ,MAAM;AACnB,WAAK,QAAQ,MAAM;AACnB,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,sBAAsB;AACpB,UAAI,KAAK,gBAAgB,kBAAkB,MAAM;AAC/C,aAAK,mBAAmB,MAAM;AAAA,MAChC,OAAO;AACL,aAAK,mBAAmB,KAAK;AAC7B,aAAK,eAAe;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,MAAM,iBAAiB;AACrB,UAAI,KAAK,WAAW,KAAK,YAAY,CAAC,KAAK,YAAY,KAAK,WAAW;AACrE,aAAK,QAAQ,SAAS,KAAK,OAAO,UAAU,KAAK,SAAS,CAAC;AAC3D,aAAK,mBAAmB,KAAK;AAC7B,cAAM,KAAK,QAAQ;AACnB,aAAK,iBAAiB;AAAA,MACxB;AAAA,IACF;AAAA,IAEA,MAAM,aAAa,eAAe;AAChC,UAAI,cAAc,cAAe,cAAc,aAAa,cAAc,QAAS;AACjF,aAAK,YAAY,cAAc,SAAS;AAAA,MAC1C;AAEA,UAAI;AACF,cAAM,OAAO,MAAM,cAAc;AACjC,YAAI,MAAM;AACR,gBAAM2B,YAAW,kBAAkB,IAAI;AACvC,gBAAM,eAAe,aAAa,aAAaA,SAAQ;AAEvD,cAAI,aAAa,aAAa;AAC5B,kBAAM,KAAK,mBAAmB,eAAeA,SAAQ;AAAA,UACvD,OAAO;AACL,kBAAM,KAAK,gCAAgC,aAAa;AAAA,UAC1D;AAAA,QACF;AAAA,MACF,UAAE;AACA,aAAK,oBAAoB;AACzB,aAAK,sBAAsB,MAAM,QAAQ,QAAQ;AAAA,MACnD;AAAA,IACF;AAAA;AAAA,IAIA,0BAA0B,SAAS;AACjC,WAAK,kCAAkC,SAAS,eAAe,OAAO,CAAC;AACvE,WAAK,eAAe;AAAA,IACtB;AAAA;AAAA,IAIA,6BAA6B,MAAM;AACjC,aAAO,KAAK,2BAA2B,IAAI;AAAA,IAC7C;AAAA,IAEA,4BAA4B,MAAM,WAAW,MAAM;AACjD,YAAM,QAAQ,KAAK,kBAAkB,IAAI;AACzC,UAAI,MAAO,MAAK,aAAa,oBAAoB,MAAM,EAAE;AAAA,IAC3D;AAAA;AAAA,IAIA,yBAAyB,SAAS,WAAW,QAAQ;AACnD,aAAO,KAAK,2BAA2B,OAAO;AAAA,IAChD;AAAA,IAEA,qBAAqB,SAASlB,WAAU;AACtC,WAAK,eAAe,SAASA,SAAQ;AAAA,IACvC;AAAA;AAAA,IAIA,eAAe,SAASR,YAAW;AACjC,aAAO,QAAQ,QAAQ,aAAa,KAAK,KAAK,WAAW,KAAK,2BAA2B,SAASA,UAAS;AAAA,IAC7G;AAAA,IAEA,cAAc,SAASA,YAAW;AAChC,UAAI,KAAK,gBAAgB;AACvB,aAAK,eAAe,KAAK;AAAA,MAC3B;AAEA,WAAK,iBAAiB,IAAI,eAAe,MAAM,SAASA,UAAS;AACjE,YAAM,EAAE,aAAa,IAAI,KAAK;AAC9B,WAAK,eAAe,YAAY;AAChC,WAAK,eAAe,MAAM;AAAA,IAC5B;AAAA;AAAA,IAIA,eAAe,SAAS;AACtB,cAAQ,QAAQ,aAAa,IAAI,KAAK;AAEtC,UAAI,KAAK,0BAA0B,aAAa,mBAAmB,GAAG;AACpE,gBAAQ,mBAAmB,cAAc,WAAW;AAAA,MACtD;AAAA,IACF;AAAA,IAEA,eAAeY,WAAU;AACvB,iBAAW,KAAK,OAAO;AAAA,IACzB;AAAA,IAEA,iCAAiCA,WAAU,WAAW;AACpD,WAAK,qBAAqB;AAAA,IAC5B;AAAA,IAEA,MAAM,6BAA6B,SAAS,UAAU;AACpD,YAAM,KAAK,aAAa,QAAQ;AAChC,WAAK,qBAAqB;AAAA,IAC5B;AAAA,IAEA,MAAM,0BAA0B,SAAS,UAAU;AACjD,YAAM,KAAK,aAAa,QAAQ;AAChC,WAAK,qBAAqB;AAAA,IAC5B;AAAA,IAEA,eAAe,SAASD,QAAO;AAC7B,cAAQ,MAAMA,MAAK;AACnB,WAAK,qBAAqB;AAAA,IAC5B;AAAA,IAEA,gBAAgBC,WAAU;AACxB,qBAAe,KAAK,OAAO;AAAA,IAC7B;AAAA;AAAA,IAIA,sBAAsB,EAAE,YAAY,GAAG;AACrC,iBAAW,aAAa,KAAK,kBAAkB,WAAW,CAAC;AAAA,IAC7D;AAAA,IAEA,oCAAoC,gBAAgB,UAAU;AAC5D,YAAM,QAAQ,KAAK,kBAAkB,eAAe,aAAa,eAAe,SAAS;AAEzF,YAAM,SAAS,kCAAkC,OAAO,eAAe,eAAe,WAAW,eAAe,aAAa,KAAK,CAAC;AACnI,YAAM,SAAS,aAAa,QAAQ;AAEpC,UAAI,CAAC,eAAe,QAAQ;AAC1B,gBAAQ,WAAW;AAAA,MACrB;AAAA,IACF;AAAA,IAEA,iCAAiC,gBAAgB,eAAe;AAC9D,WAAK,QAAQ,SAAS,aAAa,aAAa;AAChD,cAAQ,WAAW;AAAA,IACrB;AAAA,IAEA,sBAAsB,gBAAgBD,QAAO;AAC3C,cAAQ,MAAMA,MAAK;AAAA,IACrB;AAAA,IAEA,uBAAuB,EAAE,YAAY,GAAG;AACtC,qBAAe,aAAa,KAAK,kBAAkB,WAAW,CAAC;AAAA,IACjE;AAAA;AAAA,IAIA,sBAAsB,EAAE,SAAS,SAAS,GAAG,SAAS;AACpD,YAAM,QAAQ,SAAS,6BAA6B;AAAA,QAClD,QAAQ,KAAK;AAAA,QACb,QAAQ,EAAE,UAAU,GAAG,QAAQ;AAAA,QAC/B,YAAY;AAAA,MACd,CAAC;AAED,YAAM;AAAA,QACJ;AAAA,QACA,QAAQ,EAAE,QAAAS,QAAO;AAAA,MACnB,IAAI;AAEJ,UAAI,KAAK,KAAK,YAAYA,SAAQ;AAChC,aAAK,KAAK,SAAS,gBAAgBA;AAAA,MACrC;AAEA,aAAO,CAAC;AAAA,IACV;AAAA,IAEA,qBAAqB,WAAW,YAAY,eAAe;AAAA,IAAC;AAAA,IAE5D,0BAA0B,SAAS;AACjC,cAAQ,0BAA0B,OAAO;AAAA,IAC3C;AAAA,IAEA,kBAAkB;AAAA,IAAC;AAAA;AAAA,IAInB,gBAAgB,gBAAgB,aAAa;AAC3C,WAAK,uBAAuB,eAAe,UAAU,IAAI;AAAA,IAC3D;AAAA,IAEA,sBAAsB,CAAC,EAAE,QAAQ,MAAM;AACrC,YAAM,QAAQ,QAAQ,cAAc,MAAM,KAAK,QAAQ,EAAE;AAEzD,UAAI,SAAS,KAAK,sBAAsB;AACtC,cAAM,gBAAgB,GAAG,KAAK,qBAAqB,QAAQ;AAAA,MAC7D;AAEA,aAAO,KAAK;AAAA,IACd;AAAA;AAAA,IAIA,MAAM,mBAAmB,eAAeM,WAAU;AAChD,YAAM,kBAAkB,MAAM,KAAK,2BAA2BA,UAAS,IAAI;AAC3E,YAAM,gBAAgB,KAAK,oBAAoB,wBAAwB;AAEvE,UAAI,iBAAiB;AACnB,cAAM,WAAW,IAAI,SAAS,eAAe;AAC7C,cAAM,WAAW,IAAI,cAAc,MAAM,KAAK,KAAK,UAAU,UAAU,OAAO,KAAK;AACnF,YAAI,KAAK,KAAK,cAAe,OAAM,KAAK,KAAK;AAC7C,aAAK,cAAc;AAEnB,cAAM,KAAK,KAAK,OAAO,QAAQ;AAC/B,aAAK,WAAW;AAChB,gBAAQ,cAAc,eAAe,KAAK,OAAO;AACjD,gBAAQ,YAAY,KAAK,OAAO;AAChC,cAAM,KAAK,oBAAoB,aAAa;AAAA,MAC9C,WAAW,KAAK,oCAAoC,aAAa,GAAG;AAClE,aAAK,gCAAgC,aAAa;AAAA,MACpD;AAAA,IACF;AAAA,IAEA,MAAM,OAAO,KAAK;AAChB,YAAM,UAAU,IAAI,aAAa,MAAM,YAAY,KAAK,KAAK,IAAI,gBAAgB,GAAG,KAAK,OAAO;AAEhG,WAAK,sBAAsB,OAAO;AAClC,WAAK,uBAAuB;AAE5B,aAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,aAAK,uBAAuB,MAAM;AAChC,eAAK,uBAAuB,MAAM;AAAA,UAAC;AACnC,eAAK,uBAAuB;AAC5B,kBAAQ;AAAA,QACV;AACA,gBAAQ,QAAQ;AAAA,MAClB,CAAC;AAAA,IACH;AAAA,IAEA,eAAe,SAAS,KAAK1B,YAAW;AACtC,YAAM,QAAQ,KAAK,kBAAkB,SAASA,UAAS;AAEvD,YAAM,SAAS,kCAAkC,OAAO,eAAeA,YAAW,SAAS,KAAK,CAAC;AAEjG,WAAK,8BAA8B,SAAS,MAAM;AAChD,cAAM,MAAM;AAAA,MACd,CAAC;AAAA,IACH;AAAA,IAEA,kCAAkC,OAAO,SAAS,MAAM;AACtD,WAAK,SAAS;AAEd,UAAI,KAAK,QAAQ;AACf,cAAM,eAAe,aAAa,YAAY,KAAK,EAAE,MAAM;AAC3D,cAAM,EAAE,oBAAoB,IAAI,MAAM;AAEtC,cAAM,SAAS,sBAAsB,OAAO,kBAAkB;AAC5D,cAAI,MAAM,KAAK;AACb,kBAAM,EAAE,YAAY,WAAW,IAAI;AACnC,kBAAM,eAAe,MAAM,cAAc;AACzC,kBAAM,WAAW,EAAE,YAAY,YAAY,aAAa;AACxD,kBAAM,UAAU;AAAA,cACd;AAAA,cACA;AAAA,cACA,YAAY;AAAA,cACZ,eAAe;AAAA,cACf,uBAAuB,KAAK;AAAA,cAC5B,UAAU;AAAA,YACZ;AAEA,gBAAI,KAAK,OAAQ,SAAQ,SAAS,KAAK;AAEvC,oBAAQ,MAAM,MAAM,KAAK,OAAO;AAAA,UAClC;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IAEA,gBAAgB;AACd,UAAI,KAAK,QAAQ;AACf,cAAM,SAAS,0BAA0B,KAAK,MAAM;AACpD,gBAAQ,QAAQ,OAAO,QAAQ,UAAU,KAAK,QAAQ,OAAO,EAAE,GAAG,KAAK,qBAAqB;AAAA,MAC9F;AAAA,IACF;AAAA,IAEA,MAAM,gCAAgC,eAAe;AACnD,cAAQ;AAAA,QACN,iBAAiB,cAAc,UAAU,2BAA2B,KAAK,QAAQ,EAAE;AAAA,MACrF;AAEA,YAAM,KAAK,eAAe,cAAc,QAAQ;AAAA,IAClD;AAAA,IAEA,oCAAoC,eAAe;AACjD,WAAK,QAAQ,aAAa,YAAY,EAAE;AAExC,YAAM,WAAW,cAAc;AAC/B,YAAMuB,SAAQ,OAAO,KAAK,YAAY;AACpC,YAAI,eAAe,UAAU;AAC3B,eAAK,eAAe,GAAG;AAAA,QACzB,OAAO;AACL,kBAAQ,MAAM,KAAK,OAAO;AAAA,QAC5B;AAAA,MACF;AAEA,YAAM,QAAQ,SAAS,uBAAuB;AAAA,QAC5C,QAAQ,KAAK;AAAA,QACb,QAAQ,EAAE,UAAU,OAAAA,OAAM;AAAA,QAC1B,YAAY;AAAA,MACd,CAAC;AAED,aAAO,CAAC,MAAM;AAAA,IAChB;AAAA,IAEA,gCAAgC,eAAe;AAC7C,WAAK,KAAK,QAAQ;AAClB,WAAK,wBAAwB,aAAa;AAAA,IAC5C;AAAA,IAEA,wBAAwB,eAAe;AACrC,YAAM,UAAU,iBAAiB,cAAc,UAAU,mDAAmD,KAAK,QAAQ,EAAE;AAC3H,YAAM,IAAI,uBAAuB,OAAO;AAAA,IAC1C;AAAA,IAEA,MAAM,eAAe,UAAU;AAC7B,YAAM,UAAU,IAAI,cAAc,QAAQ;AAC1C,YAAM,eAAe,MAAM,QAAQ;AACnC,YAAM,EAAE,UAAAf,WAAU,YAAY,WAAW,IAAI;AAE7C,aAAO,QAAQ,MAAMA,WAAU,EAAE,UAAU,EAAE,YAAY,YAAY,aAAa,EAAE,CAAC;AAAA,IACvF;AAAA,IAEA,kBAAkB,SAASR,YAAW;AACpC,YAAMc,OAAK,aAAa,oBAAoBd,YAAW,OAAO,KAAK,KAAK,QAAQ,aAAa,QAAQ;AACrG,aAAO,oBAAoBc,IAAE,KAAK,KAAK;AAAA,IACzC;AAAA,IAEA,MAAM,2BAA2B,WAAW;AAC1C,UAAI;AACJ,YAAMA,OAAK,IAAI,OAAO,KAAK,EAAE;AAE7B,UAAI;AACF,kBAAU,gBAAgB,UAAU,cAAc,eAAeA,IAAE,EAAE,GAAG,KAAK,SAAS;AACtF,YAAI,SAAS;AACX,iBAAO;AAAA,QACT;AAEA,kBAAU,gBAAgB,UAAU,cAAc,6BAA6BA,IAAE,GAAG,GAAG,KAAK,SAAS;AACrG,YAAI,SAAS;AACX,gBAAM,QAAQ;AACd,iBAAO,MAAM,KAAK,2BAA2B,OAAO;AAAA,QACtD;AAAA,MACF,SAASH,QAAO;AACd,gBAAQ,MAAMA,MAAK;AACnB,eAAO,IAAI,aAAa;AAAA,MAC1B;AAEA,aAAO;AAAA,IACT;AAAA,IAEA,uBAAuB,MAAMX,YAAW;AACtC,YAAM,SAAS,YAAY,MAAMA,UAAS;AAE1C,aAAO,oBAAoB,UAAU,MAAM,GAAG,KAAK,YAAY;AAAA,IACjE;AAAA,IAEA,2BAA2B,SAASA,YAAW;AAC7C,YAAMc,OAAK,aAAa,oBAAoBd,YAAW,OAAO,KAAK,KAAK,QAAQ,aAAa,QAAQ;AAErG,UAAI,mBAAmB,mBAAmB,CAAC,KAAK,uBAAuB,SAASA,UAAS,GAAG;AAC1F,eAAO;AAAA,MACT;AAEA,UAAI,CAAC,KAAK,WAAWc,QAAM,QAAQ;AACjC,eAAO;AAAA,MACT;AAEA,UAAIA,MAAI;AACN,cAAM,eAAe,oBAAoBA,IAAE;AAC3C,YAAI,cAAc;AAChB,iBAAO,CAAC,aAAa;AAAA,QACvB;AAAA,MACF;AAEA,UAAI,CAAC,QAAQ,qBAAqB,OAAO,GAAG;AAC1C,eAAO;AAAA,MACT;AAEA,UAAId,cAAa,CAAC,QAAQ,qBAAqBA,UAAS,GAAG;AACzD,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT;AAAA;AAAA,IAIA,IAAI,KAAK;AACP,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,IAAI,UAAU;AACZ,aAAO,CAAC,KAAK,QAAQ;AAAA,IACvB;AAAA,IAEA,IAAI,YAAY;AACd,UAAI,KAAK,QAAQ,KAAK;AACpB,eAAO,KAAK,QAAQ;AAAA,MACtB;AAAA,IACF;AAAA,IAEA,IAAI,UAAU,WAAW;AACvB,WAAK,4BAA4B,OAAO,MAAM;AAC5C,aAAK,QAAQ,MAAM,aAAa;AAAA,MAClC,CAAC;AAAA,IACH;AAAA,IAEA,IAAI,eAAe;AACjB,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,IAEA,IAAI,YAAY;AACd,aAAO,KAAK,mBAAmB,UAAa,KAAK,qBAAqB,MAAM;AAAA,IAC9E;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,KAAK,QAAQ,aAAa,UAAU;AAAA,IAC7C;AAAA,IAEA,IAAI,SAAS,OAAO;AAClB,UAAI,OAAO;AACT,aAAK,QAAQ,aAAa,YAAY,EAAE;AAAA,MAC1C,OAAO;AACL,aAAK,QAAQ,gBAAgB,UAAU;AAAA,MACzC;AAAA,IACF;AAAA,IAEA,IAAI,WAAW;AACb,aAAO,KAAK,QAAQ,YAAY,KAAK;AAAA,IACvC;AAAA,IAEA,IAAI,eAAe;AACjB,YAAM,OAAO,KAAK,QAAQ,cAAc,cAAc,yBAAyB;AAC/E,YAAM,OAAO,MAAM,WAAW;AAC9B,aAAO,UAAU,IAAI;AAAA,IACvB;AAAA,IAEA,qBAAqB,eAAe;AAClC,aAAO,KAAK,mBAAmB,IAAI,aAAa;AAAA,IAClD;AAAA,IAEA,4BAA4B,eAAe,UAAU;AACnD,WAAK,mBAAmB,IAAI,aAAa;AACzC,eAAS;AACT,WAAK,mBAAmB,OAAO,aAAa;AAAA,IAC9C;AAAA,IAEA,8BAA8B,SAAS,UAAU;AAC/C,WAAK,2BAA2B;AAChC,eAAS;AACT,aAAO,KAAK;AAAA,IACd;AAAA,EACF;AAEA,WAAS,oBAAoBc,MAAI;AAC/B,QAAIA,QAAM,MAAM;AACd,YAAM,UAAU,SAAS,eAAeA,IAAE;AAC1C,UAAI,mBAAmB,cAAc;AACnC,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAEA,WAAS,gBAAgB,SAAS,YAAY;AAC5C,QAAI,SAAS;AACX,YAAM,MAAM,QAAQ,aAAa,KAAK;AACtC,UAAI,OAAO,QAAQ,cAAc,QAAQ,aAAa,KAAK,UAAU,GAAG;AACtE,cAAM,IAAI,MAAM,6BAA6B,QAAQ,EAAE,qDAAqD;AAAA,MAC9G;AACA,UAAI,QAAQ,kBAAkB,UAAU;AACtC,kBAAU,SAAS,WAAW,SAAS,IAAI;AAAA,MAC7C;AAEA,UAAI,mBAAmB,cAAc;AACnC,gBAAQ,kBAAkB;AAC1B,gBAAQ,qBAAqB;AAC7B,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAEA,MAAM,gBAAgB;AAAA,IACpB,QAAQ;AACN,WAAK,eAAe,QAAQ,CAACa,OAAMA,GAAE,eAAe,aAAa,KAAK,iBAAiBA,GAAE,WAAW,CAAC;AAAA,IACvG;AAAA,IAEA,SAAS;AACP,WAAK,8BAA8B;AACnC,WAAK,eAAe,QAAQ,CAACA,OAAMA,GAAE,OAAO,KAAK,eAAe,CAAC;AAAA,IACnE;AAAA,IAEA,SAAS;AACP,WAAK,eAAe,QAAQ,CAACA,OAAMA,GAAE,eAAe,aAAa,KAAK,iBAAiBA,EAAC,CAAC;AAAA,IAC3F;AAAA,IAEA,UAAU;AACR,WAAK,8BAA8B;AACnC,WAAK,eAAe,QAAQ,CAACA,OAAMA,GAAE,QAAQ,KAAK,eAAe,CAAC;AAAA,IACpE;AAAA,IAEA,SAAS;AACP,WAAK,eAAe,QAAQ,CAACA,OAAMA,GAAE,OAAO,CAAC;AAAA,IAC/C;AAAA,IAEA,UAAU;AACR,YAAM,SAAS,KAAK,aAAa,QAAQ;AAEzC,WAAK,eAAe,QAAQ,CAAC,kBAAkB;AAC7C,YAAI,WAAW,SAAS;AACtB,wBAAc,eAAe,KAAK,eAAe;AAAA,QACnD,OAAO;AACL,wBAAc,YAAY,KAAK,eAAe;AAAA,QAChD;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,SAAS;AACP,YAAM,SAAS,KAAK,aAAa,QAAQ;AAEzC,WAAK,eAAe,QAAQ,CAAC,kBAAkB;AAC7C,YAAI,WAAW,SAAS;AACtB,wBAAc,eAAe,KAAK,eAAe;AAAA,QACnD,OAAO;AACL,wBAAc,YAAY;AAC1B,wBAAc,OAAO,KAAK,eAAe;AAAA,QAC3C;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,UAAU;AACR,cAAQ,QAAQ,KAAK,SAAS,KAAK,SAAS;AAAA,IAC9C;AAAA,EACF;AA0BA,MAAM,gBAAN,MAAM,uBAAsB,YAAY;AAAA,IACtC,aAAa,cAAc,YAAY;AACrC,YAAM,WAAW,cAAc;AAAA,IACjC;AAAA,IAEA,MAAM,oBAAoB;AACxB,UAAI;AACF,cAAM,KAAK,OAAO;AAAA,MACpB,SAAShB,QAAO;AACd,gBAAQ,MAAMA,MAAK;AAAA,MACrB,UAAE;AACA,aAAK,WAAW;AAAA,MAClB;AAAA,IACF;AAAA,IAEA,MAAM,SAAS;AACb,aAAQ,KAAK,mBAAmB,YAAY;AAC1C,cAAM,QAAQ,KAAK;AAEnB,YAAI,KAAK,cAAc,KAAK,GAAG;AAC7B,gBAAM,YAAY;AAClB,gBAAM,MAAM,OAAO,OAAO,IAAI;AAAA,QAChC;AAAA,MACF,GAAG;AAAA,IACL;AAAA,IAEA,aAAa;AACX,UAAI;AACF,aAAK,OAAO;AAAA,MAEd,QAAQ;AAAA,MAAC;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAKA,gCAAgC;AAC9B,WAAK,kBAAkB,QAAQ,CAACiB,OAAMA,GAAE,OAAO,CAAC;AAAA,IAClD;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,oBAAoB;AACtB,YAAM,mBAAmB,KAAK,eAAe,QAAQ,CAACD,OAAM,CAAC,GAAGA,GAAE,QAAQ,CAAC,EAAE,OAAO,CAACC,OAAM,CAAC,CAACA,GAAE,EAAE;AACjG,YAAM,iBAAiB,CAAC,GAAI,KAAK,iBAAiB,YAAY,CAAC,CAAE,EAAE,OAAO,CAACA,OAAM,CAAC,CAACA,GAAE,EAAE,EAAE,IAAI,CAACA,OAAMA,GAAE,EAAE;AAExG,aAAO,iBAAiB,OAAO,CAACA,OAAM,eAAe,SAASA,GAAE,EAAE,CAAC;AAAA,IACrE;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,gBAAgB;AAClB,UAAI,KAAK,QAAQ;AACf,cAAM,iBAAiB,cAAc,KAAK,MAAM;AAChD,YAAI,gBAAgB;AAClB,iBAAO;AAAA,QACT;AACA,aAAK,OAAO,gBAAgB;AAAA,MAC9B;AACA,WAAK,OAAO,6BAA6B;AAAA,IAC3C;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,iBAAiB;AACnB,UAAI,KAAK,QAAQ;AACf,eAAO,KAAK;AAAA,MACd,WAAW,KAAK,SAAS;AACvB,eAAO,KAAK;AAAA,MACd,OAAO;AACL,aAAK,OAAO,wCAAwC;AAAA,MACtD;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,kBAAkB;AACpB,aAAO,KAAK,gBAAgB,QAAQ,UAAU,IAAI;AAAA,IACpD;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,kBAAkB;AACpB,UAAI,KAAK,sBAAsB,MAAM;AACnC,cAAM,WAAW,KAAK,cAAc,cAAc,UAAU;AAC5D,aAAK,YAAY,QAAQ;AACzB,eAAO;AAAA,MACT,WAAW,KAAK,6BAA6B,qBAAqB;AAChE,eAAO,KAAK;AAAA,MACd;AACA,WAAK,OAAO,kDAAkD;AAAA,IAChE;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,SAAS;AACX,aAAO,KAAK,aAAa,QAAQ;AAAA,IACnC;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,IAAI,SAAS;AACX,aAAO,KAAK,aAAa,QAAQ;AAAA,IACnC;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,UAAU;AACZ,aAAO,KAAK,aAAa,SAAS;AAAA,IACpC;AAAA;AAAA;AAAA;AAAA,IAKA,IAAI,YAAY;AACd,aAAO,KAAK,aAAa,YAAY;AAAA,IACvC;AAAA,IAEA,OAAO,SAAS;AACd,YAAM,IAAI,MAAM,GAAG,KAAK,WAAW,KAAK,OAAO,EAAE;AAAA,IACnD;AAAA,IAEA,IAAI,cAAc;AAChB,cAAQ,KAAK,UAAU,MAAM,SAAS,KAAK,CAAC,GAAG,CAAC,KAAK;AAAA,IACvD;AAAA,IAEA,IAAI,oBAAoB;AACtB,aAAO,IAAI,YAAY,8BAA8B;AAAA,QACnD,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,QAAQ,EAAE,WAAW,MAAM,QAAQ,eAAc,cAAc;AAAA,MACjE,CAAC;AAAA,IACH;AAAA,IAEA,IAAI,qBAAqB;AACvB,YAAM,UAAU,KAAK,eAAe,eAAe,KAAK,MAAM;AAE9D,UAAI,YAAY,MAAM;AACpB,eAAO,CAAC,OAAO;AAAA,MACjB,OAAO;AACL,eAAO,CAAC;AAAA,MACV;AAAA,IACF;AAAA,IAEA,IAAI,wBAAwB;AAC1B,YAAM,WAAW,KAAK,eAAe,iBAAiB,KAAK,OAAO;AAElE,UAAI,SAAS,WAAW,GAAG;AACzB,eAAO,MAAM,UAAU,MAAM,KAAK,QAAQ;AAAA,MAC5C,OAAO;AACL,eAAO,CAAC;AAAA,MACV;AAAA,IACF;AAAA,EACF;AAEA,MAAM,sBAAN,cAAkC,YAAY;AAAA,IAC5C,eAAe;AAAA,IAEf,oBAAoB;AAClB,WAAK,eAAe,KAAK,IAAI,MAAM,WAAW,IAAI,IAAI,UAAU,KAAK,GAAG,IAAI,IAAI,YAAY,KAAK,GAAG;AAEpG,0BAAoB,KAAK,YAAY;AAAA,IACvC;AAAA,IAEA,uBAAuB;AACrB,UAAI,KAAK,cAAc;AACrB,aAAK,aAAa,MAAM;AAExB,+BAAuB,KAAK,YAAY;AAAA,MAC1C;AAAA,IACF;AAAA,IAEA,IAAI,MAAM;AACR,aAAO,KAAK,aAAa,KAAK,KAAK;AAAA,IACrC;AAAA,EACF;AAEA,eAAa,sBAAsB;AAEnC,MAAI,eAAe,IAAI,aAAa,MAAM,QAAW;AACnD,mBAAe,OAAO,eAAe,YAAY;AAAA,EACnD;AAEA,MAAI,eAAe,IAAI,cAAc,MAAM,QAAW;AACpD,mBAAe,OAAO,gBAAgB,aAAa;AAAA,EACrD;AAEA,MAAI,eAAe,IAAI,qBAAqB,MAAM,QAAW;AAC3D,mBAAe,OAAO,uBAAuB,mBAAmB;AAAA,EAClE;AAEA,GAAC,MAAM;AACL,QAAI,UAAU,SAAS;AACvB,QAAI,CAAC,QAAS;AACd,QAAI,QAAQ,aAAa,6BAA6B,EAAG;AAEzD,cAAU,QAAQ;AAClB,WAAO,SAAS;AACd,UAAI,WAAW,SAAS,MAAM;AAC5B,eAAO,QAAQ;AAAA,UACb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAUA,QAAQ;AAAA,QACV;AAAA,MACF;AAEA,gBAAU,QAAQ;AAAA,IACpB;AAAA,EACF,GAAG;AAEH,SAAO,QAAQ,EAAE,GAAGH,QAAO,cAAc;AACzC,EAAA1B,OAAM;;;ACriNN,MAAI;AAEJ,iBAAsB,cAAc;AAClC,WAAO,YAAY,YAAY8B,gBAAe,EAAE,KAAK,WAAW,CAAC;AAAA,EACnE;AAEO,WAAS,YAAY,aAAa;AACvC,WAAO,WAAW;AAAA,EACpB;AAEA,iBAAsBA,kBAAiB;AACrC,UAAM,EAAE,gBAAAA,gBAAe,IAAI,MAAM;AACjC,WAAOA,gBAAe;AAAA,EACxB;AAEA,iBAAsB,YAAY,SAAS,OAAO;AAChD,UAAM,EAAE,cAAc,IAAI,MAAM,YAAY;AAC5C,WAAO,cAAc,OAAO,SAAS,KAAK;AAAA,EAC5C;;;ACCe,WAAR,KAAuB,KAAK;AAC/B,QAAI,CAAC,OAAO,OAAO,QAAQ,SAAU,QAAO;AAC5C,QAAI,eAAe,QAAQ,eAAe,OAAQ,QAAO;AACzD,QAAI,MAAM,QAAQ,GAAG,EAAG,QAAO,IAAI,IAAI,IAAI;AAC3C,WAAO,OAAO,KAAK,GAAG,EAAE,OAAO,SAAU,KAAK,KAAK;AAC/C,UAAI,QAAQ,IAAI,CAAC,EAAE,YAAY,IAAI,IAAI,MAAM,CAAC,EAAE,QAAQ,aAAa,SAAUC,IAAGC,IAAG;AACjF,eAAO,MAAMA,GAAE,YAAY;AAAA,MAC/B,CAAC;AACD,UAAI,KAAK,IAAI,KAAK,IAAI,GAAG,CAAC;AAC1B,aAAO;AAAA,IACX,GAAG,CAAC,CAAC;AAAA,EACT;;;AC1BA,MAAM,gCAAN,cAA4C,YAAY;AAAA,IACtD,OAAO,qBAAqB,CAAC,WAAW,oBAAoB;AAAA,IAE5D,MAAM,oBAAoB;AACxB,0BAAoB,IAAI;AACxB,WAAK,eAAe,MAAM,YAAY,KAAK,SAAS;AAAA,QAClD,UAAU,KAAK,qBAAqB,KAAK,IAAI;AAAA,QAC7C,WAAW,KAAK,sBAAsB,KAAK,IAAI;AAAA,QAC/C,cAAc,KAAK,yBAAyB,KAAK,IAAI;AAAA,MACvD,CAAC;AAAA,IACH;AAAA,IAEA,uBAAuB;AACrB,6BAAuB,IAAI;AAC3B,UAAI,KAAK,aAAc,MAAK,aAAa,YAAY;AACrD,WAAK,yBAAyB;AAAA,IAChC;AAAA,IAEA,2BAA2B;AACzB,UAAI,KAAK,cAAc;AACrB,aAAK,qBAAqB;AAC1B,aAAK,kBAAkB;AAAA,MACzB;AAAA,IACF;AAAA,IAEA,qBAAqB,MAAM;AACzB,YAAM,QAAQ,IAAI,aAAa,WAAW,EAAE,KAAK,CAAC;AAClD,aAAO,KAAK,cAAc,KAAK;AAAA,IACjC;AAAA,IAEA,wBAAwB;AACtB,WAAK,aAAa,aAAa,EAAE;AAAA,IACnC;AAAA,IAEA,2BAA2B;AACzB,WAAK,gBAAgB,WAAW;AAAA,IAClC;AAAA,IAEA,IAAI,UAAU;AACZ,YAAM,UAAU,KAAK,aAAa,SAAS;AAC3C,YAAM,qBAAqB,KAAK,aAAa,oBAAoB;AACjE,aAAO,EAAE,SAAS,oBAAoB,GAAG,KAAS,EAAE,GAAG,KAAK,QAAQ,CAAC,EAAE;AAAA,IACzE;AAAA,EACF;AAGA,MAAI,eAAe,IAAI,2BAA2B,MAAM,QAAW;AACjE,mBAAe,OAAO,6BAA6B,6BAA6B;AAAA,EAClF;;;ACpDO,WAAS,4BAA4B,OAAO;AACjD,QAAI,MAAM,kBAAkB,iBAAiB;AAC3C,YAAM,EAAE,QAAQ,MAAM,QAAQ,EAAE,aAAa,EAAE,IAAI;AAEnD,WAAK,iBAAiB,sBAAsB,CAAC,EAAE,QAAQ,EAAE,gBAAgB,EAAE,WAAAC,WAAU,EAAE,EAAE,MAAM;AAC7F,cAAM,OAAO,WAAW,aAAa,IAAI,IAAI,aAAa,OAAO,IAAI,gBAAgB;AACrF,cAAM,SAAS,qBAAqBA,YAAW,MAAM,IAAI;AAEzD,YAAI,CAAC,OAAO,KAAK,MAAM,GAAG;AACxB,cAAI,QAAQ,KAAK,MAAM,GAAG;AACxB,iBAAK,OAAO,SAAS;AAAA,UACvB,OAAO;AACL,iBAAK,IAAI,WAAW,MAAM;AAAA,UAC5B;AAEA,uBAAa,SAAS;AAAA,QACxB;AAAA,MACF,GAAG,EAAE,MAAM,KAAK,CAAC;AAAA,IACnB;AAAA,EACF;AAEA,WAAS,qBAAqBA,YAAW,MAAM,MAAM;AACnD,UAAM,aAAa,oBAAoBA,UAAS;AAChD,UAAM,iBAAiB,KAAK,IAAI,SAAS;AACzC,UAAM,SAAS,KAAK,aAAa,QAAQ,KAAK;AAE9C,QAAI,OAAO,cAAc,UAAU;AACjC,aAAO;AAAA,IACT,WAAW,OAAO,kBAAkB,UAAU;AAC5C,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,oBAAoBA,YAAW;AACtC,QAAIA,sBAAqB,qBAAqBA,sBAAqB,kBAAkB;AAQnF,UAAIA,WAAU,SAAS,WAAW;AAChC,eAAOA,WAAU;AAAA,MACnB,WAAWA,WAAU,aAAa,YAAY,GAAG;AAC/C,eAAOA,WAAU;AAAA,MACnB,OAAO;AACL,eAAO;AAAA,MACT;AAAA,IACF,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,WAAW,MAAM;AACxB,WAAO,gBAAgB,YAAY,gBAAgB;AAAA,EACrD;;;AChDA,SAAO,QAAQ;AAEf,mBAAiB,8BAA8B,2BAA2B;;;ACZ1E,sBAAmB;AACnB,SAAO,SAAS,cAAAC;AAChB,SAAO,IAAI,cAAAA;;;ACFV,GAAC,SAAUC,IAAG;AACb,QAAI,yBAAyB;AAE7B,QAAI,gBAAgB,WAAY;AAC9B,cAAO,oBAAI,KAAK,GAAE,QAAQ,IAAI;AAAA,IAChC;AAEA,QAAI,oBAAoB,SAAUC,MAAI;AACpC,aAAO,MAAMA,OAAK;AAAA,IACpB;AAEA,QAAI,wBAAwB,SAAUA,MAAI;AACxC,aAAO,MAAMA,OAAK;AAAA,IACpB;AAEA,QAAI,uBAAuB,SAAU,eAAe,oBAAoB,OAAO;AAC7E,UAAI,CAAC,eAAe;AAClB,eAAO,MAAM,OAAO;AAAA,MACtB;AAEA,UAAI,OAAO,iBAAiB,YAAY;AACtC,YAAI,oBAAoB;AACtB,kBAAQ,KAAK,wGAAwG;AAAA,QACvH;AACA,eAAO,cAAc,KAAK;AAAA,MAC5B;AAEA,UAAI,OAAO,iBAAiB,UAAU;AACpC,YAAI,oBAAoB;AACtB,iBAAO,MAAM,kBAAkB,EAAE,aAAa;AAAA,QAChD,OAAO;AACL,iBAAO,iBAAiB,SAAS,QAAQD,GAAE,aAAa;AAAA,QAC1D;AAAA,MACF;AAAA,IACF;AAEA,IAAAA,GAAE,QAAQ,EAAE,GAAG,SAAS,eAAe,SAAUE,IAAG;AAClD,MAAAA,GAAE,eAAe;AACjB,MAAAA,GAAE,gBAAgB;AAElB,UAAI,QAAQF,GAAE,IAAI,GAChB,QAAQ,MAAM,KAAK,aAAa,GAChC,SAAS,MAAM,KAAK,cAAc,GAClC,UAAU,MAAM,KAAK,gCAAgC,GACrD,kBAAkB,MAAM,KAAK,8BAA8B,KAAK,MAAM,KAAK,gCAAgC,KAAK,UAChH,gBAAgB,MAAM,KAAK,4BAA4B,GACvD,qBAAqB,MAAM,KAAK,iCAAiC,GACjE,QAAQ,SAAS,MAAM,KAAK,OAAO,GAAG,EAAE,GACxC,gBAAgB,IAAI,OAAO,YAAY,QAAQ,eAAe,GAAG,GACjE,oBAAoB,IAAI,OAAO,UAAU,QAAQ,WAAW,GAAG,GAC/D,SAAS,cAAc,GACvB,cAAc,QAAQ,QAAQ,eAAe,kBAAkB,MAAM,CAAC,GACtE,eAAe,CAAC,GAChB,gBAAgBE;AAElB,UAAI,eAAe,SAAS;AAC1B,wBAAgB,IAAI,OAAO,YAAY,SAAS,eAAe,GAAG;AAClE,4BAAoB,IAAI,OAAO,UAAU,SAAS,WAAW,GAAG;AAChE,sBAAc,QAAQ,QAAQ,eAAe,kBAAkB,MAAM,CAAC;AAAA,MACxE;AAEA,oBAAc,YAAY,QAAQ,mBAAmB,sBAAsB,MAAM,CAAC;AAClF,qBAAe,CAAC,WAAW;AAE3B,cAAQ,MAAM,KAAK,IAAI,IAAI,KAAK,IAAI,OAAO,CAAC;AAC5C,eAAS;AAET,aAAO,OAAO;AACZ,iBAAS,cAAc;AACvB,sBAAc,QAAQ,QAAQ,eAAe,kBAAkB,MAAM,CAAC;AACtE,sBAAc,YAAY,QAAQ,mBAAmB,sBAAsB,MAAM,CAAC;AAClF,qBAAa,KAAK,WAAW;AAE7B,iBAAS;AAAA,MACX;AAEA,UAAI,oBAAoB,qBAAqB,eAAe,oBAAoB,KAAK;AAErF,UAAI,CAAC,qBAAqB,kBAAkB,UAAU,GAAG;AACvD,gBAAQ,KAAK,0IAA0I;AAAA,MACzJ;AAEA,MAAAF,GAAE,KAAK,cAAc,SAAUG,IAAG,MAAM;AACtC,YAAI,cAAcH,GAAE,IAAI;AAExB,YAAI,gBAAgB,OAAO,MAAM,sBAAsB;AACvD,0BAAkB,QAAQ,eAAe,CAAC,aAAa,aAAa,CAAC;AAErE,YAAI,CAAC,cAAc,mBAAmB,GAAG;AAIvC,cAAI,eAAe,kBAAkB,eAAe,EAAE,WAAW;AAEjE,4BAAkB,QAAQ,uBAAuB,CAAC,aAAa,aAAa,CAAC;AAAA,QAC/E;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,IAAAA,GAAE,QAAQ,EAAE,GAAG,SAAS,mDAAmD,SAAUE,IAAG;AACtF,UAAI,QAAQF,GAAE,IAAI,GAChB,gBAAgB,MAAM,KAAK,eAAe,KAAK,iBAC/C,iBAAiB,MAAM,QAAQ,MAAM,aAAa,GAClD,eAAe,eAAe,OAAO,GACrC,gBAAgBE;AAElB,MAAAA,GAAE,eAAe;AACjB,MAAAA,GAAE,gBAAgB;AAElB,UAAI,gBAAgB,OAAO,MAAM,sBAAsB;AACvD,mBAAa,QAAQ,eAAe,CAAC,gBAAgB,aAAa,CAAC;AAEnE,UAAI,CAAC,cAAc,mBAAmB,GAAG;AACvC,YAAI,UAAU,aAAa,KAAK,gBAAgB,KAAK;AAErD,mBAAW,WAAY;AACrB,cAAI,MAAM,SAAS,SAAS,GAAG;AAC7B,2BAAe,OAAO;AAAA,UACxB,OAAO;AACL,kBAAM,KAAK,oBAAoB,EAAE,IAAI,GAAG;AACxC,2BAAe,KAAK;AAAA,UACtB;AACA,uBAAa,QAAQ,uBAAuB,CAAC,gBAAgB,aAAa,CAAC;AAAA,QAC7E,GAAG,OAAO;AAAA,MACZ;AAAA,IACF,CAAC;AAED,QAAI,mBAAmB,WAAY;AACjC,MAAAF,GAAE,mCAAmC,EAAE,KAAK,SAAUG,IAAG,KAAK;AAC5D,YAAI,QAAQH,GAAE,IAAI,GAChB,gBAAgB,MAAM,KAAK,eAAe,KAAK;AAEjD,cAAM,QAAQ,MAAM,aAAa,EAAE,KAAK;AAAA,MAC1C,CAAC;AAAA,IACH;AAEA,IAAAA,GAAE,WAAY;AACZ,uBAAiB;AACjB,MAAAA,GAAE,QAAQ,EAAE,GAAG,wCAAwC,gBAAgB;AAAA,IACzE,CAAC;AAAA,EACH,GAAG,MAAM;;;;AC5IF,MAAMI,KAAqB;AAA3B,MAEDC,KAAc,EAClBC,SAAS,EACPC,cAAc,WACdC,SAAS,EACPC,MAAAA,MACAC,MAAAA,KAAM,EAAA,GAGVC,MAAM,EACJH,SAAS,EACPE,MAAAA,KAAM,EAAA,EAAA;AAZL,MCADE,KAAa,EACjBC,SAAS,EACPC,SAAS,OACTC,OAAAA,MAAO,GAETC,OAAO,EACLF,SAAS,cACTG,UAAAA,KAAU,GAEZC,UAAU,EACRJ,SAAS,MACTK,UAAAA,MACAC,eAAAA,MACAC,OAAAA,MAAO,GAETC,MAAM,EACJR,SAAS,OACTK,UAAAA,MACAI,gBAAgB,CAAE,UAAA,GAClBC,MAAM,EACJC,WAAAA,KAAW,EAAA,GAGfC,YAAY,EACVZ,SAAS,MACTC,OAAAA,MAAO,GAETY,QAAQ,EACNb,SAAS,MACTc,eAAe,cACfP,OAAAA,OACAJ,UAAAA,MACAY,KAAKC,IAAAA;AACH,WAAOhB,GAAQgB,GAAQC,UAAAA,MAAgBnB,GAAWoB,KAAKJ,aAAAA,EAAed;EACxE,EAAA,GAEFmB,YAAY,EACVnB,SAAS,MACTC,OAAAA,MAAO,GAETmB,QAAQ,EACNpB,SAAS,MACTc,eAAe,cACfP,OAAAA,OACAJ,UAAAA,MACAY,KAAKC,IAAAA;AACH,WAAOhB,GAAQgB,GAAQC,UAAAA,MAAgBnB,GAAWoB,KAAKJ,aAAAA,EAAed;EACxE,EAAA,GAEFqB,mBAAmB,EACjBrB,SAAS,OACTsB,WAAAA,MACAjB,UAAAA,MACAJ,OAAAA,OACAM,OAAAA,MAAO,EAAA;ADtDJ,MC0DDP,KAAWgB,CAAAA,OAAAA;AAAO,QAAAO;AAAA,WAAKP,QAAAA,MAAgB,UAATO,KAAPP,GAAShB,YAAAA,WAAOuB,KAAAA,SAAhBA,GAAkBC,YAAAA;EAAa;AD1DrD,MEADC,KAAsBC,UAAUC,UAAUC,MAAM,4BAAA;AFA/C,MECDC,KAAiBJ,MAAuBK,SAASL,GAAoB,CAAA,CAAA;AAE3E,MAAeM,KAAA,EAGbC,sBAAsB,kBAAkBjB,KAAKW,UAAUC,SAAAA,GAKvDM,eAAeJ,MAAkBA,KAAiB,IAClDK,gBAAgBL,MAAkBH,UAAUC,UAAUC,MAAM,cAAA,GAG5DO,sBAAsB,iBAAiBpB,KAAKW,UAAUC,SAAAA,GAEtDS,qBAA2C,eAAA,OAAfC,cAC1B,CAAE,QAAQ,mBAAmB,WAAA,EAAcC,MAAMC,CAAAA,OAAQA,MAAQF,WAAWG,SAAAA,EAAAA;AAfhF,MCHeC,KAAA,EACbC,UAAU,CAAE,UAAA,GACZC,cAAAA,OACAC,YAAAA,KAAY;ADAd,MEHeC,KAAA,EACbC,aAAa,gBACbC,MAAM,QACNC,SAAS,WACTC,MAAM,QACNC,OAAO,SACPC,oBAAoB,uBACpB3C,MAAM,QACNJ,UAAU,WACVgD,QAAQ,kBACRC,QAAQ,UACRC,MAAM,QACNC,SAAS,WACTC,SAAS,kBACTtD,OAAO,SACPuD,MAAM,QACNC,QAAQ,UACRC,QAAQ,iBACRC,MAAM,QACNC,QAAQ,UACRC,KAAK,OACLC,gBAAgB,qBAChBC,IAAI,MACJC,IAAI,MACJC,IAAI,MACJC,IAAI,MACJC,IAAI,KAAA;ACrBN,MAAMC,KAAQ,CAAEC,GAAKpB,OAAOoB,GAAKL,IAAIK,GAAKJ,IAAII,GAAKN,IAAIM,GAAKF,IAAIE,GAAKH,EAAAA;AAErE,MAAeI,KAAA,EACbC,QAAQ,OACRC,WAAW,GAEXC,UAAUtD,IAAAA;AACR,YAAQA,IAAAA;MACN,KAAK;AACH,eAAA,KAAAuD,OAAYL,GAAKpB,KAAAA;MACnB,KAAK;AACH,eAAA,KAAAyB,OAAYL,GAAKrB,IAAAA;MACnB;AACE,YAAI2B;AAEgB,iBAAhB1D,KAAKsD,SACPI,KAAO,MACkB,UAAhB1D,KAAKsD,WACdI,KAAO;AAGT,cAAMC,KAAMC,KAAKC,MAAMD,KAAKE,IAAI5D,EAAAA,IAAU0D,KAAKE,IAAIJ,EAAAA,CAAAA,GAG7CK,MAFY7D,KAAS0D,KAAKI,IAAIN,IAAMC,EAAAA,GACjBM,QAAQjE,KAAKuD,SAAAA,EACGW,QAAQ,OAAO,EAAA,EAAIA,QAAQ,OAAO,EAAA;AAC3E,eAAAT,GAAAA,OAAUM,IAAyB,GAAA,EAAAN,OAAIN,GAAMQ,EAAAA,CAAAA;IAAAA;EAEnD,EAAA;AChCK,MAAMQ,KAAmB;AAAzB,MACMC,KAAqB;AAD3B,MCAMC,KAAS,SAASC,IAAAA;AAC7B,eAAWC,MAAOD,IAAY;AAC5B,YAAME,KAAQF,GAAWC,EAAAA;AACzBvE,WAAKuE,EAAAA,IAAOC;IACd;AACA,WAAOxE;EACT;ADNO,MEKDyE,KAAOC,SAASC;AFLf,MEMDjE,KAAQ+D,GAAKG;AFNZ,MEQMC,KAAc,SAASC,IAAAA;AAA+F,QAAA,EAApFC,WAAEA,IAASC,kBAAEA,IAAgBC,cAAEA,IAAYC,SAAEA,IAAOC,gBAAEA,IAAcC,OAAEA,GAAAA,IAAOC,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAC7H,UAAMvF,KAAUiF,MAAwBN,IAClCe,KAAWR,IACXS,KAAyB,gBAAZP,IAEbQ,KAAU,SAASC,IAAAA;AACV,cAATP,MAA6B,KAAA,EAAVA,MACrBM,GAAQE,QAAAA;AAEV,YAAMC,KAASC,GAA2BH,GAAME,QAAQ,EAAEb,kBAAkBQ,GAAAA,CAAAA;AAC9D,cAAVK,OACFZ,QAAAA,MAAAA,GAAcc,KAAKF,IAAQF,IAAOE,EAAAA,GAC9BV,MACFQ,GAAMR,eAAAA;IAAAA;AAQZ,WAHAO,GAAQE,UAAU,MAAM9F,GAAQkG,oBAAoBlB,IAAWY,IAASD,EAAAA,GAExE3F,GAAQmG,iBAAiBnB,IAAWY,IAASD,EAAAA,GACtCC;EACT;AF9BO,MEqCMQ,KAAe,SAASpB,IAAAA;AAAgE,QAAA,EAArDC,WAAEA,IAASoB,SAAEA,IAAOC,YAAEA,IAAUxH,YAAEA,GAAAA,IAAYyG,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAC/F,UAAMvF,KAAuB,QAAbiF,KAAoBA,KAAYN;AAChD0B,IAAAA,KAAAA,UAAUA,IACVC,KAAAA,UAAaA;AAEb,UAAMT,KAAQjB,SAAS2B,YAAY,QAAA;AAKnC,WAJAV,GAAMW,UAAUxB,IAAWqB,IAASC,EAAAA,GAClB,QAAdxH,MACFyF,GAAO0B,KAAKJ,IAAO/G,EAAAA,GAEdkB,GAAQyG,cAAcZ,EAAAA;EAC/B;AFhDO,MEkDMa,KAAyB,SAAS1G,IAAS0F,IAAAA;AACtD,QAA0B,OAAtB1F,QAAAA,KAAAA,SAAAA,GAAS2G,UACX,QAAO/F,GAAMqF,KAAKjG,IAAS0F,EAAAA;EAE/B;AFtDO,MEwDMM,KAA6B,SAASY,IAAAA;AAA4C,QAAA,EAAtC1B,kBAAEA,IAAgB2B,WAAEA,GAAAA,IAAWtB,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AACzF,WAAOqB,MAAQA,GAAKD,aAAaG,KAAKC,eACpCH,CAAAA,KAAOA,GAAK3G;AAEd,QAAY,QAAR2G,IAAJ;AAIA,UAAwB,QAApB1B,GAYF,QAAO0B;AAXP,UAAIA,GAAKI,WAAwB,QAAbH,GAClB,QAAOD,GAAKI,QAAQ9B,EAAAA;AAEpB,aAAO0B,MAAQA,OAASC,MAAW;AACjC,YAAIH,GAAuBE,IAAM1B,EAAAA,EAC/B,QAAO0B;AAETA,QAAAA,KAAOA,GAAK3G;MACd;IAXJ;EAgBF;AF9EO,MEuFMgH,KAAwBjH,CAAAA,OACnC4E,SAASsC,kBAAkBlH,MAAWmH,GAAoBnH,IAAS4E,SAASsC,aAAAA;AFxFvE,ME0FMC,KAAsB,SAASnH,IAAS4G,IAAAA;AACnD,QAAK5G,MAAY4G,GAGjB,QAAOA,MAAM;AACX,UAAIA,OAAS5G,GACX,QAAA;AAEF4G,MAAAA,KAAOA,GAAK3G;IACd;EACF;AFpGO,MEwHMmH,KAAuB,SAASR,IAAAA;AAAM,QAAAS;AACjD,QAAS,UAALA,KAACT,OAAAA,WAAIS,MAAAA,CAAJA,GAAMpH,WACT;AAEF,QAAIqH,KAAa;AAEjB,SADAV,KAAOA,GAAKW,iBACLX,KACLU,CAAAA,MACAV,KAAOA,GAAKW;AAEd,WAAOD;EACT;AFnIO,MEqIME,KAAcZ,CAAAA,OAAAA;AAAI,QAAAa;AAAA,WAAKb,QAAAA,MAAgB,UAAZa,KAAJb,GAAM3G,eAAAA,WAAUwH,KAAAA,SAAhBA,GAAkBC,YAAYd,EAAAA;EAAK;AFrIhE,MEuIMe,KAAW,SAASC,IAAAA;AAAqE,QAAA,EAA/DC,iBAAEA,IAAeC,aAAEA,IAAWC,wBAAEA,GAAAA,IAAwBxC,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAChG,UAAMyC,MAAa,MAAA;AACjB,cAAQH,IAAAA;QACN,KAAK;AACH,iBAAOI,WAAWC;QACpB,KAAK;AACH,iBAAOD,WAAWE;QACpB,KAAK;AACH,iBAAOF,WAAWG;QACpB;AACE,iBAAOH,WAAWI;MAAAA;IAEvB,GAXkB;AAanB,WAAOzD,SAAS0D,iBACdV,IACAI,IACe,QAAfF,KAAsBA,KAAc,MAAA,SACpCC,EAAAA;EAEJ;AF3JO,ME6JM/I,KAAWgB,CAAAA,OAAAA;AAAO,QAAAO;AAAA,WAAKP,QAAAA,MAAgB,UAATO,KAAPP,GAAShB,YAAAA,WAAOuB,KAAAA,SAAhBA,GAAkBC,YAAAA;EAAa;AF7J5D,ME+JM+H,KAAc,SAASC,IAAAA;AAAmB,QACjD/D,IAAKC,IAD8B+D,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAE9B,gBAAA,OAARiD,MACTC,KAAUD,IACVA,KAAMC,GAAQzJ,WAEdyJ,KAAU,EAAE3J,YAAY2J,GAAAA;AAG1B,UAAMzI,KAAU4E,SAAS8D,cAAcF,EAAAA;AASvC,QAPwB,QAApBC,GAAQE,aACgB,QAAtBF,GAAQ3J,eACV2J,GAAQ3J,aAAa,CAAA,IAEvB2J,GAAQ3J,WAAW8J,kBAAkBH,GAAQE,WAG3CF,GAAQ3J,WACV,MAAK2F,MAAOgE,GAAQ3J,WAClB4F,CAAAA,KAAQ+D,GAAQ3J,WAAW2F,EAAAA,GAC3BzE,GAAQ6I,aAAapE,IAAKC,EAAAA;AAI9B,QAAI+D,GAAQK,MACV,MAAKrE,MAAOgE,GAAQK,MAClBpE,CAAAA,KAAQ+D,GAAQK,MAAMrE,EAAAA,GACtBzE,GAAQ8I,MAAMrE,EAAAA,IAAOC;AAIzB,QAAI+D,GAAQM,KACV,MAAKtE,MAAOgE,GAAQM,KAClBrE,CAAAA,KAAQ+D,GAAQM,KAAKtE,EAAAA,GACrBzE,GAAQgJ,QAAQvE,EAAAA,IAAOC;AAoB3B,WAhBI+D,GAAQQ,aACVR,GAAQQ,UAAUC,MAAM,GAAA,EAAKC,QAASF,CAAAA,OAAAA;AACpCjJ,MAAAA,GAAQoJ,UAAUC,IAAIJ,EAAAA;IAAU,CAAA,GAIhCR,GAAQa,gBACVtJ,GAAQsJ,cAAcb,GAAQa,cAG5Bb,GAAQc,cACV,CAAA,EAAG5F,OAAO8E,GAAQc,UAAAA,EAAYJ,QAASK,CAAAA,OAAAA;AACrCxJ,MAAAA,GAAQyJ,YAAYD,EAAAA;IAAU,CAAA,GAI3BxJ;EACT;AAEA,MAAI0J;AAEG,MAAMC,KAAmB,WAAA;AAC9B,QAAqB,QAAjBD,GACF,QAAOA;AAGTA,IAAAA,KAAgB,CAAA;AAChB,eAAWjF,MAAOmF,IAAiB;AACjC,YAAM9K,KAAa8K,GAAgBnF,EAAAA;AAC/B3F,MAAAA,GAAWE,WACb0K,GAAcG,KAAK/K,GAAWE,OAAAA;IAElC;AAEA,WAAO0K;EACT;AAdO,MAgBMI,KAAwBlD,CAAAA,OAASmD,GAAwBnD,QAAAA,KAAAA,SAAAA,GAAMoD,UAAAA;AAhBrE,MAsBMC,KAAmB,SAASrD,IAAAA;AAAqC,QAAA,EAA/BsD,QAAEA,GAAAA,IAAQ3E,UAAAC,SAAA,KAAA,WAAAD,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,EAAE2E,QAAAA,KAAQ;AACpE,WAAIA,KACKH,GAAwBnD,EAAAA,IAG7BmD,GAAwBnD,EAAAA,KAAAA,CAAUmD,GAAwBnD,GAAKoD,UAAAA,KATzB,SAASpD,IAAAA;AACnD,aAAO+C,GAAAA,EAAmBQ,SAASnL,GAAQ4H,EAAAA,CAAAA,KAAAA,CAAW+C,GAAAA,EAAmBQ,SAASnL,GAAQ4H,GAAKoD,UAAAA,CAAAA;IACjG,EAOiHpD,EAAAA;EAGjH;AA9BO,MAgCMmD,KAA2BnD,CAAAA,OAASwD,GAAkBxD,EAAAA,KAAwB,aAAfA,QAAAA,KAAAA,SAAAA,GAAMmC;AAhC3E,MAkCMqB,KAAqBxD,CAAAA,QAASA,QAAAA,KAAAA,SAAAA,GAAMD,cAAaG,KAAKuD;AAlC5D,MAoCMC,KAAqB,SAAS1D,IAAAA;AAAqB,QAAA,EAAfjI,MAAEA,GAAAA,IAAM4G,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAC1D,QAAKqB,GAGL,QAAI2D,GAAe3D,EAAAA,IACbA,GAAKmC,SAAS1E,KAAAA,CACZ1F,MACKiI,GAAK3G,WAAW+I,QAAQwB,qBAAqB7L,KAAAA,SAMjD2L,GAAmB1D,GAAKoD,UAAAA;EAEnC;AAnDO,MAqDMS,KAA2B7D,CAAAA,OAASF,GAAuBE,IAAMtI,EAAAA;AArDvE,MAuDMoM,KAAuB9D,CAAAA,OAAS2D,GAAe3D,EAAAA,KAAwB,QAAfA,QAAAA,KAAAA,SAAAA,GAAMmC;AAvDpE,MAyDMwB,KAAkB3D,CAAAA,QAASA,QAAAA,KAAAA,SAAAA,GAAMD,cAAaG,KAAK6D;AAzDzD,MCxNDC,KAAQ,EACZC,eAAAA,MAEAC,WAAAA;AACE,WAAI5K,KAAK2K,iBAAiBE,GAAQ3J,sBACzB,IAEA;EAEV,GACD4J,UAAUC,IAAAA;AACR,UAAML,KAAQrC,GAAY,SAAS,EAAE2C,MAAM,QAAQC,UAAAA,MAAgBC,QAAAA,MAAcC,IAAInL,KAAKoL,YAAAA,CAAAA;AAE1FV,IAAAA,GAAMzE,iBAAiB,UAAU,MAAA;AAC/B8E,MAAAA,GAASL,GAAMW,KAAAA,GACf/D,GAAWoD,EAAAA;IAAM,CAAA,GAGnBpD,GAAW5C,SAAS4G,eAAetL,KAAKoL,WAAAA,CAAAA,GACxC1G,SAAS6G,KAAKhC,YAAYmB,EAAAA,GAC1BA,GAAMc,MAAAA;EACR,EAAA;ACxBF,MCAeC,KAAA,EACbC,uBAAAA,OACAC,oBAAoB,OACpBC,mBAAmB,KAAA;ADHrB,MEEeC,KAAA,EACbhK,MAAM,EACJ/C,SAAS,UACTgN,aAAAA,MACAL,OAAO3L,IAAAA;AACL,UAAM8I,KAAQmD,OAAOC,iBAAiBlM,EAAAA;AACtC,WAA4B,WAArB8I,GAAMqD,cAAyBrD,GAAMqD,cAAc;EAC5D,EAAA,GAEF9J,QAAQ,EACNrD,SAAS,MACTgN,aAAAA,MACAL,QAAO3L,CAAAA,OAEsB,aADbiM,OAAOC,iBAAiBlM,EAAAA,EACzBoM,UAAAA,GAGjBC,MAAM,EACJC,cAAc,KACdX,OAAO3L,IAAAA;AACL,UAAMkF,KAAgB,SAAAvB,OAAYrF,IAAqB,GAAA,GACjDgE,KAAOtC,GAAQgH,QAAQ9B,EAAAA;AAC7B,QAAI5C,GACF,QAAOA,GAAKiK,aAAa,MAAA;EAE7B,EAAA,GAEF5J,QAAQ,EACN3D,SAAS,OACTgN,aAAAA,KAAa,GAEfQ,QAAQ,EACN1D,OAAO,EAAE2D,iBAAiB,YAAA,EAAA,EAAA;AFlC9B,MGEeC,KAAA,EACbC,gBAAcA,MACZhJ,2RAAAA,OAE6IL,GAAKvB,MAAI4B,kBAAAA,EAAAA,OAAmBL,GAAKvB,MAAI4B,gKAAAA,EAAAA,OACjCL,GAAKjB,QAAMsB,kBAAAA,EAAAA,OAAmBL,GAAKjB,QAAMsB,8IAAAA,EAAAA,OAC3DL,GAAKX,QAAMgB,kBAAAA,EAAAA,OAAmBL,GAAKX,QAAMgB,oLAAAA,EAAAA,OACHL,GAAKhB,MAAIqB,kBAAAA,EAAAA,OAAmBL,GAAKhB,MAAIqB,gRAAAA,EAAAA,OAItEL,GAAKlE,UAAQuE,kBAAAA,EAAAA,OAAmBL,GAAKlE,UAAQuE,4IAAAA,EAAAA,OACpDL,GAAKpE,OAAKyE,kBAAAA,EAAAA,OAAmBL,GAAKpE,OAAKyE,0IAAAA,EAAAA,OACzCL,GAAK9D,MAAImE,kBAAAA,EAAAA,OAAmBL,GAAK9D,MAAImE,mJAAAA,EAAAA,OAC5BL,GAAKtB,SAAO2B,kBAAAA,EAAAA,OAAmBL,GAAKtB,SAAAA,mJAAAA,EAAO2B,OAC3CL,GAAKf,SAAAA,kBAAAA,EAAOoB,OAAmBL,GAAKf,SAAAA,yKAAAA,EAAOoB,OACrBL,GAAKd,SAAAA,kBAAAA,EAAOmB,OAAmBL,GAAKd,SAAAA,yKAAAA,EAAOmB,OAC3CL,GAAKlB,QAAAA,kBAAAA,EAAMuB,OAAmBL,GAAKlB,QAAAA,2QAAAA,EAAMuB,OAIlEL,GAAKxB,aAAAA,kBAAAA,EAAW6B,OAAmBL,GAAKxB,aAAAA,kVAAAA,EAAW6B,OAM1CL,GAAKV,MAAAA,kBAAAA,EAAIe,OAAmBL,GAAKV,MAAAA,+JAAAA,EAAIe,OAC/BL,GAAKb,MAAAA,kBAAAA,EAAIkB,OAAmBL,GAAKb,MAAAA,oVAAAA,EAAIkB,OAO5FL,GAAKP,gBAAAA,gBAAAA,EAAcY,OAAiBL,GAAKR,KAAAA,kLAAAA,EAAGa,OAEvDL,GAAKhB,MAAAA,sHAAAA,EAAIqB,OACTL,GAAKT,QAAM,mGAAA,EAAA;ACxC7F,MAAMD,KAAO,EAAEgK,UAAU,IAAA;AAAA,MAAAC,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,aAAAC,IAAA,iBAAAC,IAAA,SAAAC,IAAA,KCAV,EACbC,YAAY,cACZC,mBAAmB,uBACnBC,yBAAyB,8BACzBC,oBAAoB,wBACpBC,6BAA6B,kCAC7BC,gBAAgB,oBAChBC,oBAAoB,wBACpBC,gBAAgB,oBAChBC,mBAAmB,uBACnBpN,mBAAmB,qBAAA,GAAA,WAAAqN,IAAA,UAAAC,IAAA,OAAAC,IAAA,ULVN,EACb,GAAG,aACH,GAAG,OACH,IAAI,UACJ,IAAI,UACJ,IAAI,QACJ,IAAI,SACJ,IAAI,UACJ,IAAI,KACJ,IAAI,KACJ,IAAI,IAAA,GAAA,MAAAC,IAAA,QAAAC,IAAA,gBAAAC,IAAA,SAAAC,IAAA,MAAAC,GAAA,CAAA;AMVS,MAAMC,KAAN,MAAMA;IACnB,OAAA,YAAmBC,IAAAA;AACjB,YAAA,EAAMxP,MAAEA,IAAIyP,UAAEA,IAAQC,YAAEA,IAAUC,UAAEA,GAAAA,IAAaC,GAA2BJ,EAAAA;AAE5EjO,WAAKsB,UAAU7C,EAAAA,IAAQ,WAAA;AACrB,YAAI6P,IACAC;AAGY,YAAAC,IASFC;AAVVP,QAAAA,KAEAK,KADEH,KACqBI,UAAjBA,KAAGxO,KAAKkO,EAAAA,MAAAA,WAASM,KAAAA,SAAdA,GAAAzI,KAAAA,IAAAA,IAEA/F,KAAKkO,EAAAA,EAAAA,IAEPC,OACTI,KAASvO,KAAKmO,EAAAA;AAGhB,eAAIC,MACFE,KAAgB,UAATG,KAAGF,OAAAA,WAAME,KAAAA,SAANA,GAAShQ,EAAAA,GACf6P,KACKI,GAAM3I,KAAKuI,IAASC,IAAQlJ,SAAAA,IAAAA,WAGrCiJ,KAAUC,GAAO9P,EAAAA,GACViQ,GAAM3I,KAAKuI,IAASC,IAAQlJ,SAAAA;MAAAA;IAGzC;EAAA;AAGF,MAAMgJ,KAA6B,SAASJ,IAAAA;AAC1C,UAAMvN,KAAQuN,GAAWvN,MAAMiO,EAAAA;AAC/B,QAAA,CAAKjO,GACH,OAAM,IAAIkO,MAAK,wCAAAnL,OAAyCwK,EAAAA,CAAAA;AAG1D,UAAMY,KAAO,EAAEpQ,MAAMiC,GAAM,CAAA,EAAA;AAY3B,WAVgB,QAAZA,GAAM,CAAA,IACRmO,GAAKX,WAAWxN,GAAM,CAAA,IAEtBmO,GAAKV,aAAazN,GAAM,CAAA,GAGV,QAAZA,GAAM,CAAA,MACRmO,GAAKT,WAAAA,OAGAS;EACT;AAnBA,MAmBA,EAEQH,OAAAA,GAAAA,IAAUI,SAASxN;AArB3B,MAuBMqN,KAA+B,IAAII,OAAO,gCAAA;AAAA,MAAAC;AAAA,MAAAC;AAAA,MAAAC;ACpDjC,MAAMC,KAAN,cAA0BnB,GAAAA;IACvC,OAAA,MAAOoB;AAAgB,UAAZ5K,KAAKa,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG;AACjB,aAAIb,cAAiBxE,OACZwE,KAEAxE,KAAKqP,eAAe7K,QAAAA,KAAAA,SAAAA,GAAO8K,SAAAA,CAAAA;IAEtC;IAEA,OAAA,eAAsBC,IAAAA;AACpB,aAAO,IAAIvP,KAAKuP,IAAYC,GAAWD,EAAAA,CAAAA;IACzC;IAEA,OAAA,eAAsBE,IAAAA;AACpB,aAAO,IAAIzP,KAAK0P,GAAWD,EAAAA,GAAaA,EAAAA;IAC1C;IAEAE,YAAYJ,IAAYE,IAAAA;AACtBG,YAAAA,GAASvK,SAAAA,GACTrF,KAAKuP,aAAaA,IAClBvP,KAAKyP,aAAaA,IAClBzP,KAAKsF,SAAStF,KAAKyP,WAAWnK,QAC9BtF,KAAK6P,aAAa7P,KAAKuP,WAAWjK;IACpC;IAEAwK,mBAAmBC,IAAAA;AACjB,aAAOL,GAAW1P,KAAKyP,WAAWO,MAAM,GAAGpM,KAAKqM,IAAI,GAAGF,EAAAA,CAAAA,CAAAA,EAAUzK;IACnE;IAEA4K,qBAAqBC,IAAAA;AACnB,aAAOX,GAAWxP,KAAKuP,WAAWS,MAAM,GAAGpM,KAAKqM,IAAI,GAAGE,EAAAA,CAAAA,CAAAA,EAAc7K;IACvE;IAEA0K,QAAAA;AACE,aAAOhQ,KAAK2P,YAAYS,eAAepQ,KAAKyP,WAAWO,MAAAA,GAAS3K,SAAAA,CAAAA;IAClE;IAEAgL,OAAON,IAAAA;AACL,aAAO/P,KAAKgQ,MAAMD,IAAQA,KAAS,CAAA;IACrC;IAEAO,UAAU9L,IAAAA;AACR,aAAOxE,KAAK2P,YAAYP,IAAI5K,EAAAA,EAAO+K,eAAevP,KAAKuP;IACzD;IAEAgB,SAAAA;AACE,aAAOvQ,KAAKuP;IACd;IAEAiB,cAAAA;AACE,aAAOxQ,KAAKuP;IACd;IAEAD,WAAAA;AACE,aAAOtP,KAAKuP;IACd;EAAA;AAGF,MAAMkB,KAAuD,OAA9B,UAAVC,KAAAC,MAAMC,SAAAA,WAAIF,KAAAA,SAAVA,GAAA3K,KAAA4K,OAAa,WAAA,EAAgBrL;AAAlD,MACMuL,KAA+C,SAAT,UAAfC,KAAA,IAAIC,gBAAAA,WAAWD,KAAAA,SAAfA,GAAA/K,KAAA,KAAkB,CAAA;AAD/C,MAEMiL,KAAgE,kBAAnB,UAApBC,KAAAC,OAAOC,kBAAAA,WAAaF,KAAAA,SAApBA,GAAAlL,KAAAmL,QAAuB,IAAI,MAAA;AAK1D,MAAI1B;AAAJ,MAAgBE;AAQdF,OADEiB,MAAgBI,KACJO,CAAAA,OAAWT,MAAMC,KAAKQ,EAAAA,EAAQC,IAAKC,CAAAA,OAASA,GAAKP,YAAY,CAAA,CAAA,IAE9D,SAASK,IAAAA;AACpB,UAAMG,KAAS,CAAA;AACf,QAAIC,KAAU;AACd,UAAA,EAAMlM,QAAEA,GAAAA,IAAW8L;AAEnB,WAAOI,KAAUlM,MAAQ;AACvB,UAAId,KAAQ4M,GAAOK,WAAWD,IAAAA;AAC9B,UAAI,SAAUhN,MAASA,MAAS,SAAUgN,KAAUlM,IAAQ;AAE1D,cAAMoM,KAAQN,GAAOK,WAAWD,IAAAA;AACP,kBAAZ,QAARE,MAEHlN,OAAkB,OAARA,OAAkB,OAAe,OAARkN,MAAiB,QAIpDF;MAEJ;AACAD,MAAAA,GAAO5H,KAAKnF,EAAAA;IACd;AAEA,WAAO+M;EAAAA,GAMT7B,KADEsB,KACYW,CAAAA,OAAUT,OAAOC,cAAAA,GAAiBR,MAAMC,KAAKe,MAAS,CAAA,CAAA,CAAA,IAEvD,SAASA,IAAAA;AAiBpB,YAhBmB,MAAA;AACjB,YAAMC,KAAS,CAAA;AAYf,aAVAjB,MAAMC,KAAKe,EAAAA,EAAO1I,QAASzE,CAAAA,OAAAA;AACzB,YAAI+M,KAAS;AACT/M,QAAAA,KAAQ,UACVA,MAAS,OACT+M,MAAUL,OAAOW,aAAarN,OAAU,KAAK,OAAQ,KAAA,GACrDA,KAAQ,QAAiB,OAARA,KAEnBoN,GAAOjI,KAAK4H,KAASL,OAAOW,aAAarN,EAAAA,CAAAA;MAAO,CAAA,GAG3CoN;IACR,GAdkB,EAgBDE,KAAK,EAAA;EAAA;ACzH3B,MAAI3G,KAAK;AAEM,MAAM4G,KAAN,cAAyB/D,GAAAA;IACtC,OAAA,eAAsBgE,IAAAA;AACpB,aAAOhS,KAAKiS,SAASC,KAAKnT,MAAMiT,EAAAA,CAAAA;IAClC;IAEArC,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAKmL,KAAAA,EAAOA;IACd;IAEAgH,qBAAqB5D,IAAAA;AACnB,aAAOvO,KAAK2P,iBAAgBpB,QAAAA,KAAAA,SAAAA,GAAQoB;IACtC;IAEAW,UAAU/B,IAAAA;AACR,aAAOvO,SAASuO;IAClB;IAEA6D,UAAAA;AACE,YAAMC,KAAQ,CAAA,GACRC,KAAWtS,KAAKuS,sBAAAA,KAA2B,CAAA;AAEjD,iBAAWhO,MAAO+N,IAAU;AAC1B,cAAM9N,KAAQ8N,GAAS/N,EAAAA;AACvB8N,QAAAA,GAAM1I,KAAI,GAAAlG,OAAIc,IAAG,GAAA,EAAAd,OAAIe,EAAAA,CAAAA;MACvB;AAEA,aAAA,KAAAf,OAAYzD,KAAK2P,YAAYlR,MAAI,GAAA,EAAAgF,OAAIzD,KAAKmL,EAAAA,EAAE1H,OAAG4O,GAAM/M,SAAM,IAAA7B,OAAO4O,GAAMP,KAAK,IAAA,CAAA,IAAU,IAAE,GAAA;IAC3F;IAEAS,wBAAAA;IAAyB;IAEzBC,eAAAA;AACE,aAAON,KAAKO,UAAUzS,IAAAA;IACxB;IAEA0S,gBAAAA;AACE,aAAOvD,GAAYC,IAAIpP,IAAAA;IACzB;IAEAwQ,cAAAA;AACE,aAAOxQ,KAAKmL,GAAGmE,SAAAA;IACjB;EAAA;AC5CK,MAAMqD,KAAiB,WAAA;AAAyB,QAAhB7F,KAACzH,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAIuN,KAACvN,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACjD,QAAIyH,GAAExH,WAAWsN,GAAEtN,OACjB,QAAA;AAEF,aAASuN,KAAQ,GAAGA,KAAQ/F,GAAExH,QAAQuN,MAAS;AAE7C,UADc/F,GAAE+F,EAAAA,MACFD,GAAEC,EAAAA,EACd,QAAA;IAEJ;AACA,WAAA;EACF;AAXO,MAeMC,KAAc,SAASnB,IAAAA;AAClC,UAAMC,KAASD,GAAM3B,MAAM,CAAA;AAAE,aAAA+C,KAAA1N,UAAAC,QADeuJ,KAAAA,IAAI8B,MAAAoC,KAAAA,IAAAA,KAAAA,IAAAA,CAAAA,GAAAC,KAAA,GAAAA,KAAAD,IAAAC,KAAJnE,CAAAA,GAAImE,KAAA3N,CAAAA,IAAAA,UAAA2N,EAAAA;AAGhD,WADApB,GAAOqB,OAAAA,GAAUpE,EAAAA,GACV+C;EACT;AAnBO,MCADsB,KACJ;ADDK,MCGMC,KAAgB,WAAA;AAC3B,UAAMzI,KAAQrC,GAAY,SAAS,EAAE+K,KAAK,QAAQ3U,MAAM,KAAK4U,SAAS,QAAA,CAAA,GAChEC,KAAWjL,GAAY,YAAY,EAAE+K,KAAK,QAAQ3U,MAAM,KAAK4U,SAAS,QAAA,CAAA,GACtEE,KAAOlL,GAAY,MAAA;AACzBkL,IAAAA,GAAKhK,YAAYmB,EAAAA,GACjB6I,GAAKhK,YAAY+J,EAAAA;AAEjB,UAAME,KAAmB,WAAA;AACvB,UAAA;AACE,eAAO,IAAIC,SAASF,EAAAA,EAAMG,IAAIJ,GAASD,OAAAA;MACxC,SAAQM,IAAAA;AACP,eAAA;MACF;IACF,EANyB,GAQnBC,KAAuB,WAAA;AAC3B,UAAA;AACE,eAAOlJ,GAAM9F,QAAQ,qBAAA;MACtB,SAAQ+O,IAAAA;AACP,eAAA;MACF;IACF,EAN6B;AAQ7B,WAAIH,KACK,SAASpC,IAAAA;AAEd,aADAkC,GAAS9O,QAAQ4M,IACV,IAAIqC,SAASF,EAAAA,EAAMM,IAAIP,GAASD,OAAAA;IAAAA,IAEhCO,KACF,SAASxC,IAAAA;AAEd,aADA1G,GAAMlG,QAAQ4M,IACV1G,GAAM9F,QAAQ,WAAA,IACT,QAEA;IAAA,IAIJ,SAASwM,IAAAA;AACd,YAAME,KAAOF,GAAO0C,KAAAA,EAAOzD,OAAO,CAAA;AAClC,aAAI6C,GAAYrT,KAAKyR,EAAAA,IACZ,QAEA;IAAA;EAIf,EA/C6B;ACJ7B,MAAIyC,KAAoB;AAAxB,MACIC,KAAsB;AAD1B,MAEIC,KAAqB;AAFzB,MAGIC,KAAqB;AAElB,MAAMC,KAAuBA,OAC7BJ,OACHA,KAAoBK,GAAAA,EAAwB3Q,OAAO4Q,GAAAA,CAAAA,IAE9CN;AAJF,MAOMO,KAAkBC,CAAAA,OAAkBC,GAAuBD,EAAAA;AAPjE,MASMF,KAAyBA,OAC/BL,OACHA,KAAsBS,OAAOC,KAAKF,EAAAA,IAE7BR;AAbF,MAgBMW,KAAiBJ,CAAAA,OAAkBC,GAAsBD,EAAAA;AAhB/D,MAkBMH,KAAwBA,OAC9BH,OACHA,KAAqBQ,OAAOC,KAAKF,EAAAA,IAE5BP;AAtBF,MCLMW,KAA8B,SAAS9V,IAAS+V,IAAAA;AACtCC,OAA6BhW,EAAAA,EACrCsK,cAAcyL,GAAW3Q,QAAQ,OAAOpF,EAAAA;EACvD;ADEO,MCADgW,KAA+B,SAAShW,IAAAA;AAC5C,UAAMgB,KAAU4E,SAAS8D,cAAc,OAAA;AACvC1I,IAAAA,GAAQ6I,aAAa,QAAQ,UAAA,GAC7B7I,GAAQ6I,aAAa,iBAAiB7J,GAAQwB,YAAAA,CAAAA;AAC9C,UAAMyU,KAAQC,GAAAA;AAKd,WAJID,MACFjV,GAAQ6I,aAAa,SAASoM,EAAAA,GAEhCrQ,SAASuQ,KAAKC,aAAapV,IAAS4E,SAASuQ,KAAKnL,UAAAA,GAC3ChK;EACT;ADVO,MCYDkV,KAAc,WAAA;AAClB,UAAMlV,KAAUqV,GAAe,gBAAA,KAAqBA,GAAe,WAAA;AACnE,QAAIrV,IAAS;AACX,YAAA,EAAMiV,OAAEA,IAAKK,SAAEA,GAAAA,IAAYtV;AAC3B,aAAgB,MAATiV,KAAcK,KAAUL;IACjC;EACF;ADlBO,MCoBDI,KAAkB1W,CAAAA,OAASiG,SAASuQ,KAAKI,cAAa5R,aAAAA,OAAchF,IAAAA,GAAAA,CAAAA;ADpBnE,MEPD6W,KAAmB,EAAE,wCAAwC,OAAA;AFO5D,MELMC,KAA0B,SAASC,IAAAA;AAC9C,UAAMhW,KAAOgW,GAAaC,QAAQ,YAAA,GAC5BhR,KAAO+Q,GAAaC,QAAQ,WAAA;AAElC,QAAA,CAAIjW,MAAAA,CAAQiF,GAMV,QAAOjF,QAAAA,KAAAA,SAAAA,GAAM8F;AANG;AAChB,YAAA,EAAMiG,MAAEA,GAAAA,IAAS,IAAImK,YAAYC,gBAAgBlR,IAAM,WAAA;AACvD,UAAI8G,GAAKnC,gBAAgB5J,GACvB,QAAA,CAAQ+L,GAAK8J,cAAc,GAAA;IAE/B;EAGF;AFPO,ME+BMO,KACP,UAAU/V,KAAKW,UAAUqV,QAAAA,IACnBlQ,CAAAA,OAAUA,GAAMmQ,UAEhBnQ,CAAAA,OAAUA,GAAMoQ;AC1CrB,MAAMC,KAASC,CAAAA,OAAOC,WAAWD,IAAI,CAAA;AAArC,MCGME,KAAa,WAAA;AAAsB,QAAb5H,KAAMlJ,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAC1C,UAAMuM,KAAS,CAAA;AACf,eAAWrN,MAAOgK,IAAQ;AACxB,YAAM/J,KAAQ+J,GAAOhK,EAAAA;AACrBqN,MAAAA,GAAOrN,EAAAA,IAAOC;IAChB;AACA,WAAOoN;EACT;ADVO,MCYMwE,KAAkB,WAAA;AAAyB,QAAhBtJ,KAACzH,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAIuN,KAACvN,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAClD,QAAIoP,OAAOC,KAAK5H,EAAAA,EAAGxH,WAAWmP,OAAOC,KAAK9B,EAAAA,EAAGtN,OAC3C,QAAA;AAEF,eAAWf,MAAOuI,IAAG;AAEnB,UADcA,GAAEvI,EAAAA,MACFqO,GAAErO,EAAAA,EACd,QAAA;IAEJ;AACA,WAAA;EACF;ADvBO,MEEM8R,KAAiB,SAASC,IAAAA;AACrC,QAAa,QAATA,GAKJ,QAHK3F,MAAM4F,QAAQD,EAAAA,MACjBA,KAAQ,CAAEA,IAAOA,EAAAA,IAEZ,CAAEE,GAAUF,GAAM,CAAA,CAAA,GAAKE,GAAsB,QAAZF,GAAM,CAAA,IAAaA,GAAM,CAAA,IAAKA,GAAM,CAAA,CAAA,CAAA;EAC9E;AFTO,MEWMG,KAAmB,SAASH,IAAAA;AACvC,QAAa,QAATA,GAAe;AAEnB,UAAA,CAAQI,IAAOC,EAAAA,IAAQN,GAAeC,EAAAA;AACtC,WAAOM,GAAoBF,IAAOC,EAAAA;EACpC;AFhBO,MEkBME,KAAiB,SAASC,IAAWC,IAAAA;AAChD,QAAiB,QAAbD,MAAmC,QAAdC,GAAoB;AAE7C,UAAA,CAAQC,IAAWC,EAAAA,IAAYZ,GAAeS,EAAAA,GAAAA,CACtCI,IAAYC,EAAAA,IAAad,GAAeU,EAAAA;AAChD,WAAOH,GAAoBI,IAAWE,EAAAA,KAAeN,GAAoBK,IAASE,EAAAA;EACpF;AFxBO,ME0BDX,KAAY,SAAShS,IAAAA;AACzB,WAAqB,YAAA,OAAVA,KACFA,KAEA2R,GAAW3R,EAAAA;EAEtB;AFhCO,MEkCDoS,KAAsB,SAASQ,IAAMC,IAAAA;AACzC,WAAoB,YAAA,OAATD,KACFA,OAASC,KAETjB,GAAgBgB,IAAMC,EAAAA;EAEjC;ACtCe,MAAMC,KAAN,cAAsCtJ,GAAAA;IACnD2B,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAKuX,SAASvX,KAAKuX,OAAOC,KAAKxX,IAAAA,GAC/BA,KAAKyX,oBAAoB,CAAA;IAC3B;IAEAf,QAAAA;AACO1W,WAAK0X,YACR1X,KAAK0X,UAAAA,MACLhT,SAASuB,iBAAiB,mBAAmBjG,KAAKuX,QAAAA,IAAQ;IAE9D;IAEAI,OAAAA;AACE,UAAI3X,KAAK0X,QAEP,QADA1X,KAAK0X,UAAAA,OACEhT,SAASsB,oBAAoB,mBAAmBhG,KAAKuX,QAAAA,IAAQ;IAExE;IAEAK,yBAAyBC,IAAAA;AACvB,UAAA,CAAK7X,KAAKyX,kBAAkBxN,SAAS4N,EAAAA,EAEnC,QADA7X,KAAKyX,kBAAkB9N,KAAKkO,EAAAA,GACrB7X,KAAK0W,MAAAA;IAEhB;IAEAoB,2BAA2BD,IAAAA;AAEzB,UADA7X,KAAKyX,oBAAoBzX,KAAKyX,kBAAkBM,OAAQC,CAAAA,OAAOA,OAAOH,EAAAA,GAChC,MAAlC7X,KAAKyX,kBAAkBnS,OACzB,QAAOtF,KAAK2X,KAAAA;IAEhB;IAEAM,2CAAAA;AACE,aAAOjY,KAAKyX,kBAAkBpG,IAAKwG,CAAAA,OAAqBA,GAAiBK,mBAAAA,CAAAA;IAC3E;IAEAX,SAAAA;AACEvX,WAAKiY,yCAAAA;IACP;IAEAE,QAAAA;AACEnY,WAAKuX,OAAAA;IACP;EAAA;AAGK,MAAMa,KAA0B,IAAId;AAApC,MAEMe,KAAkB,WAAA;AAC7B,UAAMC,KAAYvM,OAAOwM,aAAAA;AACzB,QAAID,GAAUE,aAAa,EACzB,QAAOF;EAEX;AAPO,MASMG,KAAc,WAAA;AAAW,QAAAC;AACpC,UAAMC,KAA4BD,UAApBA,KAAGL,GAAAA,MAAAA,WAAiBK,KAAAA,SAAjBA,GAAmBE,WAAW,CAAA;AAC/C,QAAID,MAAAA,CACGE,GAAkBF,EAAAA,EACrB,QAAOA;EAGb;AAhBO,MAkBMG,KAAc,SAASH,IAAAA;AAClC,UAAML,KAAYvM,OAAOwM,aAAAA;AAGzB,WAFAD,GAAUS,gBAAAA,GACVT,GAAUU,SAASL,EAAAA,GACZP,GAAwBb,OAAAA;EACjC;AAvBO,MA6BDsB,KAAqBF,CAAAA,OAAaM,GAAcN,GAASO,cAAAA,KAAmBD,GAAcN,GAASQ,YAAAA;AA7BlG,MA+BDF,KAAiBvS,CAAAA,OAAAA,CAAU+N,OAAO2E,eAAe1S,EAAAA;AA/BhD,MC3CM2S,KAAmBjI,CAAAA,OAC9BA,GAAOlN,QAAQ,IAAI6K,OAAM,GAAAtL,OAAIU,EAAAA,GAAoB,GAAA,GAAM,EAAA,EAAID,QAAQ,IAAI6K,OAAM,GAAAtL,OAAIW,EAAAA,GAAsB,GAAA,GAAM,GAAA;AD0CxG,MCtCMkV,KAA6B,IAAIvK,OAAAA,QAAMtL,OAASW,IAAkB,GAAA,CAAA;ADsCxE,MCpCMmV,KAA6BnI,CAAAA,OACxCA,GAEGlN,QAAQ,IAAI6K,OAAAA,GAAMtL,OAAI6V,GAA2BE,MAAAA,GAAU,GAAA,GAAM,GAAA,EAEjEtV,QAAQ,WAAW,GAAA;AD+BjB,MCfDuV,KAAyB,SAAS3M,IAAG8F,IAAAA;AACzC,QAAI9F,GAAEwD,UAAUsC,EAAAA,EACd,QAAO,CAAE,IAAI,EAAA;AAGf,UAAM8G,KAAQC,GAAsB7M,IAAG8F,EAAAA,GAAAA,EACjCtN,QAAEA,GAAAA,IAAWoU,GAAME;AAEzB,QAAIC;AAEJ,QAAIvU,IAAQ;AACV,YAAA,EAAMyK,QAAEA,GAAAA,IAAW2J,IACbjK,KAAa3C,GAAE2C,WAAWO,MAAM,GAAGD,EAAAA,EAAQtM,OAAOqJ,GAAE2C,WAAWO,MAAMD,KAASzK,EAAAA,CAAAA;AACpFuU,MAAAA,KAAQF,GAAsB/G,IAAGzD,GAAYiB,eAAeX,EAAAA,CAAAA;IAC9D,MACEoK,CAAAA,KAAQF,GAAsB/G,IAAG9F,EAAAA;AAGnC,WAAO,CAAE4M,GAAME,YAAYtK,SAAAA,GAAYuK,GAAMD,YAAYtK,SAAAA,CAAAA;EAC3D;ADJO,MCMDqK,KAAwB,SAAS7M,IAAG8F,IAAAA;AACxC,QAAIkH,KAAY,GACZC,KAAcjN,GAAExH,QAChB0U,KAAcpH,GAAEtN;AAEpB,WAAOwU,KAAYC,MAAejN,GAAEuD,OAAOyJ,EAAAA,EAAWxJ,UAAUsC,GAAEvC,OAAOyJ,EAAAA,CAAAA,IACvEA,CAAAA;AAGF,WAAOC,KAAcD,KAAY,KAAKhN,GAAEuD,OAAO0J,KAAc,CAAA,EAAGzJ,UAAUsC,GAAEvC,OAAO2J,KAAc,CAAA,CAAA,IAC/FD,CAAAA,MACAC;AAGF,WAAO,EACLJ,aAAa9M,GAAEkD,MAAM8J,IAAWC,EAAAA,GAChChK,QAAQ+J,GAAAA;EAEZ;ACvEe,MAAMG,KAAN,MAAMA,YAAalI,GAAAA;IAChC,OAAA,gCAAOmI;AAA4C,UAAdC,KAAO9U,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAC7C,UAAA,CAAK8U,GAAQ7U,OACX,QAAO,IAAItF;AAEb,UAAIoa,KAAOhL,GAAI+K,GAAQ,CAAA,CAAA,GACnBzF,KAAO0F,GAAKC,QAAAA;AAOhB,aALAF,GAAQnK,MAAM,CAAA,EAAG/G,QAASsF,CAAAA,OAAAA;AACxBmG,QAAAA,KAAO0F,GAAKE,oBAAoBlL,GAAIb,EAAAA,CAAAA,GACpC6L,KAAOA,GAAKpK,MAAM0E,EAAAA;MAAK,CAAA,GAGlB0F;IACT;IAEA,OAAA,IAAWG,IAAAA;AACT,aAAOnL,GAAImL,EAAAA;IACb;IAEA5K,cAAAA;AAAyB,UAAb4K,KAAMlV,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACnBuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKua,SAASC,GAAKD,EAAAA;IACrB;IAEApR,IAAI5E,IAAKC,IAAAA;AACP,aAAOxE,KAAKya,MAAMlM,GAAOhK,IAAKC,EAAAA,CAAAA;IAChC;IAEAhC,OAAO+B,IAAAA;AACL,aAAO,IAAI0V,IAAKO,GAAKxa,KAAKua,QAAQhW,EAAAA,CAAAA;IACpC;IAEAsP,IAAItP,IAAAA;AACF,aAAOvE,KAAKua,OAAOhW,EAAAA;IACrB;IAEAmP,IAAInP,IAAAA;AACF,aAAOA,MAAOvE,KAAKua;IACrB;IAEAE,MAAMF,IAAAA;AACJ,aAAO,IAAIN,IAAKQ,GAAMza,KAAKua,QAAQG,GAAMH,EAAAA,CAAAA,CAAAA;IAC3C;IAEAvK,MAAM0E,IAAAA;AACJ,YAAM6F,KAAS,CAAA;AAQf,aANA5J,MAAMC,KAAK8D,EAAAA,EAAMzL,QAAS1E,CAAAA,OAAAA;AACpBvE,aAAK0T,IAAInP,EAAAA,MACXgW,GAAOhW,EAAAA,IAAOvE,KAAKua,OAAOhW,EAAAA;MAC5B,CAAA,GAGK,IAAI0V,IAAKM,EAAAA;IAClB;IAEAF,UAAAA;AACE,aAAO5F,OAAOC,KAAK1U,KAAKua,MAAAA;IAC1B;IAEAD,oBAAoBF,IAAAA;AAElB,aADAA,KAAOhL,GAAIgL,EAAAA,GACJpa,KAAKqa,QAAAA,EAAUtC,OAAQxT,CAAAA,OAAQvE,KAAKua,OAAOhW,EAAAA,MAAS6V,GAAKG,OAAOhW,EAAAA,CAAAA;IACzE;IAEA+L,UAAUiK,IAAAA;AACR,aAAO5H,GAAe3S,KAAK2a,QAAAA,GAAWvL,GAAImL,EAAAA,EAAQI,QAAAA,CAAAA;IACpD;IAEAC,UAAAA;AACE,aAAiC,MAA1B5a,KAAKqa,QAAAA,EAAU/U;IACxB;IAEAqV,UAAAA;AACE,UAAA,CAAK3a,KAAK2R,OAAO;AACf,cAAMC,KAAS,CAAA;AACf,mBAAWrN,MAAOvE,KAAKua,QAAQ;AAC7B,gBAAM/V,KAAQxE,KAAKua,OAAOhW,EAAAA;AAC1BqN,UAAAA,GAAOjI,KAAKiI,GAAOjI,KAAKpF,IAAKC,EAAAA,CAAAA;QAC/B;AACAxE,aAAK2R,QAAQC,GAAO5B,MAAM,CAAA;MAC5B;AAEA,aAAOhQ,KAAK2R;IACd;IAEAkJ,WAAAA;AACE,aAAOL,GAAKxa,KAAKua,MAAAA;IACnB;IAEAhK,SAAAA;AACE,aAAOvQ,KAAK6a,SAAAA;IACd;IAEAtI,wBAAAA;AACE,aAAO,EAAEgI,QAAQrI,KAAKO,UAAUzS,KAAKua,MAAAA,EAAAA;IACvC;EAAA;AAGF,MAAMhM,KAAS,SAAShK,IAAKC,IAAAA;AAC3B,UAAMoN,KAAS,CAAA;AAEf,WADAA,GAAOrN,EAAAA,IAAOC,IACPoN;EACT;AAJA,MAMM6I,KAAQ,SAASlM,IAAQgM,IAAAA;AAC7B,UAAM3I,KAAS4I,GAAKjM,EAAAA;AACpB,eAAWhK,MAAOgW,IAAQ;AACxB,YAAM/V,KAAQ+V,GAAOhW,EAAAA;AACrBqN,MAAAA,GAAOrN,EAAAA,IAAOC;IAChB;AACA,WAAOoN;EACT;AAbA,MAeM4I,KAAO,SAASjM,IAAQuM,IAAAA;AAC5B,UAAMlJ,KAAS,CAAA;AASf,WARmB6C,OAAOC,KAAKnG,EAAAA,EAAQwM,KAAAA,EAE5B9R,QAAS1E,CAAAA,OAAAA;AACdA,MAAAA,OAAQuW,OACVlJ,GAAOrN,EAAAA,IAAOgK,GAAOhK,EAAAA;IACvB,CAAA,GAGKqN;EACT;AA1BA,MA4BMxC,KAAM,SAASb,IAAAA;AACnB,WAAIA,cAAkB0L,KACb1L,KAEA,IAAI0L,GAAK1L,EAAAA;EAEpB;AAlCA,MAoCMmM,KAAQ,SAASnM,IAAAA;AACrB,WAAIA,cAAkB0L,KACb1L,GAAOgM,SAEPhM;EAEX;ACjJe,MAAMyM,KAAN,MAAMA;IACnB,OAAA,eAAOC;AAA4D,UAC7D5b,IADc6b,KAAgB7V,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAA,EAAI8V,OAAEA,IAAKC,QAAEA,GAAAA,IAAQ/V,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAEzD+V,MAAAA,MACW,QAATD,OACFA,KAAQ;AAGZ,YAAMhB,KAAU,CAAA;AAuBhB,aArBAxJ,MAAMC,KAAKsK,EAAAA,EAAkBjS,QAASsF,CAAAA,OAAAA;AAAW,YAAA8M;AAC/C,YAAIhc,IAAO;AAAA,cAAAic,IAAAC,IAAAC;AACT,cAAuB,UAAnBF,KAAA/M,GAAOkN,iBAAAA,WAAYH,MAAnBA,GAAAvV,KAAAwI,IAAsB4M,EAAAA,KAAkDI,UAA5CA,MAAIC,KAAAnc,GAAMA,GAAMiG,SAAS,CAAA,GAAGoW,qBAAAA,WAAgBH,MAAxCA,GAAAxV,KAAAyV,IAA2CjN,IAAQ4M,EAAAA,EAErF,QAAA,KADA9b,GAAMsK,KAAK4E,EAAAA;AAGX4L,UAAAA,GAAQxQ,KAAK,IAAI3J,KAAKX,IAAO,EAAE8b,OAAAA,IAAOC,QAAAA,GAAAA,CAAAA,CAAAA,GACtC/b,KAAQ;QAEZ;AAAA,kBAEAgc,KAAI9M,GAAOkN,iBAAAA,WAAYJ,MAAnBA,GAAAtV,KAAAwI,IAAsB4M,EAAAA,IACxB9b,KAAQ,CAAEkP,EAAAA,IAEV4L,GAAQxQ,KAAK4E,EAAAA;MACf,CAAA,GAGElP,MACF8a,GAAQxQ,KAAK,IAAI3J,KAAKX,IAAO,EAAE8b,OAAAA,IAAOC,QAAAA,GAAAA,CAAAA,CAAAA,GAEjCjB;IACT;IAEAxK,cAAAA;AAA6C,UAAjCwK,KAAO9U,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAA,EAAI8V,OAAEA,IAAKC,QAAEA,GAAAA,IAAQ/V,UAAAC,SAAAD,IAAAA,UAAAA,CAAAA,IAAAA;AACzCrF,WAAKma,UAAUA,IACXiB,OACFpb,KAAKmb,QAAQA,IACbnb,KAAKma,UAAUna,KAAK2P,YAAYsL,aAAajb,KAAKma,SAAS,EAAEiB,QAAAA,IAAQD,OAAOnb,KAAKmb,QAAQ,EAAA,CAAA;IAE7F;IAEAQ,aAAAA;AACE,aAAO3b,KAAKma;IACd;IAEAyB,WAAAA;AACE,aAAO5b,KAAKmb;IACd;IAEA3K,cAAAA;AACE,YAAMkE,KAAO,CAAE,aAAA;AAIf,aAHA/D,MAAMC,KAAK5Q,KAAK2b,WAAAA,CAAAA,EAAc1S,QAASsF,CAAAA,OAAAA;AACrCmG,QAAAA,GAAK/K,KAAK4E,GAAOiC,YAAAA,CAAAA;MAAc,CAAA,GAE1BkE,GAAK5C,KAAK,GAAA;IACnB;EAAA;ACtDa,MAAM+J,KAAN,cAAwB7N,GAAAA;IACrC2B,cAAAA;AAA0B,UAAdwK,KAAO9U,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACpBuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKma,UAAU,CAAA,GAEfxJ,MAAMC,KAAKuJ,EAAAA,EAASlR,QAASsF,CAAAA,OAAAA;AAC3B,cAAM6L,KAAOlI,KAAKO,UAAUlE,EAAAA;AACF,gBAAtBvO,KAAKma,QAAQC,EAAAA,MACfpa,KAAKma,QAAQC,EAAAA,IAAQ7L;MACvB,CAAA;IAEJ;IAEAuN,KAAKvN,IAAAA;AACH,YAAM6L,KAAOlI,KAAKO,UAAUlE,EAAAA;AAC5B,aAAOvO,KAAKma,QAAQC,EAAAA;IACtB;EAAA;AClBa,MAAM2B,KAAN,MAAMA;IACnBpM,YAAYqM,IAAAA;AACVhc,WAAKmY,MAAM6D,EAAAA;IACb;IAEA7S,IAAIrJ,IAAAA;AACF,YAAMyE,KAAM0X,IAAOnc,EAAAA;AACnBE,WAAKgc,SAASzX,EAAAA,IAAOzE;IACvB;IAEA0C,OAAO1C,IAAAA;AACL,YAAMyE,KAAM0X,IAAOnc,EAAAA,GACb0E,KAAQxE,KAAKgc,SAASzX,EAAAA;AAC5B,UAAIC,GAEF,QAAA,OADOxE,KAAKgc,SAASzX,EAAAA,GACdC;IAEX;IAEA2T,QAAAA;AAAqB,UAAf6D,KAAQ3W,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAKf,aAJArF,KAAKgc,WAAW,CAAA,GAChBrL,MAAMC,KAAKoL,EAAAA,EAAU/S,QAASnJ,CAAAA,OAAAA;AAC5BE,aAAKmJ,IAAIrJ,EAAAA;MAAQ,CAAA,GAEZkc;IACT;EAAA;AAGF,MAAMC,MAAUnc,CAAAA,OAAYA,GAAQgJ,QAAQoT;AC1B7B,MAAMC,MAAN,cAAwBnO,GAAAA;IACrCoO,eAAAA;AACE,aAAA,SAAOpc,KAAKqc;IACd;IAEAC,eAAAA;AACE,aAAA,SAAOtc,KAAKuc;IACd;IAEAC,eAAAA;AACE,aAAOxc,KAAKuc,aAAavc,KAAKyc;IAChC;IAEAC,YAAAA;AACE,aAAO1c,KAAKuc,aAAAA,CAAcvc,KAAKyc;IACjC;IAEAE,aAAAA;AAkBE,aAjBK3c,KAAK4c,YACR5c,KAAK4c,UAAU,IAAIC,QAAQ,CAACC,IAASC,QACnC/c,KAAKqc,aAAAA,MACErc,KAAKgd,QAAQ,CAACP,IAAW7K,OAAAA;AAC9B5R,aAAKyc,YAAYA,IACjBzc,KAAKqc,aAAAA,OACLrc,KAAKuc,YAAAA,MAEDvc,KAAKyc,YACPK,GAAQlL,EAAAA,IAERmL,GAAOnL,EAAAA;MACT,CAAA,EAAA,IAKC5R,KAAK4c;IACd;IAEAI,QAAQjS,IAAAA;AACN,aAAOA,GAAAA,KAAS;IAClB;IAEAkS,UAAAA;AAAU,UAAAC,IAAAC;AAAAA,gBACRD,KAAAA,KAAKN,YAAAA,WAAOM,MAAQ,UAARC,KAAZD,GAAcE,WAAAA,WAAMD,MAApBA,GAAApX,KAAAmX,EAAAA,GACAld,KAAK4c,UAAU,MACf5c,KAAKqc,aAAa,MAClBrc,KAAKuc,YAAY,MACjBvc,KAAKyc,YAAY;IACnB;EAAA;AAGFN,EAAAA,IAAUkB,YAAY,mBAAA,GACtBlB,IAAUkB,YAAY,oBAAA;ACnDP,MAAMC,MAAN,cAAyBtP,GAAAA;IACtC2B,YAAYpB,IAAAA;AAAsB,UAAdhG,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAC5BuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKuO,SAASA,IACdvO,KAAKuI,UAAUA,IACfvI,KAAKud,aAAa,CAAA,GAClBvd,KAAKwd,WAAWxd;IAClB;IAEAyd,WAAAA;AAEE,aADKzd,KAAK0d,UAAS1d,KAAK0d,QAAQ1d,KAAK2d,YAAAA,IAC9B3d,KAAK0d,MAAMrM,IAAK3K,CAAAA,OAASA,GAAKkX,UAAAA,IAAU,CAAA;IACjD;IAEAC,aAAAA;AAAa,UAAAC;AAGX,aAFA9d,KAAK0d,QAAQ,MACb1d,KAAKud,aAAa,CAAA,GACI,UAAtBO,KAAO9d,KAAK+d,eAAAA,WAAUD,KAAAA,SAAfA,GAAiBD,WAAAA;IAC1B;IAEAG,wBAAwBzP,IAAAA;AAAQ,UAAA0P;AAC9B,aAAqC,UAArCA,KAAOje,KAAKke,kBAAkB3P,EAAAA,MAAAA,WAAO0P,KAAAA,SAA9BA,GAAgCJ,WAAAA;IACzC;IAEAM,4BAA4BC,IAAW7P,IAAQhG,IAAAA;AAC7C,UAAI8V,KAAOre,KAAKse,uBAAuB/P,EAAAA;AAOvC,aANI8P,KACFre,KAAKue,gBAAgBF,EAAAA,KAErBA,KAAOre,KAAKwe,gBAAAA,GAAmBnZ,SAAAA,GAC/BrF,KAAKye,mBAAmBJ,IAAM9P,EAAAA,IAEzB8P;IACT;IAEAG,gBAAgBJ,IAAW7P,IAAAA;AAAsB,UAAdhG,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACvCkJ,MAAAA,cAAkByM,OACpBzS,GAAQ6V,YAAYA,IACpBA,KAAYM;AAGd,YAAML,KAAO,IAAID,GAAU7P,IAAQhG,EAAAA;AACnC,aAAOvI,KAAKue,gBAAgBF,EAAAA;IAC9B;IAEAE,gBAAgBF,IAAAA;AAId,aAHAA,GAAKN,aAAa/d,MAClBqe,GAAKb,WAAWxd,KAAKwd,UACrBxd,KAAKud,WAAW5T,KAAK0U,EAAAA,GACdA;IACT;IAEAM,mBAAAA;AACE,UAAIC,KAAQ,CAAA;AAOZ,aALA5e,KAAKud,WAAWtU,QAAS4V,CAAAA,OAAAA;AACvBD,QAAAA,GAAMjV,KAAKkV,EAAAA,GACXD,KAAQA,GAAMnb,OAAOob,GAAUF,iBAAAA,CAAAA;MAAmB,CAAA,GAG7CC;IACT;IAEAE,cAAAA;AACE,aAAO9e,KAAK+e,qBAAqB/e,KAAKuO,MAAAA;IACxC;IAEAwQ,qBAAqBxQ,IAAAA;AACnB,YAAMpD,KAAKoD,QAAAA,KAAAA,SAAAA,GAAQpD;AACnB,UAAIA,GACF,QAAOnL,KAAKwd,SAAS1d,QAAQuV,cAAa,kBAAA5R,OAAmB0H,IAAE,IAAA,CAAA;IAEnE;IAEA+S,kBAAkB3P,IAAAA;AAChB,iBAAW8P,MAAQre,KAAK2e,iBAAAA,EACtB,KAAIN,GAAK9P,WAAWA,GAClB,QAAO8P;IAGb;IAEAW,eAAAA;AACE,aAAIhf,KAAKwd,aAAaxd,OAMbA,KAAKwd,SAASwB,aAAAA,IALjBhf,KAAKif,qBAAAA,KACFjf,KAAKkf,cAAalf,KAAKkf,YAAY,CAAA,IACjClf,KAAKkf,aAAAA;IAKlB;IAEAD,uBAAAA;AACE,aAAA,UAAOjf,KAAKmf;IACd;IAEAC,oBAAAA;AACEpf,WAAKmf,mBAAAA;IACP;IAEAE,qBAAAA;AACErf,WAAKmf,mBAAAA;IACP;IAEAb,uBAAuB/P,IAAAA;AAAQ,UAAA+Q;AAC7B,aAA0B,UAA1BA,KAAOtf,KAAKgf,aAAAA,MAAAA,WAAcM,KAAAA,SAAnBA,GAAsB/Q,GAAOiC,YAAAA,CAAAA;IACtC;IAEAiO,mBAAmBJ,IAAM9P,IAAAA;AACvB,YAAMgR,KAAQvf,KAAKgf,aAAAA;AACfO,MAAAA,OACFA,GAAMhR,GAAOiC,YAAAA,CAAAA,IAAiB6N;IAElC;IAEAmB,4BAAAA;AACE,YAAMD,KAAQvf,KAAKgf,aAAAA;AACnB,UAAIO,IAAO;AACT,cACME,KADQzf,KAAK2e,iBAAAA,EAAmBlb,OAAOzD,IAAAA,EACpBqR,IAAKgN,CAAAA,OAASA,GAAK9P,OAAOiC,YAAAA,CAAAA;AACnD,mBAAWjM,MAAOgb,GACXE,CAAAA,GAAWxV,SAAS1F,EAAAA,KAAAA,OAChBgb,GAAMhb,EAAAA;MAGnB;IACF;EAAA;AAGK,MAAMma,MAAN,cAA8BpB,IAAAA;IACnC3N,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAK0f,cAAc1f,KAAKuO,QACxBvO,KAAKoe,YAAYpe,KAAKuI,QAAQ6V,WAAAA,OACvBpe,KAAKuI,QAAQ6V;IACtB;IAEAuB,gBAAAA;AAME,aALK3f,KAAKud,WAAWjY,UACnBqL,MAAMC,KAAK5Q,KAAK0f,YAAY/D,WAAAA,CAAAA,EAAc1S,QAASsF,CAAAA,OAAAA;AACjDvO,aAAKme,4BAA4Bne,KAAKoe,WAAW7P,IAAQvO,KAAKuI,OAAAA;MAAQ,CAAA,GAGnEvI,KAAKud;IACd;IAEAI,cAAAA;AACE,YAAM7d,KAAUE,KAAK4f,uBAAAA;AAQrB,aANA5f,KAAK2f,cAAAA,EAAgB1W,QAASoV,CAAAA,OAAAA;AAC5B1N,cAAMC,KAAKyN,GAAKZ,SAAAA,CAAAA,EAAYxU,QAASvC,CAAAA,OAAAA;AACnC5G,UAAAA,GAAQyJ,YAAY7C,EAAAA;QAAK,CAAA;MACzB,CAAA,GAGG,CAAE5G,EAAAA;IACX;IAEA8f,yBAAAA;AAA4D,UAArCzE,KAAK9V,UAAAC,SAAA,KAAA,WAAAD,UAAAE,CAAAA,IAAAF,UAAAA,CAAAA,IAAGrF,KAAK0f,YAAY9D,SAAAA;AAC9C,aAAO5b,KAAK2f,cAAAA,EAAgB,CAAA,EAAGC,uBAAuBzE,EAAAA;IACxD;EAAA;ACpKF,MAAA,EAAM0E,SACJA,KAAOC,gBACPA,IAAcC,UACdA,KAAQ3G,gBACRA,KAAc4G,0BACdA,IAAAA,IACEvL;AAEJ,MAAA,EAAIwL,QAAEA,KAAMC,MAAEA,IAAIC,QAAEA,IAAAA,IAAW1L;AAA/B,MAA+BA,EAC3B/F,OAAEA,KAAK0R,WAAEA,IAAAA,IAAiC,eAAA,OAAZC,WAA2BA;AAExDJ,EAAAA,QACHA,MAAS,SAAUK,IAAAA;AACjB,WAAOA;EACR,IAGEJ,OACHA,KAAO,SAAUI,IAAAA;AACf,WAAOA;EACR,IAGE5R,QACHA,MAAQ,SAAU6R,IAAKC,IAAW3R,IAAAA;AAChC,WAAO0R,GAAI7R,MAAM8R,IAAW3R,EAAAA;EAC7B,IAGEuR,QACHA,MAAY,SAAUK,IAAM5R,IAAAA;AAC1B,WAAO,IAAI4R,GAAAA,GAAQ5R,EAAAA;EACpB;AAGH,MAAM6R,MAAeC,GAAQhQ,MAAMrP,UAAU2H,OAAAA;AAA7C,MAEM2X,MAAmBD,GAAQhQ,MAAMrP,UAAUuf,WAAAA;AAFjD,MAGMC,KAAWH,GAAQhQ,MAAMrP,UAAUyf,GAAAA;AAHzC,MAIMC,MAAYL,GAAQhQ,MAAMrP,UAAUqI,IAAAA;AAJ1C,MAMMsX,KAAcN,GAAQhQ,MAAMrP,UAAU2R,MAAAA;AAN5C,MAQMiO,KAAoBP,GAAQzP,OAAO5P,UAAUhB,WAAAA;AARnD,MASM6gB,MAAiBR,GAAQzP,OAAO5P,UAAUgO,QAAAA;AAThD,MAUM8R,KAAcT,GAAQzP,OAAO5P,UAAUZ,KAAAA;AAV7C,MAWM2gB,KAAgBV,GAAQzP,OAAO5P,UAAU4C,OAAAA;AAX/C,MAYMod,KAAgBX,GAAQzP,OAAO5P,UAAUigB,OAAAA;AAZ/C,MAaMC,KAAab,GAAQzP,OAAO5P,UAAUwS,IAAAA;AAb5C,MAeM2N,KAAuBd,GAAQlM,OAAOnT,UAAUogB,cAAAA;AAftD,MAiBMC,MAAahB,GAAQ5R,OAAOzN,UAAUzB,IAAAA;AAjB5C,MAmBM+hB,MA0BkBC,MA1BYC,WA2B3B,WAAA;AAAA,aAAAC,KAAA1c,UAAAC,QAAIuJ,KAAW8B,IAAAA,MAAAoR,EAAAA,GAAAC,KAAA,GAAAA,KAAAD,IAAAC,KAAXnT,CAAAA,GAAWmT,EAAAA,IAAA3c,UAAA2c,EAAAA;AAAA,WAAQ5B,IAAUyB,KAAMhT,EAAAA;EAAK;AADrD,MAAwBgT;AAlBxB,WAASlB,GACPkB,IAAAA;AAEA,WAAO,SAACI,IAAAA;AACFA,MAAAA,cAAmBlT,WACrBkT,GAAQC,YAAY;AACrB,eAAAnP,KAAA1N,UAAAC,QAHsBuJ,KAAAA,IAAW8B,MAAAoC,KAAAA,IAAAA,KAAAA,IAAAA,CAAAA,GAAAC,KAAA,GAAAA,KAAAD,IAAAC,KAAXnE,CAAAA,GAAWmE,KAAA3N,CAAAA,IAAAA,UAAA2N,EAAAA;AAKlC,aAAOtE,IAAMmT,IAAMI,IAASpT,EAAAA;IAC7B;EACH;AAoBA,WAASsT,GACPC,IACAzQ,IAAAA;AACyE,QAAzE0Q,KAAAhd,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAwD6b;AAEpDpB,UAIFA,GAAesC,IAAK,IAAA;AAGtB,QAAI5U,KAAImE,GAAMrM;AACd,WAAOkI,QAAK;AACV,UAAI1N,KAAU6R,GAAMnE,EAAAA;AACpB,UAAuB,YAAA,OAAZ1N,IAAsB;AAC/B,cAAMwiB,KAAYD,GAAkBviB,EAAAA;AAChCwiB,QAAAA,OAAcxiB,OAEXigB,IAASpO,EAAAA,MACXA,GAAgBnE,EAAAA,IAAK8U,KAGxBxiB,KAAUwiB;MAEd;AAEAF,MAAAA,GAAItiB,EAAAA,IAAAA;IACN;AAEA,WAAOsiB;EACT;AAQA,WAASG,GAAc5Q,IAAAA;AACrB,aAASkB,KAAQ,GAAGA,KAAQlB,GAAMrM,QAAQuN,MAAS;AACzB4O,SAAqB9P,IAAOkB,EAAAA,MAGlDlB,GAAMkB,EAAAA,IAAS;IAEnB;AAEA,WAAOlB;EACT;AAQA,WAAS6Q,GAAqCjU,IAAAA;AAC5C,UAAMkU,KAAYtC,IAAO,IAAA;AAEzB,eAAK,CAAOuC,IAAUle,EAAAA,KAAUqb,IAAQtR,EAAAA,GAAS;AACvBkT,SAAqBlT,IAAQmU,EAAAA,MAG/C/R,MAAM4F,QAAQ/R,EAAAA,IAChBie,GAAUC,EAAAA,IAAYH,GAAW/d,EAAAA,IAEjCA,MACiB,YAAA,OAAVA,MACPA,GAAMmL,gBAAgB8E,SAEtBgO,GAAUC,EAAAA,IAAYF,GAAMhe,EAAAA,IAE5Bie,GAAUC,EAAAA,IAAYle;IAG5B;AAEA,WAAOie;EACT;AASA,WAASE,IACPpU,IACAlN,IAAAA;AAEA,WAAkB,SAAXkN,MAAiB;AACtB,YAAMqU,KAAO5C,IAAyBzR,IAAQlN,EAAAA;AAE9C,UAAIuhB,IAAM;AACR,YAAIA,GAAK/O,IACP,QAAO8M,GAAQiC,GAAK/O,GAAAA;AAGtB,YAA0B,cAAA,OAAf+O,GAAKpe,MACd,QAAOmc,GAAQiC,GAAKpe,KAAAA;MAExB;AAEA+J,MAAAA,KAAS6K,IAAe7K,EAAAA;IAC1B;AAMA,WAJA,WAAA;AACE,aAAO;IACT;EAGF;AAAA,MAAA,KAAAsU,IAAA,CAAA,KAAA,QAAA,WAAA,WAAA,QAAA,WAAA,SAAA,SAAA,KAAA,OAAA,OAAA,OAAA,SAAA,cAAA,QAAA,MAAA,UAAA,UAAA,WAAA,UAAA,QAAA,QAAA,OAAA,YAAA,WAAA,QAAA,YAAA,MAAA,aAAA,OAAA,WAAA,OAAA,UAAA,OAAA,OAAA,MAAA,MAAA,WAAA,MAAA,YAAA,cAAA,UAAA,QAAA,UAAA,QAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,QAAA,UAAA,UAAA,MAAA,QAAA,KAAA,OAAA,SAAA,OAAA,OAAA,SAAA,UAAA,MAAA,QAAA,OAAA,QAAA,WAAA,QAAA,YAAA,SAAA,OAAA,QAAA,MAAA,YAAA,UAAA,UAAA,KAAA,WAAA,OAAA,YAAA,KAAA,MAAA,MAAA,QAAA,KAAA,QAAA,WAAA,UAAA,UAAA,SAAA,UAAA,UAAA,QAAA,UAAA,UAAA,SAAA,OAAA,WAAA,OAAA,SAAA,SAAA,MAAA,YAAA,YAAA,SAAA,MAAA,SAAA,QAAA,MAAA,SAAA,MAAA,KAAA,MAAA,OAAA,SAAA,KAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,OAAA,KAAA,YAAA,eAAA,gBAAA,gBAAA,iBAAA,oBAAA,UAAA,YAAA,QAAA,QAAA,WAAA,UAAA,QAAA,KAAA,SAAA,YAAA,SAAA,SAAA,QAAA,kBAAA,UAAA,QAAA,YAAA,SAAA,QAAA,WAAA,WAAA,YAAA,kBAAA,QAAA,QAAA,SAAA,UAAA,UAAA,QAAA,YAAA,SAAA,QAAA,SAAA,QAAA,OAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,WAAA,iBAAA,uBAAA,eAAA,oBAAA,qBAAA,qBAAA,kBAAA,gBAAA,WAAA,WAAA,WAAA,WAAA,WAAA,kBAAA,WAAA,WAAA,eAAA,gBAAA,YAAA,gBAAA,sBAAA,eAAA,UAAA,cAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,WAAA,iBAAA,UAAA,WAAA,aAAA,oBAAA,kBAAA,iBAAA,iBAAA,iBAAA,SAAA,aAAA,QAAA,gBAAA,aAAA,WAAA,iBAAA,UAAA,OAAA,cAAA,WAAA,KAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,QAAA,YAAA,UAAA,WAAA,SAAA,UAAA,MAAA,cAAA,iBAAA,MAAA,MAAA,SAAA,WAAA,YAAA,SAAA,QAAA,MAAA,UAAA,SAAA,UAAA,QAAA,QAAA,WAAA,UAAA,OAAA,SAAA,OAAA,UAAA,cAAA,aAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,WAAA,eAAA,cAAA,YAAA,aAAA,WAAA,WAAA,UAAA,UAAA,SAAA,aAAA,cAAA,kBAAA,eAAA,MAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,OAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,UAAA,UAAA,SAAA,OAAA,kBAAA,gBAAA,wBAAA,YAAA,cAAA,WAAA,UAAA,WAAA,eAAA,eAAA,WAAA,QAAA,SAAA,SAAA,SAAA,QAAA,WAAA,YAAA,gBAAA,UAAA,eAAA,YAAA,YAAA,WAAA,OAAA,YAAA,2BAAA,yBAAA,YAAA,aAAA,WAAA,gBAAA,QAAA,OAAA,WAAA,UAAA,UAAA,QAAA,QAAA,YAAA,MAAA,aAAA,aAAA,SAAA,QAAA,SAAA,QAAA,QAAA,WAAA,QAAA,OAAA,OAAA,aAAA,SAAA,UAAA,OAAA,aAAA,YAAA,SAAA,QAAA,SAAA,WAAA,cAAA,UAAA,QAAA,WAAA,WAAA,eAAA,eAAA,WAAA,iBAAA,uBAAA,UAAA,WAAA,WAAA,cAAA,YAAA,OAAA,YAAA,OAAA,YAAA,QAAA,QAAA,WAAA,cAAA,SAAA,YAAA,SAAA,QAAA,SAAA,QAAA,WAAA,SAAA,OAAA,UAAA,QAAA,SAAA,WAAA,YAAA,SAAA,aAAA,QAAA,UAAA,UAAA,SAAA,SAAA,QAAA,SAAA,MAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,iBAAA,cAAA,YAAA,sBAAA,aAAA,UAAA,iBAAA,iBAAA,WAAA,iBAAA,kBAAA,SAAA,QAAA,MAAA,SAAA,QAAA,iBAAA,aAAA,aAAA,SAAA,uBAAA,+BAAA,iBAAA,mBAAA,MAAA,MAAA,KAAA,MAAA,MAAA,mBAAA,aAAA,WAAA,WAAA,OAAA,YAAA,aAAA,OAAA,YAAA,QAAA,gBAAA,aAAA,UAAA,eAAA,eAAA,iBAAA,eAAA,aAAA,oBAAA,gBAAA,cAAA,gBAAA,eAAA,MAAA,MAAA,MAAA,MAAA,cAAA,YAAA,iBAAA,qBAAA,UAAA,QAAA,MAAA,mBAAA,MAAA,OAAA,aAAA,KAAA,MAAA,MAAA,MAAA,MAAA,WAAA,aAAA,cAAA,YAAA,QAAA,gBAAA,kBAAA,gBAAA,oBAAA,kBAAA,SAAA,cAAA,cAAA,gBAAA,gBAAA,eAAA,eAAA,oBAAA,aAAA,OAAA,QAAA,SAAA,UAAA,QAAA,OAAA,QAAA,cAAA,UAAA,YAAA,WAAA,SAAA,UAAA,eAAA,UAAA,YAAA,eAAA,QAAA,cAAA,uBAAA,oBAAA,gBAAA,UAAA,iBAAA,uBAAA,kBAAA,KAAA,MAAA,MAAA,UAAA,QAAA,QAAA,eAAA,aAAA,WAAA,UAAA,UAAA,SAAA,QAAA,mBAAA,SAAA,oBAAA,oBAAA,gBAAA,eAAA,gBAAA,eAAA,cAAA,gBAAA,oBAAA,qBAAA,kBAAA,mBAAA,qBAAA,kBAAA,UAAA,gBAAA,SAAA,gBAAA,kBAAA,YAAA,eAAA,WAAA,WAAA,aAAA,oBAAA,eAAA,mBAAA,kBAAA,cAAA,QAAA,MAAA,MAAA,WAAA,UAAA,WAAA,cAAA,WAAA,cAAA,iBAAA,iBAAA,SAAA,gBAAA,QAAA,gBAAA,oBAAA,oBAAA,KAAA,MAAA,MAAA,SAAA,KAAA,MAAA,MAAA,KAAA,YAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,UAAA,eAAA,SAAA,YAAA,SAAA,gBAAA,eAAA,cAAA,cAAA,SAAA,OAAA,WAAA,gBAAA,YAAA,SAAA,SAAA,UAAA,QAAA,MAAA,WAAA,UAAA,iBAAA,UAAA,UAAA,kBAAA,aAAA,YAAA,eAAA,WAAA,WAAA,iBAAA,YAAA,YAAA,QAAA,YAAA,YAAA,cAAA,WAAA,UAAA,UAAA,eAAA,iBAAA,wBAAA,aAAA,aAAA,cAAA,YAAA,kBAAA,kBAAA,aAAA,WAAA,SAAA,OAAA,CAAA;AAAA,MAAA,KAAAA,IAAA,CAAA,cAAA,UAAA,eAAA,aAAA,aAAA,CAAA;AAAA,MAAA,KAAA,GAAA,2BAAA;AAAA,MAAA,KAAA,GAAA,uBAAA;AAAA,MAAA,KAAA,GAAA,eAAA;AAAA,MAAA,KAAA,GAAA,8BAAA;AAAA,MAAA,KAAA,GAAA,gBAAA;AAAA,MAAA,KAAA,GAAA,2FAAA;AAAA,MAAA,KAAA,GAAA,uBAAA;AAAA,MAAA,KAAA,GAAA,6DAAA;AAAA,MAAA,KAAA,GAAA,SAAA;AAAA,MAAA,KAAA,GAAA,0BAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,WAAA,IAAA,iBAAA,IAAA,gBAAA,IAAA,WAAA,IAAA,cAAA,IAAA,UAAA,IAAA,gBAAA,IAAA,mBAAA,IAAA,eAAA,IAAA,aAAA,GAAA,CAAA;AAAA,MAAA,KAAA;AAAA,MAAA,KAAA;AAAA,MAAA,KAAA;AAAA,MAAA,KAAA;AAAA,MAAA,KAAA;AAAA,MAAA,KAAA,WAAA;AAAA,WAAA,eAAA,OAAA,SAAA,OAAA;EAAA;AAAA,MAAA,KAAA,SAAAC,KAAA;AAAA,QAAAC,KAAA,UAAA,SAAA,KAAA,WAAA,UAAA,CAAA,IAAA,UAAA,CAAA,IAAA,GAAA;AAAA,UAAAnW,KAAA,CAAAmW,OAAAD,GAAAC,EAAA;AAAA,QAAAnW,GAAA,UAAA,SAAAA,GAAA,UAAA,CAAA,GAAA,CAAAmW,MAAA,CAAAA,GAAA,YAAAA,GAAA,SAAA,aAAA,MAAA,CAAAA,GAAA,QAAA,QAAAnW,GAAA,cAAA,OAAAA;AAAA,QAAA,EAAA,UAAAC,GAAA,IAAAkW;AAAA,UAAAC,KAAAnW,IAAAoW,KAAAD,GAAA,eAAA,EAAA,kBAAAE,IAAA,qBAAApW,IAAA,MAAAU,IAAA,SAAAG,IAAA,YAAAwV,IAAA,cAAA1V,KAAAsV,GAAA,gBAAAA,GAAA,iBAAA,iBAAAK,IAAA,WAAAC,IAAA,cAAAC,GAAA,IAAAP,IAAAQ,KAAA5V,GAAA,WAAA6V,KAAAC,IAAAF,IAAA,WAAA,GAAA3Q,KAAA6Q,IAAAF,IAAA,QAAA,GAAAG,KAAAD,IAAAF,IAAA,aAAA,GAAAI,KAAAF,IAAAF,IAAA,YAAA,GAAAK,KAAAH,IAAAF,IAAA,YAAA;AAAA,QAAA,cAAA,OAAAzW,IAAA;AAAA,YAAAgW,KAAAjW,GAAA,cAAA,UAAA;AAAA,MAAAiW,GAAA,WAAAA,GAAA,QAAA,kBAAAjW,KAAAiW,GAAA,QAAA;IAAA;AAAA,QAAAxC,IAAAuD,KAAA;AAAA,UAAA,EAAA,gBAAAC,IAAA,oBAAAC,IAAA,wBAAAC,IAAA,sBAAAC,GAAA,IAAApX,IAAA,EAAA,YAAAqX,GAAA,IAAAlB;AAAA,QAAAmB,KAAA,EAAA,yBAAA,CAAA,GAAA,uBAAA,CAAA,GAAA,wBAAA,CAAA,GAAA,0BAAA,CAAA,GAAA,wBAAA,CAAA,GAAA,yBAAA,CAAA,GAAA,uBAAA,CAAA,GAAA,qBAAA,CAAA,GAAA,wBAAA,CAAA,EAAA;AAAA,IAAAvX,GAAA,cAAA,cAAA,OAAAwX,OAAA,cAAA,OAAAR,MAAAE,MAAA,WAAAA,GAAA;AAAA,UAAA,EAAA,eAAAO,IAAA,UAAAC,IAAA,aAAAC,IAAA,WAAAC,IAAA,WAAAC,IAAA,mBAAAC,IAAA,iBAAAC,IAAA,gBAAAC,GAAA,IAAA;AAAA,QAAA,EAAA,gBAAAC,GAAA,IAAA,IAAAnX,KAAA;AAAA,UAAAE,KAAA,GAAA,CAAA,GAAA,CAAA,GAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,EAAA,CAAA;AAAA,QAAAC,KAAA;AAAA,UAAAC,KAAA,GAAA,CAAA,GAAA,CAAA,GAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,EAAA,CAAA;AAAA,QAAAC,KAAA,OAAA,KAAA+W,IAAA,MAAA,EAAA,cAAA,EAAA,UAAA,MAAA,cAAA,OAAA,YAAA,MAAA,OAAA,KAAA,GAAA,oBAAA,EAAA,UAAA,MAAA,cAAA,OAAA,YAAA,MAAA,OAAA,KAAA,GAAA,gCAAA,EAAA,UAAA,MAAA,cAAA,OAAA,YAAA,MAAA,OAAA,MAAA,EAAA,CAAA,CAAA,GAAAnY,KAAA,MAAAoY,KAAA,MAAAC,KAAA,MAAAC,KAAA,MAAAC,KAAA,OAAAlW,KAAA,MAAAC,KAAA,OAAAC,KAAA,MAAAiW,KAAA,OAAAC,KAAA,OAAAC,KAAA,OAAAC,MAAA,OAAAC,MAAA,OAAAC,MAAA,OAAAC,MAAA,MAAAC,MAAA,OAAAC,MAAA,MAAAC,MAAA,OAAAC,MAAA,CAAA,GAAAC,MAAA;AAAA,UAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,kBAAA,SAAA,YAAA,QAAA,iBAAA,QAAA,UAAA,QAAA,MAAA,MAAA,MAAA,MAAA,SAAA,WAAA,YAAA,YAAA,aAAA,UAAA,SAAA,OAAA,YAAA,SAAA,SAAA,SAAA,KAAA,CAAA;AAAA,QAAAC,MAAA;AAAA,UAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,SAAA,SAAA,OAAA,UAAA,SAAA,OAAA,CAAA;AAAA,QAAAC,MAAA;AAAA,UAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,OAAA,SAAA,OAAA,MAAA,SAAA,QAAA,WAAA,eAAA,QAAA,WAAA,SAAA,SAAA,SAAA,OAAA,CAAA,GAAAC,MAAA,sCAAAC,MAAA,8BAAAC,MAAA;AAAA,QAAAC,MAAAD,KAAAE,MAAA,OAAAC,MAAA;AAAA,UAAAC,MAAA,GAAA,CAAA,GAAA,CAAAN,KAAAC,KAAAC,GAAA,GAAAK,GAAA;AAAA,QAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,MAAA,MAAA,MAAA,MAAA,OAAA,CAAA,GAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,gBAAA,CAAA;AAAA,UAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,SAAA,SAAA,QAAA,KAAA,QAAA,CAAA;AAAA,QAAAC,MAAA;AAAA,UAAAC,MAAA,CAAA,yBAAA,WAAA;AAAA,QAAAC,MAAA,MAAAC,MAAA;AAAA,UAAAC,MAAAta,GAAA,cAAA,MAAA,GAAAua,MAAA,SAAAtE,IAAA;AAAA,aAAAA,cAAA,UAAAA,cAAA;IAAA,GAAAuE,MAAA,WAAA;AAAA,UAAAvE,KAAA,UAAA,SAAA,KAAA,WAAA,UAAA,CAAA,IAAA,UAAA,CAAA,IAAA,CAAA;AAAA,UAAA,CAAAoE,OAAAA,QAAApE,IAAA;AAAA,YAAAA,MAAA,YAAA,OAAAA,OAAAA,KAAA,CAAA,IAAAA,KAAA,GAAAA,EAAA,GAAAiE,MAAA,OAAAC,IAAA,QAAAlE,GAAA,iBAAA,IAAA,cAAAA,GAAA,mBAAAmE,MAAA,4BAAAF,MAAAJ,MAAA,IAAAjZ,KAAA,GAAAoV,IAAA,cAAA,IAAA,GAAA,CAAA,GAAAA,GAAA,cAAAmE,GAAA,IAAArZ,IAAAC,KAAA,GAAAiV,IAAA,cAAA,IAAA,GAAA,CAAA,GAAAA,GAAA,cAAAmE,GAAA,IAAAnZ,IAAA2Y,MAAA,GAAA3D,IAAA,oBAAA,IAAA,GAAA,CAAA,GAAAA,GAAA,oBAAA6D,GAAA,IAAAD,KAAAR,MAAA,GAAApD,IAAA,mBAAA,IAAA,GAAA,GAAAqD,GAAA,GAAArD,GAAA,mBAAAmE,GAAA,IAAAd,KAAAH,MAAA,GAAAlD,IAAA,mBAAA,IAAA,GAAA,GAAAmD,GAAA,GAAAnD,GAAA,mBAAAmE,GAAA,IAAAhB,KAAAH,MAAA,GAAAhD,IAAA,iBAAA,IAAA,GAAA,CAAA,GAAAA,GAAA,iBAAAmE,GAAA,IAAAlB,KAAApZ,KAAA,GAAAmW,IAAA,aAAA,IAAA,GAAA,CAAA,GAAAA,GAAA,aAAAmE,GAAA,IAAA,CAAA,GAAAlC,KAAA,GAAAjC,IAAA,aAAA,IAAA,GAAA,CAAA,GAAAA,GAAA,aAAAmE,GAAA,IAAA,CAAA,GAAApB,MAAA,CAAA,CAAA,GAAA/C,IAAA,cAAA,KAAAA,GAAA,cAAAkC,KAAA,UAAAlC,GAAA,iBAAAmC,KAAA,UAAAnC,GAAA,iBAAAoC,KAAApC,GAAA,2BAAA,OAAA9T,KAAA,UAAA8T,GAAA,0BAAA7T,KAAA6T,GAAA,sBAAA,OAAA5T,KAAA,UAAA4T,GAAA,cAAAqC,KAAArC,GAAA,kBAAA,OAAAwC,MAAAxC,GAAA,cAAA,OAAAyC,MAAAzC,GAAA,uBAAA,OAAA0C,MAAA1C,GAAA,uBAAA,OAAAuC,KAAAvC,GAAA,cAAA,OAAA2C,MAAA,UAAA3C,GAAA,cAAA4C,MAAA5C,GAAA,wBAAA,OAAA6C,MAAA,UAAA7C,GAAA,cAAA8C,MAAA9C,GAAA,YAAA,OAAA+B,KAAA/B,GAAA,sBAAA,IAAAyD,MAAAzD,GAAA,aAAAwD,KAAAM,MAAA9D,GAAA,kCAAA8D,KAAAC,MAAA/D,GAAA,2BAAA+D,KAAA9Y,KAAA+U,GAAA,2BAAA,CAAA,GAAAA,GAAA,2BAAAsE,IAAAtE,GAAA,wBAAA,YAAA,MAAA/U,GAAA,eAAA+U,GAAA,wBAAA,eAAAA,GAAA,2BAAAsE,IAAAtE,GAAA,wBAAA,kBAAA,MAAA/U,GAAA,qBAAA+U,GAAA,wBAAA,qBAAAA,GAAA,2BAAA,aAAA,OAAAA,GAAA,wBAAA,mCAAA/U,GAAA,iCAAA+U,GAAA,wBAAA,iCAAA7T,OAAAgW,KAAA,QAAAM,QAAAD,MAAA,OAAAO,QAAAnY,KAAA,GAAA,CAAA,GAAA,EAAA,GAAAG,KAAA,CAAA,GAAA,SAAAgY,IAAA,SAAA,GAAAnY,IAAA,EAAA,GAAA,GAAAG,IAAA,EAAA,IAAA,SAAAgY,IAAA,QAAA,GAAAnY,IAAA,EAAA,GAAA,GAAAG,IAAA,EAAA,GAAA,GAAAA,IAAA,EAAA,IAAA,SAAAgY,IAAA,eAAA,GAAAnY,IAAA,EAAA,GAAA,GAAAG,IAAA,EAAA,GAAA,GAAAA,IAAA,EAAA,IAAA,SAAAgY,IAAA,WAAA,GAAAnY,IAAA,EAAA,GAAA,GAAAG,IAAA,EAAA,GAAA,GAAAA,IAAA,EAAA,KAAAiV,GAAA,aAAApV,OAAAE,OAAAF,KAAA,GAAAA,EAAA,IAAA,GAAAA,IAAAoV,GAAA,UAAAmE,GAAA,IAAAnE,GAAA,aAAAjV,OAAAC,OAAAD,KAAA,GAAAA,EAAA,IAAA,GAAAA,IAAAiV,GAAA,UAAAmE,GAAA,IAAAnE,GAAA,qBAAA,GAAAoD,KAAApD,GAAA,mBAAAmE,GAAA,GAAAnE,GAAA,oBAAAgD,QAAAC,QAAAD,MAAA,GAAAA,GAAA,IAAA,GAAAA,KAAAhD,GAAA,iBAAAmE,GAAA,IAAAtB,QAAAjY,GAAA,OAAA,IAAA,OAAAyX,MAAA,GAAAzX,IAAA,CAAA,QAAA,QAAA,MAAA,CAAA,GAAAA,GAAA,UAAA,GAAAA,IAAA,CAAA,OAAA,CAAA,GAAA,OAAAf,GAAA,QAAAmW,GAAA,sBAAA;AAAA,cAAA,cAAA,OAAAA,GAAA,qBAAA,WAAA,OAAA,GAAA,6EAAA;AAAA,cAAA,cAAA,OAAAA,GAAA,qBAAA,gBAAA,OAAA,GAAA,kFAAA;AAAA,UAAAxC,KAAAwC,GAAA,sBAAAe,KAAAvD,GAAA,WAAA,EAAA;QAAA,MAAA,YAAAA,OAAAA,KAAA,SAAAwC,IAAAC,IAAA;AAAA,cAAA,YAAA,OAAAD,MAAA,cAAA,OAAAA,GAAA,aAAA,QAAA;AAAA,cAAAlW,KAAA;AAAA,gBAAAC,KAAA;AAAA,UAAAkW,MAAAA,GAAA,aAAAlW,EAAA,MAAAD,KAAAmW,GAAA,aAAAlW,EAAA;AAAA,gBAAAmW,KAAA,eAAApW,KAAA,MAAAA,KAAA;AAAA,cAAA;AAAA,mBAAAkW,GAAA,aAAAE,IAAA,EAAA,YAAA,CAAAF,OAAAA,IAAA,iBAAA,CAAAA,OAAAA,GAAA,CAAA;UAAA,SAAAA,IAAA;AAAA,mBAAA,QAAA,KAAA,yBAAAE,KAAA,wBAAA,GAAA;UAAA;QAAA,EAAAM,IAAAL,EAAA,IAAA,SAAA3C,MAAA,YAAA,OAAAuD,OAAAA,KAAAvD,GAAA,WAAA,EAAA;AAAA,QAAAuC,OAAAA,IAAAC,EAAA,GAAAoE,MAAApE;MAAA;IAAA,GAAAwE,MAAA,GAAA,CAAA,GAAA,CAAA,GAAA,IAAA,GAAA,IAAA,GAAA,EAAA,CAAA,GAAAC,MAAA,GAAA,CAAA,GAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,GAAAC,MAAA,SAAA1E,IAAA;AAAA,MAAA2E,IAAA7a,GAAA,SAAA,EAAA,SAAAkW,GAAA,CAAA;AAAA,UAAA;AAAA,QAAAc,GAAAd,EAAA,EAAA,YAAAA,EAAA;MAAA,SAAAC,IAAA;AAAA,QAAAnQ,GAAAkQ,EAAA;MAAA;IAAA,GAAA4E,MAAA,SAAA5E,IAAAC,IAAA;AAAA,UAAA;AAAA,QAAA0E,IAAA7a,GAAA,SAAA,EAAA,WAAAmW,GAAA,iBAAAD,EAAA,GAAA,MAAAC,GAAA,CAAA;MAAA,SAAAD,IAAA;AAAA,QAAA2E,IAAA7a,GAAA,SAAA,EAAA,WAAA,MAAA,MAAAmW,GAAA,CAAA;MAAA;AAAA,UAAAA,GAAA,gBAAAD,EAAA,GAAA,SAAAA,GAAA,KAAAwC,OAAAC,IAAA,KAAA;AAAA,QAAAiC,IAAAzE,EAAA;MAAA,SAAAD,IAAA;MAAA;UAAA,KAAA;AAAA,QAAAC,GAAA,aAAAD,IAAA,EAAA;MAAA,SAAAA,IAAA;MAAA;IAAA,GAAA6E,MAAA,SAAA7E,IAAA;AAAA,UAAAC,KAAA,MAAAnW,KAAA;AAAA,UAAAyY,GAAA,CAAAvC,KAAA,sBAAAA;WAAA;AAAA,cAAAC,KAAA,GAAAD,IAAA,aAAA;AAAA,QAAAlW,KAAAmW,MAAAA,GAAA,CAAA;MAAA;AAAA,kCAAAgE,OAAAR,QAAAD,QAAAxD,KAAA,mEAAAA,KAAA;AAAA,YAAAE,KAAA1C,KAAAA,GAAA,WAAAwC,EAAA,IAAAA;AAAA,UAAAyD,QAAAD,IAAA,KAAA;AAAA,QAAAvD,KAAA,IAAAM,KAAA,gBAAAL,IAAA+D,GAAA;MAAA,SAAAjE,IAAA;MAAA;AAAA,UAAA,CAAAC,MAAA,CAAAA,GAAA,iBAAA;AAAA,QAAAA,KAAAe,GAAA,eAAAyC,KAAA,YAAA,IAAA;AAAA,YAAA;AAAA,UAAAxD,GAAA,gBAAA,YAAAyD,MAAA3C,KAAAb;QAAA,SAAAF,IAAA;QAAA;MAAA;AAAA,YAAAG,KAAAF,GAAA,QAAAA,GAAA;AAAA,aAAAD,MAAAlW,MAAAqW,GAAA,aAAApW,GAAA,eAAAD,EAAA,GAAAqW,GAAA,WAAA,CAAA,KAAA,IAAA,GAAAsD,QAAAD,MAAArC,GAAA,KAAAlB,IAAAoC,KAAA,SAAA,MAAA,EAAA,CAAA,IAAAA,KAAApC,GAAA,kBAAAE;IAAA,GAAA2E,MAAA,SAAA9E,IAAA;AAAA,aAAAiB,GAAA,KAAAjB,GAAA,iBAAAA,IAAAA,IAAAK,GAAA,eAAAA,GAAA,eAAAA,GAAA,YAAAA,GAAA,8BAAAA,GAAA,oBAAA,IAAA;IAAA,GAAA0E,MAAA,SAAA/E,IAAA;AAAA,aAAAA,cAAAM,OAAA,YAAA,OAAAN,GAAA,YAAA,YAAA,OAAAA,GAAA,eAAA,cAAA,OAAAA,GAAA,eAAA,EAAAA,GAAA,sBAAArV,OAAA,cAAA,OAAAqV,GAAA,mBAAA,cAAA,OAAAA,GAAA,gBAAA,YAAA,OAAAA,GAAA,gBAAA,cAAA,OAAAA,GAAA,gBAAA,cAAA,OAAAA,GAAA;IAAA,GAAAgF,MAAA,SAAAhF,IAAA;AAAA,aAAA,cAAA,OAAAtV,MAAAsV,cAAAtV;IAAA;AAAA,aAAAua,IAAAjF,IAAAC,IAAAlW,IAAA;AAAA,MAAAmb,IAAAlF,IAAA,CAAAA,OAAA;AAAA,QAAAA,GAAA,KAAAlW,IAAAmW,IAAAlW,IAAAqa,GAAA;MAAA,CAAA;IAAA;AAAA,UAAAe,MAAA,SAAAnF,IAAA;AAAA,UAAAC,KAAA;AAAA,UAAAgF,IAAA5D,GAAA,wBAAArB,IAAA,IAAA,GAAA+E,IAAA/E,EAAA,EAAA,QAAA0E,IAAA1E,EAAA,GAAA;AAAA,YAAAjW,KAAAoa,IAAAnE,GAAA,QAAA;AAAA,UAAAiF,IAAA5D,GAAA,qBAAArB,IAAA,EAAA,SAAAjW,IAAA,aAAAa,GAAA,CAAA,GAAAoV,GAAA,cAAA,KAAA,CAAAgF,IAAAhF,GAAA,iBAAA,KAAAoF,IAAA,YAAApF,GAAA,SAAA,KAAAoF,IAAA,YAAApF,GAAA,WAAA,EAAA,QAAA0E,IAAA1E,EAAA,GAAA;AAAA,UAAAA,GAAA,aAAA,GAAA,QAAA0E,IAAA1E,EAAA,GAAA;AAAA,UAAA5T,MAAA4T,GAAA,aAAA,MAAAoF,IAAA,WAAApF,GAAA,IAAA,EAAA,QAAA0E,IAAA1E,EAAA,GAAA;AAAA,UAAA,CAAApV,GAAAb,EAAA,KAAAF,GAAAE,EAAA,GAAA;AAAA,YAAA,CAAAF,GAAAE,EAAA,KAAAsb,IAAAtb,EAAA,GAAA;AAAA,cAAAkB,GAAA,wBAAA,UAAAma,IAAAna,GAAA,cAAAlB,EAAA,EAAA,QAAA;AAAA,cAAAkB,GAAA,wBAAA,YAAAA,GAAA,aAAAlB,EAAA,EAAA,QAAA;QAAA;AAAA,YAAA8Y,OAAA,CAAAG,IAAAjZ,EAAA,GAAA;AAAA,gBAAAkW,KAAAa,GAAAd,EAAA,KAAAA,GAAA,YAAAlW,KAAA+W,GAAAb,EAAA,KAAAA,GAAA;AAAA,cAAAlW,MAAAmW,IAAA;AAAA,qBAAAlW,KAAAD,GAAA,SAAA,GAAAC,MAAA,GAAA,EAAAA,IAAA;AAAA,oBAAAmW,KAAAQ,GAAA5W,GAAAC,EAAA,GAAA,IAAA;AAAA,cAAAmW,GAAA,kBAAAF,GAAA,kBAAA,KAAA,GAAAC,GAAA,aAAAC,IAAAU,GAAAZ,EAAA,CAAA;YAAA;UAAA;QAAA;AAAA,eAAA0E,IAAA1E,EAAA,GAAA;MAAA;AAAA,aAAAA,cAAAnV,MAAA,CAAA,SAAAmV,IAAA;AAAA,YAAAC,KAAAa,GAAAd,EAAA;AAAA,QAAAC,MAAAA,GAAA,YAAAA,KAAA,EAAA,cAAAwD,KAAA,SAAA,WAAA;AAAA,cAAA3Z,KAAA,GAAAkW,GAAA,OAAA,GAAAjW,KAAA,GAAAkW,GAAA,OAAA;AAAA,eAAA,CAAA,CAAA0D,IAAA3D,GAAA,YAAA,MAAAA,GAAA,iBAAAuD,MAAAtD,GAAA,iBAAAuD,MAAA,UAAA1Z,KAAAmW,GAAA,iBAAAqD,MAAA,UAAAxZ,OAAA,qBAAAC,MAAA+Z,IAAA/Z,EAAA,KAAA,QAAAya,IAAA1a,EAAA,CAAA,IAAAkW,GAAA,iBAAAsD,MAAArD,GAAA,iBAAAuD,MAAA,WAAA1Z,KAAAmW,GAAA,iBAAAsD,MAAA,WAAAzZ,MAAAia,IAAAha,EAAA,IAAA,QAAA0a,IAAA3a,EAAA,CAAA,IAAAkW,GAAA,iBAAAwD,MAAA,EAAAvD,GAAA,iBAAAsD,OAAA,CAAAQ,IAAAha,EAAA,MAAA,EAAAkW,GAAA,iBAAAqD,OAAA,CAAAQ,IAAA/Z,EAAA,MAAA,CAAA0a,IAAA3a,EAAA,MAAAka,IAAAla,EAAA,KAAA,CAAA0a,IAAA1a,EAAA,KAAA,EAAA,4BAAAma,OAAA,CAAAN,IAAA3D,GAAA,YAAA;MAAA,EAAAA,EAAA,KAAA0E,IAAA1E,EAAA,GAAA,QAAA,eAAAjW,MAAA,cAAAA,MAAA,eAAAA,MAAA,CAAAqb,IAAA,+BAAApF,GAAA,SAAA,KAAA7T,MAAA6T,GAAA,aAAA,OAAAC,KAAAD,GAAA,aAAAkF,IAAA,CAAA3D,IAAAC,IAAAC,EAAA,GAAA,CAAAzB,OAAA;AAAA,QAAAC,KAAA,GAAAA,IAAAD,IAAA,GAAA;MAAA,CAAA,GAAAA,GAAA,gBAAAC,OAAA0E,IAAA7a,GAAA,SAAA,EAAA,SAAAkW,GAAA,UAAA,EAAA,CAAA,GAAAA,GAAA,cAAAC,MAAAgF,IAAA5D,GAAA,uBAAArB,IAAA,IAAA,GAAA,UAAA0E,IAAA1E,EAAA,GAAA;IAAA,GAAAsF,MAAA,SAAAtF,IAAAC,IAAAnW,IAAA;AAAA,UAAA6Y,QAAA,SAAA1C,MAAA,WAAAA,QAAAnW,MAAAC,MAAAD,MAAAua,KAAA,QAAA;AAAA,UAAAlC,MAAA,CAAAF,GAAAhC,EAAA,KAAAmF,IAAA1D,IAAAzB,EAAA,EAAA;eAAAiC,MAAAkD,IAAAzD,IAAA1B,EAAA,EAAA;eAAA,CAAAlV,GAAAkV,EAAA,KAAAgC,GAAAhC,EAAA,GAAA;AAAA,YAAA,EAAAoF,IAAArF,EAAA,MAAA/U,GAAA,wBAAA,UAAAma,IAAAna,GAAA,cAAA+U,EAAA,KAAA/U,GAAA,wBAAA,YAAAA,GAAA,aAAA+U,EAAA,OAAA/U,GAAA,8BAAA,UAAAma,IAAAna,GAAA,oBAAAgV,EAAA,KAAAhV,GAAA,8BAAA,YAAAA,GAAA,mBAAAgV,EAAA,MAAA,SAAAA,MAAAhV,GAAA,mCAAAA,GAAA,wBAAA,UAAAma,IAAAna,GAAA,cAAAnB,EAAA,KAAAmB,GAAA,wBAAA,YAAAA,GAAA,aAAAnB,EAAA,IAAA,QAAA;MAAA,WAAAsZ,IAAAnD,EAAA,EAAA;eAAAmF,IAAArD,IAAA,GAAAjY,IAAA+X,IAAA,EAAA,CAAA,EAAA;eAAA,UAAA5B,MAAA,iBAAAA,MAAA,WAAAA,MAAA,aAAAD,MAAA,MAAA,GAAAlW,IAAA,OAAA,KAAA,CAAAoZ,IAAAlD,EAAA,GAAA;AAAA,YAAAoC,MAAA,CAAAgD,IAAAxD,IAAA,GAAA9X,IAAA+X,IAAA,EAAA,CAAA,EAAA;iBAAA/X,GAAA,QAAA;MAAA,MAAA;AAAA,aAAA;IAAA,GAAAub,MAAA,SAAArF,IAAA;AAAA,aAAA,qBAAAA,MAAA,GAAAA,IAAA8B,EAAA;IAAA,GAAAyD,MAAA,SAAAvF,IAAA;AAAA,MAAAiF,IAAA5D,GAAA,0BAAArB,IAAA,IAAA;AAAA,YAAA,EAAA,YAAAC,GAAA,IAAAD;AAAA,UAAA,CAAAC,MAAA8E,IAAA/E,EAAA,EAAA;AAAA,YAAAjW,KAAA,EAAA,UAAA,IAAA,WAAA,IAAA,UAAA,MAAA,mBAAAgB,IAAA,eAAA,OAAA;AAAA,UAAAmV,KAAAD,GAAA;AAAA,aAAAC,QAAA;AAAA,cAAAC,KAAAF,GAAAC,EAAA,GAAA,EAAA,MAAAE,IAAA,cAAApW,IAAA,OAAAU,GAAA,IAAAyV,IAAAtV,KAAAsZ,IAAA/D,EAAA;AAAA,YAAAC,KAAA,YAAAD,KAAA1V,KAAA,GAAAA,EAAA;AAAA,YAAAX,GAAA,WAAAc,IAAAd,GAAA,YAAAsW,IAAAtW,GAAA,WAAA,MAAAA,GAAA,gBAAA,QAAAkb,IAAA5D,GAAA,uBAAArB,IAAAjW,EAAA,GAAAsW,KAAAtW,GAAA,WAAA,CAAA6Y,OAAA,SAAA/X,MAAA,WAAAA,OAAA+Z,IAAAxE,IAAAJ,EAAA,GAAAK,KAAA,kBAAAA,KAAAjU,MAAAgZ,IAAA,iCAAA/E,EAAA,GAAA;AAAA,UAAAuE,IAAAxE,IAAAJ,EAAA;AAAA;QAAA;AAAA,YAAAjW,GAAA,cAAA;AAAA,YAAA6a,IAAAxE,IAAAJ,EAAA,GAAA,CAAAjW,GAAA,SAAA;AAAA,YAAA,CAAAmC,MAAAkZ,IAAA,QAAA/E,EAAA,GAAA;AAAA,UAAAuE,IAAAxE,IAAAJ,EAAA;AAAA;QAAA;AAAA,QAAA7T,MAAA+Y,IAAA,CAAA3D,IAAAC,IAAAC,EAAA,GAAA,CAAAzB,OAAA;AAAA,UAAAK,KAAA,GAAAA,IAAAL,IAAA,GAAA;QAAA,CAAA;AAAA,cAAArV,KAAAwZ,IAAAnE,GAAA,QAAA;AAAA,YAAAsF,IAAA3a,IAAAE,IAAAwV,EAAA,GAAA;AAAA,cAAA7C,MAAA,YAAA,OAAAgD,MAAA,cAAA,OAAAA,GAAA,iBAAA,KAAAxW,GAAA;cAAA,SAAAwW,GAAA,iBAAA7V,IAAAE,EAAA,GAAA;YAAA,KAAA;AAAA,cAAAwV,KAAA7C,GAAA,WAAA6C,EAAA;AAAA;YAAA,KAAA;AAAA,cAAAA,KAAA7C,GAAA,gBAAA6C,EAAA;UAAA;AAAA,cAAA;AAAA,YAAArW,KAAAgW,GAAA,eAAAhW,IAAAoW,IAAAC,EAAA,IAAAL,GAAA,aAAAI,IAAAC,EAAA,GAAA0E,IAAA/E,EAAA,IAAA0E,IAAA1E,EAAA,IAAA,GAAAlW,GAAA,OAAA;UAAA,SAAAkW,IAAA;UAAA;QAAA;MAAA;AAAA,MAAAiF,IAAA5D,GAAA,yBAAArB,IAAA,IAAA;IAAA,GAAAwF,MAAA,SAAAxF,GAAAC,IAAA;AAAA,UAAAnW,KAAA;AAAA,YAAAC,KAAA+a,IAAA7E,EAAA;AAAA,WAAAgF,IAAA5D,GAAA,yBAAApB,IAAA,IAAA,GAAAnW,KAAAC,GAAA,SAAA,IAAA,CAAAkb,IAAA5D,GAAA,wBAAAvX,IAAA,IAAA,GAAAqb,IAAArb,EAAA,GAAAyb,IAAAzb,EAAA,GAAAA,GAAA,mBAAAsW,MAAAJ,GAAAlW,GAAA,OAAA;AAAA,MAAAmb,IAAA5D,GAAA,wBAAApB,IAAA,IAAA;IAAA;AAAA,WAAAnW,GAAA,WAAA,SAAAkW,IAAA;AAAA,UAAAC,KAAA,UAAA,SAAA,KAAA,WAAA,UAAA,CAAA,IAAA,UAAA,CAAA,IAAA,CAAA,GAAAlW,KAAA,MAAAoW,KAAA,MAAAnW,KAAA,MAAAa,KAAA;AAAA,UAAA6Y,MAAA,CAAA1D,IAAA0D,QAAA1D,KAAA,UAAA,YAAA,OAAAA,MAAA,CAAAgF,IAAAhF,EAAA,GAAA;AAAA,YAAA,cAAA,OAAAA,GAAA,SAAA,OAAA,GAAA,4BAAA;AAAA,YAAA,YAAA,QAAAA,KAAAA,GAAA,SAAA,GAAA,OAAA,GAAA,iCAAA;MAAA;AAAA,UAAA,CAAAlW,GAAA,YAAA,QAAAkW;AAAA,UAAAsC,MAAAiC,IAAAtE,EAAA,GAAAnW,GAAA,UAAA,CAAA,GAAA,YAAA,OAAAkW,OAAA8C,MAAA,QAAAA,KAAA;AAAA,YAAA9C,GAAA,UAAA;AAAA,gBAAAC,KAAAkE,IAAAnE,GAAA,QAAA;AAAA,cAAA,CAAApV,GAAAqV,EAAA,KAAApW,GAAAoW,EAAA,EAAA,OAAA,GAAA,yDAAA;QAAA;MAAA,WAAAD,cAAAtV,GAAA,CAAAX,KAAA8a,IAAA,SAAA,GAAA1E,KAAApW,GAAA,cAAA,WAAAiW,IAAA,IAAA,GAAAG,GAAA,aAAA,MAAA,WAAAA,GAAA,YAAA,WAAAA,GAAA,WAAApW,KAAAoW,KAAApW,GAAA,YAAAoW,EAAA;WAAA;AAAA,YAAA,CAAAqC,OAAA,CAAArW,MAAA,CAAAkW,MAAA,OAAArC,GAAA,QAAA,GAAA,EAAA,QAAAxC,MAAAkF,MAAAlF,GAAA,WAAAwC,EAAA,IAAAA;AAAA,YAAAjW,KAAA8a,IAAA7E,EAAA,GAAA,CAAAjW,GAAA,QAAAyY,MAAA,OAAAE,MAAA3B,KAAA;MAAA;AAAA,MAAAhX,MAAAwY,MAAAmC,IAAA3a,GAAA,UAAA;AAAA,YAAAsW,KAAAyE,IAAAhC,MAAA9C,KAAAjW,EAAA;AAAA,aAAAC,KAAAqW,GAAA,SAAA,IAAA,CAAA8E,IAAAnb,EAAA,GAAAub,IAAAvb,EAAA,GAAAA,GAAA,mBAAAoW,MAAAoF,IAAAxb,GAAA,OAAA;AAAA,UAAA8Y,IAAA,QAAA9C;AAAA,UAAAwC,KAAA;AAAA,YAAAC,IAAA,MAAA5X,KAAAqW,GAAA,KAAAnX,GAAA,aAAA,GAAAA,GAAA,aAAA,CAAAc,GAAA,YAAAd,GAAA,UAAA;YAAA,CAAAc,KAAAd;AAAA,gBAAAgB,GAAA,cAAAA,GAAA,oBAAAF,KAAAuW,GAAA,KAAAlB,IAAArV,IAAA,IAAA,IAAAA;MAAA;AAAA,UAAAF,KAAA0X,KAAAtY,GAAA,YAAAA,GAAA;AAAA,aAAAsY,MAAAzX,GAAA,UAAA,KAAAb,GAAA,iBAAAA,GAAA,cAAA,WAAAA,GAAA,cAAA,QAAA,QAAAqb,IAAA,IAAArb,GAAA,cAAA,QAAA,IAAA,MAAAY,KAAA,eAAAZ,GAAA,cAAA,QAAA,OAAA,QAAAY,KAAAwB,MAAA+Y,IAAA,CAAA3D,IAAAC,IAAAC,EAAA,GAAA,CAAAzB,OAAA;AAAA,QAAArV,KAAA,GAAAA,IAAAqV,IAAA,GAAA;MAAA,CAAA,GAAAxC,MAAAkF,MAAAlF,GAAA,WAAA7S,EAAA,IAAAA;IAAA,GAAAb,GAAA,YAAA,WAAA;AAAA,MAAAya,IAAA,UAAA,SAAA,KAAA,WAAA,UAAA,CAAA,IAAA,UAAA,CAAA,IAAA,CAAA,CAAA,GAAAjC,KAAA;IAAA,GAAAxY,GAAA,cAAA,WAAA;AAAA,MAAAsa,MAAA,MAAA9B,KAAA;IAAA,GAAAxY,GAAA,mBAAA,SAAAkW,IAAAC,IAAAnW,IAAA;AAAA,MAAAsa,OAAAG,IAAA,CAAA,CAAA;AAAA,YAAAxa,KAAAoa,IAAAnE,EAAA,GAAAE,KAAAiE,IAAAlE,EAAA;AAAA,aAAAqF,IAAAvb,IAAAmW,IAAApW,EAAA;IAAA,GAAAA,GAAA,UAAA,SAAAkW,IAAAC,IAAA;AAAA,oBAAA,OAAAA,MAAA0E,IAAAtD,GAAArB,EAAA,GAAAC,EAAA;IAAA,GAAAnW,GAAA,aAAA,SAAAkW,IAAAC,IAAA;AAAA,UAAA,WAAAA,IAAA;AAAA,cAAAnW,KAAA2b,IAAApE,GAAArB,EAAA,GAAAC,EAAA;AAAA,eAAA,OAAAnW,KAAA,SAAA,GAAAuX,GAAArB,EAAA,GAAAlW,IAAA,CAAA,EAAA,CAAA;MAAA;AAAA,aAAA,GAAAuX,GAAArB,EAAA,CAAA;IAAA,GAAAlW,GAAA,cAAA,SAAAkW,IAAA;AAAA,MAAAqB,GAAArB,EAAA,IAAA,CAAA;IAAA,GAAAlW,GAAA,iBAAA,WAAA;AAAA,MAAAuX,KAAA,EAAA,yBAAA,CAAA,GAAA,uBAAA,CAAA,GAAA,wBAAA,CAAA,GAAA,0BAAA,CAAA,GAAA,wBAAA,CAAA,GAAA,yBAAA,CAAA,GAAA,uBAAA,CAAA,GAAA,qBAAA,CAAA,GAAA,wBAAA,CAAA,EAAA;IAAA,GAAAvX;EAAA,EAAA;ACvMA4b,KAAUC,QAAQ,yBAAyB,SAAU/hB,IAAMmC,IAAAA;AACzB,kBACJhJ,KAAKgJ,GAAK6f,QAAAA,MACpC7f,GAAK8f,gBAAAA;EAET,CAAA;AAEA,MAAMC,KAA6B,6CAA6C5f,MAAM,GAAA;AAAtF,MACM6f,KAA8B,cAAc7f,MAAM,GAAA;AADxD,MAEM8f,KAA6B,8BAA8B9f,MAAM,GAAA;AAExD,MAAM+f,KAAN,cAA4B/a,GAAAA;IACzC,OAAA,QAAelO,IAAS2E,IAAM8D,IAAAA;AAC5B,YAAMygB,KAAmB,IAAIhpB,KAAKyE,IAAM8D,EAAAA,EAAS0gB,SAAAA,GAC3CC,KAAgBF,GAAiBG,UAAUH,GAAiBG,QAAAA,IAAYH,GAAiBI;AAC/FtpB,MAAAA,GAAQupB,YAAYH;IACtB;IAEA,OAAA,SAAgBzkB,IAAM8D,IAAAA;AACpB,YAAM+gB,KAAY,IAAItpB,KAAKyE,IAAM8D,EAAAA;AAEjC,aADA+gB,GAAUL,SAAAA,GACHK;IACT;IAEA3Z,YAAYlL,IAAAA;AAAwF,UAAA,EAAlF8kB,mBAAEA,IAAiBC,oBAAEA,IAAkBC,mBAAEA,IAAiBC,eAAEA,GAAAA,IAAerkB,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAC9FuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKupB,oBAAoBA,MAAqBX,IAC9C5oB,KAAKwpB,qBAAqBA,MAAsBX,IAChD7oB,KAAKypB,oBAAoBA,MAAqBX,IAC9C9oB,KAAK0pB,gBAAgBA,MAAiB,CAAA,GACtC1pB,KAAKuL,OAAOoe,GAAyBllB,EAAAA;IACvC;IAEAwkB,WAAAA;AACEjpB,WAAK4pB,iBAAAA,GACL5pB,KAAK6pB,4BAAAA;AACL,YAAMC,KAAerV,OAAOsV,OAAO,CAAE,GAAEvV,IAAkBxU,KAAK0pB,aAAAA;AAI9D,aAHAlB,GAAUwB,UAAUF,EAAAA,GACpB9pB,KAAKuL,OAAOid,GAAUS,SAASjpB,KAAKuL,IAAAA,GAE7BvL,KAAKuL;IACd;IAEA4d,UAAAA;AACE,aAAOnpB,KAAKuL,KAAK8d;IACnB;IAEAY,UAAAA;AACE,aAAOjqB,KAAKuL;IACd;IAIAqe,mBAAAA;AACE,YAAMM,KAASziB,GAASzH,KAAKuL,IAAAA,GACvB4e,KAAgB,CAAA;AAEtB,aAAOD,GAAOE,SAAAA,KAAY;AACxB,cAAM1jB,KAAOwjB,GAAOG;AACpB,gBAAQ3jB,GAAKD,UAAAA;UACX,KAAKG,KAAKC;AACJ7G,iBAAKsqB,mBAAmB5jB,EAAAA,IAC1ByjB,GAAcxgB,KAAKjD,EAAAA,IAEnB1G,KAAKuqB,gBAAgB7jB,EAAAA;AAEvB;UACF,KAAKE,KAAKuD;AACRggB,YAAAA,GAAcxgB,KAAKjD,EAAAA;QAAAA;MAGzB;AAIA,aAFAyjB,GAAclhB,QAASvC,CAAAA,OAASY,GAAWZ,EAAAA,CAAAA,GAEpC1G,KAAKuL;IACd;IAEAgf,gBAAgBzqB,IAAAA;AAad,aAZIA,GAAQ0qB,aAAa,MAAA,KACnBxqB,KAAKwpB,mBAAmBvf,SAASnK,GAAQ2qB,QAAAA,KAC3C3qB,GAAQ4qB,gBAAgB,MAAA,GAI5B/Z,MAAMC,KAAK9Q,GAAQlB,UAAAA,EAAYqK,QAAQ0hB,CAAAA,OAAAA;AAAc,YAAA,EAAblsB,MAAEA,GAAAA,IAAMksB;AACzC3qB,aAAKupB,kBAAkBtf,SAASxL,EAAAA,KAAuC,MAA9BA,GAAK8iB,QAAQ,WAAA,KACzDzhB,GAAQ4qB,gBAAgBjsB,EAAAA;MAC1B,CAAA,GAGKqB;IACT;IAEA+pB,8BAAAA;AAUE,aATAlZ,MAAMC,KAAK5Q,KAAKuL,KAAKqf,iBAAiB,OAAA,CAAA,EAAU3hB,QAAS4hB,CAAAA,OAAAA;AACvD,cAAMC,KAAkBD,GAAYE;AAChCD,QAAAA,MAC+B,SAA7BhsB,GAAQgsB,EAAAA,KACVA,GAAgBvhB,YAAYshB,EAAAA;MAEhC,CAAA,GAGK7qB,KAAKuL;IACd;IAEA+e,mBAAmBxqB,IAAAA;AACjB,WAAIA,QAAAA,KAAAA,SAAAA,GAAS2G,cAAaG,KAAKC,aAC/B,QAAO7G,KAAKgrB,mBAAmBlrB,EAAAA,KAAYE,KAAKirB,wBAAwBnrB,EAAAA;IAC1E;IAEAkrB,mBAAmBlrB,IAAAA;AACjB,aAAOE,KAAKypB,kBAAkBxf,SAASnL,GAAQgB,EAAAA,CAAAA;IACjD;IAEAmrB,wBAAwBnrB,IAAAA;AACtB,aAAuD,YAAhDA,GAAQuM,aAAa,qBAAA,KAAA,CAAuC9B,GAAwBzK,EAAAA;IAC7F;EAAA;AAGF,MAAM6pB,KAA2B,WAAA;AAAoB,QAAXllB,KAAIY,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG;AAE/CZ,IAAAA,KAAOA,GAAKP,QAAQ,uBAAuB,SAAA;AAC3C,UAAMgnB,KAAMxmB,SAASymB,eAAeC,mBAAmB,EAAA;AAOvD,WANAF,GAAIvmB,gBAAgB0kB,YAAY5kB,IAEhCkM,MAAMC,KAAKsa,GAAIjW,KAAK2V,iBAAiB,OAAA,CAAA,EAAU3hB,QAASnJ,CAAAA,OAAAA;AACtDorB,MAAAA,GAAI3f,KAAKhC,YAAYzJ,EAAAA;IAAQ,CAAA,GAGxBorB,GAAI3f;EACb;AAXA,MAWA,ECpIQ8f,KAAAA,GAAAA,IAAQ7W;AAED,MAAM8W,KAAN,cAA6BhO,IAAAA;IAC1C3N,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAK+M,aAAa/M,KAAKuO,QACvBvO,KAAK+M,WAAWwe,yBAAyBvrB,MACzCA,KAAKwrB,kBAAkBxrB,KAAKuI,QAAQkjB;IACtC;IAEAC,qBAAAA;AACE,aAAO,CAAA;IACT;IAEA/N,cAAAA;AACE,UAAIgO;AACJ,YAAMC,KAASD,KAAetjB,GAAY,EACxCvJ,SAAS,UACTiK,WAAW/I,KAAK6rB,aAAAA,GAChBhjB,MAAM7I,KAAKyV,QAAAA,GACXhN,UAAAA,MAAU,CAAA,GAGN0D,KAAOnM,KAAK8rB,QAAAA;AAiClB,aAhCI3f,OACFwf,KAAetjB,GAAY,EAAEvJ,SAAS,KAAK2J,UAAAA,OAAiB7J,YAAY,EAAEuN,MAAAA,IAAM4f,UAAAA,GAAW,EAAA,CAAA,GAC3FH,GAAOriB,YAAYoiB,EAAAA,IAGjB3rB,KAAK+M,WAAWif,WAAAA,IAClBjD,GAAckD,QAAQN,IAAc3rB,KAAK+M,WAAWmf,WAAAA,CAAAA,IAEpDlsB,KAAK0rB,mBAAAA,EAAqBziB,QAASvC,CAAAA,OAAAA;AACjCilB,QAAAA,GAAapiB,YAAY7C,EAAAA;MAAK,CAAA,GAIlCilB,GAAapiB,YAAYvJ,KAAKmsB,qBAAAA,CAAAA,GAE1BnsB,KAAK+M,WAAWqf,UAAAA,MAClBpsB,KAAKqsB,kBAAkBhkB,GAAY,EACjCvJ,SAAS,YACTF,YAAY,EACV0tB,OAAOjB,GAAIhe,oBACX7I,OAAOxE,KAAK+M,WAAWwf,kBAAAA,GACvBtc,KAAK,IAAA,GAEPpH,MAAM,EACJ2jB,aAAAA,MACAtQ,cAAc,CAAE,mBAAmBlc,KAAK+M,WAAW5B,EAAAA,EAAK2G,KAAK,GAAA,EAAA,EAAA,CAAA,GAIjE8Z,GAAOriB,YAAYvJ,KAAKqsB,eAAAA,IAGnB,CAAEI,GAAmB,MAAA,GAASb,IAAQa,GAAmB,OAAA,CAAA;IAClE;IAEAN,uBAAAA;AACE,YAAMO,KAAarkB,GAAY,EAAEvJ,SAAS,cAAciK,WAAWsiB,GAAIre,kBAAAA,CAAAA,GACjExO,KAAUwB,KAAKwrB,gBAAgBmB,WAAAA;AACrC,UAAInuB,GACFkuB,CAAAA,GAAWxjB,UAAUC,IAAG,GAAA1F,OAAI4nB,GAAIre,mBAAiB,UAAA,CAAA,GACjD0f,GAAWtjB,cAAc5K;WACpB;AACL,YAAIC,IAAMC;AACV,cAAMkuB,KAAgB5sB,KAAK6sB,iBAAAA;AAQ3B,YAPID,GAAcnuB,SAChBA,KAAOuB,KAAK+M,WAAW+f,YAAAA,IAErBF,GAAcluB,SAChBA,KAAOsB,KAAK+M,WAAWggB,qBAAAA,IAGrBtuB,IAAM;AACR,gBAAMuuB,KAAc3kB,GAAY,EAAEvJ,SAAS,QAAQiK,WAAWsiB,GAAIje,gBAAgBhE,aAAa3K,GAAAA,CAAAA;AAC/FiuB,UAAAA,GAAWnjB,YAAYyjB,EAAAA;QACzB;AAEA,YAAItuB,IAAM;AACJD,UAAAA,MACFiuB,GAAWnjB,YAAY7E,SAASuoB,eAAe,GAAA,CAAA;AAEjD,gBAAMC,KAAc7kB,GAAY,EAAEvJ,SAAS,QAAQiK,WAAWsiB,GAAI/d,gBAAgBlE,aAAa1K,GAAAA,CAAAA;AAC/FguB,UAAAA,GAAWnjB,YAAY2jB,EAAAA;QACzB;MACF;AAEA,aAAOR;IACT;IAEAb,eAAAA;AACE,YAAMsB,KAAQ,CAAE9B,GAAIte,YAAU,GAAAtJ,OAAK4nB,GAAIte,YAAUtJ,IAAAA,EAAAA,OAAKzD,KAAK+M,WAAWqgB,QAAAA,CAAAA,CAAAA,GAChEC,KAAYrtB,KAAK+M,WAAWugB,aAAAA;AAIlC,aAHID,MACFF,GAAMxjB,KAAIlG,GAAAA,OAAI4nB,GAAIte,YAAUtJ,IAAAA,EAAAA,OAAK4pB,EAAAA,CAAAA,GAE5BF,GAAMrb,KAAK,GAAA;IACpB;IAEA2D,UAAAA;AACE,YAAM5M,KAAO,EACX0kB,gBAAgBrb,KAAKO,UAAUzS,KAAK+M,UAAAA,GACpCygB,iBAAiBxtB,KAAK+M,WAAW0gB,eAAAA,GACjCC,QAAQ1tB,KAAK+M,WAAW5B,GAAAA,GAAAA,EAGpBvM,YAAEA,GAAAA,IAAeoB,KAAKwrB;AAS5B,aARK5sB,GAAWgc,QAAAA,MACd/R,GAAK8kB,iBAAiBzb,KAAKO,UAAU7T,EAAAA,IAGnCoB,KAAK+M,WAAWqf,UAAAA,MAClBvjB,GAAK+kB,gBAAAA,QAGA/kB;IACT;IAEAijB,UAAAA;AACE,UAAA,CAAK+B,GAAoB7tB,KAAK+M,WAAWmf,WAAAA,GAAc,GAAA,EACrD,QAAOlsB,KAAK+M,WAAW+e,QAAAA;IAE3B;IAEAe,mBAAAA;AAAmB,UAAAiB;AACjB,YAAM9iB,KAAOhL,KAAK+M,WAAWqgB,QAAAA,GACvBR,KAAgBzW,GAAmC2X,UAAzBA,KAACtZ,GAAmBxJ,EAAAA,MAAAA,WAAK8iB,KAAAA,SAAxBA,GAA0BtvB,OAAAA;AAI3D,aAHa,WAATwM,OACF4hB,GAAcnuB,OAAAA,OAETmuB;IACT;IAEAmB,sBAAAA;AAAsB,UAAAC;AACpB,aAAyBA,UAAzBA,KAAOhuB,KAAK8e,YAAAA,MAAAA,WAAakP,KAAAA,SAAlBA,GAAoB3Y,cAAc,UAAA;IAC3C;IAIA4Y,oCAAAA;AACE,YAAMzpB,KAAQxE,KAAK+M,WAAWwf,kBAAAA,GACxBF,KAAkBrsB,KAAK+tB,oBAAAA;AACzB1B,MAAAA,OACFA,GAAgB7nB,QAAQA;IAE5B;EAAA;AAGF,MAAMioB,KAAsBhuB,CAAAA,OAC1B4J,GAAY,EACVvJ,SAAS,QACTsK,aAAajF,IACb0E,MAAM,EACJyB,kBAAkB7L,IAClBmvB,eAAAA,MAAe,EAAA,CAAA;AANrB,MAUMC,KAAsB,SAASppB,IAAM3F,IAAAA;AACzC,UAAMovB,KAAM7lB,GAAY,KAAA;AAExB,WADA0gB,GAAckD,QAAQiC,IAAKzpB,MAAQ,EAAA,GAC5BypB,GAAI7Y,cAAcvW,EAAAA;EAC3B;ACrKe,MAAMqvB,KAAN,cAAwC7C,GAAAA;IACrD3b,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAK+M,WAAWqhB,kBAAkBpuB;IACpC;IAEA0rB,qBAAAA;AAYE,aAXA1rB,KAAKquB,QAAQhmB,GAAY,EACvBvJ,SAAS,OACTF,YAAY,EACV0vB,KAAK,GAAA,GAEPzlB,MAAM,EACJ2jB,aAAAA,KAAa,EAAA,CAAA,GAIjBxsB,KAAKuuB,QAAQvuB,KAAKquB,KAAAA,GACX,CAAEruB,KAAKquB,KAAAA;IAChB;IAEAlC,uBAAAA;AACE,YAAMO,KAAa9c,MAAMuc,qBAAAA,GAAwB9mB,SAAAA;AAIjD,aAHKqnB,GAAWtjB,eACdsjB,GAAW/jB,aAAa,yBAAyB6L,GAAYvS,kBAAAA,GAExDyqB;IACT;IAEA6B,QAAQF,IAAAA;AACM,UAAAL;AAAPK,MAAAA,OAASA,KAA0BL,UAArBA,KAAGhuB,KAAK8e,YAAAA,MAAAA,WAAakP,KAAAA,SAAlBA,GAAoB3Y,cAAc,KAAA;AACxD,UAAIgZ,GACF,QAAOruB,KAAKwuB,yBAAyBH,EAAAA;IAEzC;IAEAG,yBAAyBH,IAAAA;AACvB,YAAMzrB,KAAM5C,KAAK+M,WAAW0hB,OAAAA,GACtBC,KAAa1uB,KAAK+M,WAAW4hB,cAAAA;AAGnC,UAFAN,GAAMC,MAAMI,MAAc9rB,IAEtB8rB,OAAe9rB,GACjByrB,CAAAA,GAAM3D,gBAAgB,iCAAA;WACjB;AACL,cAAMkE,KAAuB1c,KAAKO,UAAU,EAAE6b,KAAK1rB,GAAAA,CAAAA;AACnDyrB,QAAAA,GAAM1lB,aAAa,mCAAmCimB,EAAAA;MACxD;AAEA,YAAMC,KAAQ7uB,KAAK+M,WAAW+hB,SAAAA,GACxBC,KAAS/uB,KAAK+M,WAAWiiB,UAAAA;AAElB,cAATH,OACFR,GAAMQ,QAAQA,KAEF,QAAVE,OACFV,GAAMU,SAASA;AAGjB,YAAME,KAAW,CAAE,gBAAgBjvB,KAAK+M,WAAW5B,IAAIkjB,GAAMC,KAAKD,GAAMQ,OAAOR,GAAMU,MAAAA,EAASjd,KAAK,GAAA;AACnGuc,MAAAA,GAAMvlB,QAAQoT,eAAe+S;IAC/B;IAIAC,gCAAAA;AAEE,aADAlvB,KAAKuuB,QAAQvuB,KAAKquB,KAAAA,GACXruB,KAAKuuB,QAAAA;IACd;EAAA;AC5Da,MAAMY,KAAN,cAAwB7R,IAAAA;IACrC3N,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAKyrB,QAAQzrB,KAAKuO,QAClBvO,KAAKpB,aAAaoB,KAAKyrB,MAAM2D,cAAAA,GAC7BpvB,KAAKqvB,aAAarvB,KAAKuI,QAAQ8mB,YAC/BrvB,KAAKsvB,UAAUtvB,KAAKuI,QAAQ+mB,SAExBtvB,KAAKyrB,MAAM1e,aACb/M,KAAK+M,aAAa/M,KAAKyrB,MAAM1e,aAE7B/M,KAAKoR,SAASpR,KAAKyrB,MAAMnc,SAAAA;IAE7B;IAEAqO,cAAAA;AACE,UAAID,KAAQ1d,KAAK+M,aAAa/M,KAAKuvB,sBAAAA,IAA0BvvB,KAAKwvB,kBAAAA;AAClE,YAAM1vB,KAAUE,KAAKwI,cAAAA;AACrB,UAAI1I,IAAS;AACX,cAAM6rB,K/BiDoB,SAAS7rB,IAAAA;AACvC,iBAAc,UAAd2vB,KAAO3vB,OAAAA,WAAO2vB,MAAPA,GAASC,qBAAmB;AAAA,gBAAAD;AACjC3vB,YAAAA,KAAUA,GAAQ4vB;UACpB;AACA,iBAAO5vB;QACT,E+BtD4CA,EAAAA;AACtC6Q,cAAMC,KAAK8M,EAAAA,EAAOzU,QAASvC,CAAAA,OAAAA;AACzBilB,UAAAA,GAAapiB,YAAY7C,EAAAA;QAAK,CAAA,GAEhCgX,KAAQ,CAAE5d,EAAAA;MACZ;AACA,aAAO4d;IACT;IAEA6R,wBAAAA;AACE,YAAM5f,KAAc3P,KAAK+M,WAAW4iB,cAAAA,IAAkBxB,KAA4B7C;AAGlF,aADatrB,KAAKwe,gBAAgB7O,IAAa3P,KAAKyrB,MAAM1e,YAAY,EAAE0e,OAAOzrB,KAAKyrB,MAAAA,CAAAA,EACxEhO,SAAAA;IACd;IAEA+R,oBAAAA;AAAoB,UAAAI;AAClB,UAAmBA,UAAnBA,KAAI5vB,KAAKqvB,eAAAA,WAAUO,MAAfA,GAAiBnwB,UACnB,QAAO,CAAEiF,SAASuoB,eAAejtB,KAAKoR,MAAAA,CAAAA;AACjC;AACL,cAAMsM,KAAQ,CAAA,GACRmS,KAAW7vB,KAAKoR,OAAOpI,MAAM,IAAA;AACnC,iBAAS6J,KAAQ,GAAGA,KAAQgd,GAASvqB,QAAQuN,MAAS;AACpD,gBAAMid,KAAYD,GAAShd,EAAAA;AAC3B,cAAIA,KAAQ,GAAG;AACb,kBAAM/S,KAAUuI,GAAY,IAAA;AAC5BqV,YAAAA,GAAM/T,KAAK7J,EAAAA;UACb;AAEA,cAAIgwB,GAAUxqB,QAAQ;AACpB,kBAAMoB,KAAOhC,SAASuoB,eAAejtB,KAAK+vB,eAAeD,EAAAA,CAAAA;AACzDpS,YAAAA,GAAM/T,KAAKjD,EAAAA;UACb;QACF;AACA,eAAOgX;MACT;IACF;IAEAlV,gBAAAA;AACE,UAAI1I,IAASyE,IAAKC;AAClB,YAAMwrB,KAAS,CAAA;AAEf,WAAKzrB,MAAOvE,KAAKpB,YAAY;AAC3B4F,QAAAA,KAAQxE,KAAKpB,WAAW2F,EAAAA;AACxB,cAAMiQ,KAASG,GAAcpQ,EAAAA;AAC7B,YAAIiQ,IAAQ;AACV,cAAIA,GAAO1V,SAAS;AAClB,gBAAI6sB;AACJ,kBAAMsE,KAAiB5nB,GAAYmM,GAAO1V,OAAAA;AAEtC6sB,YAAAA,MACFA,GAAapiB,YAAY0mB,EAAAA,GACzBtE,KAAesE,MAEfnwB,KAAU6rB,KAAesE;UAE7B;AAMA,cAJIzb,GAAO0b,kBACTF,GAAOxb,GAAO0b,aAAAA,IAAiB1rB,KAG7BgQ,GAAO5L,MACT,MAAKrE,MAAOiQ,GAAO5L,MACjBpE,CAAAA,KAAQgQ,GAAO5L,MAAMrE,EAAAA,GACrByrB,GAAOzrB,EAAAA,IAAOC;QAGpB;MACF;AAEA,UAAIiQ,OAAOC,KAAKsb,EAAAA,EAAQ1qB,OAEtB,MAAKf,MADAzE,OAAWA,KAAUuI,GAAY,MAAA,IAC1B2nB,GACVxrB,CAAAA,KAAQwrB,GAAOzrB,EAAAA,GACfzE,GAAQ8I,MAAMrE,EAAAA,IAAOC;AAGzB,aAAO1E;IACT;IAEA8f,yBAAAA;AACE,iBAAWrb,MAAOvE,KAAKpB,YAAY;AACjC,cAAM4F,KAAQxE,KAAKpB,WAAW2F,EAAAA,GACxBiQ,KAASG,GAAcpQ,EAAAA;AAC7B,YAAIiQ,MACEA,GAAOpI,cAAc;AACvB,gBAAMxN,KAAa,CAAA;AAEnB,iBADAA,GAAW2F,EAAAA,IAAOC,IACX6D,GAAYmM,GAAOpI,cAAcxN,EAAAA;QAC1C;MAEJ;IACF;IAEAmxB,eAAe3e,IAAAA;AAcb,aAbIpR,KAAKsvB,QAAQa,WACf/e,KAASA,GAAOlN,QAAQ,OAAOE,EAAAA,IAGjCgN,KAASA,GACNlN,QAAQ,kBAAgBT,MAAAA,OAAQW,IAAuB,KAAA,CAAA,EACvDF,QAAQ,UAAQ,GAAAT,OAAKW,IAAkB,GAAA,CAAA,EACvCF,QAAQ,UAAQT,IAAAA,OAAMW,EAAAA,CAAAA,IAErBpE,KAAKsvB,QAAQc,WAAWpwB,KAAKsvB,QAAQe,uBACvCjf,KAASA,GAAOlN,QAAQ,OAAOE,EAAAA,IAG1BgN;IACT;EAAA;ACtIa,MAAMkf,KAAN,cAAuBhT,IAAAA;IACpC3N,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAKR,OAAOQ,KAAKuO,QACjBvO,KAAKqvB,aAAarvB,KAAKuI,QAAQ8mB;IACjC;IAEA1R,cAAAA;AACE,YAAMD,KAAQ,CAAA,GACR6S,KAASvV,GAAYC,aAAajb,KAAKwwB,UAAAA,CAAAA,GACvCtO,KAAYqO,GAAOjrB,SAAS;AAElC,eAASuN,KAAQ,GAAGA,KAAQ0d,GAAOjrB,QAAQuN,MAAS;AAClD,cAAM4Y,KAAQ8E,GAAO1d,EAAAA,GACfyc,KAAU,CAAA;AACF,cAAVzc,OACFyc,GAAQc,UAAAA,OAENvd,OAAUqP,OACZoN,GAAQa,SAAAA,OAENM,GAAmBC,EAAAA,MACrBpB,GAAQe,oBAAAA;AAGV,cAAMhS,KAAOre,KAAKme,4BAA4BgR,IAAW1D,IAAO,EAAE4D,YAAYrvB,KAAKqvB,YAAYC,SAAAA,GAAAA,CAAAA;AAC/F5R,QAAAA,GAAM/T,KAAAA,GAAQgH,MAAMC,KAAKyN,GAAKZ,SAAAA,KAAc,CAAA,CAAA,CAAA;AAE5C,YAAIiT,KAAgBjF;MACtB;AACA,aAAO/N;IACT;IAEA8S,YAAAA;AACE,aAAO7f,MAAMC,KAAK5Q,KAAKR,KAAKgxB,UAAAA,CAAAA,EAAazY,OAAQ0T,CAAAA,OAAAA,CAAWA,GAAMjB,aAAa,YAAA,CAAA;IACjF;EAAA;AAGF,MAAMiG,KAAsBhF,CAAAA,OAAU,MAAM5rB,KAAK4rB,QAAAA,KAAAA,SAAAA,GAAOnc,SAAAA,CAAAA;AAAxD,MAAwDA,ECxChD+b,KAAAA,GAAAA,IAAQ7W;AAED,MAAMmc,KAAN,cAAwBrT,IAAAA;IACrC3N,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAK4wB,QAAQ5wB,KAAKuO,QAClBvO,KAAKpB,aAAaoB,KAAK4wB,MAAMxB,cAAAA;IAC/B;IAEAzR,cAAAA;AACE,YACMD,KAAQ,CADEhZ,SAASmsB,cAAc,OAAA,CAAA;AAEvC,UAAI7wB,KAAK4wB,MAAMhW,QAAAA,EACb8C,CAAAA,GAAM/T,KAAKtB,GAAY,IAAA,CAAA;WAClB;AAAA,YAAAyoB;AACL,cAAMzB,KAA0D,UAAhDyB,KAAGxc,GAAetU,KAAK4wB,MAAMG,iBAAAA,CAAAA,MAAAA,WAAmBD,KAAAA,SAA7CA,GAA+CtxB,MAC5DwxB,KAAWhxB,KAAKme,4BAA4BmS,IAAUtwB,KAAK4wB,MAAMpxB,MAAM,EAAE6vB,YAAAA,GAAAA,CAAAA;AAC/E3R,QAAAA,GAAM/T,KAAAA,GAAQgH,MAAMC,KAAKogB,GAASvT,SAAAA,KAAc,CAAA,CAAA,CAAA,GAC5Czd,KAAKixB,6BAAAA,KACPvT,GAAM/T,KAAKtB,GAAY,IAAA,CAAA;MAE3B;AAEA,UAAIrI,KAAKpB,WAAW0G,OAClB,QAAOoY;AACF;AACL,YAAI9e;AACJ,cAAA,EAAME,SAAEA,GAAAA,IAAY0V,GAAuB3V;AACvCmB,aAAK4wB,MAAMM,MAAAA,MACbtyB,KAAa,EAAEwU,KAAK,MAAA;AAGtB,cAAMtT,KAAUuI,GAAY,EAAEvJ,SAAAA,IAASF,YAAAA,GAAAA,CAAAA;AAEvC,eADA8e,GAAMzU,QAASvC,CAAAA,OAAS5G,GAAQyJ,YAAY7C,EAAAA,CAAAA,GACrC,CAAE5G,EAAAA;MACX;IACF;IAEA8f,uBAAuBzE,IAAAA;AACrB,YAAMvc,KAAa,CAAA;AACnB,UAAImK;AACJ,YAAMwL,KAAgBvU,KAAKpB,WAAWuc,EAAAA,GAAAA,EAEhCrc,SAAEA,IAAOS,gBAAEA,KAAiB,CAAA,EAAA,IAAO+U,GAAeC,EAAAA;AAMxD,UAJc,MAAV4G,MAAenb,KAAK4wB,MAAMM,MAAAA,KAC5Bzc,OAAOsV,OAAOnrB,IAAY,EAAEwU,KAAK,MAAA,CAAA,GAGb,wBAAlBmB,IAAuC;AACzC,cAAM7V,KAAOsB,KAAK4wB,MAAMO,sBAAAA;AACxBpoB,QAAAA,KAAAA,GAAStF,OAAM4nB,GAAIlrB,mBAAiBsD,GAAAA,EAAAA,OAAI4nB,GAAIlrB,mBAAiB,IAAA,EAAAsD,OAAK/E,EAAAA;MACpE;AAQA,aANA+V,OAAOoL,QAAQ7f,KAAK4wB,MAAMrxB,cAAAA,EAAgB0J,QAAQ0hB,CAAAA,OAAAA;AAAqB,YAAA,CAAlBlsB,IAAM+F,EAAAA,IAAOmmB;AAC5DprB,QAAAA,GAAe0K,SAASxL,EAAAA,MAC1BG,GAAWH,EAAAA,IAAQ+F;MACrB,CAAA,GAGK6D,GAAY,EAAEvJ,SAAAA,IAASiK,WAAAA,IAAWnK,YAAAA,GAAAA,CAAAA;IAC3C;IAIAqyB,+BAAAA;AACE,aAAO,QAAQpxB,KAAKG,KAAK4wB,MAAMthB,SAAAA,CAAAA;IACjC;EAAA;AC/Da,MAAM8hB,KAAN,cAA2B9T,IAAAA;IACxC,OAAA,OAAc5Y,IAAAA;AACZ,YAAM5E,KAAUuI,GAAY,KAAA,GACtBgW,KAAO,IAAIre,KAAK0E,IAAU,EAAE5E,SAAAA,GAAAA,CAAAA;AAGlC,aAFAue,GAAKgT,OAAAA,GACLhT,GAAKiT,KAAAA,GACExxB;IACT;IAEA6P,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAKF,UAAUE,KAAKuI,QAAQzI,SAC5BE,KAAKuxB,eAAe,IAAIxV,MACxB/b,KAAKwxB,YAAYxxB,KAAKuO,MAAAA;IACxB;IAEAijB,YAAY9sB,IAAAA;AACLA,MAAAA,GAAS4L,UAAUtQ,KAAK0E,QAAAA,MAC3B1E,KAAK0E,WAAW1E,KAAKuO,SAAS7J;IAElC;IAEA2sB,SAAAA;AAKE,UAJArxB,KAAKud,aAAa,CAAA,GAElBvd,KAAKyxB,gBAAgBppB,GAAY,KAAA,GAAA,CAE5BrI,KAAK0E,SAASkW,QAAAA,GAAW;AAC5B,cAAMT,KAAUa,GAAYC,aAAajb,KAAK0E,SAASgtB,UAAAA,GAAa,EAAEtW,QAAAA,KAAQ,CAAA;AAE9EzK,cAAMC,KAAKuJ,EAAAA,EAASlR,QAASsF,CAAAA,OAAAA;AAC3B,gBAAM8P,KAAOre,KAAKme,4BAA4BwS,IAAWpiB,EAAAA;AACzDoC,gBAAMC,KAAKyN,GAAKZ,SAAAA,CAAAA,EAAYpM,IAAK3K,CAAAA,OAAS1G,KAAKyxB,cAAcloB,YAAY7C,EAAAA,CAAAA;QAAM,CAAA;MAEnF;IACF;IAEAirB,WAAAA;AACE,aAAOC,GAAsB5xB,KAAKyxB,eAAezxB,KAAKF,OAAAA;IACxD;IAEAwxB,OAAAA;AACE,YAAMO,KAAW7xB,KAAK8xB,8BAAAA;AACtB,aAAO9xB,KAAKF,QAAQiyB,YAClB/xB,MAAKF,QAAQ0H,YAAYxH,KAAKF,QAAQiyB,SAAAA;AAGxC,aADA/xB,KAAKF,QAAQyJ,YAAYsoB,EAAAA,GAClB7xB,KAAKgyB,QAAAA;IACd;IAIAA,UAAAA;AAEE,aADAhyB,KAAKuxB,aAAapZ,MAAM8Z,GAAmBjyB,KAAKF,OAAAA,CAAAA,GACzCkW,GAAM,MAAMhW,KAAKwf,0BAAAA,CAAAA;IAC1B;IAEAsS,gCAAAA;AACE,YAAMD,KAAWntB,SAASwtB,uBAAAA;AAa1B,aAXAvhB,MAAMC,KAAK5Q,KAAKyxB,cAAcpoB,UAAAA,EAAYJ,QAASvC,CAAAA,OAAAA;AACjDmrB,QAAAA,GAAStoB,YAAY7C,GAAKkX,UAAAA,IAAU,CAAA;MAAM,CAAA,GAG5CjN,MAAMC,KAAKqhB,GAAmBJ,EAAAA,CAAAA,EAAW5oB,QAASnJ,CAAAA,OAAAA;AAChD,cAAMqyB,KAAgBnyB,KAAKuxB,aAAa/uB,OAAO1C,EAAAA;AAC3CqyB,QAAAA,MACFryB,GAAQC,WAAWqyB,aAAaD,IAAeryB,EAAAA;MACjD,CAAA,GAGK+xB;IACT;EAAA;AAGF,MAAMI,KAAsBnyB,CAAAA,OAAYA,GAAQ8qB,iBAAiB,uBAAA;AAAjE,MAEMgH,KAAwBA,CAAC9xB,IAASuyB,OACtCC,GAAaxyB,GAAQupB,SAAAA,MAAeiJ,GAAaD,GAAahJ,SAAAA;AAHhE,MAKMiJ,KAAgB7tB,CAAAA,OAASA,GAAKP,QAAQ,WAAW,GAAA;AAAA,WAAA,GAAA4e,IAAA;AAAA,QAAAC,IAAAnW;AAAA,aAAAC,GAAAkW,IAAAnW,IAAA;AAAA,UAAA;AAAA,YAAAqW,KAAAH,GAAAC,EAAA,EAAAnW,EAAA,GAAAsW,KAAAD,GAAA,OAAAnW,KAAAoW,cAAA;AAAA,gBAAA,QAAApW,KAAAoW,GAAA,IAAAA,EAAA,EAAA,KAAA,SAAAtW,IAAA;AAAA,cAAAE,IAAA;AAAA,gBAAAU,KAAA,aAAAuV,KAAA,WAAA;AAAA,gBAAA,CAAAG,GAAA,KAAAtW,GAAA,KAAA,QAAAC,GAAAW,IAAAZ,EAAA;AAAA,YAAAA,KAAAkW,GAAAtV,EAAA,EAAAZ,EAAA,EAAA;UAAA;AAAA,UAAAoW,GAAAC,GAAA,OAAA,WAAA,UAAArW,EAAA;QAAA,GAAA,SAAAkW,IAAA;AAAA,UAAAjW,GAAA,SAAAiW,EAAA;QAAA,CAAA;MAAA,SAAAA,IAAA;AAAA,QAAAE,GAAA,SAAAF,EAAA;MAAA;IAAA;AAAA,aAAAE,GAAAF,IAAAE,IAAA;AAAA,cAAAF,IAAA;QAAA,KAAA;AAAA,UAAAC,GAAA,QAAA,EAAA,OAAAC,IAAA,MAAA,KAAA,CAAA;AAAA;QAAA,KAAA;AAAA,UAAAD,GAAA,OAAAC,EAAA;AAAA;QAAA;AAAA,UAAAD,GAAA,QAAA,EAAA,OAAAC,IAAA,MAAA,MAAA,CAAA;MAAA;AAAA,OAAAD,KAAAA,GAAA,QAAAlW,GAAAkW,GAAA,KAAAA,GAAA,GAAA,IAAAnW,KAAA;IAAA;AAAA,SAAA,UAAA,SAAAkW,IAAAE,IAAA;AAAA,aAAA,IAAA,QAAA,SAAAC,IAAAC,IAAA;AAAA,YAAApW,KAAA,EAAA,KAAAgW,IAAA,KAAAE,IAAA,SAAAC,IAAA,QAAAC,IAAA,MAAA,KAAA;AAAA,QAAAtW,KAAAA,KAAAA,GAAA,OAAAE,MAAAiW,KAAAnW,KAAAE,IAAAD,GAAAiW,IAAAE,EAAA;MAAA,CAAA;IAAA,GAAA,cAAA,OAAAF,GAAA,WAAA,KAAA,SAAA;EAAA;AAAA,WAAA,GAAAA,IAAAC,IAAA;AAAA,SAAA,IAAAD,IAAA,KAAA,IAAAC;EAAA;AAAA,WAAA,GAAAD,IAAAC,IAAAnW,IAAA;AAAA,YAAAmW,KAAA,GAAAA,EAAA,MAAAD,KAAA,OAAA,eAAAA,IAAAC,IAAA,EAAA,OAAAnW,IAAA,YAAA,MAAA,cAAA,MAAA,UAAA,KAAA,CAAA,IAAAkW,GAAAC,EAAA,IAAAnW,IAAAkW;EAAA;AAAA,WAAA,GAAAA,IAAA;AAAA,QAAAC,KAAA,SAAAD,IAAAC,IAAA;AAAA,UAAA,YAAA,OAAAD,MAAA,SAAAA,GAAA,QAAAA;AAAA,UAAAlW,KAAAkW,GAAA,OAAA,WAAA;AAAA,UAAA,WAAAlW,IAAA;AAAA,YAAAC,KAAAD,GAAA,KAAAkW,IAAAC,MAAA,SAAA;AAAA,YAAA,YAAA,OAAAlW,GAAA,QAAAA;AAAA,cAAA,IAAA,UAAA,8CAAA;MAAA;AAAA,cAAA,aAAAkW,KAAA,SAAA,QAAAD,EAAA;IAAA,EAAAA,IAAA,QAAA;AAAA,WAAA,YAAA,OAAAC,KAAAA,KAAA,OAAAA,EAAA;EAAA;AAAA,KAAA,UAAA,cAAA,OAAA,UAAA,OAAA,iBAAA,iBAAA,IAAA,WAAA;AAAA,WAAA;EAAA,GAAA,GAAA,UAAA,OAAA,SAAAD,IAAA;AAAA,WAAA,KAAA,QAAA,QAAAA,EAAA;EAAA,GAAA,GAAA,UAAA,QAAA,SAAAA,IAAA;AAAA,WAAA,KAAA,QAAA,SAAAA,EAAA;EAAA,GAAA,GAAA,UAAA,SAAA,SAAAA,IAAA;AAAA,WAAA,KAAA,QAAA,UAAAA,EAAA;EAAA;AAAA,WAAA,GAAAA,IAAAC,IAAA;AAAA,WAAA,GAAAD,IAAA,GAAAA,IAAAC,IAAA,KAAA,CAAA;EAAA;AAAA,WAAA,GAAAD,IAAAC,IAAAnW,IAAA;AAAA,WAAA,GAAAkW,IAAA,GAAAA,IAAAC,IAAA,KAAA,GAAAnW,EAAA,GAAAA;EAAA;AAAA,WAAA,GAAAkW,IAAAC,IAAAnW,IAAA;AAAA,QAAA,CAAAmW,GAAA,IAAAD,EAAA,EAAA,OAAA,IAAA,UAAA,kBAAAlW,KAAA,gCAAA;AAAA,WAAAmW,GAAA,IAAAD,EAAA;EAAA;AAAA,WAAA,GAAAA,IAAAC,IAAA;AAAA,WAAAA,GAAA,MAAAA,GAAA,IAAA,KAAAD,EAAA,IAAAC,GAAA;EAAA;AAAA,WAAA,GAAAD,IAAAC,IAAAnW,IAAA;AAAA,QAAAmW,GAAA,IAAA,CAAAA,GAAA,IAAA,KAAAD,IAAAlW,EAAA;SAAA;AAAA,UAAA,CAAAmW,GAAA,SAAA,OAAA,IAAA,UAAA,0CAAA;AAAA,MAAAA,GAAA,QAAAnW;IAAA;EAAA;AAAA,WAAA,GAAAkW,IAAAC,IAAAnW,IAAA;AAAA,QAAA,CAAAmW,GAAA,IAAAD,EAAA,EAAA,OAAA,IAAA,UAAA,gDAAA;AAAA,WAAAlW;EAAA;AAAA,WAAA,GAAAkW,IAAAC,IAAA;AAAA,QAAAA,GAAA,IAAAD,EAAA,EAAA,OAAA,IAAA,UAAA,gEAAA;EAAA;AAAA,WAAA,GAAAA,IAAAC,IAAAnW,IAAA;AAAA,OAAAkW,IAAAC,EAAA,GAAAA,GAAA,IAAAD,IAAAlW,EAAA;EAAA;ACtFxC,MAAM2lB,KAAN,cAAoBxgB,GAAAA;IAGjC,OAAA,aAAoB/G,IAAM2E,IAAAA;AACxBA,MAAAA,GAAY3E,OAAOA,IACnBhL,KAAKwyB,MAAMxnB,EAAAA,IAAQ2E;IACrB;IAEA,OAAA,SAAgB8iB,IAAAA;AACd,YAAM9iB,KAAc3P,KAAKwyB,MAAMC,GAAUznB,IAAAA;AACzC,UAAI2E,GACF,QAAOA,GAAYsC,SAASwgB,EAAAA;IAEhC;IAEA9iB,YAAYnL,IAAAA;AAAwB,UAAjB5F,KAAUyG,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAC9BuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKpB,aAAaqb,GAAK7K,IAAIxQ,EAAAA;IAC7B;IAEA8zB,mBAAmB9zB,IAAAA;AACjB,aAAO,IAAIoB,KAAK2P,YAAY3P,KAAK2yB,SAAAA,GAAY/zB,EAAAA;IAC/C;IAEAg0B,6BAA6Bh0B,IAAAA;AAC3B,aAAOoB,KAAK0yB,mBAAmB1yB,KAAKpB,WAAW6b,MAAM7b,EAAAA,CAAAA;IACvD;IAEAi0B,qBAAqBC,IAAAA;AACnB,aAAO9yB,KAAK0yB,mBAAmB1yB,KAAKpB,WAAW4D,OAAOswB,EAAAA,CAAAA;IACxD;IAEAtY,OAAAA;AACE,aAAOxa,KAAK0yB,mBAAmB1yB,KAAKpB,UAAAA;IACtC;IAEAyN,aAAaymB,IAAAA;AACX,aAAO9yB,KAAKpB,WAAWiV,IAAIif,EAAAA;IAC7B;IAEAC,oBAAAA;AACE,aAAO/yB,KAAKpB;IACd;IAEAwwB,gBAAAA;AACE,aAAOpvB,KAAKpB,WAAWic,SAAAA;IACzB;IAEA2P,aAAasI,IAAAA;AACX,aAAO9yB,KAAKpB,WAAW8U,IAAIof,EAAAA;IAC7B;IAEAE,0BAA0BvH,IAAAA;AACxB,aAAOA,MAASzrB,KAAKsP,SAAAA,MAAemc,GAAMnc,SAAAA;IAC5C;IAEA2jB,yBAAyBxH,IAAAA;AACvB,aAAOA,OAAUzrB,KAAKpB,eAAe6sB,GAAM7sB,cAAcoB,KAAKpB,WAAW0R,UAAUmb,GAAM7sB,UAAAA;IAC3F;IAEAs0B,eAAAA;AACE,aAAA;IACF;IAEA5iB,UAAUmb,IAAAA;AACR,aACE7b,MAAMU,UAAAA,GAAajL,SAAAA,KACnBrF,KAAKmS,qBAAqBsZ,EAAAA,KACxBzrB,KAAKgzB,0BAA0BvH,EAAAA,KAC/BzrB,KAAKizB,yBAAyBxH,EAAAA;IAEpC;IAEA7Q,UAAAA;AACE,aAAuB,MAAhB5a,KAAKsF;IACd;IAEA6tB,iBAAAA;AACE,aAAA;IACF;IAEA5iB,SAAAA;AACE,aAAO,EACLvF,MAAMhL,KAAK2P,YAAY3E,MACvBpM,YAAYoB,KAAKovB,cAAAA,EAAAA;IAErB;IAEA7c,wBAAAA;AACE,aAAO,EACLvH,MAAMhL,KAAK2P,YAAY3E,MACvBpM,YAAYoB,KAAKpB,WAAWwT,QAAAA,EAAAA;IAEhC;IAIAqJ,eAAAA;AACE,aAAOzb,KAAKwqB,aAAa,MAAA;IAC3B;IAEA9O,iBAAiB+P,IAAAA;AACf,aAAOzrB,KAAKqM,aAAa,MAAA,MAAYof,GAAMpf,aAAa,MAAA;IAC1D;IAIA+mB,YAAAA;AACE,aAAOpzB,KAAKsF;IACd;IAEA+tB,sBAAsB5H,IAAAA;AACpB,aAAA;IACF;EAAA;AACD6H,KAlHoBf,IACJ,SAAA,CAAA,CAAA;ACFF,MAAMgB,KAAN,cAAoCpX,IAAAA;IACjDxM,YAAY/M,IAAAA;AACVgN,YAAAA,GAASvK,SAAAA,GACTrF,KAAK4C,MAAMA;IACb;IAEAoa,QAAQjS,IAAAA;AACN,YAAMsjB,KAAQ,IAAImF;AAElBnF,MAAAA,GAAMoF,SAAS,OACbpF,GAAMQ,QAAQ7uB,KAAK6uB,QAAQR,GAAMqF,cACjCrF,GAAMU,SAAS/uB,KAAK+uB,SAASV,GAAMsF,eAC5B5oB,GAAAA,MAAesjB,EAAAA,IAGxBA,GAAMuF,UAAU,MAAM7oB,GAAAA,KAAS,GAE/BsjB,GAAMC,MAAMtuB,KAAK4C;IACnB;EAAA;ACfa,MAAMixB,KAAN,MAAMA,YAAmB9hB,GAAAA;IAGtC,OAAA,kBAAyBpT,IAAAA;AACvB,YACMoO,KAAa,IAAI/M,KADJA,KAAK8zB,kBAAkBn1B,EAAAA,CAAAA;AAG1C,aADAoO,GAAWgnB,QAAQp1B,EAAAA,GACZoO;IACT;IAEA,OAAA,kBAAyBpO,IAAAA;AACvB,aAAO,IAAIsb,GAAK,EACd+Z,UAAUr1B,GAAKF,MACfw1B,UAAUt1B,GAAKD,MACfw1B,aAAav1B,GAAKqM,KAAAA,CAAAA;IAEtB;IAEA,OAAA,SAAgBmpB,IAAAA;AACd,aAAO,IAAIn0B,KAAKm0B,EAAAA;IAClB;IAEAxkB,cAAAA;AAA6B,UAAjB/Q,KAAUyG,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACvBuK,YAAMhR,EAAAA,GACNoB,KAAKo0B,cAAcp0B,KAAKo0B,YAAY5c,KAAKxX,IAAAA,GACzCA,KAAKpB,aAAaqb,GAAK7K,IAAIxQ,EAAAA,GAC3BoB,KAAKq0B,oBAAAA;IACP;IAEAhoB,aAAaymB,IAAAA;AACX,aAAO9yB,KAAKpB,WAAWiV,IAAIif,EAAAA;IAC7B;IAEAtI,aAAasI,IAAAA;AACX,aAAO9yB,KAAKpB,WAAW8U,IAAIof,EAAAA;IAC7B;IAEA1D,gBAAAA;AACE,aAAOpvB,KAAKpB,WAAWic,SAAAA;IACzB;IAEAyZ,gBAAAA;AAA+B,UAAjB11B,KAAUyG,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACzB,YAAMkvB,KAAgBv0B,KAAKpB,WAAW6b,MAAM7b,EAAAA;AACG,UAAA41B,IAAAC,IAAAC,IAAAC;AAA/C,UAAA,CAAK30B,KAAKpB,WAAW0R,UAAUikB,EAAAA,EAI7B,QAHAv0B,KAAKpB,aAAa21B,IAClBv0B,KAAKq0B,oBAAAA,GAAAA,UACLG,KAAAA,KAAKpG,oBAAAA,WAAeoG,MAA+BC,UAA/BA,KAApBD,GAAsBtF,kCAAAA,WAA6BuF,MAAnDA,GAAA1uB,KAAAyuB,IAAsDx0B,IAAAA,GAClC00B,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAA+B,UAA/BC,KAAbD,GAAexF,kCAAAA,WAA6ByF,KAAAA,SAA5CA,GAAA5uB,KAAA2uB,IAA+C10B,IAAAA;IAE1D;IAEAq0B,sBAAAA;AACE,UAAIr0B,KAAK2vB,cAAAA,EACP,QAAO3vB,KAAK60B,WAAAA;IAEhB;IAEAzI,YAAAA;AACE,aAAoB,QAAbpsB,KAAKrB,QAAAA,EAAkBqB,KAAKyuB,OAAAA,KAAYzuB,KAAK8rB,QAAAA;IACtD;IAEA6D,gBAAAA;AACE,aAAI3vB,KAAKpB,WAAW8U,IAAI,aAAA,IACf1T,KAAKpB,WAAWiV,IAAI,aAAA,IAEpBggB,IAAWiB,mBAAmBj1B,KAAKG,KAAKytB,eAAAA,CAAAA;IAEnD;IAEAL,UAAAA;AACE,aAAIptB,KAAKgsB,WAAAA,IACA,YACEhsB,KAAK2vB,cAAAA,IACP,YAEA;IAEX;IAEAlB,SAAAA;AACE,aAAOzuB,KAAKpB,WAAWiV,IAAI,KAAA;IAC7B;IAEAiY,UAAAA;AACE,aAAO9rB,KAAKpB,WAAWiV,IAAI,MAAA;IAC7B;IAEAiZ,cAAAA;AACE,aAAO9sB,KAAKpB,WAAWiV,IAAI,UAAA,KAAe;IAC5C;IAEAkhB,cAAAA;AACE,aAAO/0B,KAAKpB,WAAWiV,IAAI,UAAA;IAC7B;IAEAkZ,uBAAAA;AACE,YAAMkH,KAAWj0B,KAAKpB,WAAWiV,IAAI,UAAA;AACrC,aAAwB,YAAA,OAAbogB,KACFzf,GAAgBhR,UAAUywB,EAAAA,IAE1B;IAEX;IAEA3G,eAAAA;AAAe,UAAA0H;AACb,aACoBA,UADpBA,KAAOh1B,KAAK8sB,YAAAA,EACTpsB,MAAM,UAAA,MAAA,WAAWs0B,KAAAA,SADbA,GACgB,CAAA,EACpB10B,YAAAA;IACL;IAEAmtB,iBAAAA;AACE,aAAOztB,KAAKpB,WAAWiV,IAAI,aAAA;IAC7B;IAEAmY,aAAAA;AACE,aAAOhsB,KAAKpB,WAAW8U,IAAI,SAAA;IAC7B;IAEAwY,aAAAA;AACE,aAAOlsB,KAAKpB,WAAWiV,IAAI,SAAA;IAC7B;IAEAib,WAAAA;AACE,aAAO9uB,KAAKpB,WAAWiV,IAAI,OAAA;IAC7B;IAEAmb,YAAAA;AACE,aAAOhvB,KAAKpB,WAAWiV,IAAI,QAAA;IAC7B;IAEAohB,UAAAA;AACE,aAAOj1B,KAAKrB;IACd;IAEAo1B,QAAQp1B,IAAAA;AAEN,UADAqB,KAAKrB,OAAOA,IACRqB,KAAK2vB,cAAAA,EACP,QAAO3vB,KAAKk1B,YAAAA;IAEhB;IAEAd,cAAAA;AACEp0B,WAAKm1B,qBAAAA,GACLn1B,KAAKrB,OAAO;IACd;IAEA4tB,oBAAAA;AACE,aAA8B,QAAvBvsB,KAAKo1B,iBAAyBp1B,KAAKo1B,iBAAiB;IAC7D;IAEAC,kBAAkB7wB,IAAAA;AACmB,UAAA8wB,IAAAC;AAAnC,UAAIv1B,KAAKo1B,mBAAmB5wB,GAE1B,QADAxE,KAAKo1B,iBAAiB5wB,IACY8wB,UAAlCA,KAAOt1B,KAAKurB,2BAAAA,WAAsB+J,MAAmC,UAAnCC,KAA3BD,GAA6BrH,sCAAAA,WAAiCsH,KAAAA,SAA9DA,GAAAxvB,KAAAuvB,IAAiEt1B,IAAAA;IAE5E;IAEAuQ,SAAAA;AACE,aAAOvQ,KAAKovB,cAAAA;IACd;IAEA5e,cAAAA;AACE,aAAO,CAAEZ,MAAMY,YAAAA,GAAenL,SAAAA,GAAYrF,KAAKpB,WAAW4R,YAAAA,GAAexQ,KAAK2uB,cAAAA,CAAAA,EAAkB7c,KAAK,GAAA;IACvG;IAIA6c,gBAAAA;AACE,aAAO3uB,KAAK0uB,cAAc1uB,KAAKw1B;IACjC;IAEAC,cAAc7yB,IAAAA;AACsB,UAAA8yB,IAAAC,IAAAC,IAAAC;AAAlC,UAAIjzB,OAAQ5C,KAAK2uB,cAAAA,EAGf,QAFA3uB,KAAK0uB,aAAa9rB,IAAAA,UAClB8yB,KAAAA,KAAKtH,oBAAAA,WAAesH,MAA+BC,UAA/BA,KAApBD,GAAsBxG,kCAAAA,WAA6ByG,MAAnDA,GAAA5vB,KAAA2vB,IAAsD11B,IAAAA,GAClC41B,UAApBA,KAAO51B,KAAK40B,aAAAA,WAAQgB,MAA+B,UAA/BC,KAAbD,GAAeE,kCAAAA,WAA6BD,KAAAA,SAA5CA,GAAA9vB,KAAA6vB,IAA+C51B,IAAAA;IAE1D;IAEA60B,aAAAA;AACE,aAAO70B,KAAK+1B,QAAQ/1B,KAAKyuB,OAAAA,GAAUzuB,KAAKo0B,WAAAA;IAC1C;IAEAc,cAAAA;AACE,UAAIl1B,KAAKrB,KAEP,QADAqB,KAAKg2B,gBAAgBC,IAAIC,gBAAgBl2B,KAAKrB,IAAAA,GACvCqB,KAAK+1B,QAAQ/1B,KAAKg2B,aAAAA;IAE7B;IAEAb,uBAAAA;AACMn1B,WAAKg2B,kBACPC,IAAIE,gBAAgBn2B,KAAKg2B,aAAAA,GACzBh2B,KAAKg2B,gBAAgB;IAEzB;IAEAD,QAAQnzB,IAAKmI,IAAAA;AACX,UAAInI,MAAOA,OAAQ5C,KAAK2uB,cAAAA,GAAiB;AACvC3uB,aAAKw1B,gBAAgB5yB;AAErB,eADkB,IAAI2wB,GAAsB3wB,EAAAA,EAEzCwzB,KAAKzL,CAAAA,OAAAA;AAAuB,cAAA,EAAtBkE,OAAEA,IAAKE,QAAEA,GAAAA,IAAQpE;AAMtB,iBALK3qB,KAAK8uB,SAAAA,KAAe9uB,KAAKgvB,UAAAA,KAC5BhvB,KAAKs0B,cAAc,EAAEzF,OAAAA,IAAOE,QAAAA,GAAAA,CAAAA,GAE9B/uB,KAAKw1B,gBAAgB,MACrBx1B,KAAKy1B,cAAc7yB,EAAAA,GACZmI,QAAAA,KAAAA,SAAAA,GAAAA;QAAY,CAAA,EAEpBsrB,MAAM,OACLr2B,KAAKw1B,gBAAgB,MACdzqB,QAAAA,KAAAA,SAAAA,GAAAA,EAAAA;MAEb;IACF;EAAA;AACDuoB,KAxNoBO,IAAU,sBACD,kCAAA;ACDf,MAAMyC,KAAN,MAAMA,YAAwB/D,GAAAA;IAG3C,OAAA,SAAgBE,IAAAA;AACd,aAAO,IAAIzyB,KAAK6zB,GAAW5hB,SAASwgB,GAAU1lB,UAAAA,GAAa0lB,GAAU7zB,UAAAA;IACvE;IAEA+Q,YAAY5C,IAAAA;AACV6C,YAAAA,GAASvK,SAAAA,GACTrF,KAAK+M,aAAaA,IAClB/M,KAAKsF,SAAS,GACdtF,KAAKu2B,wCAAwC,MAAA,GACxCv2B,KAAK+M,WAAWif,WAAAA,KACnBhsB,KAAKw2B,2BAAAA;IAET;IAEAD,wCAAwCzD,IAAAA;AAClC9yB,WAAKwqB,aAAasI,EAAAA,MACf9yB,KAAK+M,WAAWyd,aAAasI,EAAAA,KAChC9yB,KAAK+M,WAAWunB,cAAct0B,KAAKpB,WAAWoR,MAAM,CAAE8iB,EAAAA,CAAAA,CAAAA,GAExD9yB,KAAKpB,aAAaoB,KAAKpB,WAAW4D,OAAOswB,EAAAA;IAE7C;IAEA0D,6BAAAA;AACE,YAAM53B,KAAaoB,KAAKpB,WAAWoR,MAAMsmB,IAAgBG,mBAAAA;AACpD73B,MAAAA,GAAW0R,UAAUtQ,KAAKpB,UAAAA,MAC7BoB,KAAKpB,aAAaA;IAEtB;IAEA+zB,WAAAA;AACE,aAAO3yB,KAAK+M;IACd;IAEAomB,iBAAAA;AACE,aAAA,CAAQnzB,KAAK+M,WAAWqf,UAAAA;IAC1B;IAEAO,aAAAA;AACE,aAAO3sB,KAAKpB,WAAWiV,IAAI,SAAA,KAAc;IAC3C;IAEAvD,UAAUmb,IAAAA;AAAO,UAAAiL;AACf,aAAO9mB,MAAMU,UAAUmb,EAAAA,KAAUzrB,KAAK+M,WAAW5B,QAAOsgB,QAAAA,MAAiB,UAAZiL,KAALjL,GAAO1e,eAAAA,WAAU2pB,KAAAA,SAAjBA,GAAmBvrB;IAC7E;IAEAmE,WAAAA;AACE,axCrDwC;IwCsD1C;IAEAiB,SAAAA;AACE,YAAMomB,KAAO/mB,MAAMW,OAAAA,GAAUlL,SAAAA;AAE7B,aADAsxB,GAAK5pB,aAAa/M,KAAK+M,YAChB4pB;IACT;IAEAnmB,cAAAA;AACE,aAAO,CAAEZ,MAAMY,YAAAA,GAAenL,SAAAA,GAAYrF,KAAK+M,WAAWyD,YAAAA,CAAAA,EAAgBsB,KAAK,GAAA;IACjF;IAEA8kB,YAAAA;AACE,aAAO1kB,KAAKO,UAAUzS,KAAKsP,SAAAA,CAAAA;IAC7B;EAAA;AACDgkB,KAlEoBgD,IAAe,uBACL,CAAE,WAAW,cAAA,CAAA,GAmE5C/D,GAAMsE,aAAa,cAAcP,EAAAA;ACrElB,MAAMQ,KAAN,cAA0BvE,GAAAA;IACvC,OAAA,SAAgBE,IAAAA;AACd,aAAO,IAAIzyB,KAAKyyB,GAAUrhB,QAAQqhB,GAAU7zB,UAAAA;IAC9C;IAEA+Q,YAAYyB,IAAAA;AACVxB,YAAAA,GAASvK,SAAAA,GACTrF,KAAKoR,UnBDyBA,CAAAA,OAAWA,GAAOlN,QAAQ,UAAU,IAAA,GmBClCkN,EAAAA,GAChCpR,KAAKsF,SAAStF,KAAKoR,OAAO9L;IAC5B;IAEAqtB,WAAAA;AACE,aAAO3yB,KAAKoR;IACd;IAEA9B,WAAAA;AACE,aAAOtP,KAAKoR,OAAO9B,SAAAA;IACrB;IAEA4jB,eAAAA;AACE,aAA2B,SAApBlzB,KAAKsP,SAAAA,KAAAA,SAAuBtP,KAAKqM,aAAa,YAAA;IACvD;IAEAkE,SAAAA;AACE,YAAMqB,KAAShC,MAAMW,OAAAA,GAAUlL,SAAAA;AAE/B,aADAuM,GAAOR,SAASpR,KAAKoR,QACdQ;IACT;IAIAyhB,sBAAsB5H,IAAAA;AACpB,aAAOA,MAASzrB,KAAKmS,qBAAqBsZ,EAAAA,KAAUzrB,KAAKizB,yBAAyBxH,EAAAA;IACpF;IAEAsL,gBAAgBtL,IAAAA;AACd,aAAO,IAAIzrB,KAAK2P,YAAY3P,KAAKsP,SAAAA,IAAamc,GAAMnc,SAAAA,GAAYtP,KAAKpB,UAAAA;IACvE;IAEAo4B,cAAcjnB,IAAAA;AACZ,UAAIqH,IAAMC;AAWV,aAVe,MAAXtH,MACFqH,KAAO,MACPC,KAAQrX,QACC+P,OAAW/P,KAAKsF,UACzB8R,KAAOpX,MACPqX,KAAQ,SAERD,KAAO,IAAIpX,KAAK2P,YAAY3P,KAAKoR,OAAOpB,MAAM,GAAGD,EAAAA,GAAS/P,KAAKpB,UAAAA,GAC/DyY,KAAQ,IAAIrX,KAAK2P,YAAY3P,KAAKoR,OAAOpB,MAAMD,EAAAA,GAAS/P,KAAKpB,UAAAA,IAExD,CAAEwY,IAAMC,EAAAA;IACjB;IAEAuf,YAAAA;AACE,UAAA,EAAIxlB,QAAEA,GAAAA,IAAWpR;AAIjB,aAHIoR,GAAO9L,SAAS,OAClB8L,KAASA,GAAOpB,MAAM,GAAG,EAAA,IAAM,WAE1BkC,KAAKO,UAAUrB,GAAO9B,SAAAA,CAAAA;IAC/B;EAAA;AAGFijB,KAAMsE,aAAa,UAAUC,EAAAA;AC5Dd,MAAMG,KAAN,cAA6BllB,GAAAA;IAC1C,OAAA,IAAWoI,IAAAA;AACT,aAAIA,cAAmBna,OACdma,KAEA,IAAIna,KAAKma,EAAAA;IAEpB;IAEAxK,cAAAA;AAA0B,UAAdwK,KAAO9U,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACpBuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKma,UAAUA,GAAQnK,MAAM,CAAA,GAC7BhQ,KAAKsF,SAAStF,KAAKma,QAAQ7U;IAC7B;IAEAic,QAAQhT,IAAAA;AACN,aAAOvO,KAAKma,QAAQoH,QAAQhT,EAAAA;IAC9B;IAEA0E,SAAAA;AAAgB,eAAAF,KAAA1N,UAAAC,QAANuJ,KAAI8B,IAAAA,MAAAoC,EAAAA,GAAAC,KAAA,GAAAA,KAAAD,IAAAC,KAAJnE,CAAAA,GAAImE,EAAAA,IAAA3N,UAAA2N,EAAAA;AACZ,aAAO,IAAIhT,KAAK2P,YAAYmD,GAAY9S,KAAKma,SAAAA,GAAYtL,EAAAA,CAAAA;IAC3D;IAEAqoB,WAAWnsB,IAAAA;AACT,aAAO/K,KAAKma,QAAQ9I,IAAI,CAAC9C,IAAQsE,OAAU9H,GAASwD,IAAQsE,EAAAA,CAAAA;IAC9D;IAEAskB,oBAAoB5oB,IAAQsE,IAAAA;AAC1B,aAAO7S,KAAKiT,OAAOJ,IAAO,GAAGtE,EAAAA;IAC/B;IAEA6oB,4BAA4BC,IAAgBxkB,IAAAA;AAC1C,aAAO7S,KAAKiT,OAAOJ,IAAO,GAAA,GAAMwkB,GAAeld,OAAAA;IACjD;IAEAmd,+BAA+BD,IAAgBE,IAAAA;AAC7C,YAAA,CAAQpd,IAAStH,EAAAA,IAAU7S,KAAKw3B,sBAAsBD,EAAAA;AACtD,aAAO,IAAIv3B,KAAK2P,YAAYwK,EAAAA,EAASid,4BAA4BC,IAAgBxkB,EAAAA;IACnF;IAEA4kB,kBAAkB5kB,IAAO9H,IAAAA;AACvB,aAAO/K,KAAK03B,qBAAqB3sB,GAAS/K,KAAKma,QAAQtH,EAAAA,CAAAA,GAASA,EAAAA;IAClE;IAEA6kB,qBAAqBnpB,IAAQsE,IAAAA;AAC3B,aAAO7S,KAAKiT,OAAOJ,IAAO,GAAGtE,EAAAA;IAC/B;IAEAopB,oBAAoB9kB,IAAAA;AAClB,aAAO7S,KAAKiT,OAAOJ,IAAO,CAAA;IAC5B;IAEA+kB,iBAAiB/kB,IAAAA;AACf,aAAO7S,KAAKma,QAAQtH,EAAAA;IACtB;IAEAglB,yBAAyBvhB,IAAAA;AACvB,YAAA,CAAQ6D,IAASL,IAAWge,EAAAA,IAAe93B,KAAK+3B,oBAAoBzhB,EAAAA;AACpE,aAAO,IAAItW,KAAK2P,YAAYwK,GAAQnK,MAAM8J,IAAWge,KAAa,CAAA,CAAA;IACpE;IAEAE,qBAAqBn4B,IAAAA;AACnB,YAAMsa,KAAUna,KAAKma,QAAQpC,OAAQxJ,CAAAA,OAAW1O,GAAK0O,EAAAA,CAAAA;AACrD,aAAO,IAAIvO,KAAK2P,YAAYwK,EAAAA;IAC9B;IAEA8d,qBAAqB3hB,IAAAA;AACnB,YAAA,CAAQ6D,IAASL,IAAWge,EAAAA,IAAe93B,KAAK+3B,oBAAoBzhB,EAAAA;AACpE,aAAO,IAAItW,KAAK2P,YAAYwK,EAAAA,EAASlH,OAAO6G,IAAWge,KAAahe,KAAY,CAAA;IAClF;IAEAoe,wBAAwB5hB,IAAO6hB,IAAAA;AAC7B,YAAA,CAAQhe,IAASL,IAAWge,EAAAA,IAAe93B,KAAK+3B,oBAAoBzhB,EAAAA,GAC9D8hB,KAAqBje,GAAQ9I,IAAI,CAAC9C,IAAQsE,OAC9CiH,MAAajH,MAASA,MAASilB,KAAaK,GAAU5pB,EAAAA,IAAUA,EAAAA;AAElE,aAAO,IAAIvO,KAAK2P,YAAYyoB,EAAAA;IAC9B;IAEAL,oBAAoBzhB,IAAAA;AAClB,UAAI+hB,IAAAA,CACEle,IAASme,IAAgBvoB,EAAAA,IAAW/P,KAAKw3B,sBAAsBe,GAAajiB,EAAAA,CAAAA;AAGlF,aAAA,CAFG6D,IAASke,EAAAA,IAAoB,IAAIr4B,KAAK2P,YAAYwK,EAAAA,EAASqd,sBAAsBgB,GAAWliB,EAAAA,IAASvG,EAAAA,GAEjG,CAAEoK,IAASme,IAAgBD,KAAkB,CAAA;IACtD;IAEAI,oBAAoBlB,IAAAA;AAClB,YAAA,EAAM1kB,OAAEA,GAAAA,IAAU7S,KAAK04B,6BAA6BnB,EAAAA;AACpD,aAAOv3B,KAAKma,QAAQtH,EAAAA;IACtB;IAEA2kB,sBAAsBD,IAAAA;AACpB,UAAIoB,IAAYC;AAChB,YAAA,EAAM/lB,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAK04B,6BAA6BnB,EAAAA,GACtDpd,KAAUna,KAAKma,QAAQnK,MAAM,CAAA;AACnC,UAAa,QAAT6C,GACF,KAAe,MAAX9C,GACF4oB,CAAAA,KAAa9lB,IACb+lB,KAAc;WACT;AACL,cAAMrqB,KAASvO,KAAK43B,iBAAiB/kB,EAAAA,GAAAA,CAC7BgmB,IAAYC,EAAAA,IAAgBvqB,GAAOyoB,cAAcjnB,EAAAA;AACzDoK,QAAAA,GAAQlH,OAAOJ,IAAO,GAAGgmB,IAAYC,EAAAA,GACrCH,KAAa9lB,KAAQ,GACrB+lB,KAAcC,GAAWzF,UAAAA,IAAcrjB;MACzC;UAEA4oB,CAAAA,KAAaxe,GAAQ7U,QACrBszB,KAAc;AAGhB,aAAO,CAAEze,IAASwe,IAAYC,EAAAA;IAChC;IAEAG,cAAAA;AACE,YAAM5e,KAAU,CAAA;AAChB,UAAI6e,KAAgBh5B,KAAKma,QAAQ,CAAA;AAejC,aAbAna,KAAKma,QAAQnK,MAAM,CAAA,EAAG/G,QAASsF,CAAAA,OAAAA;AAAW,YAAA0qB,IAAAC;AACD,kBAAvCD,MAAIC,KAAAF,IAAc3F,0BAAAA,WAAqB4F,MAAnCA,GAAAlzB,KAAAmzB,IAAsC3qB,EAAAA,IACxCyqB,KAAgBA,GAAcjC,gBAAgBxoB,EAAAA,KAE9C4L,GAAQxQ,KAAKqvB,EAAAA,GACbA,KAAgBzqB;MAClB,CAAA,GAGEyqB,MACF7e,GAAQxQ,KAAKqvB,EAAAA,GAGR,IAAIh5B,KAAK2P,YAAYwK,EAAAA;IAC9B;IAEAgf,4BAA4BC,IAAYC,IAAAA;AACtC,YACMC,KADUt5B,KAAKma,QAAQnK,MAAM,CAAA,EACJA,MAAMopB,IAAYC,KAAW,CAAA,GACtDE,KAAsB,IAAIv5B,KAAK2P,YAAY2pB,EAAAA,EAAgBP,YAAAA,EAAcpe,QAAAA;AAC/E,aAAO3a,KAAKiT,OAAOmmB,IAAYE,GAAeh0B,QAAAA,GAAWi0B,EAAAA;IAC3D;IAEAb,6BAA6BnB,IAAAA;AAC3B,UAAI1kB,IACA2mB,KAAkB;AACtB,WAAK3mB,KAAQ,GAAGA,KAAQ7S,KAAKma,QAAQ7U,QAAQuN,MAAS;AACpD,cACM4mB,KAAeD,KADNx5B,KAAKma,QAAQtH,EAAAA,EACkBugB,UAAAA;AAC9C,YAAIoG,MAAmBjC,MAAYA,KAAWkC,GAC5C,QAAO,EAAE5mB,OAAAA,IAAO9C,QAAQwnB,KAAWiC,GAAAA;AAErCA,QAAAA,KAAkBC;MACpB;AACA,aAAO,EAAE5mB,OAAO,MAAM9C,QAAQ,KAAA;IAChC;IAEA2pB,6BAA6B7mB,IAAO9C,IAAAA;AAClC,UAAIwnB,KAAW;AACf,eAASoC,KAAe,GAAGA,KAAe35B,KAAKma,QAAQ7U,QAAQq0B,MAAgB;AAC7E,cAAMprB,KAASvO,KAAKma,QAAQwf,EAAAA;AAC5B,YAAIA,KAAe9mB,GACjB0kB,CAAAA,MAAYhpB,GAAO6kB,UAAAA;iBACVuG,OAAiB9mB,IAAO;AACjC0kB,UAAAA,MAAYxnB;AACZ;QACF;MACF;AACA,aAAOwnB;IACT;IAEAqC,iBAAAA;AAME,aALwB,QAApB55B,KAAK65B,gBACP75B,KAAK65B,cAAc,GACnB75B,KAAKma,QAAQlR,QAASsF,CAAAA,OAAWvO,KAAK65B,eAAetrB,GAAO6kB,UAAAA,CAAAA,IAGvDpzB,KAAK65B;IACd;IAEAvqB,WAAAA;AACE,aAAOtP,KAAKma,QAAQrI,KAAK,EAAA;IAC3B;IAEA6I,UAAAA;AACE,aAAO3a,KAAKma,QAAQnK,MAAM,CAAA;IAC5B;IAEAO,SAAAA;AACE,aAAOvQ,KAAK2a,QAAAA;IACd;IAEArK,UAAU+mB,IAAAA;AACR,aAAOznB,MAAMU,UAAAA,GAAajL,SAAAA,KAAcy0B,GAAqB95B,KAAKma,SAASkd,QAAAA,KAAAA,SAAAA,GAAgBld,OAAAA;IAC7F;IAEA5H,wBAAAA;AACE,aAAO,EACL4H,SAAO,IAAA1W,OAAMzD,KAAKma,QAAQ9I,IAAK9C,CAAAA,OAAWA,GAAO6D,QAAAA,CAAAA,EAAWN,KAAK,IAAA,GAAK,GAAA,EAAA;IAE1E;EAAA;AAGF,MAAMgoB,KAAuB,SAAS1iB,IAAAA;AAAkB,QAAZC,KAAKhS,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAClD,QAAI+R,GAAK9R,WAAW+R,GAAM/R,OACxB,QAAA;AAEF,QAAIsM,KAAAA;AACJ,aAASiB,KAAQ,GAAGA,KAAQuE,GAAK9R,QAAQuN,MAAS;AAChD,YAAMtE,KAAS6I,GAAKvE,EAAAA;AAChBjB,MAAAA,MAAAA,CAAWrD,GAAO+B,UAAU+G,GAAMxE,EAAAA,CAAAA,MACpCjB,KAAAA;IAEJ;AACA,WAAOA;EACT;AAZA,MAcM2mB,KAAgBjiB,CAAAA,OAAUA,GAAM,CAAA;AAdtC,MAgBMkiB,KAAcliB,CAAAA,OAAUA,GAAM,CAAA;ACtNrB,MAAMyjB,KAAN,cAAmBhoB,GAAAA;IAChC,OAAA,gCAAuChF,IAAYnO,IAAAA;AAEjD,aAAO,IAAIoB,KAAK,CADF,IAAIs2B,GAAgBvpB,IAAYnO,EAAAA,CAAAA,CAAAA;IAEhD;IAEA,OAAA,4BAAmCwS,IAAQxS,IAAAA;AAEzC,aAAO,IAAIoB,KAAK,CADF,IAAI82B,GAAY1lB,IAAQxS,EAAAA,CAAAA,CAAAA;IAExC;IAEA,OAAA,SAAgBo7B,IAAAA;AAEd,aAAO,IAAIh6B,KADI2Q,MAAMC,KAAKopB,EAAAA,EAAU3oB,IAAKohB,CAAAA,OAAcF,GAAMtgB,SAASwgB,EAAAA,CAAAA,CAAAA;IAExE;IAEA9iB,cAAAA;AAAyB,UAAb4gB,KAAMlrB,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACnBuK,YAAAA,GAASvK,SAAAA;AACT,YAAM40B,KAAW1J,GAAOxY,OAAQ0T,CAAAA,OAAAA,CAAWA,GAAM7Q,QAAAA,CAAAA;AACjD5a,WAAKk6B,YAAY,IAAIjD,GAAegD,EAAAA;IACtC;IAEAzf,OAAAA;AACE,aAAOxa,KAAKm6B,kBAAkBn6B,KAAKk6B,SAAAA;IACrC;IAEAC,kBAAkBD,IAAAA;AAChB,aAAO,IAAIl6B,KAAK2P,YAAYuqB,GAAUnB,YAAAA,EAAcpe,QAAAA,CAAAA;IACtD;IAEAyf,mBAAmBC,IAAAA;AACjB,YAAM9J,KAASvwB,KAAKwwB,UAAAA,EAAYnf,IAAKoa,CAAAA,OAAU4O,GAAUve,KAAK2P,EAAAA,KAAUA,EAAAA;AACxE,aAAO,IAAIzrB,KAAK2P,YAAY4gB,EAAAA;IAC9B;IAEA+J,WAAW96B,IAAAA;AACT,aAAOQ,KAAKu6B,qBAAqB/6B,IAAMQ,KAAKozB,UAAAA,CAAAA;IAC9C;IAEAmH,qBAAqB/6B,IAAM+3B,IAAAA;AACzB,aAAOv3B,KAAKm6B,kBAAkBn6B,KAAKk6B,UAAU5C,+BAA+B93B,GAAK06B,WAAW3C,EAAAA,CAAAA;IAC9F;IAEAiD,kBAAkBlkB,IAAAA;AAChB,aAAOtW,KAAKm6B,kBAAkBn6B,KAAKk6B,UAAUjC,qBAAqB3hB,EAAAA,CAAAA;IACpE;IAEAmkB,mBAAmBj7B,IAAM8W,IAAAA;AACvB,aAAOtW,KAAKw6B,kBAAkBlkB,EAAAA,EAAOikB,qBAAqB/6B,IAAM8W,GAAM,CAAA,CAAA;IACxE;IAEAokB,4BAA4BpkB,IAAOihB,IAAAA;AACjC,UAAIjhB,GAAM,CAAA,KAAMihB,MAAYA,MAAYjhB,GAAM,CAAA,EAAI;AAClD,YAAM9W,KAAOQ,KAAK26B,eAAerkB,EAAAA,GAC3BhR,KAAS9F,GAAK4zB,UAAAA;AAIpB,aAHI9c,GAAM,CAAA,IAAKihB,OACbA,MAAYjyB,KAEPtF,KAAKw6B,kBAAkBlkB,EAAAA,EAAOikB,qBAAqB/6B,IAAM+3B,EAAAA;IAClE;IAEAqD,oBAAoB9H,IAAWtuB,IAAO8R,IAAAA;AACpC,YAAM1X,KAAa,CAAA;AAEnB,aADAA,GAAWk0B,EAAAA,IAAatuB,IACjBxE,KAAK66B,qBAAqBj8B,IAAY0X,EAAAA;IAC/C;IAEAukB,qBAAqBj8B,IAAY0X,IAAAA;AAC/B,aAAOtW,KAAKm6B,kBACVn6B,KAAKk6B,UAAUhC,wBAAwB5hB,IAAQmV,CAAAA,OAAUA,GAAMmH,6BAA6Bh0B,EAAAA,CAAAA,CAAAA;IAEhG;IAEAk8B,uBAAuBhI,IAAWxc,IAAAA;AAChC,aAAOtW,KAAKm6B,kBACVn6B,KAAKk6B,UAAUhC,wBAAwB5hB,IAAQmV,CAAAA,OAAUA,GAAMoH,qBAAqBC,EAAAA,CAAAA,CAAAA;IAExF;IAEAiI,qBAAqBn8B,IAAY0X,IAAAA;AAC/B,aAAOtW,KAAKm6B,kBACVn6B,KAAKk6B,UAAUhC,wBAAwB5hB,IAAQmV,CAAAA,OAAUA,GAAMiH,mBAAmB9zB,EAAAA,CAAAA,CAAAA;IAEtF;IAEAo8B,wBAAwBzD,IAAAA;AAAU,UAAA0D;AAChC,cAAA,UAAOA,KAAIj7B,KAACk6B,UAAUzB,oBAAoBlB,EAAAA,MAAAA,WAAS0D,KAAAA,SAA5CA,GAA8C7L,cAAAA,MAAmB,CAAA;IAC1E;IAEA8L,sBAAAA;AACE,YAAM/gB,KAAUxJ,MAAMC,KAAK5Q,KAAKk6B,UAAUvf,QAAAA,CAAAA,EAAWtJ,IAAKoa,CAAAA,OAAUA,GAAM2D,cAAAA,CAAAA;AAC1E,aAAOnV,GAAKC,8BAA8BC,EAAAA,EAASU,SAAAA;IACrD;IAEAsgB,2BAA2B7kB,IAAAA;AACzB,aAAOtW,KAAK26B,eAAerkB,EAAAA,EAAO4kB,oBAAAA,KAAyB,CAAA;IAC7D;IAEAE,qCAAqC7mB,IAAexE,IAAAA;AAClD,UAAIsH,IACAD,KAAOC,KAAQtH;AACnB,YAAMzK,KAAStF,KAAKozB,UAAAA;AAEpB,aAAOhc,KAAO,KAAKpX,KAAKm7B,2BAA2B,CAAE/jB,KAAO,GAAGC,EAAAA,CAAAA,EAAS9C,EAAAA,IACtE6C,CAAAA;AAEF,aAAOC,KAAQ/R,MAAUtF,KAAKm7B,2BAA2B,CAAEprB,IAAQsH,KAAQ,CAAA,CAAA,EAAK9C,EAAAA,IAC9E8C,CAAAA;AAGF,aAAO,CAAED,IAAMC,EAAAA;IACjB;IAEAsjB,eAAerkB,IAAAA;AACb,aAAOtW,KAAKm6B,kBAAkBn6B,KAAKk6B,UAAUrC,yBAAyBvhB,EAAAA,CAAAA;IACxE;IAEA+kB,iBAAiB/kB,IAAAA;AACf,aAAOtW,KAAKk6B,UAAUrC,yBAAyBvhB,EAAAA,EAAOhH,SAAAA;IACxD;IAEAgsB,oBAAoB/D,IAAAA;AAClB,aAAOv3B,KAAKq7B,iBAAiB,CAAE9D,IAAUA,KAAW,CAAA,CAAA;IACtD;IAEAgE,iBAAiBnqB,IAAAA;AACf,aAAOpR,KAAKq7B,iBAAiB,CAAE,GAAGjqB,GAAO9L,MAAAA,CAAAA,MAAc8L;IACzD;IAEAoqB,eAAepqB,IAAAA;AACb,YAAM9L,KAAStF,KAAKozB,UAAAA;AACpB,aAAOpzB,KAAKq7B,iBAAiB,CAAE/1B,KAAS8L,GAAO9L,QAAQA,EAAAA,CAAAA,MAAc8L;IACvE;IAEAqqB,sBAAAA;AACE,aAAOz7B,KAAKk6B,UAAUvf,QAAAA,EAAU5C,OAAQ0T,CAAAA,OAAAA,CAAAA,CAAYA,GAAM1e,UAAAA;IAC5D;IAEA2uB,iBAAAA;AACE,aAAO17B,KAAKy7B,oBAAAA,EAAsBpqB,IAAKoa,CAAAA,OAAUA,GAAM1e,UAAAA;IACzD;IAEA4uB,6BAA6BC,IAAAA;AAC3B,UAAIrE,KAAW;AACf,iBAAW9L,MAASzrB,KAAKk6B,UAAUvf,QAAAA,GAAW;AAAA,YAAA+b;AAC5C,aAAoB,UAAhBA,KAAAjL,GAAM1e,eAAAA,WAAU2pB,KAAAA,SAAhBA,GAAkBvrB,QAAOywB,GAC3B,QAAO,EAAE7uB,YAAY0e,GAAM1e,YAAYwqB,UAAAA,GAAAA;AAEzCA,QAAAA,MAAY9L,GAAMnmB;MACpB;AACA,aAAO,EAAEyH,YAAY,MAAMwqB,UAAU,KAAA;IACvC;IAEAsE,kBAAkBD,IAAAA;AAChB,YAAA,EAAM7uB,YAAEA,GAAAA,IAAe/M,KAAK27B,6BAA6BC,EAAAA;AACzD,aAAO7uB;IACT;IAEA+uB,qBAAqB/uB,IAAAA;AACnB,YAAMgvB,KAAwB/7B,KAAK27B,6BAA6B5uB,GAAW5B,EAAAA,GACrEosB,KAAWwE,GAAsBxE;AAEvC,UADAxqB,KAAagvB,GAAsBhvB,WAEjC,QAAO,CAAEwqB,IAAUA,KAAW,CAAA;IAElC;IAEAyE,8BAA8Bp9B,IAAYmO,IAAAA;AACxC,YAAMuJ,KAAQtW,KAAK87B,qBAAqB/uB,EAAAA;AACxC,aAAIuJ,KACKtW,KAAK66B,qBAAqBj8B,IAAY0X,EAAAA,IAEtCtW;IAEX;IAEAozB,YAAAA;AACE,aAAOpzB,KAAKk6B,UAAUN,eAAAA;IACxB;IAEAhf,UAAAA;AACE,aAA4B,MAArB5a,KAAKozB,UAAAA;IACd;IAEA9iB,UAAU9Q,IAAAA;AAAM,UAAAy8B;AACd,aAAOrsB,MAAMU,UAAU9Q,EAAAA,MAASA,QAAAA,MAAey8B,UAAXA,KAAJz8B,GAAM06B,cAAAA,WAAS+B,KAAAA,SAAfA,GAAiB3rB,UAAUtQ,KAAKk6B,SAAAA;IAClE;IAEAhH,eAAAA;AACE,aAA4B,MAArBlzB,KAAKozB,UAAAA,KAAqBpzB,KAAKk6B,UAAUtC,iBAAiB,CAAA,EAAG1E,aAAAA;IACtE;IAEAgJ,UAAUnxB,IAAAA;AACR,aAAO/K,KAAKk6B,UAAUhD,WAAWnsB,EAAAA;IACnC;IAEAylB,YAAAA;AACE,aAAOxwB,KAAKk6B,UAAUvf,QAAAA;IACxB;IAEAwhB,mBAAmB5E,IAAAA;AACjB,aAAOv3B,KAAKk6B,UAAUzB,oBAAoBlB,EAAAA;IAC5C;IAEAhlB,wBAAAA;AACE,aAAO,EAAE2nB,WAAWl6B,KAAKk6B,UAAU9nB,QAAAA,EAAAA;IACrC;IAEAgqB,qBAAAA;AACE,YAAMlC,KAAYl6B,KAAKk6B,UAAUlC,qBAAsBvM,CAAAA,OAAUA,GAAM0H,eAAAA,CAAAA;AACvE,aAAOnzB,KAAKm6B,kBAAkBD,EAAAA;IAChC;IAEA5qB,WAAAA;AACE,aAAOtP,KAAKk6B,UAAU5qB,SAAAA;IACxB;IAEAiB,SAAAA;AACE,aAAOvQ,KAAKk6B,UAAU3pB,OAAAA;IACxB;IAEAqmB,YAAAA;AACE,aAAO1kB,KAAKO,UAAUzS,KAAKk6B,UAAUvf,QAAAA,EAAUtJ,IAAKoa,CAAAA,OAAUvZ,KAAKnT,MAAM0sB,GAAMmL,UAAAA,CAAAA,CAAAA,CAAAA;IACjF;IAIAzjB,eAAAA;AACE,aAAOA,GAAanT,KAAKsP,SAAAA,CAAAA;IAC3B;IAEA4hB,QAAAA;AACE,aAA+B,UAAxBlxB,KAAKmT,aAAAA;IACd;EAAA;ACzOa,MAAMkpB,KAAN,MAAMA,YAActqB,GAAAA;IACjC,OAAA,SAAgBuqB,IAAAA;AAEd,aAAO,IAAIt8B,KADE+5B,GAAK9nB,SAASqqB,GAAU98B,IAAAA,GACf88B,GAAU19B,YAAY09B,GAAU/8B,cAAAA;IACxD;IAEAoQ,YAAYnQ,IAAMZ,IAAYW,IAAAA;AAC5BqQ,YAAAA,GAASvK,SAAAA,GACTrF,KAAKR,OAAO+8B,GAAsB/8B,MAAQ,IAAIu6B,IAAAA,GAC9C/5B,KAAKpB,aAAaA,MAAc,CAAA,GAChCoB,KAAKT,iBAAiBA,MAAkB,CAAA;IAC1C;IAEAqb,UAAAA;AACE,aAAO5a,KAAKR,KAAK0zB,aAAAA;IACnB;IAEA5iB,UAAUsgB,IAAAA;AACR,aAAA,CAAA,CAAIhhB,MAAMU,UAAUsgB,EAAAA,KAEb5wB,KAAKR,KAAK8Q,UAAUsgB,QAAAA,KAAAA,SAAAA,GAAOpxB,IAAAA,KAASmT,GAAe3S,KAAKpB,YAAYgyB,QAAAA,KAAAA,SAAAA,GAAOhyB,UAAAA,KAAewX,GAAgBpW,KAAKT,gBAAgBqxB,QAAAA,KAAAA,SAAAA,GAAOrxB,cAAAA;IAC/I;IAEAi9B,aAAah9B,IAAAA;AACX,aAAO,IAAI68B,IAAM78B,IAAMQ,KAAKpB,YAAYoB,KAAKT,cAAAA;IAC/C;IAEAk9B,kBAAAA;AACE,aAAOz8B,KAAKw8B,aAAa,IAAA;IAC3B;IAEA9J,mBAAmB9zB,IAAAA;AACjB,aAAO,IAAIy9B,IAAMr8B,KAAKR,MAAMZ,IAAYoB,KAAKT,cAAAA;IAC/C;IAEAm9B,wBAAAA;AACE,aAAO18B,KAAK0yB,mBAAmB,IAAA;IACjC;IAEA0H,mBAAmBC,IAAAA;AACjB,YAAMsC,KAAatC,GAAUve,KAAK9b,KAAKR,IAAAA;AACvC,aAAIm9B,KACK38B,KAAKw8B,aAAaG,EAAAA,IAElB38B,KAAKw8B,aAAax8B,KAAKR,KAAK46B,mBAAmBC,EAAAA,CAAAA;IAE1D;IAEAuC,aAAa9J,IAAAA;AACX,YAAMl0B,KAAaoB,KAAKpB,WAAW6E,OAAOo5B,GAAgB/J,EAAAA,CAAAA;AAC1D,aAAO9yB,KAAK0yB,mBAAmB9zB,EAAAA;IACjC;IAEAk+B,iBAAiBhK,IAAWtuB,IAAAA;AAC1B,YAAMjF,KAAiBkV,OAAOsV,OAAO,CAAA,GAAI/pB,KAAKT,gBAAgB,EAAEuzB,CAACA,EAAAA,GAAYtuB,GAAAA,CAAAA;AAC7E,aAAO,IAAI63B,IAAMr8B,KAAKR,MAAMQ,KAAKpB,YAAYW,EAAAA;IAC/C;IAEAmrB,gBAAgBoI,IAAAA;AACd,YAAA,EAAMlzB,eAAEA,GAAAA,IAAkB0U,GAAewe,EAAAA,GACnCl0B,KAAam+B,GAAgBA,GAAgB/8B,KAAKpB,YAAYk0B,EAAAA,GAAYlzB,EAAAA;AAChF,aAAOI,KAAK0yB,mBAAmB9zB,EAAAA;IACjC;IAEAo+B,sBAAAA;AACE,aAAOh9B,KAAK0qB,gBAAgB1qB,KAAK+wB,iBAAAA,CAAAA;IACnC;IAEAA,mBAAAA;AACE,aAAOkM,GAAej9B,KAAKpB,UAAAA;IAC7B;IAEAwwB,gBAAAA;AACE,aAAOpvB,KAAKpB,WAAWoR,MAAM,CAAA;IAC/B;IAEAktB,oBAAAA;AACE,aAAOl9B,KAAKpB,WAAW0G;IACzB;IAEA63B,oBAAoBC,IAAAA;AAClB,aAAOp9B,KAAKpB,WAAWw+B,KAAQ,CAAA;IACjC;IAEA5S,aAAajW,IAAAA;AACX,aAAOvU,KAAKpB,WAAWqL,SAASsK,EAAAA;IAClC;IAEA8oB,gBAAAA;AACE,aAAOr9B,KAAKk9B,kBAAAA,IAAsB;IACpC;IAEAI,2BAAAA;AACE,aAAOL,GAAej9B,KAAKu9B,sBAAAA,CAAAA;IAC7B;IAEAA,wBAAAA;AACE,aAAOv9B,KAAKpB,WAAWmZ,OAAQ+a,CAAAA,OAAcxe,GAAewe,EAAAA,EAAW7zB,QAAAA;IACzE;IAEAu+B,kBAAAA;AACE,aAAOx9B,KAAKu9B,sBAAAA,EAAwBj4B;IACtC;IAEAm4B,uBAAAA;AACE,YAAM3K,KAAY9yB,KAAKs9B,yBAAAA;AACvB,aAAIxK,KACK9yB,KAAK0qB,gBAAgBoI,EAAAA,IAErB9yB;IAEX;IAEA09B,uBAAAA;AACE,YAAM5K,KAAY9yB,KAAKs9B,yBAAAA;AACvB,UAAIxK,IAAW;AACb,cAAMjgB,KAAQ7S,KAAKpB,WAAWiiB,YAAYiS,EAAAA,GACpCl0B,KAAakU,GAAY9S,KAAKpB,YAAYiU,KAAQ,GAAG,GAAA,GAAMgqB,GAAgB/J,EAAAA,CAAAA;AACjF,eAAO9yB,KAAK0yB,mBAAmB9zB,EAAAA;MACjC;AACE,aAAOoB;IAEX;IAEA29B,wBAAAA;AACE,aAAO39B,KAAKpB,WAAWmZ,OAAQ+a,CAAAA,OAAcxe,GAAewe,EAAAA,EAAWlzB,aAAAA;IACzE;IAEAg+B,aAAAA;AAAa,UAAA9M;AACX,aAA8CA,UAA9CA,KAAOxc,GAAetU,KAAK+wB,iBAAAA,CAAAA,MAAAA,WAAmBD,KAAAA,SAAvCA,GAAyClxB;IAClD;IAEAi+B,kBAAAA;AAAkB,UAAAC;AAChB,aAA8CA,UAA9CA,KAAOxpB,GAAetU,KAAK+wB,iBAAAA,CAAAA,MAAAA,WAAmB+M,KAAAA,SAAvCA,GAAyC3+B;IAClD;IAEA4+B,iBAAAA;AAAiB,UAAAC;AACf,aAA8CA,UAA9CA,KAAO1pB,GAAetU,KAAK+wB,iBAAAA,CAAAA,MAAAA,WAAmBiN,KAAAA,SAAvCA,GAAyC5+B;IAClD;IAEA6+B,qCAAqCC,IAAW3G,IAAAA;AAC9C,YAAMnmB,KAASpR,KAAKsP,SAAAA;AACpB,UAAIsC;AACJ,cAAQssB,IAAAA;QACN,KAAK;AACHtsB,UAAAA,KAASR,GAAOmQ,QAAQ,MAAMgW,EAAAA;AAC9B;QACF,KAAK;AACH3lB,UAAAA,KAASR,GAAOpB,MAAM,GAAGunB,EAAAA,EAAU1W,YAAY,IAAA;MAAA;AAGnD,UAAA,OAAIjP,GACF,QAAOA;IAEX;IAEAW,wBAAAA;AACE,aAAO,EACL/S,MAAMQ,KAAKR,KAAK4S,QAAAA,GAChBxT,YAAYoB,KAAKpB,WAAAA;IAErB;IAEA0Q,WAAAA;AACE,aAAOtP,KAAKR,KAAK8P,SAAAA;IACnB;IAEAiB,SAAAA;AACE,aAAO,EACL/Q,MAAMQ,KAAKR,MACXZ,YAAYoB,KAAKpB,YACjBW,gBAAgBS,KAAKT,eAAAA;IAEzB;IAIA4T,eAAAA;AACE,aAAOnT,KAAKR,KAAK2T,aAAAA;IACnB;IAEA+d,QAAAA;AACE,aAAOlxB,KAAKR,KAAK0xB,MAAAA;IACnB;IAIAkC,YAAAA;AACE,aAAOpzB,KAAKR,KAAK4zB,UAAAA;IACnB;IAEAC,sBAAsBzC,IAAAA;AACpB,aAAA,CAAQ5wB,KAAKq9B,cAAAA,KAAAA,CAAoBzM,GAAMyM,cAAAA,KAAmBr9B,KAAKmT,aAAAA,MAAmByd,GAAMzd,aAAAA;IAC1F;IAEA4jB,gBAAgBnG,IAAAA;AACd,YAAMuN,KAAcpE,GAAKqE,4BAA4B,IAAA,GAC/C5+B,KAAOQ,KAAKq+B,yBAAAA,EAA2B/D,WAAW6D,EAAAA;AACxD,aAAOn+B,KAAKw8B,aAAah9B,GAAK86B,WAAW1J,GAAMpxB,IAAAA,CAAAA;IACjD;IAEAw3B,cAAcjnB,IAAAA;AACZ,UAAIqH,IAAMC;AAWV,aAVe,MAAXtH,MACFqH,KAAO,MACPC,KAAQrX,QACC+P,OAAW/P,KAAKozB,UAAAA,KACzBhc,KAAOpX,MACPqX,KAAQ,SAERD,KAAOpX,KAAKw8B,aAAax8B,KAAKR,KAAKm7B,eAAe,CAAE,GAAG5qB,EAAAA,CAAAA,CAAAA,GACvDsH,KAAQrX,KAAKw8B,aAAax8B,KAAKR,KAAKm7B,eAAe,CAAE5qB,IAAQ/P,KAAKozB,UAAAA,CAAAA,CAAAA,CAAAA,IAE7D,CAAEhc,IAAMC,EAAAA;IACjB;IAEA8Z,wBAAAA;AACE,aAAOnxB,KAAKR,KAAK4zB,UAAAA,IAAc;IACjC;IAEAiL,2BAAAA;AACE,aAAIC,GAAqBt+B,KAAKR,IAAAA,IACrBQ,KAAKR,KAAKm7B,eAAe,CAAE,GAAG36B,KAAKmxB,sBAAAA,CAAAA,CAAAA,IAEnCnxB,KAAKR,KAAKgb,KAAAA;IAErB;IAIAiB,aAAaN,IAAAA;AACX,aAAOnb,KAAKpB,WAAWuc,EAAAA;IACzB;IAEAO,iBAAiB6iB,IAAYpjB,IAAAA;AAC3B,YAAMqjB,KAAkBD,GAAWnP,cAAAA,GAC7BqP,KAAiBD,GAAgBrjB,EAAAA,GACjC2X,KAAY9yB,KAAKpB,WAAWuc,EAAAA;AAElC,aACE2X,OAAc2L,MAAAA,EAAAA,UACZnqB,GAAewe,EAAAA,EAAWzzB,SAAAA,E7B5NGq/B,MAAAA;AACnC,YAAA,CAAKxqB,IAAoB;AACvBA,eAAqB,CAAA;AACrB,qBAAW3P,MAAOiQ,IAAwB;AACxC,kBAAA,EAAM5U,eAAEA,GAAAA,IAAkB4U,GAAuBjQ,EAAAA;AAC5B,oBAAjB3E,MACFsU,GAAmBvK,KAAK/J,EAAAA;UAE5B;QACF;AACA,eAAOsU;MAAkB,G6BkN2BwqB,EAAwBz0B,SAASu0B,GAAgBrjB,KAAQ,CAAA,CAAA,OACxGnb,KAAKmT,aAAAA,MAAmBorB,GAAWprB,aAAAA,KAAkBorB,GAAW3jB,QAAAA;IAErE;EAAA;AAKF,MAAM2hB,KAAwB,SAAS/8B,IAAAA;AAGrC,WAFAA,KAAOm/B,GAAqCn/B,EAAAA,GAC5CA,KAAOo/B,GAAoBp/B,EAAAA;EAE7B;AAJA,MAMMm/B,KAAuC,SAASn/B,IAAAA;AACpD,QAAIq/B,KAAAA;AACJ,UAAMtO,KAAS/wB,GAAKgxB,UAAAA;AAEpB,QAAIsO,KAAcvO,GAAOvgB,MAAM,GAAGugB,GAAOjrB,SAAS,CAAA;AAClD,UAAMy5B,KAAYxO,GAAOA,GAAOjrB,SAAS,CAAA;AAEzC,WAAKy5B,MAELD,KAAcA,GAAYztB,IAAKoa,CAAAA,OACzBA,GAAMyH,aAAAA,KACR2L,KAAAA,MACOG,GAAsBvT,EAAAA,KAEtBA,EAAAA,GAIPoT,KACK,IAAI9E,GAAK,CAAA,GAAK+E,IAAaC,EAAAA,CAAAA,IAE3Bv/B,MAdcA;EAgBzB;AA7BA,MA+BMy/B,KAAiBlF,GAAKqE,4BAA4B,MAAM,EAAEc,YAAAA,KAAY,CAAA;AA/B5E,MAiCMN,KAAsB,SAASp/B,IAAAA;AACnC,WAAI8+B,GAAqB9+B,EAAAA,IAChBA,KAEAA,GAAK86B,WAAW2E,EAAAA;EAE3B;AAvCA,MAyCMX,KAAuB,SAAS9+B,IAAAA;AACpC,UAAM8F,KAAS9F,GAAK4zB,UAAAA;AACpB,QAAe,MAAX9tB,GACF,QAAA;AAGF,WADgB9F,GAAKm7B,eAAe,CAAEr1B,KAAS,GAAGA,EAAAA,CAAAA,EACnC4tB,aAAAA;EACjB;AAhDA,MAkDM8L,KAAyBvT,CAAAA,OAAUA,GAAMoH,qBAAqB,YAAA;AAlDpE,MAsDMgK,KAAkB,SAAS/J,IAAAA;AAC/B,UAAA,EAAMlzB,eAAEA,GAAAA,IAAkB0U,GAAewe,EAAAA;AACzC,WAAIlzB,KACK,CAAEA,IAAekzB,EAAAA,IAEjB,CAAEA,EAAAA;EAEb;AA7DA,MAiEMmK,KAAkBtrB,CAAAA,OAAUA,GAAM3B,MAAAA,EAAO,EAAG,CAAA;AAjElD,MAmEM+sB,KAAkB,SAASprB,IAAOnN,IAAAA;AACtC,UAAMqO,KAAQlB,GAAMkP,YAAYrc,EAAAA;AAChC,WAAA,OAAIqO,KACKlB,KAEAmB,GAAYnB,IAAOkB,IAAO,CAAA;EAErC;ACnUe,MAAMssB,KAAN,cAAuBptB,GAAAA;IACpC,OAAA,SAAgBqtB,IAAAA;AAEd,aAAO,IAAIp/B,KADI2Q,MAAMC,KAAKwuB,EAAAA,EAAc/tB,IAAKirB,CAAAA,OAAcD,GAAMpqB,SAASqqB,EAAAA,CAAAA,CAAAA;IAE5E;IAEA,OAAA,WAAkBlrB,IAAQiuB,IAAAA;AACxB,YAAM7/B,KAAOu6B,GAAKqE,4BAA4BhtB,IAAQiuB,EAAAA;AACtD,aAAO,IAAIr/B,KAAK,CAAE,IAAIq8B,GAAM78B,EAAAA,CAAAA,CAAAA;IAC9B;IAEAmQ,cAAAA;AAAyB,UAAb2vB,KAAMj6B,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACnBuK,YAAAA,GAASvK,SAAAA,GACa,MAAlBi6B,GAAOh6B,WACTg6B,KAAS,CAAE,IAAIjD,IAAAA,IAEjBr8B,KAAKu/B,YAAYtI,GAAe7nB,IAAIkwB,EAAAA;IACtC;IAEA1kB,UAAAA;AACE,YAAMgW,KAAQ5wB,KAAKw/B,gBAAgB,CAAA;AACnC,aAAiC,MAA1Bx/B,KAAKu/B,UAAUj6B,UAAgBsrB,GAAMhW,QAAAA,KAAAA,CAAcgW,GAAMyM,cAAAA;IAClE;IAEA7iB,OAAAA;AACE,YAAM8kB,MADIj6B,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GACUo6B,oBAAoBz/B,KAAKu/B,UAAUxG,YAAAA,EAAcpe,QAAAA,IAAY3a,KAAKu/B,UAAU5kB,QAAAA;AAEnG,aAAO,IAAI3a,KAAK2P,YAAY2vB,EAAAA;IAC9B;IAEAI,6BAA6BC,IAAAA;AAC3B,YAAMtF,KAAY,IAAIxe,GAAU8jB,GAAehkB,WAAAA,CAAAA;AAC/C,aAAO3b,KAAKo6B,mBAAmBC,EAAAA;IACjC;IAEAD,mBAAmBC,IAAAA;AACjB,YAAMiF,KAASt/B,KAAK0xB,UAAAA,EAAYrgB,IAAKuf,CAAAA,OACfyJ,GAAUve,KAAK8U,EAAAA,KACbA,GAAMwJ,mBAAmBC,EAAAA,CAAAA;AAEjD,aAAO,IAAIr6B,KAAK2P,YAAY2vB,EAAAA;IAC9B;IAEAM,8BAAAA;AAAkD,UAAtBl2B,KAAerE,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAC5C,YAAMi6B,KAASt/B,KAAK0xB,UAAAA,EAAYrgB,IAAKuf,CAAAA,OAAAA;AACnC,cAAMhyB,KAAa8K,GAAgBjG,OAAOmtB,GAAMxB,cAAAA,CAAAA;AAChD,eAAOwB,GAAM8B,mBAAmB9zB,EAAAA;MAAW,CAAA;AAG7C,aAAO,IAAIoB,KAAK2P,YAAY2vB,EAAAA;IAC9B;IAEAO,aAAaC,IAAUC,IAAAA;AACrB,YAAMltB,KAAQ7S,KAAKu/B,UAAUhe,QAAQue,EAAAA;AACrC,aAAA,OAAIjtB,KACK7S,OAEF,IAAIA,KAAK2P,YAAY3P,KAAKu/B,UAAU7H,qBAAqBqI,IAAUltB,EAAAA,CAAAA;IAC5E;IAEAmtB,sBAAsBt7B,IAAU4R,IAAAA;AAC9B,YAAA,EAAMipB,WAAEA,GAAAA,IAAc76B;AACtB4R,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,UAAA,CAAMihB,EAAAA,IAAajhB;AACnB,YAAA,EAAMzD,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqB1I,EAAAA;AAEpD,UAAI3lB,KAAS5R;AACb,YAAM4wB,KAAQ5wB,KAAKkgC,mBAAmB3I,EAAAA;AAStC,aAPI9gB,GAAiBH,EAAAA,KAAUsa,GAAMhW,QAAAA,KAAAA,CAAcgW,GAAMyM,cAAAA,IACvDzrB,KAAS,IAAI5R,KAAK2P,YAAYiC,GAAO2tB,UAAU5H,oBAAoB9kB,EAAAA,CAAAA,IAC1D+d,GAAMO,sBAAAA,MAA4BphB,MAC3CwnB,MAGF3lB,KAASA,GAAO4oB,kBAAkBlkB,EAAAA,GAC3B,IAAItW,KAAK2P,YAAYiC,GAAO2tB,UAAUjI,+BAA+BiI,IAAWhI,EAAAA,CAAAA;IACzF;IAEA4I,qBAAqBz7B,IAAU4R,IAAAA;AAC7B,UAAI8pB,IAAmBxuB;AACvB0E,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,EAAAA,IAAkB/pB,IACpBgqB,KAAgBtgC,KAAKigC,qBAAqBI,EAAAA,GAC1C32B,KAAkB1J,KAAKw/B,gBAAgBc,GAAcztB,KAAAA,EAAOuc,cAAAA,GAC5DmR,KAAsB77B,GAAS87B,uBAAAA,GAC/BC,KAA0B/2B,GAAgBsG,MAAAA,CAAOuwB,GAAoBj7B,MAAAA;AAE3E,UAAIqN,GAAe4tB,IAAqBE,EAAAA,GAA0B;AAChE,cAAMC,KAAyBh3B,GAAgBsG,MAAM,GAAA,CAAIuwB,GAAoBj7B,MAAAA;AAC7E86B,QAAAA,KAAoB17B,GAASk7B,4BAA4Bc,EAAAA;MAC3D,MACEN,CAAAA,KAAoB17B,GAAS8V,KAAK,EAAEilB,mBAAAA,KAAmB,CAAA,EAAQG,4BAA4Bl2B,EAAAA;AAG7F,YAAMi3B,KAAaP,GAAkBQ,cAAAA,GAC/BC,KAAaT,GAAkBZ,gBAAgB,CAAA;AAErD,UAAI7sB,GAAejJ,IAAiBm3B,GAAWzR,cAAAA,CAAAA,GAAkB;AAC/D,cAAM0R,KAAYD,GAAWxC,yBAAAA;AAG7B,YAFAzsB,KAAS5R,KAAK+gC,kBAAkBD,IAAWxqB,EAAAA,GAEvCqqB,KAAa,GAAG;AAClBP,UAAAA,KAAoB,IAAIpgC,KAAK2P,YAAYywB,GAAkB1O,UAAAA,EAAY1hB,MAAM,CAAA,CAAA;AAC7E,gBAAMunB,KAAW8I,KAAgBS,GAAU1N,UAAAA;AAC3CxhB,UAAAA,KAASA,GAAOouB,sBAAsBI,IAAmB7I,EAAAA;QAC3D;MACF,MACE3lB,CAAAA,KAAS5R,KAAKggC,sBAAsBI,IAAmB9pB,EAAAA;AAGzD,aAAO1E;IACT;IAEAmvB,kBAAkBvhC,IAAM8W,IAAAA;AACtBA,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,EAAAA,IAAkB/pB,IAAAA,EACpBzD,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqBI,EAAAA,GAE9C37B,KAAW1E,KAAKw6B,kBAAkBlkB,EAAAA;AACxC,aAAO,IAAItW,KAAK2P,YACdjL,GAAS66B,UAAU9H,kBAAkB5kB,IAAQ+d,CAAAA,OAC3CA,GAAM4L,aAAa5L,GAAMpxB,KAAK+6B,qBAAqB/6B,IAAMuQ,EAAAA,CAAAA,CAAAA,CAAAA;IAG/D;IAEAyqB,kBAAkBlkB,IAAAA;AAChB,UAAIgpB;AACJhpB,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ0qB,IAAcC,EAAAA,IAAkB3qB;AACxC,UAAIG,GAAiBH,EAAAA,EACnB,QAAOtW;AAET,YAAA,CAAQkhC,IAAcC,EAAAA,IAAkBxwB,MAAMC,KAAK5Q,KAAKohC,uBAAuB9qB,EAAAA,CAAAA,GAEzEwD,KAAYonB,GAAaruB,OACzBwuB,KAAaH,GAAanxB,QAC1BuxB,KAAYthC,KAAKw/B,gBAAgB1lB,EAAAA,GAEjCge,KAAaqJ,GAActuB,OAC3B0uB,KAAcJ,GAAcpxB,QAC5ByxB,KAAaxhC,KAAKw/B,gBAAgB1H,EAAAA;AAQxC,UALEmJ,KAAgBD,MAAiB,KACjCM,GAAUnQ,sBAAAA,MAA4BkQ,MACtCG,GAAWrQ,sBAAAA,MAA4BoQ,MACc,SAArDC,GAAWhiC,KAAK87B,oBAAoBiG,EAAAA,EAGpCjC,CAAAA,KAASt/B,KAAKu/B,UAAU9H,kBAAkBK,IAAalH,CAAAA,OACrDA,GAAM4L,aAAa5L,GAAMpxB,KAAKg7B,kBAAkB,CAAE+G,IAAaA,KAAc,CAAA,CAAA,CAAA,CAAA;WAE1E;AACL,YAAI3Q;AACJ,cAAM6Q,KAAWH,GAAU9hC,KAAKm7B,eAAe,CAAE,GAAG0G,EAAAA,CAAAA,GAC9CK,KAAYF,GAAWhiC,KAAKm7B,eAAe,CAAE4G,IAAaC,GAAWpO,UAAAA,CAAAA,CAAAA,GACrE5zB,KAAOiiC,GAASnH,WAAWoH,EAAAA;AAM/B9Q,QAAAA,KAJwB9W,OAAcge,MAA6B,MAAfuJ,MACXC,GAAUpE,kBAAAA,KAAuBsE,GAAWtE,kBAAAA,IAG7EsE,GAAWhF,aAAah9B,EAAAA,IAExB8hC,GAAU9E,aAAah9B,EAAAA;AAGjC,cAAMmiC,KAAqB7J,KAAa,IAAIhe;AAC5CwlB,QAAAA,KAASt/B,KAAKu/B,UAAUtsB,OAAO6G,IAAW6nB,IAAoB/Q,EAAAA;MAChE;AAEA,aAAO,IAAI5wB,KAAK2P,YAAY2vB,EAAAA;IAC9B;IAEA5E,4BAA4BpkB,IAAOihB,IAAAA;AACjC,UAAI/3B;AACJ8W,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,IAAexG,EAAAA,IAAgBvjB;AACvC,UAAI+pB,MAAiB9I,MAAYA,MAAYsC,GAC3C,QAAO75B;AAGT,UAAI0E,KAAW1E,KAAK4hC,mBAAmBtrB,EAAAA,GACnC1E,KAAS5R,KAAKw6B,kBAAkBlkB,EAAAA;AAEpC,YAAMurB,KAAkBxB,KAAgB9I;AACpCsK,MAAAA,OACFtK,MAAY7yB,GAAS0uB,UAAAA;AAGvB,YAAA,CAAQyN,IAAAA,GAAevB,EAAAA,IAAW56B,GAASgtB,UAAAA;AAW3C,aAVsB,MAAlB4N,GAAOh6B,UACT9F,KAAOqhC,GAAWxC,yBAAAA,GACdwD,OACFtK,MAAY,MAGd/3B,KAAOqhC,GAAWrhC,MAGpBoS,KAASA,GAAOmvB,kBAAkBvhC,IAAM+3B,EAAAA,GAClB,MAAlB+H,GAAOh6B,SACFsM,MAGTlN,KAAW,IAAI1E,KAAK2P,YAAY2vB,EAAAA,GAChC/H,MAAY/3B,GAAK4zB,UAAAA,GAEVxhB,GAAOouB,sBAAsBt7B,IAAU6yB,EAAAA;IAChD;IAEAqD,oBAAoB9H,IAAWtuB,IAAO8R,IAAAA;AACpC,UAAA,EAAIipB,WAAEA,GAAAA,IAAcv/B;AAgBpB,aAfAA,KAAK8hC,iBACHxrB,IACA,CAACsa,IAAOmR,IAAWlvB,OACjB0sB,KAAYA,GAAU9H,kBAAkB5kB,IAAO,WAAA;AAC7C,eAAIyB,GAAewe,EAAAA,IACVlC,GAAMgM,aAAa9J,IAAWtuB,EAAAA,IAEjCu9B,GAAU,CAAA,MAAOA,GAAU,CAAA,IACtBnR,KAEAA,GAAM4L,aAAa5L,GAAMpxB,KAAKo7B,oBAAoB9H,IAAWtuB,IAAOu9B,EAAAA,CAAAA;MAGhF,CAAA,CAAA,GAEE,IAAI/hC,KAAK2P,YAAY4vB,EAAAA;IAC9B;IAEA3C,aAAa9J,IAAWtuB,IAAAA;AACtB,UAAA,EAAI+6B,WAAEA,GAAAA,IAAcv/B;AAIpB,aAHAA,KAAKgiC,UACH,CAACpR,IAAO/d,OAAU0sB,KAAYA,GAAU9H,kBAAkB5kB,IAAO,MAAM+d,GAAMgM,aAAa9J,IAAWtuB,EAAAA,CAAAA,CAAAA,GAEhG,IAAIxE,KAAK2P,YAAY4vB,EAAAA;IAC9B;IAEAzE,uBAAuBhI,IAAWxc,IAAAA;AAChC,UAAA,EAAIipB,WAAEA,GAAAA,IAAcv/B;AAUpB,aATAA,KAAK8hC,iBAAiBxrB,IAAO,SAASsa,IAAOmR,IAAWlvB,IAAAA;AAClDyB,WAAewe,EAAAA,IACjByM,KAAYA,GAAU9H,kBAAkB5kB,IAAO,MAAM+d,GAAMlG,gBAAgBoI,EAAAA,CAAAA,IAClEiP,GAAU,CAAA,MAAOA,GAAU,CAAA,MACpCxC,KAAYA,GAAU9H,kBAAkB5kB,IAAO,MAC7C+d,GAAM4L,aAAa5L,GAAMpxB,KAAKs7B,uBAAuBhI,IAAWiP,EAAAA,CAAAA,CAAAA;MAGtE,CAAA,GACO,IAAI/hC,KAAK2P,YAAY4vB,EAAAA;IAC9B;IAEAvD,8BAA8Bp9B,IAAYmO,IAAAA;AACxC,YAAMuJ,KAAQtW,KAAK87B,qBAAqB/uB,EAAAA,GAAAA,CAChCszB,EAAAA,IAAkB1vB,MAAMC,KAAK0F,EAAAA,GAAAA,EAC/BzD,OAAEA,GAAAA,IAAU7S,KAAKigC,qBAAqBI,EAAAA,GACtC7gC,KAAOQ,KAAKiiC,eAAepvB,EAAAA;AAEjC,aAAO,IAAI7S,KAAK2P,YACd3P,KAAKu/B,UAAU9H,kBAAkB5kB,IAAQ+d,CAAAA,OACvCA,GAAM4L,aAAah9B,GAAKw8B,8BAA8Bp9B,IAAYmO,EAAAA,CAAAA,CAAAA,CAAAA;IAGxE;IAEAm1B,6BAA6BpP,IAAW/lB,IAAAA;AACtC,YAAMuJ,KAAQtW,KAAK87B,qBAAqB/uB,EAAAA;AACxC,aAAO/M,KAAK86B,uBAAuBhI,IAAWxc,EAAAA;IAChD;IAEA6rB,2BAA2B5K,IAAU94B,IAAM+F,IAAAA;AACzC,YAAMosB,KAAQ5wB,KAAKkgC,mBAAmB3I,EAAAA,GAChC6K,KAAexR,GAAMkM,iBAAiBr+B,IAAM+F,EAAAA;AAClD,aAAOxE,KAAK6/B,aAAajP,IAAOwR,EAAAA;IAClC;IAEAC,wBAAwB/rB,IAAAA;AACtB,UAAIgpB;AACJhpB,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,EAAAA,IAAkB/pB,IAAAA,EACpBvG,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqBI,EAAAA,GAEvC37B,KAAW1E,KAAKw6B,kBAAkBlkB,EAAAA;AAIxC,aAHe,MAAXvG,OACFuvB,KAAS,CAAE,IAAIjD,IAAAA,IAEV,IAAIr8B,KAAK2P,YACdjL,GAAS66B,UAAUjI,+BAA+B,IAAIL,GAAeqI,EAAAA,GAASe,EAAAA,CAAAA;IAElF;IAEAiC,2BAA2B/tB,IAAe/P,IAAO8R,IAAAA;AAC/C,YAAMisB,KAAWviC,KAAKwiC,sCAAsClsB,EAAAA;AAC5D,UAAI5R,KAAW69B,GAAS79B;AACxB4R,MAAAA,KAAQisB,GAASjsB;AACjB,YAAMmsB,KAAcnuB,GAAeC,EAAAA;AAEnC,UAAIkuB,GAAY7iC,eAAe;AAC7B8E,QAAAA,KAAWA,GAASg+B,+BAA+BpsB,IAAO,EAAEqsB,qBAAqBpuB,GAAAA,CAAAA;AACjF,cAAMquB,KAAYl+B,GAASm+B,sCAAsCvsB,EAAAA;AACjE5R,QAAAA,KAAWk+B,GAAUl+B,UACrB4R,KAAQssB,GAAUtsB;MACpB,MACE5R,CAAAA,KADS+9B,GAAYriC,YACVsE,GAASo+B,6BAA6BxsB,EAAAA,IACxCmsB,GAAYtjC,WACVuF,GAASq+B,mCAAmCzsB,EAAAA,IAE5C5R,GAASs+B,yBAAyB1sB,EAAAA;AAG/C,aAAO5R,GAASk2B,oBAAoBrmB,IAAe/P,IAAO8R,EAAAA;IAC5D;IAEAosB,+BAA+BpsB,IAAAA;AAAqB,UAAd/N,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAA,EAC1Ck6B,WAAEA,GAAAA,IAAcv/B;AAcpB,aAbAA,KAAK8hC,iBAAiBxrB,IAAO,SAASsa,IAAOmR,IAAWlvB,IAAAA;AACtD,cAAMowB,KAAoBrS,GAAMG,iBAAAA;AAC3BkS,QAAAA,MAGA3uB,GAAe2uB,EAAAA,EAAmBrjC,iBAGnCqjC,OAAsB16B,GAAQo6B,wBAGlCpD,KAAYA,GAAU9H,kBAAkB5kB,IAAO,MAAM+d,GAAMlG,gBAAgBuY,EAAAA,CAAAA;MAC7E,CAAA,GACO,IAAIjjC,KAAK2P,YAAY4vB,EAAAA;IAC9B;IAEAwD,mCAAmCzsB,IAAAA;AACjC,UAAA,EAAIipB,WAAEA,GAAAA,IAAcv/B;AAWpB,aAVAA,KAAK8hC,iBAAiBxrB,IAAO,SAASsa,IAAOmR,IAAWlvB,IAAAA;AACtD,cAAMowB,KAAoBrS,GAAMG,iBAAAA;AAC3BkS,QAAAA,MAGA3uB,GAAe2uB,EAAAA,EAAmB9jC,aAGvCogC,KAAYA,GAAU9H,kBAAkB5kB,IAAO,MAAM+d,GAAMlG,gBAAgBuY,EAAAA,CAAAA;MAC7E,CAAA,GACO,IAAIjjC,KAAK2P,YAAY4vB,EAAAA;IAC9B;IAEAuD,6BAA6BxsB,IAAAA;AAC3B,UAAA,EAAIipB,WAAEA,GAAAA,IAAcv/B;AAMpB,aALAA,KAAK8hC,iBAAiBxrB,IAAO,SAASsa,IAAOmR,IAAWlvB,IAAAA;AAClD+d,QAAAA,GAAMyM,cAAAA,MACRkC,KAAYA,GAAU9H,kBAAkB5kB,IAAO,MAAM+d,GAAM8L,sBAAAA,CAAAA;MAE/D,CAAA,GACO,IAAI18B,KAAK2P,YAAY4vB,EAAAA;IAC9B;IAEAiD,sCAAsClsB,IAAAA;AACpC,UAAIihB;AACJjhB,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,UAAA,CAAM+pB,IAAexG,EAAAA,IAAgBvjB;AACrC,YAAMgqB,KAAgBtgC,KAAKigC,qBAAqBI,EAAAA,GAC1C6C,KAAcljC,KAAKigC,qBAAqBpG,EAAAA;AAC9C,UAAIn1B,KAAW1E;AAEf,YAAMmjC,KAAaz+B,GAAS86B,gBAAgBc,GAAcztB,KAAAA;AAW1D,UAVAytB,GAAcvwB,SAASozB,GAAWlF,qCAAqC,YAAYqC,GAAcvwB,MAAAA,GACrE,QAAxBuwB,GAAcvwB,WAChBwnB,KAAW7yB,GAAS0+B,qBAAqB9C,EAAAA,GACzC57B,KAAWA,GAAS29B,wBAAwB,CAAE9K,IAAUA,KAAW,CAAA,CAAA,GACnE2L,GAAYrwB,SAAS,GACrBqwB,GAAYnzB,UAAUrL,GAAS86B,gBAAgBc,GAAcztB,KAAAA,EAAOugB,UAAAA,GACpEkN,GAAcztB,SAAS,IAEzBytB,GAAcvwB,SAAS,GAEI,MAAvBmzB,GAAYnzB,UAAgBmzB,GAAYrwB,QAAQytB,GAAcztB,MAChEqwB,CAAAA,GAAYrwB,SAAS,GACrBqwB,GAAYnzB,SAASrL,GAAS86B,gBAAgB0D,GAAYrwB,KAAAA,EAAOse,sBAAAA;WAC5D;AACL,cAAMkS,KAAW3+B,GAAS86B,gBAAgB0D,GAAYrwB,KAAAA;AACiC,iBAAnFwwB,GAAS7jC,KAAK67B,iBAAiB,CAAE6H,GAAYnzB,SAAS,GAAGmzB,GAAYnzB,MAAAA,CAAAA,IACvEmzB,GAAYnzB,UAAU,IAEtBmzB,GAAYnzB,SAASszB,GAASpF,qCAAqC,WAAWiF,GAAYnzB,MAAAA,GAExFmzB,GAAYnzB,WAAWszB,GAASlS,sBAAAA,MAClCoG,KAAW7yB,GAAS0+B,qBAAqBF,EAAAA,GACzCx+B,KAAWA,GAAS29B,wBAAwB,CAAE9K,IAAUA,KAAW,CAAA,CAAA;MAEvE;AAMA,aAJA8I,KAAgB37B,GAAS0+B,qBAAqB9C,EAAAA,GAC9CzG,KAAcn1B,GAAS0+B,qBAAqBF,EAAAA,GAGrC,EAAEx+B,UAAAA,IAAU4R,OAFnBA,KAAQD,GAAe,CAAEgqB,IAAexG,EAAAA,CAAAA,EAAAA;IAG1C;IAEAgJ,sCAAsCvsB,IAAAA;AACpCA,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,UAAA,CAAMihB,EAAAA,IAAajhB;AACnB,YAAMlF,KAASpR,KAAKq7B,iBAAiB/kB,EAAAA,EAAOtG,MAAM,GAAA,EAAI;AACtD,UAAItL,KAAW1E;AAOf,aALAoR,GAAOlN,QAAQ,UAAU,SAASxD,IAAAA;AAChC62B,QAAAA,MAAY72B,GAAM4E,QAClBZ,KAAWA,GAAS29B,wBAAwB,CAAE9K,KAAW,GAAGA,EAAAA,CAAAA;MAC9D,CAAA,GAEO,EAAE7yB,UAAAA,IAAU4R,OAAAA,GAAAA;IACrB;IAEA0sB,yBAAyB1sB,IAAAA;AACvBA,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,IAAexG,EAAAA,IAAgBvjB,IACjC8iB,KAAap5B,KAAKigC,qBAAqBI,EAAAA,EAAextB,OACtDwmB,KAAWr5B,KAAKigC,qBAAqBpG,EAAAA,EAAahnB;AACxD,aAAO,IAAI7S,KAAK2P,YAAY3P,KAAKu/B,UAAUpG,4BAA4BC,IAAYC,EAAAA,CAAAA;IACrF;IAEAuI,mBAAmBtrB,IAAAA;AACjBA,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAMgpB,KAASt/B,KAAKu/B,UAAU1H,yBAAyBvhB,EAAAA,EAAOqE,QAAAA;AAC9D,aAAO,IAAI3a,KAAK2P,YAAY2vB,EAAAA;IAC9B;IAEAjE,iBAAiB/kB,IAAAA;AACf,UAAI+iB;AACJ,YAAM1nB,KAAQ2E,KAAQD,GAAeC,EAAAA;AAKrC,aAJgB3E,GAAMA,GAAMrM,SAAS,CAAA,MACjBtF,KAAKozB,UAAAA,MACvBiG,KAAAA,KAEKr5B,KAAK4hC,mBAAmBtrB,EAAAA,EAAOhH,SAAAA,EAAWU,MAAM,GAAGqpB,EAAAA;IAC5D;IAEAmG,gBAAgB3sB,IAAAA;AACd,aAAO7S,KAAKu/B,UAAU3H,iBAAiB/kB,EAAAA;IACzC;IAEAqtB,mBAAmB3I,IAAAA;AACjB,YAAA,EAAM1kB,OAAEA,GAAAA,IAAU7S,KAAKigC,qBAAqB1I,EAAAA;AAC5C,aAAOv3B,KAAKw/B,gBAAgB3sB,EAAAA;IAC9B;IAEAovB,eAAepvB,IAAAA;AAAO,UAAAywB;AACpB,aAAkCA,UAAlCA,KAAOtjC,KAAKw/B,gBAAgB3sB,EAAAA,MAAAA,WAAMywB,KAAAA,SAA3BA,GAA6B9jC;IACtC;IAEA+jC,kBAAkBhM,IAAAA;AAChB,YAAA,EAAM1kB,OAAEA,GAAAA,IAAU7S,KAAKigC,qBAAqB1I,EAAAA;AAC5C,aAAOv3B,KAAKiiC,eAAepvB,EAAAA;IAC7B;IAEAspB,mBAAmB5E,IAAAA;AACjB,YAAA,EAAM1kB,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqB1I,EAAAA;AACpD,aAAOv3B,KAAKiiC,eAAepvB,EAAAA,EAAOspB,mBAAmBpsB,EAAAA;IACvD;IAEAyzB,uBAAuBjM,IAAAA;AACrB,YAAA,EAAM1kB,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqB1I,EAAAA;AACpD,aAAOv3B,KAAKiiC,eAAepvB,EAAAA,EAAOwoB,iBAAiB,CAAEtrB,IAAQA,KAAS,CAAA,CAAA;IACxE;IAEAqjB,YAAAA;AACE,aAAOpzB,KAAKu/B,UAAU3F,eAAAA;IACxB;IAEAlI,YAAAA;AACE,aAAO1xB,KAAKu/B,UAAU5kB,QAAAA;IACxB;IAEAimB,gBAAAA;AACE,aAAO5gC,KAAKu/B,UAAUj6B;IACxB;IAEAm+B,eAAAA;AACE,aAAOzjC,KAAK0jC;IACd;IAEA1B,UAAUj3B,IAAAA;AACR,aAAO/K,KAAKu/B,UAAUrI,WAAWnsB,EAAAA;IACnC;IAEA+2B,iBAAiBxrB,IAAOvL,IAAAA;AACtB,UAAI6lB,IAAOmR;AACXzrB,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,IAAexG,EAAAA,IAAgBvjB,IACjCgqB,KAAgBtgC,KAAKigC,qBAAqBI,EAAAA,GAC1C6C,KAAcljC,KAAKigC,qBAAqBpG,EAAAA;AAE9C,UAAIyG,GAAcztB,UAAUqwB,GAAYrwB,MAGtC,QAFA+d,KAAQ5wB,KAAKw/B,gBAAgBc,GAAcztB,KAAAA,GAC3CkvB,KAAY,CAAEzB,GAAcvwB,QAAQmzB,GAAYnzB,MAAAA,GACzChF,GAAS6lB,IAAOmR,IAAWzB,GAAcztB,KAAAA;AAEhD,eAASA,KAAQytB,GAAcztB,OAAOA,MAASqwB,GAAYrwB,OAAOA,KAEhE,KADA+d,KAAQ5wB,KAAKw/B,gBAAgB3sB,EAAAA,GACzB+d,IAAO;AACT,gBAAQ/d,IAAAA;UACN,KAAKytB,GAAcztB;AACjBkvB,YAAAA,KAAY,CAAEzB,GAAcvwB,QAAQ6gB,GAAMpxB,KAAK4zB,UAAAA,CAAAA;AAC/C;UACF,KAAK8P,GAAYrwB;AACfkvB,YAAAA,KAAY,CAAE,GAAGmB,GAAYnzB,MAAAA;AAC7B;UACF;AACEgyB,YAAAA,KAAY,CAAE,GAAGnR,GAAMpxB,KAAK4zB,UAAAA,CAAAA;QAAAA;AAEhCroB,QAAAA,GAAS6lB,IAAOmR,IAAWlvB,EAAAA;MAC7B;IAGN;IAEAsoB,2BAA2B7kB,IAAAA;AACzBA,MAAAA,KAAQD,GAAeC,EAAAA;AACvB,YAAA,CAAQ+pB,EAAAA,IAAkB/pB;AAC1B,UAAIG,GAAiBH,EAAAA,EACnB,QAAOtW,KAAK2jC,8BAA8BtD,EAAAA;AACrC;AACL,cAAMhB,KAAiB,CAAA,GACjB31B,KAAkB,CAAA;AASxB,eAPA1J,KAAK8hC,iBAAiBxrB,IAAO,SAASsa,IAAOmR,IAAAA;AAC3C,cAAIA,GAAU,CAAA,MAAOA,GAAU,CAAA,EAE7B,QADA1C,GAAe11B,KAAKinB,GAAMpxB,KAAK27B,2BAA2B4G,EAAAA,CAAAA,GACnDr4B,GAAgBC,KAAKi6B,GAAmBhT,EAAAA,CAAAA;QAEnD,CAAA,GAEO3W,GAAKC,8BAA8BmlB,EAAAA,EACvC5kB,MAAMR,GAAKC,8BAA8BxQ,EAAAA,CAAAA,EACzCmR,SAAAA;MACL;IACF;IAEA8oB,8BAA8BpM,IAAAA;AAC5B,UAAIhzB,IAAKC;AACT,YAAA,EAAMqO,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqB1I,EAAAA,GAC9C3G,KAAQ5wB,KAAKw/B,gBAAgB3sB,EAAAA;AACnC,UAAA,CAAK+d,GACH,QAAO,CAAA;AAGT,YAAMiT,KAAmBD,GAAmBhT,EAAAA,GACtChyB,KAAagyB,GAAMpxB,KAAKw7B,wBAAwBjrB,EAAAA,GAChD+zB,KAAiBlT,GAAMpxB,KAAKw7B,wBAAwBjrB,KAAS,CAAA,GAC7Dg0B,KAAwBtvB,OAAOC,KAAKF,EAAAA,EAAuBuD,OAAQxT,CAAAA,OAChEiQ,GAAsBjQ,EAAAA,EAAKuH,WAAAA;AAGpC,WAAKvH,MAAOu/B,GACVt/B,CAAAA,KAAQs/B,GAAev/B,EAAAA,IACnBC,OAAU5F,GAAW2F,EAAAA,KAAQw/B,GAAsB95B,SAAS1F,EAAAA,OAC9Ds/B,GAAiBt/B,EAAAA,IAAOC;AAI5B,aAAOq/B;IACT;IAEAG,oCAAoCzvB,IAAegjB,IAAAA;AACjD,YAAA,EAAM1kB,OAAEA,IAAK9C,QAAEA,GAAAA,IAAW/P,KAAKigC,qBAAqB1I,EAAAA,GAC9C/3B,KAAOQ,KAAKiiC,eAAepvB,EAAAA,GAAAA,CACzBoxB,IAAaC,EAAAA,IAAcvzB,MAAMC,KAAKpR,GAAK47B,qCAAqC7mB,IAAexE,EAAAA,CAAAA,GAEjG2G,KAAQ1W,KAAKojC,qBAAqB,EAAEvwB,OAAAA,IAAO9C,QAAQk0B,GAAAA,CAAAA,GACnDttB,KAAM3W,KAAKojC,qBAAqB,EAAEvwB,OAAAA,IAAO9C,QAAQm0B,GAAAA,CAAAA;AACvD,aAAO7tB,GAAe,CAAEK,IAAOC,EAAAA,CAAAA;IACjC;IAEA6pB,yBAAAA;AACE,UAAID,KAAsBvgC,KAAKw/B,gBAAgB,CAAA,EAAGpQ,cAAAA;AAElD,eAAS+U,KAAa,GAAGA,KAAankC,KAAK4gC,cAAAA,GAAiBuD,MAAc;AACxE,cAAMz6B,KAAkB1J,KAAKw/B,gBAAgB2E,EAAAA,EAAY/U,cAAAA,GACnDgV,KAAqBxgC,KAAKygC,IAAI9D,GAAoBj7B,QAAQoE,GAAgBpE,MAAAA;AAEhFi7B,QAAAA,MAAsB,MAAA;AACpB,gBAAM3uB,KAAS,CAAA;AACf,mBAASiB,KAAQ,GAAGA,KAAQuxB,MACtB16B,GAAgBmJ,EAAAA,MAAW0tB,GAAoB1tB,EAAAA,GADLA,KAI9CjB,CAAAA,GAAOjI,KAAKD,GAAgBmJ,EAAAA,CAAAA;AAE9B,iBAAOjB;QACR,GATqB;MAUxB;AAEA,aAAO2uB;IACT;IAEA1E,kBAAkBD,IAAAA;AAChB,iBAAW7uB,MAAc/M,KAAK07B,eAAAA,EAC5B,KAAI3uB,GAAW5B,OAAOywB,GACpB,QAAO7uB;IAGb;IAEA0uB,sBAAAA;AACE,UAAI6I,KAAmB,CAAA;AAEvB,aADAtkC,KAAKu/B,UAAUrI,WAAWvM,CAAAA,OAAAA;AAAA,YAAA,EAACnrB,MAAEA,GAAAA,IAAMmrB;AAAA,eAAK2Z,KAAmBA,GAAiB7gC,OAAOjE,GAAKi8B,oBAAAA,CAAAA;MAAsB,CAAA,GACvG6I;IACT;IAEA5I,iBAAAA;AACE,aAAO17B,KAAKy7B,oBAAAA,EAAsBpqB,IAAKoa,CAAAA,OAAUA,GAAM1e,UAAAA;IACzD;IAEA+uB,qBAAqB/uB,IAAAA;AACnB,UAAIwqB,KAAW;AACf,YAAM1H,KAAW7vB,KAAKu/B,UAAU5kB,QAAAA;AAChC,eAAS9H,KAAQ,GAAGA,KAAQgd,GAASvqB,QAAQuN,MAAS;AACpD,cAAA,EAAMrT,MAAEA,GAAAA,IAASqwB,GAAShd,EAAAA,GACpBkvB,KAAYviC,GAAKs8B,qBAAqB/uB,EAAAA;AAC5C,YAAIg1B,GACF,QAAO1rB,GAAe,CAAEkhB,KAAWwK,GAAU,CAAA,GAAIxK,KAAWwK,GAAU,CAAA,CAAA,CAAA;AAExExK,QAAAA,MAAY/3B,GAAK4zB,UAAAA;MACnB;IACF;IAEAmR,6BAA6Bx3B,IAAAA;AAC3B,YAAMuJ,KAAQtW,KAAK87B,qBAAqB/uB,EAAAA;AACxC,aAAO/M,KAAKohC,uBAAuB9qB,EAAAA;IACrC;IAEAkuB,gCAAgCz3B,IAAAA;AAC9B,iBAAW0e,MAASzrB,KAAKy7B,oBAAAA,EACvB,KAAIhQ,GAAM1e,eAAeA,GACvB,QAAO0e;IAGb;IAEAgZ,4BAA4BlwB,IAAAA;AAC1B,UAAIgjB,KAAW;AACf,YAAMmN,KAAS,CAAA;AAUf,aARA1kC,KAAK0xB,UAAAA,EAAYzoB,QAAS2nB,CAAAA,OAAAA;AACxB,cAAMtrB,KAASsrB,GAAMwC,UAAAA;AACjBxC,QAAAA,GAAMpG,aAAajW,EAAAA,KACrBmwB,GAAO/6B,KAAK,CAAE4tB,IAAUA,KAAWjyB,EAAAA,CAAAA,GAErCiyB,MAAYjyB;MAAM,CAAA,GAGbo/B;IACT;IAEAC,2BAA2BpwB,IAAAA;AAAmC,UAAA,EAApBqwB,WAAEA,GAAAA,IAAWv/B,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA,GACpDkyB,KAAW,GACXjhB,KAAQ,CAAA;AACZ,YAAMouB,KAAS,CAAA;AAsBf,aAZA1kC,KAAKwwB,UAAAA,EAAYvnB,QAASwiB,CAAAA,OAAAA;AACxB,cAAMnmB,KAASmmB,GAAM2H,UAAAA;AAAAA,SATT,SAAS3H,IAAAA;AACrB,iBAAImZ,KACKnZ,GAAMpf,aAAakI,EAAAA,MAAmBqwB,KAEtCnZ,GAAMjB,aAAajW,EAAAA;QAAAA,GAMlBkX,EAAAA,MACJnV,GAAM,CAAA,MAAOihB,KACfjhB,GAAM,CAAA,IAAKihB,KAAWjyB,KAEtBo/B,GAAO/6B,KAAK2M,KAAQ,CAAEihB,IAAUA,KAAWjyB,EAAAA,CAAAA,IAG/CiyB,MAAYjyB;MAAM,CAAA,GAGbo/B;IACT;IAEAzE,qBAAqB1I,IAAAA;AACnB,YAAMsN,KAAW7kC,KAAKu/B,UAAU7G,6BAA6B90B,KAAKqM,IAAI,GAAGsnB,EAAAA,CAAAA;AACzE,UAAsB,QAAlBsN,GAAShyB,MACX,QAAOgyB;AACF;AACL,cAAMvF,KAASt/B,KAAK0xB,UAAAA;AACpB,eAAO,EAAE7e,OAAOysB,GAAOh6B,SAAS,GAAGyK,QAAQuvB,GAAOA,GAAOh6B,SAAS,CAAA,EAAG8tB,UAAAA,EAAAA;MACvE;IACF;IAEAgQ,qBAAqByB,IAAAA;AACnB,aAAO7kC,KAAKu/B,UAAU7F,6BAA6BmL,GAAShyB,OAAOgyB,GAAS90B,MAAAA;IAC9E;IAEA+0B,0BAA0BvN,IAAAA;AACxB,aAAOlhB,GAAerW,KAAKigC,qBAAqB1I,EAAAA,CAAAA;IAClD;IAEA6J,uBAAuB9qB,IAAAA;AAErB,UAAA,EADAA,KAAQD,GAAeC,EAAAA,GACX;AAEZ,YAAA,CAAQ+pB,IAAexG,EAAAA,IAAgBlpB,MAAMC,KAAK0F,EAAAA,GAC5CgqB,KAAgBtgC,KAAKigC,qBAAqBI,EAAAA,GAC1C6C,KAAcljC,KAAKigC,qBAAqBpG,EAAAA;AAC9C,aAAOxjB,GAAe,CAAEiqB,IAAe4C,EAAAA,CAAAA;IACzC;IAEA6B,uBAAuBC,IAAAA;AACrB,UAAI/D;AACJ+D,MAAAA,KAAgB3uB,GAAe2uB,EAAAA;AAC/B,YAAMhE,KAAehhC,KAAKojC,qBAAqB4B,GAAc,CAAA,CAAA;AAI7D,aAHKvuB,GAAiBuuB,EAAAA,MACpB/D,KAAgBjhC,KAAKojC,qBAAqB4B,GAAc,CAAA,CAAA,IAEnD3uB,GAAe,CAAE2qB,IAAcC,EAAAA,CAAAA;IACxC;IAEA3wB,UAAU5L,IAAAA;AACR,aAAO1E,KAAKu/B,UAAUjvB,UAAU5L,QAAAA,KAAAA,SAAAA,GAAU66B,SAAAA;IAC5C;IAEA0F,WAAAA;AACE,aAAOjlC,KAAK0xB,UAAAA,EAAYrgB,IAAKuf,CAAAA,OAAUA,GAAMpxB,IAAAA;IAC/C;IAEAgxB,YAAAA;AACE,YAAMD,KAAS,CAAA;AAMf,aAJA5f,MAAMC,KAAK5Q,KAAKilC,SAAAA,CAAAA,EAAYh8B,QAASzJ,CAAAA,OAAAA;AACnC+wB,QAAAA,GAAO5mB,KAAAA,GAAQgH,MAAMC,KAAKpR,GAAKgxB,UAAAA,KAAe,CAAA,CAAA,CAAA;MAAI,CAAA,GAG7CD;IACT;IAEA5U,aAAAA;AACE,aAAO3b,KAAK0xB,UAAAA,EAAYjuB,OAAOzD,KAAKilC,SAAAA,CAAAA,EAAYxhC,OAAOzD,KAAKwwB,UAAAA,CAAAA;IAC9D;IAEA0U,yBAAAA;AACE,YAAM5F,KAAS,CAAA;AAEf,aADAt/B,KAAKu/B,UAAUrI,WAAYtG,CAAAA,OAAU0O,GAAO31B,KAAKinB,GAAM4L,aAAa5L,GAAMpxB,KAAK48B,mBAAAA,CAAAA,CAAAA,CAAAA,GACxE,IAAIp8B,KAAK2P,YAAY2vB,EAAAA;IAC9B;IAEAhwB,WAAAA;AACE,aAAOtP,KAAKu/B,UAAUjwB,SAAAA;IACxB;IAEAiB,SAAAA;AACE,aAAOvQ,KAAKu/B,UAAUhvB,OAAAA;IACxB;IAEAqmB,YAAAA;AACE,aAAO1kB,KAAKO,UAAUzS,KAAKu/B,UAAU5kB,QAAAA,EAAUtJ,IAAKuf,CAAAA,OAAU1e,KAAKnT,MAAM6xB,GAAMpxB,KAAKo3B,UAAAA,CAAAA,CAAAA,CAAAA;IACtF;EAAA;AAGF,MAAMgN,KAAqB,SAAShT,IAAAA;AAClC,UAAMhyB,KAAa,CAAA,GACb2V,KAAgBqc,GAAMG,iBAAAA;AAI5B,WAHIxc,OACF3V,GAAW2V,EAAAA,IAAAA,OAEN3V;EACT;AAPA,MC9uBMumC,KAAiB,SAAC/zB,IAAAA;AAA4B,QAApBxS,KAAUyG,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAG3C,WAAO,EAAE+L,QADTA,KAASiI,GAAgBjI,EAAAA,GACRxS,YAAAA,IAAYoM,MAFhB,SAAA;EAGf;AD0uBA,MC9tBMo6B,KAAyBA,CAACtlC,IAASrB,OAAAA;AACvC,QAAA;AACE,aAAOyT,KAAKnT,MAAMe,GAAQuM,aAAY,aAAA5I,OAAchF,EAAAA,CAAAA,CAAAA;IACrD,SAAQkV,IAAAA;AACP,aAAO,CAAA;IACT;EAAA;AAgBa,MAAM0xB,KAAN,cAAyBr3B,GAAAA;IACtC,OAAA,MAAavJ,IAAM8D,IAAAA;AACjB,YAAMkD,KAAS,IAAIzL,KAAKyE,IAAM8D,EAAAA;AAE9B,aADAkD,GAAO1M,MAAAA,GACA0M;IACT;IAEAkE,YAAYlL,IAAAA;AAAgD,UAAA,EAA1C6gC,kBAAEA,IAAgB5b,eAAEA,GAAAA,IAAerkB,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AACtDuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKyE,OAAOA,IACZzE,KAAKslC,mBAAmBA,IACxBtlC,KAAK0pB,gBAAgBA,IACrB1pB,KAAKs/B,SAAS,CAAA,GACdt/B,KAAKulC,gBAAgB,CAAA,GACrBvlC,KAAKwlC,oBAAoB,CAAA;IAC3B;IAEAC,cAAAA;AACE,aAAOtG,GAASltB,SAASjS,KAAKs/B,MAAAA;IAChC;IAIAvgC,QAAAA;AACE,UAAA;AACEiB,aAAK0lC,sBAAAA,GACL3c,GAAckD,QAAQjsB,KAAK2lC,kBAAkB3lC,KAAKyE,MAAM,EAAEilB,eAAe1pB,KAAK0pB,cAAAA,CAAAA;AAC9E,cAAMQ,KAASziB,GAASzH,KAAK2lC,kBAAkB,EAAE/9B,aAAag+B,GAAAA,CAAAA;AAC9D,eAAO1b,GAAOE,SAAAA,IACZpqB,MAAK6lC,YAAY3b,GAAOG,WAAAA;AAE1B,eAAOrqB,KAAK8lC,uCAAAA;MACd,UAAU;AACR9lC,aAAK+lC,sBAAAA;MACP;IACF;IAEAL,wBAAAA;AACE,aAAI1lC,KAAKslC,oBACPtlC,KAAK2lC,mBAAmB3lC,KAAKslC,iBAAiB1nB,UAAAA,KAAU,GACxD5d,KAAK2lC,iBAAiBjb,gBAAgB,IAAA,GACtC1qB,KAAK2lC,iBAAiBh9B,aAAa,sBAAsB,EAAA,GACzD3I,KAAK2lC,iBAAiB/8B,MAAMo9B,UAAU,QAC/BhmC,KAAKslC,iBAAiBvlC,WAAWmV,aAAalV,KAAK2lC,kBAAkB3lC,KAAKslC,iBAAiBW,WAAAA,MAElGjmC,KAAK2lC,mBAAmBt9B,GAAY,EAAEvJ,SAAS,OAAO8J,OAAO,EAAEo9B,SAAS,OAAA,EAAA,CAAA,GACjEthC,SAAS6G,KAAKhC,YAAYvJ,KAAK2lC,gBAAAA;IAE1C;IAEAI,wBAAAA;AACE,aAAOz+B,GAAWtH,KAAK2lC,gBAAAA;IACzB;IAEAE,YAAYn/B,IAAAA;AACV,cAAQA,GAAKD,UAAAA;QACX,KAAKG,KAAK6D;AACR,cAAA,CAAKzK,KAAKkmC,wBAAwBx/B,EAAAA,EAEhC,QADA1G,KAAKmmC,uBAAuBz/B,EAAAA,GACrB1G,KAAKomC,gBAAgB1/B,EAAAA;AAE9B;QACF,KAAKE,KAAKC;AAER,iBADA7G,KAAKqmC,sBAAsB3/B,EAAAA,GACpB1G,KAAKsmC,eAAe5/B,EAAAA;MAAAA;IAEjC;IAEAy/B,uBAAuBz/B,IAAAA;AACrB,YAAM5G,KAAU4G,GAAK3G;AACrB,UAAID,OAAYE,KAAKumC,uBAAuBvmC,KAAKwmC,eAAe9/B,GAAKW,eAAAA,EACnE,QAAOrH,KAAKymC,2BAA2B,IAAA;AAClC,UAAI3mC,OAAYE,KAAK2lC,oBAAoB3lC,KAAKwmC,eAAe1mC,EAAAA,GAAU;AAAA,YAAA4mC;AAC5E,cAAM9nC,KAAaoB,KAAK2mC,mBAAmB7mC,EAAAA,GACrCP,KAAiBS,KAAK4mC,uBAAuB9mC,EAAAA;AAC9C6S,WAAe/T,IAAAA,UAAU8nC,KAAE1mC,KAAK6mC,iBAAAA,WAAYH,KAAAA,SAAjBA,GAAmB9nC,UAAAA,MACjDoB,KAAK6mC,eAAe7mC,KAAK8mC,oCAAoCloC,IAAYkB,IAASP,EAAAA,GAClFS,KAAKumC,sBAAsBzmC;MAE/B;IACF;IAEAumC,sBAAsBvmC,IAAAA;AACpB,YAAMinC,KAAwB/mC,KAAKwmC,eAAe1mC,EAAAA,GAC5CknC,KAA8B//B,GAAoBjH,KAAKumC,qBAAqBzmC,EAAAA;AAElF,UAAIinC,MAAAA,CAA0B/mC,KAAKwmC,eAAe1mC,GAAQgK,UAAAA,GAAAA;AACxD,YAAA,CAAK9J,KAAKkmC,wBAAwBpmC,GAAQgK,UAAAA,KAAAA,CAAgB9J,KAAKwmC,eAAe1mC,GAAQ4vB,iBAAAA,GAAoB;AACxG,gBAAM9wB,KAAaoB,KAAK2mC,mBAAmB7mC,EAAAA,GACrCP,KAAiBS,KAAK4mC,uBAAuB9mC,EAAAA;AACnD,cAAIA,GAAQgK,YAAY;AACtB,gBAAMk9B,MAA+Br0B,GAAe/T,IAAYoB,KAAK6mC,aAAajoC,UAAAA,EAIhF,QAAOoB,KAAKymC,2BAA2B,IAAA;AAHvCzmC,iBAAK6mC,eAAe7mC,KAAK8mC,oCAAoCloC,IAAYkB,IAASP,EAAAA,GAClFS,KAAKumC,sBAAsBzmC;UAI/B;QACF;MAAA,WACSE,KAAKumC,uBAAAA,CAAwBS,MAAAA,CAAgCD,IAAuB;AAC7F,cAAME,KAAqBjnC,KAAKknC,uBAAuBpnC,EAAAA;AACvD,YAAImnC,GACF,QAAOjnC,KAAKqmC,sBAAsBY,EAAAA;AAElCjnC,aAAK6mC,eAAe7mC,KAAKmnC,iBAAAA,GACzBnnC,KAAKumC,sBAAsB;MAE/B;IACF;IAEAW,uBAAuBpnC,IAAAA;AACrB,UAAA,EAAIsnC,eAAEA,GAAAA,IAAkBtnC;AACxB,aAAOsnC,MAAiBA,OAAkBpnC,KAAK2lC,oBAAkB;AAC/D,YAAI3lC,KAAKwmC,eAAeY,EAAAA,KAAkBpnC,KAAKulC,cAAct7B,SAASm9B,EAAAA,EACpE,QAAOA;AAEPA,QAAAA,KAAgBA,GAAcA;MAElC;AACA,aAAO;IACT;IAEAhB,gBAAgB1/B,IAAAA;AACd,UAAI0K,KAAS1K,GAAKmC;AACuC,UAAAw+B;AAApDC,SAAkC5gC,GAAK3G,UAAAA,MAC1CqR,KAASmI,GAA0BnI,EAAAA,GAC/Bm2B,GAA6CF,UAArBA,KAAC3gC,GAAKW,oBAAAA,WAAeggC,KAAAA,SAApBA,GAAsBj+B,WAAAA,MACjDgI,KAASo2B,IAA4Bp2B,EAAAA;AAGzC,aAAOpR,KAAKymC,2BAA2Br1B,IAAQpR,KAAKynC,kBAAkB/gC,GAAK3G,UAAAA,CAAAA;IAC7E;IAEAumC,eAAexmC,IAAAA;AACb,UAAIlB;AACJ,UAAI2L,GAAwBzK,EAAAA,GAAU;AAEpC,YADAlB,KAAawmC,GAAuBtlC,IAAS,YAAA,GACzC2U,OAAOC,KAAK9V,EAAAA,EAAY0G,QAAQ;AAClC,gBAAM+5B,KAAiBr/B,KAAKynC,kBAAkB3nC,EAAAA;AAC9CE,eAAK0nC,+BAA+B9oC,IAAYygC,EAAAA,GAEhDv/B,GAAQupB,YAAY;QACtB;AACA,eAAOrpB,KAAKwlC,kBAAkB77B,KAAK7J,EAAAA;MACrC;AACE,cAAQhB,GAAQgB,EAAAA,GAAAA;QACd,KAAK;AAIH,iBAHKE,KAAK2nC,UAAU7nC,EAAAA,KAAaE,KAAKwmC,eAAe1mC,GAAQmmC,WAAAA,KAC3DjmC,KAAKymC,2BAA2B,MAAMzmC,KAAKynC,kBAAkB3nC,EAAAA,CAAAA,GAExDE,KAAKwlC,kBAAkB77B,KAAK7J,EAAAA;QACrC,KAAK;AACHlB,UAAAA,KAAa,EAAEgE,KAAK9C,GAAQuM,aAAa,KAAA,GAAQ6nB,aAAa,QAAA;AAC9D,gBAAM3lB,MAtKYzO,CAAAA,OAAAA;AAC1B,kBAAM+uB,KAAQ/uB,GAAQuM,aAAa,OAAA,GAC7B0iB,KAASjvB,GAAQuM,aAAa,QAAA,GAC9Bu7B,KAAa,CAAA;AAOnB,mBANI/Y,OACF+Y,GAAW/Y,QAAQjuB,SAASiuB,IAAO,EAAA,IAEjCE,OACF6Y,GAAW7Y,SAASnuB,SAASmuB,IAAQ,EAAA,IAEhC6Y;UAAU,GA4JyB9nC,EAAAA;AAClC,qBAAWyE,MAAOgK,IAAQ;AACxB,kBAAM/J,KAAQ+J,GAAOhK,EAAAA;AACrB3F,YAAAA,GAAW2F,EAAAA,IAAOC;UACpB;AAEA,iBADAxE,KAAK0nC,+BAA+B9oC,IAAYoB,KAAKynC,kBAAkB3nC,EAAAA,CAAAA,GAChEE,KAAKwlC,kBAAkB77B,KAAK7J,EAAAA;QACrC,KAAK;AACH,cAAIE,KAAK6nC,oBAAoB/nC,EAAAA,EAC3B,QAAOE,KAAKymC,2BAA2BjyB,GAAc5I,iBAAAA;AAEvD;QACF,KAAK;AACH,cAAI5L,KAAK6nC,oBAAoB/nC,EAAAA,EAC3B,QAAOE,KAAKymC,2BAA2BjyB,GAAc7I,kBAAAA;MAAAA;IAK/D;IAIAm7B,oCAAoCloC,IAAYkB,IAAAA;AAA8B,UAArBP,KAAc8F,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACxErF,WAAKulC,cAAc57B,KAAK7J,EAAAA;AACxB,YAAM8wB,KA5MiB,WAAA;AAEzB,eAAO,EAAEpxB,MADI,CAAA,GACEZ,YAFqByG,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAEZ9F,gBAF8B8F,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,EAAA;MAG9D,EAyMqCzG,IAAYW,EAAAA;AAE7C,aADAS,KAAKs/B,OAAO31B,KAAKinB,EAAAA,GACVA;IACT;IAEAuW,mBAAAA;AACE,aAAOnnC,KAAK8mC,oCAAoC,CAAA,GAAI,IAAA;IACtD;IAEAL,2BAA2Br1B,IAAQxS,IAAAA;AACjC,aAAOoB,KAAK8nC,YAAY3C,GAAe/zB,IAAQxS,EAAAA,CAAAA;IACjD;IAEA8oC,+BAA+B36B,IAAYnO,IAAAA;AACzC,aAAOoB,KAAK8nC,YA/NW,SAAC/6B,IAAAA;AAE1B,eAAO,EAAEA,YAAAA,IAAYnO,YAF2ByG,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAElB2F,MADpB,aAAA;MAEf,EA4N+C+B,IAAYnO,EAAAA,CAAAA;IACzD;IAEAkpC,YAAYrc,IAAAA;AAIV,aAH2B,MAAvBzrB,KAAKs/B,OAAOh6B,UACdtF,KAAKmnC,iBAAAA,GAEAnnC,KAAKs/B,OAAOt/B,KAAKs/B,OAAOh6B,SAAS,CAAA,EAAG9F,KAAKmK,KAAK8hB,EAAAA;IACvD;IAEAsc,0BAA0B32B,IAAQyB,IAAAA;AAChC,YAAA,EAAMrT,MAAEA,GAAAA,IAASQ,KAAKs/B,OAAOzsB,EAAAA,GACvB4Y,KAAQjsB,GAAKA,GAAK8F,SAAS,CAAA;AAEjC,UAAoB,cAAhBmmB,QAAAA,KAAAA,SAAAA,GAAOzgB,MAGT,QAAOxL,GAAKmK,KAAKw7B,GAAe/zB,EAAAA,CAAAA;AAFhCqa,MAAAA,GAAMra,UAAUA;IAIpB;IAEA42B,2BAA2B52B,IAAQyB,IAAAA;AACjC,YAAA,EAAMrT,MAAEA,GAAAA,IAASQ,KAAKs/B,OAAOzsB,EAAAA,GACvB4Y,KAAQjsB,GAAK,CAAA;AAEnB,UAAoB,cAAhBisB,QAAAA,KAAAA,SAAAA,GAAOzgB,MAGT,QAAOxL,GAAKyoC,QAAQ9C,GAAe/zB,EAAAA,CAAAA;AAFnCqa,MAAAA,GAAMra,SAASA,KAASqa,GAAMra;IAIlC;IAIAq2B,kBAAkB3nC,IAAAA;AAChB,UAAI0E;AACJ,YAAM5F,KAAa,CAAA;AACnB,iBAAWk0B,MAAate,IAAuB;AAC7C,cAAM0zB,KAAa1zB,GAAsBse,EAAAA;AACzC,YACEoV,GAAWppC,WACXgH,GAA2BhG,IAAS,EAClCkF,kBAAkBkjC,GAAWppC,SAC7B6H,WAAW3G,KAAK2lC,iBAAAA,CAAAA,EAGlB/mC,CAAAA,GAAWk0B,EAAAA,IAAAA;iBACFoV,GAAWz8B,QAAAA;AAEpB,cADAjH,KAAQ0jC,GAAWz8B,OAAO3L,EAAAA,GACtB0E,IAAO;AACT,gBAAI2jC,KAAAA;AACJ,uBAAWC,MAAgBpoC,KAAKqoC,0BAA0BvoC,EAAAA,EACxD,KAAIooC,GAAWz8B,OAAO28B,EAAAA,MAAkB5jC,IAAO;AAC7C2jC,cAAAA,KAAAA;AACA;YACF;AAEGA,YAAAA,OACHvpC,GAAWk0B,EAAAA,IAAatuB;UAE5B;QAAA,MACS0jC,CAAAA,GAAWhY,kBACpB1rB,KAAQ1E,GAAQ8I,MAAMs/B,GAAWhY,aAAAA,GAC7B1rB,OACF5F,GAAWk0B,EAAAA,IAAatuB;MAG9B;AAEA,UAAI+F,GAAwBzK,EAAAA,GAAU;AACpC,cAAMyO,KAAS62B,GAAuBtlC,IAAS,YAAA;AAC/C,mBAAWyE,MAAOgK,GAChB/J,CAAAA,KAAQ+J,GAAOhK,EAAAA,GACf3F,GAAW2F,EAAAA,IAAOC;MAEtB;AAEA,aAAO5F;IACT;IAEA+nC,mBAAmB7mC,IAAAA;AACjB,YAAMlB,KAAa,CAAA;AACnB,aAAOkB,MAAWA,OAAYE,KAAK2lC,oBAAkB;AACnD,mBAAW7S,MAAate,IAAwB;AAC9C,gBAAM8zB,KAAa9zB,GAAuBse,EAAAA;AAEK,cAAAyV;AAD/C,cAAA,UAAID,GAAWvpC;AACb,gBAAID,GAAQgB,EAAAA,MAAawoC,GAAWxpC,QAAAA,EACf,UAAfypC,KAAAD,GAAWzoC,SAAAA,WAAI0oC,MAAfA,GAAAxiC,KAAAuiC,IAAkBxoC,EAAAA,KAAAA,CAAawoC,GAAWzoC,UAC5CjB,GAAW+K,KAAKmpB,EAAAA,GACZwV,GAAW1oC,iBACbhB,GAAW+K,KAAK2+B,GAAW1oC,aAAAA;;QAKrC;AACAE,QAAAA,KAAUA,GAAQC;MACpB;AACA,aAAOnB,GAAW4pC,QAAAA;IACpB;IAEA5B,uBAAuB9mC,IAAAA;AACrB,YAAMlB,KAAa,CAAA,GACb6jC,KAAchuB,OAAO8F,OAAO/F,EAAAA,EAAwBsH,KAAK2sB,CAAAA,OAAYA,GAAS3pC,YAAYA,GAAQgB,EAAAA,CAAAA;AASxG,eAR0B2iC,QAAAA,KAAAA,SAAAA,GAAaljC,mBAAkB,CAAA,GAEvC0J,QAAS6pB,CAAAA,OAAAA;AACrBhzB,QAAAA,GAAQ0qB,aAAasI,EAAAA,MACvBl0B,GAAWk0B,EAAAA,IAAahzB,GAAQuM,aAAaymB,EAAAA;MAC/C,CAAA,GAGKl0B;IACT;IAEAypC,0BAA0BvoC,IAAAA;AACxB,YAAM4oC,KAAY,CAAA;AAClB,aAAO5oC,MAAWA,OAAYE,KAAK2lC,oBAAkB;AACnD,cAAMr9B,KAAMxJ,GAAQgB,EAAAA;AAChB2J,QAAAA,GAAAA,EAAmBQ,SAAS3B,EAAAA,KAC9BogC,GAAU/+B,KAAK7J,EAAAA,GAEjBA,KAAUA,GAAQC;MACpB;AACA,aAAO2oC;IACT;IAIAlC,eAAe1mC,IAAAA;AACb,WAAIA,QAAAA,KAAAA,SAAAA,GAAS2G,cAAaG,KAAKC,gBAAAA,CAC3B0D,GAAwBzK,EAAAA,KAAAA,CACxBgG,GAA2BhG,IAAS,EAAEkF,kBAAkB,MAAM2B,WAAW3G,KAAK2lC,iBAAAA,CAAAA,EAElF,QAAOl8B,GAAAA,EAAmBQ,SAASnL,GAAQgB,EAAAA,CAAAA,KACI,YAA7CiM,OAAOC,iBAAiBlM,EAAAA,EAASkmC;IACrC;IAEAE,wBAAwBx/B,IAAAA;AACtB,WAAIA,QAAAA,KAAAA,SAAAA,GAAMD,cAAaG,KAAK6D,UAAW;AACvC,UAAA,CAAKk+B,GAA+BjiC,GAAKmC,IAAAA,EAAO;AAChD,YAAA,EAAM9I,YAAEA,IAAUsH,iBAAEA,IAAe4+B,aAAEA,GAAAA,IAAgBv/B;AACrD,aAAIkiC,GAA0B7oC,GAAWsH,eAAAA,KAAAA,CAAqBrH,KAAKwmC,eAAezmC,GAAWsH,eAAAA,KACzFigC,GAAkCvnC,EAAAA,IAAAA,SADtC,CAEQsH,MAAmBrH,KAAKwmC,eAAen/B,EAAAA,KAAAA,CAAqB4+B,MAAejmC,KAAKwmC,eAAeP,EAAAA;IACzG;IAEA0B,UAAU7nC,IAAAA;AACR,aAA4B,SAArBhB,GAAQgB,EAAAA,KAAqBE,KAAKwmC,eAAe1mC,GAAQC,UAAAA,KAAeD,GAAQC,WAAWgyB,cAAcjyB;IAClH;IAEA+nC,oBAAoB/nC,IAAAA;AAClB,UAAI0U,GAAc9I,uBAAuB;AAAA,YAAAm9B;AACvC,cAAMzzB,KAAiC,UAA1ByzB,KAAG/oC,GAAQuH,oBAAAA,WAAewhC,KAAAA,SAAvBA,GAAyBz/B;AACzC,eAAOgM,MAAW,KAAKvV,KAAKuV,EAAAA;MAC9B;AACE,aAAOtV,GAAQuH;IAEnB;IAIAy+B,yCAAAA;AACE,YAAMgD,KAAgB9oC,KAAK+oC,+BAAAA;AAE3B,eAASl2B,KAAQ,GAAGA,KAAQ7S,KAAKs/B,OAAOh6B,QAAQuN,MAAS;AACvD,cAAMm2B,KAAShpC,KAAKipC,+BAA+Bp2B,EAAAA;AAC/Cm2B,QAAAA,OACEA,GAAOE,MAA0B,IAApBJ,GAAcI,OAC7BlpC,KAAKgoC,2BAA2B,MAAMn1B,EAAAA,GAGpCm2B,GAAOG,SAAgC,IAAvBL,GAAcK,UAChCnpC,KAAK+nC,0BAA0B,MAAMl1B,EAAAA;MAG3C;IACF;IAEAo2B,+BAA+Bp2B,IAAAA;AAC7B,YAAM/S,KAAUE,KAAKulC,cAAc1yB,EAAAA;AACnC,UAAI/S,MACEA,GAAQsJ,eAAAA,CACLK,GAAAA,EAAmBQ,SAASnL,GAAQgB,EAAAA,CAAAA,KAAAA,CAAcE,KAAKwlC,kBAAkBv7B,SAASnK,EAAAA,EACrF,QAAOspC,GAAsBtpC,EAAAA;IAIrC;IAEAipC,iCAAAA;AACE,YAAMjpC,KAAUuI,GAAYmM,GAAuB3V,QAAQC,OAAAA;AAE3D,aADAkB,KAAK2lC,iBAAiBp8B,YAAYzJ,EAAAA,GAC3BspC,GAAsBtpC,EAAAA;IAC/B;EAAA;AAKF,MAAMwnC,KAAoC,SAASxnC,IAAAA;AACjD,UAAA,EAAMupC,YAAEA,GAAAA,IAAet9B,OAAOC,iBAAiBlM,EAAAA;AAC/C,WAAO,CAAE,OAAO,YAAY,UAAA,EAAamK,SAASo/B,EAAAA;EACpD;AAHA,MAKMT,KAA6BliC,CAAAA,OAASA,MAAAA,CAAS6gC,GAAyB7gC,GAAK0C,WAAAA;AALnF,MAOMggC,KAAwB,SAAStpC,IAAAA;AACrC,UAAM8I,KAAQmD,OAAOC,iBAAiBlM,EAAAA;AACtC,QAAsB,YAAlB8I,GAAMo9B,QACR,QAAO,EAAEkD,KAAKtoC,SAASgI,GAAM0gC,SAAAA,GAAYH,QAAQvoC,SAASgI,GAAM2gC,YAAAA,EAAAA;EAEpE;AAZA,MAcM3D,KAAa,SAASl/B,IAAAA;AAC1B,WAAsB,YAAlB5H,GAAQ4H,EAAAA,IACHqB,WAAWyhC,gBAEXzhC,WAAW0hC;EAEtB;AApBA,MAwBMjC,MAA+Bp2B,CAAAA,OAAWA,GAAOlN,QAAQ,IAAI6K,OAAAA,IAAMtL,OAAK6V,GAA2BE,QAAAA,GAAAA,CAAAA,GAAY,EAAA;AAxBrH,MA0BMmvB,KAAkCv3B,CAAAA,OAAW,IAAIrC,OAAAA,IAAMtL,OAAK6V,GAA2BE,QAAU,IAAA,CAAA,EAAE3Z,KAAKuR,EAAAA;AA1B9G,MA4BMm2B,KAA4Bn2B,CAAAA,OAAW,MAAMvR,KAAKuR,EAAAA;AA5BxD,MC1bMs4B,KAA+B,CACnC,mBACA,gBACA,uBACA,qBACA,yBACA,UAAA;ADobF,MClbMC,KAAgC;ADkbtC,MCjbMC,KAA4B,IAAAnmC,OAAOkmC,IAAgC,GAAA;ADibzE,MC/aME,KAAsB,IAAI96B,OAAO,gBAAgB,GAAA;AD+avD,MC7aM+6B,KAAc,EAClB,oBAAoB,SAASC,IAAAA;AAC3B,QAAIrlC;AACJ,QAAIqlC,cAAwB5K,GAC1Bz6B,CAAAA,KAAWqlC;SACN;AAAA,UAAA,EAAIA,cAAwBC,aAGjC,OAAM,IAAIp7B,MAAM,uBAAA;AAFhBlK,MAAAA,KAAW2gC,GAAWtmC,MAAMgrC,GAAa1gB,SAAAA,EAAWoc,YAAAA;IAGtD;AAEA,WAAO/gC,GAASwgC,uBAAAA,EAAyB1yB,aAAAA;EAC1C,GAED,aAAa,SAASu3B,IAAAA;AACpB,QAAIjqC;AACJ,QAAIiqC,cAAwB5K,GAC1Br/B,CAAAA,KAAUsxB,GAAaC,OAAO0Y,EAAAA;SACzB;AAAA,UAAA,EAAIA,cAAwBC,aAGjC,OAAM,IAAIp7B,MAAM,uBAAA;AAFhB9O,MAAAA,KAAUiqC,GAAansB,UAAAA,IAAU;IAGnC;AA0BA,WAvBAjN,MAAMC,KAAK9Q,GAAQ8qB,iBAvCe,6BAAA,CAAA,EAuCkC3hB,QAASghC,CAAAA,OAAAA;AAC3E3iC,MAAAA,GAAW2iC,EAAAA;IAAG,CAAA,GAIhBP,GAA6BzgC,QAAS6pB,CAAAA,OAAAA;AACpCniB,YAAMC,KAAK9Q,GAAQ8qB,iBAAgBnnB,IAAAA,OAAKqvB,IAAAA,GAAAA,CAAAA,CAAAA,EAAe7pB,QAASghC,CAAAA,OAAAA;AAC9DA,QAAAA,GAAGvf,gBAAgBoI,EAAAA;MAAU,CAAA;IAC7B,CAAA,GAIJniB,MAAMC,KAAK9Q,GAAQ8qB,iBAAiBgf,EAAAA,CAAAA,EAA+B3gC,QAASghC,CAAAA,OAAAA;AAC1E,UAAA;AACE,cAAMrrC,KAAasT,KAAKnT,MAAMkrC,GAAG59B,aAAas9B,EAAAA,CAAAA;AAC9CM,QAAAA,GAAGvf,gBAAgBif,EAAAA;AACnB,mBAAWlrC,MAAQG,IAAY;AAC7B,gBAAM4F,KAAQ5F,GAAWH,EAAAA;AACzBwrC,UAAAA,GAAGthC,aAAalK,IAAM+F,EAAAA;QACxB;MACF,SAASmP,IAAAA;MAAQ;IAAA,CAAA,GAGZ7T,GAAQupB,UAAUnlB,QAAQ2lC,IAAqB,EAAA;EACxD,EAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,KAAA,CAAA;ACrEa,MAAMK,KAAN,cAAgCl8B,GAAAA;IAC7C2B,YAAYw6B,IAAmBp9B,IAAAA;AAC7B6C,YAAAA,GAASvK,SAAAA,GACTrF,KAAKmqC,oBAAoBA,IACzBnqC,KAAK+M,aAAaA,IAClB/M,KAAKmL,KAAKnL,KAAK+M,WAAW5B,IAC1BnL,KAAKrB,OAAOqB,KAAK+M,WAAWpO;IAC9B;IAEA6D,SAAAA;AACE,aAAOxC,KAAKmqC,kBAAkBC,2BAA2BpqC,KAAK+M,UAAAA;IAChE;EAAA;AAGFm9B,KAAkB7sB,YAAY,yBAAA,GAC9B6sB,GAAkB7sB,YAAY,yBAAA,GAC9B6sB,GAAkB7sB,YAAY,yBAAA,GAC9B6sB,GAAkB7sB,YAAY,0BAAA,GAC9B6sB,GAAkB7sB,YAAY,0BAAA,GAC9B6sB,GAAkB7sB,YAAY,sBAAA,GAC9B6sB,GAAkB7sB,YAAY,0BAAA,GAC9B6sB,GAAkB7sB,YAAY,mBAAA,GAC9B6sB,GAAkB7sB,YAAY,oBAAA,GAC9B6sB,GAAkB7sB,YAAY,wBAAA,GAC9B6sB,GAAkB7sB,YAAY,wBAAA,GAC9B6sB,GAAkB7sB,YAAY,iCAAA,GAC9B6sB,GAAkB7sB,YAAY,yBAAA,GAC9B6sB,GAAkB7sB,YAAY,2BAAA,GAC9B6sB,GAAkB7sB,YAAY,oBAAA,GAC9B6sB,GAAkB7sB,YAAY,oBAAA,GAC9B6sB,GAAkB7sB,YAAY,wBAAA,GAC9B6sB,GAAkB7sB,YAAY,8BAAA,GAC9B6sB,GAAkB7sB,YAAY,8BAAA;AChCf,MAAMgtB,KAAN,cAAgCr8B,GAAAA;IAC7C2B,cAAAA;AAA8B,UAAlBtR,KAAWgH,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACxBuK,YAAAA,GAASvK,SAAAA,GACTrF,KAAKsqC,qBAAqB,CAAA,GAC1B35B,MAAMC,KAAKvS,EAAAA,EAAa4K,QAAS8D,CAAAA,OAAAA;AAC/B/M,aAAKuqC,iBAAiBx9B,EAAAA;MAAW,CAAA;IAErC;IAEA2uB,iBAAAA;AACE,YAAM9pB,KAAS,CAAA;AACf,iBAAWzG,MAAMnL,KAAKsqC,oBAAoB;AACxC,cAAMv9B,KAAa/M,KAAKsqC,mBAAmBn/B,EAAAA;AAC3CyG,QAAAA,GAAOjI,KAAKoD,EAAAA;MACd;AACA,aAAO6E;IACT;IAEA24B,iBAAiBx9B,IAAAA;AAIf,aAHK/M,KAAKsqC,mBAAmBv9B,GAAW5B,EAAAA,MACtCnL,KAAKsqC,mBAAmBv9B,GAAW5B,EAAAA,IAAM,IAAI++B,GAAkBlqC,MAAM+M,EAAAA,IAEhE/M,KAAKsqC,mBAAmBv9B,GAAW5B,EAAAA;IAC5C;IAEAq/B,oBAAoBz9B,IAAAA;AAClB,aAAOA,GAAW5B,MAAMnL,KAAKsqC;IAC/B;IAEAF,2BAA2Br9B,IAAAA;AACiB,UAAA2nB,IAAAC;AAA1C,UAAI30B,KAAKwqC,oBAAoBz9B,EAAAA,EAC3B,QAAoB2nB,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAAgD,UAAhDC,KAAbD,GAAe+V,mDAAAA,WAA8C9V,KAAAA,SAA7DA,GAAA5uB,KAAA2uB,IAAgE3nB,EAAAA;IAE3E;IAEA29B,mBAAmB39B,IAAAA;AACjB,YAAM49B,KAAoB3qC,KAAKsqC,mBAAmBv9B,GAAW5B,EAAAA;AAE7D,aAAA,OADOnL,KAAKsqC,mBAAmBv9B,GAAW5B,EAAAA,GACnCw/B;IACT;EAAA;AC1Ca,MAAMC,KAAN,MAAMA;IACnBj7B,YAAYk7B,IAAAA;AACV7qC,WAAK6qC,cAAcA,IACnB7qC,KAAK0E,WAAW1E,KAAK6qC,YAAYnmC;AACjC,YAAMomC,KAAgB9qC,KAAK6qC,YAAYE,iBAAAA;AACvC/qC,WAAKqgC,gBAAgByK,GAAc,CAAA,GACnC9qC,KAAK65B,cAAciR,GAAc,CAAA,GAEjC9qC,KAAKsgC,gBAAgBtgC,KAAK0E,SAASu7B,qBAAqBjgC,KAAKqgC,aAAAA,GAC7DrgC,KAAKkjC,cAAcljC,KAAK0E,SAASu7B,qBAAqBjgC,KAAK65B,WAAAA,GAE3D75B,KAAK4wB,QAAQ5wB,KAAK0E,SAAS86B,gBAAgBx/B,KAAKkjC,YAAYrwB,KAAAA,GAC5D7S,KAAK+9B,iBAAiB/9B,KAAK4wB,MAAMmN,eAAAA,GACjC/9B,KAAKgrC,oBAAoBhrC,KAAK4wB,MAAMpxB,KAAK87B,oBAAoBt7B,KAAKkjC,YAAYnzB,SAAS,CAAA,GACvF/P,KAAKirC,gBAAgBjrC,KAAK4wB,MAAMpxB,KAAK87B,oBAAoBt7B,KAAKkjC,YAAYnzB,MAAAA;IAC5E;IAEAm7B,yBAAAA;AACE,aAAIlrC,KAAK4wB,MAAMyM,cAAAA,KAAmBr9B,KAAK4wB,MAAMgN,WAAAA,KAAAA,CAAiB59B,KAAK4wB,MAAMhW,QAAAA,IAClC,MAA9B5a,KAAKsgC,cAAcvwB,SAEnB/P,KAAK+9B,kBAAyC,SAAvB/9B,KAAKirC;IAEvC;IAEAE,4BAAAA;AACE,aACEnrC,KAAK4wB,MAAMyM,cAAAA,KAAAA,CACVr9B,KAAK4wB,MAAMgN,WAAAA,MACX59B,KAAK+9B,kBAAyC,SAAvB/9B,KAAKirC,iBAAqD,SAA3BjrC,KAAKgrC;IAEhE;IAEAI,0BAAAA;AACE,aAAOprC,KAAK4wB,MAAMyM,cAAAA,KAAmBr9B,KAAK4wB,MAAMgN,WAAAA,KAAgB59B,KAAK4wB,MAAMhW,QAAAA;IAC7E;IAEAywB,wBAAAA;AACE,aAAOrrC,KAAK4wB,MAAMgN,WAAAA,KAA8C,MAA9B59B,KAAKsgC,cAAcvwB,UAAAA,CAAiB/P,KAAK4wB,MAAMhW,QAAAA;IACnF;IAEA0wB,iCAAAA;AACE,aAAOtrC,KAAK4wB,MAAMyM,cAAAA,KAAAA,CAAoBr9B,KAAK4wB,MAAMgN,WAAAA,KAAgB59B,KAAK4wB,MAAMhW,QAAAA;IAC9E;EAAA;ACjBa,MAAM2wB,KAAN,cAA0Bv9B,GAAAA;IACvC2B,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAK0E,WAAW,IAAIy6B,MACpBn/B,KAAK3B,cAAc,CAAA,GACnB2B,KAAKwrC,oBAAoB,CAAA,GACzBxrC,KAAKyrC,WAAW;IAClB;IAEAja,YAAY9sB,IAAAA;AAC8B,UAAAgwB,IAAAgX;AAAxC,UAAA,CAAKhnC,GAAS4L,UAAUtQ,KAAK0E,QAAAA,EAI3B,QAHA1E,KAAK0E,WAAWA,IAChB1E,KAAK2rC,mBAAAA,GACL3rC,KAAKyrC,YACe/W,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAA8B,UAA9BgX,KAAbhX,GAAekX,iCAAAA,WAA4BF,KAAAA,SAA3CA,GAAA3lC,KAAA2uB,IAA8ChwB,EAAAA;IAEzD;IAIAmnC,cAAAA;AACE,aAAO,EACLnnC,UAAU1E,KAAK0E,UACfomC,eAAe9qC,KAAK+qC,iBAAAA,EAAAA;IAExB;IAEAe,aAAYnhB,IAAAA;AAA8B,UAAAiL,IAAAmW,IAAAC,IAAAC;AAAA,UAAA,EAA7BvnC,UAAEA,IAAQomC,eAAEA,GAAAA,IAAengB;AAItC,aAAA,UAHAiL,KAAAA,KAAKhB,aAAAA,WAAQgB,MAA6B,UAA7BmW,KAAbnW,GAAesW,gCAAAA,WAA2BH,MAA1CA,GAAAhmC,KAAA6vB,EAAAA,GACA51B,KAAKwxB,YAAwB,QAAZ9sB,KAAmBA,KAAW,IAAIy6B,IAAAA,GACnDn/B,KAAKmsC,aAA8B,QAAjBrB,KAAwBA,KAAgB,CAAE,GAAG,CAAA,CAAA,GAC3CkB,UAApBA,KAAOhsC,KAAK40B,aAAAA,WAAQoX,MAAAA,UAAAC,KAAbD,GAAeI,+BAAAA,WAA0BH,KAAAA,SAAzCA,GAAAlmC,KAAAimC,EAAAA;IACT;IAIAK,WAAW7sC,IAAAA;AAAqD,UAAA,EAA/C8sC,gBAAEA,GAAAA,IAAgBjnC,UAAAC,SAAA,KAAA,WAAAD,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,EAAEinC,gBAAAA,KAAgB;AACtD,YAAMxB,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B/qC,WAAKwxB,YAAYxxB,KAAK0E,SAASq8B,kBAAkBvhC,IAAMsrC,EAAAA,CAAAA;AAEvD,YAAMzK,KAAgByK,GAAc,CAAA,GAC9BjR,KAAcwG,KAAgB7gC,GAAK4zB,UAAAA;AAKzC,aAHIkZ,MACFtsC,KAAKmsC,aAAatS,EAAAA,GAEb75B,KAAKusC,iCAAiC,CAAElM,IAAexG,EAAAA,CAAAA;IAChE;IAEA2S,cAAAA;AAAiC,UAArB5b,KAAKvrB,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAA,CAAA,IAAG,IAAIg3B;AACtB,YAAM33B,KAAW,IAAIy6B,GAAS,CAAEvO,EAAAA,CAAAA;AAChC,aAAO5wB,KAAKysC,eAAe/nC,EAAAA;IAC7B;IAEA+nC,iBAAAA;AAA0C,UAA3B/nC,KAAQW,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAA,CAAA,IAAG,IAAI85B;AAC5B,YAAM2L,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B/qC,WAAKwxB,YAAYxxB,KAAK0E,SAASs7B,sBAAsBt7B,IAAUomC,EAAAA,CAAAA;AAE/D,YAAMzK,KAAgByK,GAAc,CAAA,GAC9BjR,KAAcwG,KAAgB37B,GAAS0uB,UAAAA;AAG7C,aADApzB,KAAKmsC,aAAatS,EAAAA,GACX75B,KAAKusC,iCAAiC,CAAElM,IAAexG,EAAAA,CAAAA;IAChE;IAEA6S,aAAat7B,IAAQ7I,IAAAA;AACnB,YAAM3J,KAAaoB,KAAK2sC,yBAAAA,GAClBntC,KAAOu6B,GAAKqE,4BAA4BhtB,IAAQxS,EAAAA;AACtD,aAAOoB,KAAKqsC,WAAW7sC,IAAM+I,EAAAA;IAC/B;IAEAqkC,mBAAAA;AACE,YAAM9B,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B/qC,WAAKwxB,YAAYxxB,KAAK0E,SAAS29B,wBAAwByI,EAAAA,CAAAA;AAEvD,YAAMzK,KAAgByK,GAAc,CAAA,GAC9BjR,KAAcwG,KAAgB;AAGpC,aADArgC,KAAKmsC,aAAatS,EAAAA,GACX75B,KAAKusC,iCAAiC,CAAElM,IAAexG,EAAAA,CAAAA;IAChE;IAEAgT,kBAAAA;AACE,YAAMC,KAAY,IAAIlC,GAAmB5qC,IAAAA;AAEzC,UAAI8sC,GAAU1B,wBAAAA,EAEZ,QADAprC,KAAK+sC,kBAAAA,GACE/sC,KAAKmsC,aAAaW,GAAUzM,aAAAA;AAC9B,UAAIyM,GAAUzB,sBAAAA,GAAyB;AAC5C,cAAM3mC,KAAW,IAAIy6B,GAAS,CAAE2N,GAAUlc,MAAM6L,gBAAAA,CAAAA,CAAAA;AAChD,eAAOz8B,KAAKysC,eAAe/nC,EAAAA;MAC7B;AAAO,aAAIooC,GAAU5B,uBAAAA,IACZlrC,KAAK4sC,iBAAAA,IACHE,GAAUxB,+BAAAA,IACZtrC,KAAKgtC,yBAAAA,IACHF,GAAU3B,0BAAAA,IACZnrC,KAAKitC,oBAAoBH,EAAAA,IAEzB9sC,KAAK0sC,aAAa,IAAA;IAE7B;IAEAQ,WAAWzoC,IAAAA;AACT,YAAMC,KAAW2gC,GAAWtmC,MAAM0F,IAAM,EAAEilB,eAAe,EAAEjoB,cAAAA,KAAc,EAAA,CAAA,EAAUgkC,YAAAA,GAC7EqF,KAAgB9qC,KAAK+qC,iBAAAA;AAE3B/qC,WAAKwxB,YAAYxxB,KAAK0E,SAASy7B,qBAAqBz7B,IAAUomC,EAAAA,CAAAA;AAE9D,YAAMzK,KAAgByK,GAAc,CAAA,GAC9BjR,KAAcwG,KAAgB37B,GAAS0uB,UAAAA,IAAc;AAG3D,aADApzB,KAAKmsC,aAAatS,EAAAA,GACX75B,KAAKusC,iCAAiC,CAAElM,IAAexG,EAAAA,CAAAA;IAChE;IAEAsT,YAAY1oC,IAAAA;AACV,YAAMC,KAAW2gC,GAAWtmC,MAAM0F,EAAAA,EAAMghC,YAAAA,EAAc/F,6BAA6B1/B,KAAK0E,QAAAA,GAClFsgC,KAAgBhlC,KAAKotC,iBAAiB,EAAEpjC,QAAAA,MAAQ,CAAA,GAChD8gC,KAAgB9qC,KAAK0E,SAASqgC,uBAAuBC,EAAAA;AAE3D,aADAhlC,KAAKwxB,YAAY9sB,EAAAA,GACV1E,KAAKmsC,aAAarB,EAAAA;IAC3B;IAEAuC,WAAW1uC,IAAAA;AACT,aAAOqB,KAAKstC,YAAY,CAAE3uC,EAAAA,CAAAA;IAC5B;IAEA2uC,YAAYjiC,IAAAA;AACV,YAAMhN,KAAc,CAAA;AASpB,aAPAsS,MAAMC,KAAKvF,EAAAA,EAAOpC,QAAStK,CAAAA,OAAAA;AAAS,YAAA4uC;AAClC,YAAiBA,UAAjBA,KAAIvtC,KAAK40B,aAAAA,WAAQ2Y,MAAbA,GAAeC,4BAA4B7uC,EAAAA,GAAO;AACpD,gBAAMoO,KAAa8mB,GAAW4Z,kBAAkB9uC,EAAAA;AAChDN,UAAAA,GAAYsL,KAAKoD,EAAAA;QACnB;MAAA,CAAA,GAGK/M,KAAK0tC,kBAAkBrvC,EAAAA;IAChC;IAEAsvC,iBAAiB5gC,IAAAA;AACf,aAAO/M,KAAK0tC,kBAAkB,CAAE3gC,EAAAA,CAAAA;IAClC;IAEA2gC,kBAAkBrvC,IAAAA;AAChB,UAAImB,KAAO,IAAIu6B;AAef,aAbAppB,MAAMC,KAAKvS,EAAAA,EAAa4K,QAAS8D,CAAAA,OAAAA;AAAe,YAAA+gB;AAC9C,cAAM9iB,KAAO+B,GAAWqgB,QAAAA,GAClB7uB,KAAuCuvB,UAA3BA,KAAGtZ,GAAmBxJ,EAAAA,MAAAA,WAAK8iB,KAAAA,SAAxBA,GAA0BvvB,cAEzCK,KAAaoB,KAAK2sC,yBAAAA;AACpBpuC,QAAAA,OACFK,GAAWL,eAAeA;AAG5B,cAAMqvC,KAAiB7T,GAAK8T,gCAAgC9gC,IAAYnO,EAAAA;AACxEY,QAAAA,KAAOA,GAAK86B,WAAWsT,EAAAA;MAAe,CAAA,GAGjC5tC,KAAKqsC,WAAW7sC,EAAAA;IACzB;IAEAsuC,gCAAgC5P,IAAAA;AAC9B,YAAM8G,KAAgBhlC,KAAKotC,iBAAAA;AAC3B,UAAI32B,GAAiBuuB,EAAAA,GAAgB;AACnC,YAAkB,eAAd9G,MAAwD,MAA5B8G,GAAc,CAAA,EAAGj1B,OAC/C,QAAA;AAEF,YAAI/P,KAAK+tC,oCAAoC7P,EAAAA,EAC3C,QAAA;MAEJ,WACM8G,GAAc,CAAA,EAAGnyB,UAAUmyB,GAAc,CAAA,EAAGnyB,MAC9C,QAAA;AAGJ,aAAA;IACF;IAEAm7B,kBAAkB9P,IAAAA;AAA4B,UACxCnxB,IAAYkhC,IAA2BC,IAAAA,EADhB5oC,QAAEA,GAAAA,IAAQD,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AAExC,YAAM2/B,KAAgBhlC,KAAKotC,iBAAAA;AAC3B,UAAI92B,KAAQtW,KAAK+qC,iBAAAA;AACjB,YAAMoD,KAAuB13B,GAAiBH,EAAAA;AAQ9C,UANI63B,KACFF,KAA0C,eAAd/P,MAAwD,MAA5B8G,GAAc,CAAA,EAAGj1B,SAEzEm+B,KAAuBlJ,GAAc,CAAA,EAAGnyB,UAAUmyB,GAAc,CAAA,EAAGnyB,OAGjEo7B,MACEjuC,KAAKouC,+BAAAA,GAAkC;AACzC,cAAMxd,KAAQ5wB,KAAKquC,SAAAA;AASnB,YAPIzd,GAAMgN,WAAAA,IACR59B,KAAK+sC,kBAAAA,IAEL/sC,KAAKsuC,4BAAAA,GAGPtuC,KAAKmsC,aAAa71B,GAAM,CAAA,CAAA,GACpBsa,GAAMhW,QAAAA,EACR,QAAA;MAEJ;AAUF,aAPIuzB,OACF73B,KAAQtW,KAAKuuC,4BAA4BrQ,IAAW,EAAE54B,QAAAA,GAAAA,CAAAA,GACpC,eAAd44B,OACFnxB,KAAa/M,KAAKwuC,qBAAqBl4B,EAAAA,KAIvCvJ,MACF/M,KAAKyuC,eAAe1hC,EAAAA,GAAAA,UAGpB/M,KAAKwxB,YAAYxxB,KAAK0E,SAAS81B,kBAAkBlkB,EAAAA,CAAAA,GACjDtW,KAAKmsC,aAAa71B,GAAM,CAAA,CAAA,GAAA,CACpB23B,MAAAA,CAA6BC,MAAAA;IAIrC;IAEAQ,kBAAkBp4B,IAAAA;AAChB,YAAA,CAAQihB,EAAAA,IAAa5mB,MAAMC,KAAK5Q,KAAK+qC,iBAAAA,CAAAA;AAErC,aADA/qC,KAAKwxB,YAAYxxB,KAAK0E,SAASg2B,4BAA4BpkB,IAAOihB,EAAAA,CAAAA,GAC3Dv3B,KAAKmsC,aAAa5U,EAAAA;IAC3B;IAEAoX,iBAAiB5hC,IAAAA;AACf,YAAMuJ,KAAQtW,KAAK0E,SAASo3B,qBAAqB/uB,EAAAA;AACjD,UAAIuJ,GAGF,QAFAtW,KAAK4uC,sBAAAA,GACL5uC,KAAKwxB,YAAYxxB,KAAK0E,SAAS81B,kBAAkBlkB,EAAAA,CAAAA,GAC1CtW,KAAKmsC,aAAa71B,GAAM,CAAA,CAAA;IAEnC;IAEA02B,2BAAAA;AACE,YAAA,CAAQ3M,IAAexG,EAAAA,IAAgBlpB,MAAMC,KAAK5Q,KAAK+qC,iBAAAA,CAAAA,GACjDna,KAAQ5wB,KAAK0E,SAASw7B,mBAAmBrG,EAAAA;AAE/C,aADA75B,KAAK6uC,uBAAuBje,GAAMG,iBAAAA,CAAAA,GAC3B/wB,KAAKmsC,aAAa9L,EAAAA;IAC3B;IAEAyO,oBAAAA;AAEE,aADA9uC,KAAK+uC,sBAAsB/uC,KAAKgvC,YAAAA,GACzBhvC,KAAK0sC,aA9PI,GAAA;IA+PlB;IAEAuC,oBAAAA;AACE,UAAgC,QAA5BjvC,KAAK+uC,oBAEP,QADA/uC,KAAKkvC,iBAAiB,CAAElvC,KAAK+uC,qBAAqB/uC,KAAK+uC,sBAAsBI,CAAAA,CAAAA,GACtEnvC,KAAK+qC,iBAAAA;IAEhB;IAEAqE,oBAAAA;AACEpvC,WAAK+uC,sBAAsB;IAC7B;IAIAM,oBAAoB96B,IAAAA;AAClB,YAAM/P,KAAQxE,KAAKwrC,kBAAkBj3B,EAAAA;AACrC,aAAgB,QAAT/P,MAAAA,UAAiBA;IAC1B;IAEA8qC,uBAAuB/6B,IAAAA;AACrB,YAAM/P,KAAAA,CAASxE,KAAKwrC,kBAAkBj3B,EAAAA;AACtC,aAAI/P,KACKxE,KAAKuvC,oBAAoBh7B,IAAe/P,EAAAA,IAExCxE,KAAK6uC,uBAAuBt6B,EAAAA;IAEvC;IAEAi7B,uBAAuBj7B,IAAAA;AACrB,aAAID,GAAeC,EAAAA,IACVvU,KAAKyvC,4BAA4Bl7B,EAAAA,IAEjCvU,KAAK0vC,2BAA2Bn7B,EAAAA;IAE3C;IAEAm7B,2BAA2Bn7B,IAAAA;AACzB,YAAM7P,KAAW1E,KAAK2vC,oBAAAA;AACtB,UAAKjrC,IAAL;AACA,mBAAWqI,MAAc4D,MAAMC,KAAKlM,GAASg3B,eAAAA,CAAAA,EAC3C,KAAA,CAAK3uB,GAAWif,WAAAA,EACd,QAAA;AAGJ,eAAA;MANe;IAOjB;IAEAyjB,4BAA4Bl7B,IAAAA;AAC1B,YAAMqc,KAAQ5wB,KAAKquC,SAAAA;AACnB,UAAKzd,GACL,QAAA,CAAQA,GAAMiN,gBAAAA;IAChB;IAEA0R,oBAAoBh7B,IAAe/P,IAAAA;AACjC,aAAI8P,GAAeC,EAAAA,IACVvU,KAAK4vC,kBAAkBr7B,IAAe/P,EAAAA,KAE7CxE,KAAK6vC,iBAAiBt7B,IAAe/P,EAAAA,GACrCxE,KAAKwrC,kBAAkBj3B,EAAAA,IAAiB/P,IACjCxE,KAAK8vC,wCAAAA;IAEhB;IAEAC,0BAA0BxY,IAAUhjB,IAAe/P,IAAAA;AAAO,UAAAssB;AACxD,YAAMF,KAAQ5wB,KAAK0E,SAASw7B,mBAAmB3I,EAAAA,GACzCyY,KAAgE,UAA3Clf,KAAGxc,GAAesc,GAAMG,iBAAAA,CAAAA,MAAAA,WAAmBD,KAAAA,SAAxCA,GAA0CvxB;AAExE,UAAIqxB,MAAAA,QAASof,MAAAA,GAAuB/lC,SAASsK,EAAAA,GAAgB;AAC3D,cAAM07B,KAAcjwC,KAAK0E,SAASy9B,2BAA2B5K,IAAUhjB,IAAe/P,EAAAA;AACtFxE,aAAKwxB,YAAYye,EAAAA;MACnB;IACF;IAEAJ,iBAAiBt7B,IAAe/P,IAAAA;AAC9B,YAAMsmC,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B,UAAA,CAAKD,GAAe;AAEpB,YAAA,CAAQzK,IAAexG,EAAAA,IAAgBlpB,MAAMC,KAAKk6B,EAAAA;AAClD,UAAIzK,OAAkBxG,GAMpB,QAAO75B,KAAKwxB,YAAYxxB,KAAK0E,SAASk2B,oBAAoBrmB,IAAe/P,IAAOsmC,EAAAA,CAAAA;AALhF,UAAsB,WAAlBv2B,IAA0B;AAC5B,cAAM/U,KAAOu6B,GAAKqE,4BAA4B55B,IAAO,EAAE2H,MAAM3H,GAAAA,CAAAA;AAC7D,eAAOxE,KAAKqsC,WAAW7sC,EAAAA;MACzB;IAIJ;IAEAowC,kBAAkBr7B,IAAe/P,IAAAA;AAC/B,YAAMsmC,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B,UAAI/qC,KAAKwvC,uBAAuBj7B,EAAAA,EAE9B,QADAvU,KAAKwxB,YAAYxxB,KAAK0E,SAAS49B,2BAA2B/tB,IAAe/P,IAAOsmC,EAAAA,CAAAA,GACzE9qC,KAAKmsC,aAAarB,EAAAA;IAE7B;IAEA+D,uBAAuBt6B,IAAAA;AACrB,aAAID,GAAeC,EAAAA,KACjBvU,KAAKkwC,qBAAqB37B,EAAAA,GACnBvU,KAAKmwC,wBAAAA,MAEZnwC,KAAKowC,oBAAoB77B,EAAAA,GAAAA,OAClBvU,KAAKwrC,kBAAkBj3B,EAAAA,GACvBvU,KAAK8vC,wCAAAA;IAEhB;IAEAM,oBAAoB77B,IAAAA;AAClB,YAAMu2B,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B,UAAKD,GACL,QAAO9qC,KAAKwxB,YAAYxxB,KAAK0E,SAASo2B,uBAAuBvmB,IAAeu2B,EAAAA,CAAAA;IAC9E;IAEAoF,qBAAqB37B,IAAAA;AACnB,YAAMu2B,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B,UAAKD,GACL,QAAO9qC,KAAKwxB,YAAYxxB,KAAK0E,SAASo2B,uBAAuBvmB,IAAeu2B,EAAAA,CAAAA;IAC9E;IAEAuF,0BAAAA;AAA0B,UAAAC;AACxB,cAAsB,UAAfA,KAAAtwC,KAAKquC,SAAAA,MAAAA,WAAUiC,KAAAA,SAAfA,GAAiB9S,gBAAAA,KAAoB;IAC9C;IAEA+S,0BAAAA;AAA0B,UAAAzS;AACxB,YAAMlN,KAAQ5wB,KAAKquC,SAAAA;AACnB,UAAKzd,IAAL;AACA,YAAA,UAAAkN,KAAIxpB,GAAesc,GAAM0M,yBAAAA,CAAAA,MAAAA,WAA2BQ,MAAAA,CAAhDA,GAAkDl+B,cAMpD,QAAOgxB,GAAM4M,gBAAAA,IAAoB;AANkC;AACnE,gBAAMgT,KAAgBxwC,KAAKywC,iBAAAA;AAC3B,cAAID,GACF,QtCzYuB,WAAA;AAAA,gBAAS59B,KAACvN,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAAE,mBAAKsN,IAAlBtN,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAgC2K,MAAM,GAAG4C,GAAEtN,MAAAA,GAASsN,EAAAA;UAAE,EsCyY3D49B,GAAc7S,sBAAAA,GAAyB/M,GAAM+M,sBAAAA,CAAAA;QAExE;MANY;IASd;IAEAF,uBAAAA;AACE,YAAM7M,KAAQ5wB,KAAKquC,SAAAA;AACnB,UAAKzd,GACL,QAAO5wB,KAAKwxB,YAAYxxB,KAAK0E,SAASm7B,aAAajP,IAAOA,GAAM6M,qBAAAA,CAAAA,CAAAA;IAClE;IAEAC,uBAAAA;AACE,YAAM9M,KAAQ5wB,KAAKquC,SAAAA;AACnB,UAAKzd,GACL,QAAO5wB,KAAKwxB,YAAYxxB,KAAK0E,SAASm7B,aAAajP,IAAOA,GAAM8M,qBAAAA,CAAAA,CAAAA;IAClE;IAEA0Q,iCAAAA;AAAiC,UAAAsC;AAC/B,cAAsB,UAAfA,KAAA1wC,KAAKquC,SAAAA,MAAAA,WAAUqC,KAAAA,SAAfA,GAAiBxT,kBAAAA,KAAsB;IAChD;IAEAoR,8BAAAA;AAA8B,UAAAqC;AAC5B,YAAM7d,KAA2B,UAAlB6d,KAAG3wC,KAAKquC,SAAAA,MAAAA,WAAUsC,KAAAA,SAAfA,GAAiB5f,iBAAAA;AACnC,UAAI+B,GACF,QAAO9yB,KAAK6uC,uBAAuB/b,EAAAA;IAEvC;IAEAia,oBAAAA;AACE,UAAA,CAAM1M,EAAAA,IAAkB1vB,MAAMC,KAAK5Q,KAAK+qC,iBAAAA,CAAAA;AACxC,YAAA,EAAMl4B,OAAEA,GAAAA,IAAU7S,KAAK0E,SAASu7B,qBAAqBI,EAAAA;AACrD,UAAIhH,KAAWxmB;AACf,YAAM+9B,KAAiB5wC,KAAKquC,SAAAA,EAAWnR,kBAAAA;AAEvC,UAAItM,KAAQ5wB,KAAK0E,SAAS86B,gBAAgBnG,KAAW,CAAA;AACrD,aAAOzI,MACAA,GAAMgN,WAAAA,KAAAA,EAAgBhN,GAAMsM,kBAAAA,KAAuB0T,MAGxDvX,CAAAA,MACAzI,KAAQ5wB,KAAK0E,SAAS86B,gBAAgBnG,KAAW,CAAA;AAGnDgH,MAAAA,KAAgBrgC,KAAK0E,SAAS0+B,qBAAqB,EAAEvwB,OAAAA,IAAO9C,QAAQ,EAAA,CAAA;AACpE,YAAM8pB,KAAc75B,KAAK0E,SAAS0+B,qBAAqB,EAAEvwB,OAAOwmB,IAAUtpB,QAAQ,EAAA,CAAA;AAClF,aAAO/P,KAAKwxB,YAAYxxB,KAAK0E,SAASg+B,+BAA+B,CAAErC,IAAexG,EAAAA,CAAAA,CAAAA;IACxF;IAEAsW,0BAAAA;AACE,YAAMrF,KAAgB9qC,KAAK+qC,iBAAiB,EAAE8F,YAAAA,KAAY,CAAA;AAC1D,UAAI/F,IAAe;AACjB,cAAMU,KAAoBxrC,KAAK0E,SAASy2B,2BAA2B2P,EAAAA;AAUnE,YARAn6B,MAAMC,KAAKuD,GAAAA,CAAAA,EAAwBlL,QAASsL,CAAAA,OAAAA;AACrCi3B,UAAAA,GAAkBj3B,EAAAA,KAChBvU,KAAKwvC,uBAAuBj7B,EAAAA,MAC/Bi3B,GAAkBj3B,EAAAA,IAAAA;QAEtB,CAAA,GAAA,CAGG6B,GAAgBo1B,IAAmBxrC,KAAKwrC,iBAAAA,EAE3C,QADAxrC,KAAKwrC,oBAAoBA,IAClBxrC,KAAK8vC,wCAAAA;MAEhB;IACF;IAEAgB,uBAAAA;AACE,aAAOzsC,GAAO0B,KAAK,CAAE,GAAE/F,KAAKwrC,iBAAAA;IAC9B;IAEAmB,2BAAAA;AACE,YAAM/tC,KAAa,CAAA;AACnB,iBAAW2F,MAAOvE,KAAKwrC,mBAAmB;AACxC,cAAMhnC,KAAQxE,KAAKwrC,kBAAkBjnC,EAAAA;AAAAA,kBACjCC,MACEmQ,GAAcpQ,EAAAA,MAChB3F,GAAW2F,EAAAA,IAAOC;MAGxB;AACA,aAAO5F;IACT;IAIAmyC,kBAAAA;AACE,aAAO/wC,KAAKuvC,oBAAoB,UAAA,IAAU;IAC5C;IAEAyB,gBAAAA;AACE,aAAOhxC,KAAK6uC,uBAAuB,QAAA;IACrC;IAEAoC,qBAAAA;AACE,aAAOjxC,KAAKqvC,oBAAoB,QAAA;IAClC;IAEAlD,aAAarB,IAAAA;AAAe,UAAAoG;AAC1B,YAAMlM,KAAgBhlC,KAAK0E,SAAS08B,uBAAuB0J,EAAAA;AAC3D,aAAoB,UAApBoG,KAAOlxC,KAAK40B,aAAAA,WAAQsc,KAAAA,SAAbA,GAAeC,sDAAsDnM,EAAAA;IAC9E;IAEA+F,mBAAAA;AACE,YAAM/F,KAAgBhlC,KAAKotC,iBAAAA;AAC3B,UAAIpI,GACF,QAAOhlC,KAAK0E,SAASqgC,uBAAuBC,EAAAA;IAEhD;IAEAkK,iBAAiBpE,IAAAA;AACf,YAAM9F,KAAgBhlC,KAAK0E,SAAS08B,uBAAuB0J,EAAAA;AAC3D,aAAO9qC,KAAKoxC,oBAAAA,EAAsBC,iBAAiBrM,EAAAA;IACrD;IAEAgK,cAAAA;AACE,YAAMhK,KAAgBhlC,KAAKotC,iBAAAA;AAC3B,UAAIpI,GACF,QAAOhlC,KAAK0E,SAAS0+B,qBAAqB4B,GAAc,CAAA,CAAA;IAE5D;IAEAoI,iBAAiB7kC,IAAAA;AACf,aAAIvI,KAAKsxC,sBACAtxC,KAAKsxC,sBAELtxC,KAAKoxC,oBAAAA,EAAsBhE,iBAAiB7kC,EAAAA,KAAY8N,GAAe,EAAExD,OAAO,GAAG9C,QAAQ,EAAA,CAAA;IAEtG;IAEAwhC,wBAAwBvM,IAAe/uB,IAAAA;AACrC,UAAIrE;AACJ5R,WAAKsxC,sBAAsBtM;AAC3B,UAAA;AACEpzB,QAAAA,KAASqE,GAAAA;MACX,UAAU;AACRjW,aAAKsxC,sBAAsB;MAC7B;AACA,aAAO1/B;IACT;IAEA4/B,gBAAgBl7B,IAAOL,IAAAA;AACrB,YAAM+uB,KAAgBhlC,KAAK0E,SAAS08B,uBAAuB9qB,EAAAA;AAC3D,aAAOtW,KAAKuxC,wBAAwBvM,IAAe/uB,EAAAA;IACrD;IAEAw7B,mBAAmB94B,IAAU1C,IAAAA;AAC3B,YAAM+uB,KAAgBhlC,KAAK0xC,gCAAgC/4B,IAAU,EAAE3O,QAAAA,MAAQ,CAAA;AAC/E,aAAOhK,KAAKuxC,wBAAwBvM,IAAe/uB,EAAAA;IACrD;IAEAs4B,4BAA4BrQ,IAAAA;AAA4B,UAAA,EAAjB54B,QAAEA,GAAAA,IAAQD,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA,GAAA,CAC5Cg7B,IAAexG,EAAAA,IAAgBlpB,MAAMC,KAAK5Q,KAAK+qC,iBAAAA,CAAAA;AAcrD,aAbkB,eAAd7M,KACE54B,KACF+6B,MAAiB/6B,KAEjB+6B,KAAgBrgC,KAAK2xC,iCAAiCtR,IAAAA,EAAgB,IAGpE/6B,KACFu0B,MAAev0B,KAEfu0B,KAAc75B,KAAK2xC,iCAAiC9X,IAAa,CAAA,GAG9DxjB,GAAe,CAAEgqB,IAAexG,EAAAA,CAAAA;IACzC;IAEAkU,oCAAoC7P,IAAAA;AAClC,UAAIl+B,KAAK4xC,kBACP,QAAA;AAEF,YAAMt7B,KAAQtW,KAAKuuC,4BAA4BrQ,EAAAA;AAC/C,aAA2C,QAApCl+B,KAAKwuC,qBAAqBl4B,EAAAA;IACnC;IAEAu7B,sBAAsB3T,IAAAA;AACpB,UAAI4T,IAAmBx7B;AACvB,UAAItW,KAAK4xC,kBACPt7B,CAAAA,KAAQtW,KAAK0E,SAASo3B,qBAAqB97B,KAAK4xC,iBAAAA;WAC3C;AACL,cAAM9G,KAAgB9qC,KAAK+qC,iBAAAA;AAC3Bz0B,QAAAA,KAAQtW,KAAKuuC,4BAA4BrQ,EAAAA,GACzC4T,KAAAA,CAAqBj7B,GAAei0B,IAAex0B,EAAAA;MACrD;AAQA,UANkB,eAAd4nB,KACFl+B,KAAKkvC,iBAAiB54B,GAAM,CAAA,CAAA,IAE5BtW,KAAKkvC,iBAAiB54B,GAAM,CAAA,CAAA,GAG1Bw7B,IAAmB;AACrB,cAAM/kC,KAAa/M,KAAKwuC,qBAAqBl4B,EAAAA;AAC7C,YAAIvJ,GACF,QAAO/M,KAAKyuC,eAAe1hC,EAAAA;MAE/B;IACF;IAEAglC,2BAA2B7T,IAAAA;AAA4B,UAAA,EAAjB54B,QAAEA,GAAAA,IAAQD,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AACjD,YAAMiR,KAAQtW,KAAKuuC,4BAA4BrQ,IAAW,EAAE54B,QAAAA,GAAAA,CAAAA;AAC5D,aAAOtF,KAAKkvC,iBAAiB54B,EAAAA;IAC/B;IAEA07B,4BAAAA;AACE,UAAIhyC,KAAKqvC,oBAAoB,MAAA,EAC3B,QAAOrvC,KAAKiyC,qCAAqC,MAAA;IAErD;IAEAA,qCAAqC19B,IAAAA;AACnC,YAAMgjB,KAAWv3B,KAAKgvC,YAAAA,GAChB14B,KAAQtW,KAAK0E,SAASs/B,oCAAoCzvB,IAAegjB,EAAAA;AAC/E,aAAOv3B,KAAKkvC,iBAAiB54B,EAAAA;IAC/B;IAEA47B,+BAAAA;AAA+B,UAAAC;AAC7B,cAAoCA,UAA7BA,KAAInyC,KAACoyC,uBAAAA,MAAAA,WAAwBD,KAAAA,SAA7BA,GAA+B7sC,UAAS;IACjD;IAEA+sC,4BAAAA;AACE,aAAOryC,KAAK4xC,qBAAqB5xC,KAAKsyC,uBAAuBtyC,KAAKgvC,YAAAA,CAAAA;IACpE;IAEAsD,uBAAuB/a,IAAAA;AACrB,YAAMsN,KAAW7kC,KAAK0E,SAASu7B,qBAAqB1I,EAAAA;AACpD,UAAIsN,GACF,QAAO7kC,KAAKuyC,uBAAuB1N,EAAAA;IAEvC;IAEA2N,qBAAqBjb,IAAAA;AAAU,UAAAkb;AAC7B,aAAA,UAAAA,KAAOzyC,KAAK0E,SAASy3B,mBAAmB5E,EAAAA,MAAAA,WAASkb,KAAAA,SAA1CA,GAA4Cvf,aAAAA;IACrD;IAEAyc,sBAAAA;AACE,YAAM7E,KAAgB9qC,KAAK+qC,iBAAAA;AAC3B,UAAID,GACF,QAAO9qC,KAAK0E,SAASk9B,mBAAmBkJ,EAAAA;IAE5C;IAEAsH,yBAAAA;AAAyB,UAAAM;AACvB,aAAiCA,UAAjCA,KAAO1yC,KAAK2vC,oBAAAA,MAAAA,WAAqB+C,KAAAA,SAA1BA,GAA4BhX,eAAAA;IACrC;IAIAA,iBAAAA;AACE,aAAO17B,KAAK3B,YAAY2R,MAAM,CAAA;IAChC;IAEA27B,qBAAAA;AACE,YAAMttC,KAAc2B,KAAK0E,SAASg3B,eAAAA,GAAAA,EAC5BiX,OAAEA,IAAKC,SAAEA,GAAAA,ItCpoBiB,WAAA;AAAuC,YAA9BC,KAAQxtC,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA,GAAIytC,KAAQztC,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACrE,cAAMstC,KAAQ,CAAA,GACRC,KAAU,CAAA,GAEVG,KAAiB,oBAAIC;AAE3BH,QAAAA,GAAS5pC,QAASzE,CAAAA,OAAAA;AAChBuuC,UAAAA,GAAe5pC,IAAI3E,EAAAA;QAAM,CAAA;AAG3B,cAAMyuC,KAAgB,oBAAID;AAe1B,eAbAF,GAAS7pC,QAASzE,CAAAA,OAAAA;AAChByuC,UAAAA,GAAc9pC,IAAI3E,EAAAA,GACbuuC,GAAer/B,IAAIlP,EAAAA,KACtBmuC,GAAMhpC,KAAKnF,EAAAA;QACb,CAAA,GAGFquC,GAAS5pC,QAASzE,CAAAA,OAAAA;AACXyuC,UAAAA,GAAcv/B,IAAIlP,EAAAA,KACrBouC,GAAQjpC,KAAKnF,EAAAA;QACf,CAAA,GAGK,EAAEmuC,OAAAA,IAAOC,SAAAA,GAAAA;MAClB,EsC0mBoD5yC,KAAK3B,aAAaA,EAAAA;AAQlE,aAPA2B,KAAK3B,cAAcA,IAEnBsS,MAAMC,KAAKgiC,EAAAA,EAAS3pC,QAAS8D,CAAAA,OAAAA;AAAe,YAAAmmC,IAAAC;AAC1CpmC,QAAAA,GAAW6nB,WAAW,MAAA,UACtBse,KAAAA,KAAKte,aAAAA,WAAQse,MAAgCC,UAAhCA,KAAbD,GAAeE,mCAAAA,WAA8BD,MAA7CA,GAAAptC,KAAAmtC,IAAgDnmC,EAAAA;MAAW,CAAA,IAGtD,MAAA;AACL,cAAM6E,KAAS,CAAA;AAOf,eALAjB,MAAMC,KAAK+hC,EAAAA,EAAO1pC,QAAS8D,CAAAA,OAAAA;AAAe,cAAAsmC,IAAAC;AACxCvmC,UAAAA,GAAW6nB,WAAW50B,MACtB4R,GAAOjI,KAAkB,UAAd0pC,KAACrzC,KAAK40B,aAAAA,WAAQye,MAA6B,UAA7BC,KAAbD,GAAeE,gCAAAA,WAA2BD,KAAAA,SAA1CA,GAAAvtC,KAAAstC,IAA6CtmC,EAAAA,CAAAA;QAAY,CAAA,GAGhE6E;MACR,GATM;IAUT;IAIAsd,8BAA8BniB,IAAAA;AAAY,UAAAymC,IAAAC;AAExC,aADAzzC,KAAKyrC,YACe+H,UAApBA,KAAOxzC,KAAK40B,aAAAA,WAAQ4e,MAA8B,UAA9BC,KAAbD,GAAeE,iCAAAA,WAA4BD,KAAAA,SAA3CA,GAAA1tC,KAAAytC,IAA8CzmC,EAAAA;IACvD;IAEA+oB,8BAA8B/oB,IAAAA;AAAY,UAAA4mC,IAAAC;AAExC,aADA5zC,KAAKyrC,YACekI,UAApBA,KAAO3zC,KAAK40B,aAAAA,WAAQ+e,MAA0C,UAA1CC,KAAbD,GAAeE,6CAAAA,WAAwCD,KAAAA,SAAvDA,GAAA7tC,KAAA4tC,IAA0D5mC,EAAAA;IACnE;IAIA0hC,eAAe1hC,IAAYxE,IAAAA;AAAS,UAAAurC,IAAAC;AAClC,UAAIhnC,OAAe/M,KAAK4xC,kBAGxB,QAFA5xC,KAAK4uC,sBAAAA,GACL5uC,KAAK4xC,oBAAoB7kC,IACL+mC,UAApBA,KAAO9zC,KAAK40B,aAAAA,WAAQkf,MAAsCC,UAAtCA,KAAbD,GAAeE,yCAAAA,WAAoCD,KAAAA,SAAnDA,GAAAhuC,KAAA+tC,IAAsD9zC,KAAK4xC,mBAAmBrpC,EAAAA;IACvF;IAEAqmC,wBAAAA;AAAwB,UAAAqF,IAAAC;AACjBl0C,WAAK4xC,sBACG,UAAbqC,KAAIj0C,KAAC40B,aAAAA,WAAQqf,MAAAA,UAAAC,KAAbD,GAAeE,wCAAAA,WAAmCD,MAAlDA,GAAAnuC,KAAAkuC,IAAqDj0C,KAAK4xC,iBAAAA,GAC1D5xC,KAAK4xC,oBAAoB;IAC3B;IAEA5V,8BAA8Bp9B,IAAYmO,IAAAA;AACxC,aAAO/M,KAAKwxB,YAAYxxB,KAAK0E,SAASs3B,8BAA8Bp9B,IAAYmO,EAAAA,CAAAA;IAClF;IAEAm1B,6BAA6BpP,IAAW/lB,IAAAA;AACtC,aAAO/M,KAAKwxB,YAAYxxB,KAAK0E,SAASw9B,6BAA6BpP,IAAW/lB,EAAAA,CAAAA;IAChF;IAIAkgC,oBAAoBH,IAAAA;AAClB,UAAA,EAAIpoC,UAAEA,GAAAA,IAAaooC;AACnB,YAAA,EAAMlc,OAAEA,GAAAA,IAAUkc;AAClB,UAAIvV,KAAWuV,GAAUzM,eACrB/pB,KAAQ,CAAEihB,KAAW,GAAGA,EAAAA;AAExB3G,MAAAA,GAAMO,sBAAAA,MAA4B2b,GAAUxM,cAAcvwB,UACxD6gB,GAAMmN,eAAAA,KAAgD,SAA5B+O,GAAU7B,gBACtC1T,MAAY,IAEZ7yB,KAAWA,GAAS81B,kBAAkBlkB,EAAAA,GAExCA,KAAQ,CAAEihB,IAAUA,EAAAA,KACiB,SAA5BuV,GAAU7B,gBACiB,SAAhC6B,GAAU9B,oBACZ10B,KAAQ,CAAEihB,KAAW,GAAGA,KAAW,CAAA,KAEnCjhB,KAAQ,CAAEihB,IAAUA,KAAW,CAAA,GAC/BA,MAAY,KAELuV,GAAUxM,cAAcvwB,SAAS,KAAM,MAChDwnB,MAAY;AAGd,YAAM0Y,KAAc,IAAI9Q,GAAS,CAAEvO,GAAMoM,oBAAAA,EAAsBP,gBAAAA,CAAAA,CAAAA;AAE/D,aADAz8B,KAAKwxB,YAAY9sB,GAASs7B,sBAAsBiQ,IAAa35B,EAAAA,CAAAA,GACtDtW,KAAKmsC,aAAa5U,EAAAA;IAC3B;IAEAkZ,mBAAAA;AACE,YAAMzL,KAAgBhlC,KAAKotC,iBAAAA;AAC3B,UAAIpI,IAAe;AACjB,cAAA,EAAMnyB,OAAEA,GAAAA,IAAUmyB,GAAc,CAAA;AAChC,YAAInyB,KAAQ,EACV,QAAO7S,KAAK0E,SAAS86B,gBAAgB3sB,KAAQ,CAAA;MAEjD;IACF;IAEAw7B,WAAAA;AACE,YAAMrJ,KAAgBhlC,KAAKotC,iBAAAA;AAC3B,UAAIpI,GACF,QAAOhlC,KAAK0E,SAAS86B,gBAAgBwF,GAAc,CAAA,EAAGnyB,KAAAA;IAE1D;IAEA27B,qBAAqBl4B,IAAAA;AACnB,YAAM5R,KAAW1E,KAAK0E,SAASk9B,mBAAmBtrB,EAAAA;AAClD,UAAI5R,GAAS4K,SAAAA,MAAAA,GAAU7L,OnDnwBiB,UmDmwBmB,IAAA,EACzD,QAAOiB,GAASg3B,eAAAA,EAAiB,CAAA;IAErC;IAEAoU,0CAAAA;AAA0C,UAAAsE,IAAAC;AACxC,aAAA,UAAAD,KAAOp0C,KAAK40B,aAAAA,WAAQwf,MAAuCC,UAAvCA,KAAbD,GAAeE,0CAAAA,WAAqCD,KAAAA,SAApDA,GAAAtuC,KAAAquC,IAAuDp0C,KAAKwrC,iBAAAA;IACrE;IAEAe,iCAAiCj2B,IAAAA;AAAO,UAAAi+B,IAAAC;AACtC,aAAoBD,UAApBA,KAAOv0C,KAAK40B,aAAAA,WAAQ2f,MAAuC,UAAvCC,KAAbD,GAAeE,0CAAAA,WAAqCD,KAAAA,SAApDA,GAAAzuC,KAAAwuC,IAAuDj+B,EAAAA;IAChE;IAEAq7B,iCAAiCpa,IAAUxnB,IAAAA;AACzC,YAAM2kC,KAAc10C,KAAK0E,SAASgO,cAAAA,GAC5BiiC,KAAgBD,GAAYxkC,qBAAqBqnB,EAAAA;AACvD,aAAOmd,GAAY5kC,mBAAmB6kC,KAAgB5kC,EAAAA;IACxD;EAAA;AAGFw7B,KAAYluB,YAAY,qCAAA,GACxBkuB,GAAYluB,YAAY,sDAAA,GACxBkuB,GAAYluB,YAAY,uDAAA,GACxBkuB,GAAYluB,YAAY,8CAAA,GACxBkuB,GAAYluB,YAAY,2CAAA,GACxBkuB,GAAYluB,YAAY,+BAAA;AC5xBT,MAAMu3B,KAAN,cAA0B5mC,GAAAA;IACvC2B,YAAYk7B,IAAAA;AACVj7B,YAAAA,GAASvK,SAAAA,GACTrF,KAAK6qC,cAAcA,IACnB7qC,KAAK60C,cAAc,CAAA,GACnB70C,KAAK80C,cAAc,CAAA;IACrB;IAEAC,gBAAgBC,IAAAA;AAA+C,UAAA,EAAlC1lB,SAAEA,IAAO2lB,gBAAEA,GAAAA,IAAgB5vC,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AACzD,YAAM6vC,KAAgBl1C,KAAK60C,YAAY7kC,MAAAA,EAAO,EAAG,CAAA;AAEjD,UAAA,CAAKilC,MAAAA,CAAmBE,GAA8BD,IAAeF,IAAa1lB,EAAAA,GAAU;AAC1F,cAAM8lB,KAAYp1C,KAAKq1C,YAAY,EAAEL,aAAAA,IAAa1lB,SAAAA,GAAAA,CAAAA;AAClDtvB,aAAK60C,YAAYlrC,KAAKyrC,EAAAA,GACtBp1C,KAAK80C,cAAc,CAAA;MACrB;IACF;IAEApyC,OAAAA;AACE,YAAM0yC,KAAYp1C,KAAK60C,YAAY9zB,IAAAA;AACnC,UAAIq0B,IAAW;AACb,cAAME,KAAYt1C,KAAKq1C,YAAYD,EAAAA;AAEnC,eADAp1C,KAAK80C,YAAYnrC,KAAK2rC,EAAAA,GACft1C,KAAK6qC,YAAYiB,aAAasJ,GAAUG,QAAAA;MACjD;IACF;IAEAhzC,OAAAA;AACE,YAAM+yC,KAAYt1C,KAAK80C,YAAY/zB,IAAAA;AACnC,UAAIu0B,IAAW;AACb,cAAMF,KAAYp1C,KAAKq1C,YAAYC,EAAAA;AAEnC,eADAt1C,KAAK60C,YAAYlrC,KAAKyrC,EAAAA,GACfp1C,KAAK6qC,YAAYiB,aAAawJ,GAAUC,QAAAA;MACjD;IACF;IAEAC,UAAAA;AACE,aAAOx1C,KAAK60C,YAAYvvC,SAAS;IACnC;IAEAmwC,UAAAA;AACE,aAAOz1C,KAAK80C,YAAYxvC,SAAS;IACnC;IAIA+vC,cAAAA;AAA2C,UAAA,EAA/BL,aAAEA,IAAW1lB,SAAEA,GAAAA,IAASjqB,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AACrC,aAAO,EACL2vC,aAAaA,QAAAA,KAAAA,SAAAA,GAAa1lC,SAAAA,GAC1BggB,SAASpd,KAAKO,UAAU6c,EAAAA,GACxBimB,UAAUv1C,KAAK6qC,YAAYgB,YAAAA,EAAAA;IAE/B;EAAA;AAGF,MAAMsJ,KAAgCA,CAACO,IAAOV,IAAa1lB,QACzDomB,QAAAA,KAAAA,SAAAA,GAAOV,kBAAgBA,QAAAA,KAAAA,SAAAA,GAAa1lC,SAAAA,OAAcomC,QAAAA,KAAAA,SAAAA,GAAOpmB,aAAYpd,KAAKO,UAAU6c,EAAAA;AADtF,MCzDMqmB,KAAuB;AAId,MAAMC,KAAN,MAAMA;IACnBjmC,YAAY4lC,IAAAA;AACVv1C,WAAK0E,WAAW6wC,GAAS7wC,UACzB1E,KAAK8qC,gBAAgByK,GAASzK;IAChC;IAEA9tB,UAAAA;AAEE,aADAhd,KAAKkwC,qBAAAA,GACElwC,KAAK61C,oBAAAA;IACd;IAEAhK,cAAAA;AACE,aAAO,EAAEnnC,UAAU1E,KAAK0E,UAAUomC,eAAe9qC,KAAK8qC,cAAAA;IACxD;IAIAoF,uBAAAA;AACE,aAAOlwC,KAAK81C,mBAAAA,EAAqBzkC,IAAKiF,CAAAA,OAAUtW,KAAK0E,WAAW1E,KAAK0E,SAASo2B,uBAAuB6a,IAAsBr/B,EAAAA,CAAAA;IAC7H;IAEAu/B,sBAAAA;AACE,UAAI9lC,KAAS;AAEb/P,WAAK+1C,mBAAAA,EAAqB9sC,QAASqN,CAAAA,OAAAA;AAC7BA,QAAAA,GAAM,CAAA,IAAKA,GAAM,CAAA,IAAK,MACxBA,GAAM,CAAA,KAAMvG,IACZuG,GAAM,CAAA,KAAMvG,IAE2C,SAAnD/P,KAAK0E,SAAS8+B,uBAAuBltB,GAAM,CAAA,CAAA,MAC7CtW,KAAK0E,WAAW1E,KAAK0E,SAAS29B,wBAAwB/rB,GAAM,CAAA,CAAA,GACxDA,GAAM,CAAA,IAAKtW,KAAK8qC,cAAc,CAAA,KAChC9qC,KAAKg2C,yBAAAA,GAEP1/B,GAAM,CAAA,KACNvG,OAGe,MAAbuG,GAAM,CAAA,KACmD,SAAvDtW,KAAK0E,SAAS8+B,uBAAuBltB,GAAM,CAAA,IAAK,CAAA,MAClDtW,KAAK0E,WAAW1E,KAAK0E,SAAS29B,wBAAwB/rB,GAAM,CAAA,CAAA,GACxDA,GAAM,CAAA,IAAKtW,KAAK8qC,cAAc,CAAA,KAChC9qC,KAAKg2C,yBAAAA,GAEP1/B,GAAM,CAAA,KACNvG,OAIJ/P,KAAK0E,WAAW1E,KAAK0E,SAAS49B,2BAA2BqT,IAAAA,MAA4Br/B,EAAAA;MACvF,CAAA;IAEJ;IAEAw/B,qBAAAA;AACE,aAAO91C,KAAK0E,SAAS+/B,4BAA4BkR,EAAAA;IACnD;IAEAI,qBAAAA;AACE,aAAO/1C,KAAK0E,SAASigC,2BA9DG,gBA8D6C,EAAEC,WA7D9C,UAAA,CAAA;IA8D3B;IAEAoR,2BAAAA;AACEh2C,WAAK8qC,cAAc,CAAA,KAAM,GACzB9qC,KAAK8qC,cAAc,CAAA,KAAM;IAC3B;EAAA;ACnEK,MAAMmL,KAA0B,SAASV,IAAAA;AAC9C,UAAMx9B,KAAS,IAAI69B,GAAOL,EAAAA;AAE1B,WADAx9B,GAAOiF,QAAAA,GACAjF,GAAO8zB,YAAAA;EAChB;AAJO,MCGDqK,KAAkB,CAAED,EAAAA;AAEX,MAAME,KAAN,MAAMA;IACnBxmC,YAAYk7B,IAAahzB,IAAkB/X,IAAAA;AACzCE,WAAKstC,cAActtC,KAAKstC,YAAY91B,KAAKxX,IAAAA,GACzCA,KAAK6qC,cAAcA,IACnB7qC,KAAK6X,mBAAmBA,IACxB7X,KAAKF,UAAUA,IACfE,KAAKo2C,cAAc,IAAIxB,GAAY50C,KAAK6qC,WAAAA,GACxC7qC,KAAKq2C,UAAUH,GAAgBlmC,MAAM,CAAA;IACvC;IAEAsmC,aAAa5xC,IAAAA;AACX,aAAO1E,KAAK8rC,aAAa,EAAEpnC,UAAAA,IAAUomC,eAAe,CAAE,GAAG,CAAA,EAAA,CAAA;IAC3D;IAEAyL,WAAAA;AAAoB,UAAX9xC,KAAIY,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG;AACd,YAAMX,KAAW2gC,GAAWtmC,MAAM0F,IAAM,EAAE6gC,kBAAkBtlC,KAAKF,QAAAA,CAAAA,EAAW2lC,YAAAA;AAC5E,aAAOzlC,KAAKs2C,aAAa5xC,EAAAA;IAC3B;IAEA8xC,SAAQ7rB,IAAAA;AAA8B,UAAA,EAA7BjmB,UAAEA,IAAQomC,eAAEA,GAAAA,IAAengB;AAElC,aADAjmB,KAAWy6B,GAASltB,SAASvN,EAAAA,GACtB1E,KAAK8rC,aAAa,EAAEpnC,UAAAA,IAAUomC,eAAAA,GAAAA,CAAAA;IACvC;IAEAgB,aAAayJ,IAAAA;AAEX,aADAv1C,KAAKo2C,cAAc,IAAIxB,GAAY50C,KAAK6qC,WAAAA,GACjC7qC,KAAK6qC,YAAYiB,aAAayJ,EAAAA;IACvC;IAEA9P,cAAAA;AACE,aAAOzlC,KAAK6qC,YAAYnmC;IAC1B;IAEAirC,sBAAAA;AACE,aAAO3vC,KAAK6qC,YAAY8E,oBAAAA;IAC1B;IAEA9D,cAAAA;AACE,aAAO7rC,KAAK6qC,YAAYgB,YAAAA;IAC1B;IAEAt7B,SAAAA;AACE,aAAOvQ,KAAK6rC,YAAAA;IACd;IAIAmC,kBAAkB9P,IAAAA;AAChB,aAAOl+B,KAAK6qC,YAAYmD,kBAAkB9P,EAAAA;IAC5C;IAEAyP,iBAAiB5gC,IAAAA;AACf,aAAO/M,KAAK6qC,YAAY8C,iBAAiB5gC,EAAAA;IAC3C;IAEA2gC,kBAAkBrvC,IAAAA;AAChB,aAAO2B,KAAK6qC,YAAY6C,kBAAkBrvC,EAAAA;IAC5C;IAEAouC,eAAe/nC,IAAAA;AACb,aAAO1E,KAAK6qC,YAAY4B,eAAe/nC,EAAAA;IACzC;IAEA2oC,WAAW1uC,IAAAA;AACT,aAAOqB,KAAK6qC,YAAYwC,WAAW1uC,EAAAA;IACrC;IAEA2uC,YAAYjiC,IAAAA;AACV,aAAOrL,KAAK6qC,YAAYyC,YAAYjiC,EAAAA;IACtC;IAEA6hC,WAAWzoC,IAAAA;AACT,aAAOzE,KAAK6qC,YAAYqC,WAAWzoC,EAAAA;IACrC;IAEAioC,aAAat7B,IAAAA;AACX,aAAOpR,KAAK6qC,YAAY6B,aAAat7B,EAAAA;IACvC;IAEAi7B,WAAW7sC,IAAAA;AACT,aAAOQ,KAAK6qC,YAAYwB,WAAW7sC,EAAAA;IACrC;IAEAqtC,kBAAAA;AACE,aAAO7sC,KAAK6qC,YAAYgC,gBAAAA;IAC1B;IAIA9B,mBAAAA;AACE,aAAO/qC,KAAK6qC,YAAYE,iBAAAA;IAC1B;IAEAiE,cAAAA;AACE,aAAOhvC,KAAK6qC,YAAYmE,YAAAA;IAC1B;IAEAyH,wBAAwBlf,IAAAA;AACtB,YAAMyN,KAAgBhlC,KAAKylC,YAAAA,EAAcrE,uBAAuB,CAAE7J,IAAUA,KAAW,CAAA,CAAA;AACvF,aAAOv3B,KAAK6X,iBAAiB6+B,6BAA6B1R,EAAAA;IAC5D;IAEA+M,2BAA2B7T,IAAAA;AACzB,aAAOl+B,KAAK6qC,YAAYkH,2BAA2B7T,EAAAA;IACrD;IAEA2T,sBAAsB3T,IAAAA;AACpB,aAAOl+B,KAAK6qC,YAAYgH,sBAAsB3T,EAAAA;IAChD;IAEAgR,iBAAiBpE,IAAAA;AACf,aAAO9qC,KAAK6qC,YAAYqE,iBAAiBpE,EAAAA;IAC3C;IAIA6L,kBAAkBl4C,IAAAA;AAAoB,UAAd+F,KAAAA,EAAKa,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,MAAAA,UAAA,CAAA;AAC3B,aAAOrF,KAAK6qC,YAAY0E,oBAAoB9wC,IAAM+F,EAAAA;IACpD;IAEAoyC,kBAAkBn4C,IAAAA;AAChB,aAAOuB,KAAK6qC,YAAYwE,oBAAoB5wC,EAAAA;IAC9C;IAEAo4C,qBAAqBp4C,IAAAA;AACnB,aAAOuB,KAAK6qC,YAAY2E,uBAAuB/wC,EAAAA;IACjD;IAEAq4C,oBAAoBr4C,IAAAA;AAClB,aAAOuB,KAAK6qC,YAAYgE,uBAAuBpwC,EAAAA;IACjD;IAGAsxC,0BAA0BxY,IAAU94B,IAAM+F,IAAAA;AACxCxE,WAAK6qC,YAAYkF,0BAA0BxY,IAAU94B,IAAM+F,EAAAA;IAC7D;IAIA6rC,0BAAAA;AACE,aAAOrwC,KAAK6qC,YAAYwF,wBAAAA;IAC1B;IAEAE,0BAAAA;AACE,aAAOvwC,KAAK6qC,YAAY0F,wBAAAA;IAC1B;IAEA9S,uBAAAA;AACE,UAAIz9B,KAAKqwC,wBAAAA,EACP,QAAOrwC,KAAK6qC,YAAYpN,qBAAAA;IAE5B;IAEAC,uBAAAA;AACE,UAAI19B,KAAKuwC,wBAAAA,EACP,QAAOvwC,KAAK6qC,YAAYnN,qBAAAA;IAE5B;IAIA+X,UAAAA;AACE,aAAOz1C,KAAKo2C,YAAYX,QAAAA;IAC1B;IAEAD,UAAAA;AACE,aAAOx1C,KAAKo2C,YAAYZ,QAAAA;IAC1B;IAEAT,gBAAgBC,IAAAA;AAA+C,UAAA,EAAlC1lB,SAAEA,IAAO2lB,gBAAEA,GAAAA,IAAgB5vC,UAAAC,SAAAD,KAAAA,WAAAA,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,CAAA;AACzD,aAAOrF,KAAKo2C,YAAYrB,gBAAgBC,IAAa,EAAE1lB,SAAAA,IAAS2lB,gBAAAA,GAAAA,CAAAA;IAClE;IAEA1yC,OAAAA;AACE,UAAIvC,KAAKy1C,QAAAA,EACP,QAAOz1C,KAAKo2C,YAAY7zC,KAAAA;IAE5B;IAEAG,OAAAA;AACE,UAAI1C,KAAKw1C,QAAAA,EACP,QAAOx1C,KAAKo2C,YAAY1zC,KAAAA;IAE5B;EAAA;AC5Ka,MAAMq0C,KAAN,MAAMA;IACnBpnC,YAAY7P,IAAAA;AACVE,WAAKF,UAAUA;IACjB;IAEAk3C,mCAAmCC,IAAWlnC,IAAAA;AAAuC,UAAA,EAA/B/F,QAAEA,GAAAA,IAAQ3E,UAAAC,SAAA,KAAA,WAAAD,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,EAAE2E,QAAAA,KAAQ,GACvE5C,KAAa,GACb8vC,KAAAA;AACJ,YAAMrS,KAAW,EAAEhyB,OAAO,GAAG9C,QAAQ,EAAA,GAC/BonC,KAAoBn3C,KAAKo3C,mCAAmCH,EAAAA;AAE9DE,MAAAA,OACFF,KAAYE,GAAkBp3C,YAC9BgQ,KAAS7I,GAAqBiwC,EAAAA;AAGhC,YAAMjtB,KAASziB,GAASzH,KAAKF,SAAS,EAAE8H,aAAayvC,GAAAA,CAAAA;AAErD,aAAOntB,GAAOE,SAAAA,KAAY;AACxB,cAAM1jB,KAAOwjB,GAAOG;AAEpB,YAAI3jB,OAASuwC,MAAa5sC,GAAe4sC,EAAAA,GAAY;AAC9C7sC,UAAAA,GAAmB1D,EAAAA,MACtBm+B,GAAS90B,UAAUA;AAErB;QACF;AACE,YAAIrJ,GAAK3G,eAAek3C,IAAAA;AACtB,cAAI7vC,SAAiB2I,GACnB;QAAA,WAEG,CAAK9I,GAAoBgwC,IAAWvwC,EAAAA,KACrCU,KAAa,EACf;AAIA2C,QAAAA,GAAiBrD,IAAM,EAAEsD,QAAAA,GAAAA,CAAAA,KACvBktC,MACFrS,GAAShyB,SAEXgyB,GAAS90B,SAAS,GAClBmnC,KAAAA,QAEArS,GAAS90B,UAAUunC,GAAW5wC,EAAAA;MAGpC;AAEA,aAAOm+B;IACT;IAEA0S,mCAAmC1S,IAAAA;AACjC,UAAIoS,IAAWlnC;AACf,UAAuB,MAAnB80B,GAAShyB,SAAmC,MAApBgyB,GAAS90B,QAAc;AAIjD,aAHAknC,KAAYj3C,KAAKF,SACjBiQ,KAAS,GAEFknC,GAAUntC,aAEf,KADAmtC,KAAYA,GAAUntC,YAClBF,GAAqBqtC,EAAAA,GAAY;AACnClnC,UAAAA,KAAS;AACT;QACF;AAGF,eAAO,CAAEknC,IAAWlnC,EAAAA;MACtB;AAEA,UAAA,CAAMrJ,IAAM8wC,EAAAA,IAAex3C,KAAKy3C,8BAA8B5S,EAAAA;AAC9D,UAAKn+B,IAAL;AAEA,YAAI2D,GAAe3D,EAAAA,EACQ,OAArB4wC,GAAW5wC,EAAAA,KACbuwC,KAAYvwC,GAAK3G,WAAWA,YAC5BgQ,KAAS7I,GAAqBR,GAAK3G,UAAAA,GAC/BqK,GAAmB1D,IAAM,EAAEjI,MAAM,QAAA,CAAA,KACnCsR,SAGFknC,KAAYvwC,IACZqJ,KAAS80B,GAAS90B,SAASynC;aAExB;AAGL,cAFAP,KAAYvwC,GAAK3G,YAAAA,CAEZgK,GAAiBrD,GAAKW,eAAAA,KAAAA,CACpBuC,GAAqBqtC,EAAAA,EACxB,QAAOvwC,OAASuwC,GAAUllB,cACxBrrB,KAAOuwC,IACPA,KAAYA,GAAUl3C,YAAAA,CAClB6J,GAAqBqtC,EAAAA,KAAAA;AAO/BlnC,UAAAA,KAAS7I,GAAqBR,EAAAA,GACN,MAApBm+B,GAAS90B,UACXA;QAEJ;AAEA,eAAO,CAAEknC,IAAWlnC,EAAAA;MAlCT;IAmCb;IAEA0nC,8BAA8B5S,IAAAA;AAC5B,UAAIn+B,IAAM8wC,IACNznC,KAAS;AAEb,iBAAWsa,MAAerqB,KAAK03C,4BAA4B7S,GAAShyB,KAAAA,GAAQ;AAC1E,cAAMvN,KAASgyC,GAAWjtB,EAAAA;AAE1B,YAAIwa,GAAS90B,UAAUA,KAASzK,GAC9B,KAAI+E,GAAeggB,EAAAA,GAAAA;AAGjB,cAFA3jB,KAAO2jB,IACPmtB,KAAaznC,IACT80B,GAAS90B,WAAWynC,MAAcptC,GAAmB1D,EAAAA,EACvD;QAAA,MAEQA,CAAAA,OACVA,KAAO2jB,IACPmtB,KAAaznC;AAKjB,YADAA,MAAUzK,IACNyK,KAAS80B,GAAS90B,OACpB;MAEJ;AAEA,aAAO,CAAErJ,IAAM8wC,EAAAA;IACjB;IAIAJ,mCAAmC1wC,IAAAA;AACjC,aAAOA,MAAQA,OAAS1G,KAAKF,WAAS;AACpC,YAAIyK,GAAwB7D,EAAAA,EAC1B,QAAOA;AAETA,QAAAA,KAAOA,GAAK3G;MACd;IACF;IAEA23C,4BAA4B7kC,IAAAA;AAC1B,YAAM6K,KAAQ,CAAA,GACRwM,KAASziB,GAASzH,KAAKF,SAAS,EAAE8H,aAAa+vC,GAAAA,CAAAA;AACrD,UAAIC,KAAAA;AAEJ,aAAO1tB,GAAOE,SAAAA,KAAY;AACxB,cAAM1jB,KAAOwjB,GAAOG;AAElB,YAAI8Z;AADN,YAAIt6B,GAAwBnD,EAAAA,GAAAA;AAQ1B,cANkB,QAAdy9B,KACFA,OAEAA,KAAa,GAGXA,OAAetxB,GACjB+kC,CAAAA,KAAAA;mBACSA,GACT;QAAA,MAEOA,CAAAA,MACTl6B,GAAM/T,KAAKjD,EAAAA;MAEf;AAEA,aAAOgX;IACT;EAAA;AAGF,MAAM45B,KAAa,SAAS5wC,IAAAA;AAC1B,QAAIA,GAAKD,aAAaG,KAAK6D,WAAW;AACpC,UAAIL,GAAmB1D,EAAAA,EACrB,QAAO;AAGP,aADeA,GAAK0C,YACN9D;IAElB;AAAO,WAAsB,SAAlBxG,GAAQ4H,EAAAA,KAAkB6D,GAAwB7D,EAAAA,IACpD,IAEA;EAEX;AAbA,MAeMixC,KAAyB,SAASjxC,IAAAA;AACtC,WAAImxC,GAAqBnxC,EAAAA,MAAUqB,WAAW0hC,gBACrC4N,GAAyB3wC,EAAAA,IAEzBqB,WAAWyhC;EAEtB;AArBA,MAuBMqO,KAAuB,SAASnxC,IAAAA;AACpC,WAAI8D,GAAoB9D,EAAAA,IACfqB,WAAWyhC,gBAEXzhC,WAAW0hC;EAEtB;AA7BA,MA+BM4N,KAA2B,SAAS3wC,IAAAA;AACxC,WAAI6D,GAAwB7D,GAAK3G,UAAAA,IACxBgI,WAAWyhC,gBAEXzhC,WAAW0hC;EAEtB;ACjOe,MAAMqO,KAAN,MAAMA;IACnBC,wBAAuBptB,IAAAA;AAAW,UAC5BhS,IAAAA,EADkB2H,GAAEA,IAACsD,GAAEA,GAAAA,IAAG+G;AAE9B,UAAIjmB,SAASszC,wBAAwB;AACnC,cAAA,EAAMC,YAAEA,IAAUloC,QAAEA,GAAAA,IAAWrL,SAASszC,uBAAuB13B,IAAGsD,EAAAA;AAGlE,eAFAjL,KAAWjU,SAASwzC,YAAAA,GACpBv/B,GAASw/B,SAASF,IAAYloC,EAAAA,GACvB4I;MACT;AAAO,UAAIjU,SAAS0zC,oBAClB,QAAO1zC,SAAS0zC,oBAAoB93B,IAAGsD,EAAAA;AAClC,UAAIlf,SAAS6G,KAAK8sC,iBAAiB;AACxC,cAAMC,KAAmB7/B,GAAAA;AACzB,YAAA;AAGE,gBAAMspB,KAAYr9B,SAAS6G,KAAK8sC,gBAAAA;AAChCtW,UAAAA,GAAUwW,YAAYj4B,IAAGsD,EAAAA,GACzBme,GAAUyW,OAAAA;QACZ,SAAS7kC,IAAAA;QAAQ;AAGjB,eAFAgF,KAAWF,GAAAA,GACXK,GAAYw/B,EAAAA,GACL3/B;MACT;IACF;IAEA8/B,0BAA0B9/B,IAAAA;AACxB,YAAMhH,KAAQhB,MAAMC,KAAK+H,GAAS+/B,eAAAA,CAAAA;AAIlC,aAAO,CAHO/mC,GAAM,CAAA,GACRA,GAAMA,GAAMrM,SAAS,CAAA,CAAA;IAGnC;EAAA;ACjBa,MAAMqzC,KAAN,cAA+B3qC,GAAAA;IAC5C2B,YAAY7P,IAAAA;AACV8P,YAAAA,GAASvK,SAAAA,GACTrF,KAAK44C,eAAe54C,KAAK44C,aAAaphC,KAAKxX,IAAAA,GAC3CA,KAAKkY,qBAAqBlY,KAAKkY,mBAAmBV,KAAKxX,IAAAA,GACvDA,KAAKF,UAAUA,IACfE,KAAK64C,iBAAiB,IAAI9B,GAAe/2C,KAAKF,OAAAA,GAC9CE,KAAK84C,cAAc,IAAIhB,MACvB93C,KAAK+4C,YAAY,GACjBl0C,GAAY,aAAa,EAAEE,WAAW/E,KAAKF,SAASmF,cAAcjF,KAAK44C,aAAAA,CAAAA;IACzE;IAEAxL,mBAAAA;AAA+B,UAAd7kC,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACzB,aAAA,UAAIkD,GAAQyB,SACHhK,KAAK0xC,gCAAgCj5B,GAAAA,CAAAA,IACnClQ,GAAQsoC,aACV7wC,KAAKg5C,uBACHh5C,KAAKi5C,sBACPj5C,KAAKi5C,sBAELj5C,KAAKg5C;IAEhB;IAEA3H,iBAAiBrM,IAAAA;AACf,UAAIhlC,KAAKi5C,oBAAqB;AAC9BjU,MAAAA,KAAgB3uB,GAAe2uB,EAAAA;AAE/B,YAAMrsB,KAAW3Y,KAAKk5C,gCAAgClU,EAAAA;AAClDrsB,MAAAA,OACFG,GAAYH,EAAAA,GACZ3Y,KAAKm5C,2BAA2BnU,EAAAA;IAEpC;IAEAoU,+BAA+BC,IAAAA;AAC7BA,MAAAA,KAAahjC,GAAegjC,EAAAA;AAC5B,YAAM/Y,KAAgBtgC,KAAKs5C,mBAAmBD,GAAW,CAAA,CAAA,GACnDnW,KAAcljC,KAAKs5C,mBAAmBD,GAAW,CAAA,CAAA;AACvDr5C,WAAKqxC,iBAAiB,CAAE/Q,IAAe4C,EAAAA,CAAAA;IACzC;IAEAwT,6BAA6B1R,IAAAA;AAC3B,YAAMrsB,KAAW3Y,KAAKk5C,gCAAgClU,EAAAA;AACtD,UAAIrsB,GACF,QAAO3Y,KAAKy4C,0BAA0B9/B,EAAAA,EAAU,CAAA;IAEpD;IAEA45B,uBAAuB1N,IAAAA;AACrB,YAAMn+B,KAAOiK,MAAMC,KAAK5Q,KAAKy3C,8BAA8B5S,EAAAA,CAAAA,EAAW,CAAA;AACtE,aAAOz6B,GAAmB1D,EAAAA;IAC5B;IAEA6yC,OAAAA;AAC2B,WAArBv5C,KAAK+4C,gBACP/4C,KAAKm5C,2BAAAA,GACLn5C,KAAKi5C,sBAAsBj5C,KAAKotC,iBAAAA;IAEpC;IAEAoM,SAAAA;AACE,UAAyB,KAAA,EAAnBx5C,KAAK+4C,WAAiB;AAC1B,cAAA,EAAME,qBAAEA,GAAAA,IAAwBj5C;AAEhC,YADAA,KAAKi5C,sBAAsB,MACA,QAAvBA,GACF,QAAOj5C,KAAKqxC,iBAAiB4H,EAAAA;MAEjC;IACF;IAEAQ,iBAAAA;AAAiB,UAAA/gC;AACf,aAAwB,UAAxBA,KAAOL,GAAAA,MAAAA,WAAiBK,KAAAA,SAAjBA,GAAmBK,gBAAAA;IAC5B;IAEAo1B,uBAAAA;AAAuB,UAAAuL;AACrB,aAAA,UAAoBA,UAAbA,KAAAjhC,GAAAA,MAAAA,WAAaihC,KAAAA,SAAbA,GAAeC;IACxB;IAEAC,sBAAAA;AACE,aAAA,CAAQ55C,KAAKmuC,qBAAAA;IACf;IAEAuD,gCAAgC/4B,IAAUpQ,IAAAA;AACxC,UAAgB,QAAZoQ,MAAAA,CAAqB3Y,KAAK65C,sBAAsBlhC,EAAAA,EAAW;AAE/D,YAAMjC,KAAQ1W,KAAKg3C,mCAAmCr+B,GAASO,gBAAgBP,GAASsrB,aAAa17B,EAAAA;AACrG,UAAA,CAAKmO,GAAO;AAEZ,YAAMC,KAAMgC,GAASghC,YAAAA,SAEjB35C,KAAKg3C,mCAAmCr+B,GAASQ,cAAcR,GAASurB,WAAW37B,EAAAA;AAEvF,aAAO8N,GAAe,CAAEK,IAAOC,EAAAA,CAAAA;IACjC;IAEAiiC,eAAAA;AACE,aAAO54C,KAAK85C,iBAAAA;IACd;IAEAA,mBAAAA;AACE,UAAIC;AACJ/5C,WAAKg6C,SAAAA;AAEL,YAAMC,KAASA,MAAAA;AAQb,YAPAj6C,KAAKg6C,SAAAA,OACLE,aAAaC,EAAAA,GAEbxpC,MAAMC,KAAKmpC,EAAAA,EAAgB9wC,QAASvD,CAAAA,OAAAA;AAClCA,UAAAA,GAAQE,QAAAA;QAAS,CAAA,GAGfqB,GAAoBvC,UAAU1E,KAAKF,OAAAA,EACrC,QAAOE,KAAKkY,mBAAAA;MACd,GAGIiiC,KAAgBjkC,WAAW+jC,IAAQ,GAAA;AAEzCF,MAAAA,KAAiB,CAAE,aAAa,SAAA,EAAY1oC,IAAKvM,CAAAA,OAC/CD,GAAYC,IAAW,EAAEC,WAAWL,UAAUO,cAAcg1C,GAAAA,CAAAA,CAAAA;IAEhE;IAEA/hC,qBAAAA;AACE,UAAA,CAAKlY,KAAKg6C,UAAAA,CAAWjzC,GAAqB/G,KAAKF,OAAAA,EAC7C,QAAOE,KAAKm5C,2BAAAA;IAEhB;IAEAA,2BAA2BnU,IAAAA;AAEwC,UAAAtQ,IAAA0lB;AADjE,WAAqB,QAAjBpV,KAAwBA,KAAgBA,KAAgBhlC,KAAK0xC,gCAAgCj5B,GAAAA,CAAAA,MAAAA,CAC1F5B,GAAemuB,IAAehlC,KAAKg5C,oBAAAA,EAEtC,QADAh5C,KAAKg5C,uBAAuBhU,IACR,UAApBtQ,KAAO10B,KAAK40B,aAAAA,WAAQF,MAAwB0lB,UAAxBA,KAAb1lB,GAAe2lB,2BAAAA,WAAsBD,KAAAA,SAArCA,GAAAr0C,KAAA2uB,IAAwC10B,KAAKg5C,qBAAqBhpC,MAAM,CAAA,CAAA;IAGrF;IAEAkpC,gCAAgClU,IAAAA;AAC9B,YAAMsV,KAAat6C,KAAKu3C,mCAAmCvS,GAAc,CAAA,CAAA,GACnEuV,KAAW9jC,GAAiBuuB,EAAAA,IAC9BsV,KACAt6C,KAAKu3C,mCAAmCvS,GAAc,CAAA,CAAA,KAAOsV;AAEjE,UAAkB,QAAdA,MAAkC,QAAZC,IAAkB;AAC1C,cAAM5hC,KAAWjU,SAASwzC,YAAAA;AAG1B,eAFAv/B,GAASw/B,SAAAA,GAAYxnC,MAAMC,KAAK0pC,MAAc,CAAA,CAAA,CAAA,GAC9C3hC,GAAS6hC,OAAAA,GAAU7pC,MAAMC,KAAK2pC,MAAY,CAAA,CAAA,CAAA,GACnC5hC;MACT;IACF;IAEA2gC,mBAAmBmB,IAAAA;AACjB,YAAM9hC,KAAW3Y,KAAK+3C,wBAAwB0C,EAAAA;AAChC,UAAAC;AAAd,UAAI/hC,GACF,QAAqD,UAArD+hC,KAAO16C,KAAK0xC,gCAAgC/4B,EAAAA,MAAAA,WAAS+hC,KAAAA,SAA9CA,GAAiD,CAAA;IAE5D;IAEAb,sBAAsBlhC,IAAAA;AACpB,aAAIA,GAASghC,YACJ1yC,GAAoBjH,KAAKF,SAAS6Y,GAASO,cAAAA,IAGhDjS,GAAoBjH,KAAKF,SAAS6Y,GAASO,cAAAA,KAC3CjS,GAAoBjH,KAAKF,SAAS6Y,GAASQ,YAAAA;IAGjD;EAAA;AAGFw/B,KAAiBt7B,YAAY,mDAAA,GAC7Bs7B,GAAiBt7B,YAAY,mDAAA,GAC7Bs7B,GAAiBt7B,YAAY,8CAAA,GAC7Bs7B,GAAiBt7B,YAAY,qCAAA,GAC7Bs7B,GAAiBt7B,YAAY,uCAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,YAAA,IAAA,mBAAA,IAAA,iBAAA,IAAA,OAAA,IAAA,aAAA,IAAA,UAAA,IAAA,QAAA,IAAA,YAAA,IAAA,eAAA,IAAA,oBAAA,IAAA,gBAAA,IAAA,mBAAA,IAAA,OAAA,IAAA,aAAA,IAAA,kBAAA,IAAA,gBAAA,IAAA,aAAA,IAAA,MAAA,IAAA,aAAA,GAAA,CAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,YAAAs9B,KAAA,gBAAA,IAAA,WAAA,IAAA,cAAA,IAAA,WAAA,IAAA,2BAAA,IAAA,UAAA,GAAA,CAAA;AC9L7B,MAAA,EAAMv3C,MAAEA,IAAIioB,KAAEA,IAAKuvB,UAAAA,GAAAA,IAAapmC;AAAhC,MAEMqmC,KAAW,SAAS5kC,IAAAA;AACxB,WAAO,WAAA;AACL,YAAM6kC,KAAW7kC,GAAGvH,MAAM1O,MAAMqF,SAAAA;AAChCy1C,MAAAA,GAASC,GAAAA,GACJ/6C,KAAKg7C,UACRh7C,KAAKg7C,QAAQ,CAAA,IAEfh7C,KAAKg7C,MAAMrxC,KAAKmxC,GAASp4C,IAAAA;IAAAA;EAE7B;AAEe,MAAMu4C,KAAN,cAAyCjtC,GAAAA;IACtD2B,YAAY6b,IAAiB1rB,IAASm3C,IAAAA;AAAyB,UAAd1uC,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACzDuK,YAAAA,GAASvK,SAAAA,GAkDXiuB,GAAAtzB,MAAA,sBAEqB66C,GAAS,OACrB,EACLE,IAAIA,MAAAA;AACF/6C,aAAKF,QAAQgJ,QAAQ0jB,cAAAA;MAAkB,GAEzC9pB,MAAMA,MAAAA,OAAa1C,KAAKF,QAAQgJ,QAAQ0jB,YAAAA,EAAAA,CAAAA,GAE1C8G,GAAAtzB,MAAA,cAEW66C,GAAS,MAAA;AAQpB,cAAM/6C,KAAUuI,GAAY,EAC1BvJ,SAAS,OACTiK,WAAWsiB,GAAI9d,mBACf1E,MAAM,EAAE2jB,aAAAA,KAAa,GACrBnjB,YAAYhB,GAAY,EACtBvJ,SAAS,OACTiK,WAAW,mBACXM,YAAYhB,GAAY,EACtBvJ,SAAS,QACTiK,WAAW,gDACXM,YAAYhB,GAAY,EACtBvJ,SAAS,UACTiK,WAAW,mCACXK,aAAahG,GAAKZ,QAClB5D,YAAY,EAAEs8C,OAAO93C,GAAKZ,OAAAA,GAC1BqG,MAAM,EAAEsyC,YAAY,SAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AA+C5B,eAzCIn7C,KAAK+M,WAAW4iB,cAAAA,KAOlB7vB,GAAQyJ,YACNlB,GAAY,EACVvJ,SAAS,OACTiK,WAAWsiB,GAAIle,6BACf9D,YAAYhB,GAAY,EACtBvJ,SAAS,QACTiK,WAAWsiB,GAAIne,oBACf7D,YAAY,CACVhB,GAAY,EACVvJ,SAAS,QACTiK,WAAWsiB,GAAIje,gBACfhE,aAAapJ,KAAK+M,WAAW+f,YAAAA,GAC7BluB,YAAY,EAAEs8C,OAAOl7C,KAAK+M,WAAW+f,YAAAA,EAAAA,EAAAA,CAAAA,GAEvCzkB,GAAY,EACVvJ,SAAS,QACTiK,WAAWsiB,GAAI/d,gBACflE,aAAapJ,KAAK+M,WAAWggB,qBAAAA,EAAAA,CAAAA,CAAAA,EAAAA,CAAAA,EAAAA,CAAAA,CAAAA,GAQzCloB,GAAY,SAAS,EAAEE,WAAWjF,IAASmF,cAAcjF,KAAKo7C,gBAAAA,CAAAA,GAC9Dv2C,GAAY,SAAS,EACnBE,WAAWjF,IACXkF,kBAAkB,sBAClBC,cAAcjF,KAAKq7C,qBAAAA,CAAAA,GAGrBn1C,GAAa,kCAAkC,EAAEnB,WAAW/E,KAAKF,SAASlB,YAAY,EAAE4N,SAAS1M,IAASiN,YAAY/M,KAAK+M,WAAAA,EAAAA,CAAAA,GAEpH,EACLguC,IAAIA,MAAM/6C,KAAKF,QAAQyJ,YAAYzJ,EAAAA,GACnC4C,MAAMA,MAAM4E,GAAWxH,EAAAA,EAAAA;MACxB,CAAA,CAAA,GACDwzB,GAAAtzB,MAAA,wBAEqB66C,GAAS,MAAA;AAC9B,cAAMS,KAAWjzC,GAAY,EAC3BvJ,SAAS,YACTiK,WAAWsiB,GAAIpe,yBACfrO,YAAY,EAAE28C,aAAan4C,GAAKnB,mBAAAA,GAChC4G,MAAM,EAAE2jB,aAAAA,KAAa,EAAA,CAAA;AAEvB8uB,QAAAA,GAAS92C,QAAQxE,KAAKwrB,gBAAgBmB,WAAAA;AAEtC,cAAM6uB,KAAgBF,GAAS19B,UAAAA;AAC/B49B,QAAAA,GAActyC,UAAUC,IAAI,uBAAA,GAC5BqyC,GAAcC,WAAAA;AAEd,cAAMC,KAAa,WAAA;AACjBF,UAAAA,GAAch3C,QAAQ82C,GAAS92C,OAC/B82C,GAAS1yC,MAAMmmB,SAASysB,GAAcG,eAAe;QAAA;AAGvD92C,QAAAA,GAAY,SAAS,EAAEE,WAAWu2C,IAAUr2C,cAAcy2C,GAAAA,CAAAA,GAC1D72C,GAAY,SAAS,EAAEE,WAAWu2C,IAAUr2C,cAAcjF,KAAK47C,gBAAAA,CAAAA,GAC/D/2C,GAAY,WAAW,EAAEE,WAAWu2C,IAAUr2C,cAAcjF,KAAK67C,kBAAAA,CAAAA,GACjEh3C,GAAY,UAAU,EAAEE,WAAWu2C,IAAUr2C,cAAcjF,KAAK87C,iBAAAA,CAAAA,GAChEj3C,GAAY,QAAQ,EAAEE,WAAWu2C,IAAUr2C,cAAcjF,KAAK+7C,eAAAA,CAAAA;AAE9D,cAAMrvB,KAAa1sB,KAAKF,QAAQuV,cAAc,YAAA,GACxC2mC,KAAoBtvB,GAAW9O,UAAAA;AAErC,eAAO,EACLm9B,IAAIA,MAAAA;AAOF,cANAruB,GAAW9jB,MAAMo9B,UAAU,QAC3BgW,GAAkBzyC,YAAY+xC,EAAAA,GAC9BU,GAAkBzyC,YAAYiyC,EAAAA,GAC9BQ,GAAkB9yC,UAAUC,IAAG,GAAA1F,OAAI4nB,GAAIre,mBAAiB,WAAA,CAAA,GACxD0f,GAAW0a,cAAclyB,aAAa8mC,IAAmBtvB,EAAAA,GACzDgvB,GAAAA,GACI17C,KAAKuI,QAAQ0zC,YACf,QAAOjmC,GAAM,MAAMslC,GAASY,MAAAA,CAAAA;QAC9B,GAEFx5C,OAAAA;AACE4E,UAAAA,GAAW00C,EAAAA,GACXtvB,GAAW9jB,MAAMo9B,UAAU;QAC7B,EAAA;MACD,CAAA,CAAA,GAnLDhmC,KAAKo7C,kBAAkBp7C,KAAKo7C,gBAAgB5jC,KAAKxX,IAAAA,GACjDA,KAAKq7C,uBAAuBr7C,KAAKq7C,qBAAqB7jC,KAAKxX,IAAAA,GAC3DA,KAAK67C,oBAAoB77C,KAAK67C,kBAAkBrkC,KAAKxX,IAAAA,GACrDA,KAAK47C,kBAAkB57C,KAAK47C,gBAAgBpkC,KAAKxX,IAAAA,GACjDA,KAAK87C,mBAAmB97C,KAAK87C,iBAAiBtkC,KAAKxX,IAAAA,GACnDA,KAAK+7C,iBAAiB/7C,KAAK+7C,eAAevkC,KAAKxX,IAAAA,GAC/CA,KAAKwrB,kBAAkBA,IACvBxrB,KAAKF,UAAUA,IACfE,KAAKi3C,YAAYA,IACjBj3C,KAAKuI,UAAUA,IACfvI,KAAK+M,aAAa/M,KAAKwrB,gBAAgBze,YACT,QAA1BjO,GAAQkB,KAAKF,OAAAA,MACfE,KAAKF,UAAUE,KAAKF,QAAQgK,aAE9B9J,KAAKm8C,QAAAA;IACP;IAEAA,UAAAA;AACEn8C,WAAKo8C,mBAAAA,GACLp8C,KAAKq8C,WAAAA,GACDr8C,KAAK+M,WAAW4iB,cAAAA,KAClB3vB,KAAKs8C,qBAAAA;IAET;IAEAC,YAAAA;AAAY,UAAA7nB;AACV,UAAIhyB,KAAO1C,KAAKg7C,MAAMj6B,IAAAA;AAEtB,WADA/gB,KAAKw8C,mBAAAA,GACE95C,KACLA,CAAAA,GAAAA,GACAA,KAAO1C,KAAKg7C,MAAMj6B,IAAAA;AAEP2T,gBAAbA,KAAA10B,KAAK40B,aAAAA,WAAQF,MAAbA,GAAe+nB,6BAA6Bz8C,IAAAA;IAC9C;IAIAw8C,qBAAAA;AACE,UAA2B,QAAvBx8C,KAAK08C,gBAAwB;AAC/B,cAAMl+C,KAAUwB,KAAK08C;AAER,YAAA9mB,IAAAC,IAENmW,IAAA2Q;AAFP,YADA38C,KAAK08C,iBAAiB,MAClBl+C,GAAAA,WACFo3B,KAAAA,KAAKhB,aAAAA,WAAQgB,MAA2D,UAA3DC,KAAbD,GAAegnB,8DAAAA,WAAyD/mB,MAAxEA,GAAA9vB,KAAA6vB,IAA2E,EAAEp3B,SAAAA,GAAAA,GAAWwB,KAAK+M,UAAAA;YAEhF,WAAbi/B,KAAIhsC,KAAC40B,aAAAA,WAAQoX,MAA0D,UAA1D2Q,KAAb3Q,GAAe6Q,6DAAAA,WAAwDF,MAAvEA,GAAA52C,KAAAimC,IAA0E,WAAWhsC,KAAK+M,UAAAA;MAE9F;IACF;IAyIAquC,gBAAgBz1C,IAAAA;AAEd,aADAA,GAAMR,eAAAA,GACCQ,GAAMm3C,gBAAAA;IACf;IAEAzB,qBAAqB11C,IAAAA;AAAO,UAAA4nC;AAE1B,UACO,aAFQ5nC,GAAME,OAAOwG,aAAa,kBAAA,EAGrC,QAAoBkhC,UAApBA,KAAOvtC,KAAK40B,aAAAA,WAAQ2Y,KAAAA,SAAbA,GAAewP,8CAA8C/8C,KAAK+M,UAAAA;IAE/E;IAEA8uC,kBAAkBl2C,IAAAA;AAC0B,UAAAurC,IAAA8L;AAA1C,UAAgC,aAA5BpC,GAASj1C,GAAMs3C,OAAAA,EAGjB,QAFAt3C,GAAMR,eAAAA,GACNnF,KAAKw8C,mBAAAA,GAAAA,UACLtL,KAAOlxC,KAAK40B,aAAAA,WAAQsc,MAAiD8L,UAAjDA,KAAb9L,GAAegM,oDAAAA,WAA+CF,KAAAA,SAA9DA,GAAAj3C,KAAAmrC,IAAiElxC,KAAK+M,UAAAA;IAEjF;IAEA6uC,gBAAgBj2C,IAAAA;AACd3F,WAAK08C,iBAAiB/2C,GAAME,OAAOrB,MAAMN,QAAQ,OAAO,GAAA,EAAK4P,KAAAA;IAC/D;IAEAgoC,iBAAiBn2C,IAAAA;AACf,aAAO3F,KAAKw8C,mBAAAA;IACd;IAEAT,eAAep2C,IAAAA;AACb,aAAO3F,KAAKw8C,mBAAAA;IACd;EAAA;ACtOa,MAAMW,KAAN,cAAoCnvC,GAAAA;IACjD2B,YAAY7P,IAAS+qC,IAAAA;AACnBj7B,YAAAA,GAASvK,SAAAA,GACTrF,KAAKo9C,WAAWp9C,KAAKo9C,SAAS5lC,KAAKxX,IAAAA,GACnCA,KAAKq9C,UAAUr9C,KAAKq9C,QAAQ7lC,KAAKxX,IAAAA,GACjCA,KAAKs9C,qBAAqBt9C,KAAKs9C,mBAAmB9lC,KAAKxX,IAAAA,GAEvDA,KAAKF,UAAUA,IACfE,KAAK6qC,cAAcA,IACnB7qC,KAAKu9C,eAAe,IAAInsB,GAAapxB,KAAK6qC,YAAYnmC,UAAU,EAAE5E,SAASE,KAAKF,QAAAA,CAAAA,GAEhF+E,GAAY,SAAS,EAAEE,WAAW/E,KAAKF,SAASmF,cAAcjF,KAAKo9C,SAAAA,CAAAA,GACnEv4C,GAAY,QAAQ,EAAEE,WAAW/E,KAAKF,SAASmF,cAAcjF,KAAKq9C,QAAAA,CAAAA,GAClEx4C,GAAY,SAAS,EACnBE,WAAW/E,KAAKF,SAChBkF,kBAAkB,4BAClBG,gBAAAA,KAAgB,CAAA,GAElBN,GAAY,aAAa,EACvBE,WAAW/E,KAAKF,SAChBkF,kBAAkB5G,IAClB6G,cAAcjF,KAAKs9C,mBAAAA,CAAAA,GAErBz4C,GAAY,SAAS,EAAEE,WAAW/E,KAAKF,SAASkF,kBAAgBvB,IAAAA,OAAMrF,EAAAA,GAAsB+G,gBAAAA,KAAgB,CAAA;IAC9G;IAEAi4C,SAASz3C,IAAAA;AAAO,UAAA63C;AACd,YAAMxgC,KAAUA,MAAAA;AACK,YAAA0X,IAAAgX;AAAnB,YAAA,CAAK1rC,KAAKy9C,QAER,QADAz9C,KAAKy9C,UAAAA,MACe/oB,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAAAA,UAAAgX,KAAbhX,GAAegpB,kCAAAA,WAA6BhS,KAAAA,SAA5CA,GAAA3lC,KAAA2uB,EAAAA;MACT;AAGF,cAAA,UAAO8oB,KAAAx9C,KAAK29C,gBAAAA,WAAWH,KAAAA,SAAhBA,GAAkBpnB,KAAKpZ,EAAAA,MAAYA,GAAAA;IAC5C;IAEAqgC,QAAQ13C,IAAAA;AACN3F,WAAK29C,cAAc,IAAI9gC,QAASC,CAAAA,OACvB9G,GAAM,MAAA;AAC8B,YAAA4f,IAAAmW;AAApChlC,QAAAA,GAAqB/G,KAAKF,OAAAA,MAC7BE,KAAKy9C,UAAU,MAAA,UACf7nB,KAAAA,KAAKhB,aAAAA,WAAQgB,MAA8B,UAA9BmW,KAAbnW,GAAegoB,iCAAAA,WAA4B7R,MAA3CA,GAAAhmC,KAAA6vB,EAAAA;AAGF,eADA51B,KAAK29C,cAAc,MACZ7gC,GAAAA;MAAS,CAAA,CAAA;IAGtB;IAEAwgC,mBAAmB33C,IAAOE,IAAAA;AAAQ,UAAAmmC,IAAAC;AAChC,YAAMl/B,KAAa/M,KAAK69C,yBAAyBh4C,EAAAA,GAC3Co2C,KAAAA,CAAAA,CAAgBn2C,GAA2BH,GAAME,QAAQ,EAAEb,kBAAkB,aAAA,CAAA;AACnF,aAAoBgnC,UAApBA,KAAOhsC,KAAK40B,aAAAA,WAAQoX,MAA0C,UAA1CC,KAAbD,GAAe8R,6CAAAA,WAAwC7R,KAAAA,SAAvDA,GAAAlmC,KAAAimC,IAA0Dj/B,IAAY,EAAEkvC,aAAAA,GAAAA,CAAAA;IACjF;IAEA8B,yBAAAA;AACE,aAAI/9C,KAAKg+C,oBAAAA,IACAh+C,KAAKu9C,aAAa9rB,gBAElBzxB,KAAKF;IAEhB;IAEAuxB,SAAAA;AAAS,UAAA6hB,IAAAC,IAO0D5F,IAAA0Q,IAAA/M,IAAAgN;AAAAA,OAN7Dl+C,KAAKyrC,aAAazrC,KAAK6qC,YAAYY,aACrCzrC,KAAKu9C,aAAa/rB,YAAYxxB,KAAK6qC,YAAYnmC,QAAAA,GAC/C1E,KAAKu9C,aAAalsB,OAAAA,GAClBrxB,KAAKyrC,WAAWzrC,KAAK6qC,YAAYY,WAG/BzrC,KAAKm+C,oBAAAA,KAAAA,CAA0Bn+C,KAAKu9C,aAAa5rB,SAAAA,OAAAA,UACnD4b,KAAAA,KAAK3Y,aAAAA,WAAQ2Y,MAA2C,UAA3C0Q,KAAb1Q,GAAe6Q,8CAAAA,WAAyCH,MAAxDA,GAAAl4C,KAAAwnC,EAAAA,GACAvtC,KAAKu9C,aAAajsB,KAAAA,GAAAA,UAClB4f,KAAAA,KAAKtc,aAAAA,WAAQsc,MAA0C,UAA1CgN,KAAbhN,GAAemN,6CAAAA,WAAwCH,MAAvDA,GAAAn4C,KAAAmrC,EAAAA;AAGF,aAAoBgC,UAApBA,KAAOlzC,KAAK40B,aAAAA,WAAQse,MAAAA,UAAAC,KAAbD,GAAeoL,mCAAAA,WAA8BnL,KAAAA,SAA7CA,GAAAptC,KAAAmtC,EAAAA;IACT;IAEAqL,sBAAsBhwC,IAAAA;AAEpB,aADAvO,KAAKge,wBAAwBzP,EAAAA,GACtBvO,KAAKqxB,OAAAA;IACd;IAEArT,wBAAwBzP,IAAAA;AACtB,aAAOvO,KAAKu9C,aAAav/B,wBAAwBzP,EAAAA;IACnD;IAEA0Q,uBAAAA;AACE,aAAOjf,KAAKu9C,aAAat+B,qBAAAA;IAC3B;IAEAG,oBAAAA;AACE,aAAOpf,KAAKu9C,aAAan+B,kBAAAA;IAC3B;IAEAC,qBAAAA;AACE,aAAOrf,KAAKu9C,aAAal+B,mBAAAA;IAC3B;IAEAm/B,mBAAAA;AACE,aAAOx+C,KAAKu9C,aAAa/9B,0BAAAA;IAC3B;IAIAw+B,sBAAAA;AACE,aAAA,CAAA,CAASh+C,KAAKy+C;IAChB;IAEAC,qCAAqC3xC,IAAYxE,IAAAA;AAAS,UAAAo2C;AACxD,WAAyB,UAArBA,KAAI3+C,KAACy+C,qBAAAA,WAAgBE,KAAAA,SAArBA,GAAuB5xC,gBAAeA,GAAY;AACtD,YAAMjN,KAAUE,KAAKu9C,aAAax+B,qBAAqBhS,EAAAA;AACvD,UAAA,CAAKjN,GAAS;AAEdE,WAAK4+C,0BAAAA;AACL,YAAMpzB,KAAkBxrB,KAAK6qC,YAAYnmC,SAAS8/B,gCAAgCz3B,EAAAA;AAClF/M,WAAKy+C,mBAAmB,IAAIxD,GAA2BzvB,IAAiB1rB,IAASE,KAAKF,SAASyI,EAAAA,GAC/FvI,KAAKy+C,iBAAiB7pB,WAAW50B;IACnC;IAEA4+C,4BAAAA;AAA4B,UAAAC;AAC1B,aAA4B,UAA5BA,KAAO7+C,KAAKy+C,qBAAAA,WAAgBI,KAAAA,SAArBA,GAAuBtC,UAAAA;IAChC;IAIAE,+BAAAA;AAEE,aADAz8C,KAAKy+C,mBAAmB,MACjBz+C,KAAKqxB,OAAAA;IACd;IAEAurB,0DAA0Dh+C,IAAYmO,IAAAA;AAAY,UAAAsmC,IAAAC;AAEhF,aAAA,UADAD,KAAAA,KAAKze,aAAAA,WAAQye,MAA2CC,UAA3CA,KAAbD,GAAeyL,8CAAAA,WAAyCxL,MAAxDA,GAAAvtC,KAAAstC,IAA2DtmC,EAAAA,GACpD/M,KAAK6qC,YAAY7O,8BAA8Bp9B,IAAYmO,EAAAA;IACpE;IAEA8vC,yDAAyD/pB,IAAW/lB,IAAAA;AAAY,UAAAymC,IAAAC;AAE9E,aAAA,UADAD,KAAAA,KAAK5e,aAAAA,WAAQ4e,MAA2CC,UAA3CA,KAAbD,GAAesL,8CAAAA,WAAyCrL,MAAxDA,GAAA1tC,KAAAytC,IAA2DzmC,EAAAA,GACpD/M,KAAK6qC,YAAY3I,6BAA6BpP,IAAW/lB,EAAAA;IAClE;IAEAgwC,8CAA8ChwC,IAAAA;AAAY,UAAA4mC,IAAAC;AACxD,aAAoBD,UAApBA,KAAO3zC,KAAK40B,aAAAA,WAAQ+e,MAAoD,UAApDC,KAAbD,GAAeoL,uDAAAA,WAAkDnL,KAAAA,SAAjEA,GAAA7tC,KAAA4tC,IAAoE5mC,EAAAA;IAC7E;IAEAmwC,gDAAgDnwC,IAAAA;AAAY,UAAA+mC,IAAAC;AAC1D,aAAoBD,UAApBA,KAAO9zC,KAAK40B,aAAAA,WAAQkf,MAAsD,UAAtDC,KAAbD,GAAekL,yDAAAA,WAAoDjL,KAAAA,SAAnEA,GAAAhuC,KAAA+tC,IAAsE/mC,EAAAA;IAC/E;IAIAoxC,sBAAAA;AACE,aAAA,CAAQn+C,KAAKg+C,oBAAAA;IACf;IAEAH,yBAAyB/9C,IAAAA;AACvB,aAAOE,KAAK6qC,YAAYnmC,SAASm3B,kBAAkBj7B,SAASd,GAAQgJ,QAAQ4kB,QAAQ,EAAA,CAAA;IACtF;EAAA;ACnKa,MAAMuxB,KAAN,cAAyBjxC,GAAAA;EAAAA;ACQxC,MAAMkxC,KAAuB;AAA7B,MACMC,KAAe,IAAA17C,OAAOy7C,IAAuB,GAAA;AADnD,MAGM32C,KAAU,EACd3J,YAAAA,MACAwgD,WAAAA,MACAC,eAAAA,MACAC,uBAAAA,MACAC,SAAAA,KAAS;AAGI,MAAMC,KAAN,cAA+BxxC,GAAAA;IAC5C2B,YAAY7P,IAAAA;AACV8P,YAAM9P,EAAAA,GACNE,KAAKy/C,YAAYz/C,KAAKy/C,UAAUjoC,KAAKxX,IAAAA,GACrCA,KAAKF,UAAUA,IACfE,KAAK0/C,WAAW,IAAI3zC,OAAOyzC,iBAAiBx/C,KAAKy/C,SAAAA,GACjDz/C,KAAK0W,MAAAA;IACP;IAEAA,QAAAA;AAEE,aADA1W,KAAKmY,MAAAA,GACEnY,KAAK0/C,SAASC,QAAQ3/C,KAAKF,SAASyI,EAAAA;IAC7C;IAEAoP,OAAAA;AACE,aAAO3X,KAAK0/C,SAASE,WAAAA;IACvB;IAEAH,UAAUI,IAAAA;AAGmB,UAAAnrB,IAAAorB;AAA3B,UAFA9/C,KAAK6/C,UAAUl2C,KAAAA,GAAQgH,MAAMC,KAAK5Q,KAAK+/C,yBAAyBF,EAAAA,KAAc,CAAA,CAAA,CAAA,GAE1E7/C,KAAK6/C,UAAUv6C,OAEjB,QADa,UAAbovB,KAAI10B,KAAC40B,aAAAA,WAAQF,MAAkB,UAAlBorB,KAAbprB,GAAesrB,qBAAAA,WAAgBF,MAA/BA,GAAA/5C,KAAA2uB,IAAkC10B,KAAKigD,mBAAAA,CAAAA,GAChCjgD,KAAKmY,MAAAA;IAEhB;IAIAA,QAAAA;AACEnY,WAAK6/C,YAAY,CAAA;IACnB;IAEAE,yBAAyBF,IAAAA;AACvB,aAAOA,GAAU9nC,OAAQmoC,CAAAA,OAChBlgD,KAAKmgD,sBAAsBD,EAAAA,CAAAA;IAEtC;IAEAC,sBAAsBD,IAAAA;AACpB,UAAIlgD,KAAKogD,cAAcF,GAASr6C,MAAAA,EAC9B,QAAA;AAEF,iBAAWa,MAAQiK,MAAMC,KAAK5Q,KAAKqgD,wBAAwBH,EAAAA,CAAAA,EACzD,KAAIlgD,KAAKsgD,kBAAkB55C,EAAAA,EAAO,QAAA;AAEpC,aAAA;IACF;IAEA45C,kBAAkB55C,IAAAA;AAChB,aAAOA,OAAS1G,KAAKF,WAAAA,CAAYE,KAAKogD,cAAc15C,EAAAA,KAAAA,CAAU8D,GAAoB9D,EAAAA;IACpF;IAEA05C,cAAc15C,IAAAA;AACZ,aAAOZ,GAA2BY,IAAM,EAAE1B,kBAAkBm6C,GAAAA,CAAAA;IAC9D;IAEAkB,wBAAwBH,IAAAA;AACtB,YAAMxiC,KAAQ,CAAA;AACd,cAAQwiC,GAASl1C,MAAAA;QACf,KAAK;AACCk1C,UAAAA,GAAS3rC,kBAAkB2qC,MAC7BxhC,GAAM/T,KAAKu2C,GAASr6C,MAAAA;AAEtB;QACF,KAAK;AAEH6X,UAAAA,GAAM/T,KAAKu2C,GAASr6C,OAAO9F,UAAAA,GAC3B2d,GAAM/T,KAAKu2C,GAASr6C,MAAAA;AACpB;QACF,KAAK;AAEH6X,UAAAA,GAAM/T,KAAAA,GAAQgH,MAAMC,KAAKsvC,GAASK,cAAc,CAAA,CAAA,CAAA,GAChD7iC,GAAM/T,KAAAA,GAAQgH,MAAMC,KAAKsvC,GAASM,gBAAgB,CAAA,CAAA,CAAA;MAAA;AAGtD,aAAO9iC;IACT;IAEAuiC,qBAAAA;AACE,aAAOjgD,KAAKygD,uBAAAA;IACd;IAEAA,yBAAAA;AACE,YAAA,EAAMC,WAAEA,IAASC,WAAEA,GAAAA,IAAc3gD,KAAK4gD,gCAAAA,GAChCC,KAAc7gD,KAAK8gD,4BAAAA;AAEzBnwC,YAAMC,KAAKiwC,GAAYH,SAAAA,EAAWz3C,QAAS83C,CAAAA,OAAAA;AACpCpwC,cAAMC,KAAK8vC,EAAAA,EAAWz2C,SAAS82C,EAAAA,KAClCL,GAAU/2C,KAAKo3C,EAAAA;MACjB,CAAA,GAGFJ,GAAUh3C,KAAAA,GAAQgH,MAAMC,KAAKiwC,GAAYF,aAAa,CAAA,CAAA,CAAA;AAEtD,YAAMK,KAAU,CAAA,GAEVrO,KAAQ+N,GAAU5uC,KAAK,EAAA;AACzB6gC,MAAAA,OACFqO,GAAQC,YAAYtO;AAGtB,YAAMuO,KAAUP,GAAU7uC,KAAK,EAAA;AAK/B,aAJIovC,OACFF,GAAQG,cAAcD,KAGjBF;IACT;IAEAI,mBAAmBp2C,IAAAA;AACjB,aAAO2F,MAAMC,KAAK5Q,KAAK6/C,SAAAA,EAAW9nC,OAAQmoC,CAAAA,OAAaA,GAASl1C,SAASA,EAAAA;IAC3E;IAEA81C,8BAAAA;AACE,UAAIG,IAAWI;AACf,YAAMd,KAAa,CAAA,GACbC,KAAe,CAAA;AAErB7vC,YAAMC,KAAK5Q,KAAKohD,mBAAmB,WAAA,CAAA,EAAcn4C,QAASi3C,CAAAA,OAAAA;AACxDK,QAAAA,GAAW52C,KAAAA,GAAQgH,MAAMC,KAAKsvC,GAASK,cAAc,CAAA,CAAA,CAAA,GACrDC,GAAa72C,KAAAA,GAAQgH,MAAMC,KAAKsvC,GAASM,gBAAgB,CAAA,CAAA,CAAA;MAAI,CAAA;AAIvC,YAAtBD,GAAWj7C,UAAwC,MAAxBk7C,GAAal7C,UAAgBuE,GAAwB22C,GAAa,CAAA,CAAA,KAG7FS,KAAY,CAAA,GACZI,KAAc,CAAE,IAAA,MAEhBJ,KAAYK,GAAgBf,EAAAA,GAC5Bc,KAAcC,GAAgBd,EAAAA;AAGhC,YAAME,KAAYO,GAAUlpC,OAAO,CAACvY,IAAMqT,OAAUrT,OAAS6hD,GAAYxuC,EAAAA,CAAAA,EAAQxB,IAAIgI,EAAAA,GAC/EsnC,KAAYU,GAAYtpC,OAAO,CAACvY,IAAMqT,OAAUrT,OAASyhD,GAAUpuC,EAAAA,CAAAA,EAAQxB,IAAIgI,EAAAA;AAErF,aAAO,EAAEqnC,WAAAA,IAAWC,WAAAA,GAAAA;IACtB;IAEAC,kCAAAA;AACE,UAAIjO,IAAOC;AACX,YAAM2O,KAAqBvhD,KAAKohD,mBAAmB,eAAA;AAEnD,UAAIG,GAAmBj8C,QAAQ;AAC7B,cAAMk8C,KAAgBD,GAAmB,CAAA,GACvCE,KAAcF,GAAmBA,GAAmBj8C,SAAS,CAAA,GAIzDo8C,KxCxJyB,SAASC,IAAWC,IAAAA;AACvD,cAAIjP,IAAOC;AAUX,iBATA+O,KAAYxyC,GAAYC,IAAIuyC,EAAAA,IAC5BC,KAAYzyC,GAAYC,IAAIwyC,EAAAA,GAEdt8C,SAASq8C,GAAUr8C,SAAAA,CAC7BstC,IAASD,EAAAA,IAAUl5B,GAAuBkoC,IAAWC,EAAAA,IAAAA,CAErDjP,IAAOC,EAAAA,IAAYn5B,GAAuBmoC,IAAWD,EAAAA,GAGlD,EAAEhP,OAAAA,IAAOC,SAAAA,GAAAA;QAClB,EwC0IwBv5B,GAAgBmoC,GAAcK,QAAAA,GAC9BxoC,GAAgBooC,GAAY57C,OAAOgD,IAAAA,CAAAA;AAErD8pC,QAAAA,KAAQ+O,GAAW/O,OACnBC,KAAU8O,GAAW9O;MACvB;AAEA,aAAO,EACL8N,WAAW/N,KAAQ,CAAEA,EAAAA,IAAU,CAAA,GAC/BgO,WAAW/N,KAAU,CAAEA,EAAAA,IAAY,CAAA,EAAA;IAEvC;EAAA;AAGF,MAAM0O,KAAkB,WAAA;AAAqB,QAAZ5jC,KAAKrY,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACvC,UAAM7F,KAAO,CAAA;AACb,eAAWkH,MAAQiK,MAAMC,KAAK8M,EAAAA,EAC5B,SAAQhX,GAAKD,UAAAA;MACX,KAAKG,KAAK6D;AACRjL,QAAAA,GAAKmK,KAAKjD,GAAKmC,IAAAA;AACf;MACF,KAAKjC,KAAKC;AACc,iBAAlB/H,GAAQ4H,EAAAA,IACVlH,GAAKmK,KAAK,IAAA,IAEVnK,GAAKmK,KAAAA,GAAQgH,MAAMC,KAAK0wC,GAAgB56C,GAAK2C,UAAAA,KAAe,CAAA,CAAA,CAAA;IAAA;AAKpE,WAAO7J;EACT;ACrMe,MAAMsiD,KAAN,cAAwC3lC,IAAAA;IACrDxM,YAAYhR,IAAAA;AACViR,YAAAA,GAASvK,SAAAA,GACTrF,KAAKrB,OAAOA;IACd;IAEAqe,QAAQjS,IAAAA;AACN,YAAMg3C,KAAS,IAAIC;AAYnB,aAVAD,GAAOnuB,UAAU,MAAM7oB,GAAAA,KAAS,GAEhCg3C,GAAOtuB,SAAS,MAAA;AACdsuB,QAAAA,GAAOnuB,UAAU;AACjB,YAAA;AACEmuB,UAAAA,GAAOE,MAAAA;QACT,SAAStuC,IAAAA;QAAQ;AACjB,eAAO5I,GAAAA,MAAe/K,KAAKrB,IAAAA;MAAK,GAG3BojD,GAAOG,kBAAkBliD,KAAKrB,IAAAA;IACvC;EAAA;ACnBa,MAAMwjD,KAAN,MAAMA;IACnBxyC,YAAY7P,IAAAA;AACVE,WAAKF,UAAUA;IACjB;IAEAsiD,aAAaz8C,IAAAA;AACX,aAAA,CAAA,CAAK6O,GAAexT,mBAEpBhB,KAAKqiD,gBAAgBriD,KAAK2F,OAC1B3F,KAAK2F,QAAQA,IAEb3F,KAAKsiD,mCAAAA,GACLtiD,KAAKuiD,iCAAAA,GAEEviD,KAAKwiD;IACd;IAQAF,qCAAAA;AACMtiD,WAAKyiD,uCAAAA,KAA4CC,GAAoB1iD,KAAKF,QAAQ6iD,WAAW3iD,KAAK2F,MAAMkD,IAAAA,MAC1G7I,KAAKwiD,YAAAA,MACLxiD,KAAK2F,MAAMR,eAAAA;IAEf;IAGAo9C,mCAAAA;AACMviD,WAAKwiD,aAAsC,iBAAzBxiD,KAAK2F,MAAMi9C,cAC/B5iD,KAAKwiD,YAAAA;IAET;IAEAC,yCAAAA;AAAyC,UAAAI;AACvC,aAAO7iD,KAAK8iD,wBAAAA,KAA6B9iD,KAAK+iD,oCAAAA,MAAwD,UAAfF,KAAI7iD,KAAC2F,MAAMkD,SAAAA,WAAIg6C,KAAAA,SAAfA,GAAiBv9C,UAAS;IACnH;IAEAw9C,0BAAAA;AACE,aAA2B,kBAApB9iD,KAAK2F,MAAMqF,QAAmD,iBAAzBhL,KAAK2F,MAAMi9C;IACzD;IAEAG,sCAAAA;AAAsC,UAAAC,IAAAC;AACpC,aAAoC,eAAXD,UAAlBA,KAAAhjD,KAAKqiD,kBAAAA,WAAaW,KAAAA,SAAlBA,GAAoBh4C,SAAkD,oBAAV,UAAlBi4C,KAAIjjD,KAACqiD,kBAAAA,WAAaY,KAAAA,SAAlBA,GAAoB1+C;IACvE;EAAA;AAGF,MAAMm+C,KAAsBA,CAACQ,IAAOC,OAC3BC,GAAUF,EAAAA,MAAWE,GAAUD,EAAAA;AADxC,MAIME,KAA6B,IAAIt0C,OAAMtL,IAAAA,OhE1DD,UgE0DkC,GAAA,EAAAA,OAAIU,IAAgBV,GAAAA,EAAAA,OAAIW,IAAkB,QAAA,GAAU,GAAA;AAJlI,MAKMg/C,KAAa5jD,CAAAA,OAASA,GAAK0E,QAAQm/C,IAA4B,GAAA,EAAKvvC,KAAAA;ACtD3D,MAAMwvC,KAAN,cAA8Bt1C,GAAAA;IAI3C2B,YAAY7P,IAAAA;AACV8P,YAAAA,GAASvK,SAAAA,GACTrF,KAAKF,UAAUA,IACfE,KAAKujD,mBAAmB,IAAI/D,GAAiBx/C,KAAKF,OAAAA,GAClDE,KAAKujD,iBAAiB3uB,WAAW50B,MACjCA,KAAKwjD,wBAAwB,IAAIrB,GAA6BniD,KAAKF,OAAAA;AACnE,iBAAWgF,MAAa9E,KAAK2P,YAAY8zC,OACvC5+C,CAAAA,GAAYC,IAAW,EAAEC,WAAW/E,KAAKF,SAASmF,cAAcjF,KAAK0jD,WAAW5+C,EAAAA,EAAAA,CAAAA;IAEpF;IAEAk7C,iBAAiB2D,IAAAA;IAAkB;IAEnCC,6BAAAA;AACE,aAAO5jD,KAAKujD,iBAAiB5rC,KAAAA;IAC/B;IAEAksC,4BAAAA;AACE,aAAO7jD,KAAKujD,iBAAiB7sC,MAAAA;IAC/B;IAEAotC,gBAAAA;AAAgB,UAAApvB,IAAAqvB;AACd,aAAoBrvB,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAAAA,UAAAqvB,KAAbrvB,GAAesvB,oCAAAA,WAA+BD,KAAAA,SAA9CA,GAAAh+C,KAAA2uB,EAAAA;IACT;IAEAuvB,iBAAAA;AAAiB,UAAAruB,IAAAsuB;AAEf,aAAA,UADAtuB,KAAAA,KAAKhB,aAAAA,WAAQgB,MAAkC,UAAlCsuB,KAAbtuB,GAAeuuB,qCAAAA,WAAgCD,MAA/CA,GAAAn+C,KAAA6vB,EAAAA,GACO51B,KAAK8jD,cAAAA;IACd;IAEAliD,YAAYyJ,IAAAA;AACV,YAAM+4C,KAAazzC,MAAMC,KAAKvF,EAAAA,EAAOgG,IAAK1S,CAAAA,OAAS,IAAImjD,GAA0BnjD,EAAAA,CAAAA;AACjF,aAAOke,QAAQwnC,IAAID,EAAAA,EAAYhuB,KAAM/qB,CAAAA,OAAAA;AACnCrL,aAAKskD,YAAY,WAAA;AAAW,cAAAtY,IAAAuY;AAG1B,iBAFa,UAAbvY,KAAIhsC,KAAC40B,aAAAA,WAAQoX,MAAbA,GAAewY,+BAAAA,GACDD,UAAdA,KAAAvkD,KAAKykD,cAAAA,WAASF,MAAdA,GAAgBjX,YAAYjiC,EAAAA,GACrBrL,KAAK8jD,cAAAA;QACd,CAAA;MAAE,CAAA;IAEN;IAIAJ,WAAW5+C,IAAAA;AACT,aAAQa,CAAAA,OAAAA;AACDA,QAAAA,GAAM++C,oBACT1kD,KAAKskD,YAAY,MAAA;AACf,cAAA,CAAKv9C,GAAqB/G,KAAKF,OAAAA,GAAU;AACvC,gBAAIE,KAAKwjD,sBAAsBpB,aAAaz8C,EAAAA,EAAQ;AAEpD3F,iBAAK8E,YAAYA,IACjB9E,KAAK2P,YAAY8zC,OAAO3+C,EAAAA,EAAWiB,KAAK/F,MAAM2F,EAAAA;UAChD;QAAA,CAAA;MAEJ;IAEJ;IAEA2+C,YAAYv5C,IAAAA;AACV,UAAA;AAAI,YAAAwiC;AACW,kBAAbA,KAAIvtC,KAAC40B,aAAAA,WAAQ2Y,MAAbA,GAAeoX,+BAAAA,GACf55C,GAAShF,KAAK/F,IAAAA;MAChB,UAAU;AAAA,YAAAkxC;AACK,kBAAbA,KAAIlxC,KAAC40B,aAAAA,WAAQsc,MAAbA,GAAe0T,8BAAAA;MACjB;IACF;IAEAC,eAAe14C,IAAM3M,IAAAA;AACnB,YAAM4C,KAAOsC,SAAS8D,cAAc,GAAA;AAGpC,aAFApG,GAAK+J,OAAOA,IACZ/J,GAAKgH,cAAc5J,MAAc2M,IAC1B/J,GAAKgnB;IACd;EAAA;AAAA,MAAA;AACDkK,KA7EoBgwB,IAEH,UAAA,CAAA,CAAA;ACUlB,MAAA,EAAMz4C,SAAEA,IAAO+vC,UAAEA,GAAAA,IAAapmC;AAC9B,MAAIswC,KAAkB;AAEP,MAAMC,KAAN,cAAoCzB,GAAAA;IAmVjD3zC,cAAAA;AACEC,YAAAA,GAASvK,SAAAA,GACTrF,KAAKglD,kBAAAA;IACP;IAEAC,kBAAAA;AAA8B,UAAdjE,KAAO37C,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AACxBrF,WAAKklD,aAAapgD,YAAY9E,KAAK8E;AACnC,iBAAWP,MAAOy8C,IAAS;AACzB,cAAMx8C,KAAQw8C,GAAQz8C,EAAAA;AACtBvE,aAAKklD,aAAa3gD,EAAAA,IAAOC;MAC3B;AACA,aAAOxE,KAAKklD;IACd;IAEAF,oBAAAA;AACEhlD,WAAKklD,eAAe,CAAA;IACtB;IAEA/sC,QAAAA;AAEE,aADAnY,KAAKglD,kBAAAA,GACE5sC,GAAwBD,MAAAA;IACjC;IAIA6nC,iBAAiB2D,IAAAA;AACS,UAAAjvB,IAAAqvB;AAAxB,aAAI/jD,KAAKmlD,YAAAA,IACazwB,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAAAA,UAAAqvB,KAAbrvB,GAAe0wB,0CAAAA,WAAqCrB,KAAAA,SAApDA,GAAAh+C,KAAA2uB,EAAAA,IAEA10B,KAAKskD,YAAY,WAAA;AAQtB,eAPItkD,KAAKmgD,sBAAsBwD,EAAAA,MACzB3jD,KAAKqlD,mBAAmB1B,EAAAA,IAC1B3jD,KAAK8jD,cAAAA,IAEL9jD,KAAKikD,eAAAA,IAGFjkD,KAAKmY,MAAAA;MACd,CAAA;IAEJ;IAEAktC,mBAAkB16B,IAAAA;AAA6B,UAAA,EAA5Bs2B,WAAEA,IAASE,aAAEA,GAAAA,IAAax2B;AAC3C,UAAI3qB,KAAKklD,aAAaI,eACpB,QAAA;AAGF,YAAMC,KACS,QAAbtE,KAAoBA,OAAcjhD,KAAKklD,aAAajE,YAAAA,CAAajhD,KAAKklD,aAAajE,WAC/EuE,KACW,QAAfrE,KAAsBnhD,KAAKklD,aAAaO,YAAAA,CAAazlD,KAAKklD,aAAaO,WAEnEC,KAA4B,CAAE,MAAM,KAAA,EAAQz7C,SAASg3C,EAAAA,KAAAA,CAAesE,IACpEI,KAA4C,SAAhBxE,MAAAA,CAAyBqE;AAK3D,UAHEE,MAAAA,CAA8BC,MAC9BA,MAAAA,CAA8BD,IAEH;AAC3B,cAAMpvC,KAAQtW,KAAK+qC,iBAAAA;AACnB,YAAIz0B,IAAO;AAAA,cAAAiuC;AACT,gBAAMx0C,KAAS21C,KAA4BzE,GAAU/8C,QAAQ,OAAO,EAAA,EAAIoB,UAAAA,MAAe27C,QAAAA,KAAAA,SAAAA,GAAW37C,WAAU;AAC5G,cAAkB,UAAlBi/C,KAAIvkD,KAAKykD,cAAAA,WAASF,MAAdA,GAAgB/R,qBAAqBl8B,GAAM,CAAA,IAAKvG,EAAAA,EAClD,QAAA;QAEJ;MACF;AAEA,aAAOw1C,MAAkCC;IAC3C;IAEArF,sBAAsBwD,IAAAA;AAAiB,UAAAiC;AACrC,YAAMC,KAAcpxC,OAAOC,KAAKivC,EAAAA,EAAiBr+C,SAAS,GACpDwgD,KAA8D,QAAnB,UAArBF,KAAA5lD,KAAK+lD,qBAAAA,WAAgBH,KAAAA,SAArBA,GAAuBI,WAAAA;AACnD,aAAOH,MAAAA,CAAgBC;IACzB;IAIAG,sBAAAA;AACE,UAAIjmD,KAAKmlD,YAAAA,EACP,QAAOnlD,KAAK+lD;AAEZ/lD,WAAK+lD,mBAAmB,IAAIG,GAAiBlmD,IAAAA;IAEjD;IAEAmlD,cAAAA;AACE,aAAOnlD,KAAK+lD,oBAAAA,CAAqB/lD,KAAK+lD,iBAAiBI,QAAAA;IACzD;IAEAnY,kBAAkB9P,IAAWv4B,IAAAA;AAAO,UAAAygD;AAClC,aAAA,WAAqD,UAAjDA,KAAApmD,KAAKykD,cAAAA,WAAS2B,KAAAA,SAAdA,GAAgBpY,kBAAkB9P,EAAAA,KAM7Bl+B,KAAKilD,gBAAgB,EAAEQ,WAAAA,KAAW,CAAA,IALrC9/C,MACFA,GAAMR,eAAAA,GACCnF,KAAK8jD,cAAAA,KAAAA;IAKlB;IAEAuC,iCAAiC7wC,IAAAA;AAAc,UAAA8wC;AAC7C,UAAA,CjD1bkC,SAAS9wC,IAAAA;AAC7C,YAAKA,QAAAA,MAAAA,CAAAA,GAAc+wC,QAAS,QAAA;AAE5B,mBAAWhiD,MAAO+Q,IAAkB;AAClC,gBAAM9Q,KAAQ8Q,GAAiB/Q,EAAAA;AAE/B,cAAA;AAEE,gBADAiR,GAAa+wC,QAAQhiD,IAAKC,EAAAA,GAAAA,CACrBgR,GAAaC,QAAQlR,EAAAA,MAASC,GAAO,QAAA;UAC3C,SAAQmP,IAAAA;AACP,mBAAA;UACF;QACF;AACA,eAAA;MACF,EiD4agC6B,EAAAA,EAAe;AAC3C,YAAM9Q,KAAyB4hD,UAAjBA,KAAGtmD,KAAKykD,cAAAA,WAAS6B,KAAAA,SAAdA,GAAgB3W,oBAAAA,EAAsBzK,uBAAAA;AAKvD,aAHA1vB,GAAa+wC,QAAQ,+BAA+Br0C,KAAKO,UAAU/N,EAAAA,CAAAA,GACnE8Q,GAAa+wC,QAAQ,aAAan1B,GAAaC,OAAO3sB,EAAAA,EAAU2kB,SAAAA,GAChE7T,GAAa+wC,QAAQ,cAAc7hD,GAAS4K,SAAAA,EAAWpL,QAAQ,OAAO,EAAA,CAAA,GAAA;IAExE;IAEAsiD,sBAAsBhxC,IAAAA;AACpB,YAAMgd,KAAQ,CAAA;AAId,aAHA7hB,MAAMC,MAAK4E,QAAAA,KAAAA,SAAAA,GAAcgd,UAAS,CAAA,CAAA,EAAIvpB,QAAS+B,CAAAA,OAAAA;AAC7CwnB,QAAAA,GAAMxnB,EAAAA,IAAAA;MAAY,CAAA,GAEbwnB,GAAMi0B,SAASj0B,GAAM,6BAAA,KAAkCA,GAAM,WAAA,KAAgBA,GAAM,YAAA;IAC5F;IAEAk0B,gCAAgC37C,IAAAA;AAC9B,YAAM+/B,KAAgB9qC,KAAK+qC,iBAAAA,GAErBniC,KAAQ,EACZ2uB,UAAU,YACVngB,MAAAA,GAAI3T,OAAKsI,OAAO46C,aAAe,IAAA,GAC/Bzd,KAAAA,GAAGzlC,OAAKsI,OAAO66C,aAAe,IAAA,GAC9BC,SAAS,EAAA,GAGL/mD,KAAUuI,GAAY,EAAEO,OAAAA,IAAO9J,SAAS,OAAO2J,UAAAA,KAAU,CAAA;AAI/D,aAHA/D,SAAS6G,KAAKhC,YAAYzJ,EAAAA,GAC1BA,GAAQo8C,MAAAA,GAED4K,sBAAsB,MAAA;AAC3B,cAAMriD,KAAO3E,GAAQupB;AAGrB,eAFA/hB,GAAWxH,EAAAA,GACXE,KAAKkvC,iBAAiBpE,EAAAA,GACf//B,GAAStG,EAAAA;MAAK,CAAA;IAEzB;EAAA;AACD6uB,KAheoByxB,IAEH,UAAA,EACdgC,QAAQphD,IAAAA;AACD3F,SAAKmlD,YAAAA,KACRnlD,KAAKglD,kBAAAA,GAEPhlD,KAAKklD,aAAa8B,WAAAA;AAElB,UAAMC,KAAUrM,GAASj1C,GAAMs3C,OAAAA;AAC/B,QAAIgK,IAAS;AAAA,UAAAC;AACX,UAAI53B,KAAUtvB,KAAK0U;AAElB,OAAE,QAAQ,OAAO,SAAS,MAAA,EAASzL,QAASk+C,CAAAA,OAAAA;AACd,YAAAC;AAAzBzhD,QAAAA,GAAKlC,GAAAA,OAAI0jD,IAAAA,KAAAA,CAAAA,MACM,WAAbA,OACFA,KAAW,YAEb73B,KAAiB,UAAV83B,KAAG93B,OAAAA,WAAO83B,KAAAA,SAAPA,GAAUD,EAAAA;MACtB,CAAA,GAGwB,SAAfD,UAAPA,KAAA53B,OAAAA,WAAO43B,KAAAA,SAAPA,GAAUD,EAAAA,OACZjnD,KAAKilD,gBAAgB,EAAEgC,SAAAA,GAAAA,CAAAA,GACvB7uC,GAAwBD,MAAAA,GACxBmX,GAAQ23B,EAAAA,EAASlhD,KAAK/F,MAAM2F,EAAAA;IAEhC;AAEA,QAAIiQ,GAA0BjQ,EAAAA,GAAQ;AACpC,YAAM0hD,KAAYn2C,OAAOW,aAAalM,GAAMs3C,OAAAA,EAAS38C,YAAAA;AACrD,UAAI+mD,IAAW;AAAA,YAAArb;AACb,cAAMt3B,KAAO,CAAE,OAAO,OAAA,EAAUrD,IAAK81C,CAAAA,OAAAA;AACnC,cAAIxhD,GAAKlC,GAAAA,OAAI0jD,IAAAA,KAAAA,CAAAA,EACX,QAAOA;QACT,CAAA,EACCpvC,OAAOxT,CAAAA,OAAOA,EAAAA;AACjBmQ,QAAAA,GAAK/K,KAAK09C,EAAAA,GACOrb,UAAjBA,KAAIhsC,KAAK40B,aAAAA,WAAQoX,MAAbA,GAAesb,yCAAyC5yC,EAAAA,KAC1D/O,GAAMR,eAAAA;MAEV;IACF;EACD,GAEDoiD,SAAS5hD,IAAAA;AACP,QAAmC,QAA/B3F,KAAKklD,aAAapgD,UAAmB;AACzC,QAAIa,GAAMmQ,QAAS;AACnB,QAAInQ,GAAMoQ,WAAAA,CAAYpQ,GAAM6hD,OAAQ;AAEpC,UAAMp2C,KAASq2C,GAAmB9hD,EAAAA;AACtB,QAAA4nC,IAAAma;AAAZ,WAAIt2C,MACW,UAAbm8B,KAAIvtC,KAAC40B,aAAAA,WAAQ2Y,MAAbA,GAAeoa,iCAAAA,GACDD,UAAdA,KAAA1nD,KAAKykD,cAAAA,WAASiD,MAAdA,GAAgBhb,aAAat7B,EAAAA,GACtBpR,KAAKilD,gBAAgB,EAAEhE,WAAW7vC,IAAQq0C,WAAWzlD,KAAK45C,oBAAAA,EAAAA,CAAAA,KAAAA;EAEpE,GAEDgO,UAAUjiD,IAAAA;AAER,UAAA,EAAMkD,MAAEA,GAAAA,IAASlD,IAAAA,EACXs7C,WAAEA,GAAAA,IAAcjhD,KAAKklD;AAC3B,QAAIjE,MAAaA,OAAcp4C,MAAQo4C,GAAU4G,YAAAA,MAAkBh/C,IAAM;AAAA,UAAAi/C;AACvE,YAAMxxC,KAAQtW,KAAK+qC,iBAAAA;AAInB,aAHA/qC,KAAKkvC,iBAAiB,CAAE54B,GAAM,CAAA,GAAIA,GAAM,CAAA,IAAK2qC,GAAU37C,MAAAA,CAAAA,GACzCwiD,UAAdA,KAAA9nD,KAAKykD,cAAAA,WAASqD,MAAdA,GAAgBpb,aAAa7jC,EAAAA,GAC7B7I,KAAKilD,gBAAgB,EAAEhE,WAAWp4C,GAAAA,CAAAA,GAC3B7I,KAAKkvC,iBAAiB54B,EAAAA;IAC/B;EACD,GAEDyxC,UAAUpiD,IAAAA;AACRA,IAAAA,GAAMR,eAAAA;EACP,GAED6iD,UAAUriD,IAAAA;AAAO,QAAAurC,IAAA+W;AAGf,WAFAjoD,KAAKqmD,iCAAiC1gD,GAAM6P,YAAAA,GAC5CxV,KAAKkoD,eAAeloD,KAAK+qC,iBAAAA,GACLmG,UAApBA,KAAOlxC,KAAK40B,aAAAA,WAAQsc,MAAAA,UAAA+W,KAAb/W,GAAeiX,gCAAAA,WAA2BF,KAAAA,SAA1CA,GAAAliD,KAAAmrC,EAAAA;EACR,GAEDkX,SAASziD,IAAAA;AACP,QAAI3F,KAAKkoD,gBAAgBloD,KAAKwmD,sBAAsB7gD,GAAM6P,YAAAA,GAAe;AACvE7P,MAAAA,GAAMR,eAAAA;AACN,YAAMkjD,KAAgB,EAAE/nC,GAAG3a,GAAM2iD,SAAS1kC,GAAGje,GAAM4iD,QAAAA;AACM,UAAArV,IAAAsV;AAAzD,UAAA,CAAKpyC,GAAgBiyC,IAAeroD,KAAKqoD,aAAAA,EAEvC,QADAroD,KAAKqoD,gBAAgBA,IAAAA,UACrBnV,KAAOlzC,KAAK40B,aAAAA,WAAQse,MAAwCsV,UAAxCA,KAAbtV,GAAeuV,2CAAAA,WAAsCD,KAAAA,SAArDA,GAAAziD,KAAAmtC,IAAwDlzC,KAAKqoD,aAAAA;IAExE;EACD,GAEDK,QAAQ/iD,IAAAA;AAAO,QAAA0tC,IAAAsV;AAAAA,cACbtV,KAAAA,KAAKze,aAAAA,WAAQye,MAA8B,UAA9BsV,KAAbtV,GAAeuV,iCAAAA,WAA4BD,MAA3CA,GAAA5iD,KAAAstC,EAAAA,GACArzC,KAAKkoD,eAAe,MACpBloD,KAAKqoD,gBAAgB;EACtB,GAEDQ,KAAKljD,IAAAA;AAAO,QAAAmjD,IAAAC;AACVpjD,IAAAA,GAAMR,eAAAA;AACN,UAAMkG,KAA0B,UAArBy9C,KAAGnjD,GAAM6P,iBAAAA,WAAYszC,KAAAA,SAAlBA,GAAoBz9C,OAC5B+zB,KAAez5B,GAAM6P,aAAaC,QAAQ,6BAAA,GAE1CglC,KAAQ,EAAEn6B,GAAG3a,GAAM2iD,SAAS1kC,GAAGje,GAAM4iD,QAAAA;AAG3C,QAFcQ,UAAdA,KAAA/oD,KAAKykD,cAAAA,WAASsE,MAAdA,GAAgB3P,+BAA+BqB,EAAAA,GAE3CpvC,QAAAA,MAAAA,GAAO/F,OACTtF,MAAK4B,YAAYyJ,EAAAA;aACRrL,KAAKkoD,cAAc;AAAA,UAAA1U,IAAAwV;AACf,gBAAbxV,KAAIxzC,KAAC40B,aAAAA,WAAQ4e,MAAbA,GAAeyV,4BAAAA,GAAAA,UACfD,KAAAhpD,KAAKykD,cAAAA,WAASuE,MAAdA,GAAgBta,kBAAkB1uC,KAAKkoD,YAAAA,GACvCloD,KAAKkoD,eAAe,MACpBloD,KAAK8jD,cAAAA;IACN,WAAU1kB,IAAc;AAAA,UAAA8pB;AACvB,YAAMxkD,KAAWy6B,GAASgqB,eAAe/pB,EAAAA;AAC3B8pB,gBAAdA,KAAAlpD,KAAKykD,cAAAA,WAASyE,MAAdA,GAAgBzc,eAAe/nC,EAAAA,GAC/B1E,KAAK8jD,cAAAA;IACP;AAEA9jD,SAAKkoD,eAAe,MACpBloD,KAAKqoD,gBAAgB;EACtB,GAEDe,IAAIzjD,IAAAA;AAAO,QAAA0jD,IACkC1V;AAA3C,QAAkB,UAAlB0V,KAAIrpD,KAAKykD,cAAAA,WAAS4E,MAAdA,GAAgBzP,oBAAAA,MACd55C,KAAKqmD,iCAAiC1gD,GAAM2jD,aAAAA,KAC9C3jD,GAAMR,eAAAA,GAGK,UAAbwuC,KAAI3zC,KAAC40B,aAAAA,WAAQ+e,MAAbA,GAAe4V,2BAAAA,GACfvpD,KAAKguC,kBAAkB,UAAA,GACnBroC,GAAM++C,kBACR,QAAO1kD,KAAK8jD,cAAAA;EAGjB,GAEDtpC,KAAK7U,IAAAA;AAAO,QAAA6jD;AACQ,cAAlBA,KAAIxpD,KAAKykD,cAAAA,WAAS+E,MAAdA,GAAgB5P,oBAAAA,KACd55C,KAAKqmD,iCAAiC1gD,GAAM2jD,aAAAA,KAC9C3jD,GAAMR,eAAAA;EAGX,GAEDskD,MAAM9jD,IAAAA;AACJ,UAAM+jD,KAAY/jD,GAAM2jD,iBAAiB3jD,GAAMgkD,mBACzCF,KAAQ,EAAEC,WAAAA,GAAAA;AAEhB,QAAA,CAAKA,MAAaE,GAAoCjkD,EAAAA,EASpD,QAAA,KARA3F,KAAK0mD,gCAAiCjiD,CAAAA,OAAAA;AAAS,UAAAqvC,IAAA+V,IAAA5V;AAM7C,aALAwV,GAAMz+C,OAAO,aACby+C,GAAMhlD,OAAOA,IACAqvC,UAAbA,KAAA9zC,KAAK40B,aAAAA,WAAQkf,MAAbA,GAAegW,yBAAyBL,EAAAA,GAAAA,UACxCI,KAAA7pD,KAAKykD,cAAAA,WAASoF,MAAdA,GAAgB3c,WAAWuc,GAAMhlD,IAAAA,GACjCzE,KAAK8jD,cAAAA,GACe,UAApB7P,KAAOj0C,KAAK40B,aAAAA,WAAQqf,KAAAA,SAAbA,GAAe8V,wBAAwBN,EAAAA;IAAM,CAAA;AAKxD,UAAMt9C,KAAOu9C,GAAUj0C,QAAQ,KAAA,GACzBhR,KAAOilD,GAAUj0C,QAAQ,WAAA,GACzBhX,KAAOirD,GAAUj0C,QAAQ,iBAAA;AAE/B,QAAItJ,IAAM;AAAA,UAAAioC,IAAA4V,IAAAzV;AACR,UAAInjC;AACJq4C,MAAAA,GAAMz+C,OAAO,aAEXoG,KADE3S,KACO8a,GAA0B9a,EAAAA,EAAMqV,KAAAA,IAEhC3H,IAEXs9C,GAAMhlD,OAAOzE,KAAK6kD,eAAe14C,IAAMiF,EAAAA,GAC1BgjC,UAAbA,KAAAp0C,KAAK40B,aAAAA,WAAQwf,MAAbA,GAAe0V,yBAAyBL,EAAAA,GACxCzpD,KAAKilD,gBAAgB,EAAEhE,WAAW7vC,IAAQq0C,WAAWzlD,KAAK45C,oBAAAA,EAAAA,CAAAA,GAAAA,UAC1DoQ,KAAAhqD,KAAKykD,cAAAA,WAASuF,MAAdA,GAAgB9c,WAAWuc,GAAMhlD,IAAAA,GACjCzE,KAAK8jD,cAAAA,GACQvP,UAAbA,KAAAv0C,KAAK40B,aAAAA,WAAQ2f,MAAbA,GAAewV,wBAAwBN,EAAAA;IACzC,WAAWl0C,GAAwBm0C,EAAAA,GAAY;AAAA,UAAAO,IAAAC,IAAAC;AAC7CV,MAAAA,GAAMz+C,OAAO,cACby+C,GAAMr4C,SAASs4C,GAAUj0C,QAAQ,YAAA,GACpBw0C,UAAbA,KAAAjqD,KAAK40B,aAAAA,WAAQq1B,MAAbA,GAAeH,yBAAyBL,EAAAA,GACxCzpD,KAAKilD,gBAAgB,EAAEhE,WAAWwI,GAAMr4C,QAAQq0C,WAAWzlD,KAAK45C,oBAAAA,EAAAA,CAAAA,GAAAA,UAChEsQ,KAAAlqD,KAAKykD,cAAAA,WAASyF,MAAdA,GAAgBxd,aAAa+c,GAAMr4C,MAAAA,GACnCpR,KAAK8jD,cAAAA,GACQqG,UAAbA,KAAAnqD,KAAK40B,aAAAA,WAAQu1B,MAAbA,GAAeJ,wBAAwBN,EAAAA;IACxC,WAAUhlD,IAAM;AAAA,UAAA2lD,IAAAC,IAAAC;AACfb,MAAAA,GAAMz+C,OAAO,aACby+C,GAAMhlD,OAAOA,IACA2lD,UAAbA,KAAApqD,KAAK40B,aAAAA,WAAQw1B,MAAbA,GAAeN,yBAAyBL,EAAAA,GAAAA,UACxCY,KAAArqD,KAAKykD,cAAAA,WAAS4F,MAAdA,GAAgBnd,WAAWuc,GAAMhlD,IAAAA,GACjCzE,KAAK8jD,cAAAA,GACQwG,UAAbA,KAAAtqD,KAAK40B,aAAAA,WAAQ01B,MAAbA,GAAeP,wBAAwBN,EAAAA;IACzC,WAAW94C,MAAMC,KAAK84C,GAAUl3B,KAAAA,EAAOvoB,SAAS,OAAA,GAAU;AAAA,UAAAsgD,IAAAC;AACxD,YAAM7rD,KAAsB4rD,UAAlBA,KAAGb,GAAUe,UAAAA,WAAKF,MAAKA,UAALA,KAAfA,GAAkB,CAAA,MAAA,WAAEA,MAAW,UAAXC,KAApBD,GAAsBG,cAAAA,WAASF,KAAAA,SAA/BA,GAAAzkD,KAAAwkD,EAAAA;AACb,UAAI5rD,IAAM;AAAA,YAAAgsD,IAAAC,IAAAC;AACR,cAAMx9B,KAAYy9B,GAAiBnsD,EAAAA;AAAAA,SAC9BA,GAAKF,QAAQ4uB,OAChB1uB,GAAKF,OAAI,eAAAgF,OAAAA,EAAoBqhD,IAAerhD,GAAAA,EAAAA,OAAI4pB,EAAAA,IAElDo8B,GAAMz+C,OAAO,QACby+C,GAAM9qD,OAAOA,IACA,UAAbgsD,KAAI3qD,KAAC40B,aAAAA,WAAQ+1B,MAAbA,GAAenG,+BAAAA,GAAAA,UACfoG,KAAA5qD,KAAKykD,cAAAA,WAASmG,MAAdA,GAAgBvd,WAAWoc,GAAM9qD,IAAAA,GACjCqB,KAAK8jD,cAAAA,GACQ+G,UAAbA,KAAA7qD,KAAK40B,aAAAA,WAAQi2B,MAAbA,GAAed,wBAAwBN,EAAAA;MACzC;IACF;AAEA9jD,IAAAA,GAAMR,eAAAA;EACP,GAED4lD,iBAAiBplD,IAAAA;AACf,WAAO3F,KAAKimD,oBAAAA,EAAsBvvC,MAAM/Q,GAAMkD,IAAAA;EAC/C,GAEDmiD,kBAAkBrlD,IAAAA;AAChB,WAAO3F,KAAKimD,oBAAAA,EAAsB1uC,OAAO5R,GAAMkD,IAAAA;EAChD,GAEDoiD,eAAetlD,IAAAA;AACb,WAAO3F,KAAKimD,oBAAAA,EAAsBtvC,IAAIhR,GAAMkD,IAAAA;EAC7C,GAEDqiD,YAAYvlD,IAAAA;AACV3F,SAAKklD,aAAa8B,WAAAA;EACnB,GAEDt8C,MAAM/E,IAAAA;AAEJ,WADA3F,KAAKklD,aAAa8B,WAAAA,MACXrhD,GAAMm3C,gBAAAA;EACf,EAAA,CAAA,GACDxpB,GAzOkByxB,IA2OL,QAAA,EACZoG,UAAUxlD,IAAAA;AAAO,QAAAylD;AAEf,WADa,UAAbA,KAAIprD,KAAC40B,aAAAA,WAAQw2B,MAAbA,GAAezD,iCAAAA,GACR3nD,KAAKguC,kBAAkB,YAAYroC,EAAAA;EAC3C,GAED0lD,OAAO1lD,IAAAA;AAAO,QAAA2lD;AAEZ,WADa,UAAbA,KAAItrD,KAAC40B,aAAAA,WAAQ02B,MAAbA,GAAe3D,iCAAAA,GACR3nD,KAAKguC,kBAAkB,WAAWroC,EAAAA;EAC1C,GAED4lD,OAAO5lD,IAAAA;AAAO,QAAA6lD,IAAAC;AAGZ,WAFAzrD,KAAKilD,gBAAgB,EAAEK,gBAAAA,KAAgB,CAAA,GAC1B,UAAbkG,KAAIxrD,KAAC40B,aAAAA,WAAQ42B,MAAbA,GAAe7D,iCAAAA,GACM,UAArB8D,KAAOzrD,KAAKykD,cAAAA,WAASgH,KAAAA,SAAdA,GAAgB5e,gBAAAA;EACxB,GAED6e,IAAI/lD,IAAAA;AAAO,QAAAgmD,IACsCC;AAA7B,cAAlBD,KAAI3rD,KAAKykD,cAAAA,WAASkH,MAAdA,GAAgBpb,wBAAAA,MACJ,UAAdqb,KAAI5rD,KAACykD,cAAAA,WAASmH,MAAdA,GAAgBluB,qBAAAA,GAChB19B,KAAK8jD,cAAAA,GACLn+C,GAAMR,eAAAA;EAET,GAEDiS,KAAKzR,IAAAA;AACmC,QAAAkmD;AAAtC,QAAI7rD,KAAKqyC,0BAAAA,EAEP,QADA1sC,GAAMR,eAAAA,GACe,UAArB0mD,KAAO7rD,KAAKykD,cAAAA,WAASoH,KAAAA,SAAdA,GAAgBha,sBAAsB,UAAA;EAEhD,GAEDx6B,MAAM1R,IAAAA;AACkC,QAAAmmD;AAAtC,QAAI9rD,KAAKqyC,0BAAAA,EAEP,QADA1sC,GAAMR,eAAAA,GACe,UAArB2mD,KAAO9rD,KAAKykD,cAAAA,WAASqH,KAAAA,SAAdA,GAAgBja,sBAAsB,SAAA;EAEhD,GAEDka,SAAS,EACP3oC,EAAEzd,IAAAA;AAAO,QAAAqmD;AAEP,WADa,UAAbA,KAAIhsD,KAAC40B,aAAAA,WAAQo3B,MAAbA,GAAerE,iCAAAA,GACR3nD,KAAKguC,kBAAkB,WAAWroC,EAAAA;EAC1C,GAED8H,EAAE9H,IAAAA;AAAO,QAAAsmD;AAEP,WADa,UAAbA,KAAIjsD,KAAC40B,aAAAA,WAAQq3B,MAAbA,GAAetE,iCAAAA,GACR3nD,KAAKguC,kBAAkB,YAAYroC,EAAAA;EAC3C,GAEDsd,EAAEtd,IAAAA;AAAO,QAAAumD,IAAAC;AAIP,WAHAxmD,GAAMR,eAAAA,GACO,UAAb+mD,KAAIlsD,KAAC40B,aAAAA,WAAQs3B,MAAbA,GAAevE,iCAAAA,GACDwE,UAAdA,KAAAnsD,KAAKykD,cAAAA,WAAS0H,MAAdA,GAAgBzf,aAAa,MAAM,EAAEJ,gBAAAA,MAAgB,CAAA,GAC9CtsC,KAAK8jD,cAAAA;EACd,EAAA,GAGFsI,OAAO,EACLb,OAAO5lD,IAAAA;AAAO,QAAA0mD,IAAAC;AACC,cAAbD,KAAIrsD,KAAC40B,aAAAA,WAAQy3B,MAAbA,GAAe1E,iCAAAA,GACD2E,UAAdA,KAAAtsD,KAAKykD,cAAAA,WAAS6H,MAAdA,GAAgB5f,aAAa,IAAA,GAC7B1sC,KAAK8jD,cAAAA,GACLn+C,GAAMR,eAAAA;EACP,GAEDumD,IAAI/lD,IAAAA;AAAO,QAAA4mD,IACsCC;AAA7B,cAAlBD,KAAIvsD,KAAKykD,cAAAA,WAAS8H,MAAdA,GAAgBlc,wBAAAA,MACJ,UAAdmc,KAAIxsD,KAACykD,cAAAA,WAAS+H,MAAdA,GAAgB/uB,qBAAAA,GAChBz9B,KAAK8jD,cAAAA,GACLn+C,GAAMR,eAAAA;EAET,GAEDiS,KAAKzR,IAAAA;AACH,QAAI3F,KAAKqyC,0BAAAA,EAEP,QADA1sC,GAAMR,eAAAA,GACCnF,KAAK+xC,2BAA2B,UAAA;EAE1C,GAED16B,MAAM1R,IAAAA;AACJ,QAAI3F,KAAKqyC,0BAAAA,EAEP,QADA1sC,GAAMR,eAAAA,GACCnF,KAAK+xC,2BAA2B,SAAA;EAE3C,EAAA,GAGF0a,KAAK,EACHtB,UAAUxlD,IAAAA;AAAO,QAAA+mD;AAEf,WADA1sD,KAAKilD,gBAAgB,EAAEK,gBAAAA,MAAgB,CAAA,GACnB,UAApBoH,KAAO1sD,KAAK40B,aAAAA,WAAQ83B,KAAAA,SAAbA,GAAe/E,iCAAAA;EACxB,EAAA,GAGFgF,MAAM,EACJxB,UAAUxlD,IAAAA;AAAO,QAAAinD;AAEf,WADA5sD,KAAKilD,gBAAgB,EAAEK,gBAAAA,MAAgB,CAAA,GACnB,UAApBsH,KAAO5sD,KAAK40B,aAAAA,WAAQg4B,KAAAA,SAAbA,GAAejF,iCAAAA;EACxB,EAAA,EAAA,CAAA,GAmJN5C,GAAsB1nC,YAAY,6BAAA,GAClC0nC,GAAsB1nC,YAAY,6BAAA,GAClC0nC,GAAsB1nC,YAAY,uCAAA,GAClC0nC,GAAsB1nC,YAAY,sCAAA,GAClC0nC,GAAsB1nC,YAAY,gCAAA;AAElC,MAAMytC,KAAoBnsD,CAAAA,OAAAA;AAAI,QAAAkuD;AAAA,WAAcA,UAAdA,KAAKluD,GAAKqM,SAAAA,WAAI6hD,MAAmB,UAAnBA,KAATA,GAAWnsD,MAAM,UAAA,MAAA,WAAWmsD,KAAAA,SAA5BA,GAA+B,CAAA;EAAE;AAApE,MAEMh8C,KAAAA,EAAwCC,UAAhBA,KAAI,IAACC,gBAAAA,WAAWD,MAAAA,CAAfA,GAAA/K,KAAG,KAAe,CAAA;AAFjD,MAIM0hD,KAAqB,SAAS9hD,IAAAA;AAClC,QAAIA,GAAMpB,OAAOsM,MAAwBlL,GAAMpB,IAAIwM,YAAY,CAAA,MAAOpL,GAAMs3C,QAC1E,QAAOt3C,GAAMpB;AACR;AACL,UAAIjF;AAOJ,UANoB,SAAhBqG,GAAMmnD,QACRxtD,KAAOqG,GAAMs3C,UACY,MAAhBt3C,GAAMmnD,SAAkC,MAAnBnnD,GAAMonD,aACpCztD,KAAOqG,GAAMonD,WAGH,QAARztD,MAAmC,aAAnBs7C,GAASt7C,EAAAA,EAC3B,QAAO6P,GAAYiB,eAAe,CAAE9Q,EAAAA,CAAAA,EAAQgQ,SAAAA;IAEhD;EACF;AAnBA,MAqBMs6C,KAAsC,SAASjkD,IAAAA;AACnD,UAAM8jD,KAAQ9jD,GAAM2jD;AACpB,QAAIG,IAAO;AACT,UAAIA,GAAMj3B,MAAMvoB,SAAS,WAAA,GAAc;AAGrC,mBAAWe,MAAQy+C,GAAMj3B,OAAO;AAC9B,gBAAMw6B,KAAsB,4BAA4BntD,KAAKmL,EAAAA,GACvDiiD,KAAyB,SAASptD,KAAKmL,EAAAA,KAASy+C,GAAMh0C,QAAQzK,EAAAA;AAEpE,cADkCgiD,MAAuBC,GAEvD,QAAA;QAEJ;AACA,eAAA;MACF;AAAO;AACL,cAAMC,KAAsBzD,GAAMj3B,MAAMvoB,SAAS,sBAAA,GAC3CkjD,KAA0B1D,GAAMj3B,MAAMvoB,SAAS,qBAAA;AACrD,eAAOijD,MAAuBC;MAChC;IACF;EACF;AAEA,MAAMjH,KAAN,cAA+Bl4C,GAAAA;IAC7B2B,YAAYy9C,IAAAA;AACVx9C,YAAAA,GAASvK,SAAAA,GACTrF,KAAKotD,kBAAkBA,IACvBptD,KAAKykD,YAAYzkD,KAAKotD,gBAAgB3I,WACtCzkD,KAAK40B,WAAW50B,KAAKotD,gBAAgBx4B,UACrC50B,KAAKklD,eAAellD,KAAKotD,gBAAgBlI,cACzCllD,KAAK6I,OAAO,CAAA;IACd;IAEA6N,MAAM7N,IAAAA;AAGJ,UAFA7I,KAAK6I,KAAK6N,QAAQ7N,IAEd7I,KAAKqtD,cAAAA,GAAiB;AAAA,YAAAC,IACuDC;AAA/E,YAAoC,eAAhCvtD,KAAKklD,aAAapgD,aAA4B9E,KAAKklD,aAAajE,UACpDsM,WAAdA,KAAAvtD,KAAKykD,cAAAA,WAAS8I,MAAdA,GAAgBvf,kBAAkB,MAAA;AAG/BhuC,aAAK45C,oBAAAA,MACR55C,KAAK8uC,kBAAAA,GACL9uC,KAAK8jD,cAAAA,IAGP9jD,KAAKsW,QAAsB,UAAjBg3C,KAAGttD,KAAKykD,cAAAA,WAAS6I,KAAAA,SAAdA,GAAgBviB,iBAAAA;MAC/B;IACF;IAEAxzB,OAAO1O,IAAAA;AAGL,UAFA7I,KAAK6I,KAAK0O,SAAS1O,IAEf7I,KAAKqtD,cAAAA,GAAiB;AACxB,cAAM/2C,KAAQtW,KAAKivC,kBAAAA;AACf34B,QAAAA,OACFtW,KAAKovC,kBAAAA,GACLpvC,KAAKsW,QAAQA;MAEjB;IACF;IAEAK,IAAI9N,IAAAA;AAGF,aAFA7I,KAAK6I,KAAK8N,MAAM9N,IAEZ7I,KAAKqtD,cAAAA,KACPrtD,KAAKovC,kBAAAA,GAEDpvC,KAAKwtD,mBAAAA,KACPxtD,KAAKilD,gBAAgB,EAAEK,gBAAAA,MAAsB0B,UAAAA,MAAU,CAAA,GAC1C,UAAbpxB,KAAI51B,KAAC40B,aAAAA,WAAQgB,MAAbA,GAAe+xB,iCAAAA,GAAAA,UACf8F,KAAAztD,KAAKykD,cAAAA,WAASgJ,MAAdA,GAAgBve,iBAAiBlvC,KAAKsW,KAAAA,GACxB,UAAdo3C,KAAI1tD,KAACykD,cAAAA,WAASiJ,MAAdA,GAAgBhhB,aAAa1sC,KAAK6I,KAAK8N,GAAAA,GAClBg3C,UAArBA,KAAO3tD,KAAKykD,cAAAA,WAASkJ,KAAAA,SAAdA,GAAgBze,iBAAiBlvC,KAAKsW,MAAM,CAAA,IAAKtW,KAAK6I,KAAK8N,IAAIrR,MAAAA,KAC1C,QAAnBtF,KAAK6I,KAAK6N,SAAqC,QAApB1W,KAAK6I,KAAK0O,UAC9CvX,KAAKikD,eAAAA,GACEjkD,KAAKotD,gBAAgBj1C,MAAAA,KAAAA,UAGvBnY,KAAKotD,gBAAgBj1C,MAAAA;AAXG,UAAAyd,IAAA63B,IAAAC,IAAAC;IAanC;IAEA3H,aAAAA;AACE,aAAOhmD,KAAK6I,KAAK8N;IACnB;IAEAwvC,UAAAA;AACE,aAA4B,QAArBnmD,KAAKgmD,WAAAA;IACd;IAEAqH,gBAAAA;AACE,aAAA,CAAIxiD,GAAQ/J,wBACHd,KAAKklD,aAAa8B;IAI7B;IAIAwG,qBAAAA;AAAqB,UAAAI,IAAAC;AACnB,aAAmC,OAAbD,UAAfA,KAAI5tD,KAAC6I,KAAK6N,UAAAA,WAAKk3C,KAAAA,SAAfA,GAAiBtoD,YAAAA,UAAgBuoD,KAAA7tD,KAAK6I,KAAK8N,QAAAA,WAAGk3C,KAAAA,SAAbA,GAAevoD,UAAS,KAAKtF,KAAKsW;IAC5E;EAAA;AAGF4vC,KAAiB7oC,YAAY,iCAAA,GAC7B6oC,GAAiB7oC,YAAY,+BAAA,GAC7B6oC,GAAiB7oC,YAAY,gCAAA,GAC7B6oC,GAAiB7oC,YAAY,gCAAA,GAC7B6oC,GAAiB7oC,YAAY,8BAAA,GAC7B6oC,GAAiB7oC,YAAY,8BAAA,GAC7B6oC,GAAiB7oC,YAAY,8BAAA;AC3nBd,MAAMywC,KAAN,cAAoCxK,GAAAA;IACjD3zC,cAAAA;AACEC,YAAAA,GAAMvK,SAAAA,GACNrF,KAAKqxB,SAASrxB,KAAKqxB,OAAO7Z,KAAKxX,IAAAA;IACjC;IA8cAggD,mBAAAA;AACE,aAAIhgD,KAAK+tD,kBACH/tD,KAAKguD,YACat5B,UAApBA,KAAO10B,KAAK40B,aAAAA,WAAQF,MAAAA,UAAAqvB,KAAbrvB,GAAe0wB,0CAAAA,WAAqCrB,KAAAA,SAApDA,GAAAh+C,KAAA2uB,EAAAA,IAAAA,SAGF10B,KAAKiuD,QAAAA;AAJQ,UAAAv5B,IAAAqvB;IAMxB;IAEAmK,iBAAAA;AACE,aAAOluD,KAAK+tD,kBAAkB/tD,KAAK+tD,kBAAkB/tD,KAAK+tD,kBAAkBjH,sBAAsB9mD,KAAKqxB,MAAAA;IACzG;IAEAA,SAAAA;AAAS,UAAA88B,IAGcv4B;AAAAA,OAFrBw4B,qBAAqBpuD,KAAK+tD,eAAAA,GAC1B/tD,KAAK+tD,kBAAkB,MAClB/tD,KAAKguD,eACK,UAAbp4B,KAAI51B,KAAC40B,aAAAA,WAAQgB,MAAbA,GAAevE,OAAAA;AAED,gBAAhB88B,KAAInuD,KAACquD,gBAAAA,WAAWF,MAAhBA,GAAApoD,KAAA/F,IAAAA,GACAA,KAAKquD,cAAc;IACrB;IAEAJ,UAAAA;AAAU,UAAAjiB;AACR,aAAoB,UAApBA,KAAOhsC,KAAK40B,aAAAA,WAAQoX,KAAAA,SAAbA,GAAeiiB,QAAAA;IACxB;IAIAvhB,eAAAA;AAAmC,UAAAa;AAAA,UAAtBn8B,KAAM/L,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,IAAIkD,KAAOlD,UAAAC,SAAAD,IAAAA,UAAAA,CAAAA,IAAAA;AAE/B,aADa,UAAbkoC,KAAIvtC,KAAC40B,aAAAA,WAAQ2Y,MAAbA,GAAeoa,iCAAAA,GACR3nD,KAAKyxC,mBAAmB,WAAA;AAAW,YAAA8S;AACxC,eAAqBA,UAArBA,KAAOvkD,KAAKykD,cAAAA,WAASF,KAAAA,SAAdA,GAAgB7X,aAAat7B,IAAQ7I,EAAAA;MAC9C,CAAA;IACF;IAEA+lD,2BAA2B/5C,IAAAA;AAC2B,UAAA28B;AAApD,UAAI/8B,GAAAA,EAAuBlK,SAASsK,EAAAA,EAElC,QADa28B,UAAbA,KAAAlxC,KAAK40B,aAAAA,WAAQsc,MAAbA,GAAeqd,qCAAqCh6C,EAAAA,GAC7CvU,KAAKyxC,mBAAmB,WAAA;AAAW,YAAA2U;AACxC,eAAqB,UAArBA,KAAOpmD,KAAKykD,cAAAA,WAAS2B,KAAAA,SAAdA,GAAgB9W,uBAAuB/6B,EAAAA;MAChD,CAAA;IAEJ;IAEAi6C,6BAA6Bj6C,IAAe/P,IAAAA;AACU,UAAA0uC;AAApD,UAAI/+B,GAAAA,EAAuBlK,SAASsK,EAAAA,EAElC,QADa2+B,UAAbA,KAAAlzC,KAAK40B,aAAAA,WAAQse,MAAbA,GAAeqb,qCAAqCh6C,EAAAA,GAC7CvU,KAAKyxC,mBAAmB,WAAA;AAAW,YAAA6U;AACxC,eAAqBA,UAArBA,KAAOtmD,KAAKykD,cAAAA,WAAS6B,KAAAA,SAAdA,GAAgB/W,oBAAoBh7B,IAAe/P,EAAAA;MAC5D,CAAA;IAEJ;IAEAwpC,kBAAkB9P,IAAAA;AAA4D,UAAA,EAAjD6W,iBAAEA,GAAAA,IAAiB1vC,UAAAC,SAAA,KAAA,WAAAD,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,EAAE0vC,iBAAAA,KAAiB;AAC/C,UAAA1B;AAAjB0B,MAAAA,OACW,UAAb1B,KAAIrzC,KAAC40B,aAAAA,WAAQye,MAAbA,GAAesU,iCAAAA;AAEjB,YAAM3qC,KAAUA,MAAAA;AAAA,YAAAuwC;AAAA,eAAoB,UAApBA,KAAMvtD,KAAKykD,cAAAA,WAAS8I,KAAAA,SAAdA,GAAgBvf,kBAAkB9P,EAAAA;MAAU,GAC5DvlB,KAAW3Y,KAAKyuD,kBAAkB,EAAEC,WAAW1uD,KAAKguD,YAAY,IAAI,EAAA,CAAA;AAC1E,aAAIr1C,KACK3Y,KAAKyxC,mBAAmB94B,IAAUqE,EAAAA,IAElCA,GAAAA;IAEX;IAIAy0B,mBAAmB94B,IAAU1C,IAAAA;AAKb,UAAAq3C;AAAd,aAJwB,cAAA,OAAb30C,OACT1C,KAAK0C,IACLA,KAAW3Y,KAAKyuD,kBAAAA,IAEd91C,KACmB20C,UAArBA,KAAOttD,KAAKykD,cAAAA,WAAS6I,KAAAA,SAAdA,GAAgB7b,mBAAmB94B,IAAU1C,GAAGuB,KAAKxX,IAAAA,CAAAA,KAE5DoY,GAAwBD,MAAAA,GACjBlC,GAAGlQ,KAAK/F,IAAAA;IAEnB;IAEAyuD,oBAAAA;AAAoD,UAAAE,IAAAC;AAAA,UAAA,EAAlCF,WAAEA,GAAAA,IAAWrpD,UAAAC,SAAA,KAAA,WAAAD,UAAAE,CAAAA,IAAAF,UAAG,CAAA,IAAA,EAAEqpD,WAAW,EAAA;AAC7C,YAAMG,KAAyC,UAA7BF,MAAGC,KAAAA,KAAKjpD,OAAMmpD,oBAAAA,WAAeH,KAAAA,SAA1BA,GAAA5oD,KAAA6oD,EAAAA;AACrB,UAAIC,MACEA,GAAavpD,QAAQ;AACvB,cAAMqT,KAAWo2C,GAAmBF,GAAa,CAAA,CAAA;AACjD,YAAkB,MAAdH,MAAmB/1C,GAASrJ,SAAAA,EAAWhK,UAAUopD,GACnD,QAAO/1C;MAEX;IAEJ;IAEAq2C,UAAUrpD,IAAOsQ,IAAAA;AACf,UAAIrE;AACJ5R,WAAK2F,QAAQA;AACb,UAAA;AACEiM,QAAAA,KAASqE,GAAGlQ,KAAK/F,IAAAA;MACnB,UAAU;AACRA,aAAK2F,QAAQ;MACf;AACA,aAAOiM;IACT;EAAA;AACD0hB,KA3jBoBw6B,IAMH,UAAA,EACd/G,QAAQphD,IAAAA;AACN,QAAIiQ,GAA0BjQ,EAAAA,GAAQ;AAAA,UAAA6tC;AACpC,YAAMyb,KAAUC,GAA4BvpD,EAAAA;AAC3B6tC,gBAAjBA,KAAIxzC,KAAK40B,aAAAA,WAAQ4e,MAAbA,GAAe8T,yCAAyC2H,EAAAA,KAC1DtpD,GAAMR,eAAAA;IAEV,OAAO;AACL,UAAI1G,KAAOkH,GAAMpB;AACboB,MAAAA,GAAM6hD,WACR/oD,MAAQ,SAENkH,GAAMwpD,aACR1wD,MAAQ;AAEV,YAAMiH,KAAU1F,KAAK2P,YAAY+E,KAAKjW,EAAAA;AACtC,UAAIiH,GACF,QAAO1F,KAAKgvD,UAAUrpD,IAAOD,EAAAA;IAEjC;EACD,GAID+jD,MAAM9jD,IAAAA;AAAO,QAAAypD;AAEX,QAAI3F;AACJ,UAAMt9C,KAA0BijD,UAAtBA,KAAGzpD,GAAM2jD,kBAAAA,WAAa8F,KAAAA,SAAnBA,GAAqB35C,QAAQ,KAAA;AAC1C,WAAI45C,GAAuB1pD,EAAAA,KACzBA,GAAMR,eAAAA,GACCnF,KAAK4B,YAAY+D,GAAM2jD,cAAcj+C,KAAAA,KAGnCikD,GAA2B3pD,EAAAA,KACpCA,GAAMR,eAAAA,GACNskD,KAAQ,EACNz+C,MAAM,cACNoG,QAAQzL,GAAM2jD,cAAc7zC,QAAQ,YAAA,EAAA,GAEzBk+B,UAAbA,KAAA3zC,KAAK40B,aAAAA,WAAQ+e,MAAbA,GAAemW,yBAAyBL,EAAAA,GAAAA,UACxCgE,KAAAztD,KAAKykD,cAAAA,WAASgJ,MAAdA,GAAgB/gB,aAAa+c,GAAMr4C,MAAAA,GACnCpR,KAAKqxB,OAAAA,GACe,UAApByiB,KAAO9zC,KAAK40B,aAAAA,WAAQkf,KAAAA,SAAbA,GAAeiW,wBAAwBN,EAAAA,KAGrCt9C,MACTxG,GAAMR,eAAAA,GACNskD,KAAQ,EACNz+C,MAAM,aACNvG,MAAMzE,KAAK6kD,eAAe14C,EAAAA,EAAAA,GAEf8nC,UAAbA,KAAAj0C,KAAK40B,aAAAA,WAAQqf,MAAbA,GAAe6V,yBAAyBL,EAAAA,GAAAA,UACxCiE,KAAA1tD,KAAKykD,cAAAA,WAASiJ,MAAdA,GAAgBxgB,WAAWuc,GAAMhlD,IAAAA,GACjCzE,KAAKqxB,OAAAA,GACe,UAApB+iB,KAAOp0C,KAAK40B,aAAAA,WAAQwf,KAAAA,SAAbA,GAAe2V,wBAAwBN,EAAAA,KAAAA;AArBF,QAAA9V,IAAA8Z,IAAA3Z,IAY7BG,IAAAyZ,IAAAtZ;EAWlB,GAED8W,YAAYvlD,IAAAA;AACV,UAAMD,KAAU1F,KAAK2P,YAAY4/C,WAAW5pD,GAAMi9C,SAAAA,GAE5C4M,MlD7BmDC,KkD6Be9pD,IAAAA,EAAAA,ClD5BxE,cAAc9F,KAAKW,UAAUC,SAAAA,KAOvBgvD,GAAW7M,aAAsC,sBAAzB6M,GAAW7M;AARxC,QAAwD6M;AkD+BrD/pD,IAAAA,OACF1F,KAAKgvD,UAAUrpD,IAAOD,EAAAA,GAEjB8pD,MACHxvD,KAAKkuD,eAAAA,IAILsB,MACFxvD,KAAKqxB,OAAAA;EAER,GAED3mB,MAAM/E,IAAAA;AACJyS,OAAwBD,MAAAA;EACzB,GAED6vC,UAAUriD,IAAAA;AAAO,QAAAgoD,IACqCjG;AAAlC,cAAlBiG,KAAI3tD,KAAKykD,cAAAA,WAASkJ,MAAdA,GAAgBzb,6BAAAA,MAClBvsC,GAAM6P,aAAa+wC,QAAQ,+BAAA,IAA+B,GAE1DvmD,KAAK0vD,WAAW,EACdp5C,OAAqBoxC,UAAhBA,KAAE1nD,KAAKykD,cAAAA,WAASiD,KAAAA,SAAdA,GAAgB3c,iBAAAA,GACvB0P,OAAOkV,GAAehqD,EAAAA,EAAAA;EAG3B,GAEDoiD,UAAUpiD,IAAAA;AACJiqD,OAAkBjqD,EAAAA,KACpBA,GAAMR,eAAAA;EAET,GAEDijD,SAASziD,IAAAA;AACP,QAAI3F,KAAK0vD,UAAU;AACjB/pD,MAAAA,GAAMR,eAAAA;AACN,YAAMs1C,KAAQkV,GAAehqD,EAAAA;AACqB,UAAAmiD;AAAlD,UAAA,CAAK1xC,GAAgBqkC,IAAOz6C,KAAK0vD,SAASjV,KAAAA,EAExC,QADAz6C,KAAK0vD,SAASjV,QAAQA,IACD,UAArBqN,KAAO9nD,KAAKykD,cAAAA,WAASqD,KAAAA,SAAdA,GAAgB1O,+BAA+BqB,EAAAA;IAE1D,MAAWmV,IAAkBjqD,EAAAA,KAC3BA,GAAMR,eAAAA;EAET,GAED0jD,KAAKljD,IAAAA;AACgB,QAAA4uC,IAAAwU;AAAnB,QAAI/oD,KAAK0vD,SAKP,QAJA/pD,GAAMR,eAAAA,GACO,UAAbovC,KAAIv0C,KAAC40B,aAAAA,WAAQ2f,MAAbA,GAAe0U,4BAAAA,GACD,UAAdF,KAAI/oD,KAACykD,cAAAA,WAASsE,MAAdA,GAAgBra,kBAAkB1uC,KAAK0vD,SAASp5C,KAAAA,GAChDtW,KAAK0vD,WAAW,MACT1vD,KAAKkuD,eAAAA;AACP,QAAI0B,GAAkBjqD,EAAAA,GAAQ;AAAA,UAAAqjD;AACnCrjD,MAAAA,GAAMR,eAAAA;AACN,YAAMs1C,KAAQkV,GAAehqD,EAAAA;AAE7B,aADcqjD,UAAdA,KAAAhpD,KAAKykD,cAAAA,WAASuE,MAAdA,GAAgB5P,+BAA+BqB,EAAAA,GACxCz6C,KAAK4B,YAAY+D,GAAM6P,aAAanK,KAAAA;IAC7C;EACD,GAEDq9C,UAAAA;AACqB,QAAAQ;AAAflpD,SAAK0vD,aACO,UAAdxG,KAAIlpD,KAACykD,cAAAA,WAASyE,MAAdA,GAAgBha,iBAAiBlvC,KAAK0vD,SAASp5C,KAAAA,GAC/CtW,KAAK0vD,WAAW;EAEnB,GAEDzE,eAAetlD,IAAAA;AACT3F,SAAKguD,cACPhuD,KAAKguD,YAAAA,OACAx5C,GAAezT,iBAAef,KAAKkuD,eAAAA;EAE5C,EAAA,CAAA,GACD56B,GAhJkBw6B,IAkJL,QAAA,EACZ+B,YAAAA;AAAY,QAAAxG,IAC2DG;AAArE,QAAkBH,UAAlBA,KAAIrpD,KAAKykD,cAAAA,WAAS4E,MAAdA,GAAgBtb,oCAAoC,UAAA,EAEtD,QADA/tC,KAAK2F,MAAMR,eAAAA,GACU,UAArBqkD,KAAOxpD,KAAKykD,cAAAA,WAAS+E,KAAAA,SAAdA,GAAgB3X,sBAAsB,UAAA;EAEhD,GAEDie,aAAAA;AAAa,QAAAjG,IACyDG;AAApE,QAAkBH,UAAlBA,KAAI7pD,KAAKykD,cAAAA,WAASoF,MAAdA,GAAgB9b,oCAAoC,SAAA,EAEtD,QADA/tC,KAAK2F,MAAMR,eAAAA,GACU,UAArB6kD,KAAOhqD,KAAKykD,cAAAA,WAASuF,KAAAA,SAAdA,GAAgBnY,sBAAsB,SAAA;EAEhD,GAEDke,YAAAA;AAAY,QAAA7F,IACuDD,IAAAI;AAAjE,QAAkBH,UAAlBA,KAAIlqD,KAAKykD,cAAAA,WAASyF,MAAdA,GAAgBpc,gCAAgC,UAAA,EAIlD,QAHA9tC,KAAK2F,MAAMR,eAAAA,GACE,UAAb8kD,KAAIjqD,KAAC40B,aAAAA,WAAQq1B,MAAbA,GAAetC,iCAAAA,GACD0C,UAAdA,KAAArqD,KAAKykD,cAAAA,WAAS4F,MAAdA,GAAgBrc,kBAAkB,UAAA,GAC3BhuC,KAAKqxB,OAAAA;EAEf,GAED2+B,MAAAA;AAAM,QAAApF,IAC2Ca;AAA/C,QAAkB,UAAlBb,KAAI5qD,KAAKykD,cAAAA,WAASmG,MAAdA,GAAgBra,wBAAAA,EAGlB,QAFAvwC,KAAK2F,MAAMR,eAAAA,GACG,UAAdsmD,KAAIzrD,KAACykD,cAAAA,WAASgH,MAAdA,GAAgB/tB,qBAAAA,GACT19B,KAAKqxB,OAAAA;EAEf,GAED,cAAA;AAAc,QAAAs6B,IACmCC;AAA/C,QAAkB,UAAlBD,KAAI3rD,KAAKykD,cAAAA,WAASkH,MAAdA,GAAgBtb,wBAAAA,EAGlB,QAFArwC,KAAK2F,MAAMR,eAAAA,GACG,UAAdymD,KAAI5rD,KAACykD,cAAAA,WAASmH,MAAdA,GAAgBnuB,qBAAAA,GACTz9B,KAAKqxB,OAAAA;EAEhB,EAAA,CAAA,GACDiC,GAzLkBw6B,IA2LC,cAAA,EAClBmC,sBAAAA;AACE,WAAOjwD,KAAKguC,kBAAkB,YAAY,EAAE+G,iBAAAA,MAAiB,CAAA;EAC9D,GAEDmb,cAAAA;AACE,WAAOlwD,KAAKguC,kBAAkB,UAAA;EAC/B,GAEDmiB,eAAAA;AAEE,WADAnwD,KAAK2F,MAAMR,eAAAA,GACJnF,KAAKyxC,mBAAmB,WAAA;AAAW,UAAAoa;AACxC7rD,WAAKowD,oBAAkC,UAAjBvE,KAAG7rD,KAAKykD,cAAAA,WAASoH,KAAAA,SAAdA,GAAgB9gB,iBAAAA;IAC3C,CAAA;EACD,GAEDslB,wBAAAA;AACE,WAAOrwD,KAAKguC,kBAAkB,YAAY,EAAE+G,iBAAAA,MAAiB,CAAA;EAC9D,GAEDub,gBAAAA;AACE,WAAOtwD,KAAKguC,kBAAkB,UAAA;EAC/B,GAEDuiB,wBAAAA;AACE,WAAOvwD,KAAKguC,kBAAkB,UAAA;EAC/B,GAEDwiB,uBAAAA;AACE,WAAOxwD,KAAKguC,kBAAkB,SAAA;EAC/B,GAEDyiB,uBAAAA;AACE,WAAOzwD,KAAKguC,kBAAkB,SAAA;EAC/B,GAED0iB,yBAAAA;AACE,WAAO1wD,KAAKguC,kBAAkB,UAAA;EAC/B,GAED2iB,wBAAAA;AACE,WAAO3wD,KAAKguC,kBAAkB,SAAA;EAC/B,GAED4iB,yBAAAA;AACE,WAAO5wD,KAAKguC,kBAAkB,UAAA;EAC/B,GAED6iB,wBAAAA;AACE,WAAO7wD,KAAKguC,kBAAkB,SAAA;EAC/B,GAED8iB,qBAAAA;AACE,WAAO9wD,KAAKguC,kBAAkB,UAAA;EAC/B,GAED+iB,oBAAAA;AACE,WAAO/wD,KAAKguC,kBAAkB,SAAA;EAC/B,GAEDgjB,kBAAAA;AACE,WAAOhxD,KAAKwuD,6BAA6B,mBAAmBxuD,KAAK2F,MAAMkD,IAAAA;EACxE,GAEDooD,aAAAA;AACE,WAAOjxD,KAAKsuD,2BAA2B,MAAA;EACxC,GAED4C,kBAAAA;AACE,WAAOlxD,KAAKwuD,6BAA6B,SAASxuD,KAAK2F,MAAMkD,IAAAA;EAC9D,GAEDsoD,iBAAAA;AACE,WAAOnxD,KAAKwuD,6BAA6B,QAAQxuD,KAAK2F,MAAMkD,IAAAA;EAC7D,GAEDuoD,eAAAA;AAAe,QAAAtF;AACb,QAAkB,UAAlBA,KAAI9rD,KAAKykD,cAAAA,WAASqH,MAAdA,GAAgBvb,wBAAAA,EAClB,QAAOvwC,KAAKyxC,mBAAmB,WAAA;AAAW,UAAA0a;AACxC,aAAqB,UAArBA,KAAOnsD,KAAKykD,cAAAA,WAAS0H,KAAAA,SAAdA,GAAgBzuB,qBAAAA;IACzB,CAAA;EAEH,GAED2zB,eAAAA;AACE,WAAOrxD,KAAKsuD,2BAA2B,QAAA;EACxC,GAEDgD,sBAAAA;AACE,WAAOtxD,KAAKsuD,2BAA2B,eAAA;EACxC,GAEDiD,oBAAAA;AACE,WAAOvxD,KAAKsuD,2BAA2B,aAAA;EACxC,GAEDkD,oBAAAA;AACE,WAAOxxD,KAAKsuD,2BAA2B,aAAA;EACxC,GAEDmD,qBAAAA;AACE,WAAOzxD,KAAKsuD,2BAA2B,cAAA;EACxC,GAEDoD,gBAAAA;AAAgB,QAAApF;AACd,QAAkB,UAAlBA,KAAItsD,KAAKykD,cAAAA,WAAS6H,MAAdA,GAAgBjc,wBAAAA,EAClB,QAAOrwC,KAAKyxC,mBAAmB,WAAA;AAAW,UAAA8a;AACxC,aAAqB,UAArBA,KAAOvsD,KAAKykD,cAAAA,WAAS8H,KAAAA,SAAdA,GAAgB9uB,qBAAAA;IACzB,CAAA;EAEH,GAEDk0B,eAAAA;AACE3xD,SAAKyxC,mBAAmB,WAAA;AACtB,iBAAWl9B,MAA+Bi4C,UAAlBA,KAAIxsD,KAAKykD,cAAAA,WAAS+H,KAAAA,SAAdA,GAAgB1b,qBAAAA,GAAwB;AAAA,YAAA0b,IAAAoF;AACpDA,kBAAdA,KAAA5xD,KAAKykD,cAAAA,WAASmN,MAAdA,GAAgB/iB,uBAAuBt6B,EAAAA;MACzC;IACF,CAAA;EACD,GAEDs9C,8BAAAA;AACE,WAAO7xD,KAAKwuD,6BAA6B,YAAYxuD,KAAK2F,MAAMkD,IAAAA;EACjE,GAEDipD,+BAAAA;AACE,WAAO9xD,KAAKwuD,6BAA6B,WAAWxuD,KAAK2F,MAAMkD,IAAAA;EAChE,GAEDkpD,sBAAAA;AACE,WAAO/xD,KAAKsuD,2BAA2B,QAAA;EACxC,GAED0D,kBAAAA;AACE,WAAOhyD,KAAKsuD,2BAA2B,KAAA;EACxC,GAED2D,oBAAAA;AACE,WAAOjyD,KAAKsuD,2BAA2B,KAAA;EACxC,GAED4D,kBAAAA;AACE,WAAOlyD,KAAKsuD,2BAA2B,WAAA;EACxC,GAED6D,cAAAA;AAAc,QAAAhI;AACZ,WAAoB,UAApBA,KAAOnqD,KAAK40B,aAAAA,WAAQu1B,KAAAA,SAAbA,GAAeiI,+BAAAA;EACvB,GAEDC,cAAAA;AAAc,QAAAjI;AACZ,WAAoB,UAApBA,KAAOpqD,KAAK40B,aAAAA,WAAQw1B,KAAAA,SAAbA,GAAekI,+BAAAA;EACvB,GAEDC,wBAAAA;AAEE,WADAvyD,KAAKguD,YAAAA,MACEhuD,KAAK0sC,aAAa1sC,KAAK2F,MAAMkD,IAAAA;EACrC,GAED2pD,wBAAAA;AAEE,WADAxyD,KAAKguD,YAAAA,OACEhuD,KAAK0sC,aAAa1sC,KAAK2F,MAAMkD,IAAAA;EACrC,GAED4pD,iBAAAA;AACE,UAAMn8C,KAAQtW,KAAKowD;AACR,QAAA9F;AAAX,QAAIh0C,GAGF,QAFAtW,KAAKowD,oBAAoB,MACZ,UAAb9F,KAAItqD,KAAC40B,aAAAA,WAAQ01B,MAAbA,GAAerB,4BAAAA,GACRjpD,KAAKyxC,mBAAmB,WAAA;AAAW,UAAAihB;AACxC,aAAqB,UAArBA,KAAO1yD,KAAKykD,cAAAA,WAASiO,KAAAA,SAAdA,GAAgBhkB,kBAAkBp4B,EAAAA;IAC3C,CAAA;EAEH,GAEDq8C,kBAAAA;AACE,UAAA,EAAMn9C,cAAEA,GAAAA,IAAiBxV,KAAK2F,OACxB8jD,KAAQ,EAAEj0C,cAAAA,GAAAA,GAEVrJ,KAAOqJ,GAAaC,QAAQ,KAAA,GAC5BhR,KAAO+Q,GAAaC,QAAQ,WAAA;AAElC,QAAItJ,IAAM;AAAA,UAAAw+C;AACR,UAAIv5C;AACJpR,WAAK2F,MAAMR,eAAAA,GACXskD,GAAMz+C,OAAO;AACb,YAAMvM,KAAO+W,GAAaC,QAAQ,iBAAA;AAEhCrE,MAAAA,KADE3S,KACO8a,GAA0B9a,EAAAA,EAAMqV,KAAAA,IAEhC3H,IAEXs9C,GAAMhlD,OAAOzE,KAAK6kD,eAAe14C,IAAMiF,EAAAA,GAC1Bu5C,UAAbA,KAAA3qD,KAAK40B,aAAAA,WAAQ+1B,MAAbA,GAAeb,yBAAyBL,EAAAA,GACxCzpD,KAAKyxC,mBAAmB,WAAA;AAAW,YAAAmhB;AACjC,eAAqBA,UAArBA,KAAO5yD,KAAKykD,cAAAA,WAASmO,KAAAA,SAAdA,GAAgB1lB,WAAWuc,GAAMhlD,IAAAA;MAC1C,CAAA,GACAzE,KAAKquD,cAAc,MAAA;AAAM,YAAAxD;AACvB,eAAoB,UAApBA,KAAO7qD,KAAK40B,aAAAA,WAAQi2B,KAAAA,SAAbA,GAAed,wBAAwBN,EAAAA;MAAM;IAExD,WAAWl0C,GAAwBC,EAAAA,GAAe;AAAA,UAAA41C;AAChD3B,MAAAA,GAAMz+C,OAAO,cACby+C,GAAMr4C,SAASoE,GAAaC,QAAQ,YAAA,GACvB21C,UAAbA,KAAAprD,KAAK40B,aAAAA,WAAQw2B,MAAbA,GAAetB,yBAAyBL,EAAAA,GACxCzpD,KAAKyxC,mBAAmB,WAAA;AAAW,YAAAohB;AACjC,eAAqBA,UAArBA,KAAO7yD,KAAKykD,cAAAA,WAASoO,KAAAA,SAAdA,GAAgBnmB,aAAa+c,GAAMr4C,MAAAA;MAC5C,CAAA,GAEApR,KAAKquD,cAAc,MAAA;AAAM,YAAA/C;AACvB,eAAoB,UAApBA,KAAOtrD,KAAK40B,aAAAA,WAAQ02B,KAAAA,SAAbA,GAAevB,wBAAwBN,EAAAA;MAAM;IAEvD,WAAUqJ,GAAqB9yD,KAAK2F,KAAAA,GAAQ;AAAA,UAAA6lD;AAC3C/B,MAAAA,GAAMz+C,OAAO,QACby+C,GAAM9qD,OAAO6W,GAAanK,MAAM,CAAA,GACnBmgD,UAAbA,KAAAxrD,KAAK40B,aAAAA,WAAQ42B,MAAbA,GAAe1B,yBAAyBL,EAAAA,GACxCzpD,KAAKyxC,mBAAmB,WAAA;AAAW,YAAAshB;AACjC,eAAqBA,UAArBA,KAAO/yD,KAAKykD,cAAAA,WAASsO,KAAAA,SAAdA,GAAgB1lB,WAAWoc,GAAM9qD,IAAAA;MAC1C,CAAA,GAEAqB,KAAKquD,cAAc,MAAA;AAAM,YAAArC;AACvB,eAAoB,UAApBA,KAAOhsD,KAAK40B,aAAAA,WAAQo3B,KAAAA,SAAbA,GAAejC,wBAAwBN,EAAAA;MAAM;IAEvD,WAAUhlD,IAAM;AAAA,UAAAwnD;AACfjsD,WAAK2F,MAAMR,eAAAA,GACXskD,GAAMz+C,OAAO,aACby+C,GAAMhlD,OAAOA,IACAwnD,UAAbA,KAAAjsD,KAAK40B,aAAAA,WAAQq3B,MAAbA,GAAenC,yBAAyBL,EAAAA,GACxCzpD,KAAKyxC,mBAAmB,WAAA;AAAW,YAAAuhB;AACjC,eAAqBA,UAArBA,KAAOhzD,KAAKykD,cAAAA,WAASuO,KAAAA,SAAdA,GAAgB9lB,WAAWuc,GAAMhlD,IAAAA;MAC1C,CAAA,GACAzE,KAAKquD,cAAc,MAAA;AAAM,YAAAnC;AACvB,eAAoB,UAApBA,KAAOlsD,KAAK40B,aAAAA,WAAQs3B,KAAAA,SAAbA,GAAenC,wBAAwBN,EAAAA;MAAM;IAExD;EACD,GAEDwJ,iBAAAA;AACE,WAAOjzD,KAAK0sC,aAAa1sC,KAAK2F,MAAMkD,IAAAA;EACrC,GAEDgkC,kBAAAA;AACE,WAAO7sC,KAAK0sC,aAAa,IAAA;EAC1B,GAEDwmB,aAAAA;AACE,WAAOlzD,KAAKwuD,6BAA6B,QAAQxuD,KAAK2F,MAAMkD,IAAAA;EAC7D,GAEDsqD,oBAAAA;AACE,WAAOnzD,KAAKsuD,2BAA2B,QAAA;EACxC,GAED8E,kBAAAA;AAAkB,QAAA/G;AAEhB,WADa,UAAbA,KAAIrsD,KAAC40B,aAAAA,WAAQy3B,MAAbA,GAAe1E,iCAAAA,GACR3nD,KAAKyxC,mBAAmB,WAAA;AAAW,UAAA4hB;AACxC,aAAqB,UAArBA,KAAOrzD,KAAKykD,cAAAA,WAAS4O,KAAAA,SAAdA,GAAgBxmB,gBAAAA;IACzB,CAAA;EACD,GAEDymB,wBAAAA;AACE,UAAMC,KAAcvzD,KAAK2F,MAAM6P,aAAaC,QAAQ,YAAA,GAC9CkD,KAAW3Y,KAAK2F,MAAMmpD,gBAAAA,EAAkB,CAAA;AAE9C9uD,SAAKyxC,mBAAmB94B,IAAU,MAAA;AAChC3Y,WAAK0sC,aAAa6mB,IAAa,EAAEjnB,gBAAAA,MAAgB,CAAA;IAAQ,CAAA;EAE5D,GAEDD,aAAAA;AAAa,QAAAmnB;AACX,WAAOxzD,KAAK0sC,aAAa1sC,KAAK2F,MAAMkD,SAA+B,UAA3B2qD,KAAIxzD,KAAK2F,MAAM6P,iBAAAA,WAAYg+C,KAAAA,SAAvBA,GAAyB/9C,QAAQ,YAAA,EAAA;EAC9E,GAEDg+C,kBAAAA;AACE,WAAOzzD,KAAK0sC,aAAa1sC,KAAK2F,MAAMkD,IAAAA;EACrC,GAED6qD,sBAAAA;AACE,WAAO1zD,KAAKsuD,2BAA2B,QAAA;EACzC,EAAA,CAAA;AA8GJ,MAAMS,KAAqB,SAAS4E,IAAAA;AAClC,UAAMr9C,KAAQ5R,SAASwzC,YAAAA;AAGvB,WAFA5hC,GAAM6hC,SAASwb,GAAYz6C,gBAAgBy6C,GAAY1vB,WAAAA,GACvD3tB,GAAMkkC,OAAOmZ,GAAYx6C,cAAcw6C,GAAYzvB,SAAAA,GAC5C5tB;EACT;AALA,MASMs5C,KAAqBjqD,CAAAA,OAAAA;AAAK,QAAAmjD;AAAA,WAAKn4C,MAAMC,MAAuB,UAAlBk4C,KAAAnjD,GAAM6P,iBAAAA,WAAYszC,KAAAA,SAAlBA,GAAoBt2B,UAAS,CAAA,CAAA,EAAIvoB,SAAS,OAAA;EAAQ;AATlG,MAWM6oD,KAAwBntD,CAAAA,OAAAA;AAAU,QAAAiuD;AAMtC,YAA+B,UAAxBA,KAAAjuD,GAAM6P,aAAanK,UAAAA,WAAKuoD,KAAAA,SAAxBA,GAA2B,CAAA,MAAA,CAAOvE,GAAuB1pD,EAAAA,KAAAA,ElDtkBvBglB,CAAAA,OAAAA;AAAsB,UAAA,EAArBnV,cAAEA,GAAAA,IAAcmV;AAC1D,aAAOnV,GAAagd,MAAMvoB,SAAS,OAAA,KACjCuL,GAAagd,MAAMvoB,SAAS,WAAA,KAC5BuL,GAAaC,QAAQ,WAAA,EAAaxL,SAAS,yCAAA;IAA0C,GkDmkBgBtE,EAAAA;EAAM;AAjB/G,MAoBM0pD,KAAyB,SAAS1pD,IAAAA;AACtC,UAAM+jD,KAAY/jD,GAAM2jD;AACxB,QAAII,IAAW;AAEb,aADkB/4C,MAAMC,KAAK84C,GAAUl3B,KAAAA,EAAOza,OAAQ/M,CAAAA,OAASA,GAAKtK,MAAM,OAAA,CAAA,EACzD4E,WAAWokD,GAAUl3B,MAAMltB,UAAUokD,GAAUr+C,MAAM/F,UAAU;IAClF;EACF;AA1BA,MA4BMgqD,KAA6B,SAAS3pD,IAAAA;AAC1C,UAAM+jD,KAAY/jD,GAAM2jD;AACxB,QAAII,GACF,QAAOA,GAAUl3B,MAAMvoB,SAAS,YAAA,KAA4C,MAA3By/C,GAAUl3B,MAAMltB;EAErE;AAjCA,MAmCM4pD,KAA8B,SAASvpD,IAAAA;AAC3C,UAAMspD,KAAU,CAAA;AAQhB,WAPItpD,GAAM6hD,UACRyH,GAAQtlD,KAAK,KAAA,GAEXhE,GAAMwpD,YACRF,GAAQtlD,KAAK,OAAA,GAEfslD,GAAQtlD,KAAKhE,GAAMpB,GAAAA,GACZ0qD;EACT;AA7CA,MA+CMU,KAAkBhqD,CAAAA,QAAW,EACjC2a,GAAG3a,GAAM2iD,SACT1kC,GAAGje,GAAM4iD,QAAAA;AAjDX,MC/jBMsL,KAA0B;AD+jBhC,MC9jBMC,KAAuB;AD8jB7B,MC7jBMC,KAAAA,GAAqBtwD,OAAMowD,IAAuBpwD,IAAAA,EAAAA,OAAKqwD,EAAAA;AD6jB7D,MC5jBME,KAAiB;AD4jBvB,MC3jBMC,KAAoB,GAAAxwD,OAAMuwD,IAAkC,oBAAA;AD2jBlE,MC1jBME,KAAoB,GAAAzwD,OAAMuwD,IAAmC,qBAAA;AD0jBnE,MCzjBMG,KAAmB,GAAA1wD,OAAMuwD,IAAkC,oBAAA;ADyjBjE,MCxjBMI,KAAoBA,CAACt0D,IAASyU,QAC7BA,OAAiBA,KAAgB8/C,GAAiBv0D,EAAAA,IAChDA,GAAQuV,cAAa,2BAAA5R,OAA4B8Q,IAAAA,IAAAA,CAAAA;ADsjB1D,MCpjBM+/C,KAAiBx0D,CAAAA,OAAYA,GAAQuM,aAAa,kBAAA;ADojBxD,MCnjBMgoD,KAAoBv0D,CAAAA,OACjBA,GAAQuM,aAAa,qBAAA,KAA0BvM,GAAQuM,aAAa,4BAAA;AAI9D,MAAMkoD,KAAN,cAAgCvmD,GAAAA;IAC7C2B,YAAY7P,IAAAA;AACV8P,YAAM9P,EAAAA,GACNE,KAAKq7C,uBAAuBr7C,KAAKq7C,qBAAqB7jC,KAAKxX,IAAAA,GAC3DA,KAAKw0D,0BAA0Bx0D,KAAKw0D,wBAAwBh9C,KAAKxX,IAAAA,GACjEA,KAAKy0D,uBAAuBz0D,KAAKy0D,qBAAqBj9C,KAAKxX,IAAAA,GAC3DA,KAAK00D,wBAAwB10D,KAAK00D,sBAAsBl9C,KAAKxX,IAAAA,GAC7DA,KAAKF,UAAUA,IACfE,KAAKpB,aAAa,CAAA,GAClBoB,KAAK20D,UAAU,CAAA,GACf30D,KAAK40D,kBAAAA,GAEL/vD,GAAY,aAAa,EACvBE,WAAW/E,KAAKF,SAChBkF,kBAAkB8uD,IAClB7uD,cAAcjF,KAAKq7C,qBAAAA,CAAAA,GAErBx2C,GAAY,aAAa,EACvBE,WAAW/E,KAAKF,SAChBkF,kBAAkB6uD,IAClB5uD,cAAcjF,KAAKw0D,wBAAAA,CAAAA,GAErB3vD,GAAY,SAAS,EAAEE,WAAW/E,KAAKF,SAASkF,kBAAkB+uD,IAAuB5uD,gBAAAA,KAAgB,CAAA,GACzGN,GAAY,SAAS,EACnBE,WAAW/E,KAAKF,SAChBkF,kBAAkBkvD,IAClBjvD,cAAcjF,KAAKy0D,qBAAAA,CAAAA,GAErB5vD,GAAY,WAAW,EACrBE,WAAW/E,KAAKF,SAChBkF,kBAAkBmvD,IAClBlvD,cAAcjF,KAAK00D,sBAAAA,CAAAA;IAEvB;IAIArZ,qBAAqB11C,IAAO7F,IAAAA;AAAS,UAAA40B;AACtB,gBAAbA,KAAI10B,KAAC40B,aAAAA,WAAQF,MAAbA,GAAemgC,sBAAAA,GACflvD,GAAMR,eAAAA;AACN,YAAM2vD,KAAaR,GAAcx0D,EAAAA;AAEjC,aAAIE,KAAK+0D,UAAUD,EAAAA,IACV90D,KAAKg1D,aAAaF,EAAAA,IAELl/B,UAApBA,KAAO51B,KAAK40B,aAAAA,WAAQgB,KAAAA,SAAbA,GAAeq/B,uBAAuBH,IAAYh1D,EAAAA;AADpD,UAAA81B;IAGT;IAEA4+B,wBAAwB7uD,IAAO7F,IAAAA;AAAS,UAAAksC;AACzB,gBAAbA,KAAIhsC,KAAC40B,aAAAA,WAAQoX,MAAbA,GAAe6oB,sBAAAA,GACflvD,GAAMR,eAAAA;AACN,YAAMoP,KAAgB8/C,GAAiBv0D,EAAAA;AAIhC,UAAAytC;AAFHvtC,WAAK+0D,UAAUxgD,EAAAA,IACjBvU,KAAKg1D,aAAazgD,EAAAA,IAELg5B,UAAbA,KAAAvtC,KAAK40B,aAAAA,WAAQ2Y,MAAbA,GAAe2nB,0BAA0B3gD,EAAAA;AAG3C,aAAOvU,KAAKm1D,wBAAAA;IACd;IAEAV,qBAAqB9uD,IAAO7F,IAAAA;AAC1B,YAAMs1D,KAAgBtvD,GAA2BhG,IAAS,EAAEkF,kBAAkBgvD,GAAAA,CAAAA;AAE9E,aAAOh0D,KADQF,GAAQuM,aAAa,kBAAA,CAAA,EAChBtG,KAAK/F,MAAMo1D,EAAAA;IACjC;IAEAV,sBAAsB/uD,IAAO7F,IAAAA;AAC3B,UAAsB,OAAlB6F,GAAMs3C,SAAgB;AAExBt3C,QAAAA,GAAMR,eAAAA;AACN,cAAM2tB,KAAYhzB,GAAQuM,aAAa,MAAA,GACjCgpD,KAASr1D,KAAK+0D,UAAUjiC,EAAAA;AAC9B9yB,aAAK2I,aAAa0sD,EAAAA;MACpB;AACA,UAAsB,OAAlB1vD,GAAMs3C,QAGR,QADAt3C,GAAMR,eAAAA,GACCnF,KAAKs1D,WAAAA;IAEhB;IAIAC,cAAcZ,IAAAA;AAEZ,aADA30D,KAAK20D,UAAUA,IACR30D,KAAKw1D,qBAAAA;IACd;IAEAA,uBAAAA;AACE,aAAOx1D,KAAKy1D,iBAAiB,CAAC31D,IAASg1D,OAAAA;AACrCh1D,QAAAA,GAAQ41D,WAAAA,UAAW11D,KAAK20D,QAAQG,EAAAA;MAAqB,CAAA;IAEzD;IAEAW,iBAAiB1qD,IAAAA;AACf,aAAO4F,MAAMC,KAAK5Q,KAAKF,QAAQ8qB,iBAAiBkpC,EAAAA,CAAAA,EAAuBziD,IAAKvR,CAAAA,OAC1EiL,GAASjL,IAASw0D,GAAcx0D,EAAAA,CAAAA,CAAAA;IAEpC;IAIA61D,iBAAiB/2D,IAAAA;AAEf,aADAoB,KAAKpB,aAAaA,IACXoB,KAAKm1D,wBAAAA;IACd;IAEAA,0BAAAA;AACE,aAAOn1D,KAAK41D,oBAAoB,CAAC91D,IAASyU,QACxCzU,GAAQ41D,WAAAA,UAAW11D,KAAKpB,WAAW2V,EAAAA,GAC/BvU,KAAKpB,WAAW2V,EAAAA,KAAkBvU,KAAK61D,gBAAgBthD,EAAAA,KACzDzU,GAAQ6I,aAAa,oBAAoB,EAAA,GAClC7I,GAAQoJ,UAAUC,IAAI,aAAA,MAE7BrJ,GAAQ4qB,gBAAgB,kBAAA,GACjB5qB,GAAQoJ,UAAU1G,OAAO,aAAA,GAAA;IAGtC;IAEAozD,oBAAoB7qD,IAAAA;AAClB,aAAO4F,MAAMC,KAAK5Q,KAAKF,QAAQ8qB,iBAAiBipC,EAAAA,CAAAA,EAA0BxiD,IAAKvR,CAAAA,OAC7EiL,GAASjL,IAASu0D,GAAiBv0D,EAAAA,CAAAA,CAAAA;IAEvC;IAEAg2D,qBAAqBphD,IAAAA;AACnB,YAAMqhD,KAAY7jD,KAAKO,UAAUiC,GAAKqG,KAAAA,CAAAA;AACtC,iBAAWi7C,MAAUrlD,MAAMC,KAAK5Q,KAAKF,QAAQ8qB,iBAAiB,iBAAA,CAAA,GAAqB;AACjF,cAAMqrC,KAAaD,GAAO3pD,aAAa,eAAA,EAAiBrD,MAAM,GAAA;AAE9D,YADwBkJ,KAAKO,UAAUwjD,GAAWl7C,KAAAA,CAAAA,MAC1Bg7C,GAEtB,QADA7vD,GAAa,aAAa,EAAEnB,WAAWixD,GAAAA,CAAAA,GAAAA;MAG3C;AACA,aAAA;IACF;IAIAH,gBAAgBK,IAAAA;AACd,YAAMp2D,KAAUE,KAAK+0D,UAAUmB,EAAAA;AAC/B,UAAIp2D,GACF,QAAOA,GAAQ0qB,aAAa,kBAAA;IAEhC;IAEAwqC,aAAakB,IAAAA;AACX,aAAIl2D,KAAK61D,gBAAgBK,EAAAA,IAChBl2D,KAAKs1D,WAAAA,IAELt1D,KAAKm2D,WAAWD,EAAAA;IAE3B;IAEAC,WAAWD,IAAAA;AAAY,UAAAhlB,IAAAgC;AACrBlzC,WAAKs1D,WAAAA,GACQ,UAAbpkB,KAAIlxC,KAAC40B,aAAAA,WAAQsc,MAAbA,GAAeklB,sBAAAA;AAEf,YAAMt2D,KAAUE,KAAK+0D,UAAUmB,EAAAA;AAC/Bp2D,MAAAA,GAAQ6I,aAAa,oBAAoB,EAAA,GACzC7I,GAAQoJ,UAAUC,IAAI,aAAA,GAEtBwH,MAAMC,KAAK9Q,GAAQ8qB,iBAAiB,iBAAA,CAAA,EAAoB3hB,QAASotD,CAAAA,OAAAA;AAC/DA,QAAAA,GAAc3rC,gBAAgB,UAAA;MAAW,CAAA;AAG3C,YAAMnW,KAAgB8/C,GAAiBv0D,EAAAA;AACvC,UAAIyU,IAAe;AACjB,cAAM7J,KAAQ0pD,GAAkBt0D,IAASo2D,EAAAA;AACrCxrD,QAAAA,OACFA,GAAMlG,QAAQxE,KAAKpB,WAAW2V,EAAAA,KAAkB,IAChD7J,GAAM8tC,OAAAA;MAEV;AAEA,aAAoB,UAApBtF,KAAOlzC,KAAK40B,aAAAA,WAAQse,KAAAA,SAAbA,GAAeojB,qBAAqBJ,EAAAA;IAC7C;IAEAvtD,aAAaysD,IAAAA;AAAe,UAAA/hB;AAC1B,YAAM9+B,KAAgB8/C,GAAiBe,EAAAA,GACjC1qD,KAAQ0pD,GAAkBgB,IAAe7gD,EAAAA;AAE/C,aAAA,CAAI7J,GAAM6rD,iBACR7rD,GAAM8rD,kBAAkB,EAAA,GACnB9rD,GAAM+rD,cAAAA,KAAoBz2D,KAAK02D,gBAAgBhsD,EAAAA,MAOzC,UAAb2oC,KAAIrzC,KAAC40B,aAAAA,WAAQye,MAAbA,GAAesjB,0BAA0BpiD,IAAe7J,GAAMlG,KAAAA,GACvDxE,KAAKs1D,WAAAA,MAPR5qD,GAAM8rD,kBAAkB,eAAA,GACxB9rD,GAAM/B,aAAa,sBAAsB,EAAA,GACzC+B,GAAMxB,UAAUC,IAAI,eAAA,GACbuB,GAAMwxC,MAAAA;IAKnB;IAEAwa,gBAAgBhsD,IAAAA;AACd,aAAA,CAAIA,GAAM8f,aAAa,yBAAA,KACdhC,GAAUouC,iBAAiB,KAAK,QAAQlsD,GAAMlG,KAAAA;IAIzD;IAEAkmB,gBAAgB0qC,IAAAA;AAAe,UAAA5hB;AAC7B,YAAMj/B,KAAgB8/C,GAAiBe,EAAAA;AAEvC,aADa5hB,UAAbA,KAAAxzC,KAAK40B,aAAAA,WAAQ4e,MAAbA,GAAeqjB,0BAA0BtiD,EAAAA,GAClCvU,KAAKs1D,WAAAA;IACd;IAEAA,aAAAA;AACE,YAAMx1D,KAAUE,KAAKF,QAAQuV,cAAc4+C,EAAAA;AAC9B,UAAAtgB;AAAb,UAAI7zC,GAIF,QAHAA,GAAQ4qB,gBAAgB,kBAAA,GACxB5qB,GAAQoJ,UAAU1G,OAAO,aAAA,GACzBxC,KAAK40D,kBAAAA,GAAAA,UACLjhB,KAAO3zC,KAAK40B,aAAAA,WAAQ+e,KAAAA,SAAbA,GAAemjB,sBA9NLh3D,CAAAA,OAAYA,GAAQuM,aAAa,kBAAA,GA8NOvM,EAAAA,CAAAA;IAE7D;IAEA80D,oBAAAA;AACEjkD,YAAMC,KAAK5Q,KAAKF,QAAQ8qB,iBAAiBupC,EAAAA,CAAAA,EAAsBlrD,QAASyB,CAAAA,OAAAA;AACtEA,QAAAA,GAAM/B,aAAa,YAAY,UAAA,GAC/B+B,GAAMggB,gBAAgB,oBAAA,GACtBhgB,GAAMxB,UAAU1G,OAAO,eAAA;MAAgB,CAAA;IAE3C;IAEAuyD,UAAUmB,IAAAA;AACR,aAAOl2D,KAAKF,QAAQuV,cAAAA,qBAAa5R,OAAsByyD,IAAU,GAAA,CAAA;IACnE;EAAA;AC3Oa,MAAMa,KAAN,cAA+B9X,GAAAA;IAiD5CtvC,YAAWgb,IAAAA;AAAoC,UAAA,EAAnCqsC,eAAEA,IAAatyD,UAAEA,IAAQD,MAAEA,GAAAA,IAAMkmB;AAC3C/a,YAAAA,GAASvK,SAAAA,GACTrF,KAAKg3D,gBAAgBA,IACrBh3D,KAAK6X,mBAAmB,IAAI8gC,GAAiB34C,KAAKg3D,aAAAA,GAClDh3D,KAAK6X,iBAAiB+c,WAAW50B,MAEjCA,KAAK6qC,cAAc,IAAIU,MACvBvrC,KAAK6qC,YAAYjW,WAAW50B,MAE5BA,KAAKmqC,oBAAoB,IAAIE,GAAkBrqC,KAAK6qC,YAAYnP,eAAAA,CAAAA,GAChE17B,KAAKmqC,kBAAkBvV,WAAW50B,MAElCA,KAAKotD,kBACyB,MAA5B54C,GAAa5J,SAAAA,IACT,IAAIkjD,GAAsB9tD,KAAKg3D,aAAAA,IAC/B,IAAIjS,GAAsB/kD,KAAKg3D,aAAAA,GAErCh3D,KAAKotD,gBAAgBx4B,WAAW50B,MAChCA,KAAKotD,gBAAgB3I,YAAYzkD,KAAK6qC,aAEtC7qC,KAAKi3D,wBAAwB,IAAI9Z,GAAsBn9C,KAAKg3D,eAAeh3D,KAAK6qC,WAAAA,GAChF7qC,KAAKi3D,sBAAsBriC,WAAW50B,MAEtCA,KAAKk3D,oBAAoB,IAAI3C,GAAkBv0D,KAAKg3D,cAAcG,cAAAA,GAClEn3D,KAAKk3D,kBAAkBtiC,WAAW50B,MAElCA,KAAKo3D,SAAS,IAAIjhB,GAAOn2C,KAAK6qC,aAAa7qC,KAAK6X,kBAAkB7X,KAAKg3D,aAAAA,GACnEtyD,KACF1E,KAAKo3D,OAAO9gB,aAAa5xC,EAAAA,IAEzB1E,KAAKo3D,OAAO7gB,SAAS9xC,EAAAA;IAEzB;IAEAmT,2BAAAA;AACE,aAAOQ,GAAwBR,yBAAyB5X,KAAK6X,gBAAAA;IAC/D;IAEAC,6BAAAA;AACE,aAAOM,GAAwBN,2BAA2B9X,KAAK6X,gBAAAA;IACjE;IAEAwZ,SAAAA;AACE,aAAOrxB,KAAKi3D,sBAAsB5lC,OAAAA;IACpC;IAEA48B,UAAAA;AACE,aAAOjuD,KAAK6qC,YAAYsC,YAAYntC,KAAKg3D,cAAc3tC,SAAAA;IACzD;IAIAuiB,6BAA6BlnC,IAAAA;AAE3B,UADA1E,KAAKq3D,oBAAoB,iBAAA,GAAA,CACpBr3D,KAAKs3D,cACR,QAAOt3D,KAAKqxB,OAAAA;IAEhB;IAEAijB,sCAAsC9I,IAAAA;AAIpC,aAHAxrC,KAAKwrC,oBAAoBA,IACzBxrC,KAAKk3D,kBAAkBvB,iBAAiB31D,KAAKwrC,iBAAAA,GAC7CxrC,KAAKu3D,qBAAAA,GACEv3D,KAAKq3D,oBAAoB,qBAAqB,EAAEz4D,YAAYoB,KAAKwrC,kBAAAA,CAAAA;IAC1E;IAEAiJ,sCAAsCn+B,IAAAA;AAChCtW,WAAKw3D,YACPx3D,KAAKy3D,cAAcnhD;IAEvB;IAEAk3B,4BAA4B7uC,IAAAA;AAC1B,aAAOqB,KAAKq3D,oBAAoB,eAAe,EAAE14D,MAAAA,GAAAA,CAAAA;IACnD;IAEA40C,4BAA4BxmC,IAAAA;AAC1B,YAAM49B,KAAoB3qC,KAAKmqC,kBAAkBI,iBAAiBx9B,EAAAA;AAClE,aAAO/M,KAAKq3D,oBAAoB,kBAAkB,EAAEtqD,YAAY49B,GAAAA,CAAAA;IAClE;IAEA+I,6BAA6B3mC,IAAAA;AAC3B/M,WAAKi3D,sBAAsB1Y,sBAAsBxxC,EAAAA;AACjD,YAAM49B,KAAoB3qC,KAAKmqC,kBAAkBI,iBAAiBx9B,EAAAA;AAElE,aADA/M,KAAKq3D,oBAAoB,mBAAmB,EAAEtqD,YAAY49B,GAAAA,CAAAA,GACnD3qC,KAAKq3D,oBAAoB,QAAA;IAClC;IAEAxjB,yCAAyC9mC,IAAAA;AAEvC,aADA/M,KAAKi3D,sBAAsBj5C,wBAAwBjR,EAAAA,GAC5C/M,KAAKq3D,oBAAoB,QAAA;IAClC;IAEAjkB,+BAA+BrmC,IAAAA;AAC7B,YAAM49B,KAAoB3qC,KAAKmqC,kBAAkBO,mBAAmB39B,EAAAA;AACpE,aAAO/M,KAAKq3D,oBAAoB,qBAAqB,EAAEtqD,YAAY49B,GAAAA,CAAAA;IACrE;IAEAqJ,qCAAqCjnC,IAAYxE,IAAAA;AAG/C,aAFAvI,KAAK03D,0BAA0B13D,KAAK6qC,YAAYnmC,SAAS6/B,6BAA6Bx3B,EAAAA,GACtF/M,KAAKi3D,sBAAsBvY,qCAAqC3xC,IAAYxE,EAAAA,GACrEvI,KAAK6X,iBAAiBw5B,iBAAiBrxC,KAAK03D,uBAAAA;IACrD;IAEAvjB,oCAAoCpnC,IAAAA;AAClC/M,WAAKi3D,sBAAsBrY,0BAAAA,GAC3B5+C,KAAK03D,0BAA0B;IACjC;IAEAvmB,sDAAsDnM,IAAAA;AACpD,UAAA,CAAIhlC,KAAK23D,mBAAoB33D,KAAK43D,UAAAA,EAGlC,QAFA53D,KAAK63D,yBAAyB7yB,IAC9BhlC,KAAK83D,gDAAgD93D,KAAK6qC,YAAYY,UACjEzrC,KAAKs3D,gBAAAA,SACDt3D,KAAKqxB,OAAAA;IAEhB;IAEA6a,8BAAAA;AACElsC,WAAK23D,kBAAAA;IACP;IAEAvrB,6BAAAA;AACEpsC,WAAKi3D,sBAAsBzY,iBAAAA,GAC3Bx+C,KAAKqxB,OAAAA,GACLrxB,KAAK23D,kBAAAA;IACP;IAEAvmB,sBAAAA;AACE,aAAOpxC,KAAK6X;IACd;IAIA4yB,+CAA+C19B,IAAAA;AAC7C,aAAO/M,KAAK2uC,iBAAiB5hC,EAAAA;IAC/B;IAIAqxC,4CAAAA;AAGE,aAFAp+C,KAAKotD,gBAAgBxJ,2BAAAA,GACrB5jD,KAAK6X,iBAAiB0hC,KAAAA,GACfv5C,KAAK6X,iBAAiB4hC,eAAAA;IAC/B;IAEA4E,2CAAAA;AAIE,aAHAr+C,KAAKotD,gBAAgBvJ,0BAAAA,GACrB7jD,KAAK6X,iBAAiB2hC,OAAAA,GACtBx5C,KAAKu3D,qBAAAA,GACEv3D,KAAKq3D,oBAAoB,MAAA;IAClC;IAEA/Y,iCAAAA;AACMt+C,WAAK63D,2BACH73D,KAAK83D,kDAAkD93D,KAAK6qC,YAAYY,YAC1EzrC,KAAK6X,iBAAiBw5B,iBAAiBrxC,KAAK63D,sBAAAA,GAE9C73D,KAAK63D,yBAAyB,MAC9B73D,KAAK83D,gDAAgD,OAGnD93D,KAAK+3D,gCAAgC/3D,KAAK6qC,YAAYY,aACxDzrC,KAAKg4D,iBAAAA,GACLh4D,KAAK6qC,YAAYsF,wBAAAA,GACjBnwC,KAAKq3D,oBAAoB,QAAA,IAG3Br3D,KAAK+3D,8BAA8B/3D,KAAK6qC,YAAYY;IACtD;IAEAiS,gCAAAA;AAKE,aAJI19C,KAAKi4D,mBAAAA,KACPj4D,KAAKqxC,iBAAiB,EAAEx+B,OAAO,GAAG9C,QAAQ,EAAA,CAAA,GAE5C/P,KAAKk3D,kBAAkB5B,WAAAA,GAChBt1D,KAAKq3D,oBAAoB,OAAA;IAClC;IAEAzZ,+BAAAA;AACE,aAAO59C,KAAKq3D,oBAAoB,MAAA;IAClC;IAEAvZ,yCAAyC/wC,IAAYxE,IAAAA;AAEnD,aADAvI,KAAKk3D,kBAAkB5B,WAAAA,GAChBt1D,KAAK6qC,YAAY4D,eAAe1hC,IAAYxE,EAAAA;IACrD;IAEAy2C,qDAAqDjyC,IAAAA;AACnD,YAAMi4B,KAAgBhlC,KAAK03D,2BAA2B13D,KAAK6qC,YAAYnmC,SAAS6/B,6BAA6Bx3B,EAAAA;AAC7G,aAAO/M,KAAK6X,iBAAiBw5B,iBAAiBrM,GAAc,CAAA,CAAA;IAC9D;IAEA8Z,0CAA0C/xC,IAAAA;AACxC,aAAO/M,KAAKo3D,OAAOriB,gBAAgB,mBAAmB,EAAEzlB,SAASviB,GAAW5B,IAAI8pC,gBAAAA,KAAgB,CAAA;IAClG;IAEA8J,mDAAmDhyC,IAAAA;AACjD,aAAO/M,KAAK2uC,iBAAiB5hC,EAAAA;IAC/B;IAIA43C,iCAAAA;AACE3kD,WAAKs3D,gBAAAA,MACLt3D,KAAKk4D,kBAAAA;IACP;IAEAlU,kCAAAA;AACEhkD,WAAKk4D,kBAAAA;IACP;IAEAtT,gCAAAA;AAEE,UADA5kD,KAAKs3D,gBAAAA,OACDt3D,KAAKk4D,gBAEP,QADAl4D,KAAKk4D,kBAAAA,OACEl4D,KAAKqxB,OAAAA;IAEhB;IAEA+zB,wCAAAA;AACE,aAAOplD,KAAKq3D,oBAAoB,QAAA;IAClC;IAEAlT,mCAAAA;AACE,aAAOnkD,KAAKiuD,QAAAA;IACd;IAEAtG,mCAAAA;AACE,aAAO3nD,KAAKm4D,sBAAAA;IACd;IAEA5J,qCAAqCh6C,IAAAA;AACnC,aAAOvU,KAAKo4D,0BAA0B7jD,EAAAA;IACxC;IAEAg1C,6BAAAA;AACE,aAAOvpD,KAAKo3D,OAAOriB,gBAAgB,KAAA;IACrC;IAEA+U,yBAAyBL,IAAAA;AAGvB,aAFAzpD,KAAKo3D,OAAOriB,gBAAgB,OAAA,GAC5B/0C,KAAKw3D,UAAAA,MACEx3D,KAAKq3D,oBAAoB,gBAAgB,EAAE5N,OAAAA,GAAAA,CAAAA;IACpD;IAEAM,wBAAwBN,IAAAA;AAItB,aAHAA,GAAMnzC,QAAQtW,KAAKy3D,aACnBz3D,KAAKy3D,cAAc,MACnBz3D,KAAKw3D,UAAU,MACRx3D,KAAKq3D,oBAAoB,SAAS,EAAE5N,OAAAA,GAAAA,CAAAA;IAC7C;IAEAR,8BAAAA;AACE,aAAOjpD,KAAKo3D,OAAOriB,gBAAgB,MAAA;IACrC;IAEAyP,iCAAAA;AACE,aAAOxkD,KAAKo3D,OAAOriB,gBAAgB,YAAA;IACrC;IAEAud,iCAAAA;AACE,aAAOtyD,KAAKo3D,OAAO10D,KAAAA;IACrB;IAEA0vD,iCAAAA;AACE,aAAOpyD,KAAKo3D,OAAO70D,KAAAA;IACrB;IAEA+kD,yCAAyC5yC,IAAAA;AACvC,aAAO1U,KAAKk3D,kBAAkBpB,qBAAqBphD,EAAAA;IACrD;IAEAyzC,8BAAAA;AACEnoD,WAAKq4D,0BAA0Br4D,KAAK6X,iBAAiBu1B,iBAAAA;IACvD;IAEAqb,uCAAuChO,IAAAA;AACrC,aAAOz6C,KAAK6X,iBAAiBuhC,+BAA+BqB,EAAAA;IAC9D;IAEAmO,+BAAAA;AACE5oD,WAAK6X,iBAAiBw5B,iBAAiBrxC,KAAKq4D,uBAAAA,GAC5Cr4D,KAAKq4D,0BAA0B;IACjC;IAIAhe,uBAAuBrV,IAAAA;AAMrB,aALAhlC,KAAK6qC,YAAYsF,wBAAAA,GACjBnwC,KAAKu3D,qBAAAA,GACDv3D,KAAK03D,2BAAAA,CAA4B7gD,GAAe7W,KAAK03D,yBAAyB1yB,EAAAA,KAChFhlC,KAAK6qC,YAAY+D,sBAAAA,GAEZ5uC,KAAKq3D,oBAAoB,kBAAA;IAClC;IAIAxC,wBAAAA;AACE,UAAA,CAAK70D,KAAKotC,iBAAAA,EACR,QAAOptC,KAAKqxC,iBAAiB,EAAEx+B,OAAO,GAAG9C,QAAQ,EAAA,CAAA;IAErD;IAEAklD,uBAAuBH,IAAYwD,IAAAA;AACjC,aAAOt4D,KAAKu4D,aAAazD,IAAYwD,EAAAA;IACvC;IAEApD,0BAA0B3gD,IAAAA;AAIxB,UAHAvU,KAAKo4D,0BAA0B7jD,EAAAA,GAC/BvU,KAAK6qC,YAAYyE,uBAAuB/6B,EAAAA,GACxCvU,KAAKqxB,OAAAA,GAAAA,CACArxB,KAAKw4D,gBACR,QAAOx4D,KAAKg3D,cAAc9a,MAAAA;IAE9B;IAEAya,0BAA0BpiD,IAAe/P,IAAAA;AAIvC,UAHAxE,KAAKo4D,0BAA0B7jD,EAAAA,GAC/BvU,KAAK6qC,YAAY0E,oBAAoBh7B,IAAe/P,EAAAA,GACpDxE,KAAKqxB,OAAAA,GAAAA,CACArxB,KAAKw4D,gBACR,QAAOx4D,KAAKg3D,cAAc9a,MAAAA;IAE9B;IAEA2a,0BAA0BtiD,IAAAA;AAIxB,UAHAvU,KAAKo4D,0BAA0B7jD,EAAAA,GAC/BvU,KAAK6qC,YAAYgE,uBAAuBt6B,EAAAA,GACxCvU,KAAKqxB,OAAAA,GAAAA,CACArxB,KAAKw4D,gBACR,QAAOx4D,KAAKg3D,cAAc9a,MAAAA;IAE9B;IAEAka,sBAAsBhB,IAAAA;AAEpB,aADAp1D,KAAK6qC,YAAYmH,0BAAAA,GACVhyC,KAAK+wC,gBAAAA;IACd;IAEAulB,qBAAqBJ,IAAAA;AACnB,aAAOl2D,KAAKq3D,oBAAoB,uBAAuB,EAAEnB,YAAAA,GAAAA,CAAAA;IAC3D;IAEAY,qBAAqBZ,IAAAA;AAGnB,aAFAl2D,KAAKgxC,cAAAA,GACLhxC,KAAKg3D,cAAc9a,MAAAA,GACZl8C,KAAKq3D,oBAAoB,uBAAuB,EAAEnB,YAAAA,GAAAA,CAAAA;IAC3D;IAIAnlB,kBAAAA;AACE,UAAA,CAAK/wC,KAAKw4D,gBAIR,QAHAx4D,KAAK6X,iBAAiB0hC,KAAAA,GACtBv5C,KAAK6qC,YAAYkG,gBAAAA,GACjB/wC,KAAKw4D,kBAAAA,MACEx4D,KAAKqxB,OAAAA;IAEhB;IAEA2f,gBAAAA;AACE,UAAIhxC,KAAKw4D,gBAIP,QAHAx4D,KAAK6qC,YAAYmG,cAAAA,GACjBhxC,KAAK6X,iBAAiB2hC,OAAAA,GACtBx5C,KAAKw4D,kBAAAA,OACEx4D,KAAKqxB,OAAAA;IAEhB;IAEAonC,gBAAgB3D,IAAAA;AACd,aAAA,CAAA,CAAI90D,KAAK04D,iBAAiB5D,EAAAA,KAAAA,EAGS,UAAzB6D,KAAC34D,KAAK20D,QAAQG,EAAAA,MAAAA,WAAW6D,MAAMA,UAANA,KAAxBA,GAA0B94D,SAAAA,WAAI84D,MAAAA,CAA9BA,GAAgC5yD,KAAK/F,IAAAA;AADzC,UAAA24D;IAGT;IAEAJ,aAAazD,IAAYwD,IAAAA;AACvB,aAAIt4D,KAAK04D,iBAAiB5D,EAAAA,IACjB90D,KAAKq3D,oBAAoB,iBAAiB,EAAEvC,YAAAA,IAAYwD,iBAAAA,GAAAA,CAAAA,IAEhCM,UAA/BA,KAAO54D,KAAK20D,QAAQG,EAAAA,MAAAA,WAAW8D,MAAS,UAATA,KAAxBA,GAA0B57C,YAAAA,WAAO47C,KAAAA,SAAjCA,GAAmC7yD,KAAK/F,IAAAA;AAD1C,UAAA44D;IAGT;IAEAF,iBAAiB5D,IAAAA;AACf,aAAO,OAAOj1D,KAAKi1D,EAAAA;IACrB;IAEA+D,oBAAAA;AACE,YAAMjnD,KAAS,CAAA;AACf,iBAAWkjD,MAAc90D,KAAK20D,QAC5B/iD,CAAAA,GAAOkjD,EAAAA,IAAc90D,KAAKy4D,gBAAgB3D,EAAAA;AAE5C,aAAOljD;IACT;IAEA2lD,uBAAAA;AACE,YAAMuB,KAAiB94D,KAAK64D,kBAAAA;AAC5B,UAAA,CAAKziD,GAAgB0iD,IAAgB94D,KAAK84D,cAAAA,EAGxC,QAFA94D,KAAK84D,iBAAiBA,IACtB94D,KAAKk3D,kBAAkB3B,cAAcv1D,KAAK84D,cAAAA,GACnC94D,KAAKq3D,oBAAoB,kBAAkB,EAAE1C,SAAS30D,KAAK84D,eAAAA,CAAAA;IAEtE;IAIAd,mBAAAA;AACE,UAAIziB,KAAWv1C,KAAK6qC,YAAYgB,YAAAA;AAahC,UAXAl7B,MAAMC,KAAK5Q,KAAKo3D,OAAO/gB,OAAAA,EAASptC,QAAS8O,CAAAA,OAAAA;AACvC,cAAA,EAAMrT,UAAEA,IAAQomC,eAAEA,GAAAA,IAAkByK;AACpCA,QAAAA,KAAWx9B,GAAOhS,KAAK/F,KAAKo3D,QAAQ7hB,EAAAA,KAAa,CAAA,GAC5CA,GAAS7wC,aACZ6wC,GAAS7wC,WAAWA,KAEjB6wC,GAASzK,kBACZyK,GAASzK,gBAAgBA;MAC3B,CAAA,GAxdqBh+B,KA2dAyoC,IA3dG3iC,KA2dO5S,KAAK6qC,YAAYgB,YAAAA,GAAAA,CA3dlBh1B,GAAe/J,GAAEg+B,eAAel4B,GAAEk4B,aAAAA,KAAAA,CAAkBh+B,GAAEpI,SAAS4L,UAAUsC,GAAElO,QAAAA,EA4dzG,QAAO1E,KAAK6qC,YAAYiB,aAAayJ,EAAAA;AA5djBwjB,UAACjsD,IAAG8F;IA8d5B;IAIAomD,qBAAAA;AACE,YACMx0D,KtBna4B,SAASulC,IAAc7V,IAAAA;AAC3D,cAAM+kC,KAAanvB,GAAY5V,EAAAA;AAC/B,YAAI+kC,GACF,QAAOA,GAAWlvB,EAAAA;AAElB,cAAM,IAAIn7B,MAAK,yBAAAnL,OAA0BywB,EAAAA,CAAAA;MAE7C,EsB2ZoBl0B,KAAKi3D,sBAAsBlZ,uBAAAA,GACG,WAAA;AAC9C,aAAO/9C,KAAKg3D,cAAckC,aAAa10D,EAAAA;IACzC;IAEA6yD,oBAAoB8B,IAAStwD,IAAAA;AAC3B,cAAQswD,IAAAA;QACN,KAAK;AACHn5D,eAAKo5D,iCAAAA;AACL;QACF,KAAK;AACCp5D,eAAKo5D,mCACPp5D,KAAKo5D,iCAAAA,OACLp5D,KAAKq3D,oBAAoB,QAAA;AAE3B;QACF,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;AACHr3D,eAAKg5D,mBAAAA;MAAAA;AAIT,aAAOh5D,KAAKg3D,cAAcqC,OAAOF,IAAStwD,EAAAA;IAC5C;IAEA8lC,iBAAiB5hC,IAAAA;AAGf,aAFA/M,KAAKo3D,OAAOriB,gBAAgB,mBAAA,GAC5B/0C,KAAK6qC,YAAY8D,iBAAiB5hC,EAAAA,GAC3B/M,KAAKqxB,OAAAA;IACd;IAEA+mC,0BAA0B7jD,IAAAA;AACxB,YAAMkuB,KAAcnuB,GAAeC,EAAAA,GAC7BywB,KAAgBhlC,KAAK6X,iBAAiBu1B,iBAAAA;AAC5C,UAAI3K,MAAAA,CAAgBhsB,GAAiBuuB,EAAAA,EACnC,QAAOhlC,KAAKo3D,OAAOriB,gBAAgB,cAAc,EAAEzlB,SAAStvB,KAAKs5D,eAAAA,GAAkBrkB,gBAAAA,KAAgB,CAAA;IAEvG;IAEAkjB,wBAAAA;AACE,aAAOn4D,KAAKo3D,OAAOriB,gBAAgB,UAAU,EAC3CzlB,SAAStvB,KAAKs5D,eAAet5D,KAAKwrC,iBAAAA,GAClCyJ,gBAAAA,KAAgB,CAAA;IAEpB;IAEAqkB,iBAAAA;AAA2B,eAAAvmD,KAAA1N,UAAAC,QAATgqB,KAAO3e,IAAAA,MAAAoC,EAAAA,GAAAC,KAAA,GAAAA,KAAAD,IAAAC,KAAPsc,CAAAA,GAAOtc,EAAAA,IAAA3N,UAAA2N,EAAAA;AACvB,aAAO,CAAEhT,KAAKu5D,mBAAAA,GAAsBv5D,KAAKw5D,eAAAA,GAAAA,GAAqB7oD,MAAMC,KAAK0e,EAAAA,CAAAA;IAC3E;IAEAiqC,qBAAAA;AACE,YAAMv0B,KAAgBhlC,KAAK6X,iBAAiBu1B,iBAAAA;AAC5C,aAAI32B,GAAiBuuB,EAAAA,IACZA,GAAc,CAAA,EAAGnyB,QAEjBmyB;IAEX;IAEAw0B,iBAAAA;AACE,aAAIhlD,GAAY9H,WAAW,IAClB9I,KAAKC,OAAM,oBAAI41D,QAAOC,QAAAA,IAAYllD,GAAY9H,QAAAA,IAE9C;IAEX;IAEAkrD,YAAAA;AAAY,UAAA+B;AACV,aAAO35D,KAAKg3D,mBAAkD2C,UAArCA,KAAK35D,KAAKg3D,cAAc4C,kBAAAA,WAAaD,KAAAA,SAAhCA,GAAkC3yD;IAClE;IAIAixD,qBAAAA;AACE,aAAOj4D,KAAK43D,UAAAA,KAAAA,CAAgB53D,KAAKotC,iBAAAA;IACnC;IAEA,IAAA,UAAIunB;AACF,aAAO30D,KAAK2P,YAAYglD;IAC1B;EAAA;AACDrhC,KAnjBoByjC,IACF,WAAA,EACfr0D,MAAM,EACJ7C,OAAAA;AACE,WAAOG,KAAKo3D,OAAO5hB,QAAAA;EACpB,GACDx4B,UAAAA;AACE,WAAOhd,KAAKo3D,OAAO10D,KAAAA;EACrB,EAAA,GAEFH,MAAM,EACJ1C,OAAAA;AACE,WAAOG,KAAKo3D,OAAO3hB,QAAAA;EACpB,GACDz4B,UAAAA;AACE,WAAOhd,KAAKo3D,OAAO70D,KAAAA;EACrB,EAAA,GAEFH,MAAM,EACJvC,OAAAA;AACE,WAAOG,KAAKo3D,OAAOvgB,qBAAqB,MAAA;EAC1C,EAAA,GAEFnZ,sBAAsB,EACpB79B,OAAAA;AACE,WAAOG,KAAKo3D,OAAO7mB,wBAAAA;EACpB,GACDvzB,UAAAA;AACE,WAAOhd,KAAKo3D,OAAO15B,qBAAAA,KAA0B19B,KAAKqxB,OAAAA;EACpD,EAAA,GAEFoM,sBAAsB,EACpB59B,OAAAA;AACE,WAAOG,KAAKo3D,OAAO/mB,wBAAAA;EACpB,GACDrzB,UAAAA;AACE,WAAOhd,KAAKo3D,OAAO35B,qBAAAA,KAA0Bz9B,KAAKqxB,OAAAA;EACpD,EAAA,GAEFzvB,aAAa,EACX/B,MAAIA,MAAAA,MAGJmd,UAAAA;AACE,WAAOxI,GAAa1J,UAAU9K,KAAKo3D,OAAO9pB,WAAAA;EAC5C,EAAA,EAAA,CAAA,GAwgBNypB,GAAiB15C,YAAY,wCAAA,GAC7B05C,GAAiB15C,YAAY,wCAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,4BAAA,IAAA,uBAAA,IAAA,YAAA,IAAA,kBAAA,IAAA,iBAAA,IAAA,uBAAA,IAAA,uBAAA,IAAA,mBAAA,GAAA,CAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,kBAAA,IAAA,yBAAA,GAAA,CAAA;AAAA,MAAA,KAAA,OAAA,OAAA,EAAA,WAAA,MAAA,2BAAA,IAAA,uBAAA,GAAA,CAAA;ACxkB7BzI,KAA4B,gBAAc,2QAAA;AAqB3B,MAAMilD,KAAN,cAAiC7vB,YAAAA;IAI9C8vB,oBAAAA;AACyB,aAAnB95D,KAAKqpB,cACPrpB,KAAKqpB,YAAY7U,GAAe/H,eAAAA;IAEpC;EAAA;AClBF,MAAItB,KAAK;AAIT,MAQM4uD,KAAe,SAASj6D,IAAAA;AAC5B,QAAA,CAAIA,GAAQ0qB,aAAa,iBAAA,EAIzB,QADA1qB,GAAQ6I,aAAa,mBAAmB,EAAA,GrECX,SAAS7D,IAAAA;AAAyB,UAAdyD,KAAOlD,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG,CAAA;AAE3D,aADAkD,GAAQnD,QAAQ,GACTP,GAAYC,IAAWyD,EAAAA;IAChC,EqEHyB,SAAS,EAC9BxD,WAAWjF,IACXmF,cAAYA,MACH+0D,GAAyBl6D,EAAAA,EAAAA,CAAAA;EAGtC;AAnBA,MAqBMk6D,KAA2B,SAASl6D,IAAAA;AAExC,WADAm6D,GAAsBn6D,EAAAA,GACfo6D,GAA6Bp6D,EAAAA;EACtC;AAxBA,MA0BMm6D,KAAwB,SAASn6D,IAAAA;AAAS,QAAAq6D,IAAAC;AAC9C,QAAkC,UAAlCD,MAAIC,KAAA11D,UAAS21D,0BAAAA,WAAqBF,MAA9BA,GAAAp0D,KAAAq0D,IAAiC,sBAAA,EAEnC,QADA11D,SAAS41D,YAAY,wBAAA,OAAwB,KAAO,GAC7Cz1D,GAAY,mBAAmB,EAAEE,WAAWjF,IAASqF,gBAAAA,KAAgB,CAAA;EAEhF;AA/BA,MAiCM+0D,KAA+B,SAASp6D,IAAAA;AAAS,QAAAy6D,IAAAC;AACrD,QAAkC,UAAlCD,MAAIC,KAAA91D,UAAS21D,0BAAAA,WAAqBE,MAA9BA,GAAAx0D,KAAAy0D,IAAiC,2BAAA,GAA8B;AACjE,YAAA,EAAM17D,SAAEA,GAAAA,IAAY0V,GAAuB3V;AAC3C,UAAI,CAAE,OAAO,GAAA,EAAMoL,SAASnL,EAAAA,EAC1B,QAAO4F,SAAS41D,YAAY,6BAAA,OAAoCx7D,EAAAA;IAEpE;EACF;AAxCA,MA0EM27D,KACAjmD,GAAevT,uBACV,EACL+kC,SAAS,UACTnX,OAAO,OAAA,IAGF,EACLmX,SAAS,gBACTnX,OAAO,MAAA;AAKbja,KAA4B,eAAa,+SAAAnR,OAsBpCrF,IAAkB,qDAAA,EAAAqF,OAIlBrF,IAAkB,2HAAA,EAAAqF,OAMlBrF,IAAkB,yKAAA,EAAAqF,OAMRg3D,GAAmBz0B,SAAO,2BAAA,EAAAviC,OAC5Bg3D,GAAmB5rC,OAAK,+UAAA,CAAA;AAclC,MAAA6rC,KAAAA,oBAAAC;AAAA,MAAAC,KAAAA,oBAAAC;AAEH,MAAMC,KAAN,MAAMA;IAGJnrD,YAAY7P,IAAAA;AAAAA,UAAAA,IAAAA;AAAAA,SAAAA,KAAAA,MAAAA,KAAS86D,EAAAA,GAAAA,GAAAA,IAAAA,EAAAA,GAAAG,GAAAA,MAAAL,IAAA,EAAAM,UAAAA,MAAAx2D,OAAAA,OAAA,CAAA,GACnBxE,KAAKF,UAAUA,IACfm7D,GAAAj7D,MAAI06D,IAAc56D,GAAQo7D,gBAAAA,CAAAA;IAC5B;IAEApB,oBAAAA;AACEqB,SAAAn7D,MAAI46D,IAAAQ,EAAAA,EAAAr1D,KAAJ/F,IAAAA;IACF;IAEAq7D,uBAAAA;IACA;IAEA,IAAA,SAAIC;AACF,aAAOC,GAAAv7D,MAAI06D,EAAAA,EAAYY;IACzB;IAEA,IAAA,WAAI5F;AAAW,UAAA8F;AACb,aAAgC,UAAhCA,KAAOx7D,KAAKF,QAAQ27D,iBAAAA,WAAYD,KAAAA,SAAzBA,GAA2B9F;IACpC;IAEA,IAAA,SAAalxD,IAAAA;AACXxE,WAAKF,QAAQ47D,gBAAgB,YAAYl3D,EAAAA;IAC3C;IAEA,IAAA,WAAIm3D;AACF,aAAO37D,KAAKF,QAAQ0qB,aAAa,UAAA;IACnC;IAEA,IAAA,SAAahmB,IAAAA;AACXxE,WAAKF,QAAQ47D,gBAAgB,YAAYl3D,EAAAA,GACzC22D,GAAAn7D,MAAI46D,IAAAQ,EAAAA,EAAAr1D,KAAJ/F,IAAAA;IACF;IAEA,IAAA,WAAI47D;AACF,aAAOL,GAAAv7D,MAAI06D,EAAAA,EAAYkB;IACzB;IAEA,IAAA,oBAAIC;AACF,aAAON,GAAAv7D,MAAI06D,EAAAA,EAAYmB;IACzB;IAEA,IAAA,eAAItF;AACF,aAAOgF,GAAAv7D,MAAI06D,EAAAA,EAAYnE;IACzB;IAEA2C,aAAa10D,IAAAA;AACX22D,SAAAn7D,MAAI46D,IAAAQ,EAAAA,EAAAr1D,KAAJ/F,IAAAA;IACF;IAEAy2D,gBAAAA;AACE,aAAO8E,GAAIv7D,MAAA06D,EAAAA,EAAYjE,cAAAA;IACzB;IAEAqF,iBAAAA;AACE,aAAOP,GAAIv7D,MAAA06D,EAAAA,EAAYoB,eAAAA;IACzB;IAEAtF,kBAAkBqF,IAAAA;AAChBV,SAAAn7D,MAAI46D,IAAAQ,EAAAA,EAAAr1D,KAAJ/F,MAAe67D,EAAAA;IACjB;EAAA;AAWD,WAAAT,KAAAA;AATyC,QAA9BW,KAAuB12D,UAAAC,SAAA,KAAA,WAAAD,UAAA,CAAA,IAAAA,UAAA,CAAA,IAAG;AAClC,UAAA,EAAMs2D,UAAEA,IAAQn3D,OAAEA,GAAAA,IAAUxE,KAAKF,SAC3Bk8D,KAAeL,MAAAA,CAAan3D,IAC5By3D,KAAAA,CAAAA,CAAgBF,IAChBrxD,KAAQrC,GAAY,SAAS,EAAEszD,UAAAA,GAAAA,CAAAA,GAC/BE,KAAoBE,MAA2BrxD,GAAMmxD;AAE3DN,OAAIv7D,MAAA06D,EAAAA,EAAYwB,YAAY,EAAEF,cAAAA,IAAcC,aAAAA,GAAAA,GAAeJ,EAAAA;EAC7D;AAAC,MAAAM,KAAAA,oBAAAxB;AAAA,MAAAyB,KAAAA,oBAAAzB;AAAA,MAAA0B,KAAAA,oBAAA1B;AAGH,MAAM2B,KAAN,MAAMA;IAGJ3sD,YAAY7P,IAAAA;AAASi7D,SAAAA,MAAAoB,IAAA,EAAAnB,UAAAA,MAAAx2D,OAAAA,OAAA,CAAA,GAAAu2D,GAAAA,MAAAqB,IAAA,EAAApB,UAAAA,MAAAx2D,OAwFJmB,CAAAA,OAAAA;AACXA,QAAAA,GAAM++C,oBACN/+C,GAAME,WAAW7F,KAAKF,QAAQyT,QAClCvT,KAAKF,QAAQqY,MAAAA;MAAO,EAAA,CAAA,GACrB4iD,GAAAA,MAAAsB,IAAA,EAAArB,UAAAA,MAAAx2D,OAEgBmB,CAAAA,OAAAA;AACf,YAAIA,GAAM++C,iBAAkB;AAC5B,YAAI1kD,KAAKF,QAAQy8D,SAAS52D,GAAME,MAAAA,EAAS;AAEzC,cAAM22D,KAAQ12D,GAA2BH,GAAME,QAAQ,EAAEb,kBAAkB,QAAA,CAAA;AACtEw3D,QAAAA,MAEA7rD,MAAMC,KAAK5Q,KAAKs7D,MAAAA,EAAQrxD,SAASuyD,EAAAA,KAEtCx8D,KAAKF,QAAQo8C,MAAAA;MAAO,EAAA,CAAA,GAtGpBl8C,KAAKF,UAAUA;IACjB;IAEAg6D,oBAAAA;AACEmB,SAAAj7D,MAAIm8D,IA/KgB,SAASr8D,IAAAA;AAC/B,YAAIA,GAAQ0qB,aAAa,YAAA,KAAiB1qB,GAAQ0qB,aAAa,iBAAA,EAC7D;AAGF,cAAMjT,KAAS,WAAA;AACb,gBAAMklD,KAAQ9rD,MAAMC,KAAK9Q,GAAQw7D,MAAAA,EAAQjqD,IAAKmrD,CAAAA,OAAAA;AAC5C,gBAAA,CAAKA,GAAMD,SAASz8D,EAAAA,EAAU,QAAO08D,GAAMpzD;UAAW,CAAA,EACrD2O,OAAOvY,CAAAA,OAAQA,EAAAA,GAEZA,KAAOi9D,GAAM3qD,KAAK,GAAA;AACxB,iBAAItS,KACKM,GAAQ6I,aAAa,cAAcnJ,EAAAA,IAEnCM,GAAQ4qB,gBAAgB,YAAA;QAAA;AAInC,eADAnT,GAAAA,GACO1S,GAAY,SAAS,EAAEE,WAAWjF,IAASmF,cAAcsS,GAAAA,CAAAA;MAClE,EA4JyCvX,KAAKF,OAAAA,CAAAA,GAC1CiM,OAAO9F,iBAAiB,SAAOs1D,GAAEv7D,MAAIo8D,EAAAA,GAAAA,KAAgB,GACrDrwD,OAAO9F,iBAAiB,SAAOs1D,GAAEv7D,MAAIq8D,EAAAA,GAAAA,KAAgB;IACvD;IAEAhB,uBAAAA;AAAuB,UAAAqB;AACjBA,gBAAJA,KAAAnB,GAAAv7D,MAAIm8D,EAAAA,MAAAA,WAAAO,MAAJA,GAAoB92D,QAAAA,GACpBmG,OAAO/F,oBAAoB,SAAOu1D,GAAEv7D,MAAIo8D,EAAAA,GAAAA,KAAgB,GACxDrwD,OAAO/F,oBAAoB,SAAOu1D,GAAEv7D,MAAIq8D,EAAAA,GAAAA,KAAgB;IAC1D;IAEA,IAAA,SAAIf;AACF,YAAMA,KAAS,CAAA;AACXt7D,WAAKF,QAAQqL,MAAMnL,KAAKF,QAAQ85D,iBAClC0B,GAAO3xD,KAAAA,GAAQgH,MAAMC,KAAK5Q,KAAKF,QAAQ85D,cAAchvC,iBAAgB,cAAAnnB,OAAezD,KAAKF,QAAQqL,IAAE,IAAA,CAAA,KAAS,CAAA,CAAA,CAAA;AAG9G,YAAMqxD,KAAQ12D,GAA2B9F,KAAKF,SAAS,EAAEkF,kBAAkB,QAAA,CAAA;AAO3E,aANIw3D,MACE,CAAEx8D,KAAKF,SAAS,IAAA,EAAOmK,SAASuyD,GAAMzQ,OAAAA,KACxCuP,GAAO3xD,KAAK6yD,EAAAA,GAITlB;IACT;IAEA,IAAA,WAAI5F;AAGF,aAFAiH,QAAQC,KAAK,kFAAA,GAAA;IAGf;IAEA,IAAA,SAAap4D,IAAAA;AACXm4D,cAAQC,KAAK,kFAAA;IACf;IAEA,IAAA,WAAIjB;AAGF,aAFAgB,QAAQC,KAAK,kFAAA,GAAA;IAGf;IAEA,IAAA,SAAap4D,IAAAA;AACXm4D,cAAQC,KAAK,kFAAA;IACf;IAEA,IAAA,WAAIhB;AAEF,aADAe,QAAQC,KAAK,+EAAA,GACN;IACT;IAEA,IAAA,oBAAIf;AAGF,aAFAc,QAAQC,KAAK,wFAAA,GAEN;IACT;IAEA,IAAA,eAAIrG;AAGF,aAFAoG,QAAQC,KAAK,mFAAA,GAAA;IAGf;IAEA1D,aAAa10D,IAAAA;IACb;IAEAiyD,gBAAAA;AAGE,aAFAkG,QAAQC,KAAK,yEAAA,GAAA;IAGf;IAEAd,iBAAAA;AAGE,aAFAa,QAAQC,KAAK,0EAAA,GAAA;IAGf;IAEApG,kBAAkBqF,IAAAA;AAChBc,cAAQC,KAAK,8FAAA;IACf;EAAA;AAmBD,MAAAC,KAAAA,oBAAAlC;AAEc,MAAMmC,KAAN,cAAgC9yB,YAAAA;IAO7Cr6B,cAAAA;AACEC,YAAAA,GAAOmrD,GAAAA,MAAA8B,IAAA,EAAA7B,UAAAA,MAAAx2D,OAAAA,OAAA,CAAA,GACPy2D,GAAAj7D,MAAI68D,IAAa78D,KAAK2P,YAAYotD,iBAChC,IAAIjC,GAAyB96D,IAAAA,IAC7B,IAAIs8D,GAAet8D,IAAAA,CAAAA;IACvB;IAIA,IAAA,SAAI0tB;AACF,aAAI1tB,KAAKwqB,aAAa,SAAA,IACbxqB,KAAKqM,aAAa,SAAA,KAEzBrM,KAAK2I,aAAa,WAAA,EAAawC,EAAAA,GACxBnL,KAAK0tB;IAEhB;IAEA,IAAA,SAAI4tC;AACF,aAAOC,GAAAv7D,MAAI68D,EAAAA,EAAWvB;IACxB;IAEA,IAAA,WAAI5F;AACF,aAAO6F,GAAAv7D,MAAI68D,EAAAA,EAAWnH;IACxB;IAEA,IAAA,SAAalxD,IAAAA;AACX+2D,SAAAA,MAAIsB,EAAAA,EAAWnH,WAAWlxD;IAC5B;IAEA,IAAA,WAAIm3D;AACF,aAAOJ,GAAAv7D,MAAI68D,EAAAA,EAAWlB;IACxB;IAEA,IAAA,SAAan3D,IAAAA;AACX+2D,SAAAA,MAAIsB,EAAAA,EAAWlB,WAAWn3D;IAC5B;IAEA,IAAA,WAAIo3D;AACF,aAAOL,GAAAv7D,MAAI68D,EAAAA,EAAWjB;IACxB;IAEA,IAAA,oBAAIC;AACF,aAAON,GAAAv7D,MAAI68D,EAAAA,EAAWhB;IACxB;IAEA,IAAA,eAAItF;AACF,aAAOgF,GAAAv7D,MAAI68D,EAAAA,EAAWtG;IACxB;IAEA,IAAA,OAAIvrD;AACF,aAAOhL,KAAKg9D;IACd;IAEA,IAAA,iBAAI7F;AACgC,UAAA8F;AAAlC,UAAIj9D,KAAKwqB,aAAa,SAAA,EACpB,QAAyB,UAAzByyC,KAAOj9D,KAAK45D,kBAAAA,WAAaqD,KAAAA,SAAlBA,GAAoB3xD,eAAetL,KAAKqM,aAAa,SAAA,CAAA;AACvD,UAAIrM,KAAKD,YAAY;AAC1B,cAAMm9D,KAASz5D,gBAAAA,OAAmBzD,KAAK0tB,MAAAA;AAIvC,eAHA1tB,KAAK2I,aAAa,WAAWu0D,EAAAA,GAC7Bl9D,KAAKm9D,kBAAkB90D,GAAY,gBAAgB,EAAE8C,IAAI+xD,GAAAA,CAAAA,GACzDl9D,KAAKD,WAAWmV,aAAalV,KAAKm9D,iBAAiBn9D,IAAAA,GAC5CA,KAAKm9D;MACd;IAGF;IAEA,IAAA,OAAI5pD;AAAO,UAAA6pD;AACT,aAAA,UAAAA,KAAOp9D,KAAKy7D,iBAAAA,WAAY2B,KAAAA,SAAjBA,GAAmB7pD;IAC5B;IAEA,IAAA,eAAIkoD;AAC8B,UAAA4B;AAAhC,UAAIr9D,KAAKwqB,aAAa,OAAA,EACpB,QAAyB,UAAzB6yC,KAAOr9D,KAAK45D,kBAAAA,WAAayD,KAAAA,SAAlBA,GAAoB/xD,eAAetL,KAAKqM,aAAa,OAAA,CAAA;AACvD,UAAIrM,KAAKD,YAAY;AAC1B,cAAMu9D,KAAO75D,cAAAA,OAAiBzD,KAAK0tB,MAAAA;AACnC1tB,aAAK2I,aAAa,SAAS20D,EAAAA;AAC3B,cAAMx9D,KAAUuI,GAAY,SAAS,EAAE2C,MAAM,UAAUG,IAAImyD,GAAAA,CAAAA;AAE3D,eADAt9D,KAAKD,WAAWmV,aAAapV,IAASE,KAAKu9D,kBAAAA,GACpCz9D;MACT;IAGF;IAEA,IAAA,SAAIs3D;AAAS,UAAAoG;AACX,aAAA,UAAAA,KAAOx9D,KAAKy9D,qBAAAA,WAAgBD,KAAAA,SAArBA,GAAuBpG;IAChC;IAEA,IAAA,OAAI34D;AAAO,UAAAi/D;AACT,aAAA,UAAAA,KAAO19D,KAAKy7D,iBAAAA,WAAYiC,KAAAA,SAAjBA,GAAmBj/D;IAC5B;IAEA,IAAA,QAAI+F;AAAQ,UAAAm5D;AACV,aAAA,UAAAA,KAAO39D,KAAKy7D,iBAAAA,WAAYkC,KAAAA,SAAjBA,GAAmBn5D;IAC5B;IAEA,IAAA,MAAUo5D,IAAAA;AAAc,UAAAC;AACtB79D,WAAK49D,eAAeA,IAAAA,UACpBC,KAAA79D,KAAKo3D,WAAAA,WAAMyG,MAAXA,GAAatnB,SAASv2C,KAAK49D,YAAAA;IAC7B;IAIAE,yBAAyBr/D,IAAMojD,IAAUkc,IAAAA;AAC1B,sBAATt/D,MAAwBuB,KAAKg+D,eAA2B,QAAZnc,MAAoBA,OAAakc,MAC/EjX,sBAAsB,MAAM9mD,KAAKi+D,UAAAA,CAAAA;IAErC;IAIA5E,OAAOF,IAAStwD,IAAAA;AACd,UAAI7I,KAAKy9D,iBACP,QAAOv3D,GAAY,QAAAzC,OAAS01D,EAAAA,GAAW,EAAEp0D,WAAW/E,MAAMpB,YAAYiK,GAAAA,CAAAA;IAE1E;IAEAqwD,aAAa10D,IAAAA;AACPxE,WAAKy7D,iBACPz7D,KAAKy7D,aAAaj3D,QAAQA,IAC1B+2D,GAAAA,MAAIsB,EAAAA,EAAW3D,aAAa10D,EAAAA;IAEhC;IAIAs1D,oBAAAA;AACO95D,WAAKwqB,aAAa,oBAAA,MACrBuvC,GAAa/5D,IAAAA,GAraU,SAASF,IAAAA;AACpC,YAAA,CAAIA,GAAQ0qB,aAAa,MAAA,EAGlB1qB,CAAAA,GAAQ6I,aAAa,QAAQ,SAAA;MACtC,EAia2B3I,IAAAA,GAEhBA,KAAKy9D,qBACRv3D,GAAa,0BAA0B,EAAEnB,WAAW/E,KAAAA,CAAAA,GACpDA,KAAKy9D,mBAAmB,IAAI1G,GAAiB,EAC3CC,eAAeh3D,MACfyE,MAAMzE,KAAK49D,eAAe59D,KAAKwE,MAAAA,CAAAA,GAEjCsiD,sBAAsB,MAAM5gD,GAAa,mBAAmB,EAAEnB,WAAW/E,KAAAA,CAAAA,CAAAA,IAE3EA,KAAKy9D,iBAAiB7lD,yBAAAA,GACtB2jD,GAAAA,MAAIsB,EAAAA,EAAW/C,kBAAAA,GAEf95D,KAAK07D,gBAAgB,aAAA,IAAa,GA/dtB,SAAS57D,IAAAA;AACzB,YAAA,CAAK4E,SAAS2Q,cAAc,QAAA,KACtBvV,GAAQ0qB,aAAa,WAAA,KAAgB9lB,SAAS2Q,cAAc,aAAA,MAAmBvV,GAC1EA,CAAAA,GAAQo8C,MAAAA;MAGrB,EA0dgBl8C,IAAAA;IAEd;IAEAq7D,uBAAAA;AAAuB,UAAA6C;AACA,gBAArBA,KAAIl+D,KAACy9D,qBAAAA,WAAgBS,MAArBA,GAAuBpmD,2BAAAA,GACvByjD,GAAAA,MAAIsB,EAAAA,EAAWxB,qBAAAA,GACfr7D,KAAK07D,gBAAgB,aAAA,KAAa;IACpC;IAEAuC,YAAAA;AACEj+D,WAAKm+D,sBAAAA,GACLn+D,KAAKq7D,qBAAAA,GACLr7D,KAAK85D,kBAAAA;IACP;IAEAqE,wBAAAA;AAAwB,UAAAC;AACF,gBAApBA,KAAIp+D,KAACm9D,oBAAAA,WAAeiB,MAApBA,GAAsB57D,OAAAA,GACtBxC,KAAKm9D,kBAAkB;IACzB;IAIA1G,gBAAAA;AACE,aAAO8E,GAAIv7D,MAAA68D,EAAAA,EAAWpG,cAAAA;IACxB;IAEAqF,iBAAAA;AACE,aAAOP,GAAIv7D,MAAA68D,EAAAA,EAAWf,eAAAA;IACxB;IAEAtF,kBAAkBqF,IAAAA;AAChBN,SAAAA,MAAIsB,EAAAA,EAAWrG,kBAAkBqF,EAAAA;IACnC;IAEAwC,qBAAqB3I,IAAAA;AACf11D,WAAKy7D,iBACPz7D,KAAKy7D,aAAa/F,WAAWA,KAE/B11D,KAAK07D,gBAAgB,mBAAA,CAAoBhG,EAAAA;IAC3C;IAEA4I,oBAAAA;AACEt+D,WAAKmY,MAAAA;IACP;IAEAA,QAAAA;AACEnY,WAAKwE,QAAQxE,KAAK49D;IACpB;EAAA;AACDtqC,KAzMoBwpC,IACK,kBAAA,sBAAsB/wD,MAAAA,GAAMunB,GADjCwpC,IAGS,sBAAA,CAAE,WAAA,CAAA;AClVhC,MAAMyB,KAAO,EACXC,SAASC,IACTjqD,QAAAA,IACAkqD,MAAAA,IACAC,QAAAA,IACA//C,OAAAA,IACAggD,aAAAA,IACAC,WAAAA,IACAza,YAAAA,IACApoC,UAAAA,OAAAA,OAAAA,EAAAA,WAAAA,MAAAA,mBAAAA,IAAAA,oBAAAA,GAAAA,CAAAA,GACAq6B,SAAAA,OAAAA,OAAAA,EAAAA,WAAAA,MAAAA,QAAAA,IAAAA,yBAAAA,GAAAA,CAAAA,EAAAA;AAIF5hC,SAAOsV,OAAOw0C,IAAMI,EAAAA,GAYpB5yD,OAAOwyD,OAAOA,IACdroD,WAXA,WAAA;AACO4oD,mBAAejrD,IAAI,cAAA,KACtBirD,eAAeC,OAAO,gBAAgB/iD,EAAAA,GAGnC8iD,eAAejrD,IAAI,aAAA,KACtBirD,eAAeC,OAAO,eAAe/iD,EAAAA;EAEzC,GAGkB,CAAA;",
  "names": ["top", "bottom", "right", "left", "auto", "basePlacements", "start", "end", "clippingParents", "viewport", "popper", "reference", "variationPlacements", "placements", "beforeRead", "read", "afterRead", "beforeMain", "main", "afterMain", "beforeWrite", "write", "afterWrite", "modifierPhases", "getNodeName", "getWindow", "isElement", "getWindow", "isHTMLElement", "isShadowRoot", "applyStyles", "isHTMLElement", "getNodeName", "name", "effect", "style", "applyStyles_default", "getBasePlacement", "max", "min", "round", "getUAString", "isLayoutViewport", "getUAString", "getBoundingClientRect", "isHTMLElement", "round", "isElement", "getWindow", "isLayoutViewport", "x", "y", "getLayoutRect", "getBoundingClientRect", "contains", "isShadowRoot", "getComputedStyle", "getWindow", "isTableElement", "getNodeName", "getDocumentElement", "isElement", "getParentNode", "getNodeName", "isShadowRoot", "getDocumentElement", "getTrueOffsetParent", "isHTMLElement", "getComputedStyle", "getContainingBlock", "getUAString", "getParentNode", "isShadowRoot", "getNodeName", "getOffsetParent", "window", "getWindow", "isTableElement", "getMainAxisFromPlacement", "within", "min", "max", "withinMaxClamp", "v", "getFreshSideObject", "mergePaddingObject", "getFreshSideObject", "expandToHashMap", "arrow", "popperOffsets", "getBasePlacement", "getMainAxisFromPlacement", "left", "right", "toPaddingObject", "getLayoutRect", "top", "bottom", "getOffsetParent", "min", "max", "offset", "within", "effect", "contains", "arrow_default", "mergePaddingObject", "expandToHashMap", "basePlacements", "getVariation", "roundOffsetsByDPR", "x", "y", "round", "mapToStyles", "popper", "left", "top", "getOffsetParent", "getWindow", "getDocumentElement", "getComputedStyle", "right", "end", "bottom", "unsetSides", "computeStyles", "getBasePlacement", "getVariation", "computeStyles_default", "effect", "window", "getWindow", "passive", "eventListeners_default", "fn", "getOppositePlacement", "hash", "getOppositeVariationPlacement", "hash", "getWindowScroll", "getWindow", "getWindowScrollBarX", "getBoundingClientRect", "getDocumentElement", "getWindowScroll", "getViewportRect", "getWindow", "getDocumentElement", "x", "y", "isLayoutViewport", "getWindowScrollBarX", "getDocumentRect", "getDocumentElement", "getWindowScroll", "max", "x", "getWindowScrollBarX", "y", "getComputedStyle", "isScrollParent", "getComputedStyle", "getScrollParent", "getNodeName", "isHTMLElement", "isScrollParent", "getParentNode", "listScrollParents", "getScrollParent", "getWindow", "isScrollParent", "getParentNode", "rectToClientRect", "getInnerBoundingClientRect", "getBoundingClientRect", "getClientRectFromMixedType", "viewport", "rectToClientRect", "getViewportRect", "isElement", "getDocumentRect", "getDocumentElement", "getClippingParents", "clippingParents", "listScrollParents", "getParentNode", "getComputedStyle", "isHTMLElement", "getOffsetParent", "contains", "getNodeName", "getClippingRect", "max", "min", "computeOffsets", "reference", "getBasePlacement", "getVariation", "top", "bottom", "right", "left", "getMainAxisFromPlacement", "start", "end", "detectOverflow", "clippingParents", "viewport", "popper", "mergePaddingObject", "expandToHashMap", "basePlacements", "reference", "getClippingRect", "isElement", "getDocumentElement", "getBoundingClientRect", "popperOffsets", "computeOffsets", "rectToClientRect", "offset", "right", "bottom", "top", "computeAutoPlacement", "placements", "getVariation", "variationPlacements", "placement", "basePlacements", "detectOverflow", "getBasePlacement", "a", "b", "getExpandedFallbackPlacements", "getBasePlacement", "auto", "getOppositePlacement", "getOppositeVariationPlacement", "flip", "placements", "placement", "computeAutoPlacement", "i", "getVariation", "start", "top", "bottom", "detectOverflow", "right", "left", "_loop", "_i", "checks", "flip_default", "getSideOffsets", "isAnySideFullyClipped", "top", "right", "bottom", "left", "hide", "detectOverflow", "hide_default", "distanceAndSkiddingToXY", "offset", "getBasePlacement", "left", "top", "right", "placements", "x", "y", "offset_default", "popperOffsets", "computeOffsets", "popperOffsets_default", "getAltAxis", "preventOverflow", "detectOverflow", "getBasePlacement", "getVariation", "getMainAxisFromPlacement", "getAltAxis", "popperOffsets", "top", "left", "bottom", "right", "offset", "min", "max", "start", "getLayoutRect", "getFreshSideObject", "within", "getOffsetParent", "withinMaxClamp", "preventOverflow_default", "getHTMLElementScroll", "getNodeScroll", "getWindow", "isHTMLElement", "getWindowScroll", "getHTMLElementScroll", "isElementScaled", "round", "getCompositeRect", "isHTMLElement", "getDocumentElement", "getBoundingClientRect", "getNodeName", "isScrollParent", "getNodeScroll", "getWindowScrollBarX", "order", "orderModifiers", "modifierPhases", "debounce", "fn", "mergeByName", "merged", "areValidElements", "popperGenerator", "defaultModifiers", "defaultOptions", "DEFAULT_OPTIONS", "createPopper", "reference", "popper", "options", "isElement", "listScrollParents", "orderModifiers", "mergeByName", "m", "getCompositeRect", "getOffsetParent", "getLayoutRect", "fn", "debounce", "state", "effect", "noopFn", "defaultModifiers", "createPopper", "eventListeners_default", "popperOffsets_default", "computeStyles_default", "applyStyles_default", "popperGenerator", "defaultModifiers", "createPopper", "eventListeners_default", "popperOffsets_default", "computeStyles_default", "applyStyles_default", "offset_default", "flip_default", "preventOverflow_default", "arrow_default", "hide_default", "popperGenerator", "afterMain", "afterRead", "afterWrite", "applyStyles_default", "arrow_default", "auto", "basePlacements", "beforeMain", "beforeRead", "beforeWrite", "bottom", "clippingParents", "computeStyles_default", "createPopper", "detectOverflow", "end", "eventListeners_default", "flip_default", "hide_default", "left", "main", "modifierPhases", "offset_default", "placements", "popper", "popperGenerator", "popperOffsets_default", "preventOverflow_default", "read", "reference", "right", "start", "top", "variationPlacements", "viewport", "write", "g", "f", "exports", "load", "_", "t", "e", "n", "r", "i", "s", "u", "a", "o", "c", "f", "h", "d", "l", "$", "y", "M", "m", "v", "g", "D", "p", "S", "_", "w", "O", "b", "k", "e", "t", "n", "r", "i", "o", "s", "a", "f", "h", "u", "d", "c", "l", "m", "M", "Y", "p", "v", "D", "w", "g", "y", "L", "g", "f", "on", "fn", "i", "l", "e", "objectToString", "now", "debounce", "result", "flush", "throttle", "prettierBytes", "ii", "pattern", "prettierBytes", "global", "i", "canvasToBlob", "module", "window", "e", "self", "isBlob", "isPositiveNumber", "start", "btoa", "offset", "end", "FileReader", "URL", "Compressor", "load", "callback", "done", "next", "global", "w", "window", "indexOf", "isFunction", "isWindow", "document", "i", "version", "jQuery", "j", "arr", "_i", "a", "b", "push", "documentElement", "rquickExpr", "escape", "e", "m", "match", "tokenize", "cache", "fn", "matches", "id", "node", "start", "dir", "hash", "find", "n", "elem", "self", "l", "_", "add", "v", "value", "deferred", "process", "error", "data", "nodeName", "div", "on", "t", "tr", "name", "end", "p", "index", "length", "to", "max", "location", "s", "val", "ct", "completed", "offset", "top", "method", "type", "jQuery", "S2", "require", "define", "main", "config", "i", "j", "e", "$", "m", "decoratedMethod", "d", "k", "match", "id", "self", "s", "c", "top", "bottom", "removeItem", "_", "val", "item", "t", "params", "$e", "offset", "viewport", "l", "a", "n", "interpolate", "match", "e", "a", "s", "i", "r", "n", "o", "t", "A", "u", "f", "c", "m", "l", "d", "consumer", "error", "extend", "consumer", "s", "consumer", "s", "subscription", "a", "left", "right", "application", "error", "_", "match", "e", "fetch", "match", "oldValue", "left", "right", "_", "error", "constructor", "a", "b", "application", "logger", "element", "c", "n", "k", "v", "read", "write", "name", "style", "x", "y", "window", "min", "max", "v", "toPaddingObject", "popperOffsets", "min", "max", "offset", "effect", "x", "y", "popper", "effect", "window", "hash", "x", "y", "x", "y", "clippingParents", "reference", "popperOffsets", "offset", "placements", "placement", "a", "b", "placements", "placement", "i", "_loop", "_i", "checks", "offset", "x", "y", "popperOffsets", "offset", "min", "max", "fn", "p", "c", "self", "s", "fn", "merged", "defaultModifiers", "defaultOptions", "createPopper", "reference", "popper", "options", "m", "fn", "state", "effect", "noopFn", "BOX_CLASS", "CONTENT_CLASS", "BACKDROP_CLASS", "ARROW_CLASS", "SVG_ARROW_CLASS", "TOUCH_OPTIONS", "passive", "capture", "TIPPY_DEFAULT_APPEND_TO", "document", "body", "hasOwnProperty", "obj", "key", "call", "getValueAtIndexOrReturn", "value", "index", "defaultValue", "Array", "isArray", "v", "isType", "type", "str", "toString", "indexOf", "invokeWithArgsOrReturn", "args", "debounce", "fn", "ms", "timeout", "arg", "clearTimeout", "setTimeout", "removeProperties", "keys", "clone", "forEach", "splitBySpaces", "split", "filter", "Boolean", "normalizeToArray", "concat", "pushIfUnique", "arr", "push", "unique", "item", "getBasePlacement", "placement", "arrayFrom", "slice", "removeUndefinedProps", "Object", "reduce", "acc", "undefined", "div", "createElement", "isElement", "some", "isNodeList", "isMouseEvent", "isReferenceElement", "_tippy", "reference", "getArrayOfElements", "querySelectorAll", "setTransitionDuration", "els", "el", "style", "transitionDuration", "setVisibilityState", "state", "setAttribute", "getOwnerDocument", "elementOrElements", "element", "ownerDocument", "isCursorOutsideInteractiveBorder", "popperTreeData", "event", "clientX", "clientY", "every", "popperRect", "popperState", "props", "interactiveBorder", "basePlacement", "offsetData", "modifiersData", "offset", "topDistance", "top", "y", "bottomDistance", "bottom", "leftDistance", "left", "x", "rightDistance", "right", "exceedsTop", "exceedsBottom", "exceedsLeft", "exceedsRight", "updateTransitionEndListener", "box", "action", "listener", "method", "actualContains", "parent", "child", "target", "contains", "getRootNode", "host", "currentInput", "isTouch", "lastMouseMoveTime", "onDocumentTouchStart", "window", "performance", "addEventListener", "onDocumentMouseMove", "now", "removeEventListener", "onWindowBlur", "activeElement", "instance", "blur", "isVisible", "bindGlobalEventListeners", "isBrowser", "isIE11", "msCrypto", "createMemoryLeakWarning", "txt", "join", "clean", "spacesAndTabs", "lineStartWithSpaces", "replace", "trim", "getDevMessage", "message", "getFormattedMessage", "visitedMessages", "resetVisitedMessages", "Set", "warnWhen", "condition", "has", "add", "console", "warn", "errorWhen", "error", "validateTargets", "targets", "didPassFalsyValue", "didPassPlainObject", "prototype", "String", "pluginProps", "animateFill", "followCursor", "inlinePositioning", "sticky", "renderProps", "allowHTML", "animation", "arrow", "content", "inertia", "maxWidth", "role", "theme", "zIndex", "defaultProps", "appendTo", "aria", "expanded", "delay", "duration", "getReferenceClientRect", "hideOnClick", "ignoreAttributes", "interactive", "interactiveDebounce", "moveTransition", "onAfterUpdate", "onBeforeUpdate", "onCreate", "onDestroy", "onHidden", "onHide", "onMount", "onShow", "onShown", "onTrigger", "onUntrigger", "onClickOutside", "plugins", "popperOptions", "render", "showOnCreate", "touch", "trigger", "triggerTarget", "defaultKeys", "setDefaultProps", "partialProps", "validateProps", "getExtendedPassedProps", "passedProps", "plugin", "name", "getDataAttributeProps", "propKeys", "valueAsString", "getAttribute", "JSON", "parse", "e", "evaluateProps", "out", "prop", "nonPluginProps", "didPassUnknownProp", "length", "innerHTML", "dangerouslySetInnerHTML", "html", "createArrowElement", "className", "appendChild", "setContent", "textContent", "getChildren", "popper", "firstElementChild", "boxChildren", "children", "find", "node", "classList", "backdrop", "onUpdate", "prevProps", "nextProps", "removeAttribute", "removeChild", "$$tippy", "idCounter", "mouseMoveListeners", "mountedInstances", "createTippy", "showTimeout", "hideTimeout", "scheduleHideAnimationFrame", "isVisibleFromClick", "didHideDueToDocumentMouseDown", "didTouchMove", "ignoreOnFirstUpdate", "lastTriggerEvent", "currentTransitionEndListener", "onFirstUpdate", "listeners", "debouncedOnMouseMove", "onMouseMove", "currentTarget", "id", "popperInstance", "isEnabled", "isDestroyed", "isMounted", "isShown", "clearDelayTimeouts", "setProps", "show", "hide", "hideWithInteractivity", "enable", "disable", "unmount", "destroy", "pluginsHooks", "map", "hasAriaExpanded", "hasAttribute", "addListeners", "handleAriaExpandedAttribute", "handleStyles", "invokeHook", "scheduleShow", "getDocument", "getNormalizedTouchSettings", "getIsCustomTouchBehavior", "getIsDefaultRenderFn", "getCurrentTarget", "parentNode", "getDefaultTemplateChildren", "getDelay", "isShow", "fromHide", "pointerEvents", "hook", "shouldInvokePropsHook", "pluginHooks", "handleAriaContentAttribute", "attr", "nodes", "currentValue", "nextValue", "cleanupInteractiveMouseListeners", "onDocumentPress", "actualTarget", "composedPath", "removeDocumentPress", "onTouchMove", "onTouchStart", "addDocumentPress", "doc", "onTransitionedOut", "callback", "onTransitionEnd", "onTransitionedIn", "on", "eventType", "handler", "options", "onMouseLeave", "onBlurOrFocusOut", "removeListeners", "shouldScheduleClickHide", "isEventListenerStopped", "wasFocused", "scheduleHide", "isCursorOverReferenceOrPopper", "getNestedPopperTree", "getBoundingClientRect", "shouldBail", "relatedTarget", "createPopperInstance", "destroyPopperInstance", "computedReference", "contextElement", "tippyModifier", "enabled", "phase", "requires", "attributes", "modifiers", "padding", "adaptive", "createPopper", "mount", "nextElementSibling", "touchValue", "touchDelay", "requestAnimationFrame", "cancelAnimationFrame", "nestedPopper", "forceUpdate", "isAlreadyVisible", "isDisabled", "isTouchAndTouchDisabled", "visibility", "transition", "offsetHeight", "isAlreadyHidden", "i", "tippy", "optionalProps", "elements", "isSingleContentElement", "isMoreThanOneReferenceElement", "instances", "applyStylesModifier", "applyStyles", "effect", "state", "initialStyles", "popper", "position", "options", "strategy", "left", "top", "margin", "arrow", "reference", "Object", "assign", "elements", "style", "styles", "tippy", "setDefaultProps", "render", "error", "n", "s", "v", "Unit", "locale", "dt", "start", "end", "DefaultFormatLocalization", "i", "_", "d", "left", "right", "x", "p", "p2", "format", "m", "a", "b", "B", "match", "y", "M", "e", "template", "o", "defaultOptions", "t", "k", "config", "ActionTypes", "div", "top", "bottom", "SecondDisplay", "createPopper", "max", "arrow", "icon", "$", "l", "extend", "extend", "customDateFormat", "dayjs", "customParseFormat", "e", "i", "n", "locale", "id", "i", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "id", "m", "f", "match", "prettierBytes", "error", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "packageJson", "ee", "defaultOptions", "throttle", "fn", "error", "i", "totalProgress", "logger", "slice", "options", "vnodeId", "isValidElement", "inEvent", "rerenderQueue", "prevDebounce", "microTick", "i", "EMPTY_OBJ", "EMPTY_ARR", "IS_NON_DIMENSIONAL", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "createRef", "current", "Fragment", "diffProps", "dom", "newProps", "oldProps", "isSvg", "hydrate", "setProperty", "setStyle", "style", "value", "test", "name", "oldValue", "useCapture", "o", "cssText", "replace", "toLowerCase", "l", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "indexOf", "removeAttribute", "setAttribute", "this", "event", "Component", "context", "getDomSibling", "childIndex", "sibling", "updateParentDomPointers", "child", "base", "defer", "cb", "setTimeout", "enqueueRender", "c", "push", "process", "__r", "debounceRendering", "renderQueueLength", "component", "commitQueue", "oldVNode", "oldDom", "parentDom", "sort", "a", "b", "shift", "__P", "diff", "ownerSVGElement", "commitRoot", "diffChildren", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "excessDomChildren", "isHydrating", "j", "childVNode", "newDom", "firstChildDom", "refs", "oldChildren", "oldChildrenLength", "Array", "isArray", "reorderChildren", "placeChild", "getLastDom", "nextSibling", "unmount", "applyRef", "tmp", "toChildArray", "out", "some", "nextDom", "sibDom", "outer", "appendChild", "insertBefore", "lastDom", "newVNode", "isNew", "oldState", "snapshot", "clearProcessingException", "provider", "componentContext", "renderHook", "count", "newType", "contextType", "__E", "prototype", "render", "doRender", "sub", "state", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "forEach", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "diffElementNodes", "diffed", "root", "oldHtml", "newHtml", "nodeType", "localName", "document", "createTextNode", "createElementNS", "is", "data", "childNodes", "dangerouslySetInnerHTML", "attributes", "__html", "innerHTML", "checked", "parentVNode", "skipRemove", "r", "componentWillUnmount", "replaceNode", "firstChild", "cloneElement", "vnode", "props", "children", "key", "ref", "i", "normalizedProps", "assign", "arguments", "length", "slice", "call", "createVNode", "type", "slice", "EMPTY_ARR", "options", "__e", "error", "vnode", "oldVNode", "errorInfo", "component", "ctor", "handled", "__", "__c", "constructor", "getDerivedStateFromError", "setState", "__d", "componentDidCatch", "__E", "e", "vnodeId", "isValidElement", "inEvent", "Component", "prototype", "update", "callback", "s", "this", "__s", "state", "assign", "props", "__v", "_sb", "push", "enqueueRender", "forceUpdate", "__h", "render", "Fragment", "rerenderQueue", "microTick", "Promise", "then", "bind", "resolve", "setTimeout", "process", "__r", "i", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "debounce", "fn", "p", "div", "error", "e", "locale_default", "packageJson", "defaultOptions", "error", "locale_default", "cache", "c", "i", "packageJson", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "i", "fn", "error", "_Symbol$for", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "packageJson", "id", "s", "import_namespace_emitter", "_Symbol$for", "_Symbol$for2", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "_emitter", "ee", "e", "import_lodash", "throttle", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "_emitter", "fn", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "error", "_socket", "body", "locale_default", "_Symbol$for", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "packageJson", "start", "end", "error", "locale_default", "defaultOptions", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "createCancelError", "abortOn", "_activeRequests", "_queuedHandlers", "_paused", "_pauseTimer", "_downLimit", "_upperLimit", "_rateLimitingTimer", "_call", "_queueNext", "_next", "_queue", "_dequeue", "_resume", "_increaseLimit", "RateLimitedQueue", "_dequeue2", "_queue2", "_next2", "_queueNext2", "_call2", "i", "fn", "internalRateLimitedQueue", "getFileNameAndExtension", "import_prettier_bytes", "locale_default", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "locale_default", "defaultOptions", "RateLimitedQueue", "CompressorJS", "prettierBytes", "getFileNameAndExtension", "i", "e", "t", "s", "i", "n", "r", "a", "h", "f", "l", "o", "u", "d", "c", "p", "g", "m", "y", "b", "w", "k", "v", "O", "S", "A", "x", "C", "B", "I", "L", "T", "z", "P", "F", "j", "M", "_", "D", "N", "$", "H", "q", "ee", "e", "t", "H", "s", "i", "c", "a", "r", "n", "b", "A", "locale_default", "packageJson", "w", "h", "locale_default", "defaultOptions", "x", "console", "logger", "performance", "_", "c", "session", "Scope", "lastEventId", "session", "Scope", "Scope", "e", "error", "t", "error", "Pluralize", "jstimezonedetect", "start", "submitter", "interpolate", "match", "i", "_", "debounce", "fn", "config", "location", "left", "right", "error", "_request", "cookie", "id", "x", "y", "morphChildren", "to", "potentialMatch", "render", "defaultOptions", "session", "visit", "recentRequests", "Turbo", "document", "e", "c", "createConsumer", "m", "x", "submitter", "jquery", "$", "id", "e", "i", "attachmentSelector", "attachments", "preview", "presentation", "caption", "name", "size", "file", "attributes", "default", "tagName", "parse", "quote", "nestable", "heading1", "terminal", "breakOnReturn", "group", "code", "htmlAttributes", "text", "plaintext", "bulletList", "bullet", "listAttribute", "test", "element", "parentNode", "this", "numberList", "number", "attachmentGallery", "exclusive", "_element$tagName", "toLowerCase", "androidVersionMatch", "navigator", "userAgent", "match", "androidVersion", "parseInt", "browser$1", "composesExistingText", "recentAndroid", "samsungAndroid", "forcesObjectResizing", "supportsInputEvents", "InputEvent", "every", "prop", "prototype", "dompurify", "ADD_ATTR", "SAFE_FOR_XML", "RETURN_DOM", "lang$1", "attachFiles", "bold", "bullets", "byte", "bytes", "captionPlaceholder", "indent", "italic", "link", "numbers", "outdent", "redo", "remove", "strike", "undo", "unlink", "url", "urlPlaceholder", "GB", "KB", "MB", "PB", "TB", "sizes", "lang", "file_size_formatting", "prefix", "precision", "formatter", "concat", "base", "exp", "Math", "floor", "log", "withoutInsignificantZeros", "pow", "toFixed", "replace", "ZERO_WIDTH_SPACE", "NON_BREAKING_SPACE", "extend", "properties", "key", "value", "html", "document", "documentElement", "matches", "handleEvent", "eventName", "onElement", "matchingSelector", "withCallback", "inPhase", "preventDefault", "times", "arguments", "length", "undefined", "selector", "useCapture", "handler", "event", "destroy", "target", "findClosestElementFromNode", "call", "removeEventListener", "addEventListener", "triggerEvent", "bubbles", "cancelable", "createEvent", "initEvent", "dispatchEvent", "elementMatchesSelector", "nodeType", "node", "untilNode", "Node", "ELEMENT_NODE", "closest", "innerElementIsActive", "activeElement", "elementContainsNode", "findChildIndexOfNode", "_node", "childIndex", "previousSibling", "removeNode", "_node$parentNode", "removeChild", "walkTree", "tree", "onlyNodesOfType", "usingFilter", "expandEntityReferences", "whatToShow", "NodeFilter", "SHOW_ELEMENT", "SHOW_TEXT", "SHOW_COMMENT", "SHOW_ALL", "createTreeWalker", "makeElement", "tag", "options", "createElement", "editable", "contenteditable", "setAttribute", "style", "data", "dataset", "className", "split", "forEach", "classList", "add", "textContent", "childNodes", "childNode", "appendChild", "blockTagNames", "getBlockTagNames", "blockAttributes", "push", "nodeIsBlockContainer", "nodeIsBlockStartComment", "firstChild", "nodeIsBlockStart", "strict", "includes", "nodeIsCommentNode", "COMMENT_NODE", "nodeIsCursorTarget", "nodeIsTextNode", "trixCursorTarget", "nodeIsAttachmentElement", "nodeIsEmptyTextNode", "TEXT_NODE", "input", "level2Enabled", "getLevel", "browser", "pickFiles", "callback", "type", "multiple", "hidden", "id", "fileInputId", "files", "getElementById", "body", "click", "parser", "removeBlankTableCells", "tableCellSeparator", "tableRowSeparator", "text_attributes", "inheritable", "window", "getComputedStyle", "fontWeight", "fontStyle", "href", "groupTagName", "getAttribute", "frozen", "backgroundColor", "toolbar", "getDefaultHTML", "interval", "z", "i", "n", "a", "attachment", "attachmentCaption", "attachmentCaptionEditor", "attachmentMetadata", "attachmentMetadataContainer", "attachmentName", "attachmentProgress", "attachmentSize", "attachmentToolbar", "l", "h", "_", "c", "j", "W", "U", "V", "BasicObject", "expression", "toMethod", "toProperty", "optional", "parseProxyMethodExpression", "subject", "object", "_this$toMethod", "_object", "apply", "proxyMethodExpressionPattern", "Error", "args", "Function", "RegExp", "G", "Y", "X", "UTF16String", "box", "fromUCS2String", "toString", "ucs2String", "ucs2decode", "codepoints", "ucs2encode", "constructor", "super", "ucs2Length", "offsetToUCS2Offset", "offset", "slice", "max", "offsetFromUCS2Offset", "ucs2Offset", "fromCodepoints", "charAt", "isEqualTo", "toJSON", "getCacheKey", "hasArrayFrom", "_Array$from", "Array", "from", "hasStringCodePointAt", "_$codePointAt", "codePointAt", "hasStringFromCodePoint", "_String$fromCodePoint", "String", "fromCodePoint", "string", "map", "char", "output", "counter", "charCodeAt", "extra", "array", "result", "fromCharCode", "join", "TrixObject", "jsonString", "fromJSON", "JSON", "hasSameConstructorAs", "inspect", "parts", "contents", "contentsForInspection", "toJSONString", "stringify", "toUTF16String", "arraysAreEqual", "b", "index", "spliceArray", "_len", "_key", "splice", "RTL_PATTERN", "getDirection", "dir", "dirName", "textArea", "form", "supportsDirName", "FormData", "has", "error", "supportsDirSelector", "get", "trim", "allAttributeNames", "blockAttributeNames", "textAttributeNames", "listAttributeNames", "getAllAttributeNames", "getTextAttributeNames", "getBlockAttributeNames", "getBlockConfig", "attributeName", "config", "Object", "keys", "getTextConfig", "installDefaultCSSForTagName", "defaultCSS", "insertStyleElementForTagName", "nonce", "getCSPNonce", "head", "insertBefore", "getMetaElement", "content", "querySelector", "testTransferData", "dataTransferIsPlainText", "dataTransfer", "getData", "DOMParser", "parseFromString", "keyEventIsKeyboardCommand", "platform", "metaKey", "ctrlKey", "defer", "fn", "setTimeout", "copyObject", "objectsAreEqual", "normalizeRange", "range", "isArray", "copyValue", "rangeIsCollapsed", "start", "end", "rangeValuesAreEqual", "rangesAreEqual", "leftRange", "rightRange", "leftStart", "leftEnd", "rightStart", "rightEnd", "left", "right", "SelectionChangeObserver", "update", "bind", "selectionManagers", "started", "stop", "registerSelectionManager", "selectionManager", "unregisterSelectionManager", "filter", "sm", "notifySelectionManagersOfSelectionChange", "selectionDidChange", "reset", "selectionChangeObserver", "getDOMSelection", "selection", "getSelection", "rangeCount", "getDOMRange", "_getDOMSelection", "domRange", "getRangeAt", "domRangeIsPrivate", "setDOMRange", "removeAllRanges", "addRange", "nodeIsPrivate", "startContainer", "endContainer", "getPrototypeOf", "normalizeSpaces", "breakableWhitespacePattern", "squishBreakableWhitespace", "source", "utf16StringDifferences", "diffA", "utf16StringDifference", "utf16String", "diffB", "leftIndex", "rightIndexA", "rightIndexB", "Hash", "fromCommonAttributesOfObjects", "objects", "hash", "getKeys", "getKeysCommonToHash", "values", "copy", "merge", "unbox", "toArray", "isEmpty", "toObject", "keyToRemove", "sort", "ObjectGroup", "groupObjects", "ungroupedObjects", "depth", "asTree", "_object$canBeGrouped2", "_object$canBeGrouped", "_group$canBeGroupedWi", "_group", "canBeGrouped", "canBeGroupedWith", "getObjects", "getDepth", "ObjectMap", "find", "ElementStore", "elements", "getKey", "trixStoreKey", "Operation", "isPerforming", "performing", "hasPerformed", "performed", "hasSucceeded", "succeeded", "hasFailed", "getPromise", "promise", "Promise", "resolve", "reject", "perform", "release", "_this$promise", "_this$promise$cancel", "cancel", "proxyMethod", "ObjectView", "childViews", "rootView", "getNodes", "nodes", "createNodes", "cloneNode", "invalidate", "_this$parentView", "parentView", "invalidateViewForObject", "_this$findViewForObje", "findViewForObject", "findOrCreateCachedChildView", "viewClass", "view", "getCachedViewForObject", "recordChildView", "createChildView", "cacheViewForObject", "ObjectGroupView", "getAllChildViews", "views", "childView", "findElement", "findElementForObject", "getViewCache", "isViewCachingEnabled", "viewCache", "shouldCacheViews", "enableViewCaching", "disableViewCaching", "_this$getViewCache", "cache", "garbageCollectCachedViews", "objectKeys", "objectGroup", "getChildViews", "createContainerElement", "entries", "setPrototypeOf", "isFrozen", "getOwnPropertyDescriptor", "freeze", "seal", "create", "construct", "Reflect", "x", "fun", "thisValue", "Func", "arrayForEach", "unapply", "arrayLastIndexOf", "lastIndexOf", "arrayPop", "pop", "arrayPush", "arraySplice", "stringToLowerCase", "stringToString", "stringMatch", "stringReplace", "stringIndexOf", "indexOf", "stringTrim", "objectHasOwnProperty", "hasOwnProperty", "regExpTest", "typeErrorCreate", "func", "TypeError", "_len2", "_key2", "thisArg", "lastIndex", "addToSet", "set", "transformCaseFunc", "lcElement", "cleanArray", "clone", "newObject", "property", "lookupGetter", "desc", "ce", "t", "e", "r", "o", "s", "u", "d", "g", "m", "p", "f", "Oe", "v", "A", "y", "C", "E", "S", "R", "k", "T", "w", "re", "L", "D", "N", "I", "O", "F", "P", "M", "B", "he", "q", "H", "J", "K", "$", "Z", "Q", "tt", "et", "it", "nt", "rt", "ot", "st", "at", "lt", "ct", "ut", "ht", "dt", "gt", "mt", "pt", "ft", "bt", "vt", "At", "yt", "ye", "xt", "Ct", "Et", "St", "Rt", "kt", "Tt", "wt", "Lt", "Dt", "Nt", "It", "Ot", "be", "Ft", "Pt", "Mt", "Bt", "_t", "jt", "me", "Wt", "ke", "Vt", "Ut", "zt", "qt", "pe", "DOMPurify", "addHook", "attrName", "forceKeepAttr", "DEFAULT_ALLOWED_ATTRIBUTES", "DEFAULT_FORBIDDEN_PROTOCOLS", "DEFAULT_FORBIDDEN_ELEMENTS", "HTMLSanitizer", "sanitizedElement", "sanitize", "sanitizedHtml", "getHTML", "outerHTML", "innerHTML", "sanitizer", "allowedAttributes", "forbiddenProtocols", "forbiddenElements", "purifyOptions", "createBodyElementForHTML", "sanitizeElements", "normalizeListElementNesting", "purifyConfig", "assign", "setConfig", "getBody", "walker", "nodesToRemove", "nextNode", "currentNode", "elementIsRemovable", "sanitizeElement", "hasAttribute", "protocol", "removeAttribute", "_ref", "querySelectorAll", "listElement", "previousElement", "previousElementSibling", "elementIsForbidden", "elementIsntSerializable", "doc", "implementation", "createHTMLDocument", "css", "AttachmentView", "uploadProgressDelegate", "attachmentPiece", "piece", "createContentNodes", "innerElement", "figure", "getClassName", "getHref", "tabindex", "hasContent", "setHTML", "getContent", "createCaptionElement", "isPending", "progressElement", "class", "getUploadProgress", "trixMutable", "createCursorTarget", "figcaption", "getCaption", "captionConfig", "getCaptionConfig", "getFilename", "getFormattedFilesize", "nameElement", "createTextNode", "sizeElement", "names", "getType", "extension", "getExtension", "trixAttachment", "trixContentType", "getContentType", "trixId", "trixAttributes", "trixSerialize", "htmlContainsTagName", "_config$attachments$t", "findProgressElement", "_this$findElement", "attachmentDidChangeUploadProgress", "div", "PreviewableAttachmentView", "previewDelegate", "image", "src", "refresh", "updateAttributesForImage", "getURL", "previewURL", "getPreviewURL", "serializedAttributes", "width", "getWidth", "height", "getHeight", "storeKey", "attachmentDidChangeAttributes", "PieceView", "getAttributes", "textConfig", "context", "createAttachmentNodes", "createStringNodes", "_element", "firstElementChild", "isPreviewable", "_this$textConfig", "iterable", "substring", "preserveSpaces", "styles", "pendingElement", "styleProperty", "isLast", "isFirst", "followsWhitespace", "TextView", "pieces", "getPieces", "endsWithWhitespace", "previousPiece", "BlockView", "block", "createComment", "_getBlockConfig", "getLastAttribute", "textView", "shouldAddExtraNewlineElement", "isRTL", "getBlockBreakPosition", "DocumentView", "render", "sync", "elementStore", "setDocument", "shadowElement", "getBlocks", "isSynced", "elementsHaveEqualHTML", "fragment", "createDocumentFragmentForSync", "lastChild", "didSync", "findStoredElements", "createDocumentFragment", "storedElement", "replaceChild", "otherElement", "ignoreSpaces", "Piece", "types", "pieceJSON", "copyWithAttributes", "getValue", "copyWithAdditionalAttributes", "copyWithoutAttribute", "attribute", "getAttributesHash", "hasSameStringValueAsPiece", "hasSameAttributesAsPiece", "isBlockBreak", "isSerializable", "getLength", "canBeConsolidatedWith", "_defineProperty", "ImagePreloadOperation", "Image", "onload", "naturalWidth", "naturalHeight", "onerror", "Attachment", "attributesForFile", "setFile", "filename", "filesize", "contentType", "attachmentJSON", "releaseFile", "didChangeAttributes", "setAttributes", "newAttributes", "_this$previewDelegate", "_this$previewDelegate2", "_this$delegate", "_this$delegate$attach", "delegate", "preloadURL", "previewablePattern", "getFilesize", "_this$getFilename$mat", "getFile", "preloadFile", "releasePreloadedFile", "uploadProgress", "setUploadProgress", "_this$uploadProgressD", "_this$uploadProgressD2", "preloadingURL", "setPreviewURL", "_this$previewDelegate3", "_this$previewDelegate4", "_this$delegate2", "_this$delegate2$attac", "attachmentDidChangePreviewURL", "preload", "fileObjectURL", "URL", "createObjectURL", "revokeObjectURL", "then", "catch", "AttachmentPiece", "ensureAttachmentExclusivelyHasAttribute", "removeProhibitedAttributes", "permittedAttributes", "_piece$attachment", "json", "toConsole", "registerType", "StringPiece", "consolidateWith", "splitAtOffset", "SplittableList", "eachObject", "insertObjectAtIndex", "insertSplittableListAtIndex", "splittableList", "insertSplittableListAtPosition", "position", "splitObjectAtPosition", "editObjectAtIndex", "replaceObjectAtIndex", "removeObjectAtIndex", "getObjectAtIndex", "getSplittableListInRange", "rightIndex", "splitObjectsAtRange", "selectSplittableList", "removeObjectsInRange", "transformObjectsInRange", "transform", "transformedObjects", "rightOuterIndex", "leftInnerIndex", "startOfRange", "endOfRange", "getObjectAtPosition", "findIndexAndOffsetAtPosition", "splitIndex", "splitOffset", "leftObject", "rightObject", "consolidate", "pendingObject", "_pendingObject$canBeC", "_pendingObject", "consolidateFromIndexToIndex", "startIndex", "endIndex", "objectsInRange", "consolidatedInRange", "currentPosition", "nextPosition", "findPositionAtIndexAndOffset", "currentIndex", "getEndPosition", "endPosition", "objectArraysAreEqual", "Text", "textJSON", "notEmpty", "pieceList", "copyWithPieceList", "copyUsingObjectMap", "objectMap", "appendText", "insertTextAtPosition", "removeTextAtRange", "replaceTextAtRange", "moveTextFromRangeToPosition", "getTextAtRange", "addAttributeAtRange", "addAttributesAtRange", "removeAttributeAtRange", "setAttributesAtRange", "getAttributesAtPosition", "_this$pieceList$getOb", "getCommonAttributes", "getCommonAttributesAtRange", "getExpandedRangeForAttributeAtOffset", "getStringAtRange", "getStringAtPosition", "startsWithString", "endsWithString", "getAttachmentPieces", "getAttachments", "getAttachmentAndPositionById", "attachmentId", "getAttachmentById", "getRangeOfAttachment", "attachmentAndPosition", "updateAttributesForAttachment", "_text$pieceList", "eachPiece", "getPieceAtPosition", "toSerializableText", "Block", "blockJSON", "applyBlockBreakToText", "copyWithText", "copyWithoutText", "copyWithoutAttributes", "mappedText", "addAttribute", "expandAttribute", "addHTMLAttribute", "removeLastValue", "removeLastAttribute", "getLastElement", "getAttributeLevel", "getAttributeAtLevel", "level", "hasAttributes", "getLastNestableAttribute", "getNestableAttributes", "getNestingLevel", "decreaseNestingLevel", "increaseNestingLevel", "getListItemAttributes", "isListItem", "isTerminalBlock", "_getBlockConfig2", "breaksOnReturn", "_getBlockConfig3", "findLineBreakInDirectionFromPosition", "direction", "newlineText", "textForStringWithAttributes", "getTextWithoutBlockBreak", "textEndsInBlockBreak", "otherBlock", "otherAttributes", "otherAttribute", "getListAttributeNames", "unmarkExistingInnerBlockBreaksInText", "addBlockBreakToText", "modified", "innerPieces", "lastPiece", "unmarkBlockBreakPiece", "blockBreakText", "blockBreak", "Document", "documentJSON", "textAttributes", "blocks", "blockList", "getBlockAtIndex", "consolidateBlocks", "copyUsingObjectsFromDocument", "sourceDocument", "copyWithBaseBlockAttributes", "replaceBlock", "oldBlock", "newBlock", "insertDocumentAtRange", "locationFromPosition", "getBlockAtPosition", "mergeDocumentAtRange", "formattedDocument", "startPosition", "startLocation", "baseBlockAttributes", "getBaseBlockAttributes", "trailingBlockAttributes", "leadingBlockAttributes", "blockCount", "getBlockCount", "firstBlock", "firstText", "insertTextAtRange", "leftPosition", "rightPosition", "leftLocation", "rightLocation", "locationRangeFromRange", "leftOffset", "leftBlock", "rightOffset", "rightBlock", "leftText", "rightText", "affectedBlockCount", "getDocumentAtRange", "movingRightward", "eachBlockAtRange", "textRange", "eachBlock", "getTextAtIndex", "removeAttributeForAttachment", "setHTMLAttributeAtPosition", "updatedBlock", "insertBlockBreakAtRange", "applyBlockAttributeAtRange", "expanded", "expandRangeToLineBreaksAndSplitBlocks", "blockConfig", "removeLastListAttributeAtRange", "exceptAttributeName", "converted", "convertLineBreaksToBlockBreaksInRange", "removeBlockAttributesAtRange", "removeLastTerminalAttributeAtRange", "consolidateBlocksAtRange", "lastAttributeName", "endLocation", "startBlock", "positionFromLocation", "endBlock", "_this$getBlockAtIndex", "getTextAtPosition", "getCharacterAtPosition", "getEditCount", "editCount", "getCommonAttributesAtPosition", "attributesForBlock", "commonAttributes", "attributesLeft", "inheritableAttributes", "getRangeOfCommonAttributeAtPosition", "startOffset", "endOffset", "blockIndex", "lastAttributeIndex", "min", "attachmentPieces", "getLocationRangeOfAttachment", "getAttachmentPieceForAttachment", "findRangesForBlockAttribute", "ranges", "findRangesForTextAttribute", "withValue", "location", "locationRangeFromPosition", "rangeFromLocationRange", "locationRange", "getTexts", "toSerializableDocument", "pieceForString", "parseTrixDataAttribute", "HTMLParser", "referenceElement", "blockElements", "processedElements", "getDocument", "createHiddenContainer", "containerElement", "nodeFilter", "processNode", "translateBlockElementMarginsToNewlines", "removeHiddenContainer", "display", "nextSibling", "isInsignificantTextNode", "appendBlockForTextNode", "processTextNode", "appendBlockForElement", "processElement", "currentBlockElement", "isBlockElement", "appendStringWithAttributes", "_this$currentBlock", "getBlockAttributes", "getBlockHTMLAttributes", "currentBlock", "appendBlockForAttributesWithElement", "elementIsBlockElement", "currentBlockContainsElement", "parentBlockElement", "findParentBlockElement", "appendEmptyBlock", "parentElement", "_node$previousSibling", "elementCanDisplayPreformattedText", "stringEndsWithWhitespace", "leftTrimBreakableWhitespace", "getTextAttributes", "appendAttachmentWithAttributes", "isExtraBR", "dimensions", "needsTableSeparator", "appendPiece", "appendStringToTextAtIndex", "prependStringToTextAtIndex", "unshift", "configAttr", "attributeInheritedFromBlock", "blockElement", "findBlockElementAncestors", "attrConfig", "_attrConfig$test", "reverse", "settings", "ancestors", "stringIsAllBreakableWhitespace", "nodeEndsWithNonWhitespace", "_element$previousSibl", "defaultMargin", "getMarginOfDefaultBlockElement", "margin", "getMarginOfBlockElementAtIndex", "top", "bottom", "getBlockElementMargin", "whiteSpace", "marginTop", "marginBottom", "FILTER_REJECT", "FILTER_ACCEPT", "unserializableAttributeNames", "serializedAttributesAttribute", "serializedAttributesSelector", "blockCommentPattern", "serializers", "serializable", "HTMLElement", "el", "ManagedAttachment", "attachmentManager", "requestRemovalOfAttachment", "AttachmentManager", "managedAttachments", "manageAttachment", "attachmentIsManaged", "attachmentManagerDidRequestRemovalOfAttachment", "unmanageAttachment", "managedAttachment", "LineBreakInsertion", "composition", "selectedRange", "getSelectedRange", "previousCharacter", "nextCharacter", "shouldInsertBlockBreak", "shouldBreakFormattedBlock", "shouldDecreaseListLevel", "shouldPrependListItem", "shouldRemoveLastBlockAttribute", "Composition", "currentAttributes", "revision", "_this$delegate$compos", "refreshAttachments", "compositionDidChangeDocument", "getSnapshot", "loadSnapshot", "_this$delegate2$compo", "_this$delegate3", "_this$delegate3$compo", "compositionWillLoadSnapshot", "setSelection", "compositionDidLoadSnapshot", "insertText", "updatePosition", "notifyDelegateOfInsertionAtRange", "insertBlock", "insertDocument", "insertString", "getCurrentTextAttributes", "insertBlockBreak", "insertLineBreak", "insertion", "decreaseListLevel", "removeLastBlockAttribute", "breakFormattedBlock", "insertHTML", "replaceHTML", "getLocationRange", "insertFile", "insertFiles", "_this$delegate4", "compositionShouldAcceptFile", "attachmentForFile", "insertAttachments", "insertAttachment", "attachmentText", "textForAttachmentWithAttributes", "shouldManageDeletingInDirection", "shouldManageMovingCursorInDirection", "deleteInDirection", "deletingIntoPreviousBlock", "selectionSpansBlocks", "selectionIsCollapsed", "canDecreaseBlockAttributeLevel", "getBlock", "decreaseBlockAttributeLevel", "getExpandedRangeInDirection", "getAttachmentAtRange", "editAttachment", "moveTextFromRange", "removeAttachment", "stopEditingAttachment", "removeCurrentAttribute", "insertPlaceholder", "placeholderPosition", "getPosition", "selectPlaceholder", "setSelectedRange", "PLACEHOLDER", "forgetPlaceholder", "hasCurrentAttribute", "toggleCurrentAttribute", "setCurrentAttribute", "canSetCurrentAttribute", "canSetCurrentBlockAttribute", "canSetCurrentTextAttribute", "getSelectedDocument", "setBlockAttribute", "setTextAttribute", "notifyDelegateOfCurrentAttributesChange", "setHTMLAtributeAtPosition", "allowedHTMLAttributes", "newDocument", "removeBlockAttribute", "updateCurrentAttributes", "removeTextAttribute", "canDecreaseNestingLevel", "_this$getBlock", "canIncreaseNestingLevel", "previousBlock", "getPreviousBlock", "_this$getBlock2", "_this$getBlock3", "attributeLevel", "ignoreLock", "getCurrentAttributes", "freezeSelection", "thawSelection", "hasFrozenSelection", "_this$delegate5", "compositionDidRequestChangingSelectionToLocationRange", "getSelectionManager", "setLocationRange", "targetLocationRange", "withTargetLocationRange", "withTargetRange", "withTargetDOMRange", "createLocationRangeFromDOMRange", "translateUTF16PositionFromOffset", "editingAttachment", "moveCursorInDirection", "canEditAttachment", "expandSelectionInDirection", "expandSelectionForEditing", "expandSelectionAroundCommonAttribute", "selectionContainsAttachments", "_this$getSelectedAtta", "getSelectedAttachments", "selectionIsInCursorTarget", "positionIsCursorTarget", "locationIsCursorTarget", "positionIsBlockBreak", "_this$document$getPie", "_this$getSelectedDocu", "added", "removed", "oldArray", "newArray", "existingValues", "Set", "currentValues", "_this$delegate6", "_this$delegate6$compo", "compositionDidRemoveAttachment", "_this$delegate7", "_this$delegate7$compo", "compositionDidAddAttachment", "_this$delegate8", "_this$delegate8$compo", "compositionDidEditAttachment", "_this$delegate9", "_this$delegate9$compo", "compositionDidChangeAttachmentPreviewURL", "_this$delegate10", "_this$delegate10$comp", "compositionDidStartEditingAttachment", "_this$delegate11", "_this$delegate11$comp", "compositionDidStopEditingAttachment", "_this$delegate12", "_this$delegate12$comp", "compositionDidChangeCurrentAttributes", "_this$delegate13", "_this$delegate13$comp", "compositionDidPerformInsertionAtRange", "utf16string", "utf16position", "UndoManager", "undoEntries", "redoEntries", "recordUndoEntry", "description", "consolidatable", "previousEntry", "entryHasDescriptionAndContext", "undoEntry", "createEntry", "redoEntry", "snapshot", "canUndo", "canRedo", "entry", "BLOCK_ATTRIBUTE_NAME", "Filter", "applyBlockAttribute", "findRangesOfBlocks", "findRangesOfPieces", "moveSelectedRangeForward", "attachmentGalleryFilter", "DEFAULT_FILTERS", "Editor", "undoManager", "filters", "loadDocument", "loadHTML", "loadJSON", "getClientRectAtPosition", "getClientRectAtLocationRange", "activateAttribute", "attributeIsActive", "canActivateAttribute", "deactivateAttribute", "LocationMapper", "findLocationFromContainerAndOffset", "container", "foundBlock", "attachmentElement", "findAttachmentElementParentForNode", "rejectAttachmentContents", "nodeLength", "findContainerAndOffsetFromLocation", "nodeOffset", "findNodeAndOffsetFromLocation", "getSignificantNodesForIndex", "acceptSignificantNodes", "recordingNodes", "rejectEmptyTextNodes", "PointMapper", "createDOMRangeFromPoint", "caretPositionFromPoint", "offsetNode", "createRange", "setStart", "caretRangeFromPoint", "createTextRange", "originalDOMRange", "moveToPoint", "select", "getClientRectsForDOMRange", "getClientRects", "SelectionManager", "didMouseDown", "locationMapper", "pointMapper", "lockCount", "currentLocationRange", "lockedLocationRange", "createDOMRangeFromLocationRange", "updateCurrentLocationRange", "setLocationRangeFromPointRange", "pointRange", "getLocationAtPoint", "lock", "unlock", "clearSelection", "_getDOMRange", "collapsed", "selectionIsExpanded", "domRangeWithinElement", "pauseTemporarily", "resumeHandlers", "paused", "resume", "clearTimeout", "resumeTimeout", "_this$delegate$locati", "locationRangeDidChange", "rangeStart", "rangeEnd", "setEnd", "point", "_this$createLocationR", "ie", "keyNames", "undoable", "commands", "do", "undos", "AttachmentEditorController", "title", "trixAction", "didClickToolbar", "didClickActionButton", "textarea", "placeholder", "textareaClone", "tabIndex", "autoresize", "scrollHeight", "didInputCaption", "didKeyDownCaption", "didChangeCaption", "didBlurCaption", "editingFigcaption", "editCaption", "focus", "install", "makeElementMutable", "addToolbar", "installCaptionEditor", "uninstall", "savePendingCaption", "didUninstallAttachmentEditor", "pendingCaption", "_this$delegate3$attac", "attachmentEditorDidRequestUpdatingAttributesForAttachment", "attachmentEditorDidRequestRemovingAttributeForAttachment", "stopPropagation", "attachmentEditorDidRequestRemovalOfAttachment", "_this$delegate5$attac", "keyCode", "attachmentEditorDidRequestDeselectingAttachment", "CompositionController", "didFocus", "didBlur", "didClickAttachment", "documentView", "_this$blurPromise", "focused", "compositionControllerDidFocus", "blurPromise", "compositionControllerDidBlur", "findAttachmentForElement", "compositionControllerDidSelectAttachment", "getSerializableElement", "isEditingAttachment", "_this$delegate4$compo", "_this$delegate5$compo", "canSyncDocumentView", "compositionControllerWillSyncDocumentView", "compositionControllerDidSyncDocumentView", "compositionControllerDidRender", "rerenderViewForObject", "refreshViewCache", "attachmentEditor", "installAttachmentEditorForAttachment", "_this$attachmentEdito", "uninstallAttachmentEditor", "_this$attachmentEdito2", "compositionControllerWillUpdateAttachment", "compositionControllerDidRequestRemovalOfAttachment", "compositionControllerDidRequestDeselectingAttachment", "Controller", "mutableAttributeName", "mutableSelector", "childList", "characterData", "characterDataOldValue", "subtree", "MutationObserver", "didMutate", "observer", "observe", "disconnect", "mutations", "_this$delegate$elemen", "findSignificantMutations", "elementDidMutate", "getMutationSummary", "mutation", "mutationIsSignificant", "nodeIsMutable", "nodesModifiedByMutation", "nodeIsSignificant", "addedNodes", "removedNodes", "getTextMutationSummary", "additions", "deletions", "getTextChangesFromCharacterData", "textChanges", "getTextChangesFromChildList", "addition", "summary", "textAdded", "deleted", "textDeleted", "getMutationsByType", "textRemoved", "getTextForNodes", "characterMutations", "startMutation", "endMutation", "summarized", "oldString", "newString", "oldValue", "FileVerificationOperation", "reader", "FileReader", "abort", "readAsArrayBuffer", "FlakyAndroidKeyboardDetector", "shouldIgnore", "previousEvent", "checkSamsungKeyboardBuggyModeStart", "checkSamsungKeyboardBuggyModeEnd", "buggyMode", "insertingLongTextAfterUnidentifiedChar", "differsInWhitespace", "innerText", "inputType", "_this$event$data", "isBeforeInputInsertText", "previousEventWasUnidentifiedKeydown", "_this$previousEvent", "_this$previousEvent2", "text1", "text2", "normalize", "whiteSpaceNormalizerRegexp", "InputController", "mutationObserver", "flakyKeyboardDetector", "events", "handlerFor", "mutationSummary", "editorWillSyncDocumentView", "editorDidSyncDocumentView", "requestRender", "_this$delegate$inputC", "inputControllerDidRequestRender", "requestReparse", "_this$delegate2$input", "inputControllerDidRequestReparse", "operations", "all", "handleInput", "_this$responder", "inputControllerWillAttachFiles", "responder", "defaultPrevented", "inputControllerWillHandleInput", "inputControllerDidHandleInput", "createLinkHTML", "pastedFileCount", "Level0InputController", "resetInputSummary", "setInputSummary", "inputSummary", "isComposing", "inputControllerDidAllowUnhandledInput", "mutationIsExpected", "preferDocument", "mutationAdditionMatchesSummary", "mutationDeletionMatchesSummary", "didDelete", "unexpectedNewlineAddition", "unexpectedNewlineDeletion", "_this$compositionInpu", "textChanged", "composedEmptyString", "compositionInput", "getEndData", "getCompositionInput", "CompositionInput", "isEnded", "_this$responder2", "serializeSelectionToDataTransfer", "_this$responder3", "setData", "canAcceptDataTransfer", "Files", "getPastedHTMLUsingHiddenElement", "pageXOffset", "pageYOffset", "opacity", "requestAnimationFrame", "keydown", "didInput", "keyName", "_context2", "modifier", "_context", "character", "inputControllerDidReceiveKeyboardCommand", "keypress", "altKey", "stringFromKeyEvent", "_this$responder9", "inputControllerWillPerformTyping", "textInput", "toUpperCase", "_this$responder10", "dragenter", "dragstart", "_this$delegate5$input", "draggedRange", "inputControllerDidStartDrag", "dragover", "draggingPoint", "clientX", "clientY", "_this$delegate6$input", "inputControllerDidReceiveDragOverPoint", "dragend", "_this$delegate7$input", "inputControllerDidCancelDrag", "drop", "_event$dataTransfer", "_this$responder11", "_this$responder12", "inputControllerWillMoveText", "_this$responder13", "fromJSONString", "cut", "_this$responder14", "clipboardData", "inputControllerWillCutText", "_this$responder15", "paste", "clipboard", "testClipboardData", "pasteEventIsCrippledSafariHTMLPaste", "_this$responder16", "inputControllerWillPaste", "inputControllerDidPaste", "_this$responder17", "_this$delegate14", "_this$responder18", "_this$delegate15", "_this$delegate16", "_this$responder19", "_this$delegate17", "_clipboard$items", "_clipboard$items$getA", "items", "getAsFile", "_this$delegate18", "_this$responder20", "_this$delegate19", "extensionForFile", "compositionstart", "compositionupdate", "compositionend", "beforeinput", "backspace", "_this$delegate20", "delete", "_this$delegate21", "return", "_this$delegate22", "_this$responder21", "tab", "_this$responder22", "_this$responder23", "_this$responder24", "_this$responder25", "control", "_this$delegate23", "_this$delegate24", "_this$delegate25", "_this$responder26", "shift", "_this$delegate26", "_this$responder27", "_this$responder28", "_this$responder29", "alt", "_this$delegate27", "meta", "_this$delegate28", "_file$type", "which", "charCode", "hasPasteboardFlavor", "hasReadableDynamicData", "isExternalHTMLPaste", "isExternalRichTextPaste", "inputController", "isSignificant", "_this$responder5", "_this$responder4", "canApplyToDocument", "_this$responder6", "_this$responder7", "_this$responder8", "_this$data$start", "_this$data$end", "Level2InputController", "scheduledRender", "composing", "reparse", "scheduleRender", "_this$afterRender", "cancelAnimationFrame", "afterRender", "toggleAttributeIfSupported", "inputControllerWillPerformFormatting", "activateAttributeIfSupported", "getTargetDOMRange", "minLength", "_this$event$getTarget", "_this$event", "targetRanges", "getTargetRanges", "staticRangeToRange", "withEvent", "command", "keyboardCommandFromKeyEvent", "shiftKey", "_event$clipboardData", "pasteEventHasFilesOnly", "pasteEventHasPlainTextOnly", "inputTypes", "immmediateRender", "inputEvent", "dragging", "pointFromEvent", "dragEventHasFiles", "ArrowLeft", "ArrowRight", "Backspace", "Tab", "deleteByComposition", "deleteByCut", "deleteByDrag", "deleteByDragRange", "deleteCompositionText", "deleteContent", "deleteContentBackward", "deleteContentForward", "deleteEntireSoftLine", "deleteHardLineBackward", "deleteHardLineForward", "deleteSoftLineBackward", "deleteSoftLineForward", "deleteWordBackward", "deleteWordForward", "formatBackColor", "formatBold", "formatFontColor", "formatFontName", "formatIndent", "formatItalic", "formatJustifyCenter", "formatJustifyFull", "formatJustifyLeft", "formatJustifyRight", "formatOutdent", "formatRemove", "_this$responder30", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatStrikeThrough", "formatSubscript", "formatSuperscript", "formatUnderline", "historyRedo", "inputControllerWillPerformRedo", "historyUndo", "inputControllerWillPerformUndo", "insertCompositionText", "insertFromComposition", "insertFromDrop", "_this$responder31", "insertFromPaste", "_this$responder32", "_this$responder33", "processableFilePaste", "_this$responder34", "_this$responder35", "insertFromYank", "insertLink", "insertOrderedList", "insertParagraph", "_this$responder36", "insertReplacementText", "replacement", "_this$event$dataTrans", "insertTranspose", "insertUnorderedList", "staticRange", "_event$dataTransfer$f", "attributeButtonSelector", "actionButtonSelector", "toolbarButtonSelector", "dialogSelector", "activeDialogSelector", "dialogButtonSelector", "dialogInputSelector", "getInputForDialog", "getAttributeName", "getActionName", "ToolbarController", "didClickAttributeButton", "didClickDialogButton", "didKeyDownDialogInput", "actions", "resetDialogInputs", "toolbarDidClickButton", "actionName", "getDialog", "toggleDialog", "toolbarDidInvokeAction", "toolbarDidToggleAttribute", "refreshAttributeButtons", "dialogElement", "dialog", "hideDialog", "updateActions", "refreshActionButtons", "eachActionButton", "disabled", "updateAttributes", "eachAttributeButton", "dialogIsVisible", "applyKeyboardCommand", "keyString", "button", "buttonKeys", "dialogName", "showDialog", "toolbarWillShowDialog", "disabledInput", "toolbarDidShowDialog", "willValidate", "setCustomValidity", "checkValidity", "isSafeAttribute", "toolbarDidUpdateAttribute", "isValidAttribute", "toolbarDidRemoveAttribute", "toolbarDidHideDialog", "EditorController", "editorElement", "compositionController", "toolbarController", "toolbarElement", "editor", "notifyEditorElement", "handlingInput", "updateCurrentActions", "pasting", "pastedRange", "attachmentLocationRange", "loadingSnapshot", "isFocused", "requestedLocationRange", "compositionRevisionWhenLocationRangeRequested", "renderedCompositionRevision", "runEditorFilters", "isFocusedInvisibly", "requestedRender", "recordTypingUndoEntry", "recordFormattingUndoEntry", "locationRangeBeforeDrag", "invokingElement", "invokeAction", "selectionFrozen", "canInvokeAction", "actionIsExternal", "_this$actions$actionN", "_this$actions$actionN2", "getCurrentActions", "currentActions", "snapshotsAreEqual", "updateInputElement", "serializer", "setFormValue", "message", "documentChangedSinceLastRender", "notify", "getUndoContext", "getLocationContext", "getTimeContext", "Date", "getTime", "_this$editorElement$o", "ownerDocument", "TrixToolbarElement", "connectedCallback", "makeEditable", "configureContentEditable", "disableObjectResizing", "setDefaultParagraphSeparator", "_document$queryComman", "_document", "queryCommandSupported", "execCommand", "_document$queryComman2", "_document2", "cursorTargetStyles", "_internals", "WeakMap", "_validate", "WeakSet", "ElementInternalsDelegate", "_classPrivateFieldInitSpec", "writable", "_classPrivateFieldSet", "attachInternals", "_classPrivateMethodGet", "_validate2", "disconnectedCallback", "labels", "_classPrivateFieldGet", "_this$element$inputEl", "inputElement", "toggleAttribute", "required", "validity", "validationMessage", "reportValidity", "customValidationMessage", "valueMissing", "customError", "setValidity", "_focusHandler", "_resetBubbled", "_clickBubbled", "LegacyDelegate", "contains", "label", "texts", "_classPrivateFieldGet2", "console", "warn", "_delegate", "TrixEditorElement", "formAssociated", "localName", "_this$ownerDocument", "toolbarId", "internalToolbar", "_this$inputElement", "_this$ownerDocument2", "inputId", "nextElementSibling", "_this$editorControlle", "editorController", "_this$inputElement2", "_this$inputElement3", "defaultValue", "_this$editor", "attributeChangedCallback", "newValue", "isConnected", "reconnect", "_this$editorControlle2", "removeInternalToolbar", "_this$internalToolbar", "formDisabledCallback", "formResetCallback", "Trix", "VERSION", "version", "core", "models", "controllers", "observers", "customElements", "define"]
}
